<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>37c88107679d36c419572732b4af6e18bb2f7dce - platform/system/bt - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://accounts.google.com/AccountChooser?service=gerritcodereview&amp;continue=https://android.googlesource.com/login/platform/system/bt/%2B/37c88107679d36c419572732b4af6e18bb2f7dce">Sign in</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">android</a> / <a class="Breadcrumbs-crumb" href="/platform/">platform</a> / <a class="Breadcrumbs-crumb" href="/platform/system/">system</a> / <a class="Breadcrumbs-crumb" href="/platform/system/bt/">bt</a> / <span class="Breadcrumbs-crumb">37c88107679d36c419572732b4af6e18bb2f7dce</span></div><div class="u-monospace Metadata"><table><tr><th class="Metadata-title">commit</th><td>37c88107679d36c419572732b4af6e18bb2f7dce</td><td><span>[<a href="/platform/system/bt/+log/37c88107679d36c419572732b4af6e18bb2f7dce">log</a>]</span> <span>[<a href="/platform/system/bt/+archive/37c88107679d36c419572732b4af6e18bb2f7dce.tar.gz">tgz</a>]</span></td></tr><tr><th class="Metadata-title">author</th><td>Ajay Panicker &lt;apanicke@google.com&gt;</td><td>Thu Mar 17 17:09:24 2016 -0700</td></tr><tr><th class="Metadata-title">committer</th><td>The Android Automerger &lt;android-build@google.com&gt;</td><td>Fri May 27 11:31:41 2016 -0700</td></tr><tr><th class="Metadata-title">tree</th><td><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/">dcb02a04f755b49d2e86f1a8f0185af16c2ced9d</a></td></tr><tr><th class="Metadata-title">parent</th><td><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E">158910b4aaf2a72babdb4bf4176377c3de50b017</a> <span>[<a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E%21/">diff</a>]</span></td></tr></table></div><pre class="u-pre u-monospace MetadataMessage">Add guest mode functionality (2/3)

Add a flag to enable() to start Bluetooth in restricted
mode. In restricted mode, all devices that are paired during
restricted mode are deleted upon leaving restricted mode.
Right now restricted mode is only entered while a guest
user is active.

Bug: 27410683
Change-Id: <a href="https://android-review.googlesource.com/#/q/I8f23d28ef0aa3a8df13d469c73005c8e1b894d19">I8f23d28ef0aa3a8df13d469c73005c8e1b894d19</a>
</pre><ul class="DiffTree"><li><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/btif/include/btif_api.h">btif/include/btif_api.h</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E%21/#F0">diff</a>]</span></li><li><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/btif/include/btif_storage.h">btif/include/btif_storage.h</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E%21/#F1">diff</a>]</span></li><li><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/btif/src/bluetooth.c">btif/src/bluetooth.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E%21/#F2">diff</a>]</span></li><li><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/btif/src/btif_config.c">btif/src/btif_config.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E%21/#F3">diff</a>]</span></li><li><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/btif/src/btif_storage.c">btif/src/btif_storage.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E%21/#F4">diff</a>]</span></li><li><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/test/bluedroidtest/bluedroidtest.c">test/bluedroidtest/bluedroidtest.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E%21/#F5">diff</a>]</span></li><li><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/test/suite/cases/adapter.c">test/suite/cases/adapter.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E%21/#F6">diff</a>]</span></li><li><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/test/suite/main.c">test/suite/main.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E%21/#F7">diff</a>]</span></li><li><a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/tools/bdtool/bdtool.c">tools/bdtool/bdtool.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce%5E%21/#F8">diff</a>]</span></li></ul><div class="DiffSummary">9 files changed</div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: dcb02a04f755b49d2e86f1a8f0185af16c2ced9d</div><ol class="FileList"><li class="FileList-item FileList-item--regularFile" title="Regular file - Android.mk"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/Android.mk">Android.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - CleanSpec.mk"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/CleanSpec.mk">CleanSpec.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - MODULE_LICENSE_APACHE2"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/MODULE_LICENSE_APACHE2">MODULE_LICENSE_APACHE2</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - NOTICE"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/NOTICE">NOTICE</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - audio_a2dp_hw/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/audio_a2dp_hw/">audio_a2dp_hw/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - bta/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/bta/">bta/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - btcore/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/btcore/">btcore/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - btif/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/btif/">btif/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - conf/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/conf/">conf/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - device/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/device/">device/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - doc/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/doc/">doc/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - embdrv/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/embdrv/">embdrv/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - gki/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/gki/">gki/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - hci/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/hci/">hci/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - include/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/include/">include/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - main/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/main/">main/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - osi/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/osi/">osi/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - profile/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/profile/">profile/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - stack/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/stack/">stack/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - test/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/test/">test/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - tools/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/tools/">tools/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - udrv/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/udrv/">udrv/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - utils/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/utils/">utils/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - vnd/"><a class="FileList-itemLink" href="/platform/system/bt/+/37c88107679d36c419572732b4af6e18bb2f7dce/vnd/">vnd/</a></li></ol></div></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>