<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs - Announcements - The Atlassian Developer Community</title>
    <meta name="description" content="[Update May 7 2021] - Please upgrade to Atlassian Connect Spring Boot 2.1.5 or later, 2.1.4 regressed on the fix introduced in 2.1.3


What is changing?
Atlassian is making a breaking API change to Atlassian Connect in &amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta7 - https://github.com/discourse/discourse version 436edbb51a15c634e65c0d7cdccdb4ce9aecd8f1">
<link rel="icon" type="image/png" href="https://aws1.discourse-cdn.com/atlassiandeveloper/optimized/3X/9/b/9b7caf4ff407e5b9be2ead71114084dea36b6a1d_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="https://aws1.discourse-cdn.com/atlassiandeveloper/optimized/3X/7/8/78672baa5ba80cd9164376457051d0eec038b082_2_180x180.png">
<meta name="theme-color" content="#0052CC">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://community.developer.atlassian.com","potentialAction":{"@type":"SearchAction","target":"https://community.developer.atlassian.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://community.developer.atlassian.com/opensearch.xml" title="The Atlassian Developer Community Search">

      <link href="https://sea1.discourse-cdn.com/atlassiandeveloper/stylesheets/desktop_eb1637b6a34702912c879f7813faccc3c25a03af.css?__ws=community.developer.atlassian.com" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="https://sea1.discourse-cdn.com/atlassiandeveloper/stylesheets/desktop_theme_11_1d173d7bbc2ad8951f4ddf878bfddf004b2a0789.css?__ws=community.developer.atlassian.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="11" data-theme-name="custom header links"/>
<link href="https://sea1.discourse-cdn.com/atlassiandeveloper/stylesheets/desktop_theme_16_1da28cf8adae90177ae2fc4824ceed0da5b36813.css?__ws=community.developer.atlassian.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="16" data-theme-name="nav links component"/>
<link href="https://sea1.discourse-cdn.com/atlassiandeveloper/stylesheets/desktop_theme_2_8e2b2a7a1585268007c5d53b6d3fbe04d4d7a4a0.css?__ws=community.developer.atlassian.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="dac style"/>
<link href="https://sea1.discourse-cdn.com/atlassiandeveloper/stylesheets/desktop_theme_8_d91c911078592fd135f00a1e90a1c562fb5adbd1.css?__ws=community.developer.atlassian.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8" data-theme-name="simple header links"/>
<link href="https://sea1.discourse-cdn.com/atlassiandeveloper/stylesheets/desktop_theme_7_038538934592f196ffcfefc683250faadaff7a48.css?__ws=community.developer.atlassian.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="7" data-theme-name="default"/>
    <!-- Google Analytics -->
<script type="text/plain" class="optanon-category-4">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

var googleAnalyticsExtraOptions = {};
if (Discourse.User.current()) {
  googleAnalyticsExtraOptions = {
    userId: Discourse.User.current().id
  };
}
ga('create', 'UA-6032469-43', 'auto', googleAnalyticsExtraOptions);
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

<!-- Pingdom performance monitoring -->
<script type="text/plain" class="optanon-category-2">
var _prum = [['id', '58aadbf1ba561a47d2ccfe7c'],
             ['mark', 'firstbyte', (new Date()).getTime()]];
(function() {
    var s = document.getElementsByTagName('script')[0]
      , p = document.createElement('script');
    p.async = 'async';
    p.src = '//rum-static.pingdom.net/prum.min.js';
    s.parentNode.insertBefore(p, s);
})();
</script>

<!-- OneTrust Cookies Consent Notice start -->
<script src="https://cdn.cookielaw.org/consent/141bbadf-8293-4d74-9552-81ec52e16c66.js" type="text/javascript" charset="UTF-8"></script>

<!-- OneTrust Cookies Consent Notice end -->

<script type="text/javascript" src="https://atl-global.atlassian.com/js/atl-global.min.js"></script>

<script src="https://sea1.discourse-cdn.com/atlassiandeveloper/theme-javascripts/7acb71b1f0ab1b89735fceb152da1868f028b0aa.js?__ws=community.developer.atlassian.com"></script>

<script src="https://sea1.discourse-cdn.com/atlassiandeveloper/theme-javascripts/e1b9266f6a4ff3d715255a66105a8da3b8561f39.js?__ws=community.developer.atlassian.com"></script>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs&#39;" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072.rss" />
    <meta property="og:site_name" content="The Atlassian Developer Community" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/7/3/73178ef46472739f45330a59b63d911366b91fd0.png" />
<meta property="og:image" content="https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/7/3/73178ef46472739f45330a59b63d911366b91fd0.png" />
<meta property="og:url" content="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072" />
<meta name="twitter:url" content="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072" />
<meta property="og:title" content="Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs" />
<meta name="twitter:title" content="Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs" />
<meta property="og:description" content="[Update May 7 2021] - Please upgrade to Atlassian Connect Spring Boot 2.1.5 or later, 2.1.4 regressed on the fix introduced in 2.1.3   What is changing? Atlassian is making a breaking API change to Atlassian Connect in Jira and Confluence Cloud to mitigate a vulnerability in the verification of the qsh claim in Connect JWT authentication.   Is my app impacted? If your app uses an authentication descriptor setting other than none, then it’s highly likely your app is impacted and will need to be ..." />
<meta name="twitter:description" content="[Update May 7 2021] - Please upgrade to Atlassian Connect Spring Boot 2.1.5 or later, 2.1.4 regressed on the fix introduced in 2.1.3   What is changing? Atlassian is making a breaking API change to Atlassian Connect in Jira and Confluence Cloud to mitigate a vulnerability in the verification of the qsh claim in Connect JWT authentication.   Is my app impacted? If your app uses an authentication descriptor setting other than none, then it’s highly likely your app is impacted and will need to be ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="13 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="82 ❤" />
<meta property="article:published_time" content="2021-04-14T03:02:17+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072?page=2">

    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs","mainEntity":{"@type":"Question","name":"Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs","text":"[Update May 7 2021] - Please upgrade to Atlassian Connect Spring Boot 2.1.5 or later, 2.1.4 regressed on the fix introduced in 2.1.3\n\n<a name=\"what-is-changing\" class=\"anchor\" href=\"#what-is-changing\"><\/a>What is changing?\n\nAtlassian is making a breaking API change to Atlassian Connect in Jira and Confluence Cloud to mitigate a vulnerability in the verification of the&hellip;","upvoteCount":10,"answerCount":0,"dateCreated":"2021-04-14T03:02:17.254Z","author":{"@type":"Person","name":"Joe Clark"}}}</script>
  </head>
  <body class="crawler">
    
<!--
<div id="top-navbar" class="container">
<span id="top-navbar-links" style="display:none;">
  <a href="https://developer.atlassian.com/" class="dow-menu" id="documentation"><span id="docs-text">Documentation</span></a>
 
  -->
  
  <!-- <a href="https://ecosystem.atlassian.net/servicedesk/customer/portal/14" class="dow-menu" id="devhelp"><span id="docs-text">Dev Support</span></a> -->
  <!-- <a href="#" class="dow-menu" id="feedback"><span id="docs-text">Give us Feedback</span></a> -->

<!--
</span>
</div>
-->
<!--<script type="text/javascript" src="https://ecosystem.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/g9hkbg/b/c/ced29afba244973b16a7e99d069f29b8/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&amp;collectorId=b70c4890"></script>

    <script type="text/javascript">window.ATL_JQ_PAGE_PROPS =  {
	"triggerFunction": function(showCollectorDialog) {
		//Requires that jQuery is available! 
		jQuery("#feedback").click(function(e) {
			e.preventDefault();
			showCollectorDialog();
		});
	}};</script>-->

    <header>
      <a href="/">
          <img src="https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png" alt="The Atlassian Developer Community" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://community.developer.atlassian.com/c/announcements/22" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #FFFFFF'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Announcements</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='https://community.developer.atlassian.com/tag/jira-cloud' class='discourse-tag' rel="tag">jira-cloud</a>, 
            <a href='https://community.developer.atlassian.com/tag/confluence-cloud' class='discourse-tag' rel="tag">confluence-cloud</a>, 
            <a href='https://community.developer.atlassian.com/tag/jwt' class='discourse-tag' rel="tag">jwt</a>, 
            <a href='https://community.developer.atlassian.com/tag/atlassian-connect' class='discourse-tag' rel="tag">atlassian-connect</a>, 
            <a href='https://community.developer.atlassian.com/tag/security' class='discourse-tag' rel="tag">security</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/HeyJoe'><span itemprop='name'>HeyJoe</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-14T03:02:17Z' class='post-time'>
                April 14, 2021,  3:02am
              </time>
              <meta itemprop='dateModified' content='2021-05-07T02:18:36Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <ul>
<li>[Update May 7 2021] - Please upgrade to Atlassian Connect Spring Boot 2.1.5 or later, 2.1.4 regressed on the fix introduced in 2.1.3</li>
</ul>
<h2>
<a name="what-is-changing" class="anchor" href="#what-is-changing"></a>What is changing?</h2>
<p>Atlassian is making a breaking API change to Atlassian Connect in Jira and Confluence Cloud to mitigate a vulnerability in the verification of the qsh claim in Connect JWT authentication.</p>
<h2>
<a name="is-my-app-impacted" class="anchor" href="#is-my-app-impacted"></a>Is my app impacted?</h2>
<p>If your app uses an <a href="https://developer.atlassian.com/cloud/jira/platform/connect-app-descriptor/#authentication">authentication descriptor setting</a> <strong>other than</strong> none, then it’s highly likely your app is impacted and will need to be updated.</p>
<p>This vulnerability affects apps regardless of how they are installed; apps listed on the Marketplace and apps installed via the UPM “dev mode” <strong>are affected</strong> .</p>
<p>If your app does not use <strong>context JWTs</strong> (see below), you <strong>must still opt-in</strong> to the breaking changes as soon as possible.</p>
<p>Apps running on Bitbucket Connect are <strong>not affected</strong> .</p>
<h2>
<a name="why-is-it-changing" class="anchor" href="#why-is-it-changing"></a>Why is it changing?</h2>
<p>When Atlassian makes a request from Jira or Confluence to a Connect app there’s two forms of authentication that are used depending on how the app is embedded in the products:</p>
<ol>
<li>
<strong>An iframe or server-to-server JWT</strong> : For <a href="https://developer.atlassian.com/cloud/jira/platform/about-connect-modules-for-jira/">Connect modules</a> (web pages, web panels, etc) and lifecycle hooks</li>
<li>
<strong>A context JWT</strong> : For securely passing product UI context to an app’s server as described in the <a href="https://developer.atlassian.com/cloud/confluence/cacheable-app-iframes-for-connect-apps/">cacheable app iframes guide</a>.</li>
</ol>
<p>Connect apps are expected to validate these tokens to verify the authenticity of the request. The verified JWT will tell the app which user is interacting with the app, which part of the app they’re interacting with, and the context for where the app is embedded inside Jira or Confluence.</p>
<p>Because <strong>iframe JWTs</strong> are exposed to end users, they contain a qsh (query string claim) that provides a way for Connect apps to validate that the app URL and query string haven’t been tampered with. <strong>Context JWTs</strong> do not contain a qsh claim, and are free to be used against any app endpoint. This is problematic as:</p>
<ol>
<li>The <a href="https://developer.atlassian.com/cloud/confluence/understanding-jwt/">Connect JWT specification</a> does not clearly document how apps should handle <strong>iframe JWTs</strong> and <strong>context JWTs</strong> differently (as the difference between them is subtle).</li>
<li>Some apps, and app frameworks, may accept <strong>context JWTs</strong> in the place of <strong>iframe JWTs</strong> which may bypass the URL tampering checks described above.</li>
</ol>
<h2>
<a name="what-do-i-need-to-do" class="anchor" href="#what-do-i-need-to-do"></a>What do I need to do?</h2>
<p>We advise vendors to follow the <a href="https://developer.atlassian.com/platform/marketplace/app-security-incident-management-guidelines/">app incident management guidelines</a> if you determine exploitation of the vulnerability within your environment.</p>
<p>To prevent <strong>context JWTs</strong> from being accepted by default for any app endpoint, Atlassian is planning to add qsh claims to <strong>context JWTs</strong> for all apps by Jun 7, 2021. As soon as possible, we ask that you that follow the instructions below to ensure your app is compliant with these changes.</p>
<h3>
<a name="running-an-atlassian-supported-connect-framework" class="anchor" href="#running-an-atlassian-supported-connect-framework"></a>Running an Atlassian-supported Connect framework</h3>
<ol>
<li>Update <a href="https://bitbucket.org/atlassian/atlassian-connect-spring-boot/src/master/">Atlassian Connect Spring Boot</a>, or <a href="https://bitbucket.org/atlassian/atlassian-connect-express/src">Atlassian Connect Express</a> to the latest version; and</li>
</ol>
<ul>
<li>[Update May 7 2021] - Please upgrade to Atlassian Connect Spring Boot 2.1.5 or later, 2.1.4 regressed on the fix introduced in 2.1.3</li>
</ul>
<ol start="2">
<li>Opt-in to the updated <strong>context JWTs</strong> by adding a new context-qsh element to the apiMigrations section of the app descriptor.†</li>
<li>Update your app endpoints that are designed to work with <strong>context JWTs</strong> to accept a static qsh of context-qsh‡</li>
<li>We <strong>strongly recommend</strong> having separate endpoints for each type of JWT. To avoid subverting qsh iframe validation you should not accept both <strong>context JWTs</strong> and <strong>iframe JWTs</strong> on a single endpoint.</li>
<li>The qsh enforcement in these new framework versions is backwards compatible, so the change will work with both tenants that have the updated qsh <strong>context JWTs</strong> and tenants that are yet to upgrade your app</li>
<li>Test and deploy your app.</li>
</ol>
<p>† Your descriptor should look like this:</p>
<pre><code class="lang-auto">...
  "apiMigrations": {
     "context-qsh": true
  }
...
</code></pre>
<p>‡ for Atlassian Connect Express set skipQshVerification by passing true to addon.authenticate. This will allow the endpoint to be called with a <strong>context JWT</strong> .</p>
<pre><code class="lang-auto">app.get('/example', addon.authenticate(true), (req, res) =&gt; {
  // ...
  res.status(200).send('ok')
});
</code></pre>
<p>If your app already uses addon.authenticate() for your <strong>iframe</strong> <strong>or server-to-server</strong> endpoints and addon.authenticate(true) (or addon.checkValidToken()) for the endpoints your front-end uses, then you do not need to change your Atlassian Connect Express app code.</p>
<p>For Atlassian Connect Spring Boot annotate methods with <span class="mention">@ContextJWT</span>:</p>
<pre><code class="lang-auto">@ContextJwt
@RequestMapping(value = "/example", method = RequestMethod.GET)
public ResponseEntity&lt;Void&gt; exampleEndpoint(@AuthenticationPrincipal AtlassianHostUser hostUser) {
  // ...
  return ResponseEntity.ok().build();
}
</code></pre>
<h3>
<a name="running-a-custom-implementation" class="anchor" href="#running-a-custom-implementation"></a>Running a custom implementation</h3>
<p>If you’re using a framework other than Atlassian Connect Spring Boot, or Atlassian Connect Express, then please follow these steps to ensure your app correctly verifies the qsh claim:</p>
<ol>
<li>Opt-in to the updated <strong>context JWTs</strong> by adding a new context-qsh element to the apiMigrations section of the app descriptor.†</li>
<li>Follow <a href="https://developer.atlassian.com/cloud/jira/platform/understanding-jwt-for-connect-apps/#decoding-and-verifying-a-jwt-token">Understanding JWT for Connect apps</a> to validate JWTs using your app secret</li>
<li>Reject any JWT that does not have a qsh claim</li>
<li>For app endpoints that need to accept a context JWT, such as requests from your app front-end to back-end:</li>
</ol>
<ul>
<li>Validate the qsh claim is set to context-qsh instead of building a query string hash from the request path and parameters</li>
<li>Do not apply this to all endpoints by default, only for endpoints that need to accept context JWTs</li>
</ul>
<p>† Your descriptor should look like this:</p>
<pre><code class="lang-auto">...
  "apiMigrations": {
     "context-qsh": true
  }
...
</code></pre>
<p>For reference, a pseudo-code example of an endpoint that accepts context JWTs:</p>
<pre><code class="lang-auto">Function HandleAPIRequest(request)
  JWT &lt;- request.Header['Authorization'] or request.QueryString['jwt']
  
  claims &lt;- ValidateJWTSignature(JWT)
  
  if not claims then
    // JWT signature validation failed
    return Error(Unauthorized)
  
  if not claims.qsh then
    // Missing QSH claim - reject
    return Error(Unauthorized)
  
  // Normal QSH verification based on the request parameters
  requestQsh &lt;- ComputeQSH(request)
  if requestQsh != claims.qsh and claims.qsh != 'context-qsh' then
    // QSH verification failed
    return Error(Unauthorized)
    
  // success, let the request through
  return OK
</code></pre>
<h2>
<a name="by-when-do-i-need-to-do-it" class="anchor" href="#by-when-do-i-need-to-do-it"></a>By when do I need to do it?</h2>
<p>Under the recently announced <a href="https://community.developer.atlassian.com/t/announcing-vulnerability-management-program-for-marketplace-apps/45697">Vulnerability Management Program for Marketplace Apps</a>, Atlassian will create AMS issues for eligible apps with a target SLA to patch this vulnerability.</p>
<p>To reduce the security impact of this vulnerability, the change will be automatically applied to all apps that haven’t used context JWTs for the last two weeks. There should be no impact as a result of this change. If your app has been incorrectly identified as being unaffected, please create an issue in our <a href="https://ecosystem.atlassian.net/servicedesk/customer/portal/14/group/39/create/108">developer support portal</a> for this change to be reversed for your app.</p>
<p>Enforcement of this breaking change is planned for all apps byJun 7, 2021. If you do not patch your app to mitigate this vulnerability and opt-in to the context-qsh API migration before this date, your app may stop working.</p>
<h2>
<a name="need-help" class="anchor" href="#need-help"></a>Need help?</h2>
<p>Please reply to this announcement if you have any questions about this change, or if you need to discuss the situation in more detail.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>
          <meta itemprop='keywords' content='jira-cloud, confluence-cloud, jwt, atlassian-connect, security'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="10" />
           <span class='post-likes'>10 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/context-jwt-vulnarbility/47428" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/context-jwt-vulnarbility/47428'>
                      <span itemprop='name'>Context jwt vulnarbility</span>
                    </a>
                    <meta itemprop='position' content='10'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/how-to-use-ace-addon-authenticate-true/48780" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/how-to-use-ace-addon-authenticate-true/48780'>
                      <span itemprop='name'>How to use ACE addon.authenticate(true)</span>
                    </a>
                    <meta itemprop='position' content='11'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/error-401-in-our-jira-app-while-were-actually-authenticated/48891/3" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/error-401-in-our-jira-app-while-were-actually-authenticated/48891/3'>
                      <span itemprop='name'>Error 401 in our JIRA App while we&#39;re actually authenticated</span>
                    </a>
                    <meta itemprop='position' content='12'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/send-a-request-from-an-iframe-is-receiving-a-401/47305/2" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/send-a-request-from-an-iframe-is-receiving-a-401/47305/2'>
                      <span itemprop='name'>Send a request from an iframe is receiving a 401</span>
                    </a>
                    <meta itemprop='position' content='13'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/may-community-welcome-and-updates/48012" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/may-community-welcome-and-updates/48012'>
                      <span itemprop='name'>May Community Welcome and Updates</span>
                    </a>
                    <meta itemprop='position' content='14'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/cannot-authenticate-request-to-my-app-in-confluence/48968/2" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/cannot-authenticate-request-to-my-app-in-confluence/48968/2'>
                      <span itemprop='name'>Cannot authenticate request to my app in Confluence</span>
                    </a>
                    <meta itemprop='position' content='15'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/atlassian-connect-spring-boot-2-1-9-not-available-on-mvnrepository-com/48966/2" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/atlassian-connect-spring-boot-2-1-9-not-available-on-mvnrepository-com/48966/2'>
                      <span itemprop='name'>Atlassian-connect-spring-boot 2.1.9 not available on mvnrepository.com?</span>
                    </a>
                    <meta itemprop='position' content='16'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/announcing-the-connect-app-authorization-guide/49191/6" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/announcing-the-connect-app-authorization-guide/49191/6'>
                      <span itemprop='name'>Announcing the Connect app authorization guide</span>
                    </a>
                    <meta itemprop='position' content='17'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/announcing-the-connect-app-authorization-guide/49191/11" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/announcing-the-connect-app-authorization-guide/49191/11'>
                      <span itemprop='name'>Announcing the Connect app authorization guide</span>
                    </a>
                    <meta itemprop='position' content='18'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/collection-is-empty-exception-on-submit/52137" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/collection-is-empty-exception-on-submit/52137'>
                      <span itemprop='name'>&#39;Collection is empty&#39; exception on submit</span>
                    </a>
                    <meta itemprop='position' content='19'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/registering-a-jira-add-on/48918/4" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/registering-a-jira-add-on/48918/4'>
                      <span itemprop='name'>Registering a Jira add on</span>
                    </a>
                    <meta itemprop='position' content='20'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/Alex4'><span itemprop='name'>Alex4</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-15T23:09:01Z' class='post-time'>
                April 15, 2021, 11:09pm
              </time>
              <meta itemprop='dateModified' content='2021-04-15T23:09:01Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi, thanks for the instructions!<br>
Please, Could you also update the code examples in the repository? These examples of the powerful help!</p>
<ul>
<li>
<p><a href="https://bitbucket.org/atlassian/atlassian-connect-spring-boot-samples/src/master/atlassian-connect-spring-boot-sample-dynamodb/" rel="noopener nofollow ugc">atlassian-connect-spring-boot-sample-dynamodb(jwt + db)</a></p>
</li>
<li>
<p><a href="https://bitbucket.org/atlassian/atlassian-connect-spring-boot-samples/src/master/" rel="noopener nofollow ugc">atlassian-connect-spring-boot-samples</a></p>
</li>
</ul>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="4" />
           <span class='post-likes'>4 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/colin.hammond'><span itemprop='name'>colin.hammond</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-19T17:23:51Z' class='post-time'>
                April 19, 2021,  5:23pm
              </time>
              <meta itemprop='dateModified' content='2021-04-19T17:23:51Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I am struggling to follow this documentation, yet our business depends on handling this change correctly.</p>
<p>Can we please have some practical examples of what needs to be done with an Atlassian-Connect app please.</p>
<p>Is there a tool that is available that can examine our  Atlassian-connect doc and api and give specifics about what needs to be done to make it compliant, ie the delta?</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/remie'><span itemprop='name'>remie</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-19T17:49:01Z' class='post-time'>
                April 19, 2021,  5:49pm
              </time>
              <meta itemprop='dateModified' content='2021-04-19T17:49:01Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Here is my take at making this more digestible:</p>
<p><strong>For all Connect apps</strong></p>
<p><em>Adjust descriptor of all your connect apps</em><br>
Regardless of whether you need to actually make any changes to the logic of your apps, you will need to add the following to your descriptor:</p>
<pre><code class="lang-auto">"apiMigrations": {
     "context-qsh": true
  }
</code></pre>
<p>This is mandatory for all Connect apps to be implemented before June 7th, 2021. Failure to do so will result in a vulnerability report on the Security dashboard with an SLA of 4 weeks to comply. Failure to mitigate the vulnerability might result in delisting of your app.</p>
<p><strong>For Connect apps running on Atlassian Connect Express (ACE)</strong></p>
<p><em>Endpoints that serve iframe content, webhooks or lifecycle events</em><br>
Atlassian will add a valid QSH to all endpoints that serve server-side rendered HTML content for iframes, webhooks or app lifecycle events (except for the first installation). Basically any URL that is listed in your descriptor. Those endpoints will need to enforce QSH validation. For these endpoints, you probably do not need to change anything, as you will already have <code>addon.authenticate()</code> in the middleware, like this:</p>
<pre><code class="lang-auto">app.get('/path/to/webitem', addon.authenticate(), (req, res) =&gt; {
  // return server-side rendered HTML
});
</code></pre>
<p><em>API endpoints that are called from front-end</em><br>
Calls to these endpoints do not have valid QSH claims because the JWT token is generated on the front-end without any context using <code>AP.context.getToken()</code>.</p>
<p>For these endpoints, which you can identify in your front-end code, you will need to disable JWT verification by changing the code from <code>addon.authenticate()</code> to <code>addon.authenticate(true)</code>:</p>
<pre><code class="lang-auto">app.get('/path/to/api/endpoint', addon.authenticate(true), (req, res) =&gt; {
  // will probably return some JSON
});
</code></pre>
<p><strong>For Connect apps running on Atlassian Spring Boot</strong><br>
Update to the latest version of Atlassian Spring Boot.</p>
<p><em>Endpoints that serve iframe content, webhooks or lifecycle events</em><br>
Atlassian will add a valid QSH to all endpoints that serve server-side rendered HTML content for iframes, webhooks or app lifecycle events (except for the first installation). Basically any URL that is listed in your descriptor. Those endpoints will need to enforce QSH validation. For these endpoints, you do not need to change anything.</p>
<p><em>API endpoints that are called from front-end</em><br>
Calls to these endpoints do not have valid QSH claims because the JWT token is generated on the front-end without any context using <code>AP.context.getToken()</code>.</p>
<p>For these endpoints, which you can identify in your front-end code, you will need to add <code>@ContextJWT</code> annotation:</p>
<pre><code class="lang-auto">@ContextJwt
@RequestMapping(value = "/path/to/api/endpoint", method = RequestMethod.GET)
public ResponseEntity&lt;Void&gt; exampleEndpoint(@AuthenticationPrincipal AtlassianHostUser hostUser) {
  // ...
  return ResponseEntity.ok().build();
}
</code></pre>
<p><strong>For Connect apps running on custom implementation</strong></p>
<p><em>Endpoints that serve iframe content, webhooks or lifecycle events</em><br>
Atlassian will add a valid QSH to all endpoints that serve server-side rendered HTML content for iframes, webhooks or app lifecycle events (except for the first installation). Basically any URL that is listed in your descriptor. Those endpoints will need to enforce QSH validation. For these endpoints, you probably do not need to change anything as you are already doing it (or decided not to).</p>
<p><em>API endpoints that are called from front-end</em><br>
Calls to these endpoints do not have valid QSH claims because the JWT token is generated on the front-end without any context using <code>AP.context.getToken()</code>.</p>
<p>For these endpoints, which you can identify in your front-end code, you will need to add QSH validation and enforce it by ensuring the <code>qsh</code> claim is part of the JWT and is set to value <code>context-jwt</code>.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="20" />
           <span class='post-likes'>20 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="3" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/401-unauthorized-when-using-jwt-token-in-my-plugin/49296/3" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/401-unauthorized-when-using-jwt-token-in-my-plugin/49296/3'>
                      <span itemprop='name'>401 Unauthorized when using jwt token in my plugin</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.developer.atlassian.com/t/after-updated-atlassian-connect-spring-boot-starter-from-1-3-2-to-2-1-5-then-getting-error-like-applicationeventmulticaster-not-initialized-call-refresh/50486" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.developer.atlassian.com/t/after-updated-atlassian-connect-spring-boot-starter-from-1-3-2-to-2-1-5-then-getting-error-like-applicationeventmulticaster-not-initialized-call-refresh/50486'>
                      <span itemprop='name'>After updated atlassian-connect-spring-boot-starter from 1.3.2 to 2.1.5 then getting error like &quot;ApplicationEventMulticaster not initialized - call refresh&quot;</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/marc'><span itemprop='name'>marc</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-19T21:18:07Z' class='post-time'>
                April 19, 2021,  9:18pm
              </time>
              <meta itemprop='dateModified' content='2021-04-19T21:18:07Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi <a class="mention" href="/u/colin.hammond">@colin.hammond</a> Maybe it helps, I’ve published a blog post which tries to explain the steps and a bit of context: <a href="https://h-rd.org/atlassian-connect-security-april-2021-changes/" class="inline-onebox">Atlassian Connect Security – April 2021 changes – H-RD.ORG</a></p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/nathanwaters'><span itemprop='name'>nathanwaters</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-20T00:07:37Z' class='post-time'>
                April 20, 2021, 12:07am
              </time>
              <meta itemprop='dateModified' content='2021-04-20T00:07:37Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>For what appears to be a mandatory marketplace-wide change, these instructions are incredibly obtuse. If my apps use “none” for the authentication descriptor do I need to do anything?</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/cmacneill'><span itemprop='name'>cmacneill</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-20T01:31:48Z' class='post-time'>
                April 20, 2021,  1:31am
              </time>
              <meta itemprop='dateModified' content='2021-04-20T01:31:48Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Apps that use “none” for their authentication settings do not need to take any action.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/dortiz'><span itemprop='name'>dortiz</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-20T05:39:56Z' class='post-time'>
                April 20, 2021,  5:39am
              </time>
              <meta itemprop='dateModified' content='2021-04-20T05:39:56Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi <a class="mention" href="/u/cmacneill">@cmacneill</a>,</p>
<p>as I understand it, if my app use <strong>“none”</strong> for the <strong>authentication descriptor</strong>, it is <strong>only</strong> necessary to add <strong>“context-qsh”: true</strong> in the <strong>“apiMigrations” section</strong> to avoid generating the vulnerability report. it is right?</p>
<p>Thank you</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/colin.hammond'><span itemprop='name'>colin.hammond</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-20T06:59:16Z' class='post-time'>
                April 20, 2021,  6:59am
              </time>
              <meta itemprop='dateModified' content='2021-04-20T06:59:16Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you Remie,</p>
<p>This is very helpful indeed.  I really appreciate you helping me and others by explaining this in more detail.</p>
<p>It’s so important to get this right and potentially business damaging if we don’t.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/colin.hammond'><span itemprop='name'>colin.hammond</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-20T07:10:02Z' class='post-time'>
                April 20, 2021,  7:10am
              </time>
              <meta itemprop='dateModified' content='2021-04-20T07:10:02Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks marc.  All background and guidance is helpful.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/zsims'><span itemprop='name'>zsims</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-20T07:30:45Z' class='post-time'>
                April 20, 2021,  7:30am
              </time>
              <meta itemprop='dateModified' content='2021-04-20T07:30:45Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="dortiz" data-post="8" data-topic="47072">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://avatars.discourse-cdn.com/v4/letter/d/7bcc69/40.png" class="avatar"> dortiz:</div>
<blockquote>
<p>if my app use <strong>“none”</strong> for the <strong>authentication descriptor</strong> , it is <strong>only</strong> necessary to add <strong>“context-qsh”: true</strong> in the <strong>“apiMigrations” section</strong> to avoid generating the vulnerability report. it is right?</p>
</blockquote>
</aside>
<p>Your understanding is correct. Your app isn’t vulnerable if your app uses <code>none</code> for <code>authentication</code>.</p>
<p>We’ll only be raising <a href="https://community.developer.atlassian.com/t/announcing-vulnerability-management-program-for-marketplace-apps/45697">AMS tickets</a> for eligible apps that haven’t opted into the <code>apiMigrations</code> and are using authentication <strong>other than</strong> none.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/dortiz'><span itemprop='name'>dortiz</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-20T08:09:08Z' class='post-time'>
                April 20, 2021,  8:09am
              </time>
              <meta itemprop='dateModified' content='2021-04-20T08:09:08Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you very much for the reply</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/JulienJulien'><span itemprop='name'>JulienJulien</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-20T08:17:07Z' class='post-time'>
                April 20, 2021,  8:17am
              </time>
              <meta itemprop='dateModified' content='2021-04-20T08:17:07Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks for the explanations.</p>
<p>Some of the HTML links describes in the descriptor, such as dialogs, cannot be validated (JWT/QSH) because JWT token is not sent with the request: <a href="https://community.developer.atlassian.com/t/ap-dialog-doesnt-provide-jwt-token-on-url-call/46484" class="inline-onebox">AP.Dialog doesn't provide JWT token on URL call</a></p>
<p>Is it planned to also include these for JWT/QSH validation and so, include JWT/QSH in the request ?</p>
<p>Thanks for your reply.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/dciupureanu'><span itemprop='name'>dciupureanu</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-20T08:50:27Z' class='post-time'>
                April 20, 2021,  8:50am
              </time>
              <meta itemprop='dateModified' content='2021-04-20T08:50:27Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi,</p>
<p>Thanks for the write-up about the vulnerability and the fix. Since this is a security vulnerability, do you have a CVSS score for it?</p>
<p>Thanks.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/OfirNir'><span itemprop='name'>OfirNir</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-21T13:24:31Z' class='post-time'>
                April 21, 2021,  1:24pm
              </time>
              <meta itemprop='dateModified' content='2021-04-21T13:24:31Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="https://nvd.nist.gov/vuln/detail/CVE-2021-26074" class="inline-onebox" rel="noopener nofollow ugc">NVD - CVE-2021-26074</a> - Connect Spring Boot<br>
<a href="https://nvd.nist.gov/vuln/detail/CVE-2021-26073" class="inline-onebox" rel="noopener nofollow ugc">NVD - CVE-2021-26073</a> - Connect Express</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="4" />
           <span class='post-likes'>4 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/zsims'><span itemprop='name'>zsims</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-21T22:52:47Z' class='post-time'>
                April 21, 2021, 10:52pm
              </time>
              <meta itemprop='dateModified' content='2021-05-10T22:32:18Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="dciupureanu" data-post="14" data-topic="47072">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sea1.discourse-cdn.com/atlassiandeveloper/user_avatar/community.developer.atlassian.com/dciupureanu/40/39127_2.png" class="avatar"> dciupureanu:</div>
<blockquote>
<p>Since this is a security vulnerability, do you have a CVSS score for it?</p>
</blockquote>
</aside>
<p>Great question. As <a class="mention" href="/u/ofirnir">@OfirNir</a> linked, we’ve raised CVEs (currently undergoing analysis, will be scored in the NVD soon) for Atlassian Connect Express and Atlassian Connect Spring Boot (the official Atlassian Connect app frameworks). These vulnerabilities cover the issue of context JWTs being accepted in lifecycle endpoints:</p>
<ul>
<li>
<a href="https://nvd.nist.gov/vuln/detail/CVE-2021-26074" rel="noopener nofollow ugc">CVE-2021-26074</a> - Atlassian Connect Spring Boot - <a href="https://confluence.atlassian.com/pages/viewpage.action?pageId=1051986106" rel="noopener nofollow ugc">CVSS v3 9.1 - Critical</a>
</li>
<li>
<a href="https://nvd.nist.gov/vuln/detail/CVE-2021-26073" rel="noopener nofollow ugc">CVE-2021-26073</a> - ACE - <a href="https://confluence.atlassian.com/pages/viewpage.action?pageId=1051986099" rel="noopener nofollow ugc">CVSS v3 9.1 - Critical</a>
</li>
<li>[Update May 11 2021] <a href="https://nvd.nist.gov/vuln/detail/CVE-2021-26077" rel="noopener nofollow ugc">CVE-2021-26077</a> - Atlassian Connect Spring Boot 2.1.4 regression - <a href="https://confluence.atlassian.com/pages/viewpage.action?pageId=1063555147" rel="noopener nofollow ugc">CVSS v3 9.1 - Critical</a>
</li>
</ul>
<p>The overall vulnerability, which is due to ambiguity of context JWTs and iframe/server-to-server JWTs, was scored also as <a href="https://asecurityteam.bitbucket.io/cvss_v3/#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:C/C:H/I:L/A:L" rel="noopener nofollow ugc">CVSS v3 9.1 Critical</a> which was upgraded from the initial <code>CVSS High</code> scoring after additional analysis.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/paulo.alves'><span itemprop='name'>paulo.alves</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-22T08:05:32Z' class='post-time'>
                April 22, 2021,  8:05am
              </time>
              <meta itemprop='dateModified' content='2021-04-22T08:15:58Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi,</p>
<p>Does this means that all the vendors should threat this as a security incident as mentioned here?<br>
<a href="https://developer.atlassian.com/platform/marketplace/app-security-incident-management-guidelines/" class="onebox" target="_blank" rel="noopener nofollow ugc">https://developer.atlassian.com/platform/marketplace/app-security-incident-management-guidelines/</a></p>
<p>Or is Atlassian planning to make a single communication to all customers that have apps installed?<br>
I’m not sure about the model that Atlassian uses to report vulnerabilities on cloud products. I don’t remember to be notified about a critical vulnerability on jira, confluence or bitbucket cloud in the last 3 years. Is it possible to check any advisory, or Atlassian never had a critical vulnerability reported for cloud products?</p>
<p>Thank you.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/remie'><span itemprop='name'>remie</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-22T09:23:36Z' class='post-time'>
                April 22, 2021,  9:23am
              </time>
              <meta itemprop='dateModified' content='2021-04-22T09:23:36Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-username="paulo.alves" data-post="17" data-topic="47072">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sea1.discourse-cdn.com/atlassiandeveloper/user_avatar/community.developer.atlassian.com/paulo.alves/40/41512_2.png" class="avatar"> paulo.alves:</div>
<blockquote>
<p>Does this means that all the vendors should threat this as a security incident […]</p>
</blockquote>
</aside>
<p>Well, either way, not all vendors. Only those using ACE / ACSB. We’re not affected by this vulnerability, because we have a custom implementation and never accepted context JWT for lifecycle events, webhooks, etc.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/paulo.alves'><span itemprop='name'>paulo.alves</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-22T09:34:18Z' class='post-time'>
                April 22, 2021,  9:34am
              </time>
              <meta itemprop='dateModified' content='2021-04-22T09:34:18Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sure, I was referring to all vendors using ACE or ACSB.</p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Atlassian'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/atlassiandeveloper/original/3X/8/a/8af5f0f17e19b3a83d19652a2939589f5abdfa08.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.developer.atlassian.com/u/zsims'><span itemprop='name'>zsims</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.developer.atlassian.com/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-23T01:11:30Z' class='post-time'>
                April 23, 2021,  1:11am
              </time>
              <meta itemprop='dateModified' content='2021-04-23T01:11:30Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="paulo.alves" data-post="17" data-topic="47072">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sea1.discourse-cdn.com/atlassiandeveloper/user_avatar/community.developer.atlassian.com/paulo.alves/40/41512_2.png" class="avatar"> paulo.alves:</div>
<blockquote>
<p>Does this means that all the vendors should threat this as a security incident as mentioned here?<br>
<a href="https://developer.atlassian.com/platform/marketplace/app-security-incident-management-guidelines/" rel="noopener nofollow ugc">https://developer.atlassian.com/platform/marketplace/app-security-incident-management-guidelines/ </a></p>
</blockquote>
</aside>
<p>We advise vendors to follow the <a href="https://developer.atlassian.com/platform/marketplace/app-security-incident-management-guidelines/" rel="noopener nofollow ugc">app incident management guidelines</a> if you determine exploitation of the vulnerability within your environment.</p>
<aside class="quote no-group" data-username="paulo.alves" data-post="17" data-topic="47072">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sea1.discourse-cdn.com/atlassiandeveloper/user_avatar/community.developer.atlassian.com/paulo.alves/40/41512_2.png" class="avatar"> paulo.alves:</div>
<blockquote>
<p>Or is Atlassian planning to make a single communication to all customers that have apps installed?<br>
I’m not sure about the model that Atlassian uses to report vulnerabilities on cloud products. I don’t remember to be notified about a critical vulnerability on jira, confluence or bitbucket cloud in the last 3 years. Is it possible to check any advisory, or Atlassian never had a critical vulnerability reported for cloud products?</p>
</blockquote>
</aside>
<p>Good question, we contact customers inline with the Atlassian Security Practices. You can read more about them on our Trust Center: <a href="https://www.atlassian.com/trust/security/security-practices" class="inline-onebox" rel="noopener nofollow ugc">Security Practices | Atlassian</a><br>
Server advisories (which require customer action) are posted on <a href="https://www.atlassian.com/trust/security/advisories" class="inline-onebox" rel="noopener nofollow ugc">Security Advisories | Atlassian</a></p>
        </div>

        <meta itemprop='headline' content='Action required: Atlassian Connect vulnerability allows bypass of app qsh verification via context JWTs'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="/t/action-required-atlassian-connect-vulnerability-allows-bypass-of-app-qsh-verification-via-context-jwts/47072?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <footer id="footer" class="fixed-cell">
    <div class="wrap">
    <div class="gray-background">
        <div class="heading row large-12 columns">
            <div class="footer-bar">
                <div class="footer-bar-left">
                    <a href="/">
                        <span class="logo">
                        </span>
                    </a>
                </div>
                <div class="footer-bar-right">
                    <ul class="dropdown menu" role="menubar">
                        <li role="menuitem">
                            <a href="https://status.developer.atlassian.com/" tabindex="0">System status</a>
                        </li>
                        <li role="menuitem">
                            <a href="https://www.atlassian.com/legal/privacy-policy">Privacy</a>
                        </li>
                        <li role="menuitem">
                            <a href="https://developer.atlassian.com/market/atlassian-developer-terms">Developer Terms</a>
                        </li>
                        <li role="menuitem">
                            <a href=" https://www.atlassian.com/legal/trademark">Trademark</a>
                        </li>
                        <li>
                            <a class="optanon-toggle-display">Cookie preferences</a>
                        </li>
                        <li class="white" role="menuitem">
                            <copyright>© 2021 Atlassian</copyright>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    </div>
</footer>
    
  </body>
  
</html>
