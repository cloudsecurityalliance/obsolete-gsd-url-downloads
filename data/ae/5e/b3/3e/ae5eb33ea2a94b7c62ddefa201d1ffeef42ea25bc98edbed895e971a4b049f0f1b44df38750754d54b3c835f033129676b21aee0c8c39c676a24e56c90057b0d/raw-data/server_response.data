<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>CVS log for src/usr.bin/ssh/scp.c</title>
<meta name="robots" content="nofollow">
<meta name="generator" content="OpenBSD-CVSweb 2.0.6">
<meta name="description" content="OpenBSD source via CVSweb">
<meta name="keywords" content="openbsd,cvs,source,cvsweb">
<meta name="distribution" content="global">
<meta name="copyright" content="content copyright 2014 by OpenBSD.">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="text/css">
</head>
<body text="#000000" bgcolor="#ffffff">
<p><a href="http://www.openbsd.org/"><img src="/icons/smalltitle.gif" alt="OpenBSD CVS"></a></p> <h2><font color="#e00000">CVS log for src/usr.bin/ssh/scp.c</font></h2><hr>
<p>
 <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/#scp.c"><img src="/icons/back.gif" alt="[BACK]" border="0" width="20" height="22"></a> <b>Up to  <a href="/cgi-bin/cvsweb/#dirlist">[local]</a> / <a href="/cgi-bin/cvsweb/src/#dirlist">src</a> / <a href="/cgi-bin/cvsweb/src/usr.bin/#dirlist">usr.bin</a> / <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/#dirlist">ssh</a></b>
</p>
<p>
 <a href="#diff">Request diff between arbitrary revisions</a>
</p>
<hr noshade>
<p>
Default branch: MAIN<br>
</p>
<hr size="1" noshade>
<p>
<a name="rev1.241"></a><a name="HEAD"></a><a name="MAIN"></a>
 Revision <a href="scp.c?rev=1.241&amp;content-type=text/x-cvsweb-markup"><b>1.241</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.241&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.241&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.241">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.241">[select for diffs]</a>, <i>Sun Oct 24 21:24:17 2021 UTC</i> (6 days, 1 hour ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=HEAD">HEAD</a>
</b><br>Changes since <b>1.240: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.240&amp;r2=1.241">1.240</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.240&amp;r2=1.241&amp;f=h">colored</a>)
</p>
<pre>
For open/openat, if the flags parameter does not contain O_CREAT, the
3rd (variadic) mode_t parameter is irrelevant.  Many developers in the past
have passed mode_t (0, 044, 0644, or such), which might lead future people
to copy this broken idiom, and perhaps even believe this parameter has some
meaning or implication or application. Delete them all.
This comes out of a conversation where tb@ noticed that a strange (but
intentional) pledge behaviour is to always knock-out high-bits from
mode_t on a number of system calls as a safety factor, and his bewilderment
that this appeared to be happening against valid modes (at least visually),
but no sorry, they are all irrelevant junk.  They could all be 0xdeafbeef.
ok millert
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.240"></a>
 Revision <a href="scp.c?rev=1.240&amp;content-type=text/x-cvsweb-markup"><b>1.240</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.240&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.240&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.240">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.240">[select for diffs]</a>, <i>Fri Oct 15 14:46:46 2021 UTC</i> (2 weeks, 1 day ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.239: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.239&amp;r2=1.240">1.239</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.239&amp;r2=1.240&amp;f=h">colored</a>)
</p>
<pre>
openbsd 7.0 release shipped with the (hopefully last) scp that uses RCP
protocol for copying.  Let's get back to testing the SFTP protocol.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.239"></a><a name="OPENBSD_7_0_BASE"></a><a name="OPENBSD_7_0"></a>
 Revision <a href="scp.c?rev=1.239&amp;content-type=text/x-cvsweb-markup"><b>1.239</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.239&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.239&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.239">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.239">[select for diffs]</a>, <i>Mon Sep 20 06:53:56 2021 UTC</i> (5 weeks, 5 days ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_7_0_BASE">OPENBSD_7_0_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_7_0">OPENBSD_7_0</a>
</b><br>Changes since <b>1.238: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.238&amp;r2=1.239">1.238</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.238&amp;r2=1.239&amp;f=h">colored</a>)
</p>
<pre>
fix missing -s in SYNOPSYS and usage() as well as a capitalisation
mistake; spotted by jmc@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.238"></a>
 Revision <a href="scp.c?rev=1.238&amp;content-type=text/x-cvsweb-markup"><b>1.238</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.238&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.238&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.238">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.238">[select for diffs]</a>, <i>Mon Sep 20 01:55:42 2021 UTC</i> (5 weeks, 5 days ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.237: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.237&amp;r2=1.238">1.237</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.237&amp;r2=1.238&amp;f=h">colored</a>)
</p>
<pre>
Switch scp back to use the old protocol by default, ahead of release.
We'll wait a little longer for people to pick up sftp-<a href="http://man.OpenBSD.org/server.8">server(8)</a> that
supports the extension that scp needs for ~user paths to continue
working in SFTP protocol mode. Discussed with deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.237"></a>
 Revision <a href="scp.c?rev=1.237&amp;content-type=text/x-cvsweb-markup"><b>1.237</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.237&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.237&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.237">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.237">[select for diffs]</a>, <i>Sat Sep 18 02:03:25 2021 UTC</i> (6 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.236: +3 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.236&amp;r2=1.237">1.236</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.236&amp;r2=1.237&amp;f=h">colored</a>)
</p>
<pre>
better error message for ~user failures when the sftp-server
lacks the expand-path extension; ok deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.236"></a>
 Revision <a href="scp.c?rev=1.236&amp;content-type=text/x-cvsweb-markup"><b>1.236</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.236&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.236&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.236">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.236">[select for diffs]</a>, <i>Thu Sep 16 15:22:22 2021 UTC</i> (6 weeks, 2 days ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.235: +8 -9 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.235&amp;r2=1.236">1.235</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.235&amp;r2=1.236&amp;f=h">colored</a>)
</p>
<pre>
make some more scp-in-SFTP mode better match Unix idioms

suggested by deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.235"></a>
 Revision <a href="scp.c?rev=1.235&amp;content-type=text/x-cvsweb-markup"><b>1.235</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.235&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.235&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.235">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.235">[select for diffs]</a>, <i>Thu Sep 16 15:11:19 2021 UTC</i> (6 weeks, 2 days ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.234: +5 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.234&amp;r2=1.235">1.234</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.234&amp;r2=1.235&amp;f=h">colored</a>)
</p>
<pre>
allow log_stderr==2 to prefix log messages with argv[0]

use this to make scp's SFTP mode error messages more scp-like

prompted by and ok deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.234"></a>
 Revision <a href="scp.c?rev=1.234&amp;content-type=text/x-cvsweb-markup"><b>1.234</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.234&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.234&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.234">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.234">[select for diffs]</a>, <i>Sat Sep 11 00:40:24 2021 UTC</i> (7 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.233: +10 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.233&amp;r2=1.234">1.233</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.233&amp;r2=1.234&amp;f=h">colored</a>)
</p>
<pre>
when using SFTP protocol, continue transferring files after a
transfer error occurs. This matches original scp/rcp behaviour.
ok dtucker@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.233"></a>
 Revision <a href="scp.c?rev=1.233&amp;content-type=text/x-cvsweb-markup"><b>1.233</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.233&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.233&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.233">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.233">[select for diffs]</a>, <i>Wed Sep  8 23:31:39 2021 UTC</i> (7 weeks, 2 days ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.232: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.232&amp;r2=1.233">1.232</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.232&amp;r2=1.233&amp;f=h">colored</a>)
</p>
<pre>
Use the SFTP protocol by default. The original scp/rcp protocol remains
available via the -O flag.

Note that ~user/ prefixed paths in SFTP mode require a protocol extension
that was first shipped in OpenSSH 8.7.

ok deraadt, after baking in snaps for a while without incident
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.232"></a>
 Revision <a href="scp.c?rev=1.232&amp;content-type=text/x-cvsweb-markup"><b>1.232</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.232&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.232&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.232">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.232">[select for diffs]</a>, <i>Wed Aug 11 14:07:54 2021 UTC</i> (2 months, 2 weeks ago) by <i>naddy</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.231: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.231&amp;r2=1.232">1.231</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.231&amp;r2=1.232&amp;f=h">colored</a>)
</p>
<pre>
scp: tweak man page and error message for -3 by default

Now that the -3 option is enabled by default, flip the documentation
and error message logic from &quot;requires -3&quot; to &quot;blocked by -R&quot;.

ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.231"></a>
 Revision <a href="scp.c?rev=1.231&amp;content-type=text/x-cvsweb-markup"><b>1.231</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.231&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.231&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.231">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.231">[select for diffs]</a>, <i>Wed Aug 11 14:05:19 2021 UTC</i> (2 months, 2 weeks ago) by <i>naddy</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.230: +13 -14 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.230&amp;r2=1.231">1.230</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.230&amp;r2=1.231&amp;f=h">colored</a>)
</p>
<pre>
scp: do not spawn ssh with two -s flags for remote-to-remote copies

Do not add another &quot;-s&quot; to the argument vector every time an SFTP
connection is initiated.  Instead, introduce a subsystem flag to
do_cmd() and add &quot;-s&quot; when the flag is set.

ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.230"></a>
 Revision <a href="scp.c?rev=1.230&amp;content-type=text/x-cvsweb-markup"><b>1.230</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.230&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.230&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.230">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.230">[select for diffs]</a>, <i>Tue Aug 10 03:33:34 2021 UTC</i> (2 months, 2 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.229: +10 -13 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.229&amp;r2=1.230">1.229</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.229&amp;r2=1.230&amp;f=h">colored</a>)
</p>
<pre>
Prepare for a future where <a href="http://man.OpenBSD.org/scp.1">scp(1)</a> uses the SFTP protocol by default.
Replace recently added -M option to select the protocol with -O (olde)
and -s (SFTP) flags, and label the -s flag with a clear warning that it
will be removed in the near future (so no, don't use it in scripts!).

prompted by/feedback from deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.229"></a>
 Revision <a href="scp.c?rev=1.229&amp;content-type=text/x-cvsweb-markup"><b>1.229</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.229&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.229&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.229">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.229">[select for diffs]</a>, <i>Mon Aug  9 23:56:36 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.228: +7 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.228&amp;r2=1.229">1.228</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.228&amp;r2=1.229&amp;f=h">colored</a>)
</p>
<pre>
make scp -3 the default for remote-to-remote copies. It provides a
much better and more intuitive user experience and doesn't require
exposing credentials to the source host.

thanks naddy@ for catching the missing argument in usage()

&quot;Yes please!&quot; - markus@
&quot;makes a lot of sense&quot; - deraadt@
&quot;the right thing to do&quot; - dtucker@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.228"></a>
 Revision <a href="scp.c?rev=1.228&amp;content-type=text/x-cvsweb-markup"><b>1.228</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.228&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.228&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.228">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.228">[select for diffs]</a>, <i>Mon Aug  9 23:49:31 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.227: +26 -71 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.227&amp;r2=1.228">1.227</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.227&amp;r2=1.228&amp;f=h">colored</a>)
</p>
<pre>
make scp in SFTP mode try to use relative paths as much as possible.
Previosuly, it would try to make relative and ~/-rooted paths absolute
before requesting transfers.

prompted by and much discussion deraadt@
ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.227"></a>
 Revision <a href="scp.c?rev=1.227&amp;content-type=text/x-cvsweb-markup"><b>1.227</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.227&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.227&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.227">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.227">[select for diffs]</a>, <i>Mon Aug  9 23:47:44 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.226: +11 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.226&amp;r2=1.227">1.226</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.226&amp;r2=1.227&amp;f=h">colored</a>)
</p>
<pre>
SFTP protocol extension to allow the server to expand ~-prefixed
paths, in particular ~user ones. Allows scp in sftp mode to accept
these paths, like scp in rcp mode does.

prompted by and much discussion deraadt@
ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.226"></a>
 Revision <a href="scp.c?rev=1.226&amp;content-type=text/x-cvsweb-markup"><b>1.226</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.226&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.226&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.226">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.226">[select for diffs]</a>, <i>Mon Aug  9 23:44:32 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.225: +34 -10 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.225&amp;r2=1.226">1.225</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.225&amp;r2=1.226&amp;f=h">colored</a>)
</p>
<pre>
when scp is in SFTP mode, try to deal better with ~ prefixed
paths. ~user paths aren't supported, but ~/ paths will be accepted
and prefixed with the SFTP server starting directory (more to come)

prompted by and discussed with deraadt@
ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.225"></a>
 Revision <a href="scp.c?rev=1.225&amp;content-type=text/x-cvsweb-markup"><b>1.225</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.225&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.225&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.225">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.225">[select for diffs]</a>, <i>Mon Aug  9 07:21:01 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.224: +19 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.224&amp;r2=1.225">1.224</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.224&amp;r2=1.225&amp;f=h">colored</a>)
</p>
<pre>
on fatal errors, make scp wait for ssh connection before exiting
avoids LogLevel=verbose (or greater) messages from ssh appearing
after scp has returned exited and control has returned to the
shell; ok markus@

(this was originally committed as r1.223 along with unrelated stuff that
I rolled back in r1.224)
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.224"></a>
 Revision <a href="scp.c?rev=1.224&amp;content-type=text/x-cvsweb-markup"><b>1.224</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.224&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.224&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.224">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.224">[select for diffs]</a>, <i>Mon Aug  9 07:19:12 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.223: +24 -63 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.223&amp;r2=1.224">1.223</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.223&amp;r2=1.224&amp;f=h">colored</a>)
</p>
<pre>
rever r1.223 - I accidentally committed unrelated changes
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.223"></a>
 Revision <a href="scp.c?rev=1.223&amp;content-type=text/x-cvsweb-markup"><b>1.223</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.223&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.223&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.223">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.223">[select for diffs]</a>, <i>Mon Aug  9 07:13:54 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.222: +64 -25 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.222&amp;r2=1.223">1.222</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.222&amp;r2=1.223&amp;f=h">colored</a>)
</p>
<pre>
on fatal errors, make scp wait for ssh connection before exiting
avoids LogLevel=verbose (or greater) messages from ssh appearing
after scp has returned exited and control has returned to the
shell; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.222"></a>
 Revision <a href="scp.c?rev=1.222&amp;content-type=text/x-cvsweb-markup"><b>1.222</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.222&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.222&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.222">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.222">[select for diffs]</a>, <i>Sat Aug  7 01:57:08 2021 UTC</i> (2 months, 3 weeks ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.221: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.221&amp;r2=1.222">1.221</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.221&amp;r2=1.222&amp;f=h">colored</a>)
</p>
<pre>
Fix prototype mismatch for do_cmd.  ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.221"></a>
 Revision <a href="scp.c?rev=1.221&amp;content-type=text/x-cvsweb-markup"><b>1.221</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.221&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.221&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.221">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.221">[select for diffs]</a>, <i>Sat Aug  7 00:12:09 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.220: +4 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.220&amp;r2=1.221">1.220</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.220&amp;r2=1.221&amp;f=h">colored</a>)
</p>
<pre>
make <a href="http://man.OpenBSD.org/scp.1">scp(1)</a> in SFTP mode follow symlinks like traditional <a href="http://man.OpenBSD.org/scp.1">scp(1)</a>
ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.220"></a>
 Revision <a href="scp.c?rev=1.220&amp;content-type=text/x-cvsweb-markup"><b>1.220</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.220&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.220&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.220">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.220">[select for diffs]</a>, <i>Sat Aug  7 00:08:52 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.219: +4 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.219&amp;r2=1.220">1.219</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.219&amp;r2=1.220&amp;f=h">colored</a>)
</p>
<pre>
make <a href="http://man.OpenBSD.org/scp.1">scp(1)</a> in SFTP mode output better match original <a href="http://man.OpenBSD.org/scp.1">scp(1)</a> by
suppressing &quot;Retrieving [path]&quot; lines that were emitted to support
the interactive <a href="http://man.OpenBSD.org/sftp.1">sftp(1)</a> client. ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.219"></a>
 Revision <a href="scp.c?rev=1.219&amp;content-type=text/x-cvsweb-markup"><b>1.219</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.219&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.219&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.219">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.219">[select for diffs]</a>, <i>Sat Aug  7 00:06:30 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.218: +189 -40 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.218&amp;r2=1.219">1.218</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.218&amp;r2=1.219&amp;f=h">colored</a>)
</p>
<pre>
use sftp_client crossloading to implement scp -3

feedback/ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.218"></a>
 Revision <a href="scp.c?rev=1.218&amp;content-type=text/x-cvsweb-markup"><b>1.218</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.218&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.218&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.218">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.218">[select for diffs]</a>, <i>Sat Aug  7 00:00:33 2021 UTC</i> (2 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.217: +6 -19 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.217&amp;r2=1.218">1.217</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.217&amp;r2=1.218&amp;f=h">colored</a>)
</p>
<pre>
prepare for scp -3 implemented via sftp
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.217"></a>
 Revision <a href="scp.c?rev=1.217&amp;content-type=text/x-cvsweb-markup"><b>1.217</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.217&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.217&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.217">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.217">[select for diffs]</a>, <i>Wed Aug  4 01:34:55 2021 UTC</i> (2 months, 3 weeks ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.216: +4 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.216&amp;r2=1.217">1.216</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.216&amp;r2=1.217&amp;f=h">colored</a>)
</p>
<pre>
Allow for different (but POSIX compliant) behaviour of <a href="http://man.OpenBSD.org/basename.3">basename(3)</a> and
prevent a use-after-free in that case in the new sftp-compat code.

POSIX allows <a href="http://man.OpenBSD.org/basename.3">basename(3)</a> to either return a pointer to static storage
or modify the passed string and return a pointer to that.  OpenBSD does
the former and works as is, but on other platforms &quot;filename&quot; points
into &quot;tmp&quot; which was just freed.  This makes the freeing of tmp
consistent with the other variable in the loop.

Pinpointed by the -portable Valgrind regress test.  ok djm@ deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.216"></a>
 Revision <a href="scp.c?rev=1.216&amp;content-type=text/x-cvsweb-markup"><b>1.216</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.216&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.216&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.216">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.216">[select for diffs]</a>, <i>Mon Aug  2 23:38:27 2021 UTC</i> (2 months, 4 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.215: +279 -23 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.215&amp;r2=1.216">1.215</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.215&amp;r2=1.216&amp;f=h">colored</a>)
</p>
<pre>
support for using the SFTP protocol for file transfers in scp, via a
new &quot;-M sftp&quot; option. Marked as experimental for now.

Some corner-cases exist, in particular there is no attempt to
provide bug-compatibility with scp's weird &quot;double shell&quot; quoting
rules.

Mostly by Jakub Jelen in GHPR#194 with some tweaks by me. ok markus@
Thanks jmc@ for improving the <a href="http://man.OpenBSD.org/scp.1">scp.1</a> bits.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.215"></a>
 Revision <a href="scp.c?rev=1.215&amp;content-type=text/x-cvsweb-markup"><b>1.215</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.215&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.215&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.215">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.215">[select for diffs]</a>, <i>Mon Jul  5 00:25:42 2021 UTC</i> (3 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.214: +10 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.214&amp;r2=1.215">1.214</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.214&amp;r2=1.215&amp;f=h">colored</a>)
</p>
<pre>
allow spaces to appear in usernames for local to remote, and scp -3
remote to remote copies. with &amp; ok dtucker bz#1164
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.214"></a><a name="OPENBSD_6_9_BASE"></a><a name="OPENBSD_6_9"></a>
 Revision <a href="scp.c?rev=1.214&amp;content-type=text/x-cvsweb-markup"><b>1.214</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.214&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.214&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.214">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.214">[select for diffs]</a>, <i>Sat Apr  3 06:18:40 2021 UTC</i> (6 months, 4 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_6_9_BASE">OPENBSD_6_9_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_6_9">OPENBSD_6_9</a>
</b><br>Changes since <b>1.213: +3 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.213&amp;r2=1.214">1.213</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.213&amp;r2=1.214&amp;f=h">colored</a>)
</p>
<pre>
highly polished whitespace, mostly fixing spaces-for-tab and bad
indentation on continuation lines. Prompted by GHPR#185
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.213"></a>
 Revision <a href="scp.c?rev=1.213&amp;content-type=text/x-cvsweb-markup"><b>1.213</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.213&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.213&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.213">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.213">[select for diffs]</a>, <i>Sun Oct 18 11:32:01 2020 UTC</i> (12 months, 1 week ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.212: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.212&amp;r2=1.213">1.212</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.212&amp;r2=1.213&amp;f=h">colored</a>)
</p>
<pre>
use the new variant log macros instead of prepending __func__ and
appending ssh_err(r) manually; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.212"></a><a name="OPENBSD_6_8_BASE"></a><a name="OPENBSD_6_8"></a>
 Revision <a href="scp.c?rev=1.212&amp;content-type=text/x-cvsweb-markup"><b>1.212</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.212&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.212&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.212">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.212">[select for diffs]</a>, <i>Mon Aug  3 02:43:41 2020 UTC</i> (14 months, 4 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_6_8_BASE">OPENBSD_6_8_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_6_8">OPENBSD_6_8</a>
</b><br>Changes since <b>1.211: +7 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.211&amp;r2=1.212">1.211</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.211&amp;r2=1.212&amp;f=h">colored</a>)
</p>
<pre>
allow -A to explicitly enable agent forwarding in scp and sftp. The
default remains to not forward an agent, even when ssh_config enables
it. ok jmc dtucker markus
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.211"></a>
 Revision <a href="scp.c?rev=1.211&amp;content-type=text/x-cvsweb-markup"><b>1.211</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.211&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.211&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.211">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.211">[select for diffs]</a>, <i>Fri May 29 21:22:02 2020 UTC</i> (17 months ago) by <i>millert</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.210: +7 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.210&amp;r2=1.211">1.210</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.210&amp;r2=1.211&amp;f=h">colored</a>)
</p>
<pre>
Fix error message on <a href="http://man.OpenBSD.org/close.2">close(2)</a> and add printf format attributes.
From Christos Zoulas, OK markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.210"></a><a name="OPENBSD_6_7_BASE"></a><a name="OPENBSD_6_7"></a>
 Revision <a href="scp.c?rev=1.210&amp;content-type=text/x-cvsweb-markup"><b>1.210</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.210&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.210&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.210">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.210">[select for diffs]</a>, <i>Wed May  6 20:57:38 2020 UTC</i> (17 months, 3 weeks ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_6_7_BASE">OPENBSD_6_7_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_6_7">OPENBSD_6_7</a>
</b><br>Changes since <b>1.209: +2 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.209&amp;r2=1.210">1.209</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.209&amp;r2=1.210&amp;f=h">colored</a>)
</p>
<pre>
another case where a utimes() failure could make scp send a
desynchronising error; reminded by Aymeric Vincent
ok deraadt markus
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.209"></a>
 Revision <a href="scp.c?rev=1.209&amp;content-type=text/x-cvsweb-markup"><b>1.209</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.209&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.209&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.209">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.209">[select for diffs]</a>, <i>Fri May  1 06:31:42 2020 UTC</i> (18 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.208: +59 -37 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.208&amp;r2=1.209">1.208</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.208&amp;r2=1.209&amp;f=h">colored</a>)
</p>
<pre>
when receving a file in sink(), be careful to send at most a single
error response after the file has been opened. Otherwise the source()
and sink() can become desyncronised. Reported by Daniel Goujot,
Georges-Axel Jaloyan, Ryan Lahfa, and David Naccache.

ok deraadt@ markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.208"></a>
 Revision <a href="scp.c?rev=1.208&amp;content-type=text/x-cvsweb-markup"><b>1.208</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.208&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.208&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.208">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.208">[select for diffs]</a>, <i>Thu Apr 30 17:07:10 2020 UTC</i> (18 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.207: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.207&amp;r2=1.208">1.207</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.207&amp;r2=1.208&amp;f=h">colored</a>)
</p>
<pre>
run the 2nd ssh with BatchMode for scp -3
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.207"></a>
 Revision <a href="scp.c?rev=1.207&amp;content-type=text/x-cvsweb-markup"><b>1.207</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.207&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.207&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.207">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.207">[select for diffs]</a>, <i>Thu Jan 23 07:10:22 2020 UTC</i> (21 months, 1 week ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.206: +11 -11 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.206&amp;r2=1.207">1.206</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.206&amp;r2=1.207&amp;f=h">colored</a>)
</p>
<pre>
Replace all calls to <a href="http://man.OpenBSD.org/signal.2">signal(2)</a> with a wrapper around <a href="http://man.OpenBSD.org/sigaction.2">sigaction(2)</a>.
This wrapper blocks all other signals during the handler preventing
races between handlers, and sets SA_RESTART which should reduce the
potential for short read/write operations.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.206"></a><a name="OPENBSD_6_6_BASE"></a><a name="OPENBSD_6_6"></a>
 Revision <a href="scp.c?rev=1.206&amp;content-type=text/x-cvsweb-markup"><b>1.206</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.206&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.206&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.206">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.206">[select for diffs]</a>, <i>Mon Sep  9 02:31:19 2019 UTC</i> (2 years, 1 month ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_6_6_BASE">OPENBSD_6_6_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_6_6">OPENBSD_6_6</a>
</b><br>Changes since <b>1.205: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.205&amp;r2=1.206">1.205</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.205&amp;r2=1.206&amp;f=h">colored</a>)
</p>
<pre>
Fix potential truncation warning.  ok deraadt.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.205"></a>
 Revision <a href="scp.c?rev=1.205&amp;content-type=text/x-cvsweb-markup"><b>1.205</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.205&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.205&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.205">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.205">[select for diffs]</a>, <i>Fri Jun 28 13:35:04 2019 UTC</i> (2 years, 4 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.204: +12 -12 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.204&amp;r2=1.205">1.204</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.204&amp;r2=1.205&amp;f=h">colored</a>)
</p>
<pre>
When system calls indicate an error they return -1, not some arbitrary
value &lt; 0.  errno is only updated in this case.  Change all (most?)
callers of syscalls to follow this better, and let's see if this strictness
helps us in the future.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.204"></a><a name="OPENBSD_6_5_BASE"></a><a name="OPENBSD_6_5"></a>
 Revision <a href="scp.c?rev=1.204&amp;content-type=text/x-cvsweb-markup"><b>1.204</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.204&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.204&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.204">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.204">[select for diffs]</a>, <i>Sun Feb 10 11:15:52 2019 UTC</i> (2 years, 8 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_6_5_BASE">OPENBSD_6_5_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_6_5">OPENBSD_6_5</a>
</b><br>Changes since <b>1.203: +270 -12 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.203&amp;r2=1.204">1.203</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.203&amp;r2=1.204&amp;f=h">colored</a>)
</p>
<pre>
when checking that filenames sent by the server side match what the
client requested, be prepared to handle shell-style brace alternations,
e.g. &quot;{foo,bar}&quot;.

&quot;looks good to me&quot; millert@ + in snaps for the last week courtesy
deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.203"></a>
 Revision <a href="scp.c?rev=1.203&amp;content-type=text/x-cvsweb-markup"><b>1.203</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.203&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.203&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.203">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.203">[select for diffs]</a>, <i>Sun Jan 27 07:14:11 2019 UTC</i> (2 years, 9 months ago) by <i>jmc</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.202: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.202&amp;r2=1.203">1.202</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.202&amp;r2=1.203&amp;f=h">colored</a>)
</p>
<pre>
add -T to usage();
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.202"></a>
 Revision <a href="scp.c?rev=1.202&amp;content-type=text/x-cvsweb-markup"><b>1.202</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.202&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.202&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.202">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.202">[select for diffs]</a>, <i>Sat Jan 26 22:41:28 2019 UTC</i> (2 years, 9 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.201: +30 -9 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.201&amp;r2=1.202">1.201</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.201&amp;r2=1.202&amp;f=h">colored</a>)
</p>
<pre>
check in scp client that filenames sent during remote-&gt;local directory
copies satisfy the wildcard specified by the user.

This checking provides some protection against a malicious server
sending unexpected filenames, but it comes at a risk of rejecting wanted
files due to differences between client and server wildcard expansion rules.

For this reason, this also adds a new -T flag to disable the check.

reported by Harry Sintonen
fix approach suggested by markus@;
has been in snaps for ~1wk courtesy deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.201"></a>
 Revision <a href="scp.c?rev=1.201&amp;content-type=text/x-cvsweb-markup"><b>1.201</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.201&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.201&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.201">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.201">[select for diffs]</a>, <i>Thu Jan 24 16:52:17 2019 UTC</i> (2 years, 9 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.200: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.200&amp;r2=1.201">1.200</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.200&amp;r2=1.201&amp;f=h">colored</a>)
</p>
<pre>
Have progressmeter force an update at the beginning and end of each
transfer.  Fixes the problem recently introduces where very quick
transfers do not display the progressmeter at all.  Spotted by naddy@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.200"></a>
 Revision <a href="scp.c?rev=1.200&amp;content-type=text/x-cvsweb-markup"><b>1.200</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.200&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.200&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.200">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.200">[select for diffs]</a>, <i>Wed Jan 23 08:01:46 2019 UTC</i> (2 years, 9 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.199: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.199&amp;r2=1.200">1.199</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.199&amp;r2=1.200&amp;f=h">colored</a>)
</p>
<pre>
Sanitize scp filenames via snmprintf.  To do this we move the
progressmeter formatting outside of signal handler context and have
the atomicio callback called for EINTR too.  bz#2434 with contributions
from djm and jjelen at redhat.com, ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.199"></a>
 Revision <a href="scp.c?rev=1.199&amp;content-type=text/x-cvsweb-markup"><b>1.199</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.199&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.199&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.199">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.199">[select for diffs]</a>, <i>Mon Jan 21 22:50:42 2019 UTC</i> (2 years, 9 months ago) by <i>tb</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.198: +5 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.198&amp;r2=1.199">1.198</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.198&amp;r2=1.199&amp;f=h">colored</a>)
</p>
<pre>
Add a -J option as a shortcut for -o Proxyjump= to <a href="http://man.OpenBSD.org/scp.1">scp(1)</a> and <a href="http://man.OpenBSD.org/sftp.1">sftp(1)</a>
to match <a href="http://man.OpenBSD.org/ssh.1">ssh(1)</a>'s interface.

ok djm
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.198"></a>
 Revision <a href="scp.c?rev=1.198&amp;content-type=text/x-cvsweb-markup"><b>1.198</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.198&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.198&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.198">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.198">[select for diffs]</a>, <i>Fri Nov 16 03:03:10 2018 UTC</i> (2 years, 11 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.197: +3 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.197&amp;r2=1.198">1.197</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.197&amp;r2=1.198&amp;f=h">colored</a>)
</p>
<pre>
disallow empty incoming filename or ones that refer to the current
directory; based on report/patch from Harry Sintonen
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.197"></a><a name="OPENBSD_6_4_BASE"></a><a name="OPENBSD_6_4"></a>
 Revision <a href="scp.c?rev=1.197&amp;content-type=text/x-cvsweb-markup"><b>1.197</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.197&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.197&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.197">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.197">[select for diffs]</a>, <i>Fri Jun  1 04:31:48 2018 UTC</i> (3 years, 5 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_6_4_BASE">OPENBSD_6_4_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_6_4">OPENBSD_6_4</a>
</b><br>Changes since <b>1.196: +3 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.196&amp;r2=1.197">1.196</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.196&amp;r2=1.197&amp;f=h">colored</a>)
</p>
<pre>
Apply umask to all incoming files and directories not just files.
This makes sure it gets applied to directories too, and prevents
a race where files get chmodded after creation.  bz#2839, ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.196"></a>
 Revision <a href="scp.c?rev=1.196&amp;content-type=text/x-cvsweb-markup"><b>1.196</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.196&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.196&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.196">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.196">[select for diffs]</a>, <i>Tue Apr 10 00:10:49 2018 UTC</i> (3 years, 6 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.195: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.195&amp;r2=1.196">1.195</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.195&amp;r2=1.196&amp;f=h">colored</a>)
</p>
<pre>
lots of typos in comments/docs. Patch from Karsten Weiss after checking
with codespell tool (<a href="https://github.com/lucasdemarchi/codespell)">https://github.com/lucasdemarchi/codespell)</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.195"></a><a name="OPENBSD_6_3_BASE"></a><a name="OPENBSD_6_3"></a>
 Revision <a href="scp.c?rev=1.195&amp;content-type=text/x-cvsweb-markup"><b>1.195</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.195&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.195&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.195">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.195">[select for diffs]</a>, <i>Sat Feb 10 06:15:12 2018 UTC</i> (3 years, 8 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_6_3_BASE">OPENBSD_6_3_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_6_3">OPENBSD_6_3</a>
</b><br>Changes since <b>1.194: +3 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.194&amp;r2=1.195">1.194</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.194&amp;r2=1.195&amp;f=h">colored</a>)
</p>
<pre>
Disable RemoteCommand and RequestTTY in the ssh session started by
scp. sftp is already doing this. From Camden Narzt via github;
ok dtucker
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.194"></a>
 Revision <a href="scp.c?rev=1.194&amp;content-type=text/x-cvsweb-markup"><b>1.194</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.194&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.194&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.194">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.194">[select for diffs]</a>, <i>Mon Dec 18 17:28:54 2017 UTC</i> (3 years, 10 months ago) by <i>millert</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.193: +36 -11 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.193&amp;r2=1.194">1.193</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.193&amp;r2=1.194&amp;f=h">colored</a>)
</p>
<pre>
Add helper function for uri handing in scp where a missing path
simply means &quot;.&quot;.  Also fix exit code and add warnings when an
invalid uri is encountered.  OK otto@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.193"></a>
 Revision <a href="scp.c?rev=1.193&amp;content-type=text/x-cvsweb-markup"><b>1.193</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.193&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.193&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.193">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.193">[select for diffs]</a>, <i>Sat Oct 21 23:06:24 2017 UTC</i> (4 years ago) by <i>millert</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.192: +105 -94 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.192&amp;r2=1.193">1.192</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.192&amp;r2=1.193&amp;f=h">colored</a>)
</p>
<pre>
Add URI support to ssh, sftp and scp.  For example ssh://user@host
or s<a href="ftp://user@host/path.">ftp://user@host/path.</a>  The connection parameters described in
draft-ietf-secsh-scp-sftp-ssh-uri-04 are not implemented since the
ssh fingerprint format in the draft uses md5 with no way to specify
the hash function type.  OK djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.192"></a><a name="OPENBSD_6_2_BASE"></a><a name="OPENBSD_6_2"></a>
 Revision <a href="scp.c?rev=1.192&amp;content-type=text/x-cvsweb-markup"><b>1.192</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.192&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.192&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.192">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.192">[select for diffs]</a>, <i>Wed May 31 09:15:42 2017 UTC</i> (4 years, 5 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_6_2_BASE">OPENBSD_6_2_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_6_2">OPENBSD_6_2</a>
</b><br>Changes since <b>1.191: +2 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.191&amp;r2=1.192">1.191</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.191&amp;r2=1.192&amp;f=h">colored</a>)
</p>
<pre>
Switch to recallocarray() for a few operations.  Both growth and shrinkage
are handled safely, and there also is no need for preallocation dances.
Future changes in this area will be less error prone.
Review and one bug found by markus
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.191"></a>
 Revision <a href="scp.c?rev=1.191&amp;content-type=text/x-cvsweb-markup"><b>1.191</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.191&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.191&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.191">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.191">[select for diffs]</a>, <i>Tue May  2 08:06:33 2017 UTC</i> (4 years, 6 months ago) by <i>jmc</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.190: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.190&amp;r2=1.191">1.190</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.190&amp;r2=1.191&amp;f=h">colored</a>)
</p>
<pre>
remove options -12 from usage();
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.190"></a>
 Revision <a href="scp.c?rev=1.190&amp;content-type=text/x-cvsweb-markup"><b>1.190</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.190&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.190&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.190">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.190">[select for diffs]</a>, <i>Sun Apr 30 23:28:12 2017 UTC</i> (4 years, 6 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.189: +5 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.189&amp;r2=1.190">1.189</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.189&amp;r2=1.190&amp;f=h">colored</a>)
</p>
<pre>
exterminate the -1 flag from scp

ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.189"></a>
 Revision <a href="scp.c?rev=1.189&amp;content-type=text/x-cvsweb-markup"><b>1.189</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.189&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.189&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.189">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.189">[select for diffs]</a>, <i>Fri Apr 28 03:21:12 2017 UTC</i> (4 years, 6 months ago) by <i>millert</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.188: +13 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.188&amp;r2=1.189">1.188</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.188&amp;r2=1.189&amp;f=h">colored</a>)
</p>
<pre>
Avoid relying on implementation-specific behavior when detecting
whether the timestamp or file size overflowed.  If time_t and
off_t are not either 32-bit or 64-bit scp will exit with an error.
OK djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.188"></a>
 Revision <a href="scp.c?rev=1.188&amp;content-type=text/x-cvsweb-markup"><b>1.188</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.188&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.188&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.188">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.188">[select for diffs]</a>, <i>Thu Apr 27 11:53:12 2017 UTC</i> (4 years, 6 months ago) by <i>millert</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.187: +9 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.187&amp;r2=1.188">1.187</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.187&amp;r2=1.188&amp;f=h">colored</a>)
</p>
<pre>
Avoid potential signed int overflow when parsing the file size.
Use strtoul() instead of parsing manually.  OK djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.187"></a><a name="OPENBSD_6_1_BASE"></a><a name="OPENBSD_6_1"></a>
 Revision <a href="scp.c?rev=1.187&amp;content-type=text/x-cvsweb-markup"><b>1.187</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.187&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.187&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.187">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.187">[select for diffs]</a>, <i>Mon Sep 12 01:22:38 2016 UTC</i> (5 years, 1 month ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_6_1_BASE">OPENBSD_6_1_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_6_1">OPENBSD_6_1</a>
</b><br>Changes since <b>1.186: +3 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.186&amp;r2=1.187">1.186</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.186&amp;r2=1.187&amp;f=h">colored</a>)
</p>
<pre>
Add MAXIMUM(), MINIMUM(), and ROUNDUP() to misc.h, then use those definitions
rather than pulling &lt;sys/param.h&gt; and unknown namespace pollution.
ok djm markus dtucker
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.186"></a><a name="OPENBSD_6_0_BASE"></a><a name="OPENBSD_6_0"></a>
 Revision <a href="scp.c?rev=1.186&amp;content-type=text/x-cvsweb-markup"><b>1.186</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.186&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.186&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.186">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.186">[select for diffs]</a>, <i>Wed May 25 23:48:45 2016 UTC</i> (5 years, 5 months ago) by <i>schwarze</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_6_0_BASE">OPENBSD_6_0_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_6_0">OPENBSD_6_0</a>
</b><br>Changes since <b>1.185: +28 -17 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.185&amp;r2=1.186">1.185</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.185&amp;r2=1.186&amp;f=h">colored</a>)
</p>
<pre>
To prevent screwing up terminal settings when printing to the
terminal, for ASCII and UTF-8, escape bytes not forming characters
and bytes forming non-printable characters with <a href="http://man.OpenBSD.org/vis.3">vis(3)</a> VIS_OCTAL.
For other character sets, abort printing of the current string in
these cases.  In particular,
* let <a href="http://man.OpenBSD.org/scp.1">scp(1)</a> respect the local user's LC_CTYPE <a href="http://man.OpenBSD.org/locale.1">locale(1)</a>;
* sanitize data received from the remote host;
* sanitize filenames, usernames, and similar data even locally;
* take character display widths into account for the progressmeter.

This is believed to be sufficient to keep the local terminal safe
on OpenBSD, but bad things can still happen on other systems with
state-dependent locales because many places in the code print
unencoded ASCII characters into the output stream.

Using feedback from djm@ and martijn@,
various aspects discussed with many others.

deraadt@ says it should go in now, i probably already hesitated too long
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.185"></a>
 Revision <a href="scp.c?rev=1.185&amp;content-type=text/x-cvsweb-markup"><b>1.185</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.185&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.185&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.185">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.185">[select for diffs]</a>, <i>Wed Mar  2 22:43:52 2016 UTC</i> (5 years, 7 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.184: +5 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.184&amp;r2=1.185">1.184</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.184&amp;r2=1.185&amp;f=h">colored</a>)
</p>
<pre>
Improve accuracy of reported transfer speeds by waiting for the ack from
the other end.  Pointed out by mmcc@, ok deraadt@ markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.184"></a><a name="OPENBSD_5_9_BASE"></a><a name="OPENBSD_5_9"></a>
 Revision <a href="scp.c?rev=1.184&amp;content-type=text/x-cvsweb-markup"><b>1.184</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.184&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.184&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.184">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.184">[select for diffs]</a>, <i>Fri Nov 27 00:49:31 2015 UTC</i> (5 years, 11 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_5_9_BASE">OPENBSD_5_9_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_9">OPENBSD_5_9</a>
</b><br>Changes since <b>1.183: +11 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.183&amp;r2=1.184">1.183</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.183&amp;r2=1.184&amp;f=h">colored</a>)
</p>
<pre>
pledge &quot;stdio rpath wpath cpath fattr tty proc exec&quot; except for the
-p option (which sadly has insane semantics...)
ok semarie dtucker
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.183"></a>
 Revision <a href="scp.c?rev=1.183&amp;content-type=text/x-cvsweb-markup"><b>1.183</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.183&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.183&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.183">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.183">[select for diffs]</a>, <i>Fri Oct 16 17:07:24 2015 UTC</i> (6 years ago) by <i>mmcc</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.182: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.182&amp;r2=1.183">1.182</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.182&amp;r2=1.183&amp;f=h">colored</a>)
</p>
<pre>
0 -&gt; NULL when comparing with a char*.

ok dtucker@, djm@.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.182"></a><a name="OPENBSD_5_8_BASE"></a><a name="OPENBSD_5_8"></a>
 Revision <a href="scp.c?rev=1.182&amp;content-type=text/x-cvsweb-markup"><b>1.182</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.182&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.182&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.182">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.182">[select for diffs]</a>, <i>Fri Apr 24 01:36:00 2015 UTC</i> (6 years, 6 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_5_8_BASE">OPENBSD_5_8_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_8">OPENBSD_5_8</a>
</b><br>Changes since <b>1.181: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.181&amp;r2=1.182">1.181</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.181&amp;r2=1.182&amp;f=h">colored</a>)
</p>
<pre>
rename xrealloc() to xreallocarray() since it follows that form.
ok djm
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.181"></a><a name="OPENBSD_5_7_BASE"></a><a name="OPENBSD_5_7"></a>
 Revision <a href="scp.c?rev=1.181&amp;content-type=text/x-cvsweb-markup"><b>1.181</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.181&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.181&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.181">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.181">[select for diffs]</a>, <i>Fri Jan 16 06:40:12 2015 UTC</i> (6 years, 9 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_5_7_BASE">OPENBSD_5_7_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_7">OPENBSD_5_7</a>
</b><br>Changes since <b>1.180: +5 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.180&amp;r2=1.181">1.180</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.180&amp;r2=1.181&amp;f=h">colored</a>)
</p>
<pre>
Replace &lt;sys/param.h&gt; with &lt;limits.h&gt; and other less dirty headers where
possible.  Annotate &lt;sys/param.h&gt; lines with their current reasons.  Switch
to PATH_MAX, NGROUPS_MAX, HOST_NAME_MAX+1, LOGIN_NAME_MAX, etc.  Change
MIN() and MAX() to local definitions of MINIMUM() and MAXIMUM() where
sensible to avoid pulling in the pollution.  These are the files confirmed
through binary verification.
ok guenther, millert, doug (helped with the verification protocol)
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.180"></a><a name="OPENBSD_5_6_BASE"></a><a name="OPENBSD_5_6"></a>
 Revision <a href="scp.c?rev=1.180&amp;content-type=text/x-cvsweb-markup"><b>1.180</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.180&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.180&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.180">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.180">[select for diffs]</a>, <i>Tue Jun 24 02:21:01 2014 UTC</i> (7 years, 4 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_5_6_BASE">OPENBSD_5_6_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_6">OPENBSD_5_6</a>
</b><br>Changes since <b>1.179: +7 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.179&amp;r2=1.180">1.179</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.179&amp;r2=1.180&amp;f=h">colored</a>)
</p>
<pre>
when copying local-&gt;remote fails during read, don't send uninitialised
heap to the remote end. Reported by Jann Horn
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.179"></a><a name="OPENBSD_5_5_BASE"></a><a name="OPENBSD_5_5"></a>
 Revision <a href="scp.c?rev=1.179&amp;content-type=text/x-cvsweb-markup"><b>1.179</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.179&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.179&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.179">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.179">[select for diffs]</a>, <i>Wed Nov 20 20:53:10 2013 UTC</i> (7 years, 11 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_5_5_BASE">OPENBSD_5_5_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_5">OPENBSD_5_5</a>
</b><br>Changes since <b>1.178: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.178&amp;r2=1.179">1.178</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.178&amp;r2=1.179&amp;f=h">colored</a>)
</p>
<pre>
unsigned casts for ctype macros where neccessary
ok guenther millert markus
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.178"></a><a name="OPENBSD_5_4_BASE"></a><a name="OPENBSD_5_4"></a>
 Revision <a href="scp.c?rev=1.178&amp;content-type=text/x-cvsweb-markup"><b>1.178</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.178&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.178&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.178">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.178">[select for diffs]</a>, <i>Sat Jun 22 06:31:57 2013 UTC</i> (8 years, 4 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_5_4_BASE">OPENBSD_5_4_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_4">OPENBSD_5_4</a>
</b><br>Changes since <b>1.177: +5 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.177&amp;r2=1.178">1.177</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.177&amp;r2=1.178&amp;f=h">colored</a>)
</p>
<pre>
improved time_t overflow check suggested by guenther@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.177"></a>
 Revision <a href="scp.c?rev=1.177&amp;content-type=text/x-cvsweb-markup"><b>1.177</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.177&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.177&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.177">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.177">[select for diffs]</a>, <i>Fri Jun 21 05:43:10 2013 UTC</i> (8 years, 4 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.176: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.176&amp;r2=1.177">1.176</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.176&amp;r2=1.177&amp;f=h">colored</a>)
</p>
<pre>
make this -Wsign-compare clean after time_t conversion
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.176"></a>
 Revision <a href="scp.c?rev=1.176&amp;content-type=text/x-cvsweb-markup"><b>1.176</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.176&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.176&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.176">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.176">[select for diffs]</a>, <i>Mon Jun 17 04:48:42 2013 UTC</i> (8 years, 4 months ago) by <i>guenther</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.175: +38 -25 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.175&amp;r2=1.176">1.175</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.175&amp;r2=1.176&amp;f=h">colored</a>)
</p>
<pre>
Handle time_t values as long long's when formatting them and when
parsing them from remote servers.
Improve error checking in parsing of 'T' lines.

ok dtucker@ deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.175"></a>
 Revision <a href="scp.c?rev=1.175&amp;content-type=text/x-cvsweb-markup"><b>1.175</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.175&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.175&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.175">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.175">[select for diffs]</a>, <i>Tue Jun  4 19:12:23 2013 UTC</i> (8 years, 4 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.174: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.174&amp;r2=1.175">1.174</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.174&amp;r2=1.175&amp;f=h">colored</a>)
</p>
<pre>
use MAXPATHLEN for buffer size instead of fixed value.  ok markus
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.174"></a>
 Revision <a href="scp.c?rev=1.174&amp;content-type=text/x-cvsweb-markup"><b>1.174</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.174&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.174&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.174">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.174">[select for diffs]</a>, <i>Sat Jun  1 20:59:25 2013 UTC</i> (8 years, 5 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.173: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.173&amp;r2=1.174">1.173</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.173&amp;r2=1.174&amp;f=h">colored</a>)
</p>
<pre>
Replace S_IWRITE, which isn't standardized, with S_IWUSR, which is.  Patch
from Nathan Osman via bz#2085.  ok deraadt.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.173"></a>
 Revision <a href="scp.c?rev=1.173&amp;content-type=text/x-cvsweb-markup"><b>1.173</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.173&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.173&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.173">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.173">[select for diffs]</a>, <i>Fri May 17 00:13:14 2013 UTC</i> (8 years, 5 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.172: +10 -12 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.172&amp;r2=1.173">1.172</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.172&amp;r2=1.173&amp;f=h">colored</a>)
</p>
<pre>
bye, bye xfree(); ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.172"></a>
 Revision <a href="scp.c?rev=1.172&amp;content-type=text/x-cvsweb-markup"><b>1.172</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.172&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.172&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.172">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.172">[select for diffs]</a>, <i>Thu May 16 09:08:41 2013 UTC</i> (8 years, 5 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.171: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.171&amp;r2=1.172">1.171</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.171&amp;r2=1.172&amp;f=h">colored</a>)
</p>
<pre>
Fix some &quot;unused result&quot; warnings found via clang and -portable.  ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.171"></a><a name="OPENBSD_5_3_BASE"></a><a name="OPENBSD_5_3"></a><a name="OPENBSD_5_2_BASE"></a><a name="OPENBSD_5_2"></a><a name="OPENBSD_5_1_BASE"></a><a name="OPENBSD_5_1"></a>
 Revision <a href="scp.c?rev=1.171&amp;content-type=text/x-cvsweb-markup"><b>1.171</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.171&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.171&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.171">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.171">[select for diffs]</a>, <i>Fri Sep  9 22:37:01 2011 UTC</i> (10 years, 1 month ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_5_3_BASE">OPENBSD_5_3_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_3">OPENBSD_5_3</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_2_BASE">OPENBSD_5_2_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_2">OPENBSD_5_2</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_1_BASE">OPENBSD_5_1_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_1">OPENBSD_5_1</a>
</b><br>Changes since <b>1.170: +9 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.170&amp;r2=1.171">1.170</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.170&amp;r2=1.171&amp;f=h">colored</a>)
</p>
<pre>
suppress adding '--' to remote commandlines when the first argument
does not start with '-'. saves breakage on some difficult-to-upgrade
embedded/router platforms; feedback &amp; ok dtucker ok markus
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.170"></a><a name="OPENBSD_5_0_BASE"></a><a name="OPENBSD_5_0"></a><a name="OPENBSD_4_9_BASE"></a><a name="OPENBSD_4_9"></a>
 Revision <a href="scp.c?rev=1.170&amp;content-type=text/x-cvsweb-markup"><b>1.170</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.170&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.170&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.170">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.170">[select for diffs]</a>, <i>Thu Dec  9 14:13:33 2010 UTC</i> (10 years, 10 months ago) by <i>jmc</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_5_0_BASE">OPENBSD_5_0_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_5_0">OPENBSD_5_0</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_9_BASE">OPENBSD_4_9_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_9">OPENBSD_4_9</a>
</b><br>Changes since <b>1.169: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.169&amp;r2=1.170">1.169</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.169&amp;r2=1.170&amp;f=h">colored</a>)
</p>
<pre>
<a href="http://man.OpenBSD.org/scp.1">scp.1</a>: grammer fix
scp.c: add -3 to usage()
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.169"></a>
 Revision <a href="scp.c?rev=1.169&amp;content-type=text/x-cvsweb-markup"><b>1.169</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.169&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.169&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.169">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.169">[select for diffs]</a>, <i>Wed Dec  8 22:46:03 2010 UTC</i> (10 years, 10 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.168: +86 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.168&amp;r2=1.169">1.168</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.168&amp;r2=1.169&amp;f=h">colored</a>)
</p>
<pre>
add a new -3 option to scp: Copies between two remote hosts are
transferred through the local host.  Without this option the data
is copied directly between the two remote hosts. ok djm@ (bugzilla #1837)
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.168"></a>
 Revision <a href="scp.c?rev=1.168&amp;content-type=text/x-cvsweb-markup"><b>1.168</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.168&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.168&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.168">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.168">[select for diffs]</a>, <i>Fri Nov 26 05:52:49 2010 UTC</i> (10 years, 11 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.167: +22 -10 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.167&amp;r2=1.168">1.167</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.167&amp;r2=1.168&amp;f=h">colored</a>)
</p>
<pre>
Pass through ssh command-line flags and options when doing remote-remote
transfers, e.g. to enable agent forwarding which is particularly useful
in this case; bz#1837 ok dtucker@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.167"></a>
 Revision <a href="scp.c?rev=1.167&amp;content-type=text/x-cvsweb-markup"><b>1.167</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.167&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.167&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.167">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.167">[select for diffs]</a>, <i>Wed Sep 22 22:58:51 2010 UTC</i> (11 years, 1 month ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.166: +22 -99 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.166&amp;r2=1.167">1.166</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.166&amp;r2=1.167&amp;f=h">colored</a>)
</p>
<pre>
add an option per-read/write callback to atomicio

factor out bandwidth limiting code from <a href="http://man.OpenBSD.org/scp.1">scp(1)</a> into a generic bandwidth
limiter that can be attached using the atomicio callback mechanism

add a bandwidth limit option to <a href="http://man.OpenBSD.org/sftp.1">sftp(1)</a> using the above

&quot;very nice&quot; markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.166"></a><a name="OPENBSD_4_8_BASE"></a><a name="OPENBSD_4_8"></a>
 Revision <a href="scp.c?rev=1.166&amp;content-type=text/x-cvsweb-markup"><b>1.166</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.166&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.166&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.166">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.166">[select for diffs]</a>, <i>Thu Jul  1 13:06:59 2010 UTC</i> (11 years, 4 months ago) by <i>millert</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_4_8_BASE">OPENBSD_4_8_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_8">OPENBSD_4_8</a>
</b><br>Changes since <b>1.165: +19 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.165&amp;r2=1.166">1.165</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.165&amp;r2=1.166&amp;f=h">colored</a>)
</p>
<pre>
Fix a longstanding problem where if you suspend scp at the
password/passphrase prompt the terminal mode is not restored.
OK djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.165"></a><a name="OPENBSD_4_7_BASE"></a><a name="OPENBSD_4_7"></a>
 Revision <a href="scp.c?rev=1.165&amp;content-type=text/x-cvsweb-markup"><b>1.165</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.165&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.165&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.165">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.165">[select for diffs]</a>, <i>Sun Dec 20 07:28:36 2009 UTC</i> (11 years, 10 months ago) by <i>guenther</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_4_7_BASE">OPENBSD_4_7_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_7">OPENBSD_4_7</a>
</b><br>Changes since <b>1.164: +14 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.164&amp;r2=1.165">1.164</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.164&amp;r2=1.165&amp;f=h">colored</a>)
</p>
<pre>
When passing user-controlled options with arguments to other programs,
pass the option and option argument as separate argv entries and
not smashed into one (e.g., as -l foo and not -lfoo).  Also, always
pass a &quot;--&quot; argument to stop option parsing, so that a positional
argument that starts with a '-' isn't treated as an option.  This
fixes some error cases as well as the handling of hostnames and
filenames that start with a '-'.

Based on a diff by halex@
ok halex@ djm@ deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.164"></a><a name="OPENBSD_4_6_BASE"></a><a name="OPENBSD_4_6"></a><a name="OPENBSD_4_5_BASE"></a><a name="OPENBSD_4_5"></a>
 Revision <a href="scp.c?rev=1.164&amp;content-type=text/x-cvsweb-markup"><b>1.164</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.164&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.164&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.164">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.164">[select for diffs]</a>, <i>Fri Oct 10 04:55:16 2008 UTC</i> (13 years ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_4_6_BASE">OPENBSD_4_6_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_6">OPENBSD_4_6</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_5_BASE">OPENBSD_4_5_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_5">OPENBSD_4_5</a>
</b><br>Changes since <b>1.163: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.163&amp;r2=1.164">1.163</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.163&amp;r2=1.164&amp;f=h">colored</a>)
</p>
<pre>
spelling in comment; ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.163"></a><a name="OPENBSD_4_4_BASE"></a><a name="OPENBSD_4_4"></a>
 Revision <a href="scp.c?rev=1.163&amp;content-type=text/x-cvsweb-markup"><b>1.163</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.163&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.163&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.163">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.163">[select for diffs]</a>, <i>Fri Jun 13 18:55:22 2008 UTC</i> (13 years, 4 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_4_4_BASE">OPENBSD_4_4_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_4">OPENBSD_4_4</a>
</b><br>Changes since <b>1.162: +8 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.162&amp;r2=1.163">1.162</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.162&amp;r2=1.163&amp;f=h">colored</a>)
</p>
<pre>
Prevent -Wsign-compare warnings on LP64 systems.  bz #1192, ok deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.162"></a><a name="OPENBSD_4_3_BASE"></a><a name="OPENBSD_4_3"></a>
 Revision <a href="scp.c?rev=1.162&amp;content-type=text/x-cvsweb-markup"><b>1.162</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.162&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.162&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.162">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.162">[select for diffs]</a>, <i>Tue Jan  1 09:06:39 2008 UTC</i> (13 years, 10 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_4_3_BASE">OPENBSD_4_3_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_3">OPENBSD_4_3</a>
</b><br>Changes since <b>1.161: +9 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.161&amp;r2=1.162">1.161</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.161&amp;r2=1.162&amp;f=h">colored</a>)
</p>
<pre>
If scp -p encounters a pre-epoch timestamp, use the epoch which is
as close as we can get given that it's used unsigned.  Add a little
debugging while there.  bz #828, ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.161"></a>
 Revision <a href="scp.c?rev=1.161&amp;content-type=text/x-cvsweb-markup"><b>1.161</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.161&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.161&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.161">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.161">[select for diffs]</a>, <i>Wed Oct 24 03:44:02 2007 UTC</i> (14 years ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.160: +63 -27 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.160&amp;r2=1.161">1.160</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.160&amp;r2=1.161&amp;f=h">colored</a>)
</p>
<pre>
factor out network read/write into an atomicio()-like function, and use it
to handle short reads, apply bandwidth limits and update counters.
make network IO non-blocking, so a small trickle of reads/writes has a
chance of updating the progress meter; bz #799
ok dtucker@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.160"></a><a name="OPENBSD_4_2_BASE"></a><a name="OPENBSD_4_2"></a>
 Revision <a href="scp.c?rev=1.160&amp;content-type=text/x-cvsweb-markup"><b>1.160</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.160&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.160&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.160">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.160">[select for diffs]</a>, <i>Mon Aug  6 19:16:06 2007 UTC</i> (14 years, 2 months ago) by <i>sobrado</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_4_2_BASE">OPENBSD_4_2_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_2">OPENBSD_4_2</a>
</b><br>Changes since <b>1.159: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.159&amp;r2=1.160">1.159</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.159&amp;r2=1.160&amp;f=h">colored</a>)
</p>
<pre>
the ellipsis is not an optional argument; while here, sync the usage
and synopsis of commands

lots of good ideas by jmc@

ok jmc@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.159"></a>
 Revision <a href="scp.c?rev=1.159&amp;content-type=text/x-cvsweb-markup"><b>1.159</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.159&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.159&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.159">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.159">[select for diffs]</a>, <i>Wed Jun 13 00:21:27 2007 UTC</i> (14 years, 4 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.158: +3 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.158&amp;r2=1.159">1.158</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.158&amp;r2=1.159&amp;f=h">colored</a>)
</p>
<pre>
don't ftruncate() non-regular files; bz#1236 reported by wood AT xmission.com;
ok dtucker@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.158"></a>
 Revision <a href="scp.c?rev=1.158&amp;content-type=text/x-cvsweb-markup"><b>1.158</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.158&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.158&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.158">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.158">[select for diffs]</a>, <i>Tue Jun 12 13:54:28 2007 UTC</i> (14 years, 4 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.157: +7 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.157&amp;r2=1.158">1.157</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.157&amp;r2=1.158&amp;f=h">colored</a>)
</p>
<pre>
Encode filename with strnvis if the name contains a newline (which can't
be represented in the scp protocol), from bz #891.  ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.157"></a>
 Revision <a href="scp.c?rev=1.157&amp;content-type=text/x-cvsweb-markup"><b>1.157</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.157&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.157&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.157">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.157">[select for diffs]</a>, <i>Tue Jun 12 08:24:20 2007 UTC</i> (14 years, 4 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.156: +3 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.156&amp;r2=1.157">1.156</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.156&amp;r2=1.157&amp;f=h">colored</a>)
</p>
<pre>
make scp try to skip FIFOs rather than blocking when nothing is listening.
depends on the platform supporting sane O_NONBLOCK semantics for open
on FIFOs (apparently POSIX does not mandate this), which OpenBSD does.
bz #856; report by cjwatson AT debian.org; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.156"></a><a name="OPENBSD_4_1_BASE"></a><a name="OPENBSD_4_1"></a>
 Revision <a href="scp.c?rev=1.156&amp;content-type=text/x-cvsweb-markup"><b>1.156</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.156&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.156&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.156">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.156">[select for diffs]</a>, <i>Mon Jan 22 13:06:21 2007 UTC</i> (14 years, 9 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_4_1_BASE">OPENBSD_4_1_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_1">OPENBSD_4_1</a>
</b><br>Changes since <b>1.155: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.155&amp;r2=1.156">1.155</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.155&amp;r2=1.156&amp;f=h">colored</a>)
</p>
<pre>
fix detection of whether we should show progress meter or not: scp
tested isatty(stderr) but wrote the progress meter to stdout. This patch
makes it test stdout. bz#1265 reported by junkmail AT bitsculpture.com;
of dtucker@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.125.2.2"></a><a name="OPENBSD_3_8"></a>
 Revision <a href="scp.c?rev=1.125.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.125.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.125.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.125.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.125.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.125.2.2">[select for diffs]</a>, <i>Fri Oct  6 03:19:33 2006 UTC</i> (15 years ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_8">OPENBSD_3_8</a>
</b>
<br>Changes since <b>1.125.2.1: +51 -29 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.125.2.1&amp;r2=1.125.2.2">1.125.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.125.2.1&amp;r2=1.125.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.125&amp;r2=1.125.2.2">1.125</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.125&amp;r2=1.125.2.2&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.126&amp;r2=1.125.2.2">1.126</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.126&amp;r2=1.125.2.2&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 4.4
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.135.2.1"></a><a name="OPENBSD_3_9"></a>
 Revision <a href="scp.c?rev=1.135.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.135.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.135.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.135.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.135.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.135.2.1">[select for diffs]</a>, <i>Sat Sep 30 04:06:51 2006 UTC</i> (15 years, 1 month ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_9">OPENBSD_3_9</a>
</b>
<br>Changes since <b>1.135: +44 -30 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.135&amp;r2=1.135.2.1">1.135</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.135&amp;r2=1.135.2.1&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.136&amp;r2=1.135.2.1">1.136</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.136&amp;r2=1.135.2.1&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 4.4
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.155"></a><a name="OPENBSD_4_0_BASE"></a><a name="OPENBSD_4_0"></a>
 Revision <a href="scp.c?rev=1.155&amp;content-type=text/x-cvsweb-markup"><b>1.155</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.155&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.155&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.155">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.155">[select for diffs]</a>, <i>Thu Aug  3 03:34:42 2006 UTC</i> (15 years, 3 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_4_0_BASE">OPENBSD_4_0_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_4_0">OPENBSD_4_0</a>
</b><br>Changes since <b>1.154: +3 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.154&amp;r2=1.155">1.154</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.154&amp;r2=1.155&amp;f=h">colored</a>)
</p>
<pre>
almost entirely get rid of the culture of &quot;.h files that include .h files&quot;
ok djm, sort of ok stevesk
makes the pain stop in one easy step
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.154"></a>
 Revision <a href="scp.c?rev=1.154&amp;content-type=text/x-cvsweb-markup"><b>1.154</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.154&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.154&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.154">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.154">[select for diffs]</a>, <i>Tue Aug  1 23:22:47 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.153: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.153&amp;r2=1.154">1.153</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.153&amp;r2=1.154&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;stdio.h&gt; out of includes.h
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.153"></a>
 Revision <a href="scp.c?rev=1.153&amp;content-type=text/x-cvsweb-markup"><b>1.153</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.153&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.153&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.153">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.153">[select for diffs]</a>, <i>Wed Jul 26 13:57:17 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.152: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.152&amp;r2=1.153">1.152</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.152&amp;r2=1.153&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;stdlib.h&gt; out of includes.h
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.152"></a>
 Revision <a href="scp.c?rev=1.152&amp;content-type=text/x-cvsweb-markup"><b>1.152</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.152&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.152&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.152">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.152">[select for diffs]</a>, <i>Wed Jul 26 02:35:17 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.151: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.151&amp;r2=1.152">1.151</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.151&amp;r2=1.152&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;sys/param.h&gt; out of includes.h
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.151"></a>
 Revision <a href="scp.c?rev=1.151&amp;content-type=text/x-cvsweb-markup"><b>1.151</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.151&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.151&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.151">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.151">[select for diffs]</a>, <i>Tue Jul 25 02:59:21 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.150: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.150&amp;r2=1.151">1.150</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.150&amp;r2=1.151&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;sys/time.h&gt; out of includes.h
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.150"></a>
 Revision <a href="scp.c?rev=1.150&amp;content-type=text/x-cvsweb-markup"><b>1.150</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.150&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.150&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.150">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.150">[select for diffs]</a>, <i>Sat Jul 22 20:48:23 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.149: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.149&amp;r2=1.150">1.149</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.149&amp;r2=1.150&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;string.h&gt; out of includes.h
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.149"></a>
 Revision <a href="scp.c?rev=1.149&amp;content-type=text/x-cvsweb-markup"><b>1.149</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.149&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.149&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.149">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.149">[select for diffs]</a>, <i>Sat Jul 22 19:08:54 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.148: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.148&amp;r2=1.149">1.148</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.148&amp;r2=1.149&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;time.h&gt; out of includes.h
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.148"></a>
 Revision <a href="scp.c?rev=1.148&amp;content-type=text/x-cvsweb-markup"><b>1.148</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.148&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.148&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.148">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.148">[select for diffs]</a>, <i>Mon Jul 17 01:31:09 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.147: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.147&amp;r2=1.148">1.147</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.147&amp;r2=1.148&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;unistd.h&gt; out of includes.h
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.147"></a>
 Revision <a href="scp.c?rev=1.147&amp;content-type=text/x-cvsweb-markup"><b>1.147</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.147&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.147&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.147">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.147">[select for diffs]</a>, <i>Tue Jul 11 20:07:25 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.146: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.146&amp;r2=1.147">1.146</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.146&amp;r2=1.147&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;errno.h&gt; out of includes.h; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.146"></a>
 Revision <a href="scp.c?rev=1.146&amp;content-type=text/x-cvsweb-markup"><b>1.146</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.146&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.146&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.146">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.146">[select for diffs]</a>, <i>Mon Jul 10 16:37:36 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.145: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.145&amp;r2=1.146">1.145</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.145&amp;r2=1.146&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;stdarg.h&gt; out of includes.h; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.145"></a>
 Revision <a href="scp.c?rev=1.145&amp;content-type=text/x-cvsweb-markup"><b>1.145</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.145&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.145&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.145">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.145">[select for diffs]</a>, <i>Mon Jul 10 12:03:20 2006 UTC</i> (15 years, 3 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.144: +9 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.144&amp;r2=1.145">1.144</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.144&amp;r2=1.145&amp;f=h">colored</a>)
</p>
<pre>
duplicate argv at the start of main() because it gets modified later;
pointed out by deraadt@ ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.144"></a>
 Revision <a href="scp.c?rev=1.144&amp;content-type=text/x-cvsweb-markup"><b>1.144</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.144&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.144&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.144">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.144">[select for diffs]</a>, <i>Sun Jul  9 15:15:10 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.143: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.143&amp;r2=1.144">1.143</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.143&amp;r2=1.144&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;fcntl.h&gt; out of includes.h
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.143"></a>
 Revision <a href="scp.c?rev=1.143&amp;content-type=text/x-cvsweb-markup"><b>1.143</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.143&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.143&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.143">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.143">[select for diffs]</a>, <i>Thu Jul  6 16:03:53 2006 UTC</i> (15 years, 3 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.142: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.142&amp;r2=1.143">1.142</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.142&amp;r2=1.143&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;pwd.h&gt; out of includes.h; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.142"></a>
 Revision <a href="scp.c?rev=1.142&amp;content-type=text/x-cvsweb-markup"><b>1.142</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.142&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.142&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.142">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.142">[select for diffs]</a>, <i>Wed May 17 12:43:34 2006 UTC</i> (15 years, 5 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.141: +4 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.141&amp;r2=1.142">1.141</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.141&amp;r2=1.142&amp;f=h">colored</a>)
</p>
<pre>
fix leak; coverity via Kylene Jo Hall
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.141"></a>
 Revision <a href="scp.c?rev=1.141&amp;content-type=text/x-cvsweb-markup"><b>1.141</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.141&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.141&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.141">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.141">[select for diffs]</a>, <i>Sat Apr  1 05:50:29 2006 UTC</i> (15 years, 7 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.140: +3 -9 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.140&amp;r2=1.141">1.140</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.140&amp;r2=1.141&amp;f=h">colored</a>)
</p>
<pre>
xasprintification; ok deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.140"></a>
 Revision <a href="scp.c?rev=1.140&amp;content-type=text/x-cvsweb-markup"><b>1.140</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.140&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.140&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.140">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.140">[select for diffs]</a>, <i>Sat Apr  1 05:42:20 2006 UTC</i> (15 years, 7 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.139: +11 -9 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.139&amp;r2=1.140">1.139</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.139&amp;r2=1.140&amp;f=h">colored</a>)
</p>
<pre>
minimal lint cleanup (unused crud, and some size_t); ok djm
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.139"></a>
 Revision <a href="scp.c?rev=1.139&amp;content-type=text/x-cvsweb-markup"><b>1.139</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.139&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.139&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.139">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.139">[select for diffs]</a>, <i>Sat Mar 25 13:17:02 2006 UTC</i> (15 years, 7 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.138: +1 -0 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.138&amp;r2=1.139">1.138</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.138&amp;r2=1.139&amp;f=h">colored</a>)
</p>
<pre>
Put $OpenBSD$ tags back (as comments) to replace the RCSID()s that
Theo nuked - our scripts to sync -portable need them in the files
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.138"></a>
 Revision <a href="scp.c?rev=1.138&amp;content-type=text/x-cvsweb-markup"><b>1.138</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.138&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.138&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.138">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.138">[select for diffs]</a>, <i>Sat Mar 25 01:13:23 2006 UTC</i> (15 years, 7 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.137: +1 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.137&amp;r2=1.138">1.137</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.137&amp;r2=1.138&amp;f=h">colored</a>)
</p>
<pre>
change OpenSSH's xrealloc() function from being xrealloc(p, new_size) to
xrealloc(p, new_nmemb, new_itemsize).

realloc is particularly prone to integer overflows because it is almost
always allocating &quot;n * size&quot; bytes, so this is a far safer API;
ok deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.137"></a>
 Revision <a href="scp.c?rev=1.137&amp;content-type=text/x-cvsweb-markup"><b>1.137</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.137&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.137&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.137">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.137">[select for diffs]</a>, <i>Sun Mar 19 18:51:18 2006 UTC</i> (15 years, 7 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.136: +0 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.136&amp;r2=1.137">1.136</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.136&amp;r2=1.137&amp;f=h">colored</a>)
</p>
<pre>
RCSID() can die
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.136"></a>
 Revision <a href="scp.c?rev=1.136&amp;content-type=text/x-cvsweb-markup"><b>1.136</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.136&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.136&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.136">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.136">[select for diffs]</a>, <i>Thu Mar 16 10:31:45 2006 UTC</i> (15 years, 7 months ago) by <i>biorn</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.135: +10 -10 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.135&amp;r2=1.136">1.135</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.135&amp;r2=1.136&amp;f=h">colored</a>)
</p>
<pre>
Try to display errormessage even if remout == -1

ok djm@, markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.135"></a><a name="OPENBSD_3_9_BASE"></a>
 Revision <a href="scp.c?rev=1.135&amp;content-type=text/x-cvsweb-markup"><b>1.135</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.135&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.135&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.135">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.135">[select for diffs]</a>, <i>Wed Feb 22 00:04:44 2006 UTC</i> (15 years, 8 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_3_9_BASE">OPENBSD_3_9_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_3_9">OPENBSD_3_9</a>
</b>
<br>Changes since <b>1.134: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.134&amp;r2=1.135">1.134</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.134&amp;r2=1.135&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;ctype.h&gt; out of includes.h; ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.134"></a>
 Revision <a href="scp.c?rev=1.134&amp;content-type=text/x-cvsweb-markup"><b>1.134</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.134&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.134&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.134">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.134">[select for diffs]</a>, <i>Mon Feb 20 17:19:54 2006 UTC</i> (15 years, 8 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.133: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.133&amp;r2=1.134">1.133</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.133&amp;r2=1.134&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;sys/stat.h&gt; out of includes.h; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.133"></a>
 Revision <a href="scp.c?rev=1.133&amp;content-type=text/x-cvsweb-markup"><b>1.133</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.133&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.133&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.133">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.133">[select for diffs]</a>, <i>Mon Feb 20 17:02:44 2006 UTC</i> (15 years, 8 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.132: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.132&amp;r2=1.133">1.132</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.132&amp;r2=1.133&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;signal.h&gt; out of includes.h; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.132"></a>
 Revision <a href="scp.c?rev=1.132&amp;content-type=text/x-cvsweb-markup"><b>1.132</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.132&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.132&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.132">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.132">[select for diffs]</a>, <i>Fri Feb 10 01:44:26 2006 UTC</i> (15 years, 8 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.131: +4 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.131&amp;r2=1.132">1.131</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.131&amp;r2=1.132&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;sys/wait.h&gt; out of includes.h; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.131"></a>
 Revision <a href="scp.c?rev=1.131&amp;content-type=text/x-cvsweb-markup"><b>1.131</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.131&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.131&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.131">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.131">[select for diffs]</a>, <i>Wed Feb  8 23:51:24 2006 UTC</i> (15 years, 8 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.130: +3 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.130&amp;r2=1.131">1.130</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.130&amp;r2=1.131&amp;f=h">colored</a>)
</p>
<pre>
move #include &lt;dirent.h&gt; out of includes.h; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.125.2.1"></a>
 Revision <a href="scp.c?rev=1.125.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.125.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.125.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.125.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.125.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.125.2.1">[select for diffs]</a>, <i>Fri Feb  3 03:01:56 2006 UTC</i> (15 years, 9 months ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_8">OPENBSD_3_8</a>
</b>
<br>Changes since <b>1.125: +101 -49 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.125&amp;r2=1.125.2.1">1.125</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.125&amp;r2=1.125.2.1&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 4.3
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.119.2.2"></a><a name="OPENBSD_3_7"></a>
 Revision <a href="scp.c?rev=1.119.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.119.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.119.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.119.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.119.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.119.2.2">[select for diffs]</a>, <i>Fri Feb  3 02:53:44 2006 UTC</i> (15 years, 9 months ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_7">OPENBSD_3_7</a>
</b>
<br>Changes since <b>1.119.2.1: +101 -49 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.119.2.1&amp;r2=1.119.2.2">1.119.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.119.2.1&amp;r2=1.119.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.119&amp;r2=1.119.2.2">1.119</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.119&amp;r2=1.119.2.2&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.120&amp;r2=1.119.2.2">1.120</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.120&amp;r2=1.119.2.2&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 4.3
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.130"></a>
 Revision <a href="scp.c?rev=1.130&amp;content-type=text/x-cvsweb-markup"><b>1.130</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.130&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.130&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.130">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.130">[select for diffs]</a>, <i>Tue Jan 31 10:35:43 2006 UTC</i> (15 years, 9 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.129: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.129&amp;r2=1.130">1.129</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.129&amp;r2=1.130&amp;f=h">colored</a>)
</p>
<pre>
&quot;scp a b c&quot; shouldn't clobber &quot;c&quot; when it is not a directory, report and
fix from biorn@; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.129"></a>
 Revision <a href="scp.c?rev=1.129&amp;content-type=text/x-cvsweb-markup"><b>1.129</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.129&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.129&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.129">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.129">[select for diffs]</a>, <i>Tue Jan 31 10:19:02 2006 UTC</i> (15 years, 9 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.128: +87 -45 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.128&amp;r2=1.129">1.128</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.128&amp;r2=1.129&amp;f=h">colored</a>)
</p>
<pre>
fix local arbitrary command execution vulnerability on local/local and
remote/remote copies (CVE-2006-0225, bz #1094), patch by
t8m AT centrum.cz, polished by dtucker@ and myself; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.128"></a>
 Revision <a href="scp.c?rev=1.128&amp;content-type=text/x-cvsweb-markup"><b>1.128</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.128&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.128&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.128">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.128">[select for diffs]</a>, <i>Tue Dec  6 22:38:27 2005 UTC</i> (15 years, 10 months ago) by <i>reyk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.127: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.127&amp;r2=1.128">1.127</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.127&amp;r2=1.128&amp;f=h">colored</a>)
</p>
<pre>
Add support for <a href="http://man.OpenBSD.org/tun.4">tun(4)</a> forwarding over OpenSSH, based on an idea and
initial channel code bits by markus@. This is a simple and easy way to
use OpenSSH for ad hoc virtual private network connections, e.g.
administrative tunnels or secure wireless access. It's based on a new
ssh channel and works similar to the existing TCP forwarding support,
except that it depends on the <a href="http://man.OpenBSD.org/tun.4">tun(4)</a> network interface on both ends of
the connection for layer 2 or layer 3 tunneling. This diff also adds
support for LocalCommand in the <a href="http://man.OpenBSD.org/ssh.1">ssh(1)</a> client.

ok djm@, markus@, jmc@ (manpages), tested and discussed with others
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.127"></a>
 Revision <a href="scp.c?rev=1.127&amp;content-type=text/x-cvsweb-markup"><b>1.127</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.127&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.127&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.127">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.127">[select for diffs]</a>, <i>Sat Nov 12 18:38:15 2005 UTC</i> (15 years, 11 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.126: +10 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.126&amp;r2=1.127">1.126</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.126&amp;r2=1.127&amp;f=h">colored</a>)
</p>
<pre>
avoid close(-1), as in rcp; ok cloder
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.126"></a>
 Revision <a href="scp.c?rev=1.126&amp;content-type=text/x-cvsweb-markup"><b>1.126</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.126&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.126&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.126">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.126">[select for diffs]</a>, <i>Tue Sep 13 23:40:07 2005 UTC</i> (16 years, 1 month ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.125: +4 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.125&amp;r2=1.126">1.125</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.125&amp;r2=1.126&amp;f=h">colored</a>)
</p>
<pre>
ensure that stdio fds are attached; ok deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.119.2.1"></a>
 Revision <a href="scp.c?rev=1.119.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.119.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.119.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.119.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.119.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.119.2.1">[select for diffs]</a>, <i>Sun Sep  4 18:40:03 2005 UTC</i> (16 years, 1 month ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_7">OPENBSD_3_7</a>
</b>
<br>Changes since <b>1.119: +28 -23 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.119&amp;r2=1.119.2.1">1.119</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.119&amp;r2=1.119.2.1&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 4.2
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.117.2.2"></a><a name="OPENBSD_3_6"></a>
 Revision <a href="scp.c?rev=1.117.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.117.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.117.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.117.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.117.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.117.2.2">[select for diffs]</a>, <i>Fri Sep  2 03:45:00 2005 UTC</i> (16 years, 2 months ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_6">OPENBSD_3_6</a>
</b>
<br>Changes since <b>1.117.2.1: +28 -23 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.117.2.1&amp;r2=1.117.2.2">1.117.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.117.2.1&amp;r2=1.117.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.117&amp;r2=1.117.2.2">1.117</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.117&amp;r2=1.117.2.2&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.118&amp;r2=1.117.2.2">1.118</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.118&amp;r2=1.117.2.2&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 4.2
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.125"></a><a name="OPENBSD_3_8_BASE"></a>
 Revision <a href="scp.c?rev=1.125&amp;content-type=text/x-cvsweb-markup"><b>1.125</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.125&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.125&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.125">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.125">[select for diffs]</a>, <i>Wed Jul 27 10:39:03 2005 UTC</i> (16 years, 3 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_3_8_BASE">OPENBSD_3_8_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_3_8">OPENBSD_3_8</a>
</b>
<br>Changes since <b>1.124: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.124&amp;r2=1.125">1.124</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.124&amp;r2=1.125&amp;f=h">colored</a>)
</p>
<pre>
Silence bogus -Wuninitialized warnings; ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.124"></a>
 Revision <a href="scp.c?rev=1.124&amp;content-type=text/x-cvsweb-markup"><b>1.124</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.124&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.124&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.124">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.124">[select for diffs]</a>, <i>Fri Jun 17 02:44:33 2005 UTC</i> (16 years, 4 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.123: +5 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.123&amp;r2=1.124">1.123</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.123&amp;r2=1.124&amp;f=h">colored</a>)
</p>
<pre>
make this -Wsign-compare clean; ok avsm@ markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.123"></a>
 Revision <a href="scp.c?rev=1.123&amp;content-type=text/x-cvsweb-markup"><b>1.123</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.123&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.123&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.123">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.123">[select for diffs]</a>, <i>Thu May 26 02:08:05 2005 UTC</i> (16 years, 5 months ago) by <i>avsm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.122: +6 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.122&amp;r2=1.123">1.122</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.122&amp;r2=1.123&amp;f=h">colored</a>)
</p>
<pre>
If copying multiple files to a target file (which normally fails, as it
must be a target directory), kill the spawned ssh child before exiting.
This stops it trying to authenticate and spewing lots of output.
deraadt@ ok
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.122"></a>
 Revision <a href="scp.c?rev=1.122&amp;content-type=text/x-cvsweb-markup"><b>1.122</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.122&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.122&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.122">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.122">[select for diffs]</a>, <i>Tue May 24 17:32:43 2005 UTC</i> (16 years, 5 months ago) by <i>avsm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.121: +14 -12 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.121&amp;r2=1.122">1.121</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.121&amp;r2=1.122&amp;f=h">colored</a>)
</p>
<pre>
Switch atomicio to use a simpler interface; it now returns a size_t
(containing number of bytes read/written), and indicates error by
returning 0.  EOF is signalled by errno==EPIPE.
Typical use now becomes:

if (atomicio(read, ..., len) != len)
        err(1,&quot;read&quot;);

ok deraadt@, cloder@, djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.121"></a>
 Revision <a href="scp.c?rev=1.121&amp;content-type=text/x-cvsweb-markup"><b>1.121</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.121&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.121&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.121">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.121">[select for diffs]</a>, <i>Sat Apr  2 12:41:16 2005 UTC</i> (16 years, 7 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.120: +2 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.120&amp;r2=1.121">1.120</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.120&amp;r2=1.121&amp;f=h">colored</a>)
</p>
<pre>
since ssh has xstrdup, use it instead of strdup+test. unbreaks -Werror build
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.120"></a>
 Revision <a href="scp.c?rev=1.120&amp;content-type=text/x-cvsweb-markup"><b>1.120</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.120&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.120&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.120">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.120">[select for diffs]</a>, <i>Thu Mar 31 18:39:21 2005 UTC</i> (16 years, 7 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.119: +8 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.119&amp;r2=1.120">1.119</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.119&amp;r2=1.120&amp;f=h">colored</a>)
</p>
<pre>
copy argv[] element instead of smashing the one that ps will see; ok otto
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.113.2.2"></a><a name="OPENBSD_3_5"></a>
 Revision <a href="scp.c?rev=1.113.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.113.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.113.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.113.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.113.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.113.2.2">[select for diffs]</a>, <i>Thu Mar 10 17:15:04 2005 UTC</i> (16 years, 7 months ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_5">OPENBSD_3_5</a>
</b>
<br>Changes since <b>1.113.2.1: +5 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.113.2.1&amp;r2=1.113.2.2">1.113.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.113.2.1&amp;r2=1.113.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.113&amp;r2=1.113.2.2">1.113</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.113&amp;r2=1.113.2.2&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.114&amp;r2=1.113.2.2">1.114</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.114&amp;r2=1.113.2.2&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 4.0
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.117.2.1"></a>
 Revision <a href="scp.c?rev=1.117.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.117.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.117.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.117.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.117.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.117.2.1">[select for diffs]</a>, <i>Thu Mar 10 16:28:27 2005 UTC</i> (16 years, 7 months ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_6">OPENBSD_3_6</a>
</b>
<br>Changes since <b>1.117: +5 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.117&amp;r2=1.117.2.1">1.117</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.117&amp;r2=1.117.2.1&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 4.0
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.119"></a><a name="OPENBSD_3_7_BASE"></a>
 Revision <a href="scp.c?rev=1.119&amp;content-type=text/x-cvsweb-markup"><b>1.119</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.119&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.119&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.119">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.119">[select for diffs]</a>, <i>Mon Jan 24 10:22:06 2005 UTC</i> (16 years, 9 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_3_7_BASE">OPENBSD_3_7_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_3_7">OPENBSD_3_7</a>
</b>
<br>Changes since <b>1.118: +4 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.118&amp;r2=1.119">1.118</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.118&amp;r2=1.119&amp;f=h">colored</a>)
</p>
<pre>
Have scp and sftp wait for the spawned ssh to exit before they exit
themselves.  This prevents ssh from being unable to restore terminal
modes (not normally a problem on OpenBSD but common with -Portable
on POSIX platforms).  From peak at argo.troja.mff.cuni.cz (bz#950);
ok djm@ markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.118"></a>
 Revision <a href="scp.c?rev=1.118&amp;content-type=text/x-cvsweb-markup"><b>1.118</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.118&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.118&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.118">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.118">[select for diffs]</a>, <i>Wed Sep 15 18:46:04 2004 UTC</i> (17 years, 1 month ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.117: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.117&amp;r2=1.118">1.117</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.117&amp;r2=1.118&amp;f=h">colored</a>)
</p>
<pre>
scratch that do { } while (0) wrapper in this case
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.108.2.2"></a><a name="OPENBSD_3_4"></a>
 Revision <a href="scp.c?rev=1.108.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.108.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.108.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.108.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.108.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.108.2.2">[select for diffs]</a>, <i>Thu Aug 19 22:37:32 2004 UTC</i> (17 years, 2 months ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_4">OPENBSD_3_4</a>
</b>
<br>Changes since <b>1.108.2.1: +21 -12 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.108.2.1&amp;r2=1.108.2.2">1.108.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.108.2.1&amp;r2=1.108.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.108&amp;r2=1.108.2.2">1.108</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.108&amp;r2=1.108.2.2&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.109&amp;r2=1.108.2.2">1.109</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.109&amp;r2=1.108.2.2&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 3.9
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.113.2.1"></a>
 Revision <a href="scp.c?rev=1.113.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.113.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.113.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.113.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.113.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.113.2.1">[select for diffs]</a>, <i>Thu Aug 19 04:13:27 2004 UTC</i> (17 years, 2 months ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_5">OPENBSD_3_5</a>
</b>
<br>Changes since <b>1.113: +21 -12 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.113&amp;r2=1.113.2.1">1.113</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.113&amp;r2=1.113.2.1&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 3.9
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.117"></a><a name="OPENBSD_3_6_BASE"></a>
 Revision <a href="scp.c?rev=1.117&amp;content-type=text/x-cvsweb-markup"><b>1.117</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.117&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.117&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.117">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.117">[select for diffs]</a>, <i>Wed Aug 11 21:44:32 2004 UTC</i> (17 years, 2 months ago) by <i>avsm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_3_6_BASE">OPENBSD_3_6_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_3_6">OPENBSD_3_6</a>
</b>
<br>Changes since <b>1.116: +3 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.116&amp;r2=1.117">1.116</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.116&amp;r2=1.117&amp;f=h">colored</a>)
</p>
<pre>
use atomicio instead of homegrown equivalents or read/write.
markus@ ok
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.116"></a>
 Revision <a href="scp.c?rev=1.116&amp;content-type=text/x-cvsweb-markup"><b>1.116</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.116&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.116&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.116">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.116">[select for diffs]</a>, <i>Thu Jul  8 12:47:21 2004 UTC</i> (17 years, 3 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.115: +7 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.115&amp;r2=1.116">1.115</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.115&amp;r2=1.116&amp;f=h">colored</a>)
</p>
<pre>
Prevent scp from skipping the file following a double-error.
bz #863, ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.115"></a>
 Revision <a href="scp.c?rev=1.115&amp;content-type=text/x-cvsweb-markup"><b>1.115</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.115&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.115&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.115">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.115">[select for diffs]</a>, <i>Mon Jun 21 17:36:31 2004 UTC</i> (17 years, 4 months ago) by <i>avsm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.114: +5 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.114&amp;r2=1.115">1.114</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.114&amp;r2=1.115&amp;f=h">colored</a>)
</p>
<pre>
make ssh -Wshadow clean, no functional changes
markus@ ok
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.114"></a>
 Revision <a href="scp.c?rev=1.114&amp;content-type=text/x-cvsweb-markup"><b>1.114</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.114&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.114&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.114">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.114">[select for diffs]</a>, <i>Thu Apr  1 12:19:57 2004 UTC</i> (17 years, 7 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.113: +9 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.113&amp;r2=1.114">1.113</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.113&amp;r2=1.114&amp;f=h">colored</a>)
</p>
<pre>
limit trust between local and remote rcp/scp process,
noticed by lcamtuf; ok deraadt@, djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.102.2.2"></a><a name="OPENBSD_3_3"></a>
 Revision <a href="scp.c?rev=1.102.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.102.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.102.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.102.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.102.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.102.2.2">[select for diffs]</a>, <i>Thu Mar  4 18:18:16 2004 UTC</i> (17 years, 8 months ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_3">OPENBSD_3_3</a>
</b>
<br>Changes since <b>1.102.2.1: +12 -10 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.102.2.1&amp;r2=1.102.2.2">1.102.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.102.2.1&amp;r2=1.102.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.102&amp;r2=1.102.2.2">1.102</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.102&amp;r2=1.102.2.2&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.103&amp;r2=1.102.2.2">1.103</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.103&amp;r2=1.102.2.2&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 3.8upgrade to OpenSSH 3.8upgrade to OpenSSH 3.8
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.108.2.1"></a>
 Revision <a href="scp.c?rev=1.108.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.108.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.108.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.108.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.108.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.108.2.1">[select for diffs]</a>, <i>Sat Feb 28 03:51:33 2004 UTC</i> (17 years, 8 months ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_4">OPENBSD_3_4</a>
</b>
<br>Changes since <b>1.108: +12 -10 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.108&amp;r2=1.108.2.1">1.108</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.108&amp;r2=1.108.2.1&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 3.8
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.113"></a><a name="OPENBSD_3_5_BASE"></a>
 Revision <a href="scp.c?rev=1.113&amp;content-type=text/x-cvsweb-markup"><b>1.113</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.113&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.113&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.113">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.113">[select for diffs]</a>, <i>Sun Nov 23 23:21:21 2003 UTC</i> (17 years, 11 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_3_5_BASE">OPENBSD_3_5_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_3_5">OPENBSD_3_5</a>
</b>
<br>Changes since <b>1.112: +6 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.112&amp;r2=1.113">1.112</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.112&amp;r2=1.113&amp;f=h">colored</a>)
</p>
<pre>
from portable: rename clashing variable limit-&gt; limit_rate; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.112"></a>
 Revision <a href="scp.c?rev=1.112&amp;content-type=text/x-cvsweb-markup"><b>1.112</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.112&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.112&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.112">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.112">[select for diffs]</a>, <i>Fri Nov 21 11:57:03 2003 UTC</i> (17 years, 11 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.111: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.111&amp;r2=1.112">1.111</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.111&amp;r2=1.112&amp;f=h">colored</a>)
</p>
<pre>
unexpand and delete whitespace at EOL; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.111"></a>
 Revision <a href="scp.c?rev=1.111&amp;content-type=text/x-cvsweb-markup"><b>1.111</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.111&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.111&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.111">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.111">[select for diffs]</a>, <i>Wed Nov 12 10:12:15 2003 UTC</i> (17 years, 11 months ago) by <i>dtucker</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.110: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.110&amp;r2=1.111">1.110</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.110&amp;r2=1.111&amp;f=h">colored</a>)
</p>
<pre>
When called with -q, pass -q to ssh; suppresses SSH2 banner.  ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.110"></a>
 Revision <a href="scp.c?rev=1.110&amp;content-type=text/x-cvsweb-markup"><b>1.110</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.110&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.110&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.110">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.110">[select for diffs]</a>, <i>Wed Oct  8 08:27:36 2003 UTC</i> (18 years ago) by <i>jmc</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.109: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.109&amp;r2=1.110">1.109</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.109&amp;r2=1.110&amp;f=h">colored</a>)
</p>
<pre>
scp and sftp: add options list and sort options. options list requested
by deraadt@
sshd: use same format as ssh
ssh: remove wrong option from list
sftp-server: Subsystem is documented in <a href="http://man.OpenBSD.org/ssh_config.5">ssh_config(5)</a>, not <a href="http://man.OpenBSD.org/sshd.8">sshd(8)</a>

ok deraadt@ markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.109"></a>
 Revision <a href="scp.c?rev=1.109&amp;content-type=text/x-cvsweb-markup"><b>1.109</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.109&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.109&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.109">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.109">[select for diffs]</a>, <i>Fri Sep 19 17:40:20 2003 UTC</i> (18 years, 1 month ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.108: +3 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.108&amp;r2=1.109">1.108</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.108&amp;r2=1.109&amp;f=h">colored</a>)
</p>
<pre>
error handling for remote-remote copy; #638; report Harald Koenig;
ok millert, fgs, henning, deraadt
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.91.2.2"></a><a name="OPENBSD_3_2"></a>
 Revision <a href="scp.c?rev=1.91.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.91.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.91.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.91.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.91.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.91.2.2">[select for diffs]</a>, <i>Tue Sep 16 21:20:27 2003 UTC</i> (18 years, 1 month ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_2">OPENBSD_3_2</a>
</b>
<br>Changes since <b>1.91.2.1: +44 -53 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.91.2.1&amp;r2=1.91.2.2">1.91.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.91.2.1&amp;r2=1.91.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.91&amp;r2=1.91.2.2">1.91</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.91&amp;r2=1.91.2.2&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.92&amp;r2=1.91.2.2">1.92</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.92&amp;r2=1.91.2.2&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 3.7
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.102.2.1"></a>
 Revision <a href="scp.c?rev=1.102.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.102.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.102.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.102.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.102.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.102.2.1">[select for diffs]</a>, <i>Tue Sep 16 20:50:43 2003 UTC</i> (18 years, 1 month ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_3">OPENBSD_3_3</a>
</b>
<br>Changes since <b>1.102: +44 -53 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.102&amp;r2=1.102.2.1">1.102</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.102&amp;r2=1.102.2.1&amp;f=h">colored</a>)
</p>
<pre>
upgrade to OpenSSH 3.7
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.108"></a><a name="OPENBSD_3_4_BASE"></a>
 Revision <a href="scp.c?rev=1.108&amp;content-type=text/x-cvsweb-markup"><b>1.108</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.108&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.108&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.108">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.108">[select for diffs]</a>, <i>Fri Jul 18 01:54:25 2003 UTC</i> (18 years, 3 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_3_4_BASE">OPENBSD_3_4_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_3_4">OPENBSD_3_4</a>
</b>
<br>Changes since <b>1.107: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.107&amp;r2=1.108">1.107</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.107&amp;r2=1.108&amp;f=h">colored</a>)
</p>
<pre>
userid is unsigned, but well, force it anyways; <a href="mailto:andrushock@korovino.net">andrushock@korovino.net</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.107"></a>
 Revision <a href="scp.c?rev=1.107&amp;content-type=text/x-cvsweb-markup"><b>1.107</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.107&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.107&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.107">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.107">[select for diffs]</a>, <i>Sat Jun 28 16:23:06 2003 UTC</i> (18 years, 4 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.106: +18 -18 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.106&amp;r2=1.107">1.106</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.106&amp;r2=1.107&amp;f=h">colored</a>)
</p>
<pre>
deal with typing of write vs read in atomicio
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.106"></a>
 Revision <a href="scp.c?rev=1.106&amp;content-type=text/x-cvsweb-markup"><b>1.106</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.106&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.106&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.106">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.106">[select for diffs]</a>, <i>Thu Jun 12 15:34:09 2003 UTC</i> (18 years, 4 months ago) by <i>nino</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.105: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.105&amp;r2=1.106">1.105</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.105&amp;r2=1.106&amp;f=h">colored</a>)
</p>
<pre>
Typo.

Ok markus@.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.105"></a>
 Revision <a href="scp.c?rev=1.105&amp;content-type=text/x-cvsweb-markup"><b>1.105</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.105&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.105&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.105">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.105">[select for diffs]</a>, <i>Wed Jun  4 12:40:39 2003 UTC</i> (18 years, 5 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.104: +14 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.104&amp;r2=1.105">1.104</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.104&amp;r2=1.105&amp;f=h">colored</a>)
</p>
<pre>
kill ssh process upon receipt of signal, bz #241.
based on patch from esb AT hawaii.edu; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.104"></a>
 Revision <a href="scp.c?rev=1.104&amp;content-type=text/x-cvsweb-markup"><b>1.104</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.104&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.104&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.104">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.104">[select for diffs]</a>, <i>Wed Jun  4 12:18:49 2003 UTC</i> (18 years, 5 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.103: +11 -28 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.103&amp;r2=1.104">1.103</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.103&amp;r2=1.104&amp;f=h">colored</a>)
</p>
<pre>
ansify; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.103"></a>
 Revision <a href="scp.c?rev=1.103&amp;content-type=text/x-cvsweb-markup"><b>1.103</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.103&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.103&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.103">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.103">[select for diffs]</a>, <i>Tue Jun  3 02:56:16 2003 UTC</i> (18 years, 5 months ago) by <i>millert</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.102: +2 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.102&amp;r2=1.103">1.102</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.102&amp;r2=1.103&amp;f=h">colored</a>)
</p>
<pre>
Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.88.2.2"></a><a name="OPENBSD_3_1"></a>
 Revision <a href="scp.c?rev=1.88.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.88.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.88.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.88.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.88.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.88.2.2">[select for diffs]</a>, <i>Thu Apr  3 22:35:17 2003 UTC</i> (18 years, 7 months ago) by <i>miod</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_1">OPENBSD_3_1</a>
</b>
<br>Changes since <b>1.88.2.1: +137 -195 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.88.2.1&amp;r2=1.88.2.2">1.88.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.88.2.1&amp;r2=1.88.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.88&amp;r2=1.88.2.2">1.88</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.88&amp;r2=1.88.2.2&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.89&amp;r2=1.88.2.2">1.89</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.89&amp;r2=1.88.2.2&amp;f=h">colored</a>)
</p>
<pre>
Merge OpenSSH 3.6.1
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.91.2.1"></a>
 Revision <a href="scp.c?rev=1.91.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.91.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.91.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.91.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.91.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.91.2.1">[select for diffs]</a>, <i>Tue Apr  1 00:12:14 2003 UTC</i> (18 years, 7 months ago) by <i>margarida</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_2">OPENBSD_3_2</a>
</b>
<br>Changes since <b>1.91: +137 -195 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.91&amp;r2=1.91.2.1">1.91</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.91&amp;r2=1.91.2.1&amp;f=h">colored</a>)
</p>
<pre>
Update to OpenSSH 3.6
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.102"></a><a name="OPENBSD_3_3_BASE"></a>
 Revision <a href="scp.c?rev=1.102&amp;content-type=text/x-cvsweb-markup"><b>1.102</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.102&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.102&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.102">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.102">[select for diffs]</a>, <i>Wed Mar  5 22:33:43 2003 UTC</i> (18 years, 8 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_3_3_BASE">OPENBSD_3_3_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_3_3">OPENBSD_3_3</a>
</b>
<br>Changes since <b>1.101: +7 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.101&amp;r2=1.102">1.101</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.101&amp;r2=1.102&amp;f=h">colored</a>)
</p>
<pre>
fix memory leaks; from <a href="mailto:dlheine@suif.Stanford.EDU">dlheine@suif.Stanford.EDU</a>/CLOUSEAU; ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.101"></a>
 Revision <a href="scp.c?rev=1.101&amp;content-type=text/x-cvsweb-markup"><b>1.101</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.101&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.101&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.101">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.101">[select for diffs]</a>, <i>Sun Feb  2 10:51:13 2003 UTC</i> (18 years, 9 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.100: +15 -8 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.100&amp;r2=1.101">1.100</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.100&amp;r2=1.101&amp;f=h">colored</a>)
</p>
<pre>
call okname() only when using <a href="http://man.OpenBSD.org/system.3">system(3)</a> for remote-remote copy;
fixes bugs #483, #472; ok deraadt@, mouring@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.100"></a>
 Revision <a href="scp.c?rev=1.100&amp;content-type=text/x-cvsweb-markup"><b>1.100</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.100&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.100&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.100">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.100">[select for diffs]</a>, <i>Thu Jan 23 14:06:15 2003 UTC</i> (18 years, 9 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.99: +5 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.99&amp;r2=1.100">1.99</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.99&amp;r2=1.100&amp;f=h">colored</a>)
</p>
<pre>
scp -12; Sam Smith and others; ok provos@, deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.99"></a>
 Revision <a href="scp.c?rev=1.99&amp;content-type=text/x-cvsweb-markup"><b>1.99</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.99&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.99&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.99">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.99">[select for diffs]</a>, <i>Thu Jan 23 14:01:53 2003 UTC</i> (18 years, 9 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.98: +76 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.98&amp;r2=1.99">1.98</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.98&amp;r2=1.99&amp;f=h">colored</a>)
</p>
<pre>
bandwidth limitation patch (scp -l) from niels@; ok todd@, deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.98"></a>
 Revision <a href="scp.c?rev=1.98&amp;content-type=text/x-cvsweb-markup"><b>1.98</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.98&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.98&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.98">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.98">[select for diffs]</a>, <i>Fri Jan 10 10:29:35 2003 UTC</i> (18 years, 9 months ago) by <i>djm</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.97: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.97&amp;r2=1.98">1.97</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.97&amp;r2=1.98&amp;f=h">colored</a>)
</p>
<pre>
Don't ftruncate after write error, creating sparse files of incorrect length
mindrot bug #403, reported by <a href="mailto:rusr@cup.hp.com">rusr@cup.hp.com</a>; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.97"></a>
 Revision <a href="scp.c?rev=1.97&amp;content-type=text/x-cvsweb-markup"><b>1.97</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.97&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.97&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.97">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.97">[select for diffs]</a>, <i>Fri Jan 10 08:19:07 2003 UTC</i> (18 years, 9 months ago) by <i>fgsch</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.96: +9 -177 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.96&amp;r2=1.97">1.96</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.96&amp;r2=1.97&amp;f=h">colored</a>)
</p>
<pre>
sftp progress meter support.
original diffs by Nils Nordman &lt;nino at nforced dot com&gt; via markus@, merged
to -current by me, djm@ ok.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.96"></a>
 Revision <a href="scp.c?rev=1.96&amp;content-type=text/x-cvsweb-markup"><b>1.96</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.96&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.96&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.96">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.96">[select for diffs]</a>, <i>Fri Dec 13 15:20:52 2002 UTC</i> (18 years, 10 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.95: +35 -30 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.95&amp;r2=1.96">1.95</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.95&amp;r2=1.96&amp;f=h">colored</a>)
</p>
<pre>
1) include stalling time in total time
2) truncate filenames to 45 instead of 20 characters
3) print rate instead of progress bar, no more stars
4) scale output to tty width
based on a patch from Niels; ok fries@ lebel@ fgs@ millert@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.95"></a>
 Revision <a href="scp.c?rev=1.95&amp;content-type=text/x-cvsweb-markup"><b>1.95</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.95&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.95&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.95">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.95">[select for diffs]</a>, <i>Thu Dec  5 11:08:35 2002 UTC</i> (18 years, 10 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.94: +3 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.94&amp;r2=1.95">1.94</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.94&amp;r2=1.95&amp;f=h">colored</a>)
</p>
<pre>
use roundup() similar to rcp/util.c and avoid problems with strange
filesystem block sizes, noted by <a href="mailto:tjr@freebsd.org">tjr@freebsd.org</a>; ok djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.94"></a>
 Revision <a href="scp.c?rev=1.94&amp;content-type=text/x-cvsweb-markup"><b>1.94</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.94&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.94&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.94">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.94">[select for diffs]</a>, <i>Wed Nov 27 17:53:35 2002 UTC</i> (18 years, 11 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.93: +5 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.93&amp;r2=1.94">1.93</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.93&amp;r2=1.94&amp;f=h">colored</a>)
</p>
<pre>
allow usernames with embedded '@', e.g. scp user@vhost@realhost:file /tmp;
<a href="http://bugzilla.mindrot.org/show_bug.cgi?id=447;">http://bugzilla.mindrot.org/show_bug.cgi?id=447;</a> ok mouring@, millert@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.93"></a>
 Revision <a href="scp.c?rev=1.93&amp;content-type=text/x-cvsweb-markup"><b>1.93</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.93&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.93&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.93">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.93">[select for diffs]</a>, <i>Tue Nov 26 00:45:03 2002 UTC</i> (18 years, 11 months ago) by <i>wcobb</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.92: +1 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.92&amp;r2=1.93">1.92</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.92&amp;r2=1.93&amp;f=h">colored</a>)
</p>
<pre>
Remove unnecessary fflush(stderr) calls, stderr is unbuffered by default.
ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.92"></a>
 Revision <a href="scp.c?rev=1.92&amp;content-type=text/x-cvsweb-markup"><b>1.92</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.92&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.92&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.92">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.92">[select for diffs]</a>, <i>Thu Nov  7 22:35:38 2002 UTC</i> (18 years, 11 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.91: +26 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.91&amp;r2=1.92">1.91</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.91&amp;r2=1.92&amp;f=h">colored</a>)
</p>
<pre>
check exit status from ssh, and <a href="http://man.OpenBSD.org/exit.1">exit(1)</a> if ssh fails; bug#369; <a href="mailto:binder@arago.de">binder@arago.de</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.88.2.1"></a>
 Revision <a href="scp.c?rev=1.88.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.88.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.88.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.88.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.88.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.88.2.1">[select for diffs]</a>, <i>Wed Jun 26 15:30:38 2002 UTC</i> (19 years, 4 months ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_1">OPENBSD_3_1</a>
</b>
<br>Changes since <b>1.88: +6 -8 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.88&amp;r2=1.88.2.1">1.88</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.88&amp;r2=1.88.2.1&amp;f=h">colored</a>)
</p>
<pre>
Pull in OpenSSH-3.4
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.85.2.3"></a><a name="OPENBSD_3_0"></a>
 Revision <a href="scp.c?rev=1.85.2.3&amp;content-type=text/x-cvsweb-markup"><b>1.85.2.3</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.85.2.3&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.85.2.3&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.85.2.3">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.85.2.3">[select for diffs]</a>, <i>Sat Jun 22 07:23:17 2002 UTC</i> (19 years, 4 months ago) by <i>miod</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_0">OPENBSD_3_0</a>
</b>
<br>Changes since <b>1.85.2.2: +6 -8 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85.2.2&amp;r2=1.85.2.3">1.85.2.2</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85.2.2&amp;r2=1.85.2.3&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85&amp;r2=1.85.2.3">1.85</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85&amp;r2=1.85.2.3&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.86&amp;r2=1.85.2.3">1.86</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.86&amp;r2=1.85.2.3&amp;f=h">colored</a>)
</p>
<pre>
Update OpenSSH to version 3.3 (with local changes, configuration files still
living in /etc and privsep user being nobody).
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.91"></a><a name="OPENBSD_3_2_BASE"></a>
 Revision <a href="scp.c?rev=1.91&amp;content-type=text/x-cvsweb-markup"><b>1.91</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.91&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.91&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.91">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.91">[select for diffs]</a>, <i>Wed Jun 19 00:27:55 2002 UTC</i> (19 years, 4 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_3_2_BASE">OPENBSD_3_2_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_3_2">OPENBSD_3_2</a>
</b>
<br>Changes since <b>1.90: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.90&amp;r2=1.91">1.90</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.90&amp;r2=1.91&amp;f=h">colored</a>)
</p>
<pre>
KNF done automatically while reading....
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.90"></a>
 Revision <a href="scp.c?rev=1.90&amp;content-type=text/x-cvsweb-markup"><b>1.90</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.90&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.90&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.90">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.90">[select for diffs]</a>, <i>Mon Jun 17 06:05:56 2002 UTC</i> (19 years, 4 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.89: +4 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.89&amp;r2=1.90">1.89</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.89&amp;r2=1.90&amp;f=h">colored</a>)
</p>
<pre>
make usage like man page
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.89"></a>
 Revision <a href="scp.c?rev=1.89&amp;content-type=text/x-cvsweb-markup"><b>1.89</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.89&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.89&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.89">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.89">[select for diffs]</a>, <i>Sat Jun  8 12:36:53 2002 UTC</i> (19 years, 4 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.88: +2 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.88&amp;r2=1.89">1.88</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.88&amp;r2=1.89&amp;f=h">colored</a>)
</p>
<pre>
remove FallBackToRsh
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.68.2.4"></a><a name="OPENBSD_2_9"></a>
 Revision <a href="scp.c?rev=1.68.2.4&amp;content-type=text/x-cvsweb-markup"><b>1.68.2.4</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.68.2.4&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.68.2.4&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.68.2.4">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.68.2.4">[select for diffs]</a>, <i>Sun Jun  2 22:56:10 2002 UTC</i> (19 years, 5 months ago) by <i>miod</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_9">OPENBSD_2_9</a>
</b>
<br>Changes since <b>1.68.2.3: +10 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68.2.3&amp;r2=1.68.2.4">1.68.2.3</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68.2.3&amp;r2=1.68.2.4&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68&amp;r2=1.68.2.4">1.68</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68&amp;r2=1.68.2.4&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.69&amp;r2=1.68.2.4">1.69</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.69&amp;r2=1.68.2.4&amp;f=h">colored</a>)
</p>
<pre>
Upgrade to OpenSSH 3.2.3.

Except for improbable compilation error fixes, this should be the last
commit made to the 2.9-STABLE branche. Have fun upgrading.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.85.2.2"></a>
 Revision <a href="scp.c?rev=1.85.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.85.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.85.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.85.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.85.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.85.2.2">[select for diffs]</a>, <i>Fri May 17 00:03:24 2002 UTC</i> (19 years, 5 months ago) by <i>miod</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_0">OPENBSD_3_0</a>
</b>
<br>Changes since <b>1.85.2.1: +10 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85.2.1&amp;r2=1.85.2.2">1.85.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85.2.1&amp;r2=1.85.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85&amp;r2=1.85.2.2">1.85</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85&amp;r2=1.85.2.2&amp;f=h">colored</a>)
</p>
<pre>
Update OpenSSH to version 3.2.2.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.88"></a><a name="OPENBSD_3_1_BASE"></a>
 Revision <a href="scp.c?rev=1.88&amp;content-type=text/x-cvsweb-markup"><b>1.88</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.88&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.88&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.88">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.88">[select for diffs]</a>, <i>Sat Apr  6 18:24:09 2002 UTC</i> (19 years, 6 months ago) by <i>mouring</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_3_1_BASE">OPENBSD_3_1_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_3_1">OPENBSD_3_1</a>
</b>
<br>Changes since <b>1.87: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.87&amp;r2=1.88">1.87</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.87&amp;r2=1.88&amp;f=h">colored</a>)
</p>
<pre>
Fixes potental double // within path.
<a href="http://bugzilla.mindrot.org/show_bug.cgi?id=76">http://bugzilla.mindrot.org/show_bug.cgi?id=76</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.87"></a>
 Revision <a href="scp.c?rev=1.87&amp;content-type=text/x-cvsweb-markup"><b>1.87</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.87&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.87&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.87">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.87">[select for diffs]</a>, <i>Sat Mar 30 17:45:46 2002 UTC</i> (19 years, 7 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.86: +9 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.86&amp;r2=1.87">1.86</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.86&amp;r2=1.87&amp;f=h">colored</a>)
</p>
<pre>
stretch banners
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.68.2.3"></a>
 Revision <a href="scp.c?rev=1.68.2.3&amp;content-type=text/x-cvsweb-markup"><b>1.68.2.3</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.68.2.3&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.68.2.3&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.68.2.3">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.68.2.3">[select for diffs]</a>, <i>Sat Mar  9 00:20:44 2002 UTC</i> (19 years, 7 months ago) by <i>miod</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_9">OPENBSD_2_9</a>
</b>
<br>Changes since <b>1.68.2.2: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68.2.2&amp;r2=1.68.2.3">1.68.2.2</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68.2.2&amp;r2=1.68.2.3&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68&amp;r2=1.68.2.3">1.68</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68&amp;r2=1.68.2.3&amp;f=h">colored</a>)
</p>
<pre>
Merge OpenSSH 3.1, keeping /etc as configuration files directory.
(i.e. OpenSSH 3.1 + <a href="http://man.OpenBSD.org/openbsd29_3.1">openbsd29_3.1</a>.patch)
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.43.2.7"></a><a name="OPENBSD_2_8"></a>
 Revision <a href="scp.c?rev=1.43.2.7&amp;content-type=text/x-cvsweb-markup"><b>1.43.2.7</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.7&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.7&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.43.2.7">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.43.2.7">[select for diffs]</a>, <i>Fri Mar  8 17:04:43 2002 UTC</i> (19 years, 7 months ago) by <i>brad</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_8">OPENBSD_2_8</a>
</b>
<br>Changes since <b>1.43.2.6: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.6&amp;r2=1.43.2.7">1.43.2.6</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.6&amp;r2=1.43.2.7&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.7">1.43</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.7&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.44&amp;r2=1.43.2.7">1.44</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.44&amp;r2=1.43.2.7&amp;f=h">colored</a>)
</p>
<pre>
Merge OpenSSH 3.1.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.85.2.1"></a>
 Revision <a href="scp.c?rev=1.85.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.85.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.85.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.85.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.85.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.85.2.1">[select for diffs]</a>, <i>Thu Mar  7 17:37:47 2002 UTC</i> (19 years, 7 months ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_3_0">OPENBSD_3_0</a>
</b>
<br>Changes since <b>1.85: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85&amp;r2=1.85.2.1">1.85</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85&amp;r2=1.85.2.1&amp;f=h">colored</a>)
</p>
<pre>
Update to OpenSSH-3.1 on 3.0-stable branch
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.86"></a>
 Revision <a href="scp.c?rev=1.86&amp;content-type=text/x-cvsweb-markup"><b>1.86</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.86&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.86&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.86">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.86">[select for diffs]</a>, <i>Wed Dec  5 03:56:39 2001 UTC</i> (19 years, 11 months ago) by <i>itojun</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.85: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85&amp;r2=1.86">1.85</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.85&amp;r2=1.86&amp;f=h">colored</a>)
</p>
<pre>
make it compile with more strict prototype checking
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.68.2.2"></a>
 Revision <a href="scp.c?rev=1.68.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.68.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.68.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.68.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.68.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.68.2.2">[select for diffs]</a>, <i>Thu Nov 15 00:15:19 2001 UTC</i> (19 years, 11 months ago) by <i>miod</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_9">OPENBSD_2_9</a>
</b>
<br>Changes since <b>1.68.2.1: +6 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68.2.1&amp;r2=1.68.2.2">1.68.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68.2.1&amp;r2=1.68.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68&amp;r2=1.68.2.2">1.68</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68&amp;r2=1.68.2.2&amp;f=h">colored</a>)
</p>
<pre>
Merge OpenSSH 3.0
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.43.2.6"></a>
 Revision <a href="scp.c?rev=1.43.2.6&amp;content-type=text/x-cvsweb-markup"><b>1.43.2.6</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.6&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.6&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.43.2.6">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.43.2.6">[select for diffs]</a>, <i>Thu Nov 15 00:14:59 2001 UTC</i> (19 years, 11 months ago) by <i>miod</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_8">OPENBSD_2_8</a>
</b>
<br>Changes since <b>1.43.2.5: +6 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.5&amp;r2=1.43.2.6">1.43.2.5</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.5&amp;r2=1.43.2.6&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.6">1.43</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.6&amp;f=h">colored</a>)
</p>
<pre>
Merge OpenSSH 3.0
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.85"></a><a name="OPENBSD_3_0_BASE"></a>
 Revision <a href="scp.c?rev=1.85&amp;content-type=text/x-cvsweb-markup"><b>1.85</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.85&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.85&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.85">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.85">[select for diffs]</a>, <i>Mon Oct  1 08:06:28 2001 UTC</i> (20 years, 1 month ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_3_0_BASE">OPENBSD_3_0_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_3_0">OPENBSD_3_0</a>
</b>
<br>Changes since <b>1.84: +6 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.84&amp;r2=1.85">1.84</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.84&amp;r2=1.85&amp;f=h">colored</a>)
</p>
<pre>
skip filenames containing \n; report <a href="mailto:jdamery@chiark.greenend.org.uk">jdamery@chiark.greenend.org.uk</a>
and <a href="mailto:matthew@debian.org">matthew@debian.org</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.68.2.1"></a>
 Revision <a href="scp.c?rev=1.68.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.68.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.68.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.68.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.68.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.68.2.1">[select for diffs]</a>, <i>Thu Sep 27 19:03:55 2001 UTC</i> (20 years, 1 month ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_9">OPENBSD_2_9</a>
</b>
<br>Changes since <b>1.68: +62 -81 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68&amp;r2=1.68.2.1">1.68</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68&amp;r2=1.68.2.1&amp;f=h">colored</a>)
</p>
<pre>
Pull in OpenSSH-2.9.9
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.43.2.5"></a>
 Revision <a href="scp.c?rev=1.43.2.5&amp;content-type=text/x-cvsweb-markup"><b>1.43.2.5</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.5&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.5&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.43.2.5">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.43.2.5">[select for diffs]</a>, <i>Thu Sep 27 00:15:42 2001 UTC</i> (20 years, 1 month ago) by <i>miod</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_8">OPENBSD_2_8</a>
</b>
<br>Changes since <b>1.43.2.4: +62 -81 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.4&amp;r2=1.43.2.5">1.43.2.4</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.4&amp;r2=1.43.2.5&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.5">1.43</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.5&amp;f=h">colored</a>)
</p>
<pre>
Pull in OpenSSH 2.9.9 to the 2.8 branch.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.84"></a>
 Revision <a href="scp.c?rev=1.84&amp;content-type=text/x-cvsweb-markup"><b>1.84</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.84&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.84&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.84">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.84">[select for diffs]</a>, <i>Wed Sep 19 19:24:19 2001 UTC</i> (20 years, 1 month ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.83: +11 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.83&amp;r2=1.84">1.83</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.83&amp;r2=1.84&amp;f=h">colored</a>)
</p>
<pre>
add ClearAllForwardings ssh option and set it in scp and sftp; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.83"></a>
 Revision <a href="scp.c?rev=1.83&amp;content-type=text/x-cvsweb-markup"><b>1.83</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.83&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.83&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.83">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.83">[select for diffs]</a>, <i>Mon Sep 17 17:57:56 2001 UTC</i> (20 years, 1 month ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.82: +6 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.82&amp;r2=1.83">1.82</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.82&amp;r2=1.83&amp;f=h">colored</a>)
</p>
<pre>
add -Fssh_config option; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.82"></a>
 Revision <a href="scp.c?rev=1.82&amp;content-type=text/x-cvsweb-markup"><b>1.82</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.82&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.82&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.82">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.82">[select for diffs]</a>, <i>Wed Sep 12 18:18:25 2001 UTC</i> (20 years, 1 month ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.81: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.81&amp;r2=1.82">1.81</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.81&amp;r2=1.82&amp;f=h">colored</a>)
</p>
<pre>
don't forward agent for non third-party copies; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.81"></a>
 Revision <a href="scp.c?rev=1.81&amp;content-type=text/x-cvsweb-markup"><b>1.81</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.81&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.81&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.81">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.81">[select for diffs]</a>, <i>Wed Aug 29 20:44:03 2001 UTC</i> (20 years, 2 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.80: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.80&amp;r2=1.81">1.80</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.80&amp;r2=1.81&amp;f=h">colored</a>)
</p>
<pre>
clear the malloc'd buffer, otherwise source() will leak malloc'd memory; ok theo@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.80"></a>
 Revision <a href="scp.c?rev=1.80&amp;content-type=text/x-cvsweb-markup"><b>1.80</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.80&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.80&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.80">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.80">[select for diffs]</a>, <i>Mon Aug 13 23:38:54 2001 UTC</i> (20 years, 2 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.79: +1 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.79&amp;r2=1.80">1.79</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.79&amp;r2=1.80&amp;f=h">colored</a>)
</p>
<pre>
don't need main prototype (also sync with rcp); ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.79"></a>
 Revision <a href="scp.c?rev=1.79&amp;content-type=text/x-cvsweb-markup"><b>1.79</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.79&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.79&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.79">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.79">[select for diffs]</a>, <i>Mon Aug  6 19:47:05 2001 UTC</i> (20 years, 2 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.78: +7 -15 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.78&amp;r2=1.79">1.78</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.78&amp;r2=1.79&amp;f=h">colored</a>)
</p>
<pre>
use alarm vs. setitimer for portable; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.78"></a>
 Revision <a href="scp.c?rev=1.78&amp;content-type=text/x-cvsweb-markup"><b>1.78</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.78&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.78&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.78">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.78">[select for diffs]</a>, <i>Fri Jul 27 17:26:16 2001 UTC</i> (20 years, 3 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.77: +11 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.77&amp;r2=1.78">1.77</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.77&amp;r2=1.78&amp;f=h">colored</a>)
</p>
<pre>
shorten lines
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.77"></a>
 Revision <a href="scp.c?rev=1.77&amp;content-type=text/x-cvsweb-markup"><b>1.77</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.77&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.77&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.77">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.77">[select for diffs]</a>, <i>Wed Jul 18 16:45:52 2001 UTC</i> (20 years, 3 months ago) by <i>mouring</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.76: +3 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.76&amp;r2=1.77">1.76</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.76&amp;r2=1.77&amp;f=h">colored</a>)
</p>
<pre>
Missing -o in scp usage()
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.76"></a>
 Revision <a href="scp.c?rev=1.76&amp;content-type=text/x-cvsweb-markup"><b>1.76</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.76&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.76&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.76">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.76">[select for diffs]</a>, <i>Sat Jun 23 15:12:19 2001 UTC</i> (20 years, 4 months ago) by <i>itojun</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.75: +5 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.75&amp;r2=1.76">1.75</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.75&amp;r2=1.76&amp;f=h">colored</a>)
</p>
<pre>
more strict prototypes.  raise warning level in Makefile.inc.  markus ok'ed
TODO; cleanup headers
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.75"></a>
 Revision <a href="scp.c?rev=1.75&amp;content-type=text/x-cvsweb-markup"><b>1.75</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.75&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.75&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.75">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.75">[select for diffs]</a>, <i>Sat Jun 23 00:16:16 2001 UTC</i> (20 years, 4 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.74: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.74&amp;r2=1.75">1.74</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.74&amp;r2=1.75&amp;f=h">colored</a>)
</p>
<pre>
slightly better care
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.74"></a>
 Revision <a href="scp.c?rev=1.74&amp;content-type=text/x-cvsweb-markup"><b>1.74</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.74&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.74&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.74">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.74">[select for diffs]</a>, <i>Sat Jun 16 08:57:35 2001 UTC</i> (20 years, 4 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.73: +6 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.73&amp;r2=1.74">1.73</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.73&amp;r2=1.74&amp;f=h">colored</a>)
</p>
<pre>
no stdio or exit() in signal handlers.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.73"></a>
 Revision <a href="scp.c?rev=1.73&amp;content-type=text/x-cvsweb-markup"><b>1.73</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.73&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.73&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.73">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.73">[select for diffs]</a>, <i>Sun Jun 10 11:33:02 2001 UTC</i> (20 years, 4 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.72: +5 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.72&amp;r2=1.73">1.72</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.72&amp;r2=1.73&amp;f=h">colored</a>)
</p>
<pre>
you cannot vfprintf(fp, fmt, ap) twice, from portable, via drahn@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.72"></a>
 Revision <a href="scp.c?rev=1.72&amp;content-type=text/x-cvsweb-markup"><b>1.72</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.72&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.72&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.72">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.72">[select for diffs]</a>, <i>Sun Jun  3 19:38:42 2001 UTC</i> (20 years, 5 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.71: +2 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.71&amp;r2=1.72">1.71</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.71&amp;r2=1.72&amp;f=h">colored</a>)
</p>
<pre>
pass -v to ssh; from <a href="mailto:slade@shore.net">slade@shore.net</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.71"></a>
 Revision <a href="scp.c?rev=1.71&amp;content-type=text/x-cvsweb-markup"><b>1.71</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.71&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.71&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.71">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.71">[select for diffs]</a>, <i>Sat May 19 16:05:41 2001 UTC</i> (20 years, 5 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.70: +2 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.70&amp;r2=1.71">1.70</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.70&amp;r2=1.71&amp;f=h">colored</a>)
</p>
<pre>
ftruncate() instead of open()+O_TRUNC like rcp.c does
allows scp /path/to/file localhost:/path/to/file
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.70"></a>
 Revision <a href="scp.c?rev=1.70&amp;content-type=text/x-cvsweb-markup"><b>1.70</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.70&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.70&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.70">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.70">[select for diffs]</a>, <i>Tue May  8 19:45:24 2001 UTC</i> (20 years, 5 months ago) by <i>mouring</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.69: +13 -42 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.69&amp;r2=1.70">1.69</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.69&amp;r2=1.70&amp;f=h">colored</a>)
</p>
<pre>
Use addargs() in sftp plus some clean up of addargs().  OK Markus
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.43.2.4"></a>
 Revision <a href="scp.c?rev=1.43.2.4&amp;content-type=text/x-cvsweb-markup"><b>1.43.2.4</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.4&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.4&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.43.2.4">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.43.2.4">[select for diffs]</a>, <i>Mon May  7 21:09:33 2001 UTC</i> (20 years, 5 months ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_8">OPENBSD_2_8</a>
</b>
<br>Changes since <b>1.43.2.3: +28 -67 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.3&amp;r2=1.43.2.4">1.43.2.3</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.3&amp;r2=1.43.2.4&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.4">1.43</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.4&amp;f=h">colored</a>)
</p>
<pre>
Pull in OpenSSH-2.9 to 2.8 branch.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.69"></a>
 Revision <a href="scp.c?rev=1.69&amp;content-type=text/x-cvsweb-markup"><b>1.69</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.69&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.69&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.69">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.69">[select for diffs]</a>, <i>Thu May  3 23:09:53 2001 UTC</i> (20 years, 6 months ago) by <i>mouring</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.68: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68&amp;r2=1.69">1.68</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.68&amp;r2=1.69&amp;f=h">colored</a>)
</p>
<pre>
Move colon() and cleanhost() to misc.c where I should I have put it in
the first place
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.68"></a><a name="OPENBSD_2_9_BASE"></a>
 Revision <a href="scp.c?rev=1.68&amp;content-type=text/x-cvsweb-markup"><b>1.68</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.68&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.68&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.68">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.68">[select for diffs]</a>, <i>Sun Apr 22 12:34:05 2001 UTC</i> (20 years, 6 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_2_9_BASE">OPENBSD_2_9_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_2_9">OPENBSD_2_9</a>
</b>
<br>Changes since <b>1.67: +4 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.67&amp;r2=1.68">1.67</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.67&amp;r2=1.68&amp;f=h">colored</a>)
</p>
<pre>
scp &gt; 2GB; <a href="mailto:niles@scyld.com">niles@scyld.com</a>; ok deraadt@, djm@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.67"></a>
 Revision <a href="scp.c?rev=1.67&amp;content-type=text/x-cvsweb-markup"><b>1.67</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.67&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.67&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.67">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.67">[select for diffs]</a>, <i>Mon Apr 16 02:31:43 2001 UTC</i> (20 years, 6 months ago) by <i>mouring</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.66: +2 -38 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.66&amp;r2=1.67">1.66</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.66&amp;r2=1.67&amp;f=h">colored</a>)
</p>
<pre>
IPv6 support for sftp (which I bungled in my last patch) which is
borrowed from scp.c.  Thanks to Markus@ for pointing it out.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.66"></a>
 Revision <a href="scp.c?rev=1.66&amp;content-type=text/x-cvsweb-markup"><b>1.66</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.66&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.66&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.66">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.66">[select for diffs]</a>, <i>Sat Apr 14 17:04:42 2001 UTC</i> (20 years, 6 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.65: +11 -14 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.65&amp;r2=1.66">1.65</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.65&amp;r2=1.66&amp;f=h">colored</a>)
</p>
<pre>
'T' handling rcp/scp sync; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.65"></a>
 Revision <a href="scp.c?rev=1.65&amp;content-type=text/x-cvsweb-markup"><b>1.65</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.65&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.65&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.65">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.65">[select for diffs]</a>, <i>Fri Apr  6 16:46:59 2001 UTC</i> (20 years, 6 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.64: +5 -1 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.64&amp;r2=1.65">1.64</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.64&amp;r2=1.65&amp;f=h">colored</a>)
</p>
<pre>
remove trailing / from source paths; fixes pr#1756
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.64"></a>
 Revision <a href="scp.c?rev=1.64&amp;content-type=text/x-cvsweb-markup"><b>1.64</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.64&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.64&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.64">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.64">[select for diffs]</a>, <i>Wed Mar 28 20:04:38 2001 UTC</i> (20 years, 7 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.63: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.63&amp;r2=1.64">1.63</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.63&amp;r2=1.64&amp;f=h">colored</a>)
</p>
<pre>
usage more like rcp and add missing -B to usage; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.63"></a>
 Revision <a href="scp.c?rev=1.63&amp;content-type=text/x-cvsweb-markup"><b>1.63</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.63&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.63&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.63">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.63">[select for diffs]</a>, <i>Wed Mar 28 19:56:23 2001 UTC</i> (20 years, 7 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.62: +7 -11 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.62&amp;r2=1.63">1.62</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.62&amp;r2=1.63&amp;f=h">colored</a>)
</p>
<pre>
start to sync scp closer to rcp; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.43.2.3"></a>
 Revision <a href="scp.c?rev=1.43.2.3&amp;content-type=text/x-cvsweb-markup"><b>1.43.2.3</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.3&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.3&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.43.2.3">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.43.2.3">[select for diffs]</a>, <i>Wed Mar 21 19:46:28 2001 UTC</i> (20 years, 7 months ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_8">OPENBSD_2_8</a>
</b>
<br>Changes since <b>1.43.2.2: +5 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.2&amp;r2=1.43.2.3">1.43.2.2</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.2&amp;r2=1.43.2.3&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.3">1.43</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.3&amp;f=h">colored</a>)
</p>
<pre>
Pull in OpenSSH-2.5.2 for 2.8 branch.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.30.2.4"></a><a name="OPENBSD_2_7"></a>
 Revision <a href="scp.c?rev=1.30.2.4&amp;content-type=text/x-cvsweb-markup"><b>1.30.2.4</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.30.2.4&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.30.2.4&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.30.2.4">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.30.2.4">[select for diffs]</a>, <i>Wed Mar 21 18:53:00 2001 UTC</i> (20 years, 7 months ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_7">OPENBSD_2_7</a>
</b>
<br>Changes since <b>1.30.2.3: +5 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30.2.3&amp;r2=1.30.2.4">1.30.2.3</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30.2.3&amp;r2=1.30.2.4&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30&amp;r2=1.30.2.4">1.30</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30&amp;r2=1.30.2.4&amp;f=h">colored</a>) next main <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.31&amp;r2=1.30.2.4">1.31</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.31&amp;r2=1.30.2.4&amp;f=h">colored</a>)
</p>
<pre>
Pull in OpenSSH-2.5.2 for 2.7 branch.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.62"></a>
 Revision <a href="scp.c?rev=1.62&amp;content-type=text/x-cvsweb-markup"><b>1.62</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.62&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.62&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.62">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.62">[select for diffs]</a>, <i>Wed Mar 21 12:33:33 2001 UTC</i> (20 years, 7 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.61: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.61&amp;r2=1.62">1.61</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.61&amp;r2=1.62&amp;f=h">colored</a>)
</p>
<pre>
alpha fixes, from <a href="mailto:simonb@wasabisystems.com">simonb@wasabisystems.com</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.61"></a>
 Revision <a href="scp.c?rev=1.61&amp;content-type=text/x-cvsweb-markup"><b>1.61</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.61&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.61&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.61">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.61">[select for diffs]</a>, <i>Thu Mar 15 15:05:59 2001 UTC</i> (20 years, 7 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.60: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.60&amp;r2=1.61">1.60</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.60&amp;r2=1.61&amp;f=h">colored</a>)
</p>
<pre>
use %lld in printf, ok millert@/deraadt@; report from <a href="mailto:ssh@client.fi">ssh@client.fi</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.30.2.3"></a>
 Revision <a href="scp.c?rev=1.30.2.3&amp;content-type=text/x-cvsweb-markup"><b>1.30.2.3</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.30.2.3&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.30.2.3&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.30.2.3">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.30.2.3">[select for diffs]</a>, <i>Mon Mar 12 15:44:13 2001 UTC</i> (20 years, 7 months ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_7">OPENBSD_2_7</a>
</b>
<br>Changes since <b>1.30.2.2: +66 -70 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30.2.2&amp;r2=1.30.2.3">1.30.2.2</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30.2.2&amp;r2=1.30.2.3&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30&amp;r2=1.30.2.3">1.30</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30&amp;r2=1.30.2.3&amp;f=h">colored</a>)
</p>
<pre>
OpenSSH-2.5.1 for 2.7 patch branch
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.60"></a>
 Revision <a href="scp.c?rev=1.60&amp;content-type=text/x-cvsweb-markup"><b>1.60</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.60&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.60&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.60">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.60">[select for diffs]</a>, <i>Fri Mar  2 18:54:31 2001 UTC</i> (20 years, 8 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.59: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.59&amp;r2=1.60">1.59</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.59&amp;r2=1.60&amp;f=h">colored</a>)
</p>
<pre>
make copyright lines the same format
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.43.2.2"></a>
 Revision <a href="scp.c?rev=1.43.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.43.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.43.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.43.2.2">[select for diffs]</a>, <i>Mon Feb 19 17:19:17 2001 UTC</i> (20 years, 8 months ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_8">OPENBSD_2_8</a>
</b>
<br>Changes since <b>1.43.2.1: +6 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.1&amp;r2=1.43.2.2">1.43.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43.2.1&amp;r2=1.43.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.2">1.43</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.2&amp;f=h">colored</a>)
</p>
<pre>
Pull in OpenSSH-2.5.1
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.59"></a>
 Revision <a href="scp.c?rev=1.59&amp;content-type=text/x-cvsweb-markup"><b>1.59</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.59&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.59&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.59">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.59">[select for diffs]</a>, <i>Mon Feb 19 10:36:25 2001 UTC</i> (20 years, 8 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.58: +6 -6 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.58&amp;r2=1.59">1.58</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.58&amp;r2=1.59&amp;f=h">colored</a>)
</p>
<pre>
np is changed by recursion; <a href="mailto:vinschen@redhat.com">vinschen@redhat.com</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.43.2.1"></a>
 Revision <a href="scp.c?rev=1.43.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.43.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.43.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.43.2.1">[select for diffs]</a>, <i>Fri Feb 16 20:13:12 2001 UTC</i> (20 years, 8 months ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_8">OPENBSD_2_8</a>
</b>
<br>Changes since <b>1.43: +63 -67 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.1">1.43</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.43.2.1&amp;f=h">colored</a>)
</p>
<pre>
Pull in OpenSSH 2.5.0
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.58"></a>
 Revision <a href="scp.c?rev=1.58&amp;content-type=text/x-cvsweb-markup"><b>1.58</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.58&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.58&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.58">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.58">[select for diffs]</a>, <i>Sat Feb 10 15:14:11 2001 UTC</i> (20 years, 8 months ago) by <i>danh</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.57: +6 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.57&amp;r2=1.58">1.57</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.57&amp;r2=1.58&amp;f=h">colored</a>)
</p>
<pre>
fix memory leak; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.57"></a>
 Revision <a href="scp.c?rev=1.57&amp;content-type=text/x-cvsweb-markup"><b>1.57</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.57&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.57&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.57">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.57">[select for diffs]</a>, <i>Sat Feb 10 00:12:43 2001 UTC</i> (20 years, 8 months ago) by <i>danh</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.56: +1 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.56&amp;r2=1.57">1.56</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.56&amp;r2=1.57&amp;f=h">colored</a>)
</p>
<pre>
revert a small change to allow -r option to work again; ok deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.56"></a>
 Revision <a href="scp.c?rev=1.56&amp;content-type=text/x-cvsweb-markup"><b>1.56</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.56&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.56&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.56">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.56">[select for diffs]</a>, <i>Thu Feb  8 19:30:52 2001 UTC</i> (20 years, 8 months ago) by <i>itojun</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.55: +4 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.55&amp;r2=1.56">1.55</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.55&amp;r2=1.56&amp;f=h">colored</a>)
</p>
<pre>
sync with netbsd tree changes.
- more strict prototypes, include necessary headers
- use paths.h/pathnames.h decls
- size_t typecase to int -&gt; u_long
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.55"></a>
 Revision <a href="scp.c?rev=1.55&amp;content-type=text/x-cvsweb-markup"><b>1.55</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.55&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.55&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.55">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.55">[select for diffs]</a>, <i>Thu Feb  8 14:38:54 2001 UTC</i> (20 years, 8 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.54: +23 -16 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.54&amp;r2=1.55">1.54</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.54&amp;r2=1.55&amp;f=h">colored</a>)
</p>
<pre>
memory leak fix, and snprintf throughout
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.54"></a>
 Revision <a href="scp.c?rev=1.54&amp;content-type=text/x-cvsweb-markup"><b>1.54</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.54&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.54&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.54">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.54">[select for diffs]</a>, <i>Wed Feb  7 18:01:17 2001 UTC</i> (20 years, 8 months ago) by <i>itojun</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.53: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.53&amp;r2=1.54">1.53</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.53&amp;r2=1.54&amp;f=h">colored</a>)
</p>
<pre>
unsigned long long -&gt; %llu, not %qu.  markus ok
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.53"></a>
 Revision <a href="scp.c?rev=1.53&amp;content-type=text/x-cvsweb-markup"><b>1.53</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.53&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.53&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.53">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.53">[select for diffs]</a>, <i>Sun Feb  4 23:56:22 2001 UTC</i> (20 years, 8 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.52: +3 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.52&amp;r2=1.53">1.52</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.52&amp;r2=1.53&amp;f=h">colored</a>)
</p>
<pre>
alpha happiness
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.52"></a>
 Revision <a href="scp.c?rev=1.52&amp;content-type=text/x-cvsweb-markup"><b>1.52</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.52&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.52&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.52">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.52">[select for diffs]</a>, <i>Sun Feb  4 15:32:24 2001 UTC</i> (20 years, 8 months ago) by <i>stevesk</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.51: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.51&amp;r2=1.52">1.51</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.51&amp;r2=1.52&amp;f=h">colored</a>)
</p>
<pre>
unexpand and remove end-of-line whitespace; ok markus@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.51"></a>
 Revision <a href="scp.c?rev=1.51&amp;content-type=text/x-cvsweb-markup"><b>1.51</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.51&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.51&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.51">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.51">[select for diffs]</a>, <i>Sun Jan 21 19:05:55 2001 UTC</i> (20 years, 9 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.50: +3 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.50&amp;r2=1.51">1.50</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.50&amp;r2=1.51&amp;f=h">colored</a>)
</p>
<pre>
split ssh.h and try to cleanup the #include mess. remove unnecessary #includes.
rename util.[ch] -&gt; misc.[ch]
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.50"></a>
 Revision <a href="scp.c?rev=1.50&amp;content-type=text/x-cvsweb-markup"><b>1.50</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.50&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.50&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.50">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.50">[select for diffs]</a>, <i>Fri Jan 19 15:55:11 2001 UTC</i> (20 years, 9 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.49: +3 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.49&amp;r2=1.50">1.49</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.49&amp;r2=1.50&amp;f=h">colored</a>)
</p>
<pre>
move ssh1 definitions to ssh1.h, pathnames to pathnames.h
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.49"></a>
 Revision <a href="scp.c?rev=1.49&amp;content-type=text/x-cvsweb-markup"><b>1.49</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.49&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.49&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.49">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.49">[select for diffs]</a>, <i>Sat Jan 13 18:03:07 2001 UTC</i> (20 years, 9 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.48: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.48&amp;r2=1.49">1.48</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.48&amp;r2=1.49&amp;f=h">colored</a>)
</p>
<pre>
getopt() returns -1 not EOF; <a href="mailto:stevesk@pobox.com">stevesk@pobox.com</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.48"></a>
 Revision <a href="scp.c?rev=1.48&amp;content-type=text/x-cvsweb-markup"><b>1.48</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.48&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.48&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.48">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.48">[select for diffs]</a>, <i>Mon Jan  1 14:52:49 2001 UTC</i> (20 years, 10 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.47: +1 -14 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.47&amp;r2=1.48">1.47</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.47&amp;r2=1.48&amp;f=h">colored</a>)
</p>
<pre>
use shared fatal(); from <a href="mailto:stevesk@pobox.com">stevesk@pobox.com</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.47"></a>
 Revision <a href="scp.c?rev=1.47&amp;content-type=text/x-cvsweb-markup"><b>1.47</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.47&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.47&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.47">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.47">[select for diffs]</a>, <i>Tue Dec 19 23:17:57 2000 UTC</i> (20 years, 10 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.46: +9 -9 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.46&amp;r2=1.47">1.46</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.46&amp;r2=1.47&amp;f=h">colored</a>)
</p>
<pre>
replace 'unsigned bla' with 'u_bla' everywhere. also, replace 'char unsigned'
with u_char.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.46"></a>
 Revision <a href="scp.c?rev=1.46&amp;content-type=text/x-cvsweb-markup"><b>1.46</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.46&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.46&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.46">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.46">[select for diffs]</a>, <i>Sat Dec 16 09:53:57 2000 UTC</i> (20 years, 10 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.45: +3 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.45&amp;r2=1.46">1.45</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.45&amp;r2=1.46&amp;f=h">colored</a>)
</p>
<pre>
allow + in usernames; request from <a href="mailto:Florian.Weimer@RUS.Uni-Stuttgart.DE">Florian.Weimer@RUS.Uni-Stuttgart.DE</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.45"></a>
 Revision <a href="scp.c?rev=1.45&amp;content-type=text/x-cvsweb-markup"><b>1.45</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.45&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.45&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.45">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.45">[select for diffs]</a>, <i>Sat Dec 16 09:39:57 2000 UTC</i> (20 years, 10 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.44: +1 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.44&amp;r2=1.45">1.44</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.44&amp;r2=1.45&amp;f=h">colored</a>)
</p>
<pre>
unused; from <a href="mailto:stevesk@pobox.com">stevesk@pobox.com</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.44"></a>
 Revision <a href="scp.c?rev=1.44&amp;content-type=text/x-cvsweb-markup"><b>1.44</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.44&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.44&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.44">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.44">[select for diffs]</a>, <i>Mon Dec 11 17:27:33 2000 UTC</i> (20 years, 10 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.43: +22 -23 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.44">1.43</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.43&amp;r2=1.44&amp;f=h">colored</a>)
</p>
<pre>
when copying 0-sized files, do not re-print ETA time at completion
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.30.2.2"></a>
 Revision <a href="scp.c?rev=1.30.2.2&amp;content-type=text/x-cvsweb-markup"><b>1.30.2.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.30.2.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.30.2.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.30.2.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.30.2.2">[select for diffs]</a>, <i>Wed Nov  8 21:31:12 2000 UTC</i> (20 years, 11 months ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_7">OPENBSD_2_7</a>
</b>
<br>Changes since <b>1.30.2.1: +113 -101 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30.2.1&amp;r2=1.30.2.2">1.30.2.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30.2.1&amp;r2=1.30.2.2&amp;f=h">colored</a>) to branchpoint <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30&amp;r2=1.30.2.2">1.30</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30&amp;r2=1.30.2.2&amp;f=h">colored</a>)
</p>
<pre>
openssh-2.3.0 (again) for 2.7 branch
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.43"></a><a name="OPENBSD_2_8_BASE"></a>
 Revision <a href="scp.c?rev=1.43&amp;content-type=text/x-cvsweb-markup"><b>1.43</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.43&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.43">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.43">[select for diffs]</a>, <i>Wed Oct 18 18:23:02 2000 UTC</i> (21 years ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_2_8_BASE">OPENBSD_2_8_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_2_8">OPENBSD_2_8</a>
</b>
<br>Changes since <b>1.42: +5 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.42&amp;r2=1.43">1.42</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.42&amp;r2=1.43&amp;f=h">colored</a>)
</p>
<pre>
replace atomicio(read,...) with read(); ok deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.42"></a>
 Revision <a href="scp.c?rev=1.42&amp;content-type=text/x-cvsweb-markup"><b>1.42</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.42&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.42&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.42">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.42">[select for diffs]</a>, <i>Sat Oct 14 10:07:21 2000 UTC</i> (21 years ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.41: +5 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.41&amp;r2=1.42">1.41</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.41&amp;r2=1.42&amp;f=h">colored</a>)
</p>
<pre>
remove spaces from arguments; from <a href="mailto:djm@mindrot.org">djm@mindrot.org</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.41"></a>
 Revision <a href="scp.c?rev=1.41&amp;content-type=text/x-cvsweb-markup"><b>1.41</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.41&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.41&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.41">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.41">[select for diffs]</a>, <i>Wed Oct 11 20:03:27 2000 UTC</i> (21 years ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.40: +68 -87 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.40&amp;r2=1.41">1.40</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.40&amp;r2=1.41&amp;f=h">colored</a>)
</p>
<pre>
support 'scp -o' with help from <a href="mailto:mouring@pconline.com">mouring@pconline.com</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.40"></a>
 Revision <a href="scp.c?rev=1.40&amp;content-type=text/x-cvsweb-markup"><b>1.40</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.40&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.40&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.40">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.40">[select for diffs]</a>, <i>Thu Sep 21 11:11:42 2000 UTC</i> (21 years, 1 month ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.39: +8 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.39&amp;r2=1.40">1.39</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.39&amp;r2=1.40&amp;f=h">colored</a>)
</p>
<pre>
utime() to utimes(); <a href="mailto:mouring@pconline.com">mouring@pconline.com</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.39"></a>
 Revision <a href="scp.c?rev=1.39&amp;content-type=text/x-cvsweb-markup"><b>1.39</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.39&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.39&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.39">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.39">[select for diffs]</a>, <i>Thu Sep  7 20:53:00 2000 UTC</i> (21 years, 1 month ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.38: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.38&amp;r2=1.39">1.38</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.38&amp;r2=1.39&amp;f=h">colored</a>)
</p>
<pre>
typo
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.38"></a>
 Revision <a href="scp.c?rev=1.38&amp;content-type=text/x-cvsweb-markup"><b>1.38</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.38&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.38&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.38">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.38">[select for diffs]</a>, <i>Thu Sep  7 20:27:53 2000 UTC</i> (21 years, 1 month ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.37: +35 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.37&amp;r2=1.38">1.37</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.37&amp;r2=1.38&amp;f=h">colored</a>)
</p>
<pre>
cleanup copyright notices on all files.  I have attempted to be accurate with
the details.  everything is now under Tatu's licence (which I copied from his
readme), and/or the core-sdi bsd-ish thing for deattack, or various openbsd
developers under a 2-term bsd licence.  We're not changing any rules, just
being accurate.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.30.2.1"></a>
 Revision <a href="scp.c?rev=1.30.2.1&amp;content-type=text/x-cvsweb-markup"><b>1.30.2.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.30.2.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.30.2.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.30.2.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.30.2.1">[select for diffs]</a>, <i>Fri Sep  1 18:23:22 2000 UTC</i> (21 years, 2 months ago) by <i>jason</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=OPENBSD_2_7">OPENBSD_2_7</a>
</b>
<br>Changes since <b>1.30: +63 -91 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30&amp;r2=1.30.2.1">1.30</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30&amp;r2=1.30.2.1&amp;f=h">colored</a>)
</p>
<pre>
Pull in the rest of openssh-2.2.0 to 2.7 branch (luvin' cvs...)
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.37"></a>
 Revision <a href="scp.c?rev=1.37&amp;content-type=text/x-cvsweb-markup"><b>1.37</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.37&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.37&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.37">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.37">[select for diffs]</a>, <i>Fri Sep  1 15:25:13 2000 UTC</i> (21 years, 2 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.36: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.36&amp;r2=1.37">1.36</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.36&amp;r2=1.37&amp;f=h">colored</a>)
</p>
<pre>
cleanup and fix -S support; <a href="mailto:stevesk@sweden.hp.com">stevesk@sweden.hp.com</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.36"></a>
 Revision <a href="scp.c?rev=1.36&amp;content-type=text/x-cvsweb-markup"><b>1.36</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.36&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.36&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.36">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.36">[select for diffs]</a>, <i>Thu Aug 24 21:46:59 2000 UTC</i> (21 years, 2 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.35: +3 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.35&amp;r2=1.36">1.35</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.35&amp;r2=1.36&amp;f=h">colored</a>)
</p>
<pre>
off_t in sink, to fix files &gt; 2GB, i think, test is still running ;-)
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.35"></a>
 Revision <a href="scp.c?rev=1.35&amp;content-type=text/x-cvsweb-markup"><b>1.35</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.35&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.35&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.35">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.35">[select for diffs]</a>, <i>Sat Aug 19 02:50:07 2000 UTC</i> (21 years, 2 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.34: +32 -71 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.34&amp;r2=1.35">1.34</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.34&amp;r2=1.35&amp;f=h">colored</a>)
</p>
<pre>
knf
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.34"></a>
 Revision <a href="scp.c?rev=1.34&amp;content-type=text/x-cvsweb-markup"><b>1.34</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.34&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.34&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.34">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.34">[select for diffs]</a>, <i>Sat Aug 19 02:26:08 2000 UTC</i> (21 years, 2 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.33: +27 -19 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.33&amp;r2=1.34">1.33</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.33&amp;r2=1.34&amp;f=h">colored</a>)
</p>
<pre>
-S prog support; <a href="mailto:tv@debian.org">tv@debian.org</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.33"></a>
 Revision <a href="scp.c?rev=1.33&amp;content-type=text/x-cvsweb-markup"><b>1.33</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.33&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.33&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.33">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.33">[select for diffs]</a>, <i>Thu Jul 13 23:19:31 2000 UTC</i> (21 years, 3 months ago) by <i>provos</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.32: +6 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.32&amp;r2=1.33">1.32</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.32&amp;r2=1.33&amp;f=h">colored</a>)
</p>
<pre>
close can fail on AFS, report error; from Greg Hudson &lt;<a href="mailto:ghudson@mit.edu">ghudson@mit.edu</a>&gt;
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.32"></a>
 Revision <a href="scp.c?rev=1.32&amp;content-type=text/x-cvsweb-markup"><b>1.32</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.32&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.32&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.32">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.32">[select for diffs]</a>, <i>Tue Jun 20 01:39:44 2000 UTC</i> (21 years, 4 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.31: +2 -2 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.31&amp;r2=1.32">1.31</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.31&amp;r2=1.32&amp;f=h">colored</a>)
</p>
<pre>
OpenBSD tag
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.31"></a>
 Revision <a href="scp.c?rev=1.31&amp;content-type=text/x-cvsweb-markup"><b>1.31</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.31&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.31&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.31">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.31">[select for diffs]</a>, <i>Sun Jun 18 03:16:09 2000 UTC</i> (21 years, 4 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.30: +2 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30&amp;r2=1.31">1.30</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.30&amp;r2=1.31&amp;f=h">colored</a>)
</p>
<pre>
typo
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.30"></a><a name="OPENBSD_2_7_BASE"></a>
 Revision <a href="scp.c?rev=1.30&amp;content-type=text/x-cvsweb-markup"><b>1.30</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.30&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.30&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.30">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.30">[select for diffs]</a>, <i>Tue May  2 18:21:48 2000 UTC</i> (21 years, 6 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_2_7_BASE">OPENBSD_2_7_BASE</a>
</b><br>Branch point for: <b><a href="./scp.c?only_with_tag=OPENBSD_2_7">OPENBSD_2_7</a>
</b>
<br>Changes since <b>1.29: +10 -10 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.29&amp;r2=1.30">1.29</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.29&amp;r2=1.30&amp;f=h">colored</a>)
</p>
<pre>
more atomicio
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.29"></a>
 Revision <a href="scp.c?rev=1.29&amp;content-type=text/x-cvsweb-markup"><b>1.29</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.29&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.29&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.29">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.29">[select for diffs]</a>, <i>Mon May  1 07:05:08 2000 UTC</i> (21 years, 6 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.28: +18 -18 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.28&amp;r2=1.29">1.28</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.28&amp;r2=1.29&amp;f=h">colored</a>)
</p>
<pre>
fix very rare EAGAIN/EINTR issues; based on work by djm
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.28"></a>
 Revision <a href="scp.c?rev=1.28&amp;content-type=text/x-cvsweb-markup"><b>1.28</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.28&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.28&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.28">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.28">[select for diffs]</a>, <i>Sun Apr 16 04:47:43 2000 UTC</i> (21 years, 6 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.27: +10 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.27&amp;r2=1.28">1.27</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.27&amp;r2=1.28&amp;f=h">colored</a>)
</p>
<pre>
after completion, replace the progress bar ETA counter with a final elapsed time; my idea, aaron wrote the patch
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.27"></a>
 Revision <a href="scp.c?rev=1.27&amp;content-type=text/x-cvsweb-markup"><b>1.27</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.27&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.27&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.27">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.27">[select for diffs]</a>, <i>Fri Apr 14 10:30:32 2000 UTC</i> (21 years, 6 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.26: +10 -10 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.26&amp;r2=1.27">1.26</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.26&amp;r2=1.27&amp;f=h">colored</a>)
</p>
<pre>
whitespace cleanup
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.26"></a>
 Revision <a href="scp.c?rev=1.26&amp;content-type=text/x-cvsweb-markup"><b>1.26</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.26&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.26&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.26">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.26">[select for diffs]</a>, <i>Thu Mar 16 20:56:14 2000 UTC</i> (21 years, 7 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.25: +4 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.25&amp;r2=1.26">1.25</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.25&amp;r2=1.26&amp;f=h">colored</a>)
</p>
<pre>
-pedantic: signed vs. unsigned, void*-arithm, etc
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.25"></a>
 Revision <a href="scp.c?rev=1.25&amp;content-type=text/x-cvsweb-markup"><b>1.25</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.25&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.25&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.25">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.25">[select for diffs]</a>, <i>Mon Jan 24 22:11:20 2000 UTC</i> (21 years, 9 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.24: +4 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.24&amp;r2=1.25">1.24</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.24&amp;r2=1.25&amp;f=h">colored</a>)
</p>
<pre>
allow '.' in usernames; from <a href="mailto:jedgar@fxp.org">jedgar@fxp.org</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.24"></a>
 Revision <a href="scp.c?rev=1.24&amp;content-type=text/x-cvsweb-markup"><b>1.24</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.24&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.24&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.24">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.24">[select for diffs]</a>, <i>Tue Jan  4 16:57:16 2000 UTC</i> (21 years, 10 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.23: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.23&amp;r2=1.24">1.23</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.23&amp;r2=1.24&amp;f=h">colored</a>)
</p>
<pre>
document -4, -6, and 'ssh -L 2022/::1/22'
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.23"></a>
 Revision <a href="scp.c?rev=1.23&amp;content-type=text/x-cvsweb-markup"><b>1.23</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.23&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.23&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.23">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.23">[select for diffs]</a>, <i>Tue Jan  4 00:07:59 2000 UTC</i> (21 years, 10 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.22: +47 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.22&amp;r2=1.23">1.22</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.22&amp;r2=1.23&amp;f=h">colored</a>)
</p>
<pre>
ipv6 support: mostly gethostbyname-&gt;getaddrinfo/getnameinfo, new features:
sshd allows multiple ListenAddress and Port options.  note that libwrap is
not IPv6-ready. (based on patches from &lt;<a href="mailto:kick@kyoto.wide.ad.jp">kick@kyoto.wide.ad.jp</a>&gt; and
<a href="mailto:fujiwara@rcac.tdi.co.jp">fujiwara@rcac.tdi.co.jp</a>)
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.22"></a>
 Revision <a href="scp.c?rev=1.22&amp;content-type=text/x-cvsweb-markup"><b>1.22</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.22&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.22&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.22">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.22">[select for diffs]</a>, <i>Mon Dec  6 20:15:28 1999 UTC</i> (21 years, 10 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.21: +2 -26 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.21&amp;r2=1.22">1.21</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.21&amp;r2=1.22&amp;f=h">colored</a>)
</p>
<pre>
move atomicio into it's own file.  wrap all socket write()s which were doing
write(sock, buf, len) != len, with atomicio() calls.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.21"></a>
 Revision <a href="scp.c?rev=1.21&amp;content-type=text/x-cvsweb-markup"><b>1.21</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.21&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.21&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.21">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.21">[select for diffs]</a>, <i>Wed Nov 24 20:26:35 1999 UTC</i> (21 years, 11 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.20: +3 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.20&amp;r2=1.21">1.20</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.20&amp;r2=1.21&amp;f=h">colored</a>)
</p>
<pre>
progress meter overflow fix from <a href="mailto:damien@ibs.com.au">damien@ibs.com.au</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.20"></a>
 Revision <a href="scp.c?rev=1.20&amp;content-type=text/x-cvsweb-markup"><b>1.20</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.20&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.20&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.20">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.20">[select for diffs]</a>, <i>Wed Nov 24 19:53:50 1999 UTC</i> (21 years, 11 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.19: +11 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.19&amp;r2=1.20">1.19</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.19&amp;r2=1.20&amp;f=h">colored</a>)
</p>
<pre>
KNF, final part 3
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.19"></a>
 Revision <a href="scp.c?rev=1.19&amp;content-type=text/x-cvsweb-markup"><b>1.19</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.19&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.19&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.19">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.19">[select for diffs]</a>, <i>Wed Nov 24 00:26:03 1999 UTC</i> (21 years, 11 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.18: +11 -11 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.18&amp;r2=1.19">1.18</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.18&amp;r2=1.19&amp;f=h">colored</a>)
</p>
<pre>
much more KNF
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.18"></a>
 Revision <a href="scp.c?rev=1.18&amp;content-type=text/x-cvsweb-markup"><b>1.18</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.18&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.18&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.18">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.18">[select for diffs]</a>, <i>Tue Nov 23 22:25:54 1999 UTC</i> (21 years, 11 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.17: +306 -317 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.17&amp;r2=1.18">1.17</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.17&amp;r2=1.18&amp;f=h">colored</a>)
</p>
<pre>
KNF part 1
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.17"></a>
 Revision <a href="scp.c?rev=1.17&amp;content-type=text/x-cvsweb-markup"><b>1.17</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.17&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.17&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.17">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.17">[select for diffs]</a>, <i>Mon Nov 22 21:02:38 1999 UTC</i> (21 years, 11 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.16: +14 -14 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.16&amp;r2=1.17">1.16</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.16&amp;r2=1.17&amp;f=h">colored</a>)
</p>
<pre>
syslog changes:
* Unified Logmessage for all auth-types, for success and for failed
* Standard connections get only ONE line in the LOG when level==LOG:
  Auth-attempts are logged only, if authentication is:
        a) successfull or
        b) with passwd or
        c) we had more than AUTH_FAIL_LOG failues
* many log() became verbose()
* old behaviour with level=VERBOSE
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.16"></a>
 Revision <a href="scp.c?rev=1.16&amp;content-type=text/x-cvsweb-markup"><b>1.16</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.16&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.16&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.16">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.16">[select for diffs]</a>, <i>Wed Nov 17 09:20:17 1999 UTC</i> (21 years, 11 months ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.15: +21 -5 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.15&amp;r2=1.16">1.15</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.15&amp;r2=1.16&amp;f=h">colored</a>)
</p>
<pre>
foregroundproc() in scp
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.15"></a>
 Revision <a href="scp.c?rev=1.15&amp;content-type=text/x-cvsweb-markup"><b>1.15</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.15&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.15&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.15">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.15">[select for diffs]</a>, <i>Fri Nov 12 17:10:51 1999 UTC</i> (21 years, 11 months ago) by <i>markus</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.14: +4 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.14&amp;r2=1.15">1.14</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.14&amp;r2=1.15&amp;f=h">colored</a>)
</p>
<pre>
fix overflow reported by <a href="mailto:damien@ibs.com.au">damien@ibs.com.au</a>: off_t totalsize, ok niels,aaron
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.14"></a>
 Revision <a href="scp.c?rev=1.14&amp;content-type=text/x-cvsweb-markup"><b>1.14</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.14&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.14&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.14">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.14">[select for diffs]</a>, <i>Wed Oct 27 02:14:38 1999 UTC</i> (22 years ago) by <i>aaron</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.13: +4 -4 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.13&amp;r2=1.14">1.13</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.13&amp;r2=1.14&amp;f=h">colored</a>)
</p>
<pre>
Calculation fix in progressmeter() for ETA &gt; 1hr; pasto on my part.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.13"></a><a name="OPENBSD_2_6_BASE"></a><a name="OPENBSD_2_6"></a>
 Revision <a href="scp.c?rev=1.13&amp;content-type=text/x-cvsweb-markup"><b>1.13</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.13&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.13&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.13">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.13">[select for diffs]</a>, <i>Fri Oct  8 01:25:20 1999 UTC</i> (22 years ago) by <i>aaron</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>CVS Tags: <b><a href="./scp.c?only_with_tag=OPENBSD_2_6_BASE">OPENBSD_2_6_BASE</a>,
<a href="./scp.c?only_with_tag=OPENBSD_2_6">OPENBSD_2_6</a>
</b><br>Changes since <b>1.12: +11 -8 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.12&amp;r2=1.13">1.12</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.12&amp;r2=1.13&amp;f=h">colored</a>)
</p>
<pre>
Print out the progress meter for 0 length files, too; deraadt@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.12"></a>
 Revision <a href="scp.c?rev=1.12&amp;content-type=text/x-cvsweb-markup"><b>1.12</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.12&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.12&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.12">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.12">[select for diffs]</a>, <i>Tue Oct  5 12:17:05 1999 UTC</i> (22 years, 1 month ago) by <i>aaron</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.11: +11 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.11&amp;r2=1.12">1.11</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.11&amp;r2=1.12&amp;f=h">colored</a>)
</p>
<pre>
- Fix the progress meter for receiving files, too.
- Add a check for totalbytes &lt;= 0 in progressmeter(), so we don't / 0.
- Reset statbytes when we issue <a href="http://man.OpenBSD.org/progressmeter.1">progressmeter(1)</a>, just to be safe.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.11"></a>
 Revision <a href="scp.c?rev=1.11&amp;content-type=text/x-cvsweb-markup"><b>1.11</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.11&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.11&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.11">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.11">[select for diffs]</a>, <i>Tue Oct  5 10:58:37 1999 UTC</i> (22 years, 1 month ago) by <i>aaron</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.10: +25 -10 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.10&amp;r2=1.11">1.10</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.10&amp;r2=1.11&amp;f=h">colored</a>)
</p>
<pre>
Show filenames in the progress meter while transferring.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.10"></a>
 Revision <a href="scp.c?rev=1.10&amp;content-type=text/x-cvsweb-markup"><b>1.10</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.10&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.10&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.10">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.10">[select for diffs]</a>, <i>Mon Oct  4 01:59:56 1999 UTC</i> (22 years, 1 month ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.9: +38 -14 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.9&amp;r2=1.10">1.9</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.9&amp;r2=1.10&amp;f=h">colored</a>)
</p>
<pre>
it is incredible what some people try to do in signal handlers
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.9"></a>
 Revision <a href="scp.c?rev=1.9&amp;content-type=text/x-cvsweb-markup"><b>1.9</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.9&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.9&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.9">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.9">[select for diffs]</a>, <i>Sun Oct  3 20:43:12 1999 UTC</i> (22 years, 1 month ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.8: +6 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.8&amp;r2=1.9">1.8</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.8&amp;r2=1.9&amp;f=h">colored</a>)
</p>
<pre>
errno trashing considered harmfull
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.8"></a>
 Revision <a href="scp.c?rev=1.8&amp;content-type=text/x-cvsweb-markup"><b>1.8</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.8&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.8&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.8">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.8">[select for diffs]</a>, <i>Sat Oct  2 19:18:22 1999 UTC</i> (22 years, 1 month ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.7: +12 -7 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.7&amp;r2=1.8">1.7</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.7&amp;r2=1.8&amp;f=h">colored</a>)
</p>
<pre>
Wall
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.7"></a>
 Revision <a href="scp.c?rev=1.7&amp;content-type=text/x-cvsweb-markup"><b>1.7</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.7&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.7&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.7">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.7">[select for diffs]</a>, <i>Sat Oct  2 18:33:56 1999 UTC</i> (22 years, 1 month ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.6: +14 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.6&amp;r2=1.7">1.6</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.6&amp;r2=1.7&amp;f=h">colored</a>)
</p>
<pre>
isatty() fixes for the progress meter; <a href="mailto:markus.friedl@informatik.uni-erlangen.de">markus.friedl@informatik.uni-erlangen.de</a>
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.6"></a>
 Revision <a href="scp.c?rev=1.6&amp;content-type=text/x-cvsweb-markup"><b>1.6</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.6&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.6&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.6">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.6">[select for diffs]</a>, <i>Thu Sep 30 21:25:03 1999 UTC</i> (22 years, 1 month ago) by <i>aaron</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.5: +16 -8 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.5&amp;r2=1.6">1.5</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.5&amp;r2=1.6&amp;f=h">colored</a>)
</p>
<pre>
- Add -q option to shutup the progressmeter; markus friedl
- Describe -q in man page (needs conversion to mdoc still).
- Cleanup usage string.
- Correct a typo; espie@
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.5"></a>
 Revision <a href="scp.c?rev=1.5&amp;content-type=text/x-cvsweb-markup"><b>1.5</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.5&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.5&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.5">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.5">[select for diffs]</a>, <i>Thu Sep 30 05:11:29 1999 UTC</i> (22 years, 1 month ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.4: +3 -35 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.4&amp;r2=1.5">1.4</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.4&amp;r2=1.5&amp;f=h">colored</a>)
</p>
<pre>
do not bother with dinosaur pacification
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.4"></a>
 Revision <a href="scp.c?rev=1.4&amp;content-type=text/x-cvsweb-markup"><b>1.4</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.4&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.4&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.4">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.4">[select for diffs]</a>, <i>Thu Sep 30 01:21:41 1999 UTC</i> (22 years, 1 month ago) by <i>aaron</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.3: +133 -3 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.3&amp;r2=1.4">1.3</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.3&amp;r2=1.4&amp;f=h">colored</a>)
</p>
<pre>
Put our <a href="http://man.OpenBSD.org/ftp.1">ftp(1)</a> progress meter into <a href="http://man.OpenBSD.org/scp.1">scp(1)</a>.
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.3"></a>
 Revision <a href="scp.c?rev=1.3&amp;content-type=text/x-cvsweb-markup"><b>1.3</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.3&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.3&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.3">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.3">[select for diffs]</a>, <i>Wed Sep 29 21:15:54 1999 UTC</i> (22 years, 1 month ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.2: +4 -8 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.2&amp;r2=1.3">1.2</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.2&amp;r2=1.3&amp;f=h">colored</a>)
</p>
<pre>
we have setsid
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.2"></a>
 Revision <a href="scp.c?rev=1.2&amp;content-type=text/x-cvsweb-markup"><b>1.2</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.2&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.2&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.2">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.2">[select for diffs]</a>, <i>Wed Sep 29 18:16:20 1999 UTC</i> (22 years, 1 month ago) by <i>dugsong</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>Changes since <b>1.1: +3 -21 lines</b><br>Diff to previous <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.1&amp;r2=1.2">1.1</a> (<a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff?r1=1.1&amp;r2=1.2&amp;f=h">colored</a>)
</p>
<pre>
update krb4/AFS support to ssh-1.2.27-afs-kerberos-pl1 level, clean up unused variables, update manpages
</pre>
<hr size="1" noshade>
<p>
<a name="rev1.1"></a>
 Revision <a href="scp.c?rev=1.1&amp;content-type=text/x-cvsweb-markup"><b>1.1</b></a> / (<a href="/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.1&amp;content-type=text/plain" target="cvs_checkout" onclick="window.open('/cgi-bin/cvsweb/~checkout~/src/usr.bin/ssh/scp.c?rev=1.1&amp;content-type=text/plain','cvs_checkout','resizable,scrollbars');return false"><b>download</b></a>) - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?annotate=1.1">annotate</a> - <a href="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c?r1=1.1">[select for diffs]</a>, <i>Sun Sep 26 20:53:37 1999 UTC</i> (22 years, 1 month ago) by <i>deraadt</i>
<br>Branch: <b><a href="./scp.c?only_with_tag=MAIN">MAIN</a>
</b>
<br>
</p>
<pre>
i bet a lot of people didn't know what ssh 1.2.16 had a nice license.
well, except for the patent issues.  someone in sweden (forget their
name at the moment) cleaned out most of the patented code, and now
this code removes rsa code.  when this is done, it will link against
libssl, but the work isn't completely done yet.  then we need to bring
this up to modern days, featurewise.
</pre>
<hr noshade>
<p>
<a name="diff">
This form allows you to request diff's between any two
revisions of a file.  You may select a symbolic revision
name using the selection box or you may type in a numeric
name using the type-in text box.
</a>
</p>
<form method="get" action="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c.diff" name="diff_select">
<table style="border: none">
<tr>
<td align="right"><label for="r1" accesskey="1">Diffs between </label>
<select id="r1" name="r1">
<option value="text" selected>Use Text Field</option>
<option value="1.239:OPENBSD_7_0_BASE">OPENBSD_7_0_BASE</option>
<option value="1.239:OPENBSD_7_0">OPENBSD_7_0</option>
<option value="1.214:OPENBSD_6_9_BASE">OPENBSD_6_9_BASE</option>
<option value="1.214:OPENBSD_6_9">OPENBSD_6_9</option>
<option value="1.212:OPENBSD_6_8_BASE">OPENBSD_6_8_BASE</option>
<option value="1.212:OPENBSD_6_8">OPENBSD_6_8</option>
<option value="1.210:OPENBSD_6_7_BASE">OPENBSD_6_7_BASE</option>
<option value="1.210:OPENBSD_6_7">OPENBSD_6_7</option>
<option value="1.206:OPENBSD_6_6_BASE">OPENBSD_6_6_BASE</option>
<option value="1.206:OPENBSD_6_6">OPENBSD_6_6</option>
<option value="1.204:OPENBSD_6_5_BASE">OPENBSD_6_5_BASE</option>
<option value="1.204:OPENBSD_6_5">OPENBSD_6_5</option>
<option value="1.197:OPENBSD_6_4_BASE">OPENBSD_6_4_BASE</option>
<option value="1.197:OPENBSD_6_4">OPENBSD_6_4</option>
<option value="1.195:OPENBSD_6_3_BASE">OPENBSD_6_3_BASE</option>
<option value="1.195:OPENBSD_6_3">OPENBSD_6_3</option>
<option value="1.192:OPENBSD_6_2_BASE">OPENBSD_6_2_BASE</option>
<option value="1.192:OPENBSD_6_2">OPENBSD_6_2</option>
<option value="1.187:OPENBSD_6_1_BASE">OPENBSD_6_1_BASE</option>
<option value="1.187:OPENBSD_6_1">OPENBSD_6_1</option>
<option value="1.186:OPENBSD_6_0_BASE">OPENBSD_6_0_BASE</option>
<option value="1.186:OPENBSD_6_0">OPENBSD_6_0</option>
<option value="1.184:OPENBSD_5_9_BASE">OPENBSD_5_9_BASE</option>
<option value="1.184:OPENBSD_5_9">OPENBSD_5_9</option>
<option value="1.182:OPENBSD_5_8_BASE">OPENBSD_5_8_BASE</option>
<option value="1.182:OPENBSD_5_8">OPENBSD_5_8</option>
<option value="1.181:OPENBSD_5_7_BASE">OPENBSD_5_7_BASE</option>
<option value="1.181:OPENBSD_5_7">OPENBSD_5_7</option>
<option value="1.180:OPENBSD_5_6_BASE">OPENBSD_5_6_BASE</option>
<option value="1.180:OPENBSD_5_6">OPENBSD_5_6</option>
<option value="1.179:OPENBSD_5_5_BASE">OPENBSD_5_5_BASE</option>
<option value="1.179:OPENBSD_5_5">OPENBSD_5_5</option>
<option value="1.178:OPENBSD_5_4_BASE">OPENBSD_5_4_BASE</option>
<option value="1.178:OPENBSD_5_4">OPENBSD_5_4</option>
<option value="1.171:OPENBSD_5_3_BASE">OPENBSD_5_3_BASE</option>
<option value="1.171:OPENBSD_5_3">OPENBSD_5_3</option>
<option value="1.171:OPENBSD_5_2_BASE">OPENBSD_5_2_BASE</option>
<option value="1.171:OPENBSD_5_2">OPENBSD_5_2</option>
<option value="1.171:OPENBSD_5_1_BASE">OPENBSD_5_1_BASE</option>
<option value="1.171:OPENBSD_5_1">OPENBSD_5_1</option>
<option value="1.170:OPENBSD_5_0_BASE">OPENBSD_5_0_BASE</option>
<option value="1.170:OPENBSD_5_0">OPENBSD_5_0</option>
<option value="1.170:OPENBSD_4_9_BASE">OPENBSD_4_9_BASE</option>
<option value="1.170:OPENBSD_4_9">OPENBSD_4_9</option>
<option value="1.166:OPENBSD_4_8_BASE">OPENBSD_4_8_BASE</option>
<option value="1.166:OPENBSD_4_8">OPENBSD_4_8</option>
<option value="1.165:OPENBSD_4_7_BASE">OPENBSD_4_7_BASE</option>
<option value="1.165:OPENBSD_4_7">OPENBSD_4_7</option>
<option value="1.164:OPENBSD_4_6_BASE">OPENBSD_4_6_BASE</option>
<option value="1.164:OPENBSD_4_6">OPENBSD_4_6</option>
<option value="1.164:OPENBSD_4_5_BASE">OPENBSD_4_5_BASE</option>
<option value="1.164:OPENBSD_4_5">OPENBSD_4_5</option>
<option value="1.163:OPENBSD_4_4_BASE">OPENBSD_4_4_BASE</option>
<option value="1.163:OPENBSD_4_4">OPENBSD_4_4</option>
<option value="1.162:OPENBSD_4_3_BASE">OPENBSD_4_3_BASE</option>
<option value="1.162:OPENBSD_4_3">OPENBSD_4_3</option>
<option value="1.160:OPENBSD_4_2_BASE">OPENBSD_4_2_BASE</option>
<option value="1.160:OPENBSD_4_2">OPENBSD_4_2</option>
<option value="1.156:OPENBSD_4_1_BASE">OPENBSD_4_1_BASE</option>
<option value="1.156:OPENBSD_4_1">OPENBSD_4_1</option>
<option value="1.155:OPENBSD_4_0_BASE">OPENBSD_4_0_BASE</option>
<option value="1.155:OPENBSD_4_0">OPENBSD_4_0</option>
<option value="1.135:OPENBSD_3_9_BASE">OPENBSD_3_9_BASE</option>
<option value="1.135.2:OPENBSD_3_9">OPENBSD_3_9</option>
<option value="1.125:OPENBSD_3_8_BASE">OPENBSD_3_8_BASE</option>
<option value="1.125.2:OPENBSD_3_8">OPENBSD_3_8</option>
<option value="1.119:OPENBSD_3_7_BASE">OPENBSD_3_7_BASE</option>
<option value="1.119.2:OPENBSD_3_7">OPENBSD_3_7</option>
<option value="1.117:OPENBSD_3_6_BASE">OPENBSD_3_6_BASE</option>
<option value="1.117.2:OPENBSD_3_6">OPENBSD_3_6</option>
<option value="1.113:OPENBSD_3_5_BASE">OPENBSD_3_5_BASE</option>
<option value="1.113.2:OPENBSD_3_5">OPENBSD_3_5</option>
<option value="1.108:OPENBSD_3_4_BASE">OPENBSD_3_4_BASE</option>
<option value="1.108.2:OPENBSD_3_4">OPENBSD_3_4</option>
<option value="1.102:OPENBSD_3_3_BASE">OPENBSD_3_3_BASE</option>
<option value="1.102.2:OPENBSD_3_3">OPENBSD_3_3</option>
<option value="1.91:OPENBSD_3_2_BASE">OPENBSD_3_2_BASE</option>
<option value="1.91.2:OPENBSD_3_2">OPENBSD_3_2</option>
<option value="1.88:OPENBSD_3_1_BASE">OPENBSD_3_1_BASE</option>
<option value="1.88.2:OPENBSD_3_1">OPENBSD_3_1</option>
<option value="1.85:OPENBSD_3_0_BASE">OPENBSD_3_0_BASE</option>
<option value="1.85.2:OPENBSD_3_0">OPENBSD_3_0</option>
<option value="1.68:OPENBSD_2_9_BASE">OPENBSD_2_9_BASE</option>
<option value="1.68.2:OPENBSD_2_9">OPENBSD_2_9</option>
<option value="1.43:OPENBSD_2_8_BASE">OPENBSD_2_8_BASE</option>
<option value="1.43.2:OPENBSD_2_8">OPENBSD_2_8</option>
<option value="1.30:OPENBSD_2_7_BASE">OPENBSD_2_7_BASE</option>
<option value="1.30.2:OPENBSD_2_7">OPENBSD_2_7</option>
<option value="1.13:OPENBSD_2_6_BASE">OPENBSD_2_6_BASE</option>
<option value="1.13:OPENBSD_2_6">OPENBSD_2_6</option>
<option value="1:MAIN">MAIN</option>
<option value="1.241:HEAD">HEAD</option>
</select>
<input type="text" size="12" name="tr1" value="1.1" onchange="this.form.r1.selectedIndex=0"></td>
<td><br></td>
</tr>
<tr>
<td align="right"><label for="r2" accesskey="2">and </label>
<select id="r2" name="r2">
<option value="text" selected>Use Text Field</option>
<option value="1.239:OPENBSD_7_0_BASE">OPENBSD_7_0_BASE</option>
<option value="1.239:OPENBSD_7_0">OPENBSD_7_0</option>
<option value="1.214:OPENBSD_6_9_BASE">OPENBSD_6_9_BASE</option>
<option value="1.214:OPENBSD_6_9">OPENBSD_6_9</option>
<option value="1.212:OPENBSD_6_8_BASE">OPENBSD_6_8_BASE</option>
<option value="1.212:OPENBSD_6_8">OPENBSD_6_8</option>
<option value="1.210:OPENBSD_6_7_BASE">OPENBSD_6_7_BASE</option>
<option value="1.210:OPENBSD_6_7">OPENBSD_6_7</option>
<option value="1.206:OPENBSD_6_6_BASE">OPENBSD_6_6_BASE</option>
<option value="1.206:OPENBSD_6_6">OPENBSD_6_6</option>
<option value="1.204:OPENBSD_6_5_BASE">OPENBSD_6_5_BASE</option>
<option value="1.204:OPENBSD_6_5">OPENBSD_6_5</option>
<option value="1.197:OPENBSD_6_4_BASE">OPENBSD_6_4_BASE</option>
<option value="1.197:OPENBSD_6_4">OPENBSD_6_4</option>
<option value="1.195:OPENBSD_6_3_BASE">OPENBSD_6_3_BASE</option>
<option value="1.195:OPENBSD_6_3">OPENBSD_6_3</option>
<option value="1.192:OPENBSD_6_2_BASE">OPENBSD_6_2_BASE</option>
<option value="1.192:OPENBSD_6_2">OPENBSD_6_2</option>
<option value="1.187:OPENBSD_6_1_BASE">OPENBSD_6_1_BASE</option>
<option value="1.187:OPENBSD_6_1">OPENBSD_6_1</option>
<option value="1.186:OPENBSD_6_0_BASE">OPENBSD_6_0_BASE</option>
<option value="1.186:OPENBSD_6_0">OPENBSD_6_0</option>
<option value="1.184:OPENBSD_5_9_BASE">OPENBSD_5_9_BASE</option>
<option value="1.184:OPENBSD_5_9">OPENBSD_5_9</option>
<option value="1.182:OPENBSD_5_8_BASE">OPENBSD_5_8_BASE</option>
<option value="1.182:OPENBSD_5_8">OPENBSD_5_8</option>
<option value="1.181:OPENBSD_5_7_BASE">OPENBSD_5_7_BASE</option>
<option value="1.181:OPENBSD_5_7">OPENBSD_5_7</option>
<option value="1.180:OPENBSD_5_6_BASE">OPENBSD_5_6_BASE</option>
<option value="1.180:OPENBSD_5_6">OPENBSD_5_6</option>
<option value="1.179:OPENBSD_5_5_BASE">OPENBSD_5_5_BASE</option>
<option value="1.179:OPENBSD_5_5">OPENBSD_5_5</option>
<option value="1.178:OPENBSD_5_4_BASE">OPENBSD_5_4_BASE</option>
<option value="1.178:OPENBSD_5_4">OPENBSD_5_4</option>
<option value="1.171:OPENBSD_5_3_BASE">OPENBSD_5_3_BASE</option>
<option value="1.171:OPENBSD_5_3">OPENBSD_5_3</option>
<option value="1.171:OPENBSD_5_2_BASE">OPENBSD_5_2_BASE</option>
<option value="1.171:OPENBSD_5_2">OPENBSD_5_2</option>
<option value="1.171:OPENBSD_5_1_BASE">OPENBSD_5_1_BASE</option>
<option value="1.171:OPENBSD_5_1">OPENBSD_5_1</option>
<option value="1.170:OPENBSD_5_0_BASE">OPENBSD_5_0_BASE</option>
<option value="1.170:OPENBSD_5_0">OPENBSD_5_0</option>
<option value="1.170:OPENBSD_4_9_BASE">OPENBSD_4_9_BASE</option>
<option value="1.170:OPENBSD_4_9">OPENBSD_4_9</option>
<option value="1.166:OPENBSD_4_8_BASE">OPENBSD_4_8_BASE</option>
<option value="1.166:OPENBSD_4_8">OPENBSD_4_8</option>
<option value="1.165:OPENBSD_4_7_BASE">OPENBSD_4_7_BASE</option>
<option value="1.165:OPENBSD_4_7">OPENBSD_4_7</option>
<option value="1.164:OPENBSD_4_6_BASE">OPENBSD_4_6_BASE</option>
<option value="1.164:OPENBSD_4_6">OPENBSD_4_6</option>
<option value="1.164:OPENBSD_4_5_BASE">OPENBSD_4_5_BASE</option>
<option value="1.164:OPENBSD_4_5">OPENBSD_4_5</option>
<option value="1.163:OPENBSD_4_4_BASE">OPENBSD_4_4_BASE</option>
<option value="1.163:OPENBSD_4_4">OPENBSD_4_4</option>
<option value="1.162:OPENBSD_4_3_BASE">OPENBSD_4_3_BASE</option>
<option value="1.162:OPENBSD_4_3">OPENBSD_4_3</option>
<option value="1.160:OPENBSD_4_2_BASE">OPENBSD_4_2_BASE</option>
<option value="1.160:OPENBSD_4_2">OPENBSD_4_2</option>
<option value="1.156:OPENBSD_4_1_BASE">OPENBSD_4_1_BASE</option>
<option value="1.156:OPENBSD_4_1">OPENBSD_4_1</option>
<option value="1.155:OPENBSD_4_0_BASE">OPENBSD_4_0_BASE</option>
<option value="1.155:OPENBSD_4_0">OPENBSD_4_0</option>
<option value="1.135:OPENBSD_3_9_BASE">OPENBSD_3_9_BASE</option>
<option value="1.135.2:OPENBSD_3_9">OPENBSD_3_9</option>
<option value="1.125:OPENBSD_3_8_BASE">OPENBSD_3_8_BASE</option>
<option value="1.125.2:OPENBSD_3_8">OPENBSD_3_8</option>
<option value="1.119:OPENBSD_3_7_BASE">OPENBSD_3_7_BASE</option>
<option value="1.119.2:OPENBSD_3_7">OPENBSD_3_7</option>
<option value="1.117:OPENBSD_3_6_BASE">OPENBSD_3_6_BASE</option>
<option value="1.117.2:OPENBSD_3_6">OPENBSD_3_6</option>
<option value="1.113:OPENBSD_3_5_BASE">OPENBSD_3_5_BASE</option>
<option value="1.113.2:OPENBSD_3_5">OPENBSD_3_5</option>
<option value="1.108:OPENBSD_3_4_BASE">OPENBSD_3_4_BASE</option>
<option value="1.108.2:OPENBSD_3_4">OPENBSD_3_4</option>
<option value="1.102:OPENBSD_3_3_BASE">OPENBSD_3_3_BASE</option>
<option value="1.102.2:OPENBSD_3_3">OPENBSD_3_3</option>
<option value="1.91:OPENBSD_3_2_BASE">OPENBSD_3_2_BASE</option>
<option value="1.91.2:OPENBSD_3_2">OPENBSD_3_2</option>
<option value="1.88:OPENBSD_3_1_BASE">OPENBSD_3_1_BASE</option>
<option value="1.88.2:OPENBSD_3_1">OPENBSD_3_1</option>
<option value="1.85:OPENBSD_3_0_BASE">OPENBSD_3_0_BASE</option>
<option value="1.85.2:OPENBSD_3_0">OPENBSD_3_0</option>
<option value="1.68:OPENBSD_2_9_BASE">OPENBSD_2_9_BASE</option>
<option value="1.68.2:OPENBSD_2_9">OPENBSD_2_9</option>
<option value="1.43:OPENBSD_2_8_BASE">OPENBSD_2_8_BASE</option>
<option value="1.43.2:OPENBSD_2_8">OPENBSD_2_8</option>
<option value="1.30:OPENBSD_2_7_BASE">OPENBSD_2_7_BASE</option>
<option value="1.30.2:OPENBSD_2_7">OPENBSD_2_7</option>
<option value="1.13:OPENBSD_2_6_BASE">OPENBSD_2_6_BASE</option>
<option value="1.13:OPENBSD_2_6">OPENBSD_2_6</option>
<option value="1:MAIN">MAIN</option>
<option value="1.241:HEAD">HEAD</option>
</select>
<input type="text" size="12" name="tr2" value="1.241" onchange="this.form.r2.selectedIndex=0"></td>
<td><input type="submit" value="  Get Diffs  " accesskey="G"></td>
</tr>
</table>
</form>
<hr noshade>
<form method="get" action="/cgi-bin/cvsweb/src/usr.bin/ssh/scp.c">
<table style="border: none">
<tr>
<td align="right"><label for="f" accesskey="D">Preferred Diff type:</label></td>
<td><select id="f" name="f" onchange="this.form.submit()">
<option value="h">Colored</option>
<option value="H">Long colored</option>
<option value="u" selected>Unified</option>
<option value="c">Context</option>
</select></td>
<td></td>
</tr>
<tr>
<td align="right"><label for="only_with_tag" accesskey="B">View only Branch:</label></td>
<td><a name="branch"></a>
<select id="only_with_tag" name="only_with_tag" onchange="this.form.submit()">
<option value="">Show all branches</option>
<option>OPENBSD_7_0</option>
<option>OPENBSD_6_9</option>
<option>OPENBSD_6_8</option>
<option>OPENBSD_6_7</option>
<option>OPENBSD_6_6</option>
<option>OPENBSD_6_5</option>
<option>OPENBSD_6_4</option>
<option>OPENBSD_6_3</option>
<option>OPENBSD_6_2</option>
<option>OPENBSD_6_1</option>
<option>OPENBSD_6_0</option>
<option>OPENBSD_5_9</option>
<option>OPENBSD_5_8</option>
<option>OPENBSD_5_7</option>
<option>OPENBSD_5_6</option>
<option>OPENBSD_5_5</option>
<option>OPENBSD_5_4</option>
<option>OPENBSD_5_3</option>
<option>OPENBSD_5_2</option>
<option>OPENBSD_5_1</option>
<option>OPENBSD_5_0</option>
<option>OPENBSD_4_9</option>
<option>OPENBSD_4_8</option>
<option>OPENBSD_4_7</option>
<option>OPENBSD_4_6</option>
<option>OPENBSD_4_5</option>
<option>OPENBSD_4_4</option>
<option>OPENBSD_4_3</option>
<option>OPENBSD_4_2</option>
<option>OPENBSD_4_1</option>
<option>OPENBSD_4_0</option>
<option>OPENBSD_3_9</option>
<option>OPENBSD_3_8</option>
<option>OPENBSD_3_7</option>
<option>OPENBSD_3_6</option>
<option>OPENBSD_3_5</option>
<option>OPENBSD_3_4</option>
<option>OPENBSD_3_3</option>
<option>OPENBSD_3_2</option>
<option>OPENBSD_3_1</option>
<option>OPENBSD_3_0</option>
<option>OPENBSD_2_9</option>
<option>OPENBSD_2_8</option>
<option>OPENBSD_2_7</option>
<option>OPENBSD_2_6</option>
<option>MAIN</option>
</select></td>
<td></td>
</tr>
<tr>
<td align="right"><a name="logsort"></a>
<label for="logsort" accesskey="L">Sort log by:</label></td>
<td><select id="logsort" name="logsort" onchange="this.form.submit()">
<option value="cvs">Not sorted</option>
<option value="date" selected>Commit date</option>
<option value="rev">Revision</option>
</select></td>
<td><input type="submit" value="  Set  " accesskey="S"></td>
</tr>
</table>
</form>
</body>
</html>
