<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#896122 - isc-dhcp: CVE-2019-6470 - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=896122&quot;&gt;896122&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:896122@bugs.debian.org">#896122</a><br>
isc-dhcp: CVE-2019-6470</h1>
<div class="versiongraph"><a href="version.cgi?found=isc-dhcp%2F4.3.5-4;absolute=0;collapse=1;package=isc-dhcp-server;info=1;fixed=isc-dhcp%2F4.4.1-1"><img alt="version graph" src="version.cgi?height=2;fixed=isc-dhcp%2F4.4.1-1;absolute=0;package=isc-dhcp-server;collapse=1;found=isc-dhcp%2F4.3.5-4;width=2"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=isc-dhcp-server">isc-dhcp-server</a>;
Maintainer for <a href="pkgreport.cgi?package=isc-dhcp-server">isc-dhcp-server</a> is <a href="pkgreport.cgi?maint=isc-dhcp%40packages.debian.org">Debian ISC DHCP Maintainers &lt;isc-dhcp@packages.debian.org&gt;</a>; Source for <a href="pkgreport.cgi?package=isc-dhcp-server">isc-dhcp-server</a> is <a href="pkgreport.cgi?src=isc-dhcp">src:isc-dhcp</a> (<a href="https://tracker.debian.org/pkg/isc-dhcp">PTS</a>, <a href="https://buildd.debian.org/isc-dhcp">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=isc-dhcp">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=giorgos.skafidas%40gmx.com">Giorgos Skafidas &lt;giorgos.skafidas@gmx.com&gt;</a></p>
  <p>Date: Thu, 19 Apr 2018 19:21:01 UTC</p>

<p>Severity: important</p>
<p>Tags: ipv6, security, upstream</p>

<p>Found in version isc-dhcp/4.3.5-4</p>
<p>Fixed in version isc-dhcp/4.4.1-1</p>

<p><strong>Done:</strong> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p><p>Forwarded to <a href="https://bugs.isc.org/Public/Bug/Display.html?id=48804">https://bugs.isc.org/Public/Bug/Display.html?id=48804</a></p>
</div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=896122;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian ISC DHCP maintainers &lt;pkg-dhcp-devel@lists.alioth.debian.org&gt; -->
<!-- time:1524165664 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian ISC DHCP maintainers &lt;pkg-dhcp-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#896122</code>; Package <code>isc-dhcp-server</code>.
 (Thu, 19 Apr 2018 19:21:04 GMT) (<a href="bugreport.cgi?bug=896122;msg=2">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Giorgos Skafidas &lt;giorgos.skafidas@gmx.com&gt; -->
<!-- time:1524165664 -->
<strong>Acknowledgement sent</strong>
to <code>Giorgos Skafidas &lt;giorgos.skafidas@gmx.com&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>Debian ISC DHCP maintainers &lt;pkg-dhcp-devel@lists.alioth.debian.org&gt;</code>.
 (Thu, 19 Apr 2018 19:21:04 GMT) (<a href="bugreport.cgi?bug=896122;msg=4">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=896122;msg=5">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=5">mbox</a>, <a href="mailto:896122@bugs.debian.org?In-Reply-To=%3C152416547216.3912.4678959581676509715.reportbug%40hs%3E&amp;subject=Re%3A%20isc-dhcp-server%3A%20DHCPv6%20server%20crashes%2C%20DHCPv4%20OK&amp;References=%3C152416547216.3912.4678959581676509715.reportbug%40hs%3E&amp;body=On%20Thu%2C%2019%20Apr%202018%2022%3A17%3A52%20%2B0300%20Giorgos%20Skafidas%20%3Cgiorgos.skafidas%40gmx.com%3E%20wrote%3A%0A%3E%20Package%3A%20isc-dhcp-server%0A%3E%20Version%3A%204.3.5-4%0A%3E%20Severity%3A%20important%0A%3E%20Tags%3A%20ipv6%0A%3E%20%0A%3E%20Dear%20Maintainer%2C%0A%3E%20%0A%3E%20I%20use%20isc-dhcp-server%20as%20a%20DHCPv6%2BDHCPv4%20server%20in%20a%20home%20network%20with%20mostly%20Windows%20and%20a%20few%20Linux%20and%20Android%20clients.%0A%3E%20%0A%3E%20After%20upgrading%20to%204.3.5-4%2C%20I%20noticed%20that%20the%20DHCPv6%20server%20would%20die%20after%20a%20while%2C%20with%20no%20error%20messages%20in%20syslog.%20Meanwhile%2C%20%0A%3E%20DHCPv4%20keeps%20functioning%20without%20a%20problem.%20Trying%20to%20reproduce%20this%20today%2C%20I%20found%20that%20running%20the%20%22ipconfig%20%2Frelease6%22%20and%20%22ipconfig%20%2Frenew6%22%0A%3E%20commands%20in%20Windows%2C%20to%20release%20and%20reacquire%20the%20lease%20respectively%2C%20is%20enough%20to%20trigger%20the%20crash.%0A%3E%20%0A%3E%20I%20do%20not%20have%20this%20issue%20after%20downgrading%20to%204.3.5-3.1.%20Below%20is%20the%20output%20from%20running%20dhcpd%20in%20foreground%20mode.%0A%3E%20%0A%3E%20Thank%20you%21%0A%3E%20%0A%3E%20-------------------------------------------------------------------------------%0A%3E%20%23%20%2Fusr%2Fsbin%2Fdhcpd%20-6%20-d%20-tf%20dhcpd6-trace%20-cf%20%2Fetc%2Fdhcp%2Fdhcpd6.conf%20eth0_lan%20eth0.2%20eth0.3%0A%3E%20Internet%20Systems%20Consortium%20DHCP%20Server%204.3.5%0A%3E%20Copyright%202004-2016%20Internet%20Systems%20Consortium.%0A%3E%20All%20rights%20reserved.%0A%3E%20For%20info%2C%20please%20visit%20https%3A%2F%2Fwww.isc.org%2Fsoftware%2Fdhcp%2F%0A%3E%20lease_id_format%20is%3A%20hex%0A%3E%20Config%20file%3A%20%2Fetc%2Fdhcp%2Fdhcpd6.conf%0A%3E%20Database%20file%3A%20%2Fvar%2Flib%2Fdhcp%2Fdhcpd6.leases%0A%3E%20PID%20file%3A%20%2Fvar%2Frun%2Fdhcpd6.pid%0A%3E%20Wrote%200%20class%20decls%20to%20leases%20file.%0A%3E%20Wrote%200%20deleted%20host%20decls%20to%20leases%20file.%0A%3E%20Wrote%200%20new%20dynamic%20host%20decls%20to%20leases%20file.%0A%3E%20Wrote%201%20NA%2C%200%20TA%2C%200%20PD%20leases%20to%20lease%20file.%0A%3E%20Bound%20to%20%2A%3A547%0A%3E%20Listening%20on%20Socket%2F6%2Feth0.3%2Ffd11%3A2358%3A1321%3A3403%3A%3A%2F64%0A%3E%20Sending%20on%20%20%20Socket%2F6%2Feth0.3%2Ffd11%3A2358%3A1321%3A3403%3A%3A%2F64%0A%3E%20Listening%20on%20Socket%2F6%2Feth0.2%2Ffd11%3A2358%3A1321%3A3402%3A%3A%2F64%0A%3E%20Sending%20on%20%20%20Socket%2F6%2Feth0.2%2Ffd11%3A2358%3A1321%3A3402%3A%3A%2F64%0A%3E%20Listening%20on%20Socket%2F6%2Feth0_lan%2Ffd11%3A2358%3A1321%3A3401%3A%3A%2F64%0A%3E%20Sending%20on%20%20%20Socket%2F6%2Feth0_lan%2Ffd11%3A2358%3A1321%3A3401%3A%3A%2F64%0A%3E%20Server%20starting%20service.%0A%3E%20Solicit%20message%20from%20fe80%3A%3Aa169%3A84d%3Ac547%3A5adb%20port%20546%2C%20transaction%20ID%200x25AA8000%0A%3E%20Advertise%20NA%3A%20address%20fd11%3A2358%3A1321%3A3401%3A10%3Ac363%3A685c%3A6495%20to%20client%20with%20duid%2000%3A01%3A00%3A01%3A15%3A6f%3A15%3A33%3A08%3A00%3A27%3Af1%3Af0%3Af0%20iaid%20%3D%20336068647%20valid%20for%20604800%20seconds%0A%3E%20Sending%20Advertise%20to%20fe80%3A%3Aa169%3A84d%3Ac547%3A5adb%20port%20546%0A%3E%20Request%20message%20from%20fe80%3A%3Aa169%3A84d%3Ac547%3A5adb%20port%20546%2C%20transaction%20ID%200x25AA8000%0A%3E%20Reply%20NA%3A%20address%20fd11%3A2358%3A1321%3A3401%3A10%3Ac363%3A685c%3A6495%20to%20client%20with%20duid%2000%3A01%3A00%3A01%3A15%3A6f%3A15%3A33%3A08%3A00%3A27%3Af1%3Af0%3Af0%20iaid%20%3D%20336068647%20valid%20for%20604800%20seconds%0A%3E%20Sending%20Reply%20to%20fe80%3A%3Aa169%3A84d%3Ac547%3A5adb%20port%20546%0A%3E%20Added%20new%20forward%20map%20from%20VM-Win7.kantza.lan%20to%20fd11%3A2358%3A1321%3A3401%3A10%3Ac363%3A685c%3A6495%0A%3E%20Added%20reverse%20map%20from%205.9.4.6.c.5.8.6.3.6.3.c.0.1.0.0.1.0.4.3.1.2.3.1.8.5.3.2.1.1.d.f.ip6.arpa.%20to%20VM-Win7.kantza.lan%0A%3E%20Release%20message%20from%20fe80%3A%3Aa169%3A84d%3Ac547%3A5adb%20port%20546%2C%20transaction%20ID%200x7EC9FB00%0A%3E%20Client%2000%3A01%3A00%3A01%3A15%3A6f%3A15%3A33%3A08%3A00%3A27%3Af1%3Af0%3Af0%20releases%20address%20fd11%3A2358%3A1321%3A3401%3A10%3Ac363%3A685c%3A6495%0A%3E%20Sending%20Reply%20to%20fe80%3A%3Aa169%3A84d%3Ac547%3A5adb%20port%20546%0A%3E%20Removed%20forward%20map%20from%20VM-Win7.kantza.lan%20to%20fd11%3A2358%3A1321%3A3401%3A10%3Ac363%3A685c%3A6495%0A%3E%20Removed%20reverse%20map%20on%205.9.4.6.c.5.8.6.3.6.3.c.0.1.0.0.1.0.4.3.1.2.3.1.8.5.3.2.1.1.d.f.ip6.arpa.%0A%3E%20Solicit%20message%20from%20fe80%3A%3Aa169%3A84d%3Ac547%3A5adb%20port%20546%2C%20transaction%20ID%200x14EE2200%0A%3E%20Advertise%20NA%3A%20address%20fd11%3A2358%3A1321%3A3401%3A10%3Ac363%3A685c%3A6495%20to%20client%20with%20duid%2000%3A01%3A00%3A01%3A15%3A6f%3A15%3A33%3A08%3A00%3A27%3Af1%3Af0%3Af0%20iaid%20%3D%20336068647%20valid%20for%20604800%20seconds%0A%3E%20Sending%20Advertise%20to%20fe80%3A%3Aa169%3A84d%3Ac547%3A5adb%20port%20546%0A%3E%20Request%20message%20from%20fe80%3A%3Aa169%3A84d%3Ac547%3A5adb%20port%20546%2C%20transaction%20ID%200x14EE2200%0A%3E%20Reply%20NA%3A%20address%20fd11%3A2358%3A1321%3A3401%3A10%3Ac363%3A685c%3A6495%20to%20client%20with%20duid%2000%3A01%3A00%3A01%3A15%3A6f%3A15%3A33%3A08%3A00%3A27%3Af1%3Af0%3Af0%20iaid%20%3D%20336068647%20valid%20for%20604800%20seconds%0A%3E%20..%2F..%2F..%2Flib%2Fisc%2Fheap.c%3A217%3A%20REQUIRE%28idx%20%3E%3D%201%20%26%26%20idx%20%3C%3D%20heap-%3Elast%29%20failed%2C%20back%20trace%0A%3E%20%230%200x7f8a33c74737%20in%20%3F%3F%0A%3E%20%231%200x7f8a33c7468a%20in%20%3F%3F%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=giorgos.skafidas%40gmx.com" alt="">
<div class="header"><span class="headerfield">From:</span> Giorgos Skafidas &lt;giorgos.skafidas@gmx.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> isc-dhcp-server: DHCPv6 server crashes, DHCPv4 OK</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 19 Apr 2018 22:17:52 +0300</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=896122;msg=5">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Package: isc-dhcp-server
Version: 4.3.5-4
Severity: important
Tags: ipv6

Dear Maintainer,

I use isc-dhcp-server as a DHCPv6+DHCPv4 server in a home network with mostly Windows and a few Linux and Android clients.

After upgrading to 4.3.5-4, I noticed that the DHCPv6 server would die after a while, with no error messages in syslog. Meanwhile, 
DHCPv4 keeps functioning without a problem. Trying to reproduce this today, I found that running the &quot;ipconfig /release6&quot; and &quot;ipconfig /renew6&quot;
commands in Windows, to release and reacquire the lease respectively, is enough to trigger the crash.

I do not have this issue after downgrading to 4.3.5-3.1. Below is the output from running dhcpd in foreground mode.

Thank you!

-------------------------------------------------------------------------------
# /usr/sbin/dhcpd -6 -d -tf dhcpd6-trace -cf /etc/dhcp/dhcpd6.conf eth0_lan eth0.2 eth0.3
Internet Systems Consortium DHCP Server 4.3.5
Copyright 2004-2016 Internet Systems Consortium.
All rights reserved.
For info, please visit <a href="https://www.isc.org/software/dhcp/">https://www.isc.org/software/dhcp/</a>
lease_id_format is: hex
Config file: /etc/dhcp/dhcpd6.conf
Database file: /var/lib/dhcp/dhcpd6.leases
PID file: /var/run/dhcpd6.pid
Wrote 0 class decls to leases file.
Wrote 0 deleted host decls to leases file.
Wrote 0 new dynamic host decls to leases file.
Wrote 1 NA, 0 TA, 0 PD leases to lease file.
Bound to *:547
Listening on Socket/6/eth0.3/fd11:2358:1321:3403::/64
Sending on   Socket/6/eth0.3/fd11:2358:1321:3403::/64
Listening on Socket/6/eth0.2/fd11:2358:1321:3402::/64
Sending on   Socket/6/eth0.2/fd11:2358:1321:3402::/64
Listening on Socket/6/eth0_lan/fd11:2358:1321:3401::/64
Sending on   Socket/6/eth0_lan/fd11:2358:1321:3401::/64
Server starting service.
Solicit message from fe80::a169:84d:c547:5adb port 546, transaction ID 0x25AA8000
Advertise NA: address fd11:2358:1321:3401:10:c363:685c:6495 to client with duid 00:01:00:01:15:6f:15:33:08:00:27:f1:f0:f0 iaid = 336068647 valid for 604800 seconds
Sending Advertise to fe80::a169:84d:c547:5adb port 546
Request message from fe80::a169:84d:c547:5adb port 546, transaction ID 0x25AA8000
Reply NA: address fd11:2358:1321:3401:10:c363:685c:6495 to client with duid 00:01:00:01:15:6f:15:33:08:00:27:f1:f0:f0 iaid = 336068647 valid for 604800 seconds
Sending Reply to fe80::a169:84d:c547:5adb port 546
Added new forward map from VM-Win7.kantza.lan to fd11:2358:1321:3401:10:c363:685c:6495
Added reverse map from 5.9.4.6.c.5.8.6.3.6.3.c.0.1.0.0.1.0.4.3.1.2.3.1.8.5.3.2.1.1.d.f.ip6.arpa. to VM-Win7.kantza.lan
Release message from fe80::a169:84d:c547:5adb port 546, transaction ID 0x7EC9FB00
Client 00:01:00:01:15:6f:15:33:08:00:27:f1:f0:f0 releases address fd11:2358:1321:3401:10:c363:685c:6495
Sending Reply to fe80::a169:84d:c547:5adb port 546
Removed forward map from VM-Win7.kantza.lan to fd11:2358:1321:3401:10:c363:685c:6495
Removed reverse map on 5.9.4.6.c.5.8.6.3.6.3.c.0.1.0.0.1.0.4.3.1.2.3.1.8.5.3.2.1.1.d.f.ip6.arpa.
Solicit message from fe80::a169:84d:c547:5adb port 546, transaction ID 0x14EE2200
Advertise NA: address fd11:2358:1321:3401:10:c363:685c:6495 to client with duid 00:01:00:01:15:6f:15:33:08:00:27:f1:f0:f0 iaid = 336068647 valid for 604800 seconds
Sending Advertise to fe80::a169:84d:c547:5adb port 546
Request message from fe80::a169:84d:c547:5adb port 546, transaction ID 0x14EE2200
Reply NA: address fd11:2358:1321:3401:10:c363:685c:6495 to client with duid 00:01:00:01:15:6f:15:33:08:00:27:f1:f0:f0 iaid = 336068647 valid for 604800 seconds
../../../lib/isc/heap.c:217: REQUIRE(idx &gt;= 1 &amp;&amp; idx &lt;= heap-&gt;last) failed, back trace
#0 0x7f8a33c74737 in ??
#1 0x7f8a33c7468a in ??
#2 0x7f8a33c7b6aa in ??
#3 0x563855dda9a2 in ??
#4 0x563855ddadc1 in ??
#5 0x563855dd5fd1 in ??
#6 0x563855dd83d5 in ??
#7 0x563855dd97ba in ??
#8 0x563855dda3cc in ??
#9 0x563855df56e2 in ??
#10 0x563855de4d13 in ??
#11 0x563855e13776 in ??
#12 0x7f8a33cab4bb in ??
#13 0x7f8a33c9adce in ??
#14 0x7f8a33c9fc90 in ??
#15 0x7f8a33ca0155 in ??
#16 0x563855de6f20 in ??
#17 0x563855d9adf9 in ??
#18 0x7f8a338c8a87 in ??
#19 0x563855d9b6ea in ??
Aborted
-------------------------------------------------------------------------------

-- System Information:
Debian Release: buster/sid
  APT prefers unstable
  APT policy: (500, &#39;unstable&#39;), (500, &#39;testing&#39;)
Architecture: amd64 (x86_64)

Kernel: Linux 4.15.0-2-amd64 (SMP w/2 CPU cores)
Locale: LANG=el_GR.UTF-8, LC_CTYPE=el_GR.UTF-8 (charmap=UTF-8), LANGUAGE=el_GR.UTF-8 (charmap=UTF-8)
Shell: /bin/sh linked to /bin/dash
Init: systemd (via /run/systemd/system)
LSM: AppArmor: enabled

Versions of packages isc-dhcp-server depends on:
ii  debconf [debconf-2.0]  1.5.66
ii  debianutils            4.8.4
ii  libc6                  2.27-3
ii  libdns-export1100      1:9.11.3+dfsg-1
ii  libirs-export160       1:9.11.3+dfsg-1
ii  libisc-export169       1:9.11.3+dfsg-1
ii  lsb-base               9.20170808

Versions of packages isc-dhcp-server recommends:
ii  isc-dhcp-common  4.3.5-4
pn  policycoreutils  &lt;none&gt;

Versions of packages isc-dhcp-server suggests:
pn  isc-dhcp-server-ldap  &lt;none&gt;
ii  policykit-1           0.105-20

-- Configuration Files:
/etc/dhcp/dhcpd.conf changed:
authoritative;
ddns-update-style standard;
update-static-leases true;
update-conflict-detection false;
update-optimization false;
deny client-updates;
echo-client-id true;
lease-id-format hex;
include &quot;/etc/dhcp/ddns.key&quot;;
zone kantza.lan. {
  primary6 ::1;
  key KEY_DDNS;
}
zone kantza-int.lan. {
  primary6 ::1;
  key KEY_DDNS;
}
zone 10.in-addr.arpa. {
  primary6 ::1;
  key KEY_DDNS;
}
zone 2.10.in-addr.arpa. {
  primary6 ::1;
  key KEY_DDNS;
}
max-lease-time 604800;
default-lease-time 604800;
option domain-name-servers 10.1.0.1;
option ntp-servers 10.1.0.1;
option client-arch-type code 93 = unsigned integer 16;
subnet 10.1.0.0 netmask 255.255.0.0 {
  range 10.1.10.0 10.1.11.255;
  ddns-domainname &quot;kantza.lan&quot;;
  option domain-name &quot;kantza.lan&quot;;
  option domain-search &quot;kantza.lan&quot;;
  option routers 10.1.0.1;
  class &quot;pxe&quot; {
	match if substring (option vendor-class-identifier, 0, 9) = &quot;PXEClient&quot;;
	switch (extract-int(option client-arch-type, 16)) {
		case 0:
			filename &quot;bios/pxelinux.0&quot;;
			break;
		case 7:
		case 9:
			filename &quot;efi64/syslinux.efi&quot;;
			break;
	}
  }
}
subnet 10.2.0.0 netmask 255.255.0.0 {
  range 10.2.10.0 10.2.11.255;
  ddns-domainname &quot;kantza-int.lan&quot;;
  option domain-name &quot;kantza-int.lan&quot;;
  option domain-search &quot;kantza-int.lan&quot;;
  option routers 10.2.0.1;
}
subnet 10.3.0.0 netmask 255.255.0.0 {
  range 10.3.10.0 10.3.11.255;
  ddns-domainname &quot;kantza.lan&quot;;
  option domain-name &quot;kantza.lan&quot;;
  option domain-search &quot;kantza.lan&quot;;
  option routers 10.3.0.1;
}
include &quot;/etc/dhcp/host-decls&quot;;

/etc/dhcp/dhcpd6.conf changed:
authoritative;
ddns-update-style standard;
update-static-leases true;
update-conflict-detection false;
update-optimization false;
deny client-updates;
dhcpv6-set-tee-times true;
lease-id-format hex;
include &quot;/etc/dhcp/ddns.key&quot;;
zone kantza.lan. {
  primary6 ::1;
  key KEY_DDNS;
}
zone kantza-int.lan. {
  primary6 ::1;
  key KEY_DDNS;
}
zone 4.3.1.2.3.1.8.5.3.2.1.1.d.f.ip6.arpa. {
  primary6 ::1;
  key KEY_DDNS;
}
zone 2.0.4.3.1.2.3.1.8.5.3.2.1.1.d.f.ip6.arpa. {
  primary6 ::1;
  key KEY_DDNS;
}
max-lease-time 604800;
default-lease-time 604800;
preferred-lifetime 432000;
option dhcp6.rapid-commit;
option dhcp6.name-servers fd11:2358:1321:3401::1;
option dhcp6.sntp-servers fd11:2358:1321:3401::1;
subnet6 fd11:2358:1321:3401::/64 {
  range6 fd11:2358:1321:3401:10::/80;
  ddns-domainname &quot;kantza.lan&quot;;
  option dhcp6.domain-search &quot;kantza.lan&quot;;
  class &quot;pxe&quot; {
        match if substring (option vendor-class-identifier, 0, 9) = &quot;PXEClient&quot;;
        switch (extract-int(option dhcp6.client-arch-type, 16)) {
		case 0:
                        filename &quot;bios/pxelinux.0&quot;;
                        break;
                case 7:
                case 9:
                        option dhcp6.bootfile-url &quot;efi64/syslinux.efi&quot;;
                        break;
        }
  }
}
subnet6 fd11:2358:1321:3402::/64 {
  range6 fd11:2358:1321:3402:10::/80;
  ddns-domainname &quot;kantza-int.lan&quot;;
  option dhcp6.domain-search &quot;kantza-int.lan&quot;;  
}
subnet6 fd11:2358:1321:3403::/64 {
  range6 fd11:2358:1321:3403:10::/80;
  ddns-domainname &quot;kantza.lan&quot;;
  option dhcp6.domain-search &quot;kantza.lan&quot;;
}
include &quot;/etc/dhcp/host-decls&quot;;


-- debconf information:
  isc-dhcp-server/config_warn:
  isc-dhcp-server/interfaces: eth0_lan eth0.2 eth0.3
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=896122;filename=dhcpd6-trace;msg=5">dhcpd6-trace</a> (application/octet-stream, attachment)]</pre>

<div class="infmessage"><hr><p>
<a name="6"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian ISC DHCP maintainers &lt;pkg-dhcp-devel@lists.alioth.debian.org&gt; -->
<!-- time:1524234783 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian ISC DHCP maintainers &lt;pkg-dhcp-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#896122</code>; Package <code>isc-dhcp-server</code>.
 (Fri, 20 Apr 2018 14:33:03 GMT) (<a href="bugreport.cgi?bug=896122;msg=7">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="8"></a>
<!-- request_addr: Giorgos Skafidas &lt;giorgos.skafidas@gmx.com&gt; -->
<!-- time:1524234783 -->
<strong>Acknowledgement sent</strong>
to <code>Giorgos Skafidas &lt;giorgos.skafidas@gmx.com&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian ISC DHCP maintainers &lt;pkg-dhcp-devel@lists.alioth.debian.org&gt;</code>.<p>
Your message did not contain a Subject field. They are recommended and
useful because the title of a Bug is determined using this field.
Please remember to include a Subject field in your messages in future.
<P>

<p>

 (Fri, 20 Apr 2018 14:33:03 GMT) (<a href="bugreport.cgi?bug=896122;msg=9">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="10"></a><a name="msg10"></a><a href="#10">Message #10</a> received at 896122@bugs.debian.org (<a href="bugreport.cgi?bug=896122;msg=10">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=10">mbox</a>, <a href="mailto:896122@bugs.debian.org?subject=Re%3A%20Your%20mail&amp;References=%3C5034119.UQJWemzBRH%40g%3E&amp;body=On%20Fri%2C%2020%20Apr%202018%2017%3A30%3A44%20%2B0300%20Giorgos%20Skafidas%20%3Cgiorgos.skafidas%40gmx.com%3E%20wrote%3A%0A%3E%20I%20should%20probably%20add%20that%20dynamic%20DNS%20updates%20go%20to%20a%20BIND%209.11.3%2Bdfsg-1%20%0A%3E%20server%2C%20running%20on%20the%20same%20machine%20as%20the%20DHCP%20servers.%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C5034119.UQJWemzBRH%40g%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=giorgos.skafidas%40gmx.com" alt="">
<div class="header"><span class="headerfield">From:</span> Giorgos Skafidas &lt;giorgos.skafidas@gmx.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> 896122@bugs.debian.org</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 20 Apr 2018 17:30:44 +0300</div>
</div>
<pre class="message">I should probably add that dynamic DNS updates go to a BIND 9.11.3+dfsg-1 
server, running on the same machine as the DHCP servers.




</pre>

<div class="msgreceived"><hr><p>
<a name="11"></a>
<!-- command:fixed -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1557558003 -->
<!-- new_data:
$new_data = {
              &#39;fixed_versions&#39; =&gt; [
                                    &#39;isc-dhcp/4.4.1-1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;fixed_versions&#39; =&gt; []
            };
-->
<strong>Marked as fixed in versions isc-dhcp/4.4.1-1.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 11 May 2019 07:00:03 GMT) (<a href="bugreport.cgi?bug=896122;msg=12">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="13"></a>
<!-- command:done -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1557558004 -->
<!-- new_data:
$new_data = {
              &#39;done&#39; =&gt; &#39;Salvatore Bonaccorso &lt;carnil@debian.org&gt;&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;done&#39; =&gt; &#39;&#39;
            };
-->
<strong>Marked Bug as done</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 11 May 2019 07:00:04 GMT) (<a href="bugreport.cgi?bug=896122;msg=14">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=14">mbox</a>, <a href="#13">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="15"></a>
<!-- request_addr: Giorgos Skafidas &lt;giorgos.skafidas@gmx.com&gt; -->
<!-- time:1557558005 -->
<strong>Notification sent</strong>
to <code>Giorgos Skafidas &lt;giorgos.skafidas@gmx.com&gt;</code>:<br>
Bug acknowledged by developer.
 (Sat, 11 May 2019 07:00:05 GMT) (<a href="bugreport.cgi?bug=896122;msg=16">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="17"></a>
<!-- command:title -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1557558005 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;isc-dhcp: CVE-2019-6470&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;isc-dhcp-server: DHCPv6 server crashes, DHCPv4 OK&#39;
            };
-->
<strong>Changed Bug title to &#39;isc-dhcp: CVE-2019-6470&#39; from &#39;isc-dhcp-server: DHCPv6 server crashes, DHCPv4 OK&#39;.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 11 May 2019 07:00:05 GMT) (<a href="bugreport.cgi?bug=896122;msg=18">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=18">mbox</a>, <a href="#17">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="19"></a>
<!-- command:forwarded -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1557558005 -->
<!-- new_data:
$new_data = {
              &#39;forwarded&#39; =&gt; &#39;<a href="https://bugs.isc.org/Public/Ticket/Display.html?id=48804">https://bugs.isc.org/Public/Ticket/Display.html?id=48804</a>&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;forwarded&#39; =&gt; &#39;&#39;
            };
-->
<strong>Set Bug forwarded-to-address to &#39;<a href="https://bugs.isc.org/Public/Ticket/Display.html?id=48804">https://bugs.isc.org/Public/Ticket/Display.html?id=48804</a>&#39;.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 11 May 2019 07:00:05 GMT) (<a href="bugreport.cgi?bug=896122;msg=20">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=20">mbox</a>, <a href="#19">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="21"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1557558006 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;ipv6 security upstream&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;ipv6&#39;
            };
-->
<strong>Added tag(s) security and upstream.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 11 May 2019 07:00:06 GMT) (<a href="bugreport.cgi?bug=896122;msg=22">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=22">mbox</a>, <a href="#21">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="23"></a>
<!-- command:forwarded -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1557558906 -->
<!-- new_data:
$new_data = {
              &#39;forwarded&#39; =&gt; &#39;<a href="https://bugs.isc.org/Public/Bug/Display.html?id=48804">https://bugs.isc.org/Public/Bug/Display.html?id=48804</a>&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;forwarded&#39; =&gt; &#39;<a href="https://bugs.isc.org/Public/Ticket/Display.html?id=48804">https://bugs.isc.org/Public/Ticket/Display.html?id=48804</a>&#39;
            };
-->
<strong>Changed Bug forwarded-to-address to &#39;<a href="https://bugs.isc.org/Public/Bug/Display.html?id=48804">https://bugs.isc.org/Public/Bug/Display.html?id=48804</a>&#39; from &#39;<a href="https://bugs.isc.org/Public/Ticket/Display.html?id=48804">https://bugs.isc.org/Public/Ticket/Display.html?id=48804</a>&#39;.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 11 May 2019 07:15:06 GMT) (<a href="bugreport.cgi?bug=896122;msg=24">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=24">mbox</a>, <a href="#23">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="25"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1559978824 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Sat, 08 Jun 2019 07:27:04 GMT) (<a href="bugreport.cgi?bug=896122;msg=26">full text</a>, <a href="bugreport.cgi?bug=896122;mbox=yes;msg=26">mbox</a>, <a href="#25">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=896122">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:35:33 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
