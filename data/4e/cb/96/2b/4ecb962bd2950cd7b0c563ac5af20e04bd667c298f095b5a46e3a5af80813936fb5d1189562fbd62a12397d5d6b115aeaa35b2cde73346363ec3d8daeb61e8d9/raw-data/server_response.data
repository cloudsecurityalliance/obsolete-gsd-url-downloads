<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="1092855 - (CVE-2014-1595) jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=1092855">
<meta property="og:description"
      content="VERIFIED (smichaud) in Core - Security. Last updated 2020-12-07.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="defect">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="--">

    <meta name="viewport" content="width=1024">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20211025.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;},&quot;string&quot;:{&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;is_new&quot;:1,&quot;login&quot;:&quot;&quot;}}">
    <title>1092855 - (CVE-2014-1595) jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=1092855&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="/showdependencygraph.cgi?id=1092855">

      <link rel="Show" title="Bug Activity"
            href="/show_activity.cgi?id=1092855">

<link href="/static/v20211025.1/skins/yui.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/EditComments/web/styles/inline-editor.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css">



    
<script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/jquery/jquery-min.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/yui.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/global.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/util.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/dropdown.js"></script>

      <script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"flags\":{\"tracking\":{\"cf_status_thunderbird_esr91\":\"---\",\"cf_status_firefox35\":\"verified\",\"cf_tracking_firefox36\":\"+\",\"cf_tracking_firefox_esr78\":\"---\",\"cf_tracking_firefox34\":\"+\",\"cf_status_thunderbird_esr78\":\"---\",\"cf_status_firefox93\":\"---\",\"cf_tracking_thunderbird_esr91\":\"---\",\"cf_tracking_firefox94\":\"---\",\"cf_status_firefox95\":\"---\",\"cf_tracking_firefox_esr91\":\"---\",\"cf_status_firefox_esr78\":\"---\",\"cf_tracking_firefox_relnote\":\"---\",\"cf_status_firefox33\":\"wontfix\",\"cf_status_firefox_esr31\":\"verified\",\"cf_status_firefox36\":\"verified\",\"cf_tracking_firefox35\":\"+\",\"cf_tracking_firefox33\":\"-\",\"cf_status_firefox34\":\"verified\",\"cf_tracking_firefox93\":\"---\",\"cf_tracking_firefox95\":\"---\",\"cf_tracking_firefox_esr31\":\"34+\",\"cf_status_firefox94\":\"---\",\"cf_tracking_thunderbird_esr78\":\"---\",\"cf_status_firefox_esr91\":\"---\"},\"project\":{\"cf_root_cause\":\"---\",\"cf_tracking_firefox_sumo\":\"---\",\"cf_webcompat_priority\":\"---\",\"cf_a11y_review_project_flag\":\"---\",\"cf_fission_milestone\":\"---\"}},\"types\":[\"tracking\"],\"comments\":{\"cf_tracking_firefox36\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox33\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr78\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox35\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox34\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_sumo\":{\"none-needed\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox_esr31\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_a11y_review_project_flag\":{\"requested\":\"Description:\\nPlease provide an explanation of the feature or change. Include a description of the user scenario in which it would be used and how the user would complete the task(s).\\nScreenshots and visual UI specs are welcome, but please include sufficient accompanying explanation so that blind members of the accessibility team are able to understand the feature\/change.\\n\\nHow do we test this?\\nIf there is an implementation to test, please provide instructions for testing it; e.g. setting preferences, other preparation, how to trigger the UI, etc.\\n\\nWhen will this ship?\\nTracking bug\/issue:\\nDesign documents (e.g. Product Requirements Document, UI spec):\\nEngineering lead:\\nProduct manager:\\n\\nThe accessibility team has developed the Mozilla Accessibility Release Guidelines which outline what is needed to make user interfaces accessible:\\nhttps:\/\/wiki.mozilla.org\/Accessibility\/Guidelines\\nPlease describe the accessibility guidelines you considered and what steps you\'ve taken to address them:\\n\\nDescribe any areas of concern to which you want the accessibility team to give special attention:\"},\"cf_tracking_firefox95\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox94\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox93\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr91\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_relnote\":{\"?\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"}}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 1092855;
  BUGZILLA.bug_title = '1092855 - (CVE-2014-1595) jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in \/tmp\/ on OSX 10.10';
  BUGZILLA.bug_summary = 'jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in \/tmp\/ on OSX 10.10';
  BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=1092855';
  BUGZILLA.bug_keywords = 'sec-high, sec-vector',
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/BugModal/web/comments.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/bugzilla-readable-status-min.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/field.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/comments.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/MozChangeField/web/js/severity-s1-priority-p1.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/MozChangeField/web/js/clear-tracking-priority-s1.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/MozChangeField/web/js/set-tracking-severity-s1.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/lib/prism.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/GoogleAnalytics/web/js/analytics.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/js/lib/md5.min.js"></script><script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT" src="/static/v20211025.1/extensions/Review/web/js/badge.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1092855">
<link rel="shorturl" href="https://bugzilla.mozilla.org/1092855"><meta name="google-analytics" content="UA-36116321-3" data-location="https://bugzilla.mozilla.org/bug/show-modal" data-title="1092855 - (CVE-2014-1595) jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10">
<script async src="https://www.google-analytics.com/analytics.js"></script><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="wrapper">

<header id="header" role="banner">
  <div class="inner">
    <h1 id="header-title" class="title"><a href="https://bugzilla.mozilla.org/home" title="Go to home page">Bugzilla</a></h1>
    <form role="search" id="header-search" class="quicksearch" action="/buglist.cgi" data-no-csrf>
      <section class="searchbox-outer dropdown" role="combobox" aria-expanded="false" aria-haspopup="listbox"
               aria-labelledby="header-search-label" aria-owns="header-search-dropdown">
        <h2 id="header-search-label">Quick Search</h2>
        <span class="icon" aria-hidden="true"></span>
        <input role="searchbox" id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" placeholder="Search Bugs"
               title="Enter a bug number or some search terms" aria-controls="header-search-dropdown"
               aria-label="Quick Search"><div id="header-search-dropdown" class="dropdown-content right" role="listbox" style="display: none;">
  <div id="header-search-dropdown-wrapper">
  </div>
</div>
      </section>
    </form>
    <nav id="header-nav">
      <ul class="links">
        <li class="link-browse">
          <a href="/describecomponents.cgi" title="Browse bugs by component">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Browse</span>
          </a>
        </li>
        <li class="link-search">
          <a href="/query.cgi?format=advanced" title="Search bugs using various criteria">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Advanced Search</span>
          </a>
        </li>
      </ul>
      <div class="dropdown">
        <button type="button" id="header-tools-menu-button" class="dropdown-button minor" title="More tools…"
                aria-label="More tools…" aria-expanded="false" aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a href="/report.cgi" role="menuitem" tabindex="-1">Reports</a>
          </li>
            <li role="separator"></li>
            <li role="presentation">
              <a href="https://bmo.readthedocs.io/en/latest/" role="menuitem" tabindex="-1">Documentation</a>
            </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links">
          <li id="moz_new_account_container_top"><a href="/createaccount.cgi">New Account</a></li><li id="mini_login_container_top">
  <a id="login_link_top" href="/index.cgi?GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden"><span id="github_mini_login_top" class="mini_login_top">
    <form method="post" action="/github.cgi">
      <input type="hidden" name="github_secret" value="eJVLSVHxkpCVt6rhEfgjZTzFkHylJ6uQBV5mNinDF7ENelPOhXnzcwM3uXpNorLnZgfwPECSBTboLP3EjCp5XjnLJFtQvAaJCWkUezE94oCFhRan9Dv90jpT6jOa8K3PLwSJYDMS34mDONe1mrSfxb83gLTJ5rbjpIS9lXq94xfy4fN482hJiTiOjKGv9tBLcXUyh7zQ2Gn4pUWrvAp7zk6WD13ZMaRVfIhZHaPzxoHaMds1oLFCS7oaIzVWzB7Y">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi">
      <input type="image" src="/extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>

  <form action="/show_bug.cgi?id=1092855" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top"
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
<li id="forgot_container_top">
  <a id="forgot_link_top" href="/index.cgi?GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1635622526-_8Cpgq9Jj-vi7bASjucDdtWGUJLrfCp17ptINBL7TRg">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul><div id="header-external-links" class="dropdown first">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor" title="Mozilla"
          aria-label="Mozilla" aria-expanded="false" aria-haspopup="true" aria-controls="header-external-menu">
    <img src="/static/v20211025.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg" width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" style="display:none;">
    <li role="presentation">
      <a href="https://www.mozilla.org/" role="menuitem" tabindex="-1">Mozilla Home</a>
    </li>
    <li role="separator"></li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem" tabindex="-1">Privacy</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem" tabindex="-1">Cookies</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem" tabindex="-1">Legal</a>
    </li>
  </ul>
</div>
  </div>
</header> 


<main id="bugzilla-body" tabindex="-1">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary"
      title="Copy bug number and summary to your clipboard">Copy Summary</button>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/1092855" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=1092855" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent" id="field-status_summary"
>


  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=1092855">Bug 1092855</a>
          <span class="edit-hide">(CVE-2014-1595)</span>
      </span>
      <span>
        <span class="bug-time-label">Opened <span class="rel-time" title="2014-11-02 14:18 PST" data-time="1414966696">7 years ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2014-11-11 18:06 PST" data-time="1415757971">7 years ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field indent edit-hide"
>


  
    <div class=" container">
      

      <h1 id="field-value-short_desc">jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10<wbr>.10</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-short_desc">
            jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (Core :: Security, defect)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core" id="product-help-link" class="help">Product:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">Core
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">Core</div>
            <div class="description">Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the <a href="https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox">Firefox</a> product. (<a href="https://wiki.mozilla.org/Modules/All#Core">More info</a>)</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=Core"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core&component=Security#Security" id="component-help-link" class="help">Component:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">Security
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">Core :: Security</div>
            <div class="description">For non-crypto security bugs.  Or use this general component if you know you have a Browser security bug, but not sure what component to use.  Bug will be reviewed for proper component.</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;component=Security&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=Core&amp;component=Security&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=Core&amp;component=Security"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core" data-component="Security"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-version" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-version">
            unspecified

        </span>
    </div>

  
</div>

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>


  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>


  
    <div class="value">
        <span id="field-value-rep_platform">
            x86

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>


  
    <div class="value">
        <span id="field-value-op_sys">
            macOS

        </span>
    </div>

  
</div><div class="field indent inline"
>


  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field contains-buttons" id="field-bug_type"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="defect">
        <span class="icon" aria-hidden="true"></span>defect</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-importance"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="importance-help-link" class="help">Priority:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-importance"><div class="field inline" id="field-priority"
>


  
    <div class="value">
        <span id="field-value-priority">
          <em>Not set</em>
        </span>
    </div>

  
</div><div class="field inline" id="field-bug_severity"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_severity">
            normal

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_points" style="display:none"
>
    <div class="name">Points:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_points">
            ---

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (<span id="readable-bug-status" data-readable-bug-status="{&quot;cf_tracking_firefox95&quot;:&quot;---&quot;,&quot;cf_tracking_firefox93&quot;:&quot;---&quot;,&quot;id&quot;:1092855,&quot;flags&quot;:[],&quot;cf_tracking_firefox_esr31&quot;:&quot;34+&quot;,&quot;cf_a11y_review_project_flag&quot;:&quot;---&quot;,&quot;cf_status_firefox94&quot;:&quot;---&quot;,&quot;cf_tracking_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_status_firefox_esr91&quot;:&quot;---&quot;,&quot;cf_tracking_firefox35&quot;:&quot;+&quot;,&quot;cf_tracking_firefox33&quot;:&quot;-&quot;,&quot;resolution&quot;:&quot;FIXED&quot;,&quot;priority&quot;:&quot;--&quot;,&quot;cf_tracking_firefox_sumo&quot;:&quot;---&quot;,&quot;cf_status_firefox34&quot;:&quot;verified&quot;,&quot;cf_webcompat_priority&quot;:&quot;---&quot;,&quot;dupe_of&quot;:null,&quot;cf_tracking_firefox94&quot;:&quot;---&quot;,&quot;cf_status_firefox95&quot;:&quot;---&quot;,&quot;cf_fission_milestone&quot;:&quot;---&quot;,&quot;cf_status_firefox_esr78&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr91&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_relnote&quot;:&quot;---&quot;,&quot;cf_status_firefox33&quot;:&quot;wontfix&quot;,&quot;cf_status_firefox_esr31&quot;:&quot;verified&quot;,&quot;cf_status_firefox36&quot;:&quot;verified&quot;,&quot;cf_status_thunderbird_esr91&quot;:&quot;---&quot;,&quot;cf_tracking_firefox36&quot;:&quot;+&quot;,&quot;cf_status_firefox35&quot;:&quot;verified&quot;,&quot;cf_tracking_firefox34&quot;:&quot;+&quot;,&quot;cf_tracking_firefox_esr78&quot;:&quot;---&quot;,&quot;cf_status_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_root_cause&quot;:&quot;---&quot;,&quot;status&quot;:&quot;VERIFIED&quot;,&quot;cf_status_firefox93&quot;:&quot;---&quot;,&quot;target_milestone&quot;:&quot;mozilla36&quot;,&quot;cf_tracking_thunderbird_esr91&quot;:&quot;---&quot;,&quot;keywords&quot;:[&quot;sec-high&quot;,&quot;sec-vector&quot;]}"></span>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-view">VERIFIED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>


  
    <div class="value">
        <span id="field-value-bug_status">
            VERIFIED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>


  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-target_milestone"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-target_milestone">
            mozilla36

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_iteration" style="display:none"
>
    <div class="name">Iteration:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_iteration">
            ---

        </span>
    </div>

  
</div>


      <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Project Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <td class="tracking-flag-name">a11y-review</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_a11y_review_project_flag-dirty">
  <select id="cf_a11y_review_project_flag" name="cf_a11y_review_project_flag">
        <option value="---"
          id="v4876_cf_a11y_review_project_flag" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Root Cause</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_root_cause-dirty">
  <select id="cf_root_cause" name="cf_root_cause">
        <option value="---"
          id="v4701_cf_root_cause" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Webcompat Priority</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_webcompat_priority-dirty">
  <select id="cf_webcompat_priority" name="cf_webcompat_priority">
        <option value="---"
          id="v4274_cf_webcompat_priority" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">user-doc-firefox</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_sumo-dirty">
  <select id="cf_tracking_firefox_sumo" name="cf_tracking_firefox_sumo">
        <option value="---"
          id="v4660_cf_tracking_firefox_sumo" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Fission Milestone</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_fission_milestone-dirty">
  <select id="cf_fission_milestone" name="cf_fission_milestone">
        <option value="---"
          id="v4222_cf_fission_milestone" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

      <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-hide">
    <table class="layout-table tracking-flags">
        <tr>
          <th></th>
          <th>Tracking</th>
          <th>Status</th>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox33</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox33&amp;o1=equals&amp;v1=-">-</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox33&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox34</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox34&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox35</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox35&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox36</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox36&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox-esr31</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox_esr31&amp;o1=equals&amp;v1=34%2B">34+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
    </table>
  </div>


<div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox33</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox33-dirty">
  <select id="cf_tracking_firefox33" name="cf_tracking_firefox33">
        <option value="-"
          id="v1721_cf_tracking_firefox33" selected
        >-
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox33-dirty">
  <select id="cf_status_firefox33" name="cf_status_firefox33">
        <option value="wontfix"
          id="v1714_cf_status_firefox33" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox34</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox34-dirty">
  <select id="cf_tracking_firefox34" name="cf_tracking_firefox34">
        <option value="+"
          id="v1778_cf_tracking_firefox34" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox34-dirty">
  <select id="cf_status_firefox34" name="cf_status_firefox34">
        <option value="verified"
          id="v1786_cf_status_firefox34" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox35</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox35-dirty">
  <select id="cf_tracking_firefox35" name="cf_tracking_firefox35">
        <option value="+"
          id="v1841_cf_tracking_firefox35" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox35-dirty">
  <select id="cf_status_firefox35" name="cf_status_firefox35">
        <option value="verified"
          id="v1849_cf_status_firefox35" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox36</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox36-dirty">
  <select id="cf_tracking_firefox36" name="cf_tracking_firefox36">
        <option value="+"
          id="v1948_cf_tracking_firefox36" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox36-dirty">
  <select id="cf_status_firefox36" name="cf_status_firefox36">
        <option value="verified"
          id="v1956_cf_status_firefox36" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr31</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr31-dirty">
  <select id="cf_tracking_firefox_esr31" name="cf_tracking_firefox_esr31">
        <option value="34+"
          id="v1756_cf_tracking_firefox_esr31" selected
        >34+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr31-dirty">
  <select id="cf_status_firefox_esr31" name="cf_status_firefox_esr31">
        <option value="verified"
          id="v1767_cf_status_firefox_esr31" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">relnote-firefox</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_relnote-dirty">
  <select id="cf_tracking_firefox_relnote" name="cf_tracking_firefox_relnote">
        <option value="---"
          id="v539_cf_tracking_firefox_relnote" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr78-dirty">
  <select id="cf_tracking_thunderbird_esr78" name="cf_tracking_thunderbird_esr78">
        <option value="---"
          id="v4823_cf_tracking_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr78-dirty">
  <select id="cf_status_thunderbird_esr78" name="cf_status_thunderbird_esr78">
        <option value="---"
          id="v4829_cf_status_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr91</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr91-dirty">
  <select id="cf_tracking_thunderbird_esr91" name="cf_tracking_thunderbird_esr91">
        <option value="---"
          id="v5236_cf_tracking_thunderbird_esr91" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr91-dirty">
  <select id="cf_status_thunderbird_esr91" name="cf_status_thunderbird_esr91">
        <option value="---"
          id="v5242_cf_status_thunderbird_esr91" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr78-dirty">
  <select id="cf_tracking_firefox_esr78" name="cf_tracking_firefox_esr78">
        <option value="---"
          id="v4808_cf_tracking_firefox_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr78-dirty">
  <select id="cf_status_firefox_esr78" name="cf_status_firefox_esr78">
        <option value="---"
          id="v4813_cf_status_firefox_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr91</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr91-dirty">
  <select id="cf_tracking_firefox_esr91" name="cf_tracking_firefox_esr91">
        <option value="---"
          id="v5194_cf_tracking_firefox_esr91" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr91-dirty">
  <select id="cf_status_firefox_esr91" name="cf_status_firefox_esr91">
        <option value="---"
          id="v5199_cf_status_firefox_esr91" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox93</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox93-dirty">
  <select id="cf_tracking_firefox93" name="cf_tracking_firefox93">
        <option value="---"
          id="v5266_cf_tracking_firefox93" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox93-dirty">
  <select id="cf_status_firefox93" name="cf_status_firefox93">
        <option value="---"
          id="v5271_cf_status_firefox93" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox94</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox94-dirty">
  <select id="cf_tracking_firefox94" name="cf_tracking_firefox94">
        <option value="---"
          id="v5284_cf_tracking_firefox94" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox94-dirty">
  <select id="cf_status_firefox94" name="cf_status_firefox94">
        <option value="---"
          id="v5289_cf_status_firefox94" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox95</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox95-dirty">
  <select id="cf_tracking_firefox95" name="cf_tracking_firefox95">
        <option value="---"
          id="v5311_cf_tracking_firefox95" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox95-dirty">
  <select id="cf_status_firefox95" name="cf_status_firefox95">
        <option value="---"
          id="v5316_cf_status_firefox95" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>

</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: mozilla, Assigned: smichaud)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=67806" > <span class="fna">smichaud</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-hide" id="field-qa_contact"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=455785" > <span class="fna">kjozwiak</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=17205" > <span class="fna">mozilla</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field" id="field-triage_owner"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-triage_owner">
            <div class="vcard vcard_1689" ><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=1689" > <span class="fna">dveditz</span></a>
</div>

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>


  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="27">27 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug-list" id="field-dependson"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-dependson">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="task"
              aria-label="task" data-type="task">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Remove obsolete CGEvent logging workaround added for Mac OS X 10.10.2"
   href="/show_bug.cgi?id=1681242">1681242</a>
      </div>

        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-blocked" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-blocked">
        ---
        </span>
    </div>

  
</div><div class="field" id="field-dependencytree"
>
    <div class="name">
    </div>


  
    <div class=" container">
        <span id="field-value-dependencytree">
        Dependency <a href="/showdependencytree.cgi?id=1092855&amp;hide_resolved=1">tree</a>
        / <a href="/showdependencygraph.cgi?id=1092855">graph</a>
        </span>
    </div>

  
</div>

    <div class="field bug-list edit-show" id="field-regresses" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-regressed_by" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    <div class="field bug-list"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates" id="-help-link" class="help">Duplicates:
        </a>
    </div>


  
    <div class="value">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Firefox creates /tmp/CGLog_Firefox_&lt;pid&gt; files on Mac"
   href="/show_bug.cgi?id=1099958">1099958</a>
      </div>

    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_file_loc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="" target="_blank"
      rel="noreferrer" title=""
      class="bug-url" data-safe="0"></a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-see_also" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-see_also">
        ---
        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Keywords: sec-high, sec-vector, Whiteboard: [adv-main34+][adv-esr31.3+] rdar://18946701)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-alias">
            CVE-2014-1595

        </span>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a>, 
          <a href="/buglist.cgi?keywords=sec-vector&amp;resolution=---">sec-vector</a>
        </span>
    </div>

  
</div>

    <div class="field" id="field-status_whiteboard"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-status_whiteboard">[adv-main34+][adv-esr31.3+] rdar://18946701
        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_qa_whiteboard" style="display:none"
>
    <div class="name">QA Whiteboard:
    </div>


  
    <div class="value">
        <span id="field-value-cf_qa_whiteboard">
        ---
        </span>
    </div>

  
</div>

    

    <div class="field edit-show" id="field-cf_has_regression_range" style="display:none"
>
    <div class="name">Has Regression Range:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_regression_range">
            ---

        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_has_str" style="display:none"
>
    <div class="name">Has STR:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_str">
            ---

        </span>
    </div>

  
</div>

    <div class="field" id="field-votes"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-votes">0
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_flags" style="display:none"
>
    <div class="name">Bug Flags:
    </div>


  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?" for="flag_type-930">behind-pref</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-930-dirty">
      <select id="flag_type-930" name="flag_type-930"
        title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?"
        class="bug-flag">
          <option value="X"></option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag tracking inclusion in the desktop Firefox product backlog." for="flag_type-846">firefox-backlog</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-846-dirty">
      <select id="flag_type-846" name="flag_type-846"
        title="Flag tracking inclusion in the desktop Firefox product backlog."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag_type-803">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-803-dirty">
      <select id="flag_type-803" name="flag_type-803"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in-qa-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-37">in-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-37-dirty">
      <select id="flag_type-37" name="flag_type-37"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually" for="flag_type-864">qe-verify</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-864-dirty">
      <select id="flag_type-864" name="flag_type-864"
        title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually"
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Signature:
    </div>


  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="true"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content"
  >
    <pre id="user-story">As the result of an Apple bug on OS X 10.10 (Yosemite), log files whose names follow the pattern /tmp/CGLog_app_pid are created by an OS component for Firefox and Thunderbird (all current branches), which contain a record of the input events that happen while the app is running.

This component is the CoreGraphics framework.  The CoreGraphics framework has long been able to record these logs (going back at least to OS X 10.6), but this functionality is off by default.  However, a bug introduced by Apple in OS X 10.10 turns this logging on by default for Firefox and Thunderbird, and possibly also for other apps that use a custom memory allocator.  (Firefox and Thunderbird use jemalloc.)  The bug is that the CoreGraphics variable is left uninitialized which determines whether or not logging of input events is on.

Mozilla has now landed a patch on all current branches (31esr, 34, 35 and 36) that works around this bug -- it explicitly turns off the CoreGraphics framework's logging of input events.  It will be included in the next releases on all those branches (including of Firefox and Thunderbird).</pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (9 files, 3 obsolete files)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8515692">CGLog_Firefox_18197-sample.txt</a>
        </div>
        <div>
            <a href="#c0" class="attach-time activity-ref"><span class="rel-time" title="2014-11-02 14:18 PST" data-time="1414966696">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div></span>
        </div>
        <div class="attach-info">2.55 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8515692&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8516971">com.apple.WindowServer.plist</a>
        </div>
        <div>
            <a href="#c23" class="attach-time activity-ref"><span class="rel-time" title="2014-11-04 14:00 PST" data-time="1415138418">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div></span>
        </div>
        <div class="attach-info">706 bytes,
          application/xml        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8516971&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8517731">Interpose library for logging</a>
        </div>
        <div>
            <a href="#c49" class="attach-time activity-ref"><span class="rel-time" title="2014-11-05 14:17 PST" data-time="1415225868">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div></span>
        </div>
        <div class="attach-info">8.01 KB,
          application/x-tar        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8517731&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8518219">Another interpose library for logging</a>
        </div>
        <div>
            <a href="#c57" class="attach-time activity-ref"><span class="rel-time" title="2014-11-06 08:30 PST" data-time="1415291420">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div></span>
        </div>
        <div class="attach-info">7.93 KB,
          application/x-gzip        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8518219&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8518488">Another interpose library for logging</a>
        </div>
        <div>
            <a href="#c67" class="attach-time activity-ref"><span class="rel-time" title="2014-11-06 14:22 PST" data-time="1415312527">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div></span>
        </div>
        <div class="attach-info">8.16 KB,
          application/x-gzip        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8518488&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8518606">lldb all-thread backtrace</a>
        </div>
        <div>
            <a href="#c72" class="attach-time activity-ref"><span class="rel-time" title="2014-11-06 17:53 PST" data-time="1415325212">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div></span>
        </div>
        <div class="attach-info">51.70 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8518606&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8518967">lldb_backtrace.txt</a>
        </div>
        <div>
            <a href="#c73" class="attach-time activity-ref"><span class="rel-time" title="2014-11-07 08:10 PST" data-time="1415376630">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div></span>
        </div>
        <div class="attach-info">74.17 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8518967&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8519321">Proof of concept that this bug is caused by unitialized memory in the CoreGraphics framework</a>
        </div>
        <div>
            <a href="#c121" class="attach-time activity-ref"><span class="rel-time" title="2014-11-07 17:24 PST" data-time="1415409882">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div></span>
        </div>
        <div class="attach-info">7.84 KB,
          application/x-gzip        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8519321&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8519352">Interpose library that shows this bug happen in Firefox but not elsewhere</a>
        </div>
        <div>
            <a href="#c124" class="attach-time activity-ref"><span class="rel-time" title="2014-11-07 18:35 PST" data-time="1415414109">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div></span>
        </div>
        <div class="attach-info">7.99 KB,
          application/x-gzip        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8519352&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8520346">Fix</a>
        </div>
        <div>
            <a href="#c134" class="attach-time activity-ref"><span class="rel-time" title="2014-11-10 18:16 PST" data-time="1415672198">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div></span>
        </div>
        <div class="attach-info">2.02 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8520346&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8520346&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1092855&attachment=8520346">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8520784">Fix rev1</a>
        </div>
        <div>
            <a href="#c138" class="attach-time activity-ref"><span class="rel-time" title="2014-11-11 10:56 PST" data-time="1415732178">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div></span>
        </div>
        <div class="attach-info">4.20 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_456485" ><span class="fn">spohl</span>
</div>:
              <a href="#a772511_456485"
                  class="flag-name-status rel-time-title activity-ref"
                  title="7 years ago"
              data-time="1415737355"
            >
              review+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_272375" ><span class="fn">lsblakk</span>
</div>:
              <a href="#c175"
                  class="flag-name-status rel-time-title activity-ref"
                  title="7 years ago"
              data-time="1415812932"
            >
              approval-mozilla-aurora+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_272375" ><span class="fn">lsblakk</span>
</div>:
              <a href="#c175"
                  class="flag-name-status rel-time-title activity-ref"
                  title="7 years ago"
              data-time="1415812932"
            >
              approval-mozilla-beta+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_424995" ><span class="fn">lmandel</span>
</div>:
              <a href="#c179"
                  class="flag-name-status rel-time-title activity-ref"
                  title="7 years ago"
              data-time="1415831696"
            >
              approval-mozilla-esr31+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8520784&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8520784&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1092855&attachment=8520784">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8522345">Patch for esr31</a>
        </div>
        <div>
            <a href="#c183" class="attach-time activity-ref"><span class="rel-time" title="2014-11-13 09:54 PST" data-time="1415901291">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div></span>
        </div>
        <div class="attach-info">6.39 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_67806" ><span class="fn">smichaud</span>
</div>:
              <a href="#c183"
                  class="flag-name-status rel-time-title activity-ref"
                  title="7 years ago"
              data-time="1415901291"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8522345&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8522345&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1092855&attachment=8522345">Splinter Review</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
      <button type="button" id="attachments-obsolete-btn" class="secondary">Show Obsolete</button>
  </div>
  
</footer>
  </div>
</section>



<script nonce="qwD4O9PPEkvrgLzl4NblXDIvGr6Iv3oNVLAiy05YRcRg5COT">
  init_module_visibility();
</script>



<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;94.0b9&quot;,&quot;FIREFOX_ESR&quot;:&quot;78.15.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;91.2.0esr&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;95.0a1&quot;,&quot;FIREFOX_PINEBUILD&quot;:&quot;&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2021-10-04&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2021-10-05&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2021-09-30&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;93.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2021-11-01&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2021-11-02&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2021-10-28&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="9534930" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-02 14:18 PST" data-time="1414966696">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8515692"
         class="attachment"
         data-id="8515692" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="CGLog_Firefox_18197-sample.txt">
      <meta itemprop="contentSize" content="2611">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8515692" itemprop="contentUrl">
        <span id="att-8515692-description" itemprop="description">CGLog_Firefox_18197-sample.txt</span></a>
        — <a href="attachment.cgi?id=8515692&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-0" data-comment-id="9534930">User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:33.0) Gecko/20100101 Firefox/33.0
Build ID: 20141027150301

Steps to reproduce:

I'm currently using Firefox 33.0.2 and Thunderbird 31.2.0 on MacOS 10.10 (Yosemite).


Actual results:

Both Firefox and Thunderbird are creating large log files in /tmp with the filename template of CGLog_Program_PID (ex. /tmp/CGLog_Firefox_18197 ).  Nothing special is required to cause these log files to be created, however, they do take some time to show up after starting the application; apparently the event log builds in memory first and is flushed periodically. The log file appears to contain all input events like mouse moves, clicks, and key-presses.  The mode on the file is 0644 so any process on the system could read these and thus presents a security issue especially on multi-user systems as it would contain username and password key-press data.

A small example of the log file is attached.  I didn't notice these files until after upgrading to Yosemite, but I'm not certain that was the trigger.


Expected results:

I would expect this logging would only be enabled for debug situations, and when enabled, the file mode should only allow the owning user to open it.</pre></div><div class="change-set" id="c1"><div class="comment" data-id="9544174" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-1" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" ><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" ><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 09:18 PST" data-time="1415121509">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-1" data-comment-id="9544174">Steven, does this sound familiar at all?

Kent, does this show up when you run in safe mode?</pre><div class="activity"><div class="change">Flags: needinfo?(smichaud)</div></div></div><div class="change-set" id="c2"><div class="comment" data-id="9544407" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-2" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 09:55 PST" data-time="1415123735">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-2" data-comment-id="9544407"><span class="quote">&gt; Steven, does this sound familiar at all?</span >

No, I've never seen these at all.

And I just checked on an OS X 10.8.5 machine where I've been running Firefox 33.0.2 and Thunderbird 31.2.0 for several hours -- I don't see any such files.  Let me try running Firefox on Yosemite for a few hours, and see if they show up.

Frankly I don't think these logs are a security problem, if the attached sample is any guide.  They would only be if URLs and (especially) accounts and passwords appeared in them.  But it'd still be nice to get to the bottom of this.

Kent:  Try running other browsers (like Safari and Chrome) for a few hours, and check if you see similar log files for them.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(smichaud)</span></div></div></div><div class="change-set" id="c3"><div class="comment" data-id="9544667" data-no="3"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-3" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" ><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" ><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-3"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-3" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 10:45 PST" data-time="1415126721">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-3" data-comment-id="9544667">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c2">comment #2</a>)
<span class="quote">&gt; Frankly I don't think these logs are a security problem, if the attached
&gt; sample is any guide.  They would only be if URLs and (especially) accounts
&gt; and passwords appeared in them.  But it'd still be nice to get to the bottom
&gt; of this.</span >

I'm concerned about the key events in there -- nice little keylogger.</pre></div><div class="change-set" id="c4"><div class="comment" data-id="9544723" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-4" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" ><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" ><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 10:58 PST" data-time="1415127517">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-4" data-comment-id="9544723">Other folks are concerned too:
<a rel="nofollow" href="https://support.mozilla.org/en-US/questions/1028140?esab=a&amp;s=CGLog&amp;r=0&amp;as=s">https://support.mozilla.org/en-US/questions/1028140?esab=a&amp;s=CGLog&amp;r=0&amp;as=s</a></pre></div><div class="change-set" id="c5"><div class="comment" data-id="9544738" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-5" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" ><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" ><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 11:02 PST" data-time="1415127754">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-5" data-comment-id="9544738">I did a little bit of Googling and I found a reference to a log with a similar name in the source code for iTerm, which is some open source terminal:
  <a rel="nofollow" href="http://en.sourceforge.jp/projects/iterm-jp/scm/svn/blobs/9/trunk/iTerm/CGSInternal/CGSDebug.h">http://en.sourceforge.jp/projects/iterm-jp/scm/svn/blobs/9/trunk/iTerm/CGSInternal/CGSDebug.h</a>

&quot;Dumps information about an application's resource usage to `/tmp/CGResources_&lt;NAME&gt;_&lt;PID&gt;`.&quot;</pre></div><div class="change-set" id="c6"><div class="comment" data-id="9544742" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-6" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 11:03 PST" data-time="1415127811">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-6" data-comment-id="9544742"><span class="quote">&gt; I'm concerned about the key events in there -- nice little keylogger.</span >

Oops.  Yes, you're right.</pre></div><div class="change-set" id="c7"><div class="comment" data-id="9544765" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-7" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" ><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" ><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 11:07 PST" data-time="1415128025">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-7" data-comment-id="9544765">Kamil had the same log (on Yosemite).  I don't see one on 10.9.</pre><div class="activity"><div class="change">Status: UNCONFIRMED &rarr; NEW</div><div class="change">Ever confirmed: true</div></div></div><div class="change-set" id="c8"><div class="comment" data-id="9544814" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-8" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 11:13 PST" data-time="1415128434">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-8" data-comment-id="9544814">I've been running FF 33.0.2 in Yosemite for the last hour, and still don't see these log files.

For what it's worth, my copy of Yosemite is the release version (build 14A389), and is a clean install (not an upgrade).

Kent, please try restarting your computer (to get rid of existing log files), the running Firefox in safe mode to see if new log files are created.

Please also try running Safari and Chrome for a while, to see if log files also get created for them.

Are you using the Yosemite release?  How did you get/install your version of Yosemite?  Did you upgrade from pre-release versions of Yosemite (betas or developer previews)?</pre></div><div class="change-set" id="c9"><div class="comment" data-id="9544862" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-9" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" ><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" ><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 11:20 PST" data-time="1415128812">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-9" data-comment-id="9544862">Kamil and Kent, are either of you using iTerm or something?</pre></div><div class="change-set" id="c10"><div class="comment" data-id="9544878" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-10" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 11:21 PST" data-time="1415128909">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-10" data-comment-id="9544878">(From the link in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c5">comment #5</a>)

/*! Dumps a very verbose debug log of all processes to /tmp/CGLog_&lt;NAME&gt;_&lt;PID&gt;. */
kCGSDebugOptionVerboseLoggingAllApps = 0x80000007,

This makes it sound like something at the OS level (or the user settings level) is triggering debug logging for all apps.  Let my sharpen my reverse engineering tools and dig around for more information.

We very seriously need to see if these logs get created for all apps.  Andrew, please lean on Kamil right away.  Kent, please answer my questions from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c8">comment #8</a> right away.</pre></div><div class="change-set" id="c11"><div class="comment" data-id="9544900" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-11" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 11:24 PST" data-time="1415129048">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-11" data-comment-id="9544900"><span class="quote">&gt; This makes it sound like something at the OS level (or the user settings level)</span >

But yes, it could also be a single app like iTerm.  Or a Firefox extension.</pre></div><div class="change-set" id="c12"><div class="comment" data-id="9544912" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-12" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" ><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" ><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 11:26 PST" data-time="1415129169">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-12" data-comment-id="9544912">Kamil was going to check if he's seeing this issue in Chrome, too.  It didn't show up immediately, but he was going to use it for a few hours to see if it shows up there too.

ni for the question in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c9">comment 9</a></pre><div class="activity"><div class="change">Flags: needinfo?(kamiljoz)</div></div></div><div class="change-set" id="c13"><div class="comment" data-id="9544936" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-13" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 11:30 PST" data-time="1415129424">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-13" data-comment-id="9544936">Kamil, please also answer my questions from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c8">comment #8</a>.</pre></div><div class="change-set" id="c14"><div class="comment" data-id="9544992" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-14" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 11:40 PST" data-time="1415130052">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-14" data-comment-id="9544992">Kamil and Kent:  By any chance are either of you using an Apple developer tool called Quartz Debug?

It's probably capable of changing a debug setting to make these log files appear for any app.  I don't yet know whether or not the setting change would be permanent -- whether it would persist after quitting Quartz Debug and/or restarting your computer.</pre></div><div class="change-set" id="c15"><div class="comment" data-id="9545298" data-no="15"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-15" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-15"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-15" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 12:34 PST" data-time="1415133275">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-15" data-comment-id="9545298"><span class="quote">&gt; Are you using the Yosemite release?  How did you get/install your version of
&gt; Yosemite?  Did you upgrade from pre-release versions of Yosemite (betas or
&gt; developer previews)?</span >

I upgraded to Yosemite from Mavericks 10.9.5 via the Apple Store. I wasn't using any 10.10 betas or developer previews previous to upgrading.

<span class="quote">&gt; Kamil and Kent, are either of you using iTerm or something?</span >

Nope, I'm just using the plain Terminal (v2.5) that comes with OSX with the &quot;Pro&quot; theme selected (haven't changed anything else).

<span class="quote">&gt; But yes, it could also be a single app like iTerm.  Or a Firefox extension.</span >

Speaking of extensions/add-ons, I do have the Gecko Profiler installed:
- <a rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Mozilla/Performance/Profiling_with_the_Built-in_Profiler">https://developer.mozilla.org/en-US/docs/Mozilla/Performance/Profiling_with_the_Built-in_Profiler</a>

However, the log file is still being created after running fx in safe mode:
- removed the log files from /tmp/
- restarted the machine and ensured the logs weren't present when re-launching fx
- started fx in safe mode via the Hamburger Menu -&gt; Help Menu -&gt; Restart with Add-ons Disabled...
- once fx started in safe mode, double checked to make sure that there weren't any logs

After about 20 minutes or so, CGLog_Nightly_437 was created under /tmp/. I'm running Chrome 38.0.2125.111 and Safari Version 8.0 (10600.1.25) at the same time and haven't seen any logs from those two browsers.

<span class="quote">&gt; Kamil and Kent: By any chance are either of you using an Apple developer tool called Quartz Debug?</span >

I haven't installed Quartz Debug directly but I did upgrade xCode to version 6.1 (6A1052d) via the Apple Store a few days after installing Yosemite. I haven't anything other than upgrading it.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(kamiljoz)</span></div></div></div><div class="change-set" id="c16"><div class="comment" data-id="9545389" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-16" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 12:56 PST" data-time="1415134587">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-16" data-comment-id="9545389">Steven said: &quot;Are you using the Yosemite release?  How did you get/install your version of Yosemite?  Did you upgrade from pre-release versions of Yosemite (betas or developer previews)?&quot;

Yes, I'm running the GA release 10.10.  I upgraded from the GA release of 10.9.  I've not involved myself with any of the beta releases of OS X.

I'm currently running Firefox in safe-mode and after about 20 minutes the CGLog_Firefox_PID log showed up.  Note also that this happens in Thunderbird as well so the condition seems to be in a shared component.  That's while I filed this under Core.

I run Safari regularly and has not create any similar log file (at least not in /tmp).  I don't like Chrome but I do have it installed so I'll see if anything happens with a 30 minute session there.</pre></div><div class="change-set" id="c17"><div class="comment" data-id="9545452" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-17" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 13:08 PST" data-time="1415135301">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-17" data-comment-id="9545452">I noticed a couple more questions to answer.

* I don't have iTerm installed.

* Like Kamil, I upgraded XCode to 6.1 after installing Yosemite.  It's installed to let macports do its builds; and that's the extent of my usage of it, at this point.  I'm not using Quartz Debug.</pre></div><div class="change-set" id="c18"><div class="comment" data-id="9545549" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-18" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_349244" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_349244" ><a class="email " href="/user_profile?user_id=349244" > <span class="fna">Dana Keeler (she/her) (use needinfo) (:keeler for reviews) (out of office)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 13:23 PST" data-time="1415136229">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-18" data-comment-id="9545549">Can you use something like lsof to determine which process is writing to the file?</pre></div><div class="change-set" id="c19"><div class="comment" data-id="9545648" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-19" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 13:36 PST" data-time="1415136982">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-19" data-comment-id="9545648">Kamil and Kent:  Thanks very much for your detailed information.  For the moment I can't think of any more questions, but when I do I'll let you know here.

This is all very puzzling.

The CoreGraphics framework does have an undocumented CGSSetDebugOptionsPSN() method, which presumably sets a particular option only for a particular process id.  I'd guess this is how Firefox and Thunderbird are getting these log files when they run.  But the tree doesn't contain any calls to any of the CGSSetDebugOptions() variants, and neither does the Gecko Profiler.

I don't think that whatever program did this is malicious.  A key logger would just log your keystrokes, and would presumably be much less obvious about it.  But I'd still very much like to know what's going on.

I'll keep digging and thinking.</pre></div><div class="change-set" id="c20"><div class="comment" data-id="9545695" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-20" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 13:44 PST" data-time="1415137479">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-20" data-comment-id="9545695">(In reply to David Keeler (:keeler) [use needinfo?] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c18">comment #18</a>)
<span class="quote">&gt; Can you use something like lsof to determine which process is writing to the
&gt; file?</span >

Using the fuser command shows the log files are not held open.  They appear to be opened by the process periodically to flush records to it and then closed.  I just captured the firefox process accessing the logs using iosnoop.

  UID   PID D    BLOCK   SIZE       COMM PATHNAME
  502 46528 R 365588248   4096    firefox ??/tmp/CGLog_Firefox_46528
  502 46528 W 365588248   4096    firefox ??/tmp/CGLog_Firefox_46528
  502 46528 W 366811848 1044480    firefox ??/tmp/CGLog_Firefox_46528
  502 46528 W 366813888 155648    firefox ??/tmp/CGLog_Firefox_46528</pre></div><div class="change-set" id="c21"><div class="comment" data-id="9545734" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-21" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 13:51 PST" data-time="1415137908">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-21" data-comment-id="9545734">Later I'll post an interpose library that you can attach to Firefox (or Thunderbird), and which will log stack traces for calls made to any of the CGSSetDebugOptions() variants.  Here I'm assuming the debug logging setting isn't permanent.

But maybe it is.  In that case you *might* be able to catch where the setting is stored by running the following two commands from Terminal:

grep -r -s CGSDebugOption /Library/
grep -r -s CGSDebugOption ~/</pre></div><div class="change-set" id="c22"><div class="comment" data-id="9545754" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-22" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 13:53 PST" data-time="1415138034">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-22" data-comment-id="9545754">Another request, on the off chance it may reveal something interesting:

Please attach the contents of your /System/Library/LaunchDaemons/com.apple.WindowServer.plist file.</pre></div><div class="change-set" id="c23"><div class="comment" data-id="9545787" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-23" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 14:00 PST" data-time="1415138418">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8516971"
         class="attachment"
         data-id="8516971" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="com.apple.WindowServer.plist">
      <meta itemprop="contentSize" content="706">
      <meta itemprop="encodingFormat" content="application/xml">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8516971" itemprop="contentUrl">
        <span id="att-8516971-description" itemprop="description">com.apple.WindowServer.plist</span></a>
        — <a href="attachment.cgi?id=8516971&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-23" data-comment-id="9545787">Attached, let me know if you need anything else Steven.</pre></div><div class="change-set" id="c24"><div class="comment" data-id="9545821" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-24" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 14:05 PST" data-time="1415138732">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-24" data-comment-id="9545821"><span class="quote">&gt; Attached</span >

Thanks!  Nothing unusual there.  It looks exactly like mine.</pre></div><div class="change-set" id="c25"><div class="comment" data-id="9545923" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-25" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 14:24 PST" data-time="1415139857">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-25" data-comment-id="9545923">I've been running Chrome/Safari for a few hours without seeing any logs being created under /tmp. Nightly is still dumping data into &quot;CGLog_Nightly_437&quot;. Really strange...</pre></div><div class="change-set" id="c26"><div class="comment" data-id="9545956" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-26" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 14:29 PST" data-time="1415140150">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-26" data-comment-id="9545956">Kamil, please do try the following two commands from Terminal (mentioned above in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c21">comment #21</a>):

grep -r -s CGSDebugOption /Library/
grep -r -s CGSDebugOption ~/</pre></div><div class="change-set" id="c27"><div class="comment" data-id="9546571" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-27" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 16:49 PST" data-time="1415148565">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-27" data-comment-id="9546571">Kamil and Kent, here's another command to try (in a Terminal prompt):

defaults read com.apple.QuartzDebug</pre></div><div class="change-set" id="c28"><div class="comment" data-id="9546711" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-28" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 17:13 PST" data-time="1415149995">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-28" data-comment-id="9546711">Results:

* grep -r -s CGSDebugOption /Library/ &gt; out.txt (didn't find any patches/results, out.txt was completely blank)

* defaults read com.apple.QuartzDebug:

2014-11-04 20:09:15.088 defaults[3893:1654875] 
Domain com.apple.QuartzDebug does not exist

* grep -r -s CGSDebugOption ~/ &gt; out.txt

for some reason, this command is taking a very long time to complete.. I'm not sure if it's because I have all the mozilla branches in my ~/ and the scan is taking a long time? I'm gonna head home as its 8pm here but I'll run the command once I get home and leave it running.</pre></div><div class="change-set" id="c29"><div class="comment" data-id="9546792" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-29" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 17:26 PST" data-time="1415150801">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-29" data-comment-id="9546792">Thanks, Kamil.

When you have time please also try the following:

1) grep -r -s CGSSetDebugOptions /Applications/

I expect matches in the XCode SDKs directory.  Tell us if you find other matches.

2) grep -r -s CGSSetDebugOptions /System/Library/

I expect matches in the CoreGraphics framework, and error messages for the Ruby framework.  Tell us if you find other matches.

3) grep -r -s CGSSetDebugOptions /Library/

I don't expect any matches at all.</pre></div><div class="change-set" id="c30"><div class="comment" data-id="9546841" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-30" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 17:39 PST" data-time="1415151553">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-30" data-comment-id="9546841">One more, for good measure:

grep -r -s CGSSetDebugOptions ~/Library/Internet Plug-Ins/</pre></div><div class="change-set" id="c31"><div class="comment" data-id="9547317" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-31" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-04 19:50 PST" data-time="1415159420">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-31" data-comment-id="9547317">Results:

* grep -r -s CGSSetDebugOptions /Applications/ &gt; out.txt

All the matches were found only in &quot;/SDKs/MacOSX10.10.sdk/&quot; and &quot;/SDKs/MacOSX10.9.sdk/&quot;. However, I did receive some &quot;recursive directory loop&quot; warnings under:
- /Developer/SDKs/MacOSX10.10.sdk/System/Library/Frameworks/Ruby.framework/
- /Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/Ruby.framework/

* grep -r -s CGSSetDebugOptions /System/Library/ &gt; out.txt

All the matches were found under &quot;CoreGraphics&quot;. I didn't receive any error messages regarding the Ruby framework

* grep -r -s CGSSetDebugOptions /Library/ &gt; out.txt

no matches found

* grep -r -s CGSSetDebugOptions ~/Library/Internet Plug-Ins/ &gt; out.txt

no matches found</pre></div><div class="change-set" id="c32"><div class="comment" data-id="9549817" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-32" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 09:16 PST" data-time="1415207773">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-32" data-comment-id="9549817">Results:

* grep -r -s CGSDebugOption ~/ &gt; out.txt

-&gt; Binary file /Users/kjozwiak//Documents/Virtual Machines.localized/Windows 7 Pro x64.vmwarevm/564d4f60-4ad6-d4bc-1696-77cf39b2672b.vmem matches</pre></div><div class="change-set" id="c33"><div class="comment" data-id="9550044" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-33" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 09:54 PST" data-time="1415210065">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-33" data-comment-id="9550044">Interesting.  So this could conceivably be a VMWare thing.

Kent, do you also have VMWare installed?

Kamil, can you make the logging stop by (temporarily) deinstalling VMWare and restarting your computer?

(I don't have any Yosemite partitions suitable for installing VMWare, though I do have a license.  In fact one of those partitions is itself a VMWare VM.)</pre></div><div class="change-set" id="c34"><div class="comment" data-id="9550218" data-no="34"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-34" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 10:22 PST" data-time="1415211752">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-34" data-comment-id="9550218">Kamil and Kent, here's another command to try in Terminal:

plutil -p /Library/Preferences/com.apple.windowserver.plist</pre></div><div class="change-set" id="c35"><div class="comment" data-id="9550236" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-35" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 10:24 PST" data-time="1415211874">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-35" data-comment-id="9550236">Kamil, what's your version of VMWare Fusion?</pre></div><div class="change-set" id="c36"><div class="comment" data-id="9550283" data-no="36"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-36" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-36"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-36" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 10:32 PST" data-time="1415212377">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-36" data-comment-id="9550283">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c33">comment #33</a>)
<span class="quote">&gt; Interesting.  So this could conceivably be a VMWare thing.
&gt; 
&gt; Kent, do you also have VMWare installed?</span >

I don't.  However I do have VirtualBox installed.</pre></div><div class="change-set" id="c37"><div class="comment" data-id="9550340" data-no="37"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-37" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 10:44 PST" data-time="1415213069">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-37" data-comment-id="9550340">Not sure how helpful this is, but I played with dtrace a bit with the following probe.

	pid$1:CoreGraphics:*Debug*:entry { trace(arg0); trace(arg1); ustack(); }

and this is what it returned after displaying the initial window (first two entries) and then bringing that window into the foreground (second two entries)


CPU     ID                    FUNCTION:NAME
  1   4646      CGSUpdateDebugOptions:entry             37723                2
              CoreGraphics`CGSUpdateDebugOptions
              CoreGraphics`CGSNewWindowWithOpaqueShape+0x73
              AppKit`_NSCreateWindowWithOpaqueShape2+0x218
              AppKit`-[NSWindow _commonAwake]+0x710
              AppKit`-[NSWindow _makeKeyRegardlessOfVisibility]+0x55
              AppKit`-[NSWindow makeKeyAndOrderFront:]+0x1b
              XUL`0x0000000101dc3b50+0x658

  1   4647        _CGSGetDebugOptions:entry              9223  140735114771568
              CoreGraphics`_CGSGetDebugOptions
              CoreGraphics`CGSUpdateDebugOptions+0x2a
              CoreGraphics`CGSNewWindowWithOpaqueShape+0x73
              AppKit`_NSCreateWindowWithOpaqueShape2+0x218
              AppKit`-[NSWindow _commonAwake]+0x710
              AppKit`-[NSWindow _makeKeyRegardlessOfVisibility]+0x55
              AppKit`-[NSWindow makeKeyAndOrderFront:]+0x1b
              XUL`0x0000000101dc3b50+0x658

  0   4646      CGSUpdateDebugOptions:entry             37723                2
              CoreGraphics`CGSUpdateDebugOptions
              CoreGraphics`CGSNewWindowWithOpaqueShape+0x73
              HIToolbox`MBWindows::CreateWindow(CGRect, unsigned int)+0xac
              HIToolbox`MBWindows::GetWindowIDOnDisplay(unsigned int, unsigned char)+0xae
              HIToolbox`MenuBarInstance::ForEachWindowDo(void (unsigned int, unsigned int) block_pointer)+0xa2
              HIToolbox`MenuBarInstance::UpdateWindowBoundsAndResolution()+0x9b
              HIToolbox`MenuBarInstance::Show(MenuBarAnimationStyle, unsigned char, unsigned char, unsigned char)+0xe5
              HIToolbox`SetMenuBarObscured+0xe8
              HIToolbox`HIApplication::HandleActivated(OpaqueEventRef*, unsigned char, OpaqueWindowPtr*)+0xb8
              HIToolbox`HIApplication::EventObserver(unsigned int, OpaqueEventRef*, void*)+0xee
              HIToolbox`_NotifyEventLoopObservers+0x9b
              HIToolbox`AcquireEventFromQueue+0x335
              HIToolbox`ReceiveNextEventCommon+0xea
              HIToolbox`_BlockUntilNextEventMatchingListInModeWithFilter+0x47
              AppKit`_DPSNextEvent+0x3c4
              AppKit`-[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]+0xc2
              XUL`0x0000000101dbdbb0+0x52

  0   4646      CGSUpdateDebugOptions:entry             37723                2
              CoreGraphics`CGSUpdateDebugOptions
              CoreGraphics`CGSNewWindowWithOpaqueShape+0x73
              HIToolbox`HIMenuBarView::DrawSelf(short, __HIShape const*, CGContext*)+0x16a
              HIToolbox`HIView::DrawCacheOrSelf(short, __HIShape const*, CGContext*)+0x157
              HIToolbox`HIView::EventHandler(OpaqueEventHandlerCallRef*, OpaqueEventRef*, void*)+0xbae
              HIToolbox`DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x4ec
              HIToolbox`SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x182
              HIToolbox`SendEventToEventTargetWithOptions+0x2b
              HIToolbox`HIView::SendDraw(short, OpaqueGrafPtr*, __HIShape const*, CGContext*)+0x151
              HIToolbox`HIView::RecursiveDrawComposited(__HIShape const*, __HIShape const*, unsigned int, HIView*, CGContext*, unsigned char, double)+0x2c6
              HIToolbox`HIView::RecursiveDrawComposited(__HIShape const*, __HIShape const*, unsigned int, HIView*, CGContext*, unsigned char, double)+0x542
              HIToolbox`HIView::DrawComposited(short, OpaqueGrafPtr*, __HIShape const*, unsigned int, HIView*, CGContext*)+0x3c5
              HIToolbox`HIView::Render(unsigned int, CGContext*)+0x36
              HIToolbox`WindowData::PrepareForVisibility()+0xa8
              HIToolbox`_ShowHideWindows+0x189
              HIToolbox`ShowHide+0x22
              HIToolbox`MBWindows::CreateWindow(CGRect, unsigned int)+0x179
              HIToolbox`MBWindows::GetWindowIDOnDisplay(unsigned int, unsigned char)+0xae
              HIToolbox`MenuBarInstance::ForEachWindowDo(void (unsigned int, unsigned int) block_pointer)+0xa2
              HIToolbox`MenuBarInstance::UpdateWindowBoundsAndResolution()+0x9b</pre></div><div class="change-set" id="c38"><div class="comment" data-id="9550362" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-38" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 10:47 PST" data-time="1415213223">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-38" data-comment-id="9550362"><span class="quote">&gt; Kamil and Kent, here's another command to try in Terminal:
&gt; 
&gt; plutil -p /Library/Preferences/com.apple.windowserver.plist</span >

* plutil -p /Library/Preferences/com.apple.windowserver.plist
--&gt; <a rel="nofollow" href="http://pastebin.mozilla.org/7130847">http://pastebin.mozilla.org/7130847</a>

<span class="quote">&gt; Kamil, what's your version of VMWare Fusion?</span >

I'm using VMware Fusion 7.0.1 (2235595). I was using Fusion 5 but the 10.10 update screwed everything up and VMware eded up dropping it's support. So I uninstalled Fusion 5 and installed Fusion 7.0.1 with brand new VM's via the &quot;More Isolated&quot; route rather than &quot;More Seamless&quot;. This way the VM's are not running side by side with OSX.

<span class="quote">&gt; Kamil, can you make the logging stop by (temporarily) deinstalling VMWare and restarting your computer?</span >

I closed VMware and restarted the machine but the log appeared after 20 minutes of using Nightly with VMware closed.</pre></div><div class="change-set" id="c39"><div class="comment" data-id="9550381" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-39" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 10:52 PST" data-time="1415213545">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-39" data-comment-id="9550381">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c34">comment #34</a>)
<span class="quote">&gt; Kamil and Kent, here's another command to try in Terminal:
&gt; 
&gt; plutil -p /Library/Preferences/com.apple.windowserver.plist</span >

{
  &quot;DisplayMainOnInternal&quot; =&gt; 1
  &quot;DisplayLayoutToRight&quot; =&gt; 0
  &quot;CGSInterocitorSelectMode&quot; =&gt; 0
  &quot;ForceOldStyleMemoryManagement&quot; =&gt; 0
}</pre></div><div class="change-set" id="c40"><div class="comment" data-id="9550511" data-no="40"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-40" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-40"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-40" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 11:14 PST" data-time="1415214854">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-40" data-comment-id="9550511"><span class="quote">&gt; I closed VMware and restarted the machine</span >

You probably really do need to (temporarily) uninstall VMWare Fusion.  I believe that while it's installed, some parts of it are always running, even if the Fusion app isn't -- including at least one kernel extension.

Fusion used to have a nice uninstaller.  But now that I look again it seems to have disappeared.  I also have Fusion 7.0.1.  I don't know what's up with this.  I can't believe Fusion no longer uses kernel extensions.</pre></div><div class="change-set" id="c41"><div class="comment" data-id="9550528" data-no="41"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-41" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-41"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-41" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 11:16 PST" data-time="1415214998">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-41" data-comment-id="9550528">Here's VMWare's latest on uninstalling Fusion:
<a rel="nofollow" href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1017838">http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1017838</a></pre></div><div class="change-set" id="c42"><div class="comment" data-id="9550569" data-no="42"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-42" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-42"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-42" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 11:21 PST" data-time="1415215289">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-42" data-comment-id="9550569"><span class="quote">&gt; plutil -p /Library/Preferences/com.apple.windowserver.plist</span >
&gt;
<span class="quote">&gt; {
&gt;   &quot;DisplayMainOnInternal&quot; =&gt; 1
&gt;   &quot;DisplayLayoutToRight&quot; =&gt; 0
&gt;   &quot;CGSInterocitorSelectMode&quot; =&gt; 0
&gt;   &quot;ForceOldStyleMemoryManagement&quot; =&gt; 0
&gt; }</span >

Interesting.  Mine is empty.

I don't think any of the entries here is responsible for the logging.
But I do see that you at least occasionally have an external monitor
connected.

So the next question is, does the logging only happen while an
external monitor is connected?</pre></div><div class="change-set" id="c43"><div class="comment" data-id="9550591" data-no="43"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-43" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-43"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-43" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 11:24 PST" data-time="1415215448">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-43" data-comment-id="9550591">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c36">comment #36</a>)

<span class="quote">&gt;&gt; Kent, do you also have VMWare installed?</span >
&gt;
<span class="quote">&gt; I don't.  However I do have VirtualBox installed.</span >

So does the logging stop happening if you temporarily uninstall or
disable it?</pre></div><div class="change-set" id="c44"><div class="comment" data-id="9550604" data-no="44"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-44" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-44"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-44" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 11:27 PST" data-time="1415215676">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-44" data-comment-id="9550604">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c37">comment #37</a>)

Interesting.  CGSUpdateDebugOptions() is an internal (non-exported) method.  Let me see what I can find out about it in lldb and my disassembler (Hopper Disassembler <a rel="nofollow" href="http://www.hopperapp.com/">http://www.hopperapp.com/</a>).</pre></div><div class="change-set" id="c45"><div class="comment" data-id="9550627" data-no="45"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-45" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-45"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-45" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 11:31 PST" data-time="1415215865">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-45" data-comment-id="9550627">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c44">comment #44</a>)
<span class="quote">&gt; (In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c37">comment #37</a>)
&gt; 
&gt; Interesting.  CGSUpdateDebugOptions() is an internal (non-exported) method. 
&gt; Let me see what I can find out about it in lldb and my disassembler (Hopper
&gt; Disassembler <a rel="nofollow" href="http://www.hopperapp.com/">http://www.hopperapp.com/</a>).</span >

This is what I could get using tool.

_CGSUpdateDebugOptions:
000000000000b136        pushq   %rbp
000000000000b137        movq    %rsp, %rbp
000000000000b13a        callq   _CGSRunningInServer
000000000000b13f        testb   %al, %al
000000000000b141        jne     0xb167
000000000000b143        movb    _CGSUpdateDebugOptions.debugOptionsInit(%rip), %al
000000000000b149        testb   %al, %al
000000000000b14b        jne     0xb167
000000000000b14d        callq   _CGSServerPort
000000000000b152        leaq    __CGSDebugOptionFlags_(%rip), %rsi
000000000000b159        movl    %eax, %edi
000000000000b15b        callq   __CGSGetDebugOptions
000000000000b160        movb    $0x1, 0x8926f1(%rip)
000000000000b167        popq    %rbp
000000000000b168        retq</pre></div><div class="change-set" id="c46"><div class="comment" data-id="9550671" data-no="46"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-46" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-46"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-46" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 11:38 PST" data-time="1415216283">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-46" data-comment-id="9550671">(Following up <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c40">comment #40</a>)

Fusion 7.0.1 does still use kernel extensions -- you can see them in the output from kextstat.  But if you quit the Fusion app they get unloaded (which you can also see using kextstat).

So don't bother trying to uninstall Fusion 7.0.1.  And no, it doesn't seem to be responsible for the logging.</pre></div><div class="change-set" id="c47"><div class="comment" data-id="9551062" data-no="47"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-47" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-47"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-47" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 12:45 PST" data-time="1415220348">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-47" data-comment-id="9551062">Steven, let me know if there's anything else that I can do. Is there a tool/debugger that I can install that can help us?</pre></div><div class="change-set" id="c48"><div class="comment" data-id="9551088" data-no="48"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-48" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-48"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-48" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 12:51 PST" data-time="1415220708">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-48" data-comment-id="9551088">I'm working on an interpose library that will log the CoreGraphics framework's current debug options value when it's initialized and whenever it changes.  Once I'm done I'll ask you (Kamil) and Kent to run it and see what the logs say.</pre></div><div class="change-set" id="c49"><div class="comment" data-id="9551530" data-no="49"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-49" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-49"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-49" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c49">Comment 49</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 14:17 PST" data-time="1415225868">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-49">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8517731"
         class="attachment"
         data-id="8517731" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="bugzilla1092855-interpose-lib.tgz">
      <meta itemprop="contentSize" content="8200">
      <meta itemprop="encodingFormat" content="application/x-tar">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8517731" itemprop="contentUrl">
        <span id="att-8517731-description" itemprop="description">Interpose library for logging</span></a>
        — <a href="attachment.cgi?id=8517731&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-49" data-comment-id="9551530">OK, Kamil and Kent, here's my interpose library.

Despite the format, it contains no binaries.  So you need to untar it and call &quot;make&quot;.  If you don't already have them, you need the XCode commandline tools (which I think you can get from inside XCode).

The top of the interpose.mm file contains more instructions for use.

Please let me know if you have any questions.

And also of course please let us know what shows up in your logs.

In my own logs, I only see one call to _CGSGetDebugOptions(), which returns that the debug options are '0'.</pre></div><div class="change-set" id="c50"><div class="comment" data-id="9551584" data-no="50"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-50" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-50"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-50" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c50">Comment 50</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 14:28 PST" data-time="1415226535">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-50">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-50" data-comment-id="9551584"><span class="quote">&gt; This is what I could get using tool.</span >

What is &quot;tool&quot;, Kent.

I think Hopper Disassembler is truly excellent, but I'm always on the lookout for decent disassemblers.</pre></div><div class="change-set" id="c51"><div class="comment" data-id="9551613" data-no="51"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-51" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-51"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-51" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c51">Comment 51</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 14:33 PST" data-time="1415226812">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-51">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-51" data-comment-id="9551613">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c50">comment #50</a>)
<span class="quote">&gt; &gt; This is what I could get using tool.
&gt; 
&gt; What is &quot;tool&quot;, Kent.
&gt; 
&gt; I think Hopper Disassembler is truly excellent, but I'm always on the
&gt; lookout for decent disassemblers.</span >

Sorry, typo.  I meant otool, but Safari autocorrected.  Grrr..</pre></div><div class="change-set" id="c52"><div class="comment" data-id="9551618" data-no="52"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-52" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-52"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-52" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c52">Comment 52</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 14:34 PST" data-time="1415226892">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-52">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-52" data-comment-id="9551618">Still running the process and waiting for the log file to be created, but I thought I'd provide some early results.  Looks basically like the dtrace probe but you were able to capture the arguments and return value.  I'll see if this fires again.

_CGSGetDebugOptions(): serverPort 0x2707, options 0x0, returning 0
    (interpose.dylib) PrintStackTrace() + 0xb1
    (interpose.dylib) Hooked__CGSGetDebugOptions(__CFMachPort*, unsigned int*) + 0x69
    (CoreGraphics) CGSUpdateDebugOptions + 0x2a
    (CoreGraphics) CGSNewWindowWithOpaqueShape + 0x73
    (AppKit) _NSCreateWindowWithOpaqueShape2 + 0x218
    (AppKit) -[NSWindow _commonAwake] + 0x710
    (AppKit) -[NSWindow _makeKeyRegardlessOfVisibility] + 0x55
    (AppKit) -[NSWindow makeKeyAndOrderFront:] + 0x1b
    (XUL) mac_plugin_interposing_child_OnShowCursor + 0x69ee8</pre></div><div class="change-set" id="c53"><div class="comment" data-id="9551632" data-no="53"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-53" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-53"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-53" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c53">Comment 53</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 14:37 PST" data-time="1415227079">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-53">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-53" data-comment-id="9551632">The log file just showed up but nothing additional was caught by the interpose library.</pre></div><div class="change-set" id="c54"><div class="comment" data-id="9551778" data-no="54"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-54" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-54"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-54" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c54">Comment 54</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 15:19 PST" data-time="1415229597">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-54">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-54" data-comment-id="9551778"><span class="quote">&gt; The log file just showed up but nothing additional was caught by the interpose library.</span >

OK, it looks like I'll need to start doing stuff to emulate what you guys see.  For example I'll need to start playing with CGSSetDebugOptions(), using the Quartz Debugger or directly.  That'll hopefully give me a better idea of what might be going on.

But CGSSetDebugOptions() might not be involved.  It ultimately just causes a message to be sent over a mach port to the WindowServer.  So it's possible that whatever triggers these logs is doing that directly.

It will take time, possibly a *lot* of time, to discover the source of these logs.  And I've got lots of other things to do, so I can't just work on this continuously.  The one thing I'm reasonably confident of is that whatever triggers these logs isn't malicious -- otherwise its traces would be a lot more difficult to discover.  So this bug isn't drop-dead urgent.</pre></div><div class="change-set" id="c55"><div class="comment" data-id="9551806" data-no="55"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-55" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-55"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-55" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c55">Comment 55</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 15:26 PST" data-time="1415229987">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-55">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-55" data-comment-id="9551806">Absolutely agreed; I don't think it's malicious either.  The logs can get very large so that's still an issue but /tmp is cleared whenever MacOS reboots.  I currently just have a background script truncating the files every 5 minutes.  I'll continue working on gathering more information as time permits.  It gives me an excuse to get better at dtrace.  :)</pre></div><div class="change-set" id="c56"><div class="comment" data-id="9551826" data-no="56"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-56" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-56"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-56" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c56">Comment 56</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-05 15:33 PST" data-time="1415230411">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-56">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-56" data-comment-id="9551826">By the way, playing around with Quartz Debug can change a running program's debug settings.  This does trigger calls to debug_options_changed(), which do show up in my interpose library's logs.  So at least I'm now sure that the interpose library does what it's supposed to.</pre></div><div class="change-set" id="c57"><div class="comment" data-id="9555254" data-no="57"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-57" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-57"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-57" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c57">Comment 57</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 08:30 PST" data-time="1415291420">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-57">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8518219"
         class="attachment obsolete"
         data-id="8518219" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="bugzilla1092855-interpose-lib-rev1.tgz">
      <meta itemprop="contentSize" content="8123">
      <meta itemprop="encodingFormat" content="application/x-gzip">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8518219" itemprop="contentUrl">
        <span id="att-8518219-description" itemprop="description">Another interpose library for logging</span></a> (obsolete)
        — <a href="attachment.cgi?id=8518219&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-57" data-comment-id="9555254">Kent and Kamil, please try this.</pre></div><div class="change-set" id="c58"><div class="comment" data-id="9555766" data-no="58"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-58" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-58"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-58" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c58">Comment 58</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 10:03 PST" data-time="1415296985">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-58">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-58" data-comment-id="9555766">Steps used: (please let know if I did this correctly)

- tar xvzf bugzilla1092855-interpose-lib-rev1.tgz
- make
- export DYLD_INSERT_LIBRARIES=/Users/kjozwiak/Downloads/interpose/interpose.dylib
- /Applications/FirefoxNightly.app/Contents/MacOS/firefox

Results:

(Thu Nov  6 12:56:33 2014) /Applications/FirefoxNightly.app/Contents/MacOS/firefox[3827] print_log_entries()
    (interpose.dylib) PrintStackTrace() + 0xb1
    (interpose.dylib) Hooked_print_log_entries(void*, void*) + 0x52
    (CoreGraphics) (anonymous namespace)::MessageLogger::add_log(std::__1::unique_ptr&lt;(anonymous namespace)::Log, std::__1::default_delete&lt;(anonymous namespace)::Log&gt; &gt;) + 0x262
    (CoreGraphics) CGSEventLogEvent + 0x199
    (CoreGraphics) CGSGetNextEventRecordInternal + 0x112
    (CoreGraphics) CGEventCreateNextEvent + 0x32
    (HIToolbox) PullEventsFromWindowServerOnConnection(unsigned int, unsigned char, __CFMachPortBoost*) + 0x66
    (HIToolbox) MessageHandler(__CFMachPort*, void*, long, void*) + 0x33
    (CoreFoundation) __CFMachPortPerform + 0xf7
    (CoreFoundation) __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 0x29
    (CoreFoundation) __CFRunLoopDoSource1 + 0x1db
    (CoreFoundation) __CFRunLoopRun + 0x947
    (CoreFoundation) CFRunLoopRunSpecific + 0x128
    (AppKit) _NSEventThread + 0x89
    (libsystem_pthread.dylib) _pthread_body + 0x83
    (libsystem_pthread.dylib) _pthread_body + 0x0
    (libsystem_pthread.dylib) thread_start + 0xd</pre></div><div class="change-set" id="c59"><div class="comment" data-id="9555847" data-no="59"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-59" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-59"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-59" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c59">Comment 59</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 10:20 PST" data-time="1415298054">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-59">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-59" data-comment-id="9555847">Kamil:

Yes, you did everything right.  And thanks for the info.  It advances our knowledge, and I hope to have another interpose library for you and Kent before too long.  But we still haven't figured this bug out.

Kent's results with my first interpose library show that debug options aren't what determines what's logged, and whether or not logging takes place.  Kamil's results with my rev1 interpose library show that the CoreGraphics framework is definitely doing the logging.

What remains to be figured out is why.

And Kamil's results add a new puzzle.  They show WindowServer events (input events like mouse and keyboard events) being processed on a secondary thread.  I've never seen this before (or at least I've never noticed it), and I didn't realize it was possible.</pre></div><div class="change-set" id="c60"><div class="comment" data-id="9555888" data-no="60"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-60" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-60"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-60" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c60">Comment 60</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 10:26 PST" data-time="1415298403">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-60">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-60" data-comment-id="9555888">Kamil and Kent:

Please try breaking in lldb (without my interpose library) at the following label, then getting an all-thread stack trace:

_ZN12_GLOBAL__N_113MessageLogger17print_log_entriesERKNSt3__16vectorINS1_10unique_ptrINS_3LogENS1_14default_deleteIS4_EEEENS1_9allocatorIS7_EEEE</pre></div><div class="change-set" id="c61"><div class="comment" data-id="9555900" data-no="61"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-61" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-61"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-61" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c61">Comment 61</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 10:28 PST" data-time="1415298506">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-61">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-61" data-comment-id="9555900"><span class="quote">&gt; then getting an all-thread stack trace</span >

&quot;bt all&quot;</pre></div><div class="change-set" id="c62"><div class="comment" data-id="9556128" data-no="62"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-62" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-62"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-62" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c62">Comment 62</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 11:07 PST" data-time="1415300841">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-62">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-62" data-comment-id="9556128"><span class="quote">&gt; Kent's results with my first interpose library show that debug options
&gt; aren't what determines what's logged, and whether or not logging takes
&gt; place.  Kamil's results with my rev1 interpose library show that the
&gt; CoreGraphics framework is definitely doing the logging.</span >

You can actually see in a disassembly of the ::shared_logger() function in the CoreGraphics framework where it generates the /tmp/CGLog_program_pid filename.  Maybe I should have mentioned that earlier but I thought we had already concluded that it was CoreGraphics doing this.</pre></div><div class="change-set" id="c63"><div class="comment" data-id="9556205" data-no="63"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-63" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-63"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-63" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c63">Comment 63</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 11:18 PST" data-time="1415301521">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-63">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-63" data-comment-id="9556205">We couldn't be entirely sure CoreGraphics is doing the logging until we caught it in the act -- as Kamil did with my rev1 interpose library.</pre></div><div class="change-set" id="c64"><div class="comment" data-id="9556291" data-no="64"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-64" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-64"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-64" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c64">Comment 64</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 11:35 PST" data-time="1415302521">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-64">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-64" data-comment-id="9556291">(Following up <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c60">comment #60</a>)

To be useful, the all-thread stack trace needs to be made for a mozilla-central nightly.  All other distros have their symbols stripped.</pre></div><div class="change-set" id="c65"><div class="comment" data-id="9556828" data-no="65"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-65" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-65"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-65" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c65">Comment 65</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 13:03 PST" data-time="1415307839">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-65">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-65" data-comment-id="9556828">Steven, I've never used lldb before so I could use some help :) So far, I've done the following:

- lldb /Applications/FirefoxNightly.app/Contents/MacOS/firefox

Trying to figure out what option to use with &quot;breakpoint set&quot;</pre></div><div class="change-set" id="c66"><div class="comment" data-id="9556884" data-no="66"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-66" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-66"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-66" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c66">Comment 66</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 13:10 PST" data-time="1415308202">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-66">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-66" data-comment-id="9556884">If you're familiar with gdb, <a rel="nofollow" href="http://lldb.llvm.org/lldb-gdb.html">http://lldb.llvm.org/lldb-gdb.html</a> will help.

Neither gdb nor lldb will &quot;run&quot; Firefox properly.  You need to run it yourself, then use lldb to attach to the process.

So what you'd need to do (once Firefox is running) is something like this:

lldb
attach -p [firefox-pid]
b [label]
continue

Then once the breakpoint is hit:

bt all</pre></div><div class="change-set" id="c67"><div class="comment" data-id="9557339" data-no="67"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-67" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-67"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-67" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c67">Comment 67</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 14:22 PST" data-time="1415312527">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-67">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8518488"
         class="attachment"
         data-id="8518488" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="bugzilla1092855-interpose-lib-rev2.tgz">
      <meta itemprop="contentSize" content="8356">
      <meta itemprop="encodingFormat" content="application/x-gzip">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8518488" itemprop="contentUrl">
        <span id="att-8518488-description" itemprop="description">Another interpose library for logging</span></a>
        — <a href="attachment.cgi?id=8518488&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-67" data-comment-id="9557339">Here's another interpose library to try.  This obsoletes the rev1 version.  So if you haven't already tried that, try this instead.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8518219&amp;action=edit"
           title="Another interpose library for logging"
           class=""
        >Attachment #8518219</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c68"><div class="comment" data-id="9557890" data-no="68"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-68" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-68"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-68" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c68">Comment 68</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 16:04 PST" data-time="1415318666">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-68">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-68" data-comment-id="9557890">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c67">comment #67</a>)

Immediately at invocation, Firefox 33.0.3 logs the following.

(Thu Nov  6 16:03:17 2014) /Users/kent/Applications/Firefox.app/Contents/MacOS/firefox[77464] OnAddImage(): print_log_entries_ptr 0x10008a000, CGSLogOpen_ptr 0x10008a020, CGSEventLoggingStop_ptr 0x10008a060, get_shared_logger_ptr 0x7fff84d9c6de</pre></div><div class="change-set" id="c69"><div class="comment" data-id="9558037" data-no="69"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-69" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-69"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-69" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c69">Comment 69</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 16:48 PST" data-time="1415321333">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-69">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-69" data-comment-id="9558037">Another thing I tried is running Firefox 33.0.3 in a fresh user account with no extensions installed (only the globally installed plugins). The log file eventually showed up same as it does in my normal user account.</pre></div><div class="change-set" id="c70"><div class="comment" data-id="9558143" data-no="70"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-70" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-70"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-70" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c70">Comment 70</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 17:16 PST" data-time="1415322990">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-70">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-70" data-comment-id="9558143">Another test I thought should be tried at least once was to run without any plug-ins installed (except for the embedded Cisco H.264 plugin).  I moved everything out of &quot;/Library/Internet Plug-Ins&quot; and &quot;$HOME/Library/Internet Plug-Ins&quot;. The log file still showed up.</pre></div><div class="change-set" id="c71"><div class="comment" data-id="9558264" data-no="71"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-71" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-71"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-71" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c71">Comment 71</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 17:51 PST" data-time="1415325119">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-71">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-71" data-comment-id="9558264">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c68">comment #68</a>)

That message is just a sanity check.  I forgot to comment it out.</pre></div><div class="change-set" id="c72"><div class="comment" data-id="9558271" data-no="72"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-72" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-72"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-72" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c72">Comment 72</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-06 17:53 PST" data-time="1415325212">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-72">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8518606"
         class="attachment"
         data-id="8518606" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="lldb-nightly.txt">
      <meta itemprop="contentSize" content="52938">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8518606" itemprop="contentUrl">
        <span id="att-8518606-description" itemprop="description">lldb all-thread backtrace</span></a>
        — <a href="attachment.cgi?id=8518606&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-72" data-comment-id="9558271">The breakpoint appeared to have been hit just before the log file was created.  Once I continued the program my /tmp watcher script alarmed.</pre></div><div class="change-set" id="c73"><div class="comment" data-id="9560926" data-no="73"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-73" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-73"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-73" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c73">Comment 73</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 08:10 PST" data-time="1415376630">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-73">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8518967"
         class="attachment"
         data-id="8518967" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="lldb_backtrace.txt">
      <meta itemprop="contentSize" content="75954">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8518967" itemprop="contentUrl">
        <span id="att-8518967-description" itemprop="description">lldb_backtrace.txt</span></a>
        — <a href="attachment.cgi?id=8518967&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-73" data-comment-id="9560926">Ran into the same behavior as Kent described in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c72">comment #72</a>. The breakpoint was hit before the log file was created. Once I continued, the log file was created under /tmp.</pre></div><div class="change-set" id="c74"><div class="comment" data-id="9560978" data-no="74"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-74" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-74"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-74" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c74">Comment 74</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 08:22 PST" data-time="1415377374">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-74">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-74" data-comment-id="9560978">I'll have more to say about those all-thread stack traces in a bit.  Thanks!

But what I'd really like both of you to do now is try my latest (rev2) interpose library, and leave it running until a log gets written.  It hooks (and logs) the same calls as my rev1 interpose library, plus calls to CGSEventLoggingStart() and CGSEventLoggingStop().

If the last two are being called, I'd *really* like to know how.

(Just ignore the sanity check message that I accidentally left in.)</pre></div><div class="change-set" id="c75"><div class="comment" data-id="9561101" data-no="75"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-75" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-75"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-75" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c75">Comment 75</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 08:41 PST" data-time="1415378467">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-75">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-75" data-comment-id="9561101">Results from interpose library (rev2):

(Fri Nov  7 11:38:48 2014) /Applications/FirefoxNightly.app/Contents/MacOS/firefox[658] print_log_entries()
    (interpose.dylib) PrintStackTrace() + 0xb1
    (interpose.dylib) Hooked_print_log_entries(void*, void*) + 0x52
    (CoreGraphics) (anonymous namespace)::MessageLogger::add_log(std::__1::unique_ptr&lt;(anonymous namespace)::Log, std::__1::default_delete&lt;(anonymous namespace)::Log&gt; &gt;) + 0x262
    (CoreGraphics) CGSEventLogEvent + 0x199
    (CoreGraphics) CGSGetNextEventRecordInternal + 0x112
    (CoreGraphics) CGEventCreateNextEvent + 0x32
    (HIToolbox) PullEventsFromWindowServerOnConnection(unsigned int, unsigned char, __CFMachPortBoost*) + 0x66
    (HIToolbox) MessageHandler(__CFMachPort*, void*, long, void*) + 0x33
    (CoreFoundation) __CFMachPortPerform + 0xf7
    (CoreFoundation) __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 0x29
    (CoreFoundation) __CFRunLoopDoSource1 + 0x1db
    (CoreFoundation) __CFRunLoopRun + 0x947
    (CoreFoundation) CFRunLoopRunSpecific + 0x128
    (AppKit) _NSEventThread + 0x89
    (libsystem_pthread.dylib) _pthread_body + 0x83
    (libsystem_pthread.dylib) _pthread_body + 0x0
    (libsystem_pthread.dylib) thread_start + 0xd</pre></div><div class="change-set" id="c76"><div class="comment" data-id="9561138" data-no="76"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-76" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-76"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-76" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c76">Comment 76</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 08:47 PST" data-time="1415378842">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-76">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-76" data-comment-id="9561138">So, Kamil, it looks like you didn't see calls to CGSEventLoggingStart() and CGSEventLoggingStop().  If so, that's *very* peculiar.  In fact I don't currently know how to explain it.

Please double-check to make sure you were using my rev2 interpose library.  In fact I'd suggest rebooting your computer before testing again.</pre></div><div class="change-set" id="c77"><div class="comment" data-id="9561213" data-no="77"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-77" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-77"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-77" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c77">Comment 77</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 09:00 PST" data-time="1415379618">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-77">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-77" data-comment-id="9561213">About WindowServer events being processed on a secondary thread:

I think I now understand this (at least partly).  And I'm reasonably confident it's unrelated to this bug.  But it's also *very* peculiar.

Since OS X 10.9 (Mavericks), the OS (the AppKit framework) has had the ability to process WindowServer events on a secondary thread, using an _NSEventThread method.  So I'll call this thread the &quot;event thread&quot;.

However, Firefox releases (with bundle id org.mozilla.firefox) are opted out of this by the OS.  So you normally only see the &quot;event thread&quot; when running non-beta nightlies (whose bundle id is different), even on Mavericks and Yosemite.  But if you change a Firefox release's bundle id to something else (I changed FF 33.0.3's bundle id in Info.plist to &quot;org.blah.blah&quot;), now you see an &quot;event thread&quot; when you run it.

Google has a few hits for _NSEventThread, but nothing very interesting, and certainly nothing (that I could find) telling why Apple did this.  What I said above I found out on my own, by trial and error.</pre></div><div class="change-set" id="c78"><div class="comment" data-id="9561265" data-no="78"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-78" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-78"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-78" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c78">Comment 78</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 09:08 PST" data-time="1415380118">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-78">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-78" data-comment-id="9561265">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c72">comment #72</a> and <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c73">comment #73</a>)

<span class="quote">&gt; The breakpoint was hit before the log file was created. Once I
&gt; continued, the log file was created under /tmp.</span >

Glad to hear this.  It confirms that the CoreGraphics framework is
really writing those logs.</pre></div><div class="change-set" id="c79"><div class="comment" data-id="9561276" data-no="79"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-79" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_388264" ><img src="https://secure.gravatar.com/avatar/73072cf44258fa9cb3ae3ed4f47b9939?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_388264" ><a class="email " href="/user_profile?user_id=388264" > <span class="fna">Stefan Arentz | :st3fan | ⏰ EST | he/him</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-79"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-79" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c79">Comment 79</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 09:11 PST" data-time="1415380266">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-79">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-79" data-comment-id="9561276">I also have this log file on my system. I've only used on Firefox 33.0.2 in this Mac. No Nightly. I do run VMWare and iTerm. Happy to help figure out what is going on.</pre></div><div class="change-set" id="c80"><div class="comment" data-id="9561282" data-no="80"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-80" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_388264" ><img src="https://secure.gravatar.com/avatar/73072cf44258fa9cb3ae3ed4f47b9939?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_388264" ><a class="email " href="/user_profile?user_id=388264" > <span class="fna">Stefan Arentz | :st3fan | ⏰ EST | he/him</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-80"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-80" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c80">Comment 80</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 09:11 PST" data-time="1415380311">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-80">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-80" data-comment-id="9561282">(In reply to Stefan Arentz [:st3fan] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c79">comment #79</a>)
<span class="quote">&gt; I also have this log file on my system. I've only used on Firefox 33.0.2 in
&gt; this Mac. No Nightly. I do run VMWare and iTerm. Happy to help figure out
&gt; what is going on.</span >

Clean install of Yosemite 10.10. No previous betas. MacBook Pro 13&quot; Retina.</pre></div><div class="change-set" id="c81"><div class="comment" data-id="9561300" data-no="81"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-81" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-81"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-81" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c81">Comment 81</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 09:15 PST" data-time="1415380536">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-81">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-81" data-comment-id="9561300">Come to think of it, here's another experiment to try:

1) Create a spare copy of Firefox (release or m-c nightly).
2) Run it and confirm that your /tmp/CGLog_Program_PID event logs get created.
3) Quit Firefox, then change its CFBundleID (in Contents/Info.plist) from &quot;org.mozilla.[something]&quot; to &quot;com.blah.blah&quot;.
4) Run this copy from the command line (which you'll need to do since you've invalidated its signature).
5) Wait to see if the event logs still get created.

(Stefan, now that you've joined the club you can try this too.)</pre></div><div class="change-set" id="c82"><div class="comment" data-id="9561312" data-no="82"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-82" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-82"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-82" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c82">Comment 82</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 09:19 PST" data-time="1415380740">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-82">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-82" data-comment-id="9561312">Stefan, please also try my rev2 interpose library (<span class=""><a href="/attachment.cgi?id=8518488" name="attach_8518488" title="Another interpose library for logging">attachment 8518488</a> <a href="/attachment.cgi?id=8518488&amp;action=edit" title="Another interpose library for logging">[details]</a></span>).  Instructions for use are at the top of interpose.mm.</pre></div><div class="change-set" id="c83"><div class="comment" data-id="9561343" data-no="83"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-83" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-83"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-83" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c83">Comment 83</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 09:24 PST" data-time="1415381057">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-83">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-83" data-comment-id="9561343">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c80">comment #80</a>)

<span class="quote">&gt; Clean install of Yosemite 10.10.</span >

You mean that it wasn't an upgrade from a previous OS X release (like 10.9.5)?</pre></div><div class="change-set" id="c84"><div class="comment" data-id="9561360" data-no="84"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-84" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_388264" ><img src="https://secure.gravatar.com/avatar/73072cf44258fa9cb3ae3ed4f47b9939?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_388264" ><a class="email " href="/user_profile?user_id=388264" > <span class="fna">Stefan Arentz | :st3fan | ⏰ EST | he/him</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-84"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-84" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c84">Comment 84</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 09:26 PST" data-time="1415381206">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-84">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-84" data-comment-id="9561360">Two WindowServer related entries in my system logs:

system.log:Nov  7 11:54:44 Defiant.local WindowServer[23780]: disable_update_timeout: UI updates were forcibly disabled by application &quot;Firefox&quot; for over 1.00 seconds. Server has re-enabled them.

system.log:Nov  7 11:54:45 Defiant.local WindowServer[23780]: common_reenable_update: UI updates were finally reenabled by application &quot;Firefox&quot; after 2.65 seconds (server forcibly re-enabled them after 1.00 seconds)

Not sure if relevant.</pre></div><div class="change-set" id="c85"><div class="comment" data-id="9561372" data-no="85"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-85" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_388264" ><img src="https://secure.gravatar.com/avatar/73072cf44258fa9cb3ae3ed4f47b9939?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_388264" ><a class="email " href="/user_profile?user_id=388264" > <span class="fna">Stefan Arentz | :st3fan | ⏰ EST | he/him</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-85"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-85" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c85">Comment 85</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 09:28 PST" data-time="1415381298">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-85">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-85" data-comment-id="9561372">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c83">comment #83</a>)
<span class="quote">&gt; (In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c80">comment #80</a>)
&gt; 
&gt; &gt; Clean install of Yosemite 10.10.
&gt; 
&gt; You mean that it wasn't an upgrade from a previous OS X release (like
&gt; 10.9.5)?</span >

No, sorry. When I bought this machine last week it had 10.9.x on it. I upgraded it to 10.10 via the App Store.

I do have another Mac at home that I did cleanly install from a 10.10 USB Drive. I'll investigate there.

 S.</pre></div><div class="change-set" id="c86"><div class="comment" data-id="9561401" data-no="86"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-86" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-86"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-86" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c86">Comment 86</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 09:35 PST" data-time="1415381705">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-86">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-86" data-comment-id="9561401"><span class="quote">&gt; Not sure if relevant.</span >

Possibly relevant.  I don't have the event logs and I don't have any of these messages.

Kamil and Kent, do you see these?</pre></div><div class="change-set" id="c87"><div class="comment" data-id="9561560" data-no="87"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-87" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_496127" ><img src="https://secure.gravatar.com/avatar/106da6447bb158720110ea58f6a20676?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_496127" ><a class="email " href="/user_profile?user_id=496127" > <span class="fna">Eric Rahm [:erahm]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-87"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-87" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c87">Comment 87</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:09 PST" data-time="1415383765">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-87">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-87" data-comment-id="9561560">I can confirm this as well. I have logs for both Fx Nightly and Thunderbird (which definitely seems to implicate libxul). This was an upgrade from 10.9.(5?) to 10.10.</pre></div><div class="change-set" id="c88"><div class="comment" data-id="9561574" data-no="88"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-88" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_388264" ><img src="https://secure.gravatar.com/avatar/73072cf44258fa9cb3ae3ed4f47b9939?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_388264" ><a class="email " href="/user_profile?user_id=388264" > <span class="fna">Stefan Arentz | :st3fan | ⏰ EST | he/him</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-88"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-88" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c88">Comment 88</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:14 PST" data-time="1415384045">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-88">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-88" data-comment-id="9561574">On my work laptop:

% ls -l CGLog_*
-rw-r--r--&#64; 1 sarentz  wheel   1206926  5 Nov 09:19 CGLog_Firefox_13127
-rw-r--r--&#64; 1 sarentz  wheel   9954818  3 Nov 15:04 CGLog_Firefox_7777
-rw-r--r--  1 sarentz  wheel  33329015  7 Nov 10:27 CGLog_Nightly_16428

I was thinking maybe this is enable by a plugin. But on my other Mac I have nothing installed except for OpenH264 and QuickTime.</pre></div><div class="change-set" id="c89"><div class="comment" data-id="9561599" data-no="89"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-89" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-89"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-89" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c89">Comment 89</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:18 PST" data-time="1415384300">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-89">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-89" data-comment-id="9561599"><span class="quote">&gt; Please double-check to make sure you were using my rev2 interpose library. 
&gt; In fact I'd suggest rebooting your computer before testing again.</span >

- downloaded the rev2 interpose library from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c82">comment # 82</a>
- restarted the machine
- tar xvzf bugzilla1092855-interpose-lib-rev2.tgz
- export DYLD_INSERT_LIBRARIES=/Users/kjozwiak/Downloads/interpose/interpose.dylib
- /Applications/FirefoxNightly.app/Contents/MacOS/firefox

(Fri Nov  7 13:07:53 2014) /Applications/FirefoxNightly.app/Contents/MacOS/firefox[436] print_log_entries()
    (interpose.dylib) PrintStackTrace() + 0xb1
    (interpose.dylib) Hooked_print_log_entries(void*, void*) + 0x52
    (CoreGraphics) (anonymous namespace)::MessageLogger::add_log(std::__1::unique_ptr&lt;(anonymous namespace)::Log, std::__1::default_delete&lt;(anonymous namespace)::Log&gt; &gt;) + 0x262
    (CoreGraphics) CGSEventLogEvent + 0x199
    (CoreGraphics) CGSGetNextEventRecordInternal + 0x112
    (CoreGraphics) CGEventCreateNextEvent + 0x32
    (HIToolbox) PullEventsFromWindowServerOnConnection(unsigned int, unsigned char, __CFMachPortBoost*) + 0x66
    (HIToolbox) MessageHandler(__CFMachPort*, void*, long, void*) + 0x33
    (CoreFoundation) __CFMachPortPerform + 0xf7
    (CoreFoundation) __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 0x29
    (CoreFoundation) __CFRunLoopDoSource1 + 0x1db
    (CoreFoundation) __CFRunLoopRun + 0x947
    (CoreFoundation) CFRunLoopRunSpecific + 0x128
    (AppKit) _NSEventThread + 0x89
    (libsystem_pthread.dylib) _pthread_body + 0x83
    (libsystem_pthread.dylib) _pthread_body + 0x0
    (libsystem_pthread.dylib) thread_start + 0xd

<span class="quote">&gt; Kamil and Kent, do you see these?</span >

Searched through a bunch of my system.log files and couldn't find anything similar to those error messages involving fx.</pre></div><div class="change-set" id="c90"><div class="comment" data-id="9561620" data-no="90"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-90" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-90"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-90" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c90">Comment 90</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:21 PST" data-time="1415384497">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-90">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-90" data-comment-id="9561620">Whoever sees these logs:

What you most urgently need to do is follow my request in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c81">comment #81</a>.

Plugins have already been ruled out above (see <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c69">comment #69</a> and <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c70">comment #70</a>).  So have extensions (since the logs still appear in safe mode).  Kamil has already satisfied me wrt <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c82">comment #82</a>.</pre></div><div class="change-set" id="c91"><div class="comment" data-id="9561635" data-no="91"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-91" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-91"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-91" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c91">Comment 91</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:23 PST" data-time="1415384637">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-91">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-91" data-comment-id="9561635">Kamil and Stefan:

Could you upload your CoreGraphics framework binary somewhere so I could download it?  I suggest using your people.mozilla.com account.  By &quot;CoreGraphics framework binary&quot; I mean this file:

/System/Library/Frameworks/CoreGraphics.framework/CoreGraphics</pre></div><div class="change-set" id="c92"><div class="comment" data-id="9561648" data-no="92"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-92" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_388264" ><img src="https://secure.gravatar.com/avatar/73072cf44258fa9cb3ae3ed4f47b9939?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_388264" ><a class="email " href="/user_profile?user_id=388264" > <span class="fna">Stefan Arentz | :st3fan | ⏰ EST | he/him</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-92"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-92" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c92">Comment 92</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:25 PST" data-time="1415384744">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-92">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-92" data-comment-id="9561648">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c91">comment #91</a>)
<span class="quote">&gt; Kamil and Stefan:
&gt; 
&gt; Could you upload your CoreGraphics framework binary somewhere so I could
&gt; download it?  I suggest using your people.mozilla.com account.  By
&gt; &quot;CoreGraphics framework binary&quot; I mean this file:
&gt; 
&gt; /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics</span >

Before I send it:

% md5 CoreGraphics
MD5 (CoreGraphics) = cc11a2e83d79be27f2b514504798baf4

Let me know if you still need it.

I'm in meetings, can do more later. Will run the interpose lib.</pre></div><div class="change-set" id="c93"><div class="comment" data-id="9561665" data-no="93"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-93" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-93"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-93" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c93">Comment 93</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:29 PST" data-time="1415384994">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-93">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-93" data-comment-id="9561665">(From <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c84">comment #84</a>)

<span class="quote">&gt; Two WindowServer related entries in my system logs:</span >
&gt;
<span class="quote">&gt; system.log:Nov 7 11:54:44 Defiant.local WindowServer[23780]:
&gt; disable_update_timeout: UI updates were forcibly disabled by
&gt; application &quot;Firefox&quot; for over 1.00 seconds. Server has re-enabled
&gt; them.</span >
&gt;
<span class="quote">&gt; system.log:Nov 7 11:54:45 Defiant.local WindowServer[23780]:
&gt; common_reenable_update: UI updates were finally reenabled by
&gt; application &quot;Firefox&quot; after 2.65 seconds (server forcibly re-enabled
&gt; them after 1.00 seconds)</span >
&gt;
<span class="quote">&gt; Not sure if relevant.</span >

(From <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c89">comment #89</a>)

<span class="quote">&gt; Searched through a bunch of my system.log files and couldn't find
&gt; anything similar to those error messages involving fx.</span >

So they're probably not relevant.</pre></div><div class="change-set" id="c94"><div class="comment" data-id="9561683" data-no="94"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-94" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-94"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-94" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c94">Comment 94</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:31 PST" data-time="1415385114">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-94">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-94" data-comment-id="9561683">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c92">comment #92</a> and following up <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c91">comment #91</a>)

<span class="quote">&gt; % md5 CoreGraphics
&gt; MD5 (CoreGraphics) = cc11a2e83d79be27f2b514504798baf4</span >
&gt;
<span class="quote">&gt; Let me know if you still need it.</span >

No, I don't.  Mine has the same hash value.</pre></div><div class="change-set" id="c95"><div class="comment" data-id="9561692" data-no="95"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-95" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-95"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-95" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c95">Comment 95</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:33 PST" data-time="1415385192">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-95">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-95" data-comment-id="9561692">Please, please, please follow my steps in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c81">comment #81</a>.</pre></div><div class="change-set" id="c96"><div class="comment" data-id="9561706" data-no="96"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-96" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-96"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-96" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c96">Comment 96</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:35 PST" data-time="1415385322">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-96">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-96" data-comment-id="9561706">Steven, unfortunately I haven't setup a people.mozilla.com account, used S3 instead:

* <a rel="nofollow" href="https://s3.amazonaws.com/otherDocuments/CoreGraphics">https://s3.amazonaws.com/otherDocuments/CoreGraphics</a>

Appears that mine is the same as Stefan's as per <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c92">comment # 92</a>:

* MD5 (CoreGraphics) = cc11a2e83d79be27f2b514504798baf4</pre></div><div class="change-set" id="c97"><div class="comment" data-id="9561732" data-no="97"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-97" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_388264" ><img src="https://secure.gravatar.com/avatar/73072cf44258fa9cb3ae3ed4f47b9939?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_388264" ><a class="email " href="/user_profile?user_id=388264" > <span class="fna">Stefan Arentz | :st3fan | ⏰ EST | he/him</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-97"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-97" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c97">Comment 97</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 10:41 PST" data-time="1415385689">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-97">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-97" data-comment-id="9561732">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c95">comment #95</a>)
<span class="quote">&gt; Please, please, please follow my steps in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c81">comment #81</a>.</span >

I will. But as a first step, I moved the logs away and restarted Nightly. They are not created immediately.</pre></div><div class="change-set" id="c98"><div class="comment" data-id="9561852" data-no="98"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-98" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_388264" ><img src="https://secure.gravatar.com/avatar/73072cf44258fa9cb3ae3ed4f47b9939?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_388264" ><a class="email " href="/user_profile?user_id=388264" > <span class="fna">Stefan Arentz | :st3fan | ⏰ EST | he/him</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-98"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-98" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c98">Comment 98</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 11:02 PST" data-time="1415386942">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-98">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-98" data-comment-id="9561852">(In reply to Stefan Arentz [:st3fan] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c97">comment #97</a>)
<span class="quote">&gt; (In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c95">comment #95</a>)
&gt; &gt; Please, please, please follow my steps in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c81">comment #81</a>.
&gt; 
&gt; I will. But as a first step, I moved the logs away and restarted Nightly.
&gt; They are not created immediately.</span >

Took about 10 minutes for the logs to be back after restarting Nightly.

Now running a Nightly with modified CFBundleIdentifier. Will report back.</pre></div><div class="change-set" id="c99"><div class="comment" data-id="9561929" data-no="99"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-99" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-99"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-99" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c99">Comment 99</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 11:19 PST" data-time="1415387974">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-99">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-99" data-comment-id="9561929">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c74">comment #74</a>)
<span class="quote">&gt; But what I'd really like both of you to do now is try my latest (rev2) interpose
&gt; library, and leave it running until a log gets written.  It hooks (and logs) the
&gt; same calls as my rev1 interpose library, plus calls to CGSEventLoggingStart() and
&gt; CGSEventLoggingStop().</span >

(Fri Nov  7 09:14:56 2014) /Users/kent/Applications/Firefox.app/Contents/MacOS/firefox[1465] OnAddImage(): print_log_entries_ptr 0x10008a000, CGSLogOpen_ptr 0x10008a020, CGSEventLoggingStop_ptr 0x10008a060, get_shared_logger_ptr 0x7fff8f39c6de
(Fri Nov  7 09:18:42 2014) /Users/kent/Applications/Firefox.app/Contents/MacOS/plugin-container.app/Contents/MacOS/plugin-container[1657] OnAddImage(): print_log_entries_ptr 0x104390000, CGSLogOpen_ptr 0x104390020, CGSEventLoggingStop_ptr 0x104390060, get_shared_logger_ptr 0x7fff8f39c6de
(Fri Nov  7 10:20:53 2014) /Users/kent/Applications/Firefox.app/Contents/MacOS/firefox[1465] print_log_entries()
    (interpose.dylib) PrintStackTrace() + 0xb1
    (interpose.dylib) Hooked_print_log_entries(void*, void*) + 0x52
    (CoreGraphics) (anonymous namespace)::MessageLogger::add_log(std::__1::unique_ptr&lt;(anonymous namespace)::Log, std::__1::default_delete&lt;(anonymous namespace)::Log&gt; &gt;) + 0x260
    (CoreGraphics) CGSEventLogEvent + 0x1a8
    (CoreGraphics) CGSGetNextEventRecordInternal + 0x112
    (CoreGraphics) CGEventCreateNextEvent + 0x30
    (HIToolbox) PullEventsFromWindowServerOnConnection(unsigned int, unsigned char, __CFMachPortBoost*) + 0x66
    (HIToolbox) MessageHandler(__CFMachPort*, void*, long, void*) + 0x33
    (CoreFoundation) __CFMachPortPerform + 0xf7
    (CoreFoundation) __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 0x29
    (CoreFoundation) __CFRunLoopDoSource1 + 0x1db
    (CoreFoundation) __CFRunLoopRun + 0x947
    (CoreFoundation) CFRunLoopRunSpecific + 0x128
    (AppKit) _NSEventThread + 0x89
    (libsystem_pthread.dylib) _pthread_body + 0x83
    (libsystem_pthread.dylib) _pthread_body + 0x0
    (libsystem_pthread.dylib) thread_start + 0xd
(Fri Nov  7 10:23:30 2014) /Users/kent/Applications/Firefox.app/Contents/MacOS/plugin-container.app/Contents/MacOS/plugin-container[5668] OnAddImage(): print_log_entries_ptr 0x104390000, CGSLogOpen_ptr 0x104390020, CGSEventLoggingStop_ptr 0x104390060, get_shared_logger_ptr 0x7fff8f39c6de</pre></div><div class="change-set" id="c100"><div class="comment" data-id="9562000" data-no="100"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-100" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-100"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-100" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c100">Comment 100</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 11:30 PST" data-time="1415388612">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-100">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-100" data-comment-id="9562000">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c95">comment #95</a>)
<span class="quote">&gt; Please, please, please follow my steps in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c81">comment #81</a>.</span >

1) Created a copy of FirefoxNightly.app --&gt; FirefoxNightly1.app
2) Ran fx from the terminal: /Applications/FirefoxNightly1.app/Contents/MacOS/firefox
3) Waited about 20 minutes and the log file was been created
4) Edited: /Applications/FirefoxNightly1.app/Contents/Info.plist and changed the following:

&lt;key&gt;CFBundleIdentifier&lt;/key&gt;
&lt;string&gt;com.blah.blah&lt;/string&gt;

5) Saved the change under /Applications/FirefoxNightly1.app/Contents/Info.plist
6) Ran fx from the terminal: /Applications/FirefoxNightly1.app/Contents/MacOS/firefox
7) Waited between 15-20 minutes and eventually &quot;CGLog_Nightly_1074&quot; was created under /tmp</pre></div><div class="change-set" id="c101"><div class="comment" data-id="9562048" data-no="101"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-101" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-101"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-101" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c101">Comment 101</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 11:39 PST" data-time="1415389148">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-101">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-101" data-comment-id="9562048">Thanks, Kamil!  Stefan just told me on IRC that he got the same result.

Another theory bites the dust :-(

Stefan has a clean install (not an upgrade install) that he's currently testing on.  If he doesn't get any log files I'll start experimenting with upgrade installs myself.  I currently don't have one, but I can make them.</pre></div><div class="change-set" id="c102"><div class="comment" data-id="9562353" data-no="102"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-102" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-102"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-102" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c102">Comment 102</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 12:26 PST" data-time="1415392000">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-102">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-102" data-comment-id="9562353">Stefan now tells me he sees the logs even on his clean install of Yosemite.  So there's probably no benefit to creating my own upgrade installs.

I'm close to being out of leads.  Stefan suggests I &quot;type a lot&quot;, including with the arrow keys, not necessarily in any text field.  Does that ring a bell with others?  Does anyone have more specific suggestions?</pre></div><div class="change-set ca-67806" id="c103"><div class="comment" data-id="9562366" data-no="103"
       data-tags="obsolete">
    
    <table class="layout-table change-head assignee" id="ch-103" style="display:none" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-103"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-103" style="display:none">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c103">Comment 103</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 12:30 PST" data-time="1415392211">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-103">
        <td colspan="2" class="comment-tags"><span class="comment-tag">obsolete</span>
        </td>
      </tr>
    </table>

    
      <table class="layout-table change-head default-collapsed" id="cc-103"
             role="presentation">
      <tr>
        <td class="comment-collapse-reason"
            title="smichaud [7 years ago]">
            Comment hidden (obsolete)
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor iconic" id="ccs-103"
                  aria-label="Expand"
                  aria-expanded="false"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </td>
      </tr>
      </table>
  </div><pre
        class="comment-text  "
        id="ct-103" data-comment-id="9562366" style="display:none">alsdjf;laue;msd/f eorj/lkdnf/leurasdf sefp 'pewjrwjdfkjas;df;owearqwrsflj; oweurowe;fdja;sodiyrl2dlfja;sfl asasfasjflkajs;dlfj;aslfj;lasdkjf;aserc qweurouw'r;la/sldgjf;ase t'qp3o4tuq3urlasndg/lkaj'estra 'w;er;lashdf/lmasdl;fi welrjas;dfjlasjdf;ao;w 'e r;msdfas;lidfg'aslmfalsdhf ;lasdnf lasehr; qwer/lksandfanbds fawelr jalksdfl kjasd; fasldfjaeour'w;lf/lskdh;8yAEojflkadhs;gfoujsel fdmaw;eoiha;lwknef.asjkdhf;laisjdf;las;flkjw;eorijlknf;asihdf;alskdf wiER;O JW/ELRKJ;SLIDHF;LA SKNDF;WIYERPO9UR'LK;LJ;ljljds;toa uerejwr;qiwhr;lkj;wreout[as; efjasldjflashdflaskndf.lkashd;fojawe/rmnsldfhalsdnfaksdflajs

qwurpwuer[mp</pre></div><div class="change-set" id="c104"><div class="comment" data-id="9562371" data-no="104"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-104" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-104"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-104" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c104">Comment 104</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 12:31 PST" data-time="1415392265">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-104">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-104" data-comment-id="9562371">Sorry, that was me &quot;typing a lot&quot; :-)</pre></div><div class="change-set" id="c105"><div class="comment" data-id="9562398" data-no="105"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-105" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_388264" ><img src="https://secure.gravatar.com/avatar/73072cf44258fa9cb3ae3ed4f47b9939?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_388264" ><a class="email " href="/user_profile?user_id=388264" > <span class="fna">Stefan Arentz | :st3fan | ⏰ EST | he/him</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-105"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-105" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c105">Comment 105</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 12:35 PST" data-time="1415392512">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-105">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-105" data-comment-id="9562398">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c102">comment #102</a>)
<span class="quote">&gt; Stefan now tells me he sees the logs even on his clean install of Yosemite. 
&gt; So there's probably no benefit to creating my own upgrade installs.
&gt; 
&gt; I'm close to being out of leads.  Stefan suggests I &quot;type a lot&quot;, including
&gt; with the arrow keys, not necessarily in any text field.  Does that ring a
&gt; bell with others?  Does anyone have more specific suggestions?</span >

I suggested this not to trigger the start of the logging but to trigger what the Log says at the top:

--- flushing event log at 301582.0088838 ---

My suspicion is that for the people who are seeing these files, that the event log starts as soon as you start up Firefox. It is just not flushed to disk until later.

So I suggested to dance on the keyboard simply to generate events that grow the log and eventually trigger the flushing of that log to disk. I'm not suggesting that the key events trigger some bug.</pre></div><div class="change-set" id="c106"><div class="comment" data-id="9562550" data-no="106"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-106" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-106"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-106" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c106">Comment 106</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 13:07 PST" data-time="1415394460">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-106">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-106" data-comment-id="9562550">Is everyone who sees these logs using a laptop?  A MacBook Pro?

If you *are* using a laptop, do you have an external keyboard or mouse (or other kind of input device)?</pre></div><div class="change-set" id="c107"><div class="comment" data-id="9562555" data-no="107"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-107" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-107"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-107" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c107">Comment 107</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 13:09 PST" data-time="1415394542">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-107">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-107" data-comment-id="9562555">And no, my &quot;typing a lot&quot; didn't cause any logs to appear, on my Retina MacBook Pro without any external keyboard or mouse.</pre></div><div class="change-set" id="c108"><div class="comment" data-id="9562679" data-no="108"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-108" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17205" ><img src="https://secure.gravatar.com/avatar/b22732100146e14ae370350237f03f4d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_17205" ><a class="email " href="/user_profile?user_id=17205" > <span class="fna">Kent Howard</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-108"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-108" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c108">Comment 108</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 13:32 PST" data-time="1415395966">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-108">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-108" data-comment-id="9562679">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c106">comment #106</a>)
<span class="quote">&gt; Is everyone who sees these logs using a laptop?  A MacBook Pro?
&gt; 
&gt; If you *are* using a laptop, do you have an external keyboard or mouse (or
&gt; other kind of input device)?</span >

I am using a MacBookPro5,3 and, when home, use it with an external monitor and Apple's Bluetooth keyboard.  Sounds like you are suggesting a test where I disconnect one or both?</pre></div><div class="change-set" id="c109"><div class="comment" data-id="9562779" data-no="109"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-109" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-109"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-109" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c109">Comment 109</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 13:50 PST" data-time="1415397007">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-109">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-109" data-comment-id="9562779">Actually, I can now reproduce enough of the problem to count ... even though I still haven't seen any logs.

I'm seeing calls to the internal CoreGraphics MessageLogger::add_log() method.

Stefan, you were right!  I just hadn't yet logged enough events for them to be logged to disk.

There's still a lot I need to figure out.  But at least I can now do it on my own machine.</pre></div><div class="change-set" id="c110"><div class="comment" data-id="9562940" data-no="110"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-110" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-110"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-110" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c110">Comment 110</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 14:17 PST" data-time="1415398627">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-110">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-110" data-comment-id="9562940">I don't see the calls to MessageLogger::add_log() in either Safari or Chrome.  I'll need to figure out why.</pre></div><div class="change-set" id="c111"><div class="comment" data-id="9562949" data-no="111"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-111" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_388264" ><img src="https://secure.gravatar.com/avatar/73072cf44258fa9cb3ae3ed4f47b9939?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_388264" ><a class="email " href="/user_profile?user_id=388264" > <span class="fna">Stefan Arentz | :st3fan | ⏰ EST | he/him</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-111"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-111" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c111">Comment 111</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 14:18 PST" data-time="1415398706">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-111">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-111" data-comment-id="9562949">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c110">comment #110</a>)
<span class="quote">&gt; I don't see the calls to MessageLogger::add_log() in either Safari or
&gt; Chrome.  I'll need to figure out why.</span >

Would it make sense to make a build that links to the 10.9 or 10.10 SDK and see if that makes a difference?</pre></div><div class="change-set" id="c112"><div class="comment" data-id="9563037" data-no="112"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-112" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" ><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" ><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-112"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-112" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c112">Comment 112</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 14:35 PST" data-time="1415399722">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-112">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-112" data-comment-id="9563037">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c106">comment #106</a>)
<span class="quote">&gt; Is everyone who sees these logs using a laptop?  A MacBook Pro?
&gt; 
&gt; If you *are* using a laptop, do you have an external keyboard or mouse (or
&gt; other kind of input device)?</span >

I'm using MacBookPro11,3 and only use the external apple mouse. Never used an external monitor/keyboard.</pre></div><div class="change-set" id="c113"><div class="comment" data-id="9563126" data-no="113"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-113" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-113"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-113" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c113">Comment 113</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 14:54 PST" data-time="1415400877">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-113">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-113" data-comment-id="9563126"><span class="quote">&gt; Would it make sense to make a build that links to the 10.9 or 10.10
&gt; SDK and see if that makes a difference?</span >

It might.

But we can't do that for release builds.  And I've got a very simple
&quot;fix&quot; in mind, which I'm about to try.</pre></div><div class="change-set" id="c114"><div class="comment" data-id="9563208" data-no="114"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-114" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-114"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-114" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c114">Comment 114</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 15:20 PST" data-time="1415402426">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-114">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-114" data-comment-id="9563208">That simple fix didn't work, but I'll keep looking for one.</pre></div><div class="change-set" id="c115"><div class="comment" data-id="9563446" data-no="115"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-115" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-115"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-115" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c115">Comment 115</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 16:19 PST" data-time="1415405986">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-115">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-115" data-comment-id="9563446">I just did some builds with the 10.9 and 10.10 SDKs.  All of them have this bug, so that's not the direction to look for a solution.

All were done on Yosemite, with the latest version for Yosemite of XCode's command line tools.  All were 64-bit opt builds, but otherwise as much like mozilla-central nightlies as possible.  Two used the 10.9 SDK, one with --enable-macos-target=10.6 and one without any macos-target setting.  One used the 10.10 SDK without any macos-target setting.

I'm going to be putting this on the back burner for a while, as I've got lots of other things to do.  But it may be good to come back to this after a break.</pre></div><div class="change-set" id="c116"><div class="comment" data-id="9563451" data-no="116"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-116" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-116"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-116" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c116">Comment 116</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 16:20 PST" data-time="1415406034">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-116">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-116" data-comment-id="9563451">I should mention that I've also started playing with changes to our Info.plist file -- so far without any positive results.</pre></div><div class="change-set" id="c117"><div class="comment" data-id="9563455" data-no="117"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-117" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-117"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-117" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c117">Comment 117</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 16:22 PST" data-time="1415406152">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-117">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-117" data-comment-id="9563455">I'm probably best suited to take this bug.  But I don't mean to stop others working on it.  I'd be very happy to see someone else fix it (or more likely find a workaround for what is probably an Apple bug).</pre><div class="activity"><div class="change">Assignee: nobody &rarr; smichaud</div></div></div><div class="change-set" id="c118"><div class="comment" data-id="9563475" data-no="118"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-118" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-118"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-118" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c118">Comment 118</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 16:29 PST" data-time="1415406549">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-118">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-118" data-comment-id="9563475">Anyone know of a clang/gcc option that guarantees uninitialized memory is always NULLed, even in dynamically linked libraries (like the CoreGraphics framework)?  Or of a linker option that does the same thing?

I think it's quite likely that would fix this bug.</pre></div><div class="change-set" id="c119"><div class="comment" data-id="9563520" data-no="119"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-119" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-119"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-119" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c119">Comment 119</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 16:43 PST" data-time="1415407432">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-119">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-119" data-comment-id="9563520">The whole CoreGraphics logging mechanism changed a lot with the Yosemite release.  The Mavericks implementation is very much like the Mountain Lion one, and very different.  That's probably why we don't see this bug on OS X 10.9.X and earlier.</pre></div><div class="change-set" id="c120"><div class="comment" data-id="9563529" data-no="120"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-120" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-120"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-120" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c120">Comment 120</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 16:46 PST" data-time="1415407594">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-120">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-120" data-comment-id="9563529">Next week I'll open an Apple bug on this.  I don't think it's very likely they'll fix it ... but at least we'll have done our due diligence.</pre></div><div class="change-set" id="c121"><div class="comment" data-id="9563641" data-no="121"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-121" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-121"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-121" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c121">Comment 121</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 17:24 PST" data-time="1415409882">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-121">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8519321"
         class="attachment obsolete"
         data-id="8519321" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="bugzilla1092855-interpose-lib-rev3.tgz">
      <meta itemprop="contentSize" content="8025">
      <meta itemprop="encodingFormat" content="application/x-gzip">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8519321" itemprop="contentUrl">
        <span id="att-8519321-description" itemprop="description">Proof of concept that this bug is caused by unitialized memory in the CoreGraphics framework</span></a> (obsolete)
        — <a href="attachment.cgi?id=8519321&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-121" data-comment-id="9563641">This is *not* a fix.  But I think it shows conclusively that this is an Apple bug.  The bug is that the first byte of the &quot;shared logger&quot; returned by (anonymous namespace)::shared_logger() is uninitialized.  Space is allocated for this object by the &quot;new&quot; operator.  But though many of its fields are initialized to correct values, the first byte isn't.  It's the value of this byte which determines whether logging is on or off (it determines the return value of CGSEventShouldLogEvents()).

Run any version of Firefox or Thunderbird with this interpose library, following the instructions at the top of interpose.mm.  You'll find that the logging stops.

This kind of bug is impossible to fix directly.  But, as Safari, Chrome and Opera aren't effected, I think there's hope that we can find an indirect solution -- a workaround.</pre></div><div class="change-set" id="c122"><div class="comment" data-id="9563782" data-no="122"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-122" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-122"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-122" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c122">Comment 122</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 18:01 PST" data-time="1415412083">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-122">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-122" data-comment-id="9563782">Actually, my &quot;proof&quot; isn't quite so conclusive, after all.

This is a jemalloc bug ... sort of :-(</pre></div><div class="change-set" id="c123"><div class="comment" data-id="9563815" data-no="123"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-123" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-123"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-123" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c123">Comment 123</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 18:20 PST" data-time="1415413226">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-123">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-123" data-comment-id="9563815">If you call (anonymous namespace)::shared_logger() early enough, before jemalloc is initialized (as my interpose library from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c121">comment #121</a> does), the bug doesn't happen.  That's because, without jemalloc, unitialized memory *is* NULLed.  (Note that (anonymous namespace)::shared_logger() creates the shared logger only once, the first time it's called.)

But jemalloc poisons unitialized memory to byte values of 0x5a -- just as it does with freed memory.

This is still an Apple bug.  But the reason only we're effected is that only we use jemalloc.  So this is one bug Apple is almost certainly not going to fix.

I don't quite know where we go from here.  But my brain needs a rest.  Let's pick this up again next week.</pre></div><div class="change-set" id="c124"><div class="comment" data-id="9563834" data-no="124"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-124" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" ><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" ><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-124"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-124" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c124">Comment 124</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 18:35 PST" data-time="1415414109">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-124">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8519352"
         class="attachment"
         data-id="8519352" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="bugzilla1092855-interpose-lib-rev4.tgz">
      <meta itemprop="contentSize" content="8178">
      <meta itemprop="encodingFormat" content="application/x-gzip">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8519352" itemprop="contentUrl">
        <span id="att-8519352-description" itemprop="description">Interpose library that shows this bug happen in Firefox but not elsewhere</span></a>
        — <a href="attachment.cgi?id=8519352&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-124" data-comment-id="9563834">Here's yet another interpose library.

This also *fixes* the bug in Firefox.  But in addition it shows the bug happening in Firefox and not happening in other apps.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8519321&amp;action=edit"
           title="Proof of concept that this bug is caused by unitialized memory in the CoreGraphics framework"
           class=""
        >Attachment #8519321</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a447631_406194"><div class="change" id="aa447631_406194">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_406194" id="a447631_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a447631_406194"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a447631_406194">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a447631_406194">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-07 18:38 PST" data-time="1415414327">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: insecure and unnecessary /tmp/CGLog_Program_PID event logging &rarr; jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10</div></div></div><div class="change-set" id="c125"><div class="comment" data-id="9564182" data-no="125"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-125" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_477892" id="a447631_406194"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_477892" id="a447631_406194"><a class="email " href="/user_profile?user_id=477892" > <span class="fna">(Away)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-125"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-125" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c125">Comment 125</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-08 01:58 PST" data-time="1415440700">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-125">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-125" data-comment-id="9564182">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c123">comment #123</a>)
<span class="quote">&gt; If you call (anonymous namespace)::shared_logger() early enough, before
&gt; jemalloc is initialized (as my interpose library from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c121">comment #121</a> does),
&gt; the bug doesn't happen.  That's because, without jemalloc, unitialized
&gt; memory *is* NULLed.  (Note that (anonymous namespace)::shared_logger()
&gt; creates the shared logger only once, the first time it's called.)
&gt; 
&gt; But jemalloc poisons unitialized memory to byte values of 0x5a -- just as it
&gt; does with freed memory.</span >

Is that right? Last I checked, jemalloc treats uninitialized and freed regions separately -- opt_junk and opt_poison respectively. If opt_junk is enabled, uninitialized memory gets 0xa5 (not 0x5a), but we don't enable opt_junk in release builds.</pre></div><div class="change-set" id="c126"><div class="comment" data-id="9564458" data-no="126"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-126" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a447631_406194"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-126"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-126" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c126">Comment 126</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-08 09:15 PST" data-time="1415466953">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-126">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-126" data-comment-id="9564458">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c125">comment #125</a>)

All I can say is that the uninitialized byte in question is set to 0x5a in both FF 33.0.2 and a recent m-c nightly.  And in both cases zeroing it &quot;fixes&quot; this bug.  Try testing on Yosemite with my rev4 interpose library from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c124">comment #124</a>.  The same byte is always already 0 in other browsers (Safari, Chrome, Opera).  And that byte is 0 even in Firefox if the shared_logger object is allocated before jemalloc is initialized.

So it's almost certainly jemalloc that originally sets this byte to 0x5a, but I'm not sure exactly how this happens.  Possibly it's because the shared_logger object is re-using memory that was originally released by jemalloc, and poisoned at that time to 0x5a.</pre></div><div class="change-set" id="c127"><div class="comment" data-id="9564461" data-no="127"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-127" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a447631_406194"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-127"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-127" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c127">Comment 127</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-08 09:17 PST" data-time="1415467025">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-127">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-127" data-comment-id="9564461">By the way, I've already thought of several ways to work around this bug without changing jemalloc.  I'll try them out on Monday.</pre></div><div class="change-set" id="c128"><div class="comment" data-id="9564843" data-no="128"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-128" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" id="a447631_406194"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-128"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-128" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c128">Comment 128</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-08 19:05 PST" data-time="1415502303">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-128">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-128" data-comment-id="9564843">Steven, would it be useful for me to run the new interpose library from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c124">comment #124</a> and adding the results here?</pre></div><div class="change-set" id="c129"><div class="comment" data-id="9564895" data-no="129"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-129" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a447631_406194"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-129"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-129" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c129">Comment 129</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-08 21:27 PST" data-time="1415510834">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-129">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-129" data-comment-id="9564895">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c128">comment #128</a>)

Go ahead, please do.</pre></div><div class="change-set" id="c130"><div class="comment" data-id="9564906" data-no="130"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-130" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_47192" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/5d5f37905f36ca9989f88861a702cff3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_47192" id="a447631_406194"><a class="email " href="/user_profile?user_id=47192" > <span class="fna">Mike Hommey [:glandium]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-130"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-130" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c130">Comment 130</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-08 21:44 PST" data-time="1415511878">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-130">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-130" data-comment-id="9564906">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c126">comment #126</a>)
<span class="quote">&gt; So it's almost certainly jemalloc that originally sets this byte to 0x5a,
&gt; but I'm not sure exactly how this happens.</span >

Likely sequence is that something frees a buffer, which jemalloc then poisons with 0x5a, and shared_logger allocates a new block and jemalloc gives that previously freed buffer.</pre></div><div class="change-set" id="c131"><div class="comment" data-id="9564909" data-no="131"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-131" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_47192" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/5d5f37905f36ca9989f88861a702cff3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_47192" id="a447631_406194"><a class="email " href="/user_profile?user_id=47192" > <span class="fna">Mike Hommey [:glandium]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-131"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-131" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c131">Comment 131</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-08 21:47 PST" data-time="1415512077">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-131">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-131" data-comment-id="9564909">IOW, it's a straightforward use of uninitialized memory, and it makes visible problems depending on what particular part of memory is given out by the allocator.</pre></div><div class="change-set ca-455785" id="c132"><div class="comment" data-id="9565621" data-no="132"
       data-tags="spam">
    
    <table class="layout-table change-head " id="ch-132" style="display:none" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" id="a447631_406194"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-132"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-132" style="display:none">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c132">Comment 132</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-09 16:22 PST" data-time="1415578968">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-132">
        <td colspan="2" class="comment-tags"><span class="comment-tag">spam</span>
        </td>
      </tr>
    </table>

    
      <table class="layout-table change-head default-collapsed" id="cc-132"
             role="presentation">
      <tr>
        <td class="comment-collapse-reason"
            title="kjozwiak [7 years ago]">
            Comment hidden (spam)
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor iconic" id="ccs-132"
                  aria-label="Expand"
                  aria-expanded="false"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </td>
      </tr>
      </table>
  </div><pre
        class="comment-text  "
        id="ct-132" data-comment-id="9565621" style="display:none">daskjdkasjjdsajdsajdsajasjddjsakdsajkdslajkldljskjlsdajkadsdjksajadksljkdsajkdsakjdsajklsdajksadjksdjkajkdsaklsajdkfjfiowj</pre></div><div class="change-set" id="c133"><div class="comment" data-id="9565622" data-no="133"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-133" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" id="a447631_406194"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-133"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-133" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c133">Comment 133</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-09 16:24 PST" data-time="1415579044">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-133">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-133" data-comment-id="9565622">apologies for the spam not sure what happened there..!</pre></div><div class="change-set" id="c134"><div class="comment" data-id="9571475" data-no="134"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-134" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a447631_406194"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-134"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-134" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c134">Comment 134</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-10 18:16 PST" data-time="1415672198">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-134">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8520346"
         class="attachment patch obsolete"
         data-id="8520346" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="bugzilla1092855-patch.txt">
      <meta itemprop="contentSize" content="2073">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8520346">
          <a class="link" href="attachment.cgi?id=8520346&amp;action=diff">
        <span id="att-8520346-description" itemprop="description">Fix</span></a> (obsolete)
        — <a href="attachment.cgi?id=8520346&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1092855&attachment=8520346">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-134" data-comment-id="9571475">Here's a patch that works around this bug in my tests.

I've started a set of tryserver builds:
<a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=d5a856f318b8">https://tbpl.mozilla.org/?tree=Try&amp;rev=d5a856f318b8</a>

I'll wait to ask for review until I hear testing results from the people who reported this bug.

It was going to be difficult or impossible to create the shared_logger object before jemalloc is initialized.  But it turns out there's an easy way to use CGSSetDebugOptions() to explicitly turn CGEvent logging off (or on, for that matter).</pre></div><div class="change-set" id="c135"><div class="comment" data-id="9571759" data-no="135"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-135" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a447631_406194"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-135"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-135" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c135">Comment 135</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-10 20:23 PST" data-time="1415679800">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-135">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-135" data-comment-id="9571759">Here's a tryserver build made with my patch from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c134">comment #134</a>:
<a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/smichaud&#64;pobox.com-d5a856f318b8/try-macosx64/firefox-36.0a1.en-US.mac.dmg">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/smichaud&#64;pobox.com-d5a856f318b8/try-macosx64/firefox-36.0a1.en-US.mac.dmg</a>

Please try it out!</pre></div><div class="change-set" id="c136"><div class="comment" data-id="9571809" data-no="136"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-136" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a447631_406194"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a447631_406194"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-136"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-136" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c136">Comment 136</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-10 20:47 PST" data-time="1415681253">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-136">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-136" data-comment-id="9571809">I've tried it out myself, and found that CGEvents can still get logged by the plugin process (in non-e10s mode).  So I'll need to add something to my patch to prevent this.  New patch coming up tomorrow.</pre></div><div class="change-set" id="a764800_152868"><div class="change" id="aa764800_152868">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_152868" id="a764800_152868"><img src="https://secure.gravatar.com/avatar/d306c2d94128ba9f5f1830321f99e9c2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_152868" id="a764800_152868"><a class="email " href="/user_profile?user_id=152868" > <span class="fna">David Bolter [:davidb] (NeedInfo me for attention)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a764800_152868"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a764800_152868">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a764800_152868">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 10:44 PST" data-time="1415731496">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a></div></div></div><div class="change-set" id="c137"><div class="comment" data-id="9574974" data-no="137"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-137" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a764800_152868"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" id="a764800_152868"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-137"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-137" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c137">Comment 137</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 10:55 PST" data-time="1415732100">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-137">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-137" data-comment-id="9574974">Steven, I ran the new interpose library from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c124">comment #124</a> for a few hours and didn't see the log file being created under /tmp. Usually the file would have been created by now. Log entries:

* (Tue Nov 11 12:43:32 2014) /Applications/FirefoxNightly.app/Contents/MacOS/plugin-container.app/Contents/MacOS/plugin-container[854] shared_logger(): returning 0x10ce9c4c0, changed first byte from '0x5a' to '0'

* (Tue Nov 11 13:07:50 2014) /Applications/FirefoxNightly.app/Contents/MacOS/plugin-container.app/Contents/MacOS/plugin-container[943] shared_logger(): returning 0x108bb15c0, changed first byte from '0x5a' to '0'

* (Tue Nov 11 13:31:44 2014) /Applications/FirefoxNightly.app/Contents/MacOS/plugin-container.app/Contents/MacOS/plugin-container[1033] shared_logger(): returning 0x10c79d880, changed first byte from '0x5a' to '0'</pre><div class="activity"><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a></span></div></div></div><div class="change-set" id="a765437_455785"><div class="change" id="aa765437_455785">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a765437_455785"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_455785" id="a765437_455785"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a765437_455785"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a765437_455785">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a765437_455785">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 10:55 PST" data-time="1415732133">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a></div></div></div><div class="change-set" id="c138"><div class="comment" data-id="9574984" data-no="138"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-138" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a765437_455785"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a765437_455785"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-138"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-138" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c138">Comment 138</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 10:56 PST" data-time="1415732178">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-138">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8520784"
         class="attachment patch"
         data-id="8520784" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="bugzilla1092855-patch-rev1.txt">
      <meta itemprop="contentSize" content="4303">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8520784">
          <a class="link" href="attachment.cgi?id=8520784&amp;action=diff">
        <span id="att-8520784-description" itemprop="description">Fix rev1</span></a>
        — <a href="attachment.cgi?id=8520784&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1092855&attachment=8520784">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-138" data-comment-id="9574984">Here's another patch, which fixes the problem I mentioned in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c136">comment #136</a> (which by the way happened when you opened a context menu above a Flash movie).

I've started another run of tryserver builds:
<a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=91afa580c4c6">https://tbpl.mozilla.org/?tree=Try&amp;rev=91afa580c4c6</a></pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8520346&amp;action=edit"
           title="Fix"
           class=""
        >Attachment #8520346</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c139"><div class="comment" data-id="9574998" data-no="139"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-139" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a765437_455785"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a765437_455785"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-139"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-139" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c139">Comment 139</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 10:59 PST" data-time="1415732352">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-139">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-139" data-comment-id="9574998"><span class="quote">&gt; Keywords: sec-high</span >

Though the creator of these log files (the CoreGraphics framework) is definitely not malicious, I agree with this.  The problem is that, unless we can work around this problem quickly, other, truly malicious apps may be written to take advantage of the presence of this bug's log files.</pre></div><div class="change-set" id="c140"><div class="comment" data-id="9575043" data-no="140"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-140" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a765437_455785"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a765437_455785"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-140"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-140" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c140">Comment 140</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 11:04 PST" data-time="1415732668">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-140">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-140" data-comment-id="9575043">Yeah, it doesn't quite fit in with our classification of sec-high, given that it requires code running on your machine locally already, but the severity of the information leaked made it feel like more than a sec-moderate.</pre></div><div class="change-set" id="c141"><div class="comment" data-id="9575460" data-no="141"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-141" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a765437_455785"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a765437_455785"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-141"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-141" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c141">Comment 141</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 12:16 PST" data-time="1415736961">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-141">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-141" data-comment-id="9575460">Here's a tryserver build made from my rev1 patch in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c138">comment #138</a>:
<a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/smichaud&#64;pobox.com-91afa580c4c6/try-macosx64/firefox-36.0a1.en-US.mac.dmg">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/smichaud&#64;pobox.com-91afa580c4c6/try-macosx64/firefox-36.0a1.en-US.mac.dmg</a>

Please try it out!

Especially you, Kamil :-)</pre></div><div class="change-set" id="a770659_67806"><div class="change" id="aa770659_67806">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a770659_67806"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_67806" id="a770659_67806"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a770659_67806"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a770659_67806">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a770659_67806">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 12:22 PST" data-time="1415737355">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8520784&amp;action=edit"
           title="Fix rev1"
           class=""
        >Attachment #8520784</a> -
        Flags: review?(spohl.mozilla.bugs)</div></div></div><div class="change-set" id="a772511_456485"><div class="change" id="aa772511_456485">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_456485" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/24794cf906e308aee53a5173f6f1ed09?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_456485" id="a772511_456485"><a class="email " href="/user_profile?user_id=456485" > <span class="fna">Stephen A Pohl [:spohl]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a772511_456485"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a772511_456485">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a772511_456485">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 12:53 PST" data-time="1415739207">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8520784&amp;action=edit"
           title="Fix rev1"
           class=""
        >Attachment #8520784</a> -
        Flags: review?(spohl.mozilla.bugs) &rarr; review+</div></div></div><div class="change-set" id="c142"><div class="comment" data-id="9575952" data-no="142"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-142" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-142"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-142" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c142">Comment 142</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 13:32 PST" data-time="1415741539">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-142">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-142" data-comment-id="9575952">Comment on <span class=""><a href="/attachment.cgi?id=8520784" name="attach_8520784" title="Fix rev1">attachment 8520784</a> <a href="/attachment.cgi?id=8520784&amp;action=edit" title="Fix rev1">[details]</a> <a href="/attachment.cgi?id=8520784&amp;action=diff" title="Fix rev1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1092855&amp;attachment=8520784'>[review]</a>
Fix rev1

Landed on fx-team:
<a rel="nofollow" href="https://hg.mozilla.org/integration/fx-team/rev/9a33d0207b18">https://hg.mozilla.org/integration/fx-team/rev/9a33d0207b18</a>

I want to let this bake on m-c for a couple of days.  But then I'll request uplift to aurora and beta ... and possibly also release for a possible 33.1.1 release.

Not that I think this bug would justify such a release by itself.  But the bug is serious enough (and easy enough to fix) that I think it could ride along.</pre></div><div class="change-set" id="c143"><div class="comment" data-id="9575980" data-no="143"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-143" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_496127" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/106da6447bb158720110ea58f6a20676?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_496127" id="a772511_456485"><a class="email " href="/user_profile?user_id=496127" > <span class="fna">Eric Rahm [:erahm]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-143"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-143" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c143">Comment 143</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 13:36 PST" data-time="1415741798">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-143">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-143" data-comment-id="9575980">Have you filed a bug w/ Apple about this? Regardless of whether we think they will fix it, they should definitely be made aware of the issue. We're certainly not the only project that uses a custom allocator.</pre><div class="activity"><div class="change">Flags: needinfo?(smichaud)</div></div></div><div class="change-set" id="c144"><div class="comment" data-id="9576003" data-no="144"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-144" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-144"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-144" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c144">Comment 144</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 13:40 PST" data-time="1415742016">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-144">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-144" data-comment-id="9576003"><span class="quote">&gt; Have you filed a bug w/ Apple about this?</span >

Not yet.  I'll do so now.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(smichaud)</span></div></div></div><div class="change-set" id="c145"><div class="comment" data-id="9576084" data-no="145"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-145" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_477892" id="a772511_456485"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_477892" id="a772511_456485"><a class="email " href="/user_profile?user_id=477892" > <span class="fna">(Away)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-145"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-145" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c145">Comment 145</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 13:50 PST" data-time="1415742640">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-145">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-145" data-comment-id="9576084"><span class="quote">&gt; I want to let this bake on m-c for a couple of days.  But then I'll request
&gt; uplift to aurora and beta ... and possibly also release for a possible
&gt; 33.1.1 release.</span ></pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox33&amp;o1=isnotempty">status-firefox33</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox33&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=isnotempty">status-firefox34</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=isnotempty">status-firefox35</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox33&amp;o1=isnotempty">tracking-firefox33</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox33&amp;o1=equals&amp;v1=%3F">?</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox34&amp;o1=isnotempty">tracking-firefox34</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox34&amp;o1=equals&amp;v1=%3F">?</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox35&amp;o1=isnotempty">tracking-firefox35</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox35&amp;o1=equals&amp;v1=%3F">?</a></div></div></div><div class="change-set" id="c146"><div class="comment" data-id="9576108" data-no="146"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-146" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_496127" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/106da6447bb158720110ea58f6a20676?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_496127" id="a772511_456485"><a class="email " href="/user_profile?user_id=496127" > <span class="fna">Eric Rahm [:erahm]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-146"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-146" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c146">Comment 146</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 13:54 PST" data-time="1415742841">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-146">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-146" data-comment-id="9576108">Also FWIW this really isn't a custom allocator issue, there are no guarantees that the memory you get from |malloc| is zeroed on OSX. They're just getting lucky. A super simple example to show the issue:

test.cpp:

#include &quot;stdlib.h&quot;
#include &quot;stdio.h&quot;

int main() {
  char* test = (char*)malloc(100);
  for (size_t i = 0; i &lt; 100; i++) {
    printf(&quot;%x, &quot;, (int)test[i]);
  }
  return 0;
}

clang++ test.cpp &amp;&amp; ./a.out</pre></div><div class="change-set" id="c147"><div class="comment" data-id="9576282" data-no="147"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-147" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-147"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-147" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c147">Comment 147</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 14:15 PST" data-time="1415744131">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-147">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-147" data-comment-id="9576282">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c146">comment #146</a>)

<span class="quote">&gt; Also FWIW this really isn't a custom allocator issue</span >

I'm not so sure.  There may be special linker or compiler options that cause uninitialized memory to be NULLed, unless a custom allocator interferes (the sort of thing I was asking about in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c118">comment #118</a>).  And the uninitialized byte (at the beginning of the shared_logger object) is definitely '0' in all other apps that I tried -- Safari, Chrome and Opera.  It's only non-zero (0x5a) in Mozilla apps.

But in any case the real bug here is that the first byte of the shared_logger object is uninitialized.  That's what I'll report to Apple.</pre></div><div class="change-set" id="c148"><div class="comment" data-id="9576588" data-no="148"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-148" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-148"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-148" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c148">Comment 148</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 15:04 PST" data-time="1415747046">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-148">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-148" data-comment-id="9576588">Here's the bug report I submitted to Apple:

The CoreGraphics framework has long had the capability of logging
CGEvents pulled from the WindowServer.  This is off by default, but
can be turned on using a call to CGSSetDebugOptions(0x80000008).

Starting with Yosemite (OS X 10.10), the CoreGraphics framework uses a
MessageLogger::shared_logger()::shared_instance object to do the
logging.  This object is allocated (and initialized) only once -- the
first time ::shared_logger() is called.  The value of its first byte
is used to determine whether logging is on or not (in calls to
CGSEventShouldLogEvents()) -- if it's zero logging is off, otherwise
logging is on.

The only problem with this is that the first byte of the shared_logger
object is never initialized.  The ::shared_logger() method uses &quot;new&quot;
to allocate memory for the shared_logger object, and initializes many
of its fields.  But it never initializes the first byte.

So if that first byte is non-zero, CGEvent logging is on by default.
This causes two problems:  1) The resulting /tmp/CGLog_app_pid files
can grow quite large, especially if you rarely restart your
computer.  2) And much more seriously, these logs contain entries for
all your keystrokes -- so they could be used by a malicious
third-party app as a key logger.

For most apps this unitialized first byte doesn't cause trouble -- for
example, in Safari, Chrome and Opera it's always '0'.  But it does
cause trouble for Mozilla apps (like Firefox and Thunderbird),
probably because they use a custom memory allocator (jemalloc) that
&quot;poisons&quot; released memory with the byte value 0x5a.  So in Firefox and
Thunderbird (unless we do something about it), the first byte of the
shared_logger object is always '0x5a', and CGEvent logging is always
on (when running on Yosemite).

At Mozilla we've found a workaround for this, which will get into the
next releases of Firefox and Thunderbird.  So we don't need a fix from
Apple.  But there may be other apps that use custom memory allocators,
which are also effected by this bug, and which haven't yet discovered
workarounds.

This bug was originally reported here, where further discussion will
continue:

<a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855">https://bugzilla.mozilla.org/show_bug.cgi?id=1092855</a>

Because this is a security bug, access to it is restricted.  If any
Apple developers wish to see it, they'll need to create accounts at
<a rel="nofollow" href="http://bugzilla.mozilla.org">http://bugzilla.mozilla.org</a>, then contact me (by email).  I'll give
their accounts permission to see the bug.</pre><div class="activity"><div class="change">Whiteboard: rdar://18946701</div></div></div><div class="change-set" id="c149"><div class="comment" data-id="9576904" data-no="149"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-149" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-149"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-149" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c149">Comment 149</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 15:51 PST" data-time="1415749867">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-149">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-149" data-comment-id="9576904">I've opened <a class="bz_bug_link
          bz_status_NEW"
   title="NEW - Consider having jemalloc zero newly allocated memory"
   href="/show_bug.cgi?id=1097340">bug 1097340</a> about having jemalloc zero newly allocated memory.</pre></div><div class="change-set" id="c150"><div class="comment" data-id="9577042" data-no="150"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-150" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-150"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-150" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c150">Comment 150</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 16:17 PST" data-time="1415751439">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-150">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-150" data-comment-id="9577042">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c146">comment #146</a>)

Eric, try rewriting your example using new instead of malloc.

&quot;new&quot; is what's used to allocate the shared_logger object.</pre></div><div class="change-set" id="c151"><div class="comment" data-id="9577094" data-no="151"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-151" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_272375" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/d5497c1ef1eb10029cff0fef1764e7fa?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_272375" id="a772511_456485"><a class="email " href="/user_profile?user_id=272375" > <span class="fna">Lukas Blakk [:lsblakk] use ?needinfo</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-151"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-151" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c151">Comment 151</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 16:29 PST" data-time="1415752171">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-151">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-151" data-comment-id="9577094">Tracking for Aurora &amp; Nightly, we're almost out the door with Beta so it might be too late there, will have to make a case for risk vs. reward here.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=isnotempty">status-firefox36</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox35&amp;o1=isnotempty">tracking-firefox35</a>:
          <a href="/buglist.cgi?f1=cf_tracking_firefox35&amp;o1=equals&amp;v1=%3F">?</a> &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox35&amp;o1=equals&amp;v1=%2B">+</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox36&amp;o1=isnotempty">tracking-firefox36</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox36&amp;o1=equals&amp;v1=%2B">+</a></div></div></div><div class="change-set" id="c152"><div class="comment" data-id="9577131" data-no="152"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-152" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_496127" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/106da6447bb158720110ea58f6a20676?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_496127" id="a772511_456485"><a class="email " href="/user_profile?user_id=496127" > <span class="fna">Eric Rahm [:erahm]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-152"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-152" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c152">Comment 152</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 16:38 PST" data-time="1415752711">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-152">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-152" data-comment-id="9577131">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c150">comment #150</a>)
<span class="quote">&gt; (In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c146">comment #146</a>)
&gt; 
&gt; Eric, try rewriting your example using new instead of malloc.
&gt; 
&gt; &quot;new&quot; is what's used to allocate the shared_logger object.</span >

Same issue w/ new. Simple test:

#include &quot;stdlib.h&quot;
#include &quot;stdio.h&quot;

class Test {
  public:
  int a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z;
};

int main() {
  char* test = new char[100];
  for (size_t i = 0; i &lt; 100; i++) {
    printf(&quot;%d, &quot;, test[i]);
  }
  printf(&quot;\n&quot;);
  Test* t = new Test;
  printf(&quot;%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d\n&quot;,
         t-&gt;a, t-&gt;b, t-&gt;c, t-&gt;d, t-&gt;e, t-&gt;f, t-&gt;g, t-&gt;h, t-&gt;i, t-&gt;j, t-&gt;k, t-&gt;l, t-&gt;m, t-&gt;n, t-&gt;o, t-&gt;p, t-&gt;q, t-&gt;r, t-&gt;s, t-&gt;t, t-&gt;u, t-&gt;v, t-&gt;w, t-&gt;x, t-&gt;y, t-&gt;z);
}</pre></div><div class="change-set" id="c153"><div class="comment" data-id="9577438" data-no="153"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-153" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_47192" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/5d5f37905f36ca9989f88861a702cff3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_47192" id="a772511_456485"><a class="email " href="/user_profile?user_id=47192" > <span class="fna">Mike Hommey [:glandium]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-153"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-153" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c153">Comment 153</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 17:57 PST" data-time="1415757434">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-153">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-153" data-comment-id="9577438">And that's why one needs to do new Test() instead of new Test;</pre></div><div class="change-set" id="c154"><div class="comment" data-id="9577470" data-no="154"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-154" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_308534" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/bb55b2a8c34fd29f570ca139f13d46b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_308534" id="a772511_456485"><a class="email " href="/user_profile?user_id=308534" > <span class="fna">Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-154"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-154" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c154">Comment 154</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 18:06 PST" data-time="1415757971">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-154">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-154" data-comment-id="9577470"><a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/9a33d0207b18">https://hg.mozilla.org/mozilla-central/rev/9a33d0207b18</a></pre><div class="activity"><div class="change">Status: NEW &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2014-11-11 18:06 PST" data-time="1415757971">7 years ago</span></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=isnotempty">status-firefox36</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=equals&amp;v1=fixed">fixed</a></div><div class="change">Resolution: --- &rarr; FIXED</div><div class="change">Target Milestone: --- &rarr; mozilla36</div></div></div><div class="change-set" id="c155"><div class="comment" data-id="9577554" data-no="155"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-155" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-155"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-155" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c155">Comment 155</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 18:30 PST" data-time="1415759452">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-155">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-155" data-comment-id="9577554">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c146">comment #146</a> and <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c152">comment #152</a>)

Eric, where did you run your tests, and which clang did you use?

I just ran them both on OS X 10.8.5, using Apple's clang for that OS (from XCode's command line tools), and I got all '0's.  On Yosemite, though, I saw some non-zero values with both tests (with Apple's clang from the latest XCode command line tools for Yosemite).

So whether uninitialized memory is zeroed may depend on which version of clang you're using, or perhaps even on which version of OS X you compile on (or run on).  But there are definitely some cases of it, and we're definitely seeing one with this bug.

Apple's clang for OS X 10.8.5:

$ clang -v
Apple LLVM version 5.1 (clang-503.0.40) (based on LLVM 3.4svn)
Target: x86_64-apple-darwin12.5.0
Thread model: posix

Apple's clang for OS X 10.10:

clang -v
Apple LLVM version 6.0 (clang-600.0.54) (based on LLVM 3.5svn)
Target: x86_64-apple-darwin14.0.0
Thread model: posix</pre></div><div class="change-set" id="c156"><div class="comment" data-id="9577559" data-no="156"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-156" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_47192" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/5d5f37905f36ca9989f88861a702cff3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_47192" id="a772511_456485"><a class="email " href="/user_profile?user_id=47192" > <span class="fna">Mike Hommey [:glandium]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-156"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-156" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c156">Comment 156</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 18:32 PST" data-time="1415759529">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-156">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-156" data-comment-id="9577559">Comment on <span class=""><a href="/attachment.cgi?id=8520784" name="attach_8520784" title="Fix rev1">attachment 8520784</a> <a href="/attachment.cgi?id=8520784&amp;action=edit" title="Fix rev1">[details]</a> <a href="/attachment.cgi?id=8520784&amp;action=diff" title="Fix rev1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1092855&amp;attachment=8520784'>[review]</a>
Fix rev1

Review of <span class=""><a href="/attachment.cgi?id=8520784" name="attach_8520784" title="Fix rev1">attachment 8520784</a> <a href="/attachment.cgi?id=8520784&amp;action=edit" title="Fix rev1">[details]</a> <a href="/attachment.cgi?id=8520784&amp;action=diff" title="Fix rev1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1092855&amp;attachment=8520784'>[review]</a>:
-----------------------------------------------------------------

::: dom/plugins/ipc/PluginProcessChild.cpp
&#64;&#64; +136,5 &#64;&#64;
<span class="quote">&gt; +      // causes those events to be written to disk.  But at this point no
&gt; +      // CGEvents have yet been processed.  CGEvents are events (usually
&gt; +      // input events) pulled from the WindowServer.  An option of 0x80000008
&gt; +      // turns on CGEvent logging.
&gt; +      CGSSetDebugOptions(0x80000007);</span >

If the 0x8 in 0x80000008 is the bit that enables logging, then while 0x80000007 flips that bit, it also flips 3 other bits, which may or may not have other meanings.

I guess you really want 0x80000000. Or, better, CGGetDebugOptions() &amp; ~0x8 if such a function exists.</pre></div><div class="change-set" id="c157"><div class="comment" data-id="9577573" data-no="157"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-157" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_47192" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/5d5f37905f36ca9989f88861a702cff3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_47192" id="a772511_456485"><a class="email " href="/user_profile?user_id=47192" > <span class="fna">Mike Hommey [:glandium]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-157"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-157" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c157">Comment 157</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 18:37 PST" data-time="1415759867">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-157">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-157" data-comment-id="9577573">This actually suggests 0x80000007 is not much better:
<a rel="nofollow" href="http://pwproject.googlecode.com/svn/trunk/Mac%20OS%20X/Vector%20Grab/CGSDebug.h">http://pwproject.googlecode.com/svn/trunk/Mac%20OS%20X/Vector%20Grab/CGSDebug.h</a></pre></div><div class="change-set" id="c158"><div class="comment" data-id="9577588" data-no="158"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-158" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-158"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-158" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c158">Comment 158</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 18:42 PST" data-time="1415760162">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-158">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-158" data-comment-id="9577588">Mike, that stuff is all wrong.

I went straight to the binary, which I looked at in Hopper Disassembler.  I also did my own tests, of course.</pre></div><div class="change-set" id="c159"><div class="comment" data-id="9577604" data-no="159"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-159" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-159"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-159" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c159">Comment 159</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 18:47 PST" data-time="1415760469">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-159">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-159" data-comment-id="9577604">Also, it's not a bit that's checked.  The entire value is checked, and 0x80000007 results in a call to CGSEventLoggingStop(), while 0x80000008 results in a call to to CGSEventLoggingStart().  The relevant code is in the debug_options_changed() method, if you care to look for yourself.</pre></div><div class="change-set" id="c160"><div class="comment" data-id="9577611" data-no="160"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-160" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-160"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-160" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c160">Comment 160</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 18:51 PST" data-time="1415760673">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-160">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-160" data-comment-id="9577611">Also note that options values &gt;= 0x80000000 aren't stored as debug options (in debug_options_changed()).  Instead they're acted on directly.</pre></div><div class="change-set" id="c161"><div class="comment" data-id="9577645" data-no="161"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-161" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_47192" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/5d5f37905f36ca9989f88861a702cff3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_47192" id="a772511_456485"><a class="email " href="/user_profile?user_id=47192" > <span class="fna">Mike Hommey [:glandium]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-161"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-161" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c161">Comment 161</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 19:05 PST" data-time="1415761553">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-161">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-161" data-comment-id="9577645">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c158">comment #158</a>)
<span class="quote">&gt; Mike, that stuff is all wrong.
&gt; 
&gt; I went straight to the binary, which I looked at in Hopper Disassembler.  I
&gt; also did my own tests, of course.</span >

Did you check older versions? Because Google suggests there are things using those headers that do rely on 0x80000007 enabling the logging...</pre></div><div class="change-set" id="c162"><div class="comment" data-id="9577648" data-no="162"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-162" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_47192" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/5d5f37905f36ca9989f88861a702cff3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_47192" id="a772511_456485"><a class="email " href="/user_profile?user_id=47192" > <span class="fna">Mike Hommey [:glandium]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-162"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-162" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c162">Comment 162</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 19:07 PST" data-time="1415761665">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-162">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-162" data-comment-id="9577648">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c155">comment #155</a>)
<span class="quote">&gt; So whether uninitialized memory is zeroed may depend on which version of
&gt; clang you're using, or perhaps even on which version of OS X you compile on
&gt; (or run on).  But there are definitely some cases of it, and we're
&gt; definitely seeing one with this bug.</span >

No, it should only depend on runtime. It would probably be more obvious if the test program did some allocations and filled them first, then freed them, and allocated some more without initialization. That would raise the probability of picking one of the previous initialized allocations.</pre></div><div class="change-set" id="c163"><div class="comment" data-id="9577659" data-no="163"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-163" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-163"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-163" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c163">Comment 163</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 19:10 PST" data-time="1415761840">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-163">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-163" data-comment-id="9577659">Here's a definition for debug_options_changed():

void debug_options_changed(uint32_t notificationType, void *data, unsigned long dataLength, void *userData);

It's a callback registered by a call to

void CGSRegisterNotifyProc(void *callback, uint32_t notificationType, void *userData);</pre></div><div class="change-set" id="c164"><div class="comment" data-id="9577665" data-no="164"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-164" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-164"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-164" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c164">Comment 164</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 19:12 PST" data-time="1415761966">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-164">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-164" data-comment-id="9577665"><span class="quote">&gt; Did you check older versions?</span >

No, because my fix is only used on Yosemite and up.

But I suspect the stuff you found was always wrong, or at least profoundly misleading.  Note that internal analysis shows it all has the same source (look at the wording and so forth).</pre></div><div class="change-set" id="c165"><div class="comment" data-id="9577765" data-no="165"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-165" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-165"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-165" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c165">Comment 165</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 19:43 PST" data-time="1415763829">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-165">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-165" data-comment-id="9577765">The CoreGraphics framework on Mountain Lion also has a debug_options_changed() method.  Like the one on Yosemite, it acts directly on any &quot;options&quot; &gt;= 0x80000000 (and doesn't store them as true debug options).  And also like on Yosemite, option == 0x80000007 means &quot;stop logging&quot; (and write any existing log contents to disk).  But in addition to option == 0x80000008, there appear to be two additional options that can be used to start logging (0x80000006 and 0x80000009).  These appear to be used for different &quot;log modes&quot;, though I haven't tried to reverse engineer what those modes are.

Use the source, Luke!  And if that's not available use the machine code :-)</pre></div><div class="change-set" id="c166"><div class="comment" data-id="9577818" data-no="166"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-166" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-166"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-166" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c166">Comment 166</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 20:03 PST" data-time="1415765011">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-166">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-166" data-comment-id="9577818">(Following up <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c165">comment #165</a>)

Mavericks (OS X 10.9.X) is like Yosemite.  Lion (OS X 10.7.X) is like Mountain Lion.

The callback method name is debugOptionsChanged() on Lion.</pre></div><div class="change-set" id="c167"><div class="comment" data-id="9577835" data-no="167"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-167" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-167"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-167" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c167">Comment 167</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 20:11 PST" data-time="1415765474">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-167">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-167" data-comment-id="9577835">(Following up <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c166">comment #166</a>)

SnowLeopard (OS X 10.6.X) is like Lion.</pre></div><div class="change-set" id="c168"><div class="comment" data-id="9578115" data-no="168"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-168" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_496127" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/106da6447bb158720110ea58f6a20676?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_496127" id="a772511_456485"><a class="email " href="/user_profile?user_id=496127" > <span class="fna">Eric Rahm [:erahm]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-168"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-168" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c168">Comment 168</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 22:24 PST" data-time="1415773445">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-168">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-168" data-comment-id="9578115">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c155">comment #155</a>)
<span class="quote">&gt; (In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c146">comment #146</a> and <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c152">comment #152</a>)
&gt; 
&gt; Eric, where did you run your tests, and which clang did you use?
&gt; 
&gt; I just ran them both on OS X 10.8.5, using Apple's clang for that OS (from
&gt; XCode's command line tools), and I got all '0's.  On Yosemite, though, I saw
&gt; some non-zero values with both tests (with Apple's clang from the latest
&gt; XCode command line tools for Yosemite).
&gt; 
&gt; So whether uninitialized memory is zeroed may depend on which version of
&gt; clang you're using, or perhaps even on which version of OS X you compile on
&gt; (or run on).  But there are definitely some cases of it, and we're
&gt; definitely seeing one with this bug.
&gt; 
&gt; Apple's clang for OS X 10.8.5:
&gt; 
&gt; $ clang -v
&gt; Apple LLVM version 5.1 (clang-503.0.40) (based on LLVM 3.4svn)
&gt; Target: x86_64-apple-darwin12.5.0
&gt; Thread model: posix
&gt; 
&gt; Apple's clang for OS X 10.10:
&gt; 
&gt; clang -v
&gt; Apple LLVM version 6.0 (clang-600.0.54) (based on LLVM 3.5svn)
&gt; Target: x86_64-apple-darwin14.0.0
&gt; Thread model: posix</span >

I was looking at 10.10:
erahm-25043:tmp ericrahm$ clang++ -v
Apple LLVM version 6.0 (clang-600.0.54) (based on LLVM 3.5svn)
Target: x86_64-apple-darwin14.0.0
Thread model: posix

Mike pointed out that |new Test| is different than |new Test()|, initial results show I am seeing zeroes for the latter. But then doing something like:

  |Test* tests = new Test[10];|

indicates they're not always zero initialized:
<span class="quote">&gt; printing tests[0]
&gt; 0, -536870912, 0, -536870912, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0</span >

So overall I'm not convinced we can say &quot;new always default initializes to zero,&quot; but it does seem like it often does. OTOH, malloc clearly does not, array new on primitives clearly does not, new w/o a default constructor clearly does not, and array new doesn't always seem to do the right thing.</pre></div><div class="change-set" id="c169"><div class="comment" data-id="9578223" data-no="169"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-169" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_47192" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/5d5f37905f36ca9989f88861a702cff3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_47192" id="a772511_456485"><a class="email " href="/user_profile?user_id=47192" > <span class="fna">Mike Hommey [:glandium]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-169"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-169" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c169">Comment 169</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-11 23:14 PST" data-time="1415776472">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-169">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-169" data-comment-id="9578223"><span class="quote">&gt; So overall I'm not convinced we can say &quot;new always default initializes to zero,&quot; but it does seem like it often does.</span >

new does, if you use (). Both for arrays and non arrays:

new Test();
new Test[10]();

vs.

new Test;
new Test[10];

which both don't.

But that's for POD types. There is more.
See <a rel="nofollow" href="http://stackoverflow.com/questions/620137/do-the-parentheses-after-the-type-name-make-a-difference-with-new">http://stackoverflow.com/questions/620137/do-the-parentheses-after-the-type-name-make-a-difference-with-new</a></pre></div><div class="change-set" id="c170"><div class="comment" data-id="9580471" data-no="170"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-170" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_424995" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/44db89c3c0e0ff5a5bff6afac6e68a17?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_424995" id="a772511_456485"><a class="email disabled" href="/user_profile?user_id=424995" > <span class="fna">Lawrence Mandel [:lmandel] (use needinfo)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-170"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-170" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c170">Comment 170</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 08:36 PST" data-time="1415810218">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-170">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-170" data-comment-id="9580471">If we're going to take this fix in Beta it needs to land today/early tomorrow. The fix should be in the latest Nightly build. Kamil, can you verify the fix today?

dveditz - This bug is rated sec-high. How critical is it that we ship a fix in 34?</pre><div class="activity"><div class="change">Flags: needinfo?(kamiljoz)</div><div class="change">Flags: needinfo?(dveditz)</div></div></div><div class="change-set" id="c171"><div class="comment" data-id="9580481" data-no="171"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-171" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_424995" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/44db89c3c0e0ff5a5bff6afac6e68a17?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_424995" id="a772511_456485"><a class="email disabled" href="/user_profile?user_id=424995" > <span class="fna">Lawrence Mandel [:lmandel] (use needinfo)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-171"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-171" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c171">Comment 171</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 08:38 PST" data-time="1415810282">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-171">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-171" data-comment-id="9580481">Tracking 34 but this doesn't mean we're necessarily going to take the fix in 34. Not tracking 33 as this isn't rated highly enough to warrant a chemspill.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox33&amp;o1=isnotempty">status-firefox33</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox33&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox33&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox33&amp;o1=isnotempty">tracking-firefox33</a>:
          <a href="/buglist.cgi?f1=cf_tracking_firefox33&amp;o1=equals&amp;v1=%3F">?</a> &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox33&amp;o1=equals&amp;v1=-">-</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox34&amp;o1=isnotempty">tracking-firefox34</a>:
          <a href="/buglist.cgi?f1=cf_tracking_firefox34&amp;o1=equals&amp;v1=%3F">?</a> &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox34&amp;o1=equals&amp;v1=%2B">+</a></div></div></div><div class="change-set" id="c172"><div class="comment" data-id="9580755" data-no="172"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-172" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-172"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-172" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c172">Comment 172</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 09:22 PST" data-time="1415812932">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-172">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-172" data-comment-id="9580755">Comment on <span class=""><a href="/attachment.cgi?id=8520784" name="attach_8520784" title="Fix rev1">attachment 8520784</a> <a href="/attachment.cgi?id=8520784&amp;action=edit" title="Fix rev1">[details]</a> <a href="/attachment.cgi?id=8520784&amp;action=diff" title="Fix rev1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1092855&amp;attachment=8520784'>[review]</a>
Fix rev1

I think this bug is serious enough to want to get it fixed in our next release -- FF 34.  A separate, third-party app would be needed to turn this bug's logs into a keylogger.  But the /tmp directory is world-readable, so I suspect it wouldn't be hard to create such an app.  And this bug is serious even without the keylogger aspect:  The logs can get *huge* over a few days.

Approval Request Comment
[Feature/regressing bug #]: Apple bug on Yosemite
[User impact if declined]: All Yosemite users exposed to seriously increased usage of hard disk space and possibly very serious security problem.
[Describe test coverage new/current, TBPL]: My own manual tests, soon followed by Kamils's. Baked on m-c for a day with no reported problems.
[Risks and why]: Low risk.  My patch uses an undocumented API, which though poorly understood by others is well-understood (and tested) by me.  Also the patch is only exercised on Yosemite and up.
[String/UUID change made/needed]: None</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8520784&amp;action=edit"
           title="Fix rev1"
           class=""
        >Attachment #8520784</a> -
        Flags: approval-mozilla-beta?</div><div class="change">
        <a href="/attachment.cgi?id=8520784&amp;action=edit"
           title="Fix rev1"
           class=""
        >Attachment #8520784</a> -
        Flags: approval-mozilla-aurora?</div></div></div><div class="change-set" id="c173"><div class="comment" data-id="9580877" data-no="173"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-173" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a772511_456485"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-173"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-173" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c173">Comment 173</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 09:45 PST" data-time="1415814347">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-173">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-173" data-comment-id="9580877">Another aspect of this that makes it so we want to fix this quickly is that it is very discoverable: anybody who uses Firefox on OSX Yosemite for a little while and looks in their /tmp/ directory can see this log, which is obviously from Firefox and is obviously logging keystrokes.</pre></div><div class="change-set" id="c174"><div class="comment" data-id="9581919" data-no="174"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-174" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" id="a772511_456485"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-174"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-174" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c174">Comment 174</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 12:46 PST" data-time="1415825205">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-174">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-174" data-comment-id="9581919">I ran the try build from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c141">comment # 141</a> for a few hours yesterday (4-5hrs) and didn't see the log file being created. I also ran today's Nightly build for about 3hrs and didn't see the log under /tmp/. With the older Nightly builds, I usually received the log file within 15 minutes of using fx.

I also opened several context menu's above/below and to the side of flash video's and made sure that the log file wasn't being created as per <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c136">comment # 136</a> &amp; <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c138">comment # 138</a>.

Builds Used:

* <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/smichaud&#64;pobox.com-91afa580c4c6/try-macosx64/firefox-36.0a1.en-US.mac.dmg">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/smichaud&#64;pobox.com-91afa580c4c6/try-macosx64/firefox-36.0a1.en-US.mac.dmg</a>
* <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2014-11-12-03-02-02-mozilla-central/">http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2014-11-12-03-02-02-mozilla-central/</a></pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=isnotempty">status-firefox36</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=equals&amp;v1=verified">verified</a></div><div class="change">Flags: <span class="activity-deleted">needinfo?(kamiljoz)</span></div></div></div><div class="change-set" id="c175"><div class="comment" data-id="9582200" data-no="175"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-175" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_272375" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/d5497c1ef1eb10029cff0fef1764e7fa?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_272375" id="a772511_456485"><a class="email " href="/user_profile?user_id=272375" > <span class="fna">Lukas Blakk [:lsblakk] use ?needinfo</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-175"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-175" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c175">Comment 175</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 13:25 PST" data-time="1415827537">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-175">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-175" data-comment-id="9582200">Comment on <span class=""><a href="/attachment.cgi?id=8520784" name="attach_8520784" title="Fix rev1">attachment 8520784</a> <a href="/attachment.cgi?id=8520784&amp;action=edit" title="Fix rev1">[details]</a> <a href="/attachment.cgi?id=8520784&amp;action=diff" title="Fix rev1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1092855&amp;attachment=8520784'>[review]</a>
Fix rev1

Also approving for Beta because of the sec level and discoverability.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8520784&amp;action=edit"
           title="Fix rev1"
           class=""
        >Attachment #8520784</a> -
        Flags: <span class="activity-deleted">approval-mozilla-beta?</span></div><div class="change">
        <a href="/attachment.cgi?id=8520784&amp;action=edit"
           title="Fix rev1"
           class=""
        >Attachment #8520784</a> -
        Flags: approval-mozilla-beta+</div><div class="change">
        <a href="/attachment.cgi?id=8520784&amp;action=edit"
           title="Fix rev1"
           class=""
        >Attachment #8520784</a> -
        Flags: <span class="activity-deleted">approval-mozilla-aurora?</span></div><div class="change">
        <a href="/attachment.cgi?id=8520784&amp;action=edit"
           title="Fix rev1"
           class=""
        >Attachment #8520784</a> -
        Flags: approval-mozilla-aurora+</div></div></div><div class="change-set" id="c176"><div class="comment" data-id="9582560" data-no="176"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-176" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_75935" id="a772511_456485"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-176"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-176" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c176">Comment 176</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 14:23 PST" data-time="1415831030">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-176">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-176" data-comment-id="9582560"><a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-aurora/rev/c1bc586965ac">https://hg.mozilla.org/releases/mozilla-aurora/rev/c1bc586965ac</a>
<a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-beta/rev/4bdf71e69d10">https://hg.mozilla.org/releases/mozilla-beta/rev/4bdf71e69d10</a>

Does this need to land on esr31?</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=isnotempty">status-firefox34</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=equals&amp;v1=fixed">fixed</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=isnotempty">status-firefox35</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=fixed">fixed</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=isnotempty">status-firefox-esr31</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=equals&amp;v1=%3F">?</a></div><div class="change">Flags: needinfo?(smichaud)</div></div></div><div class="change-set" id="c177"><div class="comment" data-id="9582587" data-no="177"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-177" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-177"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-177" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c177">Comment 177</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 14:29 PST" data-time="1415831386">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-177">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-177" data-comment-id="9582587"><span class="quote">&gt; Does this need to land on esr31?</span >

Esr31 is definitely effected, so I suppose it does.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=isnotempty">status-firefox-esr31</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=equals&amp;v1=%3F">?</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">Flags: <span class="activity-deleted">needinfo?(smichaud)</span></div></div></div><div class="change-set" id="c178"><div class="comment" data-id="9582618" data-no="178"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-178" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a772511_456485"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a772511_456485"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-178"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-178" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c178">Comment 178</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 14:34 PST" data-time="1415831696">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-178">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-178" data-comment-id="9582618">Comment on <span class=""><a href="/attachment.cgi?id=8520784" name="attach_8520784" title="Fix rev1">attachment 8520784</a> <a href="/attachment.cgi?id=8520784&amp;action=edit" title="Fix rev1">[details]</a> <a href="/attachment.cgi?id=8520784&amp;action=diff" title="Fix rev1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1092855&amp;attachment=8520784'>[review]</a>
Fix rev1

[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration:
User impact if declined: All Yosemite users exposed to seriously increased usage of hard disk space and easily discoverable security problem.
Fix Landed on Version: 36
Risk to taking this patch (and alternatives if risky): Low risk
String or UUID changes made by this patch: None

See <a rel="nofollow" href="https://wiki.mozilla.org/Release_Management/ESR_Landing_Process">https://wiki.mozilla.org/Release_Management/ESR_Landing_Process</a> for more info.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8520784&amp;action=edit"
           title="Fix rev1"
           class=""
        >Attachment #8520784</a> -
        Flags: approval-mozilla-esr31?</div></div></div><div class="change-set" id="a865097_455785"><div class="change" id="aa865097_455785">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a865097_455785"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_455785" id="a865097_455785"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a865097_455785"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a865097_455785">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a865097_455785">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 14:36 PST" data-time="1415831793">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">QA Contact: kamiljoz</div></div></div><div class="change-set" id="c179"><div class="comment" data-id="9583492" data-no="179"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-179" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_424995" id="a865097_455785"><img src="https://secure.gravatar.com/avatar/44db89c3c0e0ff5a5bff6afac6e68a17?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_424995" id="a865097_455785"><a class="email disabled" href="/user_profile?user_id=424995" > <span class="fna">Lawrence Mandel [:lmandel] (use needinfo)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-179"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-179" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c179">Comment 179</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 17:47 PST" data-time="1415843250">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-179">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-179" data-comment-id="9583492">Comment on <span class=""><a href="/attachment.cgi?id=8520784" name="attach_8520784" title="Fix rev1">attachment 8520784</a> <a href="/attachment.cgi?id=8520784&amp;action=edit" title="Fix rev1">[details]</a> <a href="/attachment.cgi?id=8520784&amp;action=diff" title="Fix rev1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1092855&amp;attachment=8520784'>[review]</a>
Fix rev1

Thanks for keeping us honest Ryan. Let's get this on ESR31 as well.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8520784&amp;action=edit"
           title="Fix rev1"
           class=""
        >Attachment #8520784</a> -
        Flags: approval-mozilla-esr31? &rarr; approval-mozilla-esr31+</div></div></div><div class="change-set" id="c180"><div class="comment" data-id="9583741" data-no="180"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-180" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a865097_455785"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a865097_455785"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-180"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-180" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c180">Comment 180</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 19:10 PST" data-time="1415848219">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-180">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-180" data-comment-id="9583741">Comment on <span class=""><a href="/attachment.cgi?id=8520784" name="attach_8520784" title="Fix rev1">attachment 8520784</a> <a href="/attachment.cgi?id=8520784&amp;action=edit" title="Fix rev1">[details]</a> <a href="/attachment.cgi?id=8520784&amp;action=diff" title="Fix rev1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1092855&amp;attachment=8520784'>[review]</a>
Fix rev1

Landed on mozilla-esr31:
<a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-esr31/rev/526a056da173">https://hg.mozilla.org/releases/mozilla-esr31/rev/526a056da173</a></pre></div><div class="change-set" id="a881546_67806"><div class="change" id="aa881546_67806">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a881546_67806"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_67806" id="a881546_67806"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a881546_67806"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a881546_67806">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a881546_67806">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 19:10 PST" data-time="1415848242">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=isnotempty">status-firefox-esr31</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=equals&amp;v1=fixed">fixed</a></div></div></div><div class="change-set" id="c181"><div class="comment" data-id="9583878" data-no="181"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-181" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a881546_67806"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_75935" id="a881546_67806"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-181"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-181" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c181">Comment 181</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 19:47 PST" data-time="1415850469">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-181">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-181" data-comment-id="9583878">Bustage on esr31:
<a rel="nofollow" href="https://treeherder.mozilla.org/ui/logviewer.html#?job_id=20680&amp;repo=mozilla-esr31">https://treeherder.mozilla.org/ui/logviewer.html#?job_id=20680&amp;repo=mozilla-esr31</a></pre><div class="activity"><div class="change">Flags: needinfo?(smichaud)</div></div></div><div class="change-set" id="c182"><div class="comment" data-id="9583940" data-no="182"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-182" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a881546_67806"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a881546_67806"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-182"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-182" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c182">Comment 182</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-12 20:18 PST" data-time="1415852304">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-182">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-182" data-comment-id="9583940">Comment on <span class=""><a href="/attachment.cgi?id=8520784" name="attach_8520784" title="Fix rev1">attachment 8520784</a> <a href="/attachment.cgi?id=8520784&amp;action=edit" title="Fix rev1">[details]</a> <a href="/attachment.cgi?id=8520784&amp;action=diff" title="Fix rev1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1092855&amp;attachment=8520784'>[review]</a>
Fix rev1

I backed this out for bustage:
<a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-esr31/rev/c8b40bcdf571">https://hg.mozilla.org/releases/mozilla-esr31/rev/c8b40bcdf571</a>

I'll deal with it tomorrow.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(smichaud)</span></div></div></div><div class="change-set" id="c183"><div class="comment" data-id="9586871" data-no="183"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-183" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a881546_67806"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a881546_67806"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-183"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-183" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c183">Comment 183</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-13 09:54 PST" data-time="1415901291">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-183">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8522345"
         class="attachment patch"
         data-id="8522345" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="bugzilla1092855-patch-esr31-rev1.txt">
      <meta itemprop="contentSize" content="6545">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8522345">
          <a class="link" href="attachment.cgi?id=8522345&amp;action=diff">
        <span id="att-8522345-description" itemprop="description">Patch for esr31</span></a>
        — <a href="attachment.cgi?id=8522345&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1092855&attachment=8522345">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-183" data-comment-id="9586871">Backported support for calls to nsCocoaFeatures::OnYosemiteOrLater().  Carrying forward r+.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8522345&amp;action=edit"
           title="Patch for esr31"
           class=""
        >Attachment #8522345</a> -
        Flags: review+</div></div></div><div class="change-set" id="c184"><div class="comment" data-id="9586881" data-no="184"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-184" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a881546_67806"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a881546_67806"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-184"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-184" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c184">Comment 184</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-13 09:55 PST" data-time="1415901336">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-184">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-184" data-comment-id="9586881">Comment on <span class=""><a href="/attachment.cgi?id=8522345" name="attach_8522345" title="Patch for esr31">attachment 8522345</a> <a href="/attachment.cgi?id=8522345&amp;action=edit" title="Patch for esr31">[details]</a> <a href="/attachment.cgi?id=8522345&amp;action=diff" title="Patch for esr31">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1092855&amp;attachment=8522345'>[review]</a>
Patch for esr31

Landed on mozilla-esr31:
<a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-esr31/rev/54598f3e773d">https://hg.mozilla.org/releases/mozilla-esr31/rev/54598f3e773d</a></pre></div><div class="change-set" id="c185"><div class="comment" data-id="9587859" data-no="185"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-185" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a881546_67806"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" id="a881546_67806"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-185"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-185" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c185">Comment 185</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-13 12:33 PST" data-time="1415910813">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-185">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-185" data-comment-id="9587859">I ran the build listed below while actively using the browser [4hrs] without receiving the log file under /tmp. As stated before, originally the log file would be created within 15 minutes of using fx.

Build Used:

* Aurora [20141113004001]
** <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2014-11-13-00-40-01-mozilla-aurora/">http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2014-11-13-00-40-01-mozilla-aurora/</a>

Steven, will the bustage in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c181">comment # 181</a> affect m-c and aurora at all or was this just relating to esr31?</pre></div><div class="change-set" id="a944168_455785"><div class="change" id="aa944168_455785">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a944168_455785"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_455785" id="a944168_455785"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a944168_455785"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a944168_455785">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a944168_455785">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-13 12:34 PST" data-time="1415910864">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: needinfo?(smichaud)</div></div></div><div class="change-set" id="c186"><div class="comment" data-id="9587896" data-no="186"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-186" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a944168_455785"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a944168_455785"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-186"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-186" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c186">Comment 186</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-13 12:38 PST" data-time="1415911138">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-186">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-186" data-comment-id="9587896"><span class="quote">&gt; Steven, will the bustage in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c181">comment #181</a> affect m-c and aurora at
&gt; all or was this just relating to esr31?</span >

It was just related to esr31, which was old enough not to have support
for calls to nsCocoaFeatures::OnYosemiteOrLater().</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(smichaud)</span></div></div></div><div class="change-set" id="a948141_455785"><div class="change" id="aa948141_455785">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a948141_455785"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_455785" id="a948141_455785"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a948141_455785"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a948141_455785">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a948141_455785">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-13 13:40 PST" data-time="1415914837">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=isnotempty">status-firefox35</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=verified">verified</a></div></div></div><div class="change-set" id="c187"><div class="comment" data-id="9593188" data-no="187"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-187" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a948141_455785"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" id="a948141_455785"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-187"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-187" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c187">Comment 187</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-14 11:18 PST" data-time="1415992725">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-187">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-187" data-comment-id="9593188">I ran the build listed below while actively using the browser [5hrs] without receiving the log file under /tmp. Originally the log file would have been created within 15 minutes of using fx.

Builds Used:

* fx 34 [BuildID: 20141113192814 changeset: 8a30f7117b2e]
** <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/candidates/34.0b9-candidates/build1/mac/en-US/">http://ftp.mozilla.org/pub/mozilla.org/firefox/candidates/34.0b9-candidates/build1/mac/en-US/</a></pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=isnotempty">status-firefox34</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=equals&amp;v1=verified">verified</a></div></div></div><div class="change-set" id="c188"><div class="comment" data-id="9594856" data-no="188"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-188" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a948141_455785"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a948141_455785"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-188"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-188" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c188">Comment 188</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-14 17:47 PST" data-time="1416016043">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-188">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-188" data-comment-id="9594856"><span class="quote">&gt; dveditz - This bug is rated sec-high. How critical is it that we ship a fix in 34?</span >

&quot;Very Important&quot;, a step below &quot;critical&quot; because it's not exploitable from remote and Macs mostly aren't shared. But it's also highly discoverable and several other programs with logging woes have been in the security news lately (not in a good way). Would like not to join them.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(dveditz)</span></div></div></div><div class="change-set" id="a1115291_7044"><div class="change" id="aa1115291_7044">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7044" id="a1115291_7044"><img src="https://secure.gravatar.com/avatar/3301a62f3707d6bcef9542d316fb587f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_7044" id="a1115291_7044"><a class="email " href="/user_profile?user_id=7044" > <span class="fna">Benjamin Smedberg</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1115291_7044"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1115291_7044">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a1115291_7044">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-15 12:06 PST" data-time="1416081987">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Firefox creates /tmp/CGLog_Firefox_&lt;pid&gt; files on Mac"
   href="/show_bug.cgi?id=1099958">1099958</a></div></div></div><div class="change-set" id="c190"><div class="comment" data-id="9600797" data-no="190"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-190" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a1115291_7044"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a1115291_7044"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-190"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-190" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c190">Comment 190</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-17 10:48 PST" data-time="1416250136">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-190">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-190" data-comment-id="9600797">The duped bug links to some discussion of this issue on the Mozilla support forums:
  <a rel="nofollow" href="https://support.mozilla.org/en-US/questions/1028140">https://support.mozilla.org/en-US/questions/1028140</a></pre></div><div class="change-set" id="c191"><div class="comment" data-id="9600908" data-no="191"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-191" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a1115291_7044"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a1115291_7044"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-191"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-191" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c191">Comment 191</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-17 11:05 PST" data-time="1416251147">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-191">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-191" data-comment-id="9600908">Some person on Twitter also noticed this on 11/5:
  <a rel="nofollow" href="https://twitter.com/tomaon/status/529925191246168064">https://twitter.com/tomaon/status/529925191246168064</a>
Google translates that as &quot;What's this? &gt; /tmp/CGLog_Firefox* something Did &lt;something garbled&gt; infected?&quot;
(I found that with a Google search.)

So that's like a half dozen or so people who noticed this and posted about it.</pre></div><div class="change-set" id="c192"><div class="comment" data-id="9601015" data-no="192"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-192" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a1115291_7044"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a1115291_7044"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-192"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-192" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c192">Comment 192</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-17 11:20 PST" data-time="1416252056">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-192">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-192" data-comment-id="9601015">(In reply to <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c191">comment #191</a>)

I read the second sentence as something like &quot;Am I infected?&quot;.</pre></div><div class="change-set" id="c193"><div class="comment" data-id="9601039" data-no="193"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-193" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a1115291_7044"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a1115291_7044"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-193"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-193" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c193">Comment 193</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-17 11:24 PST" data-time="1416252279">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-193">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-193" data-comment-id="9601039">Should we make some kind of announcement that this is an Apple bug that will be fixed/worked-around in our next releases on all the &quot;live&quot; branches?  (Meaning 31esr, 34, 35 and 36.)

I don't know, though, where would be appropriate.</pre></div><div class="change-set" id="c194"><div class="comment" data-id="9602270" data-no="194"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-194" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a1115291_7044"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" id="a1115291_7044"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-194"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-194" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c194">Comment 194</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-17 15:01 PST" data-time="1416265303">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-194">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-194" data-comment-id="9602270">I ran the build listed below while actively using the browser [5hrs] without getting the log file under /tmp. Originally the log file would have been created within 15 minutes of using fx.

Builds Used:

* fx-esr31: [BuildID: 20141117000501 changeset: abd43f9b90d9]
** <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2014-11-17-00-05-01-mozilla-esr31/">http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2014-11-17-00-05-01-mozilla-esr31/</a></pre><div class="activity"><div class="change">Status: RESOLVED &rarr; VERIFIED</div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=isnotempty">status-firefox-esr31</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=equals&amp;v1=verified">verified</a></div></div></div><div class="change-set" id="c195"><div class="comment" data-id="9602311" data-no="195"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-195" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a1115291_7044"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" id="a1115291_7044"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-195"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-195" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c195">Comment 195</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-17 15:12 PST" data-time="1416265956">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-195">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-195" data-comment-id="9602311">(In reply to Steven Michaud from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c193">comment #193</a>)
<span class="quote">&gt; Should we make some kind of announcement that this is an Apple bug that will
&gt; be fixed/worked-around in our next releases on all the &quot;live&quot; branches? 
&gt; (Meaning 31esr, 34, 35 and 36.)
&gt; 
&gt; I don't know, though, where would be appropriate.</span >

I'm not sure what the best approach would be, but I agree what we should probably mention something in some form or another. I personally think users should be told that their key strokes are being logged because of this bug. Following the link from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - jemalloc poisoning plus Apple uninitialized variable usage triggers keylogging in /tmp/ on OSX 10.10"
   href="/show_bug.cgi?id=1092855#c190">comment # 190</a>, it seems like a lot of users want more information but can't view this bug as it's marked as sec-sensitive. Releasing some form of an information/announcement would definitely put the users at ease who think they're infected. (the first reaction they have)</pre></div><div class="change-set" id="a1360554_67806"><div class="change" id="aa1360554_67806">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a1360554_67806"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_67806" id="a1360554_67806"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1360554_67806"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1360554_67806">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a1360554_67806">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-18 08:14 PST" data-time="1416327250">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">User Story: (updated)</div></div></div><div class="change-set" id="c196"><div class="comment" data-id="9605540" data-no="196"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-196" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a1360554_67806"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a1360554_67806"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-196"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-196" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c196">Comment 196</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-18 08:20 PST" data-time="1416327624">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-196">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-196" data-comment-id="9605540">I've put possible text for an announcement in User Story.  dveditz (and others), please comment on its wording.  I tried not to give too much away.  But the fact that these logs contain input events (including keyboard events) is so obvious that we should consider it already public.

Even if we don't announce this publicly, the text in User Story will hopefully make it easier for people to understand this long and complex bug.  It can't have escaped your notice that none of the public discussions of this bug linked here have accurate descriptions, even where those descriptions were written by people who have access to this bug.</pre><div class="activity"><div class="change">Flags: needinfo?(dveditz)</div></div></div><div class="change-set" id="a1365920_67806"><div class="change" id="aa1365920_67806">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a1365920_67806"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_67806" id="a1365920_67806"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1365920_67806"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1365920_67806">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a1365920_67806">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-18 09:43 PST" data-time="1416332616">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">User Story: (updated)</div></div></div><div class="change-set" id="a1447182_67806"><div class="change" id="aa1447182_67806">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a1447182_67806"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_67806" id="a1447182_67806"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1447182_67806"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1447182_67806">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a1447182_67806">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-19 08:17 PST" data-time="1416413878">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">User Story: (updated)</div></div></div><div class="change-set" id="c197"><div class="comment" data-id="9613839" data-no="197"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-197" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a1447182_67806"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a1447182_67806"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-197"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-197" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c197">Comment 197</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-19 15:25 PST" data-time="1416439500">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-197">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-197" data-comment-id="9613839">What happens in the future when/if Apple changes the definition of the debug options, as they apparently have in the past? We should keep an eye on Apple's response, and if they fix it make the check isYosemite() without the &quot;orLater&quot; part (do we have such a function?).

I'll check with press&#64; about whether we want to make an announcement prior to our release, and if so what's the best vehicle for it.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox_esr31&amp;o1=isnotempty">tracking-firefox-esr31</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox_esr31&amp;o1=equals&amp;v1=34%2B">34+</a></div><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-vector&amp;resolution=---">sec-vector</a></div></div></div><div class="change-set" id="c198"><div class="comment" data-id="9613884" data-no="198"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-198" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_67806" id="a1447182_67806"><img src="https://secure.gravatar.com/avatar/f4932c37bcceaf71fd2472886282a3cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_67806" id="a1447182_67806"><a class="email " href="/user_profile?user_id=67806" > <span class="fna">Steven Michaud [:smichaud] (Retired)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-198"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-198" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c198">Comment 198</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-19 15:36 PST" data-time="1416440171">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-198">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-198" data-comment-id="9613884"><span class="quote">&gt; What happens in the future when/if Apple changes the definition of the debug options</span >

The one my patch uses is unchanged since at least OS X 10.6.  It should be very safe to continue using it, even when it's no longer needed.

In any case, if past practice is any guide, Apple is unlikely to fix this bug anytime soon.</pre></div><div class="change-set" id="a1891197_280903"><div class="change" id="aa1891197_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a1891197_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a1891197_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1891197_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1891197_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a1891197_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-24 11:38 PST" data-time="1416857893">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: rdar://18946701 &rarr; [adv-main34+][adv-esr31.3+] rdar://18946701</div></div></div><div class="change-set" id="c199"><div class="comment" data-id="9630996" data-no="199"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-199" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a1891197_280903"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a1891197_280903"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-199"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-199" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c199">Comment 199</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-24 11:45 PST" data-time="1416858351">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-199">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-199" data-comment-id="9630996">We'll use the User Story as the basis for our advisory, thanks.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(dveditz)</span></div></div></div><div class="change-set" id="a1895427_280903"><div class="change" id="aa1895427_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a1895427_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a1895427_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1895427_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1895427_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a1895427_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-11-24 12:48 PST" data-time="1416862123">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Alias: CVE-2014-1595</div></div></div><div class="change-set" id="c200"><div class="comment" data-id="9849113" data-no="200"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-200" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_159758" id="a1895427_280903"><img src="https://secure.gravatar.com/avatar/a061fe6bd3e9018e6837fba4e1d09206?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_159758" id="a1895427_280903"><a class="email " href="/user_profile?user_id=159758" > <span class="fna">Reed Loden [:reed]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-200"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-200" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#c200">Comment 200</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-27 11:31 PST" data-time="1422387091">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-200">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-200" data-comment-id="9849113">Apple fixed this in OS X v10.10.2

<a rel="nofollow" href="http://support.apple.com/en-us/HT204244">http://support.apple.com/en-us/HT204244</a>

CoreGraphics
Available for:  OS X Yosemite v10.10 and v10.10.1
Impact:  Some third-party applications with non-secure text entry and
mouse events may log those events
Description:  Due to the combination of an uninitialized variable and
an application's custom allocator, non-secure text entry and mouse
events may have been logged. This issue was addressed by ensuring
that logging is off by default. This issue did not affect systems
prior to OS X Yosemite.
CVE-ID
<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-1595">CVE-2014-1595</a> : Steven Michaud of Mozilla working with Kent Howard</pre></div><div class="change-set" id="a26210448_546015"><div class="change" id="aa26210448_546015">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_546015" id="a26210448_546015"><img src="https://secure.gravatar.com/avatar/d0465b8931b44330f542efbeeae855da?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_546015" id="a26210448_546015"><a class="email " href="/user_profile?user_id=546015" > <span class="fna">BMO Automation</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a26210448_546015"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a26210448_546015">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a26210448_546015">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-01 23:59 PDT" data-time="1441177144">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: core-security &rarr; core-security-release</div></div></div><div class="change-set" id="a52511398_1689"><div class="change" id="aa52511398_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a52511398_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a52511398_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a52511398_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a52511398_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a52511398_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-07-02 09:48 PDT" data-time="1467478094">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: <span class="activity-deleted">core-security-release</span></div></div></div><div class="change-set" id="a192443520_430528"><div class="change" id="aa192443520_430528">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_430528" id="a192443520_430528"><img src="https://secure.gravatar.com/avatar/fce12300b80ca98151e9331523d6a2dc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_430528" id="a192443520_430528"><a class="email " href="/user_profile?user_id=430528" > <span class="fna">Chris Peterson [:cpeterson]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a192443520_430528"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a192443520_430528">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1092855#a192443520_430528">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-12-07 22:50 PST" data-time="1607410216">11 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Remove obsolete CGEvent logging workaround added for Mac OS X 10.10.2"
   href="/show_bug.cgi?id=1681242">1681242</a></div></div></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=1092855&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div></div> 
</main> 
</div> 


</body>
</html>