<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Explicit use of sudo in MicroK8s CLI - microk8s - Discuss Kubernetes</title>
    <meta name="description" content="With the upcoming v1.15.3 release, MicroK8s commands will require the use of sudo whenever elevated privileges are needed. For example, microk8s.kubectl by default authenticates you as a Kubernetes administrator and will&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta7 - https://github.com/discourse/discourse version 436edbb51a15c634e65c0d7cdccdb4ce9aecd8f1">
<link rel="icon" type="image/png" href="https://aws1.discourse-cdn.com/business6/uploads/kubernetes/optimized/1X/786dc982abab8f78c3762424fae045d4b084cf3d_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="https://aws1.discourse-cdn.com/business6/uploads/kubernetes/optimized/1X/786dc982abab8f78c3762424fae045d4b084cf3d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://discuss.kubernetes.io/t/explicit-use-of-sudo-in-microk8s-cli/7605" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://discuss.kubernetes.io","potentialAction":{"@type":"SearchAction","target":"https://discuss.kubernetes.io/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://discuss.kubernetes.io/opensearch.xml" title="Discuss Kubernetes Search">

      <link href="https://sea2.discourse-cdn.com/business6/stylesheets/desktop_d82111784f83ea912b6ef75ef7f5c53958c3e5b4.css?__ws=discuss.kubernetes.io" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="https://sea2.discourse-cdn.com/business6/stylesheets/desktop_theme_5_deafd535bab168ec569ded12f7da53b4c26294fd.css?__ws=discuss.kubernetes.io" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="5" data-theme-name="discourse kubernetes theme"/>
<link href="https://sea2.discourse-cdn.com/business6/stylesheets/desktop_theme_2_412d4211f961c7199ce8f8bf7a666c226dbf0018.css?__ws=discuss.kubernetes.io" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>
    


<script src="https://sea2.discourse-cdn.com/business6/theme-javascripts/31478666665ff66bc8bc5fbf696fb18360256efd.js?__ws=discuss.kubernetes.io"></script>
    <meta id="data-ga-universal-analytics" data-tracking-code="UA-98841695-3" data-json="{&quot;cookieDomain&quot;:&quot;auto&quot;}" data-auto-link-domains="">

  <link rel="preload" href="https://aws1.discourse-cdn.com/business6/assets/google-universal-analytics-v3-706f1d28f0a97f67a47515c96189277240ec4940d968955042066d7873fd1fe8.gz.js" as="script">
<script src="https://aws1.discourse-cdn.com/business6/assets/google-universal-analytics-v3-706f1d28f0a97f67a47515c96189277240ec4940d968955042066d7873fd1fe8.gz.js"></script>


        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Explicit use of sudo in MicroK8s CLI&#39;" href="https://discuss.kubernetes.io/t/explicit-use-of-sudo-in-microk8s-cli/7605.rss" />
    <meta property="og:site_name" content="Discuss Kubernetes" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://aws1.discourse-cdn.com/business6/uploads/kubernetes/original/1X/9d7268f40e32b387214eab6ed73fa246ee2659de.png" />
<meta property="og:image" content="https://aws1.discourse-cdn.com/business6/uploads/kubernetes/original/1X/9d7268f40e32b387214eab6ed73fa246ee2659de.png" />
<meta property="og:url" content="https://discuss.kubernetes.io/t/explicit-use-of-sudo-in-microk8s-cli/7605" />
<meta name="twitter:url" content="https://discuss.kubernetes.io/t/explicit-use-of-sudo-in-microk8s-cli/7605" />
<meta property="og:title" content="Explicit use of sudo in MicroK8s CLI" />
<meta name="twitter:title" content="Explicit use of sudo in MicroK8s CLI" />
<meta property="og:description" content="With the upcoming v1.15.3 release, MicroK8s commands will require the use of sudo whenever elevated privileges are needed. For example, microk8s.kubectl by default authenticates you as a Kubernetes administrator and will therefore be restricted to sudo users only.  This change was made to improve the overall security of MicroK8s. Authors of scripts that use  microk8s. commands may wish to test their scripts with an updated MicroK8s build . The edge channel already contains these changes; give th..." />
<meta name="twitter:description" content="With the upcoming v1.15.3 release, MicroK8s commands will require the use of sudo whenever elevated privileges are needed. For example, microk8s.kubectl by default authenticates you as a Kubernetes administrator and will therefore be restricted to sudo users only.  This change was made to improve the overall security of MicroK8s. Authors of scripts that use  microk8s. commands may wish to test their scripts with an updated MicroK8s build . The edge channel already contains these changes; give th..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 ❤" />
<meta property="article:published_time" content="2019-08-20T15:06:18+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="/">
          <img src="https://aws1.discourse-cdn.com/business6/uploads/kubernetes/original/1X/fff22d6fa6d9f59c79c7dae9b3296369789f1ff5.png" alt="Discuss Kubernetes" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="/t/explicit-use-of-sudo-in-microk8s-cli/7605">Explicit use of sudo in MicroK8s CLI</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discuss.kubernetes.io/c/general-discussions/6" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #92278F'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>General Discussions</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discuss.kubernetes.io/c/general-discussions/microk8s/26" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #E95420'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>microk8s</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Cloud Native Computing Foundation'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/business6/uploads/kubernetes/original/1X/fff22d6fa6d9f59c79c7dae9b3296369789f1ff5.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discuss.kubernetes.io/u/kjackal'><span itemprop='name'>kjackal</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discuss.kubernetes.io/t/explicit-use-of-sudo-in-microk8s-cli/7605">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-20T15:06:18Z' class='post-time'>
                August 20, 2019,  3:06pm
              </time>
              <meta itemprop='dateModified' content='2019-08-23T11:15:14Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>With the upcoming v1.15.3 release, MicroK8s commands will require the use of sudo whenever elevated privileges are needed. For example, <code>microk8s.kubectl</code> by default authenticates you as a Kubernetes administrator and will therefore be restricted to sudo users only.</p>
<p>This change was made to improve the overall security of MicroK8s. Authors of scripts that use  <code>microk8s.</code> commands may wish to test their scripts with an updated MicroK8s build . The <code>edge</code> channel already contains these changes; give them a try with:</p>
<pre><code class="lang-auto">sudo snap install microk8s --classic --edge
</code></pre>
<p>For more information on MicroK8s consult the official <a href="https://microk8s.io/docs/" rel="nofollow noopener">docs</a>, and to contribute to the project, check out the repo at <a href="https://github.com/ubuntu/microk8s" rel="nofollow noopener">https://github.com/ubuntu/microk8s</a>, or chat with us on the <a href="http://slack.kubernetes.io/" rel="nofollow noopener">Kubernetes Slack</a>, in the <a class="hashtag" href="https://discuss.kubernetes.io/tags/microk8s">#<span>microk8s</span></a> channel.</p>
<p><strong>[UPDATE ]</strong><br>
Based on the feedback we got from the community we introduced a linux user group called “microk8s”. Users of this group are able to access MicroK8s with no restrictions (no need for sudo). Add your user to the group with:</p>
<pre><code class="lang-auto">sudo usermod -a -G microk8s $USER
</code></pre>
<p>Thank you</p>
        </div>

        <meta itemprop='headline' content='Explicit use of sudo in MicroK8s CLI'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Cloud Native Computing Foundation'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/business6/uploads/kubernetes/original/1X/fff22d6fa6d9f59c79c7dae9b3296369789f1ff5.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discuss.kubernetes.io/u/Danielo_Rodriguez'><span itemprop='name'>Danielo_Rodriguez</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discuss.kubernetes.io/t/explicit-use-of-sudo-in-microk8s-cli/7605">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-10-27T09:45:21Z' class='post-time'>
                October 27, 2020,  9:45am
              </time>
              <meta itemprop='dateModified' content='2020-10-27T09:45:21Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This is cool and working as expected. But then why is it asking for sudo password when I enable the dashboard? <code>microk8s.enable dashboard</code><br>
It does not attaches itself to any restricted port, so I don’t see the need</p>
        </div>

        <meta itemprop='headline' content='Explicit use of sudo in MicroK8s CLI'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Cloud Native Computing Foundation'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://aws1.discourse-cdn.com/business6/uploads/kubernetes/original/1X/fff22d6fa6d9f59c79c7dae9b3296369789f1ff5.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discuss.kubernetes.io/u/balchua1'><span itemprop='name'>balchua1</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discuss.kubernetes.io/t/explicit-use-of-sudo-in-microk8s-cli/7605">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-10-31T12:29:39Z' class='post-time'>
                October 31, 2020, 12:29pm
              </time>
              <meta itemprop='dateModified' content='2020-10-31T12:29:39Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This is because the dashboard addon also enables the metrics server, to get the cluster metrics such as cpu and memory.</p>
<p>The metrics server addon adds the <code>authentication-token-webhook</code> options in the apiserver.  Followed by a restart of the apiserver.</p>
<p>Restarting the apiserver needs sudo permission.</p>
        </div>

        <meta itemprop='headline' content='Explicit use of sudo in MicroK8s CLI'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <footer>
   <main class="light-text">
      <nav>
         <a href="https://kubernetes.io/docs/home/">Home</a>
         <a href="https://kubernetes.io/blog/">Blog</a>
         <a href="https://kubernetes.io/partners/">Partners</a>
         <a href="https://kubernetes.io/community/">Community</a>
         <a href="https://kubernetes.io/case-studies/">Case Studies</a>
      </nav>
      <div class="social">
         <div><a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
            <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
            <a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
         </div>
         <div><a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
            <a href="https://discuss.kubernetes.io" class="mailing-list"><span>Forum</span></a>
            <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
         </div>
         <div><a href="https://git.k8s.io/community/contributors/guide" class="button">Contribute</a></div>
      </div>
      <div id="miceType" class="center">© 2019 The Kubernetes Authors | Documentation Distributed under <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a></div>
      <div id="miceType" class="center">Copyright © 2019 The Linux Foundation ®. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">Trademark Usage page</a></div>
      <div id="miceType" class="center">ICP license: 京ICP备17074266号-3</div>
   </main>
</footer>

    
  </body>
  
</html>
