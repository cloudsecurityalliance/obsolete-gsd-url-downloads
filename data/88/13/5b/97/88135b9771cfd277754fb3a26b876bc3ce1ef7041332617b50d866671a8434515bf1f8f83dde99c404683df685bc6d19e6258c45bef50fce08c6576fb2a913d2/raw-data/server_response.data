<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#827340 - linux: CVE-2010-5321 memory leak in videobuf on multiple calls to mmap() - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=827340&quot;&gt;827340&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:827340@bugs.debian.org">#827340</a><br>
linux: CVE-2010-5321 memory leak in videobuf on multiple calls to mmap()</h1>
<div class="versiongraph"><a href="version.cgi?package=src%3Alinux;absolute=0;info=1;found=linux%2F4.6.2-1;found=linux%2F3.2.41-2;found=linux%2F3.2.78-1;collapse=1"><img alt="version graph" src="version.cgi?collapse=1;found=linux%2F4.6.2-1;found=linux%2F3.2.41-2;found=linux%2F3.2.78-1;height=2;absolute=0;width=2;package=src%3Alinux"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?src=linux">src:linux</a>;
Maintainer for <a href="pkgreport.cgi?src=linux">src:linux</a> is <a href="pkgreport.cgi?maint=debian-kernel%40lists.debian.org">Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</a>; </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=pere%40hungry.com">Petter Reinholdtsen &lt;pere@hungry.com&gt;</a></p>
  <p>Date: Wed, 15 Jun 2016 06:51:01 UTC</p>

<p>Severity: minor</p>
<p>Tags: security, upstream</p>

<p>Found in versions linux/4.6.2-1, linux/3.2.41-2, linux/3.2.78-1</p>



<p>Forwarded to <a href="https://bugzilla.kernel.org/show_bug.cgi?id=120571">https://bugzilla.kernel.org/show_bug.cgi?id=120571</a></p>
</div>

<p><a href="mailto:827340@bugs.debian.org">Reply</a> or <a href="mailto:827340-subscribe@bugs.debian.org">subscribe</a> to this bug.</p>
<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=827340;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt; -->
<!-- time:1465973465 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:<br>
<code>Bug#827340</code>; Package <code>src:linux</code>.
 (Wed, 15 Jun 2016 06:51:05 GMT) (<a href="bugreport.cgi?bug=827340;msg=2">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Petter Reinholdtsen &lt;pere@hungry.com&gt; -->
<!-- time:1465973465 -->
<strong>Acknowledgement sent</strong>
to <code>Petter Reinholdtsen &lt;pere@hungry.com&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>.
 (Wed, 15 Jun 2016 06:51:05 GMT) (<a href="bugreport.cgi?bug=827340;msg=4">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=827340;msg=5">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=5">mbox</a>, <a href="mailto:827340@bugs.debian.org?References=%3C2flinxbx842.fsf%40diskless.uio.no%3E&amp;body=On%20Wed%2C%2015%20Jun%202016%2008%3A46%3A05%20%2B0200%20Petter%20Reinholdtsen%20%3Cpere%40hungry.com%3E%20wrote%3A%0A%3E%20%0A%3E%20Package%3A%20src%3Alinux%0A%3E%20Version%3A%203.2.78-1%0A%3E%20Severity%3A%20minor%0A%3E%20Tags%3A%20security%0A%3E%20%0A%3E%20In%202010%20an%20issue%20with%20the%20linux%20kernel%20implementation%20of%20v4l%20was%0A%3E%20discovered%20and%20reported%20to%20RedHat%20as%0A%3E%20%3CURL%3A%20https%3A%2F%2Fbugzilla.redhat.com%2Fshow_bug.cgi%3Fid%3D620629%20%3E.%20%20It%20was%0A%3E%20assigned%20a%20CVE%20last%20year%20in%0A%3E%20%3CURL%3A%20http%3A%2F%2Fwww.openwall.com%2Flists%2Foss-security%2F2015%2F02%2F08%2F4%20%3E%20and%20is%0A%3E%20still%20unsolved%20as%20far%20as%20I%20can%20tell.%0A%3E%20%0A%3E%20If%20I%20understand%20the%20issue%20correctly%2C%20a%20user%20with%20access%20to%20%2Fdev%2Fvideo%0A%3E%20can%20cause%20the%20kernel%20to%20leak%20memory%20and%20eventually%20run%20out%20of%20memory%20by%0A%3E%20doing%20repeated%20calls%20to%20mmap%28%29.%20%20In%20other%20words%2C%20users%20with%20video%20group%0A%3E%20membership%20can%20bring%20down%20the%20machine.%0A%3E%20%0A%3E%20According%20to%0A%3E%20%3CURL%3A%20https%3A%2F%2Fsecurity-tracker.debian.org%2Ftracker%2FCVE-2010-5321%20%3E%20the%0A%3E%20issue%20is%20present%20in%20Wheezy%20and%20onwards.%20%20It%20is%20probably%20present%20in%0A%3E%20earlier%20versions%20too.%20%20I%20picked%20the%20kernel%20version%20number%20used%20in%20wheezy%0A%3E%20for%20this%20report.%0A%3E%20%0A%3E%20I%20noticed%20this%20issue%2C%20as%20it%20is%20the%20oldest%20non-fixed%20CVE%20number%20reported%0A%3E%20by%20debsecan%20on%20my%20laptop%2C%20and%20decided%20it%20was%20time%20to%20track%20its%20progress%0A%3E%20in%20a%20bug%20report.%0A%3E%20%0A%3E%20--%20%0A%3E%20Happy%20hacking%0A%3E%20Petter%20Reinholdtsen%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C2flinxbx842.fsf%40diskless.uio.no%3E&amp;subject=Re%3A%20linux%3A%20CVE-2010-5321%20memory%20leak%20in%20videobuf%20on%20multiple%20calls%20to%20mmap%28%29">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pere%40hungry.com" alt="">
<div class="header"><span class="headerfield">From:</span> Petter Reinholdtsen &lt;pere@hungry.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> submit@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> linux: CVE-2010-5321 memory leak in videobuf on multiple calls to mmap()</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 15 Jun 2016 08:46:05 +0200</div>
</div>
<pre class="message">
Package: src:linux
Version: 3.2.78-1
Severity: minor
Tags: security

In 2010 an issue with the linux kernel implementation of v4l was
discovered and reported to RedHat as
&lt;URL: <a href="https://bugzilla.redhat.com/show_bug.cgi?id=620629">https://bugzilla.redhat.com/show_bug.cgi?id=620629</a> &gt;.  It was
assigned a CVE last year in
&lt;URL: <a href="http://www.openwall.com/lists/oss-security/2015/02/08/4">http://www.openwall.com/lists/oss-security/2015/02/08/4</a> &gt; and is
still unsolved as far as I can tell.

If I understand the issue correctly, a user with access to /dev/video
can cause the kernel to leak memory and eventually run out of memory by
doing repeated calls to mmap().  In other words, users with video group
membership can bring down the machine.

According to
&lt;URL: <a href="https://security-tracker.debian.org/tracker/CVE-2010-5321">https://security-tracker.debian.org/tracker/CVE-2010-5321</a> &gt; the
issue is present in Wheezy and onwards.  It is probably present in
earlier versions too.  I picked the kernel version number used in wheezy
for this report.

I noticed this issue, as it is the oldest non-fixed CVE number reported
by debsecan on my laptop, and decided it was time to track its progress
in a bug report.

-- 
Happy hacking
Petter Reinholdtsen


</pre>

<div class="msgreceived"><hr><p>
<a name="6"></a>
<!-- command:tag -->
<!-- requester: Ben Hutchings &lt;ben@decadent.org.uk&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1465989673 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;security upstream&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;security&#39;
            };
-->
<strong>Added tag(s) upstream.</strong>
Request was from <code>Ben Hutchings &lt;ben@decadent.org.uk&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 15 Jun 2016 11:21:13 GMT) (<a href="bugreport.cgi?bug=827340;msg=7">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="8"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt; -->
<!-- time:1466202423 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:<br>
<code>Bug#827340</code>; Package <code>src:linux</code>.
 (Fri, 17 Jun 2016 22:27:03 GMT) (<a href="bugreport.cgi?bug=827340;msg=9">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="10"></a>
<!-- request_addr: Petter Reinholdtsen &lt;pere@hungry.com&gt; -->
<!-- time:1466202423 -->
<strong>Acknowledgement sent</strong>
to <code>Petter Reinholdtsen &lt;pere@hungry.com&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>.
 (Fri, 17 Jun 2016 22:27:03 GMT) (<a href="bugreport.cgi?bug=827340;msg=11">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=11">mbox</a>, <a href="#10">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="12"></a><a name="msg12"></a><a href="#12">Message #12</a> received at 827340@bugs.debian.org (<a href="bugreport.cgi?bug=827340;msg=12">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=12">mbox</a>, <a href="mailto:827340@bugs.debian.org?subject=Re%3A%20linux%3A%20CVE-2010-5321%20memory%20leak%20in%20videobuf%20on%20multiple%20calls%0A%20to%20mmap%28%29&amp;In-Reply-To=%3C20160617222544.GA6283%40diskless.uio.no%3E&amp;References=%3C2flinxbx842.fsf%40diskless.uio.no%3E%0A%20%3C20160617222544.GA6283%40diskless.uio.no%3E&amp;body=On%20Sat%2C%2018%20Jun%202016%2000%3A25%3A44%20%2B0200%20Petter%20Reinholdtsen%20%3Cpere%40hungry.com%3E%20wrote%3A%0A%3E%20Control%3A%20found%20-1%204.6.2-1%0A%3E%20%0A%3E%20%5BPetter%20Reinholdtsen%5D%0A%3E%20%3E%20If%20I%20understand%20the%20issue%20correctly%2C%20a%20user%20with%20access%20to%20%2Fdev%2Fvideo%0A%3E%20%3E%20can%20cause%20the%20kernel%20to%20leak%20memory%20and%20eventually%20run%20out%20of%20memory%20by%0A%3E%20%3E%20doing%20repeated%20calls%20to%20mmap%28%29.%20%20In%20other%20words%2C%20users%20with%20video%20group%0A%3E%20%3E%20membership%20can%20bring%20down%20the%20machine.%0A%3E%20%0A%3E%20I%27ve%20tried%20to%20track%20down%20a%20way%20to%20reproduce%20the%20problem%20without%20any%0A%3E%20luck%20so%20far.%20%20I%20asked%20on%20%23v4l%20to%20see%20if%20anyone%20there%20could%20help%20and%20got%0A%3E%20some%20more%20information%3A%0A%3E%20%0A%3E%20%3Cpere%3E%20hi.%20%20I%27m%20trying%20to%20figure%20out%20if%20CVE-2010-5321%20reported%20via%0A%3E%20%20%20%20%3CURL%3A%20https%3A%2F%2Fbugzilla.redhat.com%2Fshow_bug.cgi%3Fid%3D620629%20%3E%20still%0A%3E%20%20%20%20exist%20in%20the%20linux%20kernel%2C%20and%20it%20links%20to%0A%3E%20%20%20%20%3CURL%3A%20https%3A%2F%2Flinuxtv.org%2Firc%2Fv4l%2Findex.php%3Fdate%3D2010-07-29%20%3E%20for%0A%3E%20%20%20%20more%20information.%20%20But%20that%20IRC%20log%20page%20is%20empty.%20%20Anyone%20here%20know%0A%3E%20%20%20%20how%20to%20reproduce%20the%20problem%20or%20find%20the%20log%20from%20that%20day%3F%0A%3E%20%3Cpinchartl%3E%20pere%3A%20that%27s%20old%0A%3E%20%3Cpinchartl%3E%20the%20bug%20seems%20to%20affect%20videobuf%20only%2C%20not%20videobuf2%0A%3E%20%3Cpere%3E%20yeah.%20%20at%20it%20seem%20to%20be%20unsolved%2C%20but%20I%20have%20not%20been%20able%20to%20verify%20it.%0A%3E%20%3Cpinchartl%3E%20not%20all%20drivers%20have%20been%20converted%20to%20videobuf2%0A%3E%20%3Cpinchartl%3E%20but%20if%20the%20drivers%20you%20are%20interested%20in%20have%20been%2C%20then%20you%0A%3E%20%20%20%20should%20be%20safe%20from%20that%20point%20of%20view%0A%3E%20%3Cpere%3E%20my%20focus%20is%20tracking%20CVEs%20in%20Debian%2C%20to%20know%20if%20the%20issue%20still%0A%3E%20%20%20%20exist%20or%20not.%0A%3E%20%3Cpere%3E%20%3CURL%3A%20https%3A%2F%2Fsecurity-tracker.debian.org%2Ftracker%2FCVE-2010-5321%20%3E%0A%3E%20%20%20%20show%20the%20kernel%20still%20vulnerable...%0A%3E%20%3Cpinchartl%3E%20I%20don%27t%20know%20I%27m%20afraid%0A%3E%20%3Cpinchartl%3E%20%28one%20more%20reason%20to%20get%20rid%20of%20videobuf%29%0A%3E%20%3Cpere%3E%20how%20can%20I%20tell%20if%20a%20driver%2Fdevice%20uses%20videobuf%20and%20not%20videobuf2%3F%0A%3E%20%20%20%20I%20assume%20some%20specific%20hardware%20is%20needed%20to%20reproduce%20the%20problem.%0A%3E%20%3Cpinchartl%3E%20search%20for%20%23include%20%3Cmedia%2Fvideobuf-.%2A.h%3E%20in%20the%20sources%0A%3E%20%3Cpinchartl%3E%20there%27s%209%20of%20them%20left%20if%20I%20count%20properly%0A%3E%20%3Cpinchartl%3E%20via-camera%2C%20fsl-viu%2C%20bttv%2C%20cx18%2C%20tm6000%2C%20zr364xx%2C%20cx231xx%2C%0A%3E%20%20%20%20pxa_camera%20and%20omap_vout%0A%3E%20%3Cpinchartl%3E%20ah%2C%20and%20omap1_camera%20and%20timblogiw%20in%20staging%0A%3E%20%3Cpinchartl%3E%20so%20that%27s%2011%0A%3E%20%3Cpere%3E%20hm%2C%20wonder%20if%20I%20have%20a%20PCI%20card%20supported%20by%20bttv...%0A%3E%20%3Cpinchartl%3E%20patches%20would%20be%20great%20%3A-%29%0A%3E%20%3Cpere%3E%20I%20am%20sure%20it%20would%2C%20but%20lack%20the%20capacity%20too%20look%20into%20that.%20%3A%29%0A%3E%20%3Cpere%3E%20pinchartl%3A%20is%20the%20description%20in%20that%20bug%20report%20enough%20for%20you%20to%0A%3E%20%20%20%20know%20how%20to%20reproduce%20it%3F%20%20I%27ve%20tried%20writing%20a%20test%20program%2C%20but%20only%0A%3E%20%20%20%20got%20a%20v4l2%20device%20and%20got%20EBUSY%20when%20calling%20mmap%28%29%20several%20times%20there.%0A%3E%20%3Cpere%3E%20but%20I%20suspect%20my%20test%20program%20is%20flawed%2C%20as%20I%20did%20not%20really%20quite%0A%3E%20%20%20%20understand%20the%20description.%0A%3E%20%3Cpere%3E%20the%20redhat%20bug%20report%20was%20very%20short%2C%20and%20I%20suspect%20the%20details%20are%0A%3E%20%20%20%20in%20one%20of%20the%20referred%20bug%20reports%2C%20which%20are%20not%20available%20to%20the%20public.%20%3A%28%0A%3E%20%0A%3E%20According%20to%20this%20report%20the%20issue%20still%20exist%20in%20the%20kernel%20for%20a%20small%0A%3E%20number%20of%20camera%20drivers%2C%20so%20I%20mark%20it%20as%20found%20in%20the%20unstable%20kernel%20too.%0A%3E%20%0A%3E%20I%20notice%20this%20bug%20is%20tagged%20upstream.%20%20Is%20there%20a%20bug%20report%20upstream%20too%3F%0A%3E%20I%27ve%20been%20unable%20to%20find%20any.%0A%3E%20%0A%3E%20--%20%0A%3E%20Happy%20hacking%0A%3E%20Petter%20Reinholdtsen%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pere%40hungry.com" alt="">
<div class="header"><span class="headerfield">From:</span> Petter Reinholdtsen &lt;pere@hungry.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> 827340@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: linux: CVE-2010-5321 memory leak in videobuf on multiple calls
 to mmap()</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 18 Jun 2016 00:25:44 +0200</div>
</div>
<pre class="message">Control: found -1 4.6.2-1

[Petter Reinholdtsen]
&gt; If I understand the issue correctly, a user with access to /dev/video
&gt; can cause the kernel to leak memory and eventually run out of memory by
&gt; doing repeated calls to mmap().  In other words, users with video group
&gt; membership can bring down the machine.

I&#39;ve tried to track down a way to reproduce the problem without any
luck so far.  I asked on #v4l to see if anyone there could help and got
some more information:

&lt;pere&gt; hi.  I&#39;m trying to figure out if <a href="https://security-tracker.debian.org/tracker/CVE-2010-5321">CVE-2010-5321</a> reported via
   &lt;URL: <a href="https://bugzilla.redhat.com/show_bug.cgi?id=620629">https://bugzilla.redhat.com/show_bug.cgi?id=620629</a> &gt; still
   exist in the linux kernel, and it links to
   &lt;URL: <a href="https://linuxtv.org/irc/v4l/index.php?date=2010-07-29">https://linuxtv.org/irc/v4l/index.php?date=2010-07-29</a> &gt; for
   more information.  But that IRC log page is empty.  Anyone here know
   how to reproduce the problem or find the log from that day?
&lt;pinchartl&gt; pere: that&#39;s old
&lt;pinchartl&gt; the bug seems to affect videobuf only, not videobuf2
&lt;pere&gt; yeah.  at it seem to be unsolved, but I have not been able to verify it.
&lt;pinchartl&gt; not all drivers have been converted to videobuf2
&lt;pinchartl&gt; but if the drivers you are interested in have been, then you
   should be safe from that point of view
&lt;pere&gt; my focus is tracking CVEs in Debian, to know if the issue still
   exist or not.
&lt;pere&gt; &lt;URL: <a href="https://security-tracker.debian.org/tracker/CVE-2010-5321">https://security-tracker.debian.org/tracker/CVE-2010-5321</a> &gt;
   show the kernel still vulnerable...
&lt;pinchartl&gt; I don&#39;t know I&#39;m afraid
&lt;pinchartl&gt; (one more reason to get rid of videobuf)
&lt;pere&gt; how can I tell if a driver/device uses videobuf and not videobuf2?
   I assume some specific hardware is needed to reproduce the problem.
&lt;pinchartl&gt; search for #include &lt;media/videobuf-.*.h&gt; in the sources
&lt;pinchartl&gt; there&#39;s 9 of them left if I count properly
&lt;pinchartl&gt; via-camera, fsl-viu, bttv, cx18, tm6000, zr364xx, cx231xx,
   pxa_camera and omap_vout
&lt;pinchartl&gt; ah, and omap1_camera and timblogiw in staging
&lt;pinchartl&gt; so that&#39;s 11
&lt;pere&gt; hm, wonder if I have a PCI card supported by bttv...
&lt;pinchartl&gt; patches would be great :-)
&lt;pere&gt; I am sure it would, but lack the capacity too look into that. :)
&lt;pere&gt; pinchartl: is the description in that bug report enough for you to
   know how to reproduce it?  I&#39;ve tried writing a test program, but only
   got a v4l2 device and got EBUSY when calling mmap() several times there.
&lt;pere&gt; but I suspect my test program is flawed, as I did not really quite
   understand the description.
&lt;pere&gt; the redhat bug report was very short, and I suspect the details are
   in one of the referred bug reports, which are not available to the public. :(

According to this report the issue still exist in the kernel for a small
number of camera drivers, so I mark it as found in the unstable kernel too.

I notice this bug is tagged upstream.  Is there a bug report upstream too?
I&#39;ve been unable to find any.

-- 
Happy hacking
Petter Reinholdtsen


</pre>

<div class="msgreceived"><hr><p>
<a name="13"></a>
<!-- command:found -->
<!-- requester: Petter Reinholdtsen &lt;pere@hungry.com&gt; -->
<!-- request_addr: 827340-submit@bugs.debian.org -->
<!-- time:1466202423 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;linux/4.6.2-1&#39;,
                                    &#39;linux/3.2.78-1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;linux/3.2.78-1&#39;
                                  ]
            };
-->
<strong>Marked as found in versions linux/4.6.2-1.</strong>
Request was from <code>Petter Reinholdtsen &lt;pere@hungry.com&gt;</code>
to <code>827340-submit@bugs.debian.org</code>.
 (Fri, 17 Jun 2016 22:27:03 GMT) (<a href="bugreport.cgi?bug=827340;msg=14">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=14">mbox</a>, <a href="#13">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="15"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt; -->
<!-- time:1466205128 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:<br>
<code>Bug#827340</code>; Package <code>src:linux</code>.
 (Fri, 17 Jun 2016 23:12:08 GMT) (<a href="bugreport.cgi?bug=827340;msg=16">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="17"></a>
<!-- request_addr: Petter Reinholdtsen &lt;pere@hungry.com&gt; -->
<!-- time:1466205128 -->
<strong>Acknowledgement sent</strong>
to <code>Petter Reinholdtsen &lt;pere@hungry.com&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>.
 (Fri, 17 Jun 2016 23:12:08 GMT) (<a href="bugreport.cgi?bug=827340;msg=18">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=18">mbox</a>, <a href="#17">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="19"></a><a name="msg19"></a><a href="#19">Message #19</a> received at 827340@bugs.debian.org (<a href="bugreport.cgi?bug=827340;msg=19">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=19">mbox</a>, <a href="mailto:827340@bugs.debian.org?subject=Re%3A%20linux%3A%20CVE-2010-5321%20memory%20leak%20in%20videobuf%20on%20multiple%20calls%20to%20mmap%28%29&amp;body=On%20Sat%2C%2018%20Jun%202016%2001%3A10%3A28%20%2B0200%20Petter%20Reinholdtsen%20%3Cpere%40hungry.com%3E%20wrote%3A%0A%3E%20Control%3A%20forwarded%20-1%20https%3A%2F%2Fbugzilla.kernel.org%2Fshow_bug.cgi%3Fid%3D120571%0A%3E%20%0A%3E%20I%20got%20some%20more%20information%20on%20the%20%23v4l%20IRC%20channel%20and%20decided%20to%0A%3E%20report%20the%20issue%20upstream%20while%20I%20was%20at%20it.%0A%3E%20%0A%3E%20%3Cpinchartl%3E%20which%20driver%20are%20you%20using%20%3F%0A%3E%20%3Cpere%3E%20I%20guess%20uvcvideo%20based%20on%20the%20lsmod%20output.%0A%3E%20%3Cpinchartl%3E%20uvcvideo%20uses%20videobuf2%0A%3E%20%3Cpinchartl%3E%20I%20quickly%20looked%20at%20the%20videobuf%20code%20and%20the%20bug%20seems%20to%0A%3E%20%20%20%20still%20be%20present%20%0A%3E%20%3Cpere%3E%20easy%20to%20fix%3F%0A%3E%20%3Cpinchartl%3E%20that%20I%20can%27t%20tell%20without%20a%20deeper%20analysis%20of%20the%20code%0A%3E%20%3Cpinchartl%3E%20it%20would%20need%20to%20be%20fixed%20in%20four%20places%2C%20as%20there%20are%20four%0A%3E%20%20%20%20memory%20allocator%20backends%20for%20videobuf%20%0A%3E%20%3Cpinchartl%3E%20moving%20drivers%20to%20videobuf2%20would%20be%20much%20better%0A%3E%20%3Cpinchartl%3E%20especially%20the%20bttv%20driver%0A%3E%20%3Cpinchartl%3E%20and%20if%20Debian%20decides%20to%20disable%20the%20above%2011%20drivers%20by%0A%3E%20%20%20%20default%20until%20they%20get%20fixed%2C%20I%20won%27t%20complain%0A%3E%20%3Cpinchartl%3E%20although%20users%20might%0A%3E%20%3Cpere%3E%20what%20is%20the%20upstream%20location%20for%20v4l%20bugs%3F%20%20I%20guess%20it%20should%20be%0A%3E%20%20%20%20reported%20somewhere%20else%20than%20in%20redhat%20and%20debian%3F%20%0A%3E%20%3Cpere%3E%20perhaps%20it%20already%20is%20reported%20and%20I%20can%27t%20find%20it.%0A%3E%20%3Cpinchartl%3E%20there%27s%20a%20bugzilla%20instance%20on%20kernel.org%0A%3E%20%3Cpinchartl%3E%20https%3A%2F%2Fbugzilla.kernel.org%2F%0A%3E%20%3Cpinchartl%3E%20bugs%20are%20usually%20reported%20on%20the%20linux-media%20mailing%20list%0A%3E%20%3Cpere%3E%20hm%2C%0A%3E%20%20%20%3CURL%3A%0A%3E%20%20%20http%3A%2F%2Fwww.gossamer-threads.com%2Flists%2Flinux%2Fkernel%2F852719%3Fpage%3Dlast%20%3E%0A%3E%20%20%20seem%20related%0A%3E%20%3Cpere%3E%20reported%20upstream%20as%0A%3E%20%20%20%20%3CURL%3A%20https%3A%2F%2Fbugzilla.kernel.org%2Fshow_bug.cgi%3Fid%3D120571%20%3E%0A%3E%20--%20%0A%3E%20Happy%20hacking%0A%3E%20Petter%20Reinholdtsen%0A%3E%20%0A%3E%20%0A&amp;References=%3C2flinxbx842.fsf%40diskless.uio.no%3E%20%3C20160617222544.GA6283%40diskless.uio.no%3E%0A%20%3C2flh9crmmxn.fsf%40diskless.uio.no%3E&amp;In-Reply-To=%3C2flh9crmmxn.fsf%40diskless.uio.no%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pere%40hungry.com" alt="">
<div class="header"><span class="headerfield">From:</span> Petter Reinholdtsen &lt;pere@hungry.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> 827340@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: linux: CVE-2010-5321 memory leak in videobuf on multiple calls to mmap()</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 18 Jun 2016 01:10:28 +0200</div>
</div>
<pre class="message">Control: forwarded -1 <a href="https://bugzilla.kernel.org/show_bug.cgi?id=120571">https://bugzilla.kernel.org/show_bug.cgi?id=120571</a>

I got some more information on the #v4l IRC channel and decided to
report the issue upstream while I was at it.

&lt;pinchartl&gt; which driver are you using ?
&lt;pere&gt; I guess uvcvideo based on the lsmod output.
&lt;pinchartl&gt; uvcvideo uses videobuf2
&lt;pinchartl&gt; I quickly looked at the videobuf code and the bug seems to
   still be present 
&lt;pere&gt; easy to fix?
&lt;pinchartl&gt; that I can&#39;t tell without a deeper analysis of the code
&lt;pinchartl&gt; it would need to be fixed in four places, as there are four
   memory allocator backends for videobuf 
&lt;pinchartl&gt; moving drivers to videobuf2 would be much better
&lt;pinchartl&gt; especially the bttv driver
&lt;pinchartl&gt; and if Debian decides to disable the above 11 drivers by
   default until they get fixed, I won&#39;t complain
&lt;pinchartl&gt; although users might
&lt;pere&gt; what is the upstream location for v4l bugs?  I guess it should be
   reported somewhere else than in redhat and debian? 
&lt;pere&gt; perhaps it already is reported and I can&#39;t find it.
&lt;pinchartl&gt; there&#39;s a bugzilla instance on kernel.org
&lt;pinchartl&gt; <a href="https://bugzilla.kernel.org/">https://bugzilla.kernel.org/</a>
&lt;pinchartl&gt; bugs are usually reported on the linux-media mailing list
&lt;pere&gt; hm,
  &lt;URL:
  <a href="http://www.gossamer-threads.com/lists/linux/kernel/852719?page=last">http://www.gossamer-threads.com/lists/linux/kernel/852719?page=last</a> &gt;
  seem related
&lt;pere&gt; reported upstream as
   &lt;URL: <a href="https://bugzilla.kernel.org/show_bug.cgi?id=120571">https://bugzilla.kernel.org/show_bug.cgi?id=120571</a> &gt;
-- 
Happy hacking
Petter Reinholdtsen


</pre>

<div class="msgreceived"><hr><p>
<a name="20"></a>
<!-- command:forwarded -->
<!-- requester: Petter Reinholdtsen &lt;pere@hungry.com&gt; -->
<!-- request_addr: 827340-submit@bugs.debian.org -->
<!-- time:1466205128 -->
<!-- new_data:
$new_data = {
              &#39;forwarded&#39; =&gt; &#39;<a href="https://bugzilla.kernel.org/show_bug.cgi?id=120571">https://bugzilla.kernel.org/show_bug.cgi?id=120571</a>&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;forwarded&#39; =&gt; &#39;&#39;
            };
-->
<strong>Set Bug forwarded-to-address to &#39;<a href="https://bugzilla.kernel.org/show_bug.cgi?id=120571">https://bugzilla.kernel.org/show_bug.cgi?id=120571</a>&#39;.</strong>
Request was from <code>Petter Reinholdtsen &lt;pere@hungry.com&gt;</code>
to <code>827340-submit@bugs.debian.org</code>.
 (Fri, 17 Jun 2016 23:12:08 GMT) (<a href="bugreport.cgi?bug=827340;msg=21">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=21">mbox</a>, <a href="#20">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="22"></a>
<!-- command:found -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1466224204 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;linux/4.6.2-1&#39;,
                                    &#39;linux/3.2.41-2&#39;,
                                    &#39;linux/3.2.78-1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;linux/4.6.2-1&#39;,
                                    &#39;linux/3.2.78-1&#39;
                                  ]
            };
-->
<strong>Marked as found in versions linux/3.2.41-2.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 18 Jun 2016 04:30:04 GMT) (<a href="bugreport.cgi?bug=827340;msg=23">full text</a>, <a href="bugreport.cgi?bug=827340;mbox=yes;msg=23">mbox</a>, <a href="#22">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=827340">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:32:27 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
