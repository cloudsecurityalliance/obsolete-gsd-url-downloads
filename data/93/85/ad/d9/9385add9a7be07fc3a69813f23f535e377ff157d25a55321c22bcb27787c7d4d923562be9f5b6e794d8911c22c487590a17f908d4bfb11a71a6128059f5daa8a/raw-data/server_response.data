<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="1173284 - (CVE-2015-8511) Firefox OS Lockscreen passcode bypass due to race condition">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=1173284">
<meta property="og:description"
      content="RESOLVED (gweng) in Firefox OS Graveyard - Gaia::System::Lockscreen. Last updated 2017-03-29.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="defect">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="--">

    <meta name="viewport" content="width=1024">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20211025.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;},&quot;string&quot;:{&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;is_new&quot;:1,&quot;login&quot;:&quot;&quot;}}">
    <title>1173284 - (CVE-2015-8511) Firefox OS Lockscreen passcode bypass due to race condition</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=1173284&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="/showdependencygraph.cgi?id=1173284">

      <link rel="Show" title="Bug Activity"
            href="/show_activity.cgi?id=1173284">

<link href="/static/v20211025.1/skins/yui.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/EditComments/web/styles/inline-editor.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css">



    
<script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/jquery/jquery-min.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/yui.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/global.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/util.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/dropdown.js"></script>

      <script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"types\":[\"tracking\"],\"comments\":{\"cf_tracking_firefox_esr91\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_relnote\":{\"?\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox_esr78\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_blocking_b2g\":{\"2.0?\":\"[Blocking Requested - why for this release]:\",\"fugu?\":\"[Blocking Requested - why for this release]:\",\"2.1?\":\"[Blocking Requested - why for this release]:\",\"spark?\":\"[Blocking Requested - why for this release]:\",\"koi?\":\"[Blocking Requested - why for this release]:\",\"2.5?\":\"[Blocking Requested - why for this release]:\",\"1.4?\":\"[Blocking Requested - why for this release]:\"}},\"flags\":{\"tracking\":{\"cf_status_b2g_2_1\":\"wontfix\",\"cf_tracking_firefox_esr91\":\"---\",\"cf_status_firefox_esr78\":\"---\",\"cf_status_b2g_2_1_s\":\"wontfix\",\"cf_status_b2g_2_2\":\"wontfix\",\"cf_status_b2g_2_0\":\"wontfix\",\"cf_status_b2g_master\":\"fixed\",\"cf_tracking_firefox_relnote\":\"---\",\"cf_status_b2g_2_2r\":\"wontfix\",\"cf_status_firefox_esr91\":\"---\",\"cf_tracking_firefox_esr78\":\"---\",\"cf_status_b2g_2_0m\":\"wontfix\"},\"project\":{\"cf_blocking_b2g\":\"2.5+\"}}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 1173284;
  BUGZILLA.bug_title = '1173284 - (CVE-2015-8511) Firefox OS Lockscreen passcode bypass due to race condition';
  BUGZILLA.bug_summary = 'Firefox OS Lockscreen passcode bypass due to race condition';
  BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=1173284';
  BUGZILLA.bug_keywords = 'sec-high',
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/BugModal/web/comments.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/bugzilla-readable-status-min.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/field.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/comments.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/MozChangeField/web/js/severity-s1-priority-p1.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/MozChangeField/web/js/clear-tracking-priority-s1.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/MozChangeField/web/js/set-tracking-severity-s1.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/lib/prism.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/GoogleAnalytics/web/js/analytics.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/js/lib/md5.min.js"></script><script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB" src="/static/v20211025.1/extensions/Review/web/js/badge.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1173284">
<link rel="shorturl" href="https://bugzilla.mozilla.org/1173284"><meta name="google-analytics" content="UA-36116321-3" data-location="https://bugzilla.mozilla.org/bug/show-modal" data-title="1173284 - (CVE-2015-8511) Firefox OS Lockscreen passcode bypass due to race condition">
<script async src="https://www.google-analytics.com/analytics.js"></script><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="wrapper">

<header id="header" role="banner">
  <div class="inner">
    <h1 id="header-title" class="title"><a href="https://bugzilla.mozilla.org/home" title="Go to home page">Bugzilla</a></h1>
    <form role="search" id="header-search" class="quicksearch" action="/buglist.cgi" data-no-csrf>
      <section class="searchbox-outer dropdown" role="combobox" aria-expanded="false" aria-haspopup="listbox"
               aria-labelledby="header-search-label" aria-owns="header-search-dropdown">
        <h2 id="header-search-label">Quick Search</h2>
        <span class="icon" aria-hidden="true"></span>
        <input role="searchbox" id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" placeholder="Search Bugs"
               title="Enter a bug number or some search terms" aria-controls="header-search-dropdown"
               aria-label="Quick Search"><div id="header-search-dropdown" class="dropdown-content right" role="listbox" style="display: none;">
  <div id="header-search-dropdown-wrapper">
  </div>
</div>
      </section>
    </form>
    <nav id="header-nav">
      <ul class="links">
        <li class="link-browse">
          <a href="/describecomponents.cgi" title="Browse bugs by component">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Browse</span>
          </a>
        </li>
        <li class="link-search">
          <a href="/query.cgi?format=advanced" title="Search bugs using various criteria">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Advanced Search</span>
          </a>
        </li>
      </ul>
      <div class="dropdown">
        <button type="button" id="header-tools-menu-button" class="dropdown-button minor" title="More tools…"
                aria-label="More tools…" aria-expanded="false" aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a href="/report.cgi" role="menuitem" tabindex="-1">Reports</a>
          </li>
            <li role="separator"></li>
            <li role="presentation">
              <a href="https://bmo.readthedocs.io/en/latest/" role="menuitem" tabindex="-1">Documentation</a>
            </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links">
          <li id="moz_new_account_container_top"><a href="/createaccount.cgi">New Account</a></li><li id="mini_login_container_top">
  <a id="login_link_top" href="/index.cgi?GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden"><span id="github_mini_login_top" class="mini_login_top">
    <form method="post" action="/github.cgi">
      <input type="hidden" name="github_secret" value="mQCXNSxZGhUJsCaRXZ3k9IZOblMpFD6LJU8UnqUpWnOHUenduWVYsWSd7inSxfGxi2parsgWQA5f4sGCREcxj8ioY5XPO4D0tLzVbOVueHvWLxilQuoFb8WOUOWjMVXutdBClQkDJCORIOgvVJANJdaK51eYhQk8JZqXHiQC15Wycyyutf9XDzkPewZCveroRLaJblw1r9eiWNjv6ZOgbRQ1BYC14Yt3cMJVqXhhJoquHp4m6r9emmC3uNW2N7cN">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi">
      <input type="image" src="/extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>

  <form action="/show_bug.cgi?id=1173284" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top"
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
<li id="forgot_container_top">
  <a id="forgot_link_top" href="/index.cgi?GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1635622684-c52QJCwNyzKYQWeVcqFQGQEwq6m5K8rfWYiZa_kuAo8">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul><div id="header-external-links" class="dropdown first">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor" title="Mozilla"
          aria-label="Mozilla" aria-expanded="false" aria-haspopup="true" aria-controls="header-external-menu">
    <img src="/static/v20211025.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg" width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" style="display:none;">
    <li role="presentation">
      <a href="https://www.mozilla.org/" role="menuitem" tabindex="-1">Mozilla Home</a>
    </li>
    <li role="separator"></li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem" tabindex="-1">Privacy</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem" tabindex="-1">Cookies</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem" tabindex="-1">Legal</a>
    </li>
  </ul>
</div>
  </div>
</header> 


<main id="bugzilla-body" tabindex="-1">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary"
      title="Copy bug number and summary to your clipboard">Copy Summary</button>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/1173284" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=1173284" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent" id="field-status_summary"
>


  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=1173284">Bug 1173284</a>
          <span class="edit-hide">(CVE-2015-8511)</span>
      </span>
      <span>
        <span class="bug-time-label">Opened <span class="rel-time" title="2015-06-10 01:50 PDT" data-time="1433926205">7 years ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2015-07-29 02:32 PDT" data-time="1438162365">6 years ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field indent edit-hide"
>


  
    <div class=" container">
      

      <h1 id="field-value-short_desc">Firefox OS Lockscreen passcode bypass due to race condition</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-short_desc">
            Firefox OS Lockscreen passcode bypass due to race condition

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (Firefox OS Graveyard :: Gaia::System::Lockscreen, defect)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Firefox%20OS%20Graveyard" id="product-help-link" class="help">Product:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">Firefox OS Graveyard
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">Firefox OS Graveyard</div>
            <div class="description">FirefoxOS, or Boot2Gecko (B2G) is Mozilla's operating system built on web standards. (<a href="https://wiki.mozilla.org/B2G">more info</a>)</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Firefox%20OS%20Graveyard&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=Firefox%20OS%20Graveyard"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Firefox OS Graveyard"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Firefox%20OS%20Graveyard&component=Gaia%3A%3ASystem%3A%3ALockscreen#Gaia%3A%3ASystem%3A%3ALockscreen" id="component-help-link" class="help">Component:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">Gaia::System::Lockscreen
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">Firefox OS Graveyard :: Gaia::System::Lockscreen</div>
            <div class="description">Any issues related to Gaia's lockscreen.</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Firefox%20OS%20Graveyard&amp;component=Gaia%3A%3ASystem%3A%3ALockscreen&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=Firefox%20OS%20Graveyard&amp;component=Gaia%3A%3ASystem%3A%3ALockscreen&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=Firefox%20OS%20Graveyard&amp;component=Gaia%3A%3ASystem%3A%3ALockscreen"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Firefox OS Graveyard" data-component="Gaia::System::Lockscreen"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-version" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-version">
            unspecified

        </span>
    </div>

  
</div>

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>


  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>


  
    <div class="value">
        <span id="field-value-rep_platform">
            ARM

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>


  
    <div class="value">
        <span id="field-value-op_sys">
            Gonk (Firefox OS)

        </span>
    </div>

  
</div><div class="field indent inline"
>


  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field contains-buttons" id="field-bug_type"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="defect">
        <span class="icon" aria-hidden="true"></span>defect</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-importance"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="importance-help-link" class="help">Priority:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-importance"><div class="field inline" id="field-priority"
>


  
    <div class="value">
        <span id="field-value-priority">
          <em>Not set</em>
        </span>
    </div>

  
</div><div class="field inline" id="field-bug_severity"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_severity">
            major

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>

    
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (blocking-b2g:2.5+, b2g-v2.0 wontfix, b2g-v2.0M wontfix, b2g-v2.1 wontfix, b2g-v2.1S wontfix, b2g-v2.2 wontfix, b2g-v2.2r wontfix, b2g-master fixed)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-view">RESOLVED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>


  
    <div class="value">
        <span id="field-value-bug_status">
            RESOLVED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>


  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-target_milestone"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-target_milestone">
            FxOS-S4 (07Aug)

        </span>
    </div>

  
</div>

    


      <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Project Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-hide">
    <table class="layout-table tracking-flags">
        <tr>
          <td class="tracking-flag-name">blocking-b2g</td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_blocking_b2g&amp;o1=equals&amp;v1=2.5%2B">2.5+</a>
          </td>
        </tr>
    </table>
  </div>


<div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <td class="tracking-flag-name">blocking-b2g</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_blocking_b2g-dirty">
  <select id="cf_blocking_b2g" name="cf_blocking_b2g">
        <option value="2.5+"
          id="v2127_cf_blocking_b2g" selected
        >2.5+
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

      <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-hide">
    <table class="layout-table tracking-flags">
        <tr>
          <th></th>
          <th>Tracking</th>
          <th>Status</th>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v2.0</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v2.0M</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v2.1</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v2.1S</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_2_1_s&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v2.2</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v2.2r</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_2_2r&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-master</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_master&amp;o1=equals&amp;v1=fixed">fixed</a>
          </td>
        </tr>
    </table>
  </div>


<div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v2.0</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_2_0-dirty">
  <select id="cf_status_b2g_2_0" name="cf_status_b2g_2_0">
        <option value="wontfix"
          id="v1604_cf_status_b2g_2_0" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v2.0M</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_2_0m-dirty">
  <select id="cf_status_b2g_2_0m" name="cf_status_b2g_2_0m">
        <option value="wontfix"
          id="v1915_cf_status_b2g_2_0m" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v2.1</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_2_1-dirty">
  <select id="cf_status_b2g_2_1" name="cf_status_b2g_2_1">
        <option value="wontfix"
          id="v1738_cf_status_b2g_2_1" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v2.1S</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_2_1_s-dirty">
  <select id="cf_status_b2g_2_1_s" name="cf_status_b2g_2_1_s">
        <option value="wontfix"
          id="v2122_cf_status_b2g_2_1_s" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v2.2</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_2_2-dirty">
  <select id="cf_status_b2g_2_2" name="cf_status_b2g_2_2">
        <option value="wontfix"
          id="v1879_cf_status_b2g_2_2" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v2.2r</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_2_2r-dirty">
  <select id="cf_status_b2g_2_2r" name="cf_status_b2g_2_2r">
        <option value="wontfix"
          id="v2353_cf_status_b2g_2_2r" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-master</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_master-dirty">
  <select id="cf_status_b2g_master" name="cf_status_b2g_master">
        <option value="fixed"
          id="v2078_cf_status_b2g_master" selected
        >fixed
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">relnote-firefox</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_relnote-dirty">
  <select id="cf_tracking_firefox_relnote" name="cf_tracking_firefox_relnote">
        <option value="---"
          id="v539_cf_tracking_firefox_relnote" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr78-dirty">
  <select id="cf_tracking_firefox_esr78" name="cf_tracking_firefox_esr78">
        <option value="---"
          id="v4808_cf_tracking_firefox_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr78-dirty">
  <select id="cf_status_firefox_esr78" name="cf_status_firefox_esr78">
        <option value="---"
          id="v4813_cf_status_firefox_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr91</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr91-dirty">
  <select id="cf_tracking_firefox_esr91" name="cf_tracking_firefox_esr91">
        <option value="---"
          id="v5194_cf_tracking_firefox_esr91" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr91-dirty">
  <select id="cf_status_firefox_esr91" name="cf_status_firefox_esr91">
        <option value="---"
          id="v5199_cf_status_firefox_esr91" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>

</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: lixia, Assigned: gweng)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_476523" ><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">gweng</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-hide" id="field-qa_contact"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact"><div class="vcard vcard_501985" ><img src="https://secure.gravatar.com/avatar/b98bc212cb3a7aaecd8cb71d27df6487?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email disabled" href="/user_profile?user_id=501985" > <span class="fna">pcheng</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_519767" ><img src="https://secure.gravatar.com/avatar/b125706ec5eab7079333f4cec2f443a2?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email disabled" href="/user_profile?user_id=519767" > <span class="fna">lixia</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-triage_owner" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-triage_owner">
            ---

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>


  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="38">38 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug-list" id="field-dependson"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-dependson">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - [Lockscreen] enabling/disabling passcode will not take effect until device is restarted"
   href="/show_bug.cgi?id=1189455">1189455</a>
      </div>

        </span>
    </div>

  
</div><div class="field bug-list" id="field-blocked"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-blocked">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - passive pairing not work when fresh flash"
   href="/show_bug.cgi?id=1175955">1175955</a>
      </div>

        </span>
    </div>

  
</div><div class="field" id="field-dependencytree"
>
    <div class="name">
    </div>


  
    <div class=" container">
        <span id="field-value-dependencytree">
        Dependency <a href="/showdependencytree.cgi?id=1173284&amp;hide_resolved=1">tree</a>
        / <a href="/showdependencygraph.cgi?id=1173284">graph</a>
        </span>
    </div>

  
</div>

    <div class="field bug-list edit-show" id="field-regresses" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-regressed_by" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    <div class="field bug-list"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates" id="-help-link" class="help">Duplicates:
        </a>
    </div>


  
    <div class="value">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - lock passcode not requested when powering up"
   href="/show_bug.cgi?id=1177373">1177373</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Phone can be unlocked without password when restarting"
   href="/show_bug.cgi?id=1184875">1184875</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Lockscreen passcode bypass"
   href="/show_bug.cgi?id=1185096">1185096</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Lockscreen pass code bypass after reboot"
   href="/show_bug.cgi?id=1187368">1187368</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Bypass lockscreen without entering passcode"
   href="/show_bug.cgi?id=1187765">1187765</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Possible to circumvent lockscreen by swiping it away before it is visible"
   href="/show_bug.cgi?id=1265319">1265319</a>
      </div>

    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_file_loc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="" target="_blank"
      rel="noreferrer" title=""
      class="bug-url" data-safe="0"></a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-see_also"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-see_also">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - Lockscreen: harden .unlock() against settings observer callback race conditions"
   href="/show_bug.cgi?id=1188934">1188934</a>
      </div>

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Keywords: sec-high, Whiteboard: [v3.0-nexus-5-l][b2g-adv-main2.5+])
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-alias">
            CVE-2015-8511

        </span>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a>
        </span>
    </div>

  
</div>

    <div class="field" id="field-status_whiteboard"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-status_whiteboard">[v3.0-nexus-5-l][b2g-adv-main2.5+]
        </span>
    </div>

  
</div><div class="field" id="field-cf_qa_whiteboard"
>
    <div class="name">QA Whiteboard:
    </div>


  
    <div class="value">
        <span id="field-value-cf_qa_whiteboard">
            [QAnalyst-Triage+]

        </span>
    </div>

  
</div>

    

    

    <div class="field" id="field-votes"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-votes">0
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-bug_flags"
>
    <div class="name">Bug Flags:
    </div>


  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_465475" ><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">cr</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a7862760_465475"
            class="rel-time-title activity-ref"
            title="6 years ago"
        data-time="1438170551"
      >sec-review</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_465475" ><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">cr</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Used to ask the security team to look over a feature or bug. (deprecated: please see https://wiki.mozilla.org/Security/Reviews/)" for="flag-1220490">sec-review</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1220490-dirty">
      <select id="flag-1220490" name="flag-1220490"
        title="Used to ask the security team to look over a feature or bug. (deprecated: please see https://wiki.mozilla.org/Security/Reviews/)"
          disabled
        class="bug-flag">
          <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_1689" ><a class="email " href="/user_profile?user_id=1689" > <span class="fna">dveditz</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a4697466_1689"
            class="rel-time-title activity-ref"
            title="6 years ago"
        data-time="1437984543"
      >sec-bounty</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_1689" ><a class="email " href="/user_profile?user_id=1689" > <span class="fna">dveditz</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag-1218377">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1218377-dirty">
      <select id="flag-1218377" name="flag-1218377"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
            <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in-qa-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-37">in-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-37-dirty">
      <select id="flag_type-37" name="flag_type-37"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually" for="flag_type-864">qe-verify</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-864-dirty">
      <select id="flag_type-864" name="flag_type-864"
        title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually"
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Signature:
    </div>


  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (5 files)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8617794">logcat_2047.txt</a>
        </div>
        <div>
            <a href="#c1" class="attach-time activity-ref"><span class="rel-time" title="2015-06-10 01:53 PDT" data-time="1433926420">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_519767" ><a class="email disabled" href="/user_profile?user_id=519767" > <span class="fna">Shally Li（leave from Mozilla）</span></a>
</div></span>
        </div>
        <div class="attach-info">824.01 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8617794&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8617795">passcode.mp4</a>
        </div>
        <div>
            <a href="#c2" class="attach-time activity-ref"><span class="rel-time" title="2015-06-10 01:56 PDT" data-time="1433926563">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_519767" ><a class="email disabled" href="/user_profile?user_id=519767" > <span class="fna">Shally Li（leave from Mozilla）</span></a>
</div></span>
        </div>
        <div class="attach-info">5.24 MB,
          video/mp4        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8617795&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8628283">WIP patch</a>
        </div>
        <div>
            <a href="#c20" class="attach-time activity-ref"><span class="rel-time" title="2015-07-01 08:24 PDT" data-time="1435764289">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_476523" ><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div></span>
        </div>
        <div class="attach-info">46 bytes,
          text/x-github-pull-request        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8628283&amp;action=edit">Details</a>&#x0020; |
  <a href="/attachment.cgi?id=8628283">Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8636455">[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master</a>
        </div>
        <div>
            <a href="#c31" class="attach-time activity-ref"><span class="rel-time" title="2015-07-21 01:06 PDT" data-time="1437465981">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_517379" ><a class="email disabled" href="/user_profile?user_id=517379" > <span class="fna">GitHub Autolander Bot</span></a>
</div></span>
        </div>
        <div class="attach-info">46 bytes,
          text/x-github-pull-request        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_185001" ><span class="fn">timdream</span>
</div>:
              <a href="#c64"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1438065490"
            >
              review+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_185001" ><span class="fn">timdream</span>
</div>:
              <a href="#c37"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1437466084"
            >
              feedback+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8636455&amp;action=edit">Details</a>&#x0020; |
  <a href="/attachment.cgi?id=8636455">Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8640386">The new PR</a>
        </div>
        <div>
            <a href="#c84" class="attach-time activity-ref"><span class="rel-time" title="2015-07-29 02:24 PDT" data-time="1438161845">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_476523" ><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div></span>
        </div>
        <div class="attach-info">46 bytes,
          text/x-github-pull-request        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8640386&amp;action=edit">Details</a>&#x0020; |
  <a href="/attachment.cgi?id=8640386">Review</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
  </div>
  
</footer>
  </div>
</section>



<script nonce="UgggS3gmx6Lptqhd1wWM36bhlTBbscc7vupjzbjc48Rb8GgB">
  init_module_visibility();
</script>



<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;94.0b9&quot;,&quot;FIREFOX_ESR&quot;:&quot;78.15.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;91.2.0esr&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;95.0a1&quot;,&quot;FIREFOX_PINEBUILD&quot;:&quot;&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2021-10-04&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2021-10-05&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2021-09-30&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;93.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2021-11-01&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2021-11-02&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2021-10-28&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="10364980" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_519767" ><img src="https://secure.gravatar.com/avatar/b125706ec5eab7079333f4cec2f443a2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_519767" ><a class="email disabled" href="/user_profile?user_id=519767" > <span class="fna">Shally Li（leave from Mozilla）</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-10 01:50 PDT" data-time="1433926205">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-0" data-comment-id="10364980">[1.Description]:
[Flame v3.0][Nexus 5 v3.0][Lock Screen]Enable the passcode, restart device, slide to left for unlocking screen, but sometimes it will not prompt user to input the passcode and directly enter homescreen.

Found time: 20:47
Attach: passcode.mp4 and logcat_2047.txt

[2.Testing Steps]: 
1. Enable passcode lock in Settings/Screen Lock.
2. Restart device.
3. Try to unlock screen.

[3.Expected Result]: 
3. It should prompt user to input passcode for unlocking sceen.

[4.Actual Result]: 
3. It will not prompt user to input passcode.

[5.Reproduction build]: 

Device: Flame v2.2 build(unaffected)
Build ID               20150609162508
Gaia Revision          06edb0f8db7c2f45cde54401a8593663059861a4
Gaia Date              2015-06-08 14:29:09
Gecko Revision         <a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-b2g37_v2_2/rev/a3d7b08fb0ec">https://hg.mozilla.org/releases/mozilla-b2g37_v2_2/rev/a3d7b08fb0ec</a>
Gecko Version          37.0
Device Name            flame
Firmware(Release)      4.4.2
Firmware(Incremental)  eng.cltbld.20150609.211329
Firmware Date          Tue Jun  9 21:13:39 EDT 2015
Bootloader             L1TC000118D0

Device: Nexus 5 v2.2 build(unaffected)
Build ID               20150609081832
Gaia Revision          06edb0f8db7c2f45cde54401a8593663059861a4
Gaia Date              2015-06-08 14:29:09
Gecko Revision         <a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-b2g37_v2_2/rev/239c59921129">https://hg.mozilla.org/releases/mozilla-b2g37_v2_2/rev/239c59921129</a>
Gecko Version          37.0
Device Name            hammerhead
Firmware(Release)      5.1
Firmware(Incremental)  eng.cltbld.20150609.121628
Firmware Date          Tue Jun  9 12:16:44 EDT 2015
Bootloader             HHZ12f

Device: Flame v3.0 build(affected)
Build ID               20150609160220
Gaia Revision          31ef8deec7a04a988eb92309178b87cc0bde8220
Gaia Date              2015-06-08 14:48:40
Gecko Revision         <a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/8be8deb10e4f">https://hg.mozilla.org/mozilla-central/rev/8be8deb10e4f</a>
Gecko Version          41.0a1
Device Name            flame
Firmware(Release)      4.4.2
Firmware(Incremental)  eng.cltbld.20150609.193617
Firmware Date          Tue Jun  9 19:36:29 EDT 2015
Bootloader             L1TC000118D0

Device: Nexus 5 v3.0 build(affected)
Build ID               20150609081840
Gaia Revision          ea27c4ed5b6083c9e21d233d4804372ac4d5d353
Gaia Date              2015-06-08 03:06:41
Gecko Revision         <a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/e10e2e8d8bf2">https://hg.mozilla.org/mozilla-central/rev/e10e2e8d8bf2</a>
Gecko Version          41.0a1
Device Name            hammerhead
Firmware(Release)      5.1
Firmware(Incremental)  eng.cltbld.20150609.121002
Firmware Date          Tue Jun  9 12:10:19 EDT 2015
Bootloader             HHZ11k


[6.Reproduction Frequency]: 
occasionally Recurrence,6/20

[7.TCID]: 
Free Test</pre></div><div class="change-set" id="a171_519767"><div class="change" id="aa171_519767">
    <table class="layout-table change-head reporter" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_519767" id="a171_519767"><img src="https://secure.gravatar.com/avatar/b125706ec5eab7079333f4cec2f443a2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_519767" id="a171_519767"><a class="email disabled" href="/user_profile?user_id=519767" > <span class="fna">Shally Li（leave from Mozilla）</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a171_519767"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a171_519767">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a171_519767">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-10 01:52 PDT" data-time="1433926376">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=isnotempty">status-b2g-v2.2</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_master&amp;o1=isnotempty">status-b2g-master</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_master&amp;o1=equals&amp;v1=affected">affected</a></div></div></div><div class="change-set" id="c1"><div class="comment" data-id="10364984" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-1" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_519767" id="a171_519767"><img src="https://secure.gravatar.com/avatar/b125706ec5eab7079333f4cec2f443a2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_519767" id="a171_519767"><a class="email disabled" href="/user_profile?user_id=519767" > <span class="fna">Shally Li（leave from Mozilla）</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-10 01:53 PDT" data-time="1433926420">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8617794"
         class="attachment"
         data-id="8617794" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="logcat_2047.txt">
      <meta itemprop="contentSize" content="843789">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8617794" itemprop="contentUrl">
        <span id="att-8617794-description" itemprop="description">logcat_2047.txt</span></a>
        — <a href="attachment.cgi?id=8617794&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="c2"><div class="comment" data-id="10364992" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-2" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_519767" id="a171_519767"><img src="https://secure.gravatar.com/avatar/b125706ec5eab7079333f4cec2f443a2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_519767" id="a171_519767"><a class="email disabled" href="/user_profile?user_id=519767" > <span class="fna">Shally Li（leave from Mozilla）</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-10 01:56 PDT" data-time="1433926563">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8617795"
         class="attachment"
         data-id="8617795" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="passcode.mp4">
      <meta itemprop="contentSize" content="5491570">
      <meta itemprop="encodingFormat" content="video/mp4">
      <div class="label">
        Attached video
          <a class="link" href="attachment.cgi?id=8617795" itemprop="contentUrl">
        <span id="att-8617795-description" itemprop="description">passcode.mp4</span></a>
        — <a href="attachment.cgi?id=8617795&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="a1437346_481704"><div class="change" id="aa1437346_481704">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_481704" id="a1437346_481704"><img src="https://secure.gravatar.com/avatar/64e3836a9a67b8d1f2cdf36cd7d857a4?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_481704" id="a1437346_481704"><a class="email " href="/user_profile?user_id=481704" > <span class="fna">KTucker [:KTucker][Inactive 3/4/2016]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1437346_481704"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1437346_481704">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a1437346_481704">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-26 17:05 PDT" data-time="1435363551">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - lock passcode not requested when powering up"
   href="/show_bug.cgi?id=1177373">1177373</a></div></div></div><div class="change-set" id="c4"><div class="comment" data-id="10427284" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-4" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_481704" id="a1437346_481704"><img src="https://secure.gravatar.com/avatar/64e3836a9a67b8d1f2cdf36cd7d857a4?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_481704" id="a1437346_481704"><a class="email " href="/user_profile?user_id=481704" > <span class="fna">KTucker [:KTucker][Inactive 3/4/2016]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-26 17:13 PDT" data-time="1435364005">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-4" data-comment-id="10427284">[Blocking Requested - why for this release]:

The user should always be prompted for a passcode and this is a regression so nominating this 3.0?</pre><div class="activity"><div class="change">blocking-b2g: --- &rarr; 3.0?</div><div class="change">Keywords: <a href="/buglist.cgi?keywords=regression&amp;resolution=---">regression</a>, 
          
            <a href="/buglist.cgi?keywords=regressionwindow-wanted&amp;resolution=---">regressionwindow-wanted</a></div></div></div><div class="change-set" id="a1437857_501985"><div class="change" id="aa1437857_501985">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_501985" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/b98bc212cb3a7aaecd8cb71d27df6487?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_501985" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=501985" > <span class="fna">Pi Wei Cheng [:piwei] (inactive)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1437857_501985"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1437857_501985">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a1437857_501985">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-26 17:14 PDT" data-time="1435364062">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">QA Contact: pcheng</div></div></div><div class="change-set" id="c5"><div class="comment" data-id="10428242" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-5" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a1437857_501985"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_391803" id="a1437857_501985"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-27 18:39 PDT" data-time="1435455551">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-5" data-comment-id="10428242">Nom is good.  

I noticed one case is when the phone is flashed and the device is turned off completely and then turned back on.</pre></div><div class="change-set" id="c6"><div class="comment" data-id="10428272" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-6" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_392417" id="a1437857_501985"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_392417" id="a1437857_501985"><a class="email " href="/user_profile?user_id=392417" > <span class="fna">:Atoll</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-27 20:09 PDT" data-time="1435460979">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-6" data-comment-id="10428272">I am able to reproduce this by swiping unlock less than one second after the lock screen is first displayed at power on. Waiting more than one second or so prevents the issue from occurring, and it correctly asks for a PIN.</pre></div><div class="change-set" id="c7"><div class="comment" data-id="10428273" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-7" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_392417" id="a1437857_501985"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_392417" id="a1437857_501985"><a class="email " href="/user_profile?user_id=392417" > <span class="fna">:Atoll</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-27 20:10 PDT" data-time="1435461006">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-7" data-comment-id="10428273">A reflash is not required to trigger the issue.</pre></div><div class="change-set" id="c8"><div class="comment" data-id="10428978" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-8" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_468904" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/3e4afa969d2d34438df2e102dc85fa91?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_468904" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=468904" > <span class="fna">Michael Henretty [:mikehenrty][:mhenretty]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-28 14:38 PDT" data-time="1435527502">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-8" data-comment-id="10428978">This is a big concern for our foxfooders. Let's fix ASAP. Greg, any ideas what may be going on?</pre><div class="activity"><div class="change">blocking-b2g: 2.5? &rarr; 2.5+</div><div class="change">Flags: needinfo?(gweng)</div></div></div><div class="change-set" id="c9"><div class="comment" data-id="10429222" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-9" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-28 22:16 PDT" data-time="1435555011">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-9" data-comment-id="10429222">I would check regression window from the time <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">Bug 1094759</a> got landed, since recently I don't remember I changed any LockScreen control flow except for this one.

The PR is here:
<a rel="nofollow" href="https://github.com/mozilla-b2g/gaia/pull/30383">https://github.com/mozilla-b2g/gaia/pull/30383</a>

If it only exists after this bug than we need to fix it in the bootstraping code. If not, it's a pure LockScreen issue. It would be helpful if we could first identify this.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(gweng)</span></div></div></div><div class="change-set" id="c10"><div class="comment" data-id="10430669" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-10" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-29 07:56 PDT" data-time="1435589795">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-10" data-comment-id="10430669">Yes...I've bisected the bug. While it's without the patch from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">Bug 1094759</a>, namely the patch:

c1ef854924f18357832ddcf98dc6c42391d5599e

I cannot reproduce it anymore. However, this is an unfortunately news. Since Alive's gone, and the patch is too huge, it's hard to fix this.</pre></div><div class="change-set" id="c11"><div class="comment" data-id="10430716" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-11" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-29 08:03 PDT" data-time="1435590189">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-11" data-comment-id="10430716">And maybe this should be in the pocket of smoke test, since it bypasses the security check. I don't know why it could escape from our people's check, I think it's another reason why never land big patch without split it.</pre></div><div class="change-set" id="c12"><div class="comment" data-id="10430742" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-12" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-29 08:11 PDT" data-time="1435590677">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-12" data-comment-id="10430742">Hi Michael: as I said, even though this is a serious bug, I may not solve it soon since the patch quite complicated (although I'll try it). Meanwhile I don't know what happened (maybe the exciting working week) to let the first landing (6/4) and report (6/10) are so far from the current revision (6/28). So if we can build some automation or manual test case for the bug, it would be great. But since I can only reproduce it after rebooting on device, I don't know if an automation test running not on an device could work as well.</pre><div class="activity"><div class="change">Flags: needinfo?(mhenretty)</div></div></div><div class="change-set" id="c13"><div class="comment" data-id="10430855" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-13" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_392417" id="a1437857_501985"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_392417" id="a1437857_501985"><a class="email " href="/user_profile?user_id=392417" > <span class="fna">:Atoll</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-29 08:35 PDT" data-time="1435592117">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-13" data-comment-id="10430855">Should we be marking the lockscreen as 'ready' before we've wired up the passcode-lock preference to the lockscreen?

--- a/apps/system/lockscreen/js/lockscreen.js
+++ b/apps/system/lockscreen/js/lockscreen.js
&#64;&#64; -329,6 +329,11 &#64;&#64;
    */
   LockScreen.prototype.init =
   function ls_init() {
+    window.SettingsListener.observe(
+        'lockscreen.passcode-lock.enabled', false, (function(value) {
+      this.setPassCodeEnabled(value);
+    }).bind(this));
+
     this.ready = true;
     /**
      * &quot;new style&quot; slider: as described in <a rel="nofollow" href="https://bugzil.la/950884">https://bugzil.la/950884</a>
&#64;&#64; -407,11 +412,6 &#64;&#64;
       this.overlay.classList.remove('uninit');
     }).bind(this));
 
-    window.SettingsListener.observe(
-        'lockscreen.passcode-lock.enabled', false, (function(value) {
-      this.setPassCodeEnabled(value);
-    }).bind(this));
-</pre></div><div class="change-set" id="c14"><div class="comment" data-id="10431337" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-14" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_501985" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/b98bc212cb3a7aaecd8cb71d27df6487?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_501985" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=501985" > <span class="fna">Pi Wei Cheng [:piwei] (inactive)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-29 10:17 PDT" data-time="1435598255">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-14" data-comment-id="10431337">b2g-inbound regression window:

Last Working
Device: Flame
BuildID: 20150604012244
Gaia: e0fbadeb78a96137f071d9be7a47ef9fe882d17f
Gecko: 64ce149fabf1
Version: 41.0a1 (3.0 Master) 
Firmware Version: v18D-1
User Agent: Mozilla/5.0 (Mobile; rv:41.0) Gecko/41.0 Firefox/41.0

First Broken
Device: Flame
BuildID: 20150604020845
Gaia: c1ef854924f18357832ddcf98dc6c42391d5599e
Gecko: 4f7e7631e277
Version: 41.0a1 (3.0 Master) 
Firmware Version: v18D-1
User Agent: Mozilla/5.0 (Mobile; rv:41.0) Gecko/41.0 Firefox/41.0

Last Working Gaia &amp; First Broken Gecko - no repro
Gaia: e0fbadeb78a96137f071d9be7a47ef9fe882d17f
Gecko: 4f7e7631e277

Last Working Gecko &amp; First Broken Gaia - repro
Gaia: c1ef854924f18357832ddcf98dc6c42391d5599e
Gecko: 64ce149fabf1

Gaia pushlog:
<a rel="nofollow" href="https://github.com/mozilla-b2g/gaia/compare/e0fbadeb78a96137f071d9be7a47ef9fe882d17f...c1ef854924f18357832ddcf98dc6c42391d5599e">https://github.com/mozilla-b2g/gaia/compare/e0fbadeb78a96137f071d9be7a47ef9fe882d17f...c1ef854924f18357832ddcf98dc6c42391d5599e</a>

Confirmed that this is caused by <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">bug 1094759</a>.</pre><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">system-bootstrap</a></div><div class="change">QA Whiteboard: [QAnalyst-Triage?]</div><div class="change">Flags: needinfo?(ktucker)</div><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=regressionwindow-wanted&amp;resolution=---">regressionwindow-wanted</a></span></div></div></div><div class="change-set" id="c15"><div class="comment" data-id="10432195" data-no="15"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-15" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_481704" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/64e3836a9a67b8d1f2cdf36cd7d857a4?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_481704" id="a1437857_501985"><a class="email " href="/user_profile?user_id=481704" > <span class="fna">KTucker [:KTucker][Inactive 3/4/2016]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-15"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-15" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-29 13:08 PDT" data-time="1435608513">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-15" data-comment-id="10432195">Tim, can you take a look at this please since the author of the landing for <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">bug 1094759</a> is no longer active? Looks like that landing caused this issue to occur.</pre><div class="activity"><div class="change">QA Whiteboard: [QAnalyst-Triage?] &rarr; [QAnalyst-Triage+]</div><div class="change">Flags: needinfo?(ktucker) &rarr; needinfo?(timdream)</div></div></div><div class="change-set" id="c16"><div class="comment" data-id="10432210" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-16" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_468904" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/3e4afa969d2d34438df2e102dc85fa91?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_468904" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=468904" > <span class="fna">Michael Henretty [:mikehenrty][:mhenretty]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-29 13:10 PDT" data-time="1435608622">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-16" data-comment-id="10432210">(In reply to Greg Weng [:snowmantw][:gweng][:λ] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c12">comment #12</a>)
<span class="quote">&gt; Hi Michael: as I said, even though this is a serious bug, I may not solve it
&gt; soon since the patch quite complicated (although I'll try it). Meanwhile I
&gt; don't know what happened (maybe the exciting working week) to let the first
&gt; landing (6/4) and report (6/10) are so far from the current revision (6/28).
&gt; So if we can build some automation or manual test case for the bug, it would
&gt; be great. But since I can only reproduce it after rebooting on device, I
&gt; don't know if an automation test running not on an device could work as well.</span >

Hi Greg, thanks for the explanation. If we were to add the `lockscreen.passcode-lock.enabled` and `lockscreen.passcode-lock.code` settings to a Marionette-JS startup (like here [1]), could we reproduce this bug from the context of an integration test?

1.) <a rel="nofollow" href="https://github.com/mozilla-b2g/gaia/blob/da447493053e704533c2b3fbb6be8dc93f71dacc/apps/system/test/marionette/software_home_fullscreen_test.js#L13">https://github.com/mozilla-b2g/gaia/blob/da447493053e704533c2b3fbb6be8dc93f71dacc/apps/system/test/marionette/software_home_fullscreen_test.js#L13</a></pre><div class="activity"><div class="change">Flags: needinfo?(mhenretty) &rarr; needinfo?(gweng)</div></div></div><div class="change-set" id="c17"><div class="comment" data-id="10433945" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-17" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_185001" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/2becaf1073957bdad2f06e183731131d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_185001" id="a1437857_501985"><a class="email " href="/user_profile?user_id=185001" > <span class="fna">Tim Guan-tin Chien [:timdream] (please needinfo)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-29 21:24 PDT" data-time="1435638266">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-17" data-comment-id="10433945">Greg is the best person left to fix this, however given the complexity we would need some time to find the root cause.

This reads like a timing issue to me. Fixing it shouldn't be hard once we found the cause.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(timdream)</span></div></div></div><div class="change-set" id="c18"><div class="comment" data-id="10439535" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-18" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-06-30 23:54 PDT" data-time="1435733677">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-18" data-comment-id="10439535">Tim: Just update the situation: it looks caused by a &quot;delay mozSetting change&quot;, revealed by the new bootstrapping and not covered by tests. I've found that

1. LockScreenStateManager would `start` itself to observe &quot;lockscreen.passcode-lock.enabled&quot;. If the value is true, unlocking leads to passcode panel. Else, it unlocks straightly.

2. With new bootstrapping chain, the UI would show up since LockScreenWindowManager has been bootstrapped. LockScreenStateManager starts itself after that. This would observe the setting change immediately. And from the log, it does. Since I use SettingsListener, the &quot;change&quot; in fact includes the initial value even without any change after.

3. *However*, the value change bubbled up in an asynchronous way, and it's a really long waiting (about 1 second after the manager observers it). So before the value returns, the whole UI is able to be manipulated, while the passcode-enabled is assumed as false. This is why the bug appears.

The tricky part is such long waiting only happens when you do a cold restart. If it only restart b2g process, the reading would be quick enough to hide the symptom. So that's one reason that I guess it can't be discovered in automatic tests, although I would still try.

For the bug, solution is to hook LockScreenStateManager and the observing on the bootstraping chain: only when the state manager got the passcode value from the launcher, the OS logo hides itself and make LockScreen window visible. This should fix the bug but I need some time to figure out how to do that.

And I still have no idea about how it was covered in the past. Maybe in the previous version OS logo hides itself lately, so user has no chance to do trigger that. Anyway, I don't believe in the previous complex of bootstrapping, we have any good chance to discover it like this. So although the author had gone and we need to take regressions from the lost king, to fix this is still fair enough.</pre><div class="activity"><div class="change">Flags: needinfo?(timdream)</div></div></div><div class="change-set" id="c19"><div class="comment" data-id="10439593" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-19" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_185001" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/2becaf1073957bdad2f06e183731131d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_185001" id="a1437857_501985"><a class="email " href="/user_profile?user_id=185001" > <span class="fna">Tim Guan-tin Chien [:timdream] (please needinfo)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-01 00:41 PDT" data-time="1435736474">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-19" data-comment-id="10439593">Understood, thank you for the analysis.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(timdream)</span></div></div></div><div class="change-set" id="c20"><div class="comment" data-id="10440758" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-20" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-01 08:24 PDT" data-time="1435764289">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8628283"
         class="attachment"
         data-id="8628283" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="file_1173284.txt">
      <meta itemprop="contentSize" content="46">
      <meta itemprop="encodingFormat" content="text/x-github-pull-request">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8628283" itemprop="contentUrl">
        <span id="att-8628283-description" itemprop="description">WIP patch</span></a>
        — <a href="attachment.cgi?id=8628283&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-20" data-comment-id="10440758">Tim: this is a hotfix. It:

1. Changes booting sequence of LockScreenStateManager as a Promise, for those async steps

2. Bubbles up:

a) [Launcher] waiting [LockScreenLauncher]
b) [LockScreenLauncher] waiting [LockScreenWindowManager#openApp]
c) [LockScreenWindowManager#openApp] waiting [LockScreenStateManager#start]

So [Launcher] would only remove the animation/logo after the chain got entirely ready. Almost all these waiting are in Promises. The only one exception is:

3. |LockScreenWindowManager#openApp| would call |createWindow| if the WM is first time launched. So, |createWindow| would eventually fire an event called |lockscreen-frame-bootstrap| to notify stuff inside the *lockscreen frame* to start themselves, which includes |LockScreenStateManager|. As a result, the |#openApp| method needs to know when does this inner bootstrapping progress done. And I add a |lockscreen-frame-bootstrap-done| event to do that. You can image if it's an app there *must* be some IAC things. It's in fact discussed with Alive once, but he didn't adopt that because he didn't think it's necessary. Anyway, after |#openApp| got the |-done| event, it would resolve the promise to let caller (the |LockScreenLauncher|) know it's done, too. So the launcher could now know it's launched, and to let the master launcher keep going.

(If my explanation is too confused, we may have it offline.)

4. The impact is the bootstrapping time, which has been sped up by the new bootstrapping, now slower than that because it now need to wait such mozSettings read. And sometimes it's quite long. Maybe we should invite performance team to find out if we can boost this, or if we can optimize it from Gaia to avoid too much platform work in short releases.

And as I said, this is just a hotfix. It's in fact need a clear rewriting to make all of these subcomponent bootstrapping processes become Promise-orient. But for LockScreen business I don't think we have such resource so far, so let's pray in the future the entropy of this component would not grow fast.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8628283&amp;action=edit"
           title="WIP patch"
           class=""
        >Attachment #8628283</a> -
        Flags: feedback?(timdream)</div></div></div><div class="change-set" id="c21"><div class="comment" data-id="10443970" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-21" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-01 20:26 PDT" data-time="1435807585">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-21" data-comment-id="10443970">Comment on <span class=""><a href="/attachment.cgi?id=8628283" name="attach_8628283" title="WIP patch">attachment 8628283</a> <a href="/attachment.cgi?id=8628283&amp;action=edit" title="WIP patch">[details]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1173284&amp;attachment=8628283'>[review]</a>
WIP patch

Discussed with Tim. Conclusion:

1. Find how long the settings reading is
2. LockScreen can show it self before the reading done, so we could reduce the waiting time of app interaction 
3. However, when it's going to unlock, if the reading is unfinished, block the unlocking until it's done. So we can still switch to the correct unlocking panel
4. If the reading time is still too long and user would feel it &quot;lags&quot; when unlocking, ask UX' opinion before we can address the issue (as a follow-up bug)

The point is we all agree that to add more coupling between System and LockScreen is bad. So if it's a pure LockScreen solution, it would be better.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8628283&amp;action=edit"
           title="WIP patch"
           class=""
        >Attachment #8628283</a> -
        Flags: <span class="activity-deleted">feedback?(timdream)</span></div></div></div><div class="change-set" id="c22"><div class="comment" data-id="10444882" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-22" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a1437857_501985"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a1437857_501985"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-02 02:28 PDT" data-time="1435829335">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-22" data-comment-id="10444882">Unfortunately it looks that we hit a mozSettings issues. The log:

<span class="quote">&gt; I/GeckoConsole(  212): Content JS LOG: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; launching lockscreen 1435570622127 
&gt; I/GeckoConsole(  212): Content JS LOG: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; start state manager:  1435570623006 
&gt; I/GeckoConsole(  212): Content JS LOG: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; animate poweron logo 1435570623095 
&gt; I/GeckoConsole(  212): Content JS LOG: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; remove poweron logo 1435570626797
&gt; I/GeckoConsole(  212): Content JS LOG: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; got passcode status:  1435570630566 </span >

shows that from user could see LockScreen (&quot;remove poweron logo&quot;) to (&quot;got passcode status) is almost 3.8 seconds. And it's not caused by launching or setting up something, because the state manager was already started at &quot;start state manager&quot;. And it's also long from there to the final reading. So, the whole time may spend on waiting to read the value.

I'm not sure if it's because of new bootstrapping reads too many values from settings before this step. I would still solve this issue by blocking user to unlock the phone if it's waiting to read the value, since to leave a security hole is much serious. After that, I would start to address the performance issue.</pre></div><div class="change-set" id="a2241288_476523"><div class="change" id="aa2241288_476523">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a2241288_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_476523" id="a2241288_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a2241288_476523"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a2241288_476523">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a2241288_476523">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-06 00:24 PDT" data-time="1436167493">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - passive pairing not work when fresh flash"
   href="/show_bug.cgi?id=1175955">1175955</a></div></div></div><div class="change-set" id="c23"><div class="comment" data-id="10469202" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-23" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a2241288_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a2241288_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-08 06:59 PDT" data-time="1436363989">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-23" data-comment-id="10469202">Update: I've patched it to fix the bug. However, the performance issue is very serious, since the animation of unlocking is by-passed, too. So I'm now profiling and try to pin it down.</pre></div><div class="change-set" id="c24"><div class="comment" data-id="10473153" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-24" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a2241288_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a2241288_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-08 23:57 PDT" data-time="1436425035">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-24" data-comment-id="10473153">There is a bug about mozSetting reading is too slow (confidential): <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX"
   href="/show_bug.cgi?id=1100188">Bug 1100188</a>. But for the missing animation I still need to dig in to find out the root cause.</pre></div><div class="change-set" id="c25"><div class="comment" data-id="10473610" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-25" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_434958" id="a2241288_476523"><img src="https://secure.gravatar.com/avatar/d6f7f98ae8fd85921ce4fa9ce9f237c5?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_434958" id="a2241288_476523"><a class="email " href="/user_profile?user_id=434958" > <span class="fna">Cervantes Yu [:cyu] [:cervantes]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-09 02:51 PDT" data-time="1436435492">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-25" data-comment-id="10473610">SPS Profile: <a rel="nofollow" href="https://people.mozilla.org/~bgirard/cleopatra/#report=bf0feb427edd35bfed3dd9471dec0de538800b19&amp;javascriptOnly=true&amp;filter=%5B%7B%22type%22%3A%22RangeSampleFilter%22,%22start%22%3A62288,%22end%22%3A62447%7D%5D&amp;selection=0,3,4,5,6,7,8,9,10,11,12,13,9,14,15,16,17,18,20,21,22,23,24,25,26,72">https://people.mozilla.org/~bgirard/cleopatra/#report=bf0feb427edd35bfed3dd9471dec0de538800b19&amp;javascriptOnly=true&amp;filter=%5B%7B%22type%22%3A%22RangeSampleFilter%22,%22start%22%3A62288,%22end%22%3A62447%7D%5D&amp;selection=0,3,4,5,6,7,8,9,10,11,12,13,9,14,15,16,17,18,20,21,22,23,24,25,26,72</a></pre></div><div class="change-set" id="c26"><div class="comment" data-id="10475895" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-26" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_392417" id="a2241288_476523"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_392417" id="a2241288_476523"><a class="email " href="/user_profile?user_id=392417" > <span class="fna">:Atoll</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-09 10:45 PDT" data-time="1436463953">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-26" data-comment-id="10475895">Has the security hole been closed in the latest foxfood OTA update?</pre><div class="activity"><div class="change">Flags: needinfo?(nhirata.bugzilla)</div></div></div><div class="change-set" id="c27"><div class="comment" data-id="10477205" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-27" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a2241288_476523"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_391803" id="a2241288_476523"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-09 14:44 PDT" data-time="1436478260">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-27" data-comment-id="10477205">Richard, the bug that is addressing the issue that you're speaking of is this bug.  No patches have officially landed, so no.  The OTA does not have the fix for the lockscreen issue you are speaking of.</pre><div class="activity"><div class="change">Flags: needinfo?(nhirata.bugzilla) &rarr; needinfo?(rsoderberg)</div></div></div><div class="change-set" id="c28"><div class="comment" data-id="10477384" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-28" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_392417" id="a2241288_476523"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_392417" id="a2241288_476523"><a class="email " href="/user_profile?user_id=392417" > <span class="fna">:Atoll</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-09 15:39 PDT" data-time="1436481540">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-28" data-comment-id="10477384">Yeah. <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c22">Comment 22</a> indicated that a fix for the security issue had been confirmed, and so I'd hoped we chose to close the security hole (that prevents me from putting *any* credentials on my device for foxfood testing) while the performance investigation continues. Ah well.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(rsoderberg)</span></div></div></div><div class="change-set" id="c29"><div class="comment" data-id="10490031" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-29" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a2241288_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a2241288_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-14 00:47 PDT" data-time="1436860043">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-29" data-comment-id="10490031">Update: still digging in performance issue. <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX"
   href="/show_bug.cgi?id=1100188">Bug 1100188</a> looks also related to the performance issue.</pre></div><div class="change-set" id="a3090904_476523"><div class="change" id="aa3090904_476523">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a3090904_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_476523" id="a3090904_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a3090904_476523"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a3090904_476523">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a3090904_476523">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-15 20:25 PDT" data-time="1437017109">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Assignee: nobody &rarr; gweng</div><div class="change">Flags: <span class="activity-deleted">needinfo?(gweng)</span></div></div></div><div class="change-set" id="c30"><div class="comment" data-id="10513170" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-30" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a3090904_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a3090904_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-20 01:27 PDT" data-time="1437380853">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-30" data-comment-id="10513170">Update: Discussed with Tim. Now I'm trying the new solution, but it's quite complicated so we need some more time to fix this.</pre></div><div class="change-set" id="c31"><div class="comment" data-id="10518039" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-31" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_517379" id="a3090904_476523"><img src="https://secure.gravatar.com/avatar/7542101cb1dc0240a2b24433a9533489?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_517379" id="a3090904_476523"><a class="email disabled" href="/user_profile?user_id=517379" > <span class="fna">GitHub Autolander Bot</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-21 01:06 PDT" data-time="1437465981">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8636455"
         class="attachment"
         data-id="8636455" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="Github pull request #31052">
      <meta itemprop="contentSize" content="46">
      <meta itemprop="encodingFormat" content="text/x-github-pull-request">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8636455" itemprop="contentUrl">
        <span id="att-8636455-description" itemprop="description">[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master</span></a>
        — <a href="attachment.cgi?id=8636455&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="c32"><div class="comment" data-id="10518046" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-32" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a3090904_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a3090904_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-21 01:08 PDT" data-time="1437466084">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-32" data-comment-id="10518046">Comment on <span class=""><a href="/attachment.cgi?id=8636455" name="attach_8636455" title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master">attachment 8636455</a> <a href="/attachment.cgi?id=8636455&amp;action=edit" title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master">[details]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1173284&amp;attachment=8636455'>[review]</a>
[gaia] snowmantw:<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284">bug1173284</a>-rev3 &gt; mozilla-b2g:master

Tim: this is the patch based on what we have discussed. I set feedback to see if you have any opinion about the code, before I start to write the tests. Thanks.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8636455&amp;action=edit"
           title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master"
           class=""
        >Attachment #8636455</a> -
        Flags: feedback?(timdream)</div></div></div><div class="change-set" id="c33"><div class="comment" data-id="10519575" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-33" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_392417" id="a3090904_476523"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_392417" id="a3090904_476523"><a class="email " href="/user_profile?user_id=392417" > <span class="fna">:Atoll</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-21 08:57 PDT" data-time="1437494233">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-33" data-comment-id="10519575">Is it possible to see that patch as two commits - one creating the 'this.bootstrapping = ...' block, and then a second that fixes the lockscreen issue itself?</pre></div><div class="change-set" id="c34"><div class="comment" data-id="10519679" data-no="34"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-34" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a3090904_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a3090904_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-21 09:23 PDT" data-time="1437495817">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-34" data-comment-id="10519679">It's quite complicated: the lockscreen part is because Alive had changed when and how to load the components inside LockScreen. In previous version, they were assumed as synchronous, or ready, at the moment LockScreen was used by LockScreenStateManager. He changed that but not changed how these two component cooperate. So I need to change the LockScreen to make the whole loading process in a promise that the state manager could get it and know when does the lockscreen get fully loaded. In fact, this is a minor change compare to the changes I've done for the state manager. So, yes, you can say it's two commits, but they're so related so I think it's okay to put them in one commit.</pre></div><div class="change-set" id="c35"><div class="comment" data-id="10522352" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-35" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a3090904_476523"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_391803" id="a3090904_476523"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-21 19:47 PDT" data-time="1437533247">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-35" data-comment-id="10522352">This bug occurs on 2.2 on flame.  I just checked with today's build:
Build ID               20150721162504
Gaia Revision          e1e6317f17a840b19af9dbb25f5a771d8d9fa161
Gaia Date              2015-07-15 21:05:11
Gecko Revision         <a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-b2g37_v2_2/rev/a73051740290">https://hg.mozilla.org/releases/mozilla-b2g37_v2_2/rev/a73051740290</a>
Gecko Version          37.0
Device Name            flame
Firmware(Release)      4.4.2
Firmware(Incremental)  eng.cltbld.20150721.203103
Firmware Date          Tue Jul 21 20:31:14 EDT 2015
Bootloader             L1TC000118D0</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=isnotempty">status-b2g-v2.2</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=affected">affected</a></div></div></div><div class="change-set" id="c36"><div class="comment" data-id="10522374" data-no="36"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-36" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a3090904_476523"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_391803" id="a3090904_476523"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-36"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-36" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-21 19:56 PDT" data-time="1437533794">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-36" data-comment-id="10522374">Also occurs in :
Build ID               20150721161206
Gaia Revision          cc24cce17ab2ebf79f6505103da714fc65bc5ec1
Gaia Date              2015-07-15 18:48:55
Gecko Revision         <a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-b2g34_v2_1/rev/3856aebece7b">https://hg.mozilla.org/releases/mozilla-b2g34_v2_1/rev/3856aebece7b</a>
Gecko Version          34.0
Device Name            flame
Firmware(Release)      4.4.2
Firmware(Incremental)  eng.cltbld.20150721.193944
Firmware Date          Tue Jul 21 19:39:55 EDT 2015
Bootloader             L1TC000118D0</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=isnotempty">status-b2g-v2.1</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=affected">affected</a></div></div></div><div class="change-set" id="a3607906_391803"><div class="change" id="aa3607906_391803">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a3607906_391803"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_391803" id="a3607906_391803"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a3607906_391803"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a3607906_391803">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a3607906_391803">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-21 20:01 PDT" data-time="1437534111">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=isnotempty">status-b2g-v2.0</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=affected">affected</a></div></div></div><div class="change-set" id="c37"><div class="comment" data-id="10522518" data-no="37"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-37" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_185001" id="a3607906_391803"><img src="https://secure.gravatar.com/avatar/2becaf1073957bdad2f06e183731131d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_185001" id="a3607906_391803"><a class="email " href="/user_profile?user_id=185001" > <span class="fna">Tim Guan-tin Chien [:timdream] (please needinfo)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-21 21:06 PDT" data-time="1437538006">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-37" data-comment-id="10522518">Comment on <span class=""><a href="/attachment.cgi?id=8636455" name="attach_8636455" title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master">attachment 8636455</a> <a href="/attachment.cgi?id=8636455&amp;action=edit" title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master">[details]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1173284&amp;attachment=8636455'>[review]</a>
[gaia] snowmantw:<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284">bug1173284</a>-rev3 &gt; mozilla-b2g:master

We really, really need to simplify the code here........</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8636455&amp;action=edit"
           title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master"
           class=""
        >Attachment #8636455</a> -
        Flags: feedback?(timdream) &rarr; feedback+</div></div></div><div class="change-set" id="c38"><div class="comment" data-id="10535128" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-38" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a3607906_391803"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a3607906_391803"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-24 10:45 PDT" data-time="1437759907">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-38" data-comment-id="10535128">Marking this as security-sensitive b2g bug, rating sec-critical</pre><div class="activity"><div class="change">Group: b2g-core-security</div><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-critical&amp;resolution=---">sec-critical</a></div></div></div><div class="change-set" id="a3833777_465475"><div class="change" id="aa3833777_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a3833777_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a3833777_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a3833777_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a3833777_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a3833777_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-24 10:46 PDT" data-time="1437759982">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: [Lock Screen]Sometimes it will not prompt user to input passcode for unlocking screen after restarting device. &rarr; [Lock Screen] pass code bypass after restarting device due to settings observer race condition</div></div></div><div class="change-set" id="c39"><div class="comment" data-id="10535183" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-39" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a3833777_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a3833777_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-24 10:51 PDT" data-time="1437760281">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-39" data-comment-id="10535183">I'm confident this is a race condition with the settings observers. I discussed parts of this and a dirty hotfix in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Lockscreen pass code bypass after reboot"
   href="/show_bug.cgi?id=1187368">bug 1187368</a> (which I'll mark duplicate of this now). Switching to promises looks like the clean solution.</pre></div><div class="change-set" id="a3834168_465475"><div class="change" id="aa3834168_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a3834168_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a3834168_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a3834168_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a3834168_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a3834168_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-24 10:52 PDT" data-time="1437760373">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Lockscreen pass code bypass after reboot"
   href="/show_bug.cgi?id=1187368">1187368</a></div></div></div><div class="change-set" id="a3834306_465475"><div class="change" id="aa3834306_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a3834306_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a3834306_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a3834306_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a3834306_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a3834306_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-24 10:55 PDT" data-time="1437760511">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: [Lock Screen] pass code bypass after restarting device due to settings observer race condition &rarr; [Lock Screen] pass code bypass after reboot due to settings observer race condition</div></div></div><div class="change-set" id="c41"><div class="comment" data-id="10537468" data-no="41"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-41" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a3834306_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a3834306_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-41"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-41" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-25 06:54 PDT" data-time="1437832489">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-41" data-comment-id="10537468">I have been exploring a very simple promise-based fix. Since it's delaying most of LockScreen's init code to after the SettingsListener getter promises resolve, it unfortunately has some visual regressions, showing a mostly black lock screen on startup, and showing Homescreen placing icons if lockscreen is disabled:


    Fix pass code reboot bypass with promise
    
    Moving the grunt of LockScreen .init() to .initStaged() which is called
    from a promise that wraps settings getters for the problematic settings
    values, avoiding the race condition that allows pass code bypass.
    
    It has the side effect of showing no lock screen when it is disabled
    in settings, and it creates two UX artefacts by exposing apps
    while rendering their UI:
    
    - (mostly) black lock screen state on startup
    - Homescreen rendering icons when lock screen disabled



diff --git a/apps/system/lockscreen/js/lockscreen.js b/apps/system/lockscreen/js/lockscreen.js
index c3be4b4..b0ac6fe 100755
--- a/apps/system/lockscreen/js/lockscreen.js
+++ b/apps/system/lockscreen/js/lockscreen.js
&#64;&#64; -62,7 +62,7 &#64;&#64;
     * in Settings API.
     * Will be ignored if 'enabled' is set to false.
     */
-    passCodeEnabled: false,
+    passCodeEnabled: true,
 
     /*
     * Boolean returns whether the screen is enabled, as mutated by screenchange
&#64;&#64; -330,6 +330,27 &#64;&#64;
   LockScreen.prototype.init =
   function ls_init() {
     this.ready = true;
+
+    /**
+     * Ensure that settings state is up to date before deciding on pass code
+     * locking or not. This avoids a race conditions with Settings observers.
+     */
+    var pEnabled = window.SettingsListener
+      .getSettingsLock().get('lockscreen.enabled');
+    pEnabled.then((v) =&gt; {
+      this.setEnabled(v['lockscreen.enabled']);});
+
+    var pPassEnabled = window.SettingsListener
+      .getSettingsLock().get('lockscreen.passcode-lock.enabled');
+    pPassEnabled.then((v) =&gt; {
+      this.setPassCodeEnabled(v['lockscreen.passcode-lock.enabled']);});
+
+    var pSettings = Promise.all([pEnabled, pPassEnabled]);
+    pSettings.then(() =&gt; {this.initStaged()});
+  };
+
+  LockScreen.prototype.initStaged =
+    function ls_initStaged() {
     /**
      * &quot;new style&quot; slider: as described in <a rel="nofollow" href="https://bugzil.la/950884">https://bugzil.la/950884</a>
      * setting this parameter to true causes the LockScreenSlide to render</pre></div><div class="change-set" id="c42"><div class="comment" data-id="10537470" data-no="42"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-42" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a3834306_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a3834306_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-42"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-42" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-25 06:59 PDT" data-time="1437832752">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-42" data-comment-id="10537470">FxOS always opens the lock screen on reboot even if the user disables it in the settings. This turned out to be an artefact of the very same race condition that causes the pass code bypass. Has this been a conscious design decision?</pre></div><div class="change-set" id="c43"><div class="comment" data-id="10537476" data-no="43"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-43" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_392417" id="a3834306_465475"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_392417" id="a3834306_465475"><a class="email " href="/user_profile?user_id=392417" > <span class="fna">:Atoll</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-43"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-43" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-25 07:09 PDT" data-time="1437833387">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-43" data-comment-id="10537476">(In reply to Christiane Ruetten [:cr] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c42">comment #42</a>)
<span class="quote">&gt; FxOS always opens the lock screen on reboot even if the user disables it in
&gt; the settings. This turned out to be an artefact of the very same race
&gt; condition that causes the pass code bypass. Has this been a conscious design
&gt; decision?</span >

It seems like this is a UX design question, so I'm tentatively setting needinfo? Tiffany (UX) to invite comment.</pre><div class="activity"><div class="change">Flags: needinfo?(tshakespeare)</div></div></div><div class="change-set" id="c44"><div class="comment" data-id="10537500" data-no="44"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-44" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a3834306_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a3834306_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-44"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-44" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-25 07:36 PDT" data-time="1437834973">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-44" data-comment-id="10537500">Just a remind: I've attached my patch (see the comment) to fix this according to the current design of state manager (which manages most of UI changes right now and should take over the legacy LockScreen in the future, although we have discovered some concerns so we were trying to migrate to another new state machine, which eliminates lots of issues of this intermediate one). The patch is still in progress because I'm writing unit tests for that, and I could only unfortunately use a slow round-robing strategy to allocate my time on that, because I'm also dealing with some other critical issues in different components.
 
So, what I'm saying is, if you're proposing a new patch, please note the thing should be considered with the fact that the legacy LockScreen, as I mentioned many times, now is in a progress to decentralize itself to multiple components. You'll never want to see another 2000+ lines 'lockscreen.js' appears again (that's what happened in v1.2: at that time it's a ridiculous monolithic component only smaller than the 'window_manager.js' which is also a ridiculous and messy one). And for the solution, as you can see in the second WIP patch (with f+), I did what you posted here as a state condition of LockScreenStateManager, not as a global &quot;init lock&quot; that would postpone every initialization things until it's fully read (result in what you mentioned: the &quot;black lockscreen state on startup&quot;). That's because although the solution is exactly what I also considered to adopt to solve the case, it really hurts our platform because:

- User don't know what's happening: all they can see is a black screen without any prompt
- While only the unlocking action depends on the value, LockScreen components should be able to do other rendering and preparation things **in parallel**. To block all of these by a value may or may not be used later indeed violates what the performance team is doing: reducing the time user can start use the app as much as possible.

So what I've discussed with Tim is, according to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c30">Comment 30</a> and <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c32">Comment 32</a>, we should show the screen as soon as possible. And only block user only when the value isn't ready but the finger already dragged the slider to the end, which means the intention of unlocking now is presented. So the diagram would be:

[Booting]----|show LockScreen   | ---- done   |                          |
             |other preparations| ------ done |  user could unlock here  | -----------------|
             |slider rendering  | ---- done   |                          |                  |
             |read the value    | ---------- (an unfortunate long waiting at <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c22">Comment 22</a>) -- * --&gt; unlock


As you can see, to respect the performance and UX principlse we can't make the diagram as:

[Booting]----|read the value| ---- (reading....) ---- |show LockScreen...| ----- |user could unlock here|


Nevertheless, I think for 2.2 and 2.1, since I believe it's not really a regression but an old bug hidden in the previous tests and bootstrapping which is slower than now (so it covered the symptom well), if the mozSettings reading isn't too long, we may patch them as that.</pre><div class="activity"><div class="change">Flags: needinfo?(cr)</div></div></div><div class="change-set" id="c45"><div class="comment" data-id="10537510" data-no="45"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-45" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a3834306_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a3834306_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-45"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-45" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-25 07:54 PDT" data-time="1437836085">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-45" data-comment-id="10537510">I'm aware, and I'm all supportive of your rewrite, and I'm not proposing to replace your patch. But as you say: it's a huge and complex project, and I am merely posting minimally-intrusive fixes so that we don't stand empty-handed until your rewrite lands.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(cr)</span></div></div></div><div class="change-set" id="c46"><div class="comment" data-id="10537533" data-no="46"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-46" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a3834306_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a3834306_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-46"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-46" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-25 08:18 PDT" data-time="1437837500">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-46" data-comment-id="10537533">Okay. Thanks for your understanding and affords. I plan to complete this and land the patch in the next week, although it depends on the CI results. Sorry for the delay.</pre></div><div class="change-set" id="c47"><div class="comment" data-id="10537536" data-no="47"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-47" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a3834306_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a3834306_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-47"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-47" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-25 08:20 PDT" data-time="1437837612">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-47" data-comment-id="10537536">Sorry, *efforts*, a sleepy time :(</pre></div><div class="change-set" id="c48"><div class="comment" data-id="10538286" data-no="48"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-48" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a3834306_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a3834306_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-48"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-48" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-26 13:25 PDT" data-time="1437942345">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-48" data-comment-id="10538286">It's not remotely exploitable and requires a device falling into the wrong hands (&quot;angry spouse attack&quot;), so I'd down-rate this to sec-moderate, but I'm settling for sec-high because a bug like this can easily result in a serious PR disaster.</pre><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-critical&amp;resolution=---">sec-critical</a> &rarr; <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a></div></div></div><div class="change-set" id="a4047336_390071"><div class="change" id="aa4047336_390071">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_390071" id="a4047336_390071"><img src="https://secure.gravatar.com/avatar/bc49a1bf10e676d3040252dedf2bacc3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_390071" id="a4047336_390071"><a class="email " href="/user_profile?user_id=390071" > <span class="fna">[:fabrice] Fabrice Desré</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4047336_390071"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4047336_390071">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4047336_390071">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-26 22:05 PDT" data-time="1437973541">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Bypass lockscreen without entering passcode"
   href="/show_bug.cgi?id=1187765">1187765</a></div></div></div><div class="change-set" id="a4055436_465475"><div class="change" id="aa4055436_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4055436_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a4055436_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4055436_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4055436_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4055436_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 00:20 PDT" data-time="1437981641">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Lockscreen passcode bypass"
   href="/show_bug.cgi?id=1185096">1185096</a></div></div></div><div class="change-set" id="a4055581_465475"><div class="change" id="aa4055581_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4055581_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a4055581_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4055581_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4055581_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4055581_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 00:23 PDT" data-time="1437981786">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Phone can be unlocked without password when restarting"
   href="/show_bug.cgi?id=1184875">1184875</a></div></div></div><div class="change-set" id="c52"><div class="comment" data-id="10539242" data-no="52"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-52" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4055581_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4055581_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-52"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-52" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c52">Comment 52</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 01:05 PDT" data-time="1437984307">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-52">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-52" data-comment-id="10539242">Update: fixed all unit tests of state manager, will continue to fix other failed tests for the patch.</pre></div><div class="change-set" id="a4058338_465475"><div class="change" id="aa4058338_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4058338_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4058338_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4058338_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 01:09 PDT" data-time="1437984543">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: core-security</div><div class="change">Flags: sec-bounty?</div></div></div><div class="change-set" id="c53"><div class="comment" data-id="10539620" data-no="53"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-53" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-53"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-53" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c53">Comment 53</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 02:20 PDT" data-time="1437988858">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-53">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-53" data-comment-id="10539620">Okay. All tests are green:

<a rel="nofollow" href="https://treeherder.mozilla.org/#/jobs?repo=gaia&amp;revision=1094fb7bc7ecfdc157c0ea0cf0c56a619b847f87">https://treeherder.mozilla.org/#/jobs?repo=gaia&amp;revision=1094fb7bc7ecfdc157c0ea0cf0c56a619b847f87</a>

I now will try to add new tests for the new parts. If everything is fine, I will be able to land it within these two days.</pre></div><div class="change-set" id="c54"><div class="comment" data-id="10539703" data-no="54"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-54" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_392417" id="a4058338_465475"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_392417" id="a4058338_465475"><a class="email " href="/user_profile?user_id=392417" > <span class="fna">:Atoll</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-54"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-54" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c54">Comment 54</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 02:54 PDT" data-time="1437990894">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-54">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-54" data-comment-id="10539703">Is <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Bypass lockscreen without entering passcode"
   href="/show_bug.cgi?id=1187765">bug 1187765</a> a dupe of this one?</pre></div><div class="change-set" id="c55"><div class="comment" data-id="10539704" data-no="55"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-55" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_392417" id="a4058338_465475"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_392417" id="a4058338_465475"><a class="email " href="/user_profile?user_id=392417" > <span class="fna">:Atoll</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-55"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-55" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c55">Comment 55</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 02:55 PDT" data-time="1437990909">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-55">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-55" data-comment-id="10539704">Oh, yes, I missed it in the bugmail, sorry.</pre></div><div class="change-set" id="c56"><div class="comment" data-id="10540677" data-no="56"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-56" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_41385" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/e1bf03a82ed2535581f4b2d57cbfacfe?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_41385" id="a4058338_465475"><a class="email " href="/user_profile?user_id=41385" > <span class="fna">Alexandre LISSY :gerard-majax</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-56"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-56" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c56">Comment 56</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 08:07 PDT" data-time="1438009620">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-56">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-56" data-comment-id="10540677">Jumping into this, I see you are playing with mozSettings observers, and specifically moving code around. Please make sure you do not endup with a codepath that gets triggered multiple times within the systemapp without a matching removeObserver(): otherwise, this will just leak observers and slow down the system.</pre></div><div class="change-set" id="c57"><div class="comment" data-id="10540689" data-no="57"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-57" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_41385" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/e1bf03a82ed2535581f4b2d57cbfacfe?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_41385" id="a4058338_465475"><a class="email " href="/user_profile?user_id=41385" > <span class="fna">Alexandre LISSY :gerard-majax</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-57"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-57" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c57">Comment 57</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 08:09 PDT" data-time="1438009763">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-57">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-57" data-comment-id="10540689">(In reply to Greg Weng [:snowmantw][:gweng][:λ] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c24">comment #24</a>)
<span class="quote">&gt; There is a bug about mozSetting reading is too slow (confidential): Bug
&gt; 1100188. But for the missing animation I still need to dig in to find out
&gt; the root cause.</span >

Investigation on this topic showed that the big delay was because the main thread was busy, and thus messages delivery was taking quite some time. Given the context, I get that you are observing the latency during a boot time phase. And this is exactly the moment where this happens. So the 3.8 secs delay you are observing can just be because of this: slow async messages passing because of busy main process.</pre></div><div class="change-set" id="c58"><div class="comment" data-id="10540852" data-no="58"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-58" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-58"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-58" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c58">Comment 58</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 08:47 PDT" data-time="1438012053">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-58">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-58" data-comment-id="10540852">We have had some profiling, but it only shows the main thread is waiting somethings, not really busy. And we can't see what makes it waiting. Maybe the root cause is just like you said. But we also discovered some extra waiting in settings delay the whole booting time, and some of the requests seems from Gecko. For example, BT enabled value reading delay all the following settings at very beginning, and we've found they are all reading requests, so in theory they could be parallel executed. Anyway, for this bug we can try to find a specific solution first. I just mentioned that Cervantes and me prepare to do some study to see if mozsettings could be more optimised by making it more parallel. And since you once landed a patch about FORCE READONLY flag of setting requests, we want to know if you have some similar plans or concerns, so that we don't need to fix the duplicated bugs.

(This is a BTW. But since you mentioned the relative point, I post it here)</pre></div><div class="change-set" id="c59"><div class="comment" data-id="10540884" data-no="59"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-59" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_390071" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/bc49a1bf10e676d3040252dedf2bacc3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_390071" id="a4058338_465475"><a class="email " href="/user_profile?user_id=390071" > <span class="fna">[:fabrice] Fabrice Desré</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-59"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-59" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c59">Comment 59</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 08:50 PDT" data-time="1438012245">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-59">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-59" data-comment-id="10540884">We should focus on correctness instead of performance in this bug. It's pretty unacceptable to have a broken lock screen.</pre></div><div class="change-set" id="c60"><div class="comment" data-id="10540894" data-no="60"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-60" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-60"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-60" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c60">Comment 60</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 08:53 PDT" data-time="1438012396">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-60">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-60" data-comment-id="10540894">Yes. I will land the Gaia patch first. I have almost completed that (see my updates). We may fire another bug for performance.</pre></div><div class="change-set" id="c61"><div class="comment" data-id="10541568" data-no="61"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-61" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_478202" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/2acdaf7b84a2837e09e51834ddef86bf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_478202" id="a4058338_465475"><a class="email " href="/user_profile?user_id=478202" > <span class="fna">Tiffanie Shakespeare [:tif] - slack &#64;tif preferred</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-61"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-61" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c61">Comment 61</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 11:03 PDT" data-time="1438020214">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-61">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-61" data-comment-id="10541568">(In reply to Richard Soderberg [:atoll] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c43">comment #43</a>)
<span class="quote">&gt; (In reply to Christiane Ruetten [:cr] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c42">comment #42</a>)
&gt; &gt; FxOS always opens the lock screen on reboot even if the user disables it in
&gt; &gt; the settings. This turned out to be an artefact of the very same race
&gt; &gt; condition that causes the pass code bypass. Has this been a conscious design
&gt; &gt; decision?
&gt; 
&gt; It seems like this is a UX design question, so I'm tentatively setting
&gt; needinfo? Tiffany (UX) to invite comment.</span >

If the user disables the lockscreen in settings, then how do they know how to unlock the device? The device should be respecting the user's settings and either prompt them or not depending on the their settings.

Adding Harly for further comment if needed. Thanks!</pre><div class="activity"><div class="change">Flags: needinfo?(tshakespeare) &rarr; needinfo?(hhsu)</div></div></div><div class="change-set" id="c62"><div class="comment" data-id="10542580" data-no="62"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-62" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-62"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-62" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c62">Comment 62</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 14:16 PDT" data-time="1438031819">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-62">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-62" data-comment-id="10542580">Tiffanie, perhaps this is already clear, but it sounds like this may need clarification: we're talking about two types of locking in this bug: screen locking, requiring the user just to swipe, and pass code locking, requiring pin entry.

The side-issue I brought up in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c42">comment #42</a> is that after reboot the device is always screen-locked even when the user disables screen lock. The rest of this bug is about an error in pass code locking, but both these have a common cause.

But from your comment I take that invariably booting to screen lock was in fact not a deliberate UX decision.</pre></div><div class="change-set" id="c63"><div class="comment" data-id="10544073" data-no="63"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-63" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-63"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-63" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c63">Comment 63</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-27 23:38 PDT" data-time="1438065490">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-63">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-63" data-comment-id="10544073">Comment on <span class=""><a href="/attachment.cgi?id=8636455" name="attach_8636455" title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master">attachment 8636455</a> <a href="/attachment.cgi?id=8636455&amp;action=edit" title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master">[details]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1173284&amp;attachment=8636455'>[review]</a>
[gaia] snowmantw:<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284">bug1173284</a>-rev3 &gt; mozilla-b2g:master

Since it works on my device and passed all tests on CI (excepted one I fixed now) and local console, set review.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8636455&amp;action=edit"
           title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master"
           class=""
        >Attachment #8636455</a> -
        Flags: review?(timdream)</div></div></div><div class="change-set" id="c64"><div class="comment" data-id="10544149" data-no="64"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-64" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_185001" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/2becaf1073957bdad2f06e183731131d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_185001" id="a4058338_465475"><a class="email " href="/user_profile?user_id=185001" > <span class="fna">Tim Guan-tin Chien [:timdream] (please needinfo)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-64"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-64" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c64">Comment 64</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 00:25 PDT" data-time="1438068316">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-64">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-64" data-comment-id="10544149">Comment on <span class=""><a href="/attachment.cgi?id=8636455" name="attach_8636455" title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master">attachment 8636455</a> <a href="/attachment.cgi?id=8636455&amp;action=edit" title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master">[details]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1173284&amp;attachment=8636455'>[review]</a>
[gaia] snowmantw:<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284">bug1173284</a>-rev3 &gt; mozilla-b2g:master

I have one major concern around this patch and I want to know if this is something purposely done to make turnaround faster or accidental sloppiness. 

|this.lockScreenStates.passcodeEnabled| could be either an anno object from |deferredRequest| or an actual boolean. You should try to pick one and stuck with it -- having to leverage dynamic-typing in JS almost always imply questionable design.

One alternative to be schedule the state-getting promises on to the mainPromise so that we could ensure the states are always an up-to-date boolean when the first |doTransfer| is being run. In that way you don't need to do complex things like above nor |resolveInnerStates| etc.

r=me if I am just wrong, if you don't agree with what I said, or you want to fix this in future bugs.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8636455&amp;action=edit"
           title="[gaia] snowmantw:bug1173284-rev3 &gt; mozilla-b2g:master"
           class=""
        >Attachment #8636455</a> -
        Flags: review?(timdream) &rarr; review+</div></div></div><div class="change-set" id="c65"><div class="comment" data-id="10544170" data-no="65"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-65" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-65"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-65" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c65">Comment 65</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 00:40 PDT" data-time="1438069229">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-65">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-65" data-comment-id="10544170">Before I reply Tim, I suddenly found it's a regression the root cause is only on 2.2+ (master; see <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c14">Comment 14</a>). But obviously this bug exists in 2.0, 2.1 and 2.2. I think we better to clarify the regression status: if it's really a regression as <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c14">Comment 14</a>, the 2.0, 2.1 and 2.2 symptom before <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">Bug 1094759</a> *couldn't* be the same bug. They must be with different root causes and deserves different solutions in different bugs. So I suggest that we should fire and investigate another bug for 2.2 and older branches before the <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">bug 1094759</a>, or the regression status won't be correct.</pre><div class="activity"><div class="change">Flags: needinfo?(ktucker)</div></div></div><div class="change-set" id="c66"><div class="comment" data-id="10544493" data-no="66"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-66" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-66"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-66" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c66">Comment 66</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 02:25 PDT" data-time="1438075518">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-66">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-66" data-comment-id="10544493">I think that Lockscreen can and must ensure that its (so far unsafe) defaults have been overridden by the settings listener callbacks before deciding on whether or not to screen lock or pass code lock the device. Let's just make sure now once and for all that this won't regress again. The rest of this problem complex lives in other components.</pre></div><div class="change-set" id="c67"><div class="comment" data-id="10544573" data-no="67"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-67" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-67"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-67" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c67">Comment 67</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 02:56 PDT" data-time="1438077414">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-67">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-67" data-comment-id="10544573">Reproducible on Woodduck as per <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Lockscreen passcode bypass"
   href="/show_bug.cgi?id=1185096">bug 1185096</a>#c10

Btw, when reproducing this bug it helps to build more CPU load on boot-up by booking the device into an encrypted wireless network, giving you more time to swipe.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=isnotempty">status-b2g-v2.0M</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=affected">affected</a></div></div></div><div class="change-set" id="c68"><div class="comment" data-id="10544759" data-no="68"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-68" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-68"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-68" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c68">Comment 68</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 04:16 PDT" data-time="1438082177">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-68">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-68" data-comment-id="10544759"><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c66">Comment 66</a> doesn't affect the fact it's a regression from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">Bug 1094759</a>, unless the analyzes are wrong. So I were not suggesting we should give up to patch them, but the bug status must be clarified. So, if they're uncovered by different root causes, we should fire different bugs for them, not try to manage different root causes in one bug with different patches. Otherwise, we should do the regression-window searching again, and to make sure whether it's a regression (since the flag and the conclusion is still held). If not, we need to clear it. It's just a simple flag problem.</pre></div><div class="change-set" id="c69"><div class="comment" data-id="10545012" data-no="69"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-69" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-69"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-69" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c69">Comment 69</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 06:00 PDT" data-time="1438088429">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-69">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-69" data-comment-id="10545012">By all means, let's restrict this bug to LockScreen. I was just saying that because of its central role to security we should make sure that it in itself has all the safeguards for securely operating in a regressive environment.

So are we in agreement that within LockScreen the problem was a race condition with the settings observers not quickly enough overwriting the unsafe defaults? Or did I miss something?</pre></div><div class="change-set" id="c70"><div class="comment" data-id="10545055" data-no="70"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-70" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-70"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-70" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c70">Comment 70</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 06:10 PDT" data-time="1438089048">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-70">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-70" data-comment-id="10545055">1. If it's not a regression of <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">Bug 1094759</a>, because you and others raised that it appears in older branches, cancel the regression tag and the blocks of <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">Bug 1094759</a>: it's now not correct anymore. And we need to take a look to see if setting it as regression still makes senses, since we now don't have the regression window anymore.
 
2. If it's still a regression of <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">Bug 1094759</a>, we're discussion two kinds of bug that may have almost the same root cause of racing. But <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">Bug 1094759</a> make the symptom worse. So, we may need two bugs to track the bug status correctly.

Please, take a look at <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c10">Comment 10</a> to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c14">Comment 14</a>. And I must emphasis it again: I don't say the racing isn't the root case. But apparently the regression status might be wrong: whether it's a regression of <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">Bug 1094759</a> by previous QA and my result, OR not. There is no third possibility. And I just raise a requirement to clear the bug status according to what we have now.</pre></div><div class="change-set" id="c72"><div class="comment" data-id="10547269" data-no="72"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-72" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4058338_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4058338_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-72"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-72" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c72">Comment 72</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 12:10 PDT" data-time="1438110639">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-72">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-72" data-comment-id="10547269">Let me preface this by restating what the principal problem is:

SettingsListener.observe() not only registers the callback with mozSettings.addObserver(), it also triggers the callback by registering it in a mozSettings.createLock().get() 'success' event listener. This is meant for initializing the value on the listener side, but it can take up to several seconds during system bootstrap. This is the race condition we're talking about.

Regarding the regression:

I have looked at commit 02a14c282c5fb391675246e627a10d1508418c40 from March right before Alive landed his first patches in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">bug 1094759</a>. The basic anatomy starting from lockscreen_bootstrap.js is the same:

1. this.lockscreen = new LockScreen();
  - sets local defaults
    - .enabled: true
    - .passCodeEnabled: false
  - calls .lockIfEnabled(true) even before registering observers
  - registers settings observers for .enabled and .passCodeEnabled
    - this starts the race

2. window.lockScreen = this.lockscreen;

3. window.lockScreenStateManager = new window.LockScreenStateManager();

4. window.lockScreenStateManager.start(window.lockScreen);
  - maintains it's own state about passcodeEnabled
  - registers own settings observer for that, no sync with lockScreen
  - only lockscreen interaction ever is checkPassCodeTimeout

5. this.lockscreen.init();
  - activates screen lock if .enabled

And later:
  - user swipes right on LockScreen, triggering event that leads to LockScreen.unlock()
    - LockScreen.unlock checks .passCodeEnabled, unlocks without pass code if (still) false

There was and is no logic that prevents that LockScreen.unlock is reached before the initial settings observer callbacks are fired, overriding the unsafe defaults. If the callbacks fire before swiping to the right and LockScreen.unlock(), pass code entry appears. If they don't, the phone unlocks without passcode. Everything points to the race condition existing prior to that, but it never was a problem as long as the callbacks were fired faster than the user could execute a swipe.

I'm sure there were other patches along the way that increased system load and shifted the first round of firing mozSettings observer callbacks to a later and later time to a point where it became relevant. Hence it doesn't make sense to single any one out pushing the race condition beyond some acceptable limit.

TL;DR: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">bug 1094759</a> did not introduce the observer callback race condition, which I consider to be the root cause. If anything, I speculate it has only emphasized it by making lockscreen bootstrapping faster.</pre></div><div class="change-set" id="a4184921_465475"><div class="change" id="aa4184921_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4184921_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a4184921_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4184921_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4184921_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4184921_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 12:18 PDT" data-time="1438111126">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">system-bootstrap</a></div><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=regression&amp;resolution=---">regression</a></span></div></div></div><div class="change-set" id="c73"><div class="comment" data-id="10547368" data-no="73"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-73" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4184921_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4184921_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-73"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-73" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c73">Comment 73</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 12:29 PDT" data-time="1438111780">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-73">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-73" data-comment-id="10547368">I must correct my analysis write-up: The last two items of 1. actually belong to 5., and 1. just sets defaults. Sorry for the spam.</pre></div><div class="change-set" id="a4197314_481704"><div class="change" id="aa4197314_481704">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_481704" id="a4197314_481704"><img src="https://secure.gravatar.com/avatar/64e3836a9a67b8d1f2cdf36cd7d857a4?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_481704" id="a4197314_481704"><a class="email " href="/user_profile?user_id=481704" > <span class="fna">KTucker [:KTucker][Inactive 3/4/2016]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4197314_481704"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4197314_481704">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4197314_481704">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 15:45 PDT" data-time="1438123519">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=qawanted&amp;resolution=---">qawanted</a></div></div></div><div class="change-set" id="c74"><div class="comment" data-id="10548429" data-no="74"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-74" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_481704" id="a4197314_481704"><img src="https://secure.gravatar.com/avatar/64e3836a9a67b8d1f2cdf36cd7d857a4?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_481704" id="a4197314_481704"><a class="email " href="/user_profile?user_id=481704" > <span class="fna">KTucker [:KTucker][Inactive 3/4/2016]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-74"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-74" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c74">Comment 74</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 15:45 PDT" data-time="1438123552">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-74">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-74" data-comment-id="10548429">In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c65">Comment 65</a>, I double checked the regression window in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c14">Comment 14</a> and it is absolutely correct for this bug. 

This bug as written in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c0">Comment 0</a> only reproduces on the latest Flame 2.5 build. I cannot reproduce this issue on the latest Flame 2.2, 2.1 or 2.0 builds so that must be a different issue with a different set of steps and a different regression window. 

Device: Flame 2.5
BuildID: 20150728115244 (issue reproduces 100% as written)
Gaia: 862f0895f3f5a97200601542d99a152a46385a0b
Gecko: 833403badc41
Version: 42.0a1 (2.5) 
Firmware Version: v18D
User Agent: Mozilla/5.0 (Mobile; rv:42.0) Gecko/42.0 Firefox/42.0

Device: Flame 2.2 (Does not reproduce)
BuildID: 20150728111942
Gaia: e1e6317f17a840b19af9dbb25f5a771d8d9fa161
Gecko: 813cb3d271f0
Version: 37.0 (2.2) 
Firmware Version: v18D
User Agent: Mozilla/5.0 (Mobile; rv:37.0) Gecko/37.0 Firefox/37.0

Device: Flame 2.1 (Does not reproduce)
BuildID: 20150723133047
Gaia: 9dba58d18006e921546cec62c76074ce81e16518
Gecko: 41e10c6740be
Version: 34.0 (2.1) 
Firmware Version: v18D
User Agent: Mozilla/5.0 (Mobile; rv:34.0) Gecko/34.0 Firefox/34.0

Device: Flame 2.0
BuildID: 20150722193116 (Does not reproduce)
Gaia: b16ba05481e577bc644ed8966f587a70fe2148e6
Gecko: 2e6f1d4deff9
Version: 32.0 (2.0) 
Firmware Version: v18D
User Agent: Mozilla/5.0 (Mobile; rv:32.0) Gecko/32.0 Firefox/32.0

This issue as written in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c0">Comment 0</a> appears to have been caused by the landing for <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">bug 1094759</a>.</pre><div class="activity"><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=qawanted&amp;resolution=---">qawanted</a></span></div></div></div><div class="change-set" id="c75"><div class="comment" data-id="10548657" data-no="75"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-75" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_481704" id="a4197314_481704"><img src="https://secure.gravatar.com/avatar/64e3836a9a67b8d1f2cdf36cd7d857a4?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_481704" id="a4197314_481704"><a class="email " href="/user_profile?user_id=481704" > <span class="fna">KTucker [:KTucker][Inactive 3/4/2016]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-75"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-75" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c75">Comment 75</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 16:41 PDT" data-time="1438126860">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-75">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-75" data-comment-id="10548657">To clarify the steps given in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c6">Comment 6</a> should be written up as a different bug. However, I cannot reproduce that issue manually following those steps. I'm sliding to unlock as soon as the slider appears but it still prompts me for a passcode on 2.2, 2.1 and 2.0. 

On master, I am not particularly rushing. I waited like 3 seconds before sliding to unlock after restart and the passcode is not prompted. I hope this helps to clarify what is going on here.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=isnotempty">status-b2g-v2.0</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=isnotempty">status-b2g-v2.0M</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=isnotempty">status-b2g-v2.1</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=isnotempty">status-b2g-v2.2</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">Flags: <span class="activity-deleted">needinfo?(ktucker)</span></div></div></div><div class="change-set" id="c76"><div class="comment" data-id="10548661" data-no="76"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-76" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a4197314_481704"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_391803" id="a4197314_481704"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-76"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-76" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c76">Comment 76</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 16:44 PDT" data-time="1438127070">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-76">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-76" data-comment-id="10548661">I can reproduce the issue on those builds by swiping before the ui appears.
Keep swiping frantically and you can get passed the lockscreen.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=isnotempty">status-b2g-v2.0</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=isnotempty">status-b2g-v2.0M</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=isnotempty">status-b2g-v2.1</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=isnotempty">status-b2g-v2.2</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=affected">affected</a></div></div></div><div class="change-set" id="c77"><div class="comment" data-id="10548964" data-no="77"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-77" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a4197314_481704"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_391803" id="a4197314_481704"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-77"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-77" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c77">Comment 77</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 17:55 PDT" data-time="1438131329">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-77">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-77" data-comment-id="10548964">Kevin and I spoke offline.  I think the difference might have been I have SIM security turned on my SIM.  I'll reinvestigate the issue for 2.0, 2.1, 2.2

He reproduced not seeing the SIM pin dialog for 2.2

We probably should separate what I'm seeing into a separate bug from this original issue.</pre></div><div class="change-set" id="c78"><div class="comment" data-id="10549181" data-no="78"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-78" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4197314_481704"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4197314_481704"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-78"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-78" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c78">Comment 78</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 19:04 PDT" data-time="1438135451">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-78">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-78" data-comment-id="10549181">While QA puts great efforts to clarify the situation, I shall land the patch to solve what we have now, for master (2.5). I would also take a look at other branches after that. But first, I need to switches temporarily to the recent intermittent errors of Gij, which bothers lots of people and make test unstable.

Naoki: please fire a different bug if you caught the different symptom, thanks.</pre></div><div class="change-set" id="c79"><div class="comment" data-id="10549375" data-no="79"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-79" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a4197314_481704"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_391803" id="a4197314_481704"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-79"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-79" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c79">Comment 79</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 19:56 PDT" data-time="1438138579">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-79">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-79" data-comment-id="10549375"><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">bug 1188716</a> is filed.</pre></div><div class="change-set" id="a4212411_391803"><div class="change" id="aa4212411_391803">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a4212411_391803"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_391803" id="a4212411_391803"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4212411_391803"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4212411_391803">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4212411_391803">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-28 19:56 PDT" data-time="1438138616">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=isnotempty">status-b2g-v2.0</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=isnotempty">status-b2g-v2.0M</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=isnotempty">status-b2g-v2.1</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=isnotempty">status-b2g-v2.2</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=unaffected">unaffected</a></div></div></div><div class="change-set" id="c80"><div class="comment" data-id="10549972" data-no="80"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-80" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4212411_391803"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4212411_391803"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-80"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-80" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c80">Comment 80</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 00:12 PDT" data-time="1438153978">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-80">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-80" data-comment-id="10549972">Okay the patch passed all tests:

<a rel="nofollow" href="https://treeherder.mozilla.org/#/jobs?repo=gaia&amp;revision=4586ecefd52a1ff1ea87f7db7f53f9ee9d6ef9b3">https://treeherder.mozilla.org/#/jobs?repo=gaia&amp;revision=4586ecefd52a1ff1ea87f7db7f53f9ee9d6ef9b3</a>

and it works on my device. So I now land it.</pre></div><div class="change-set" id="a4227800_476523"><div class="change" id="aa4227800_476523">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4227800_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_476523" id="a4227800_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4227800_476523"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4227800_476523">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4227800_476523">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 00:13 PDT" data-time="1438154005">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=checkin-needed&amp;resolution=---">checkin-needed</a></div></div></div><div class="change-set" id="c81"><div class="comment" data-id="10550269" data-no="81"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-81" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4227800_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4227800_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-81"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-81" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c81">Comment 81</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 02:09 PDT" data-time="1438160996">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-81">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-81" data-comment-id="10550269">master: <a rel="nofollow" href="https://github.com/mozilla-b2g/gaia/commit/8bc364b351531cfaaa033229ec2dd81d8e5ebe7d">https://github.com/mozilla-b2g/gaia/commit/8bc364b351531cfaaa033229ec2dd81d8e5ebe7d</a>

I'm looking for any possible regressions. So NI me at this bug it they do happen. Thanks.</pre><div class="activity"><div class="change">Status: NEW &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2015-07-29 02:09 PDT" data-time="1438160996">6 years ago</span></div><div class="change">Resolution: --- &rarr; FIXED</div></div></div><div class="change-set" id="c82"><div class="comment" data-id="10550275" data-no="82"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-82" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4227800_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4227800_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-82"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-82" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c82">Comment 82</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 02:11 PDT" data-time="1438161078">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-82">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-82" data-comment-id="10550275">master: <a rel="nofollow" href="https://github.com/mozilla-b2g/gaia/commit/8bc364b351531cfaaa033229ec2dd81d8e5ebe7d">https://github.com/mozilla-b2g/gaia/commit/8bc364b351531cfaaa033229ec2dd81d8e5ebe7d</a>

I'm looking for any possible regressions. So NI me at this bug it they do happen. Thanks.</pre></div><div class="change-set" id="c83"><div class="comment" data-id="10550288" data-no="83"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-83" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4227800_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4227800_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-83"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-83" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c83">Comment 83</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 02:15 PDT" data-time="1438161357">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-83">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-83" data-comment-id="10550288">Ahh sorry I suddenly saw one debugging line left in the patch. I now fix it.</pre><div class="activity"><div class="change">Status: RESOLVED &rarr; REOPENED</div><div class="change">Resolution: FIXED &rarr; ---</div></div></div><div class="change-set" id="c84"><div class="comment" data-id="10550301" data-no="84"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-84" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4227800_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4227800_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-84"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-84" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c84">Comment 84</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 02:24 PDT" data-time="1438161845">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-84">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8640386"
         class="attachment"
         data-id="8640386" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="file_1173284.txt">
      <meta itemprop="contentSize" content="46">
      <meta itemprop="encodingFormat" content="text/x-github-pull-request">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8640386" itemprop="contentUrl">
        <span id="att-8640386-description" itemprop="description">The new PR</span></a>
        — <a href="attachment.cgi?id=8640386&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-84" data-comment-id="10550301">I created a new one and it's the same with the old (landed) one, but without the debugging line.</pre></div><div class="change-set" id="c85"><div class="comment" data-id="10550309" data-no="85"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-85" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4227800_476523"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4227800_476523"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-85"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-85" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c85">Comment 85</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 02:32 PDT" data-time="1438162365">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-85">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-85" data-comment-id="10550309">Landed again.

master: <a rel="nofollow" href="https://github.com/mozilla-b2g/gaia/commit/b066d68030dac08cb545b37195bcab67593f365b">https://github.com/mozilla-b2g/gaia/commit/b066d68030dac08cb545b37195bcab67593f365b</a></pre><div class="activity"><div class="change">Status: REOPENED &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2015-07-29 02:09 PDT" data-time="1438160996">6 years ago</span> &rarr; <span class="rel-time" title="2015-07-29 02:32 PDT" data-time="1438162365">6 years ago</span></div><div class="change">Resolution: --- &rarr; FIXED</div></div></div><div class="change-set" id="c86"><div class="comment" data-id="10550500" data-no="86"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-86" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4227800_476523"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4227800_476523"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-86"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-86" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c86">Comment 86</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 03:26 PDT" data-time="1438165614">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-86">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-86" data-comment-id="10550500">Naoki, KTucker, we have successfully reproduced this bug all the way back to 2.0 on Woodduck. Why are you resetting affected status?</pre><div class="activity"><div class="change">Flags: needinfo?(nhirata.bugzilla)</div><div class="change">Flags: needinfo?(ktucker)</div></div></div><div class="change-set" id="c87"><div class="comment" data-id="10550671" data-no="87"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-87" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_434339" id="a4227800_476523"><img src="https://secure.gravatar.com/avatar/9a0a16bc1cb5b0144e373deb8e357804?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_434339" id="a4227800_476523"><a class="email disabled" href="/user_profile?user_id=434339" > <span class="fna">Paul Theriault [:pauljt] (no longer reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-87"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-87" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c87">Comment 87</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 04:49 PDT" data-time="1438170551">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-87">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-87" data-comment-id="10550671">This is a pretty critical flaw, we should probably sec-review this to make sure this is fixed for sure - can you make sure this is done please cr? Thanks.</pre><div class="activity"><div class="change">Flags: sec-review?(cr)</div></div></div><div class="change-set" id="a4248338_75935"><div class="change" id="aa4248338_75935">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a4248338_75935"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_75935" id="a4248338_75935"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4248338_75935"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4248338_75935">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4248338_75935">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 05:55 PDT" data-time="1438174543">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_master&amp;o1=isnotempty">status-b2g-master</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_master&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_master&amp;o1=equals&amp;v1=fixed">fixed</a></div><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=checkin-needed&amp;resolution=---">checkin-needed</a></span></div><div class="change">Target Milestone: --- &rarr; FxOS-S4 (07Aug)</div></div></div><div class="change-set" id="c88"><div class="comment" data-id="10551036" data-no="88"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-88" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4248338_75935"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4248338_75935"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-88"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-88" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c88">Comment 88</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 06:43 PDT" data-time="1438177426">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-88">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-88" data-comment-id="10551036">Please note the symptom of <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">Bug 1188716</a> is very different from this bug: in this one, user can easily reproduce it by dragging the slider in an ordinary scene, while in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">Bug 1188716</a>, as I've tried and the video shows, it needs some edging action to by-pass the lock. If user slide it when the slider shows up, it's hard to reproduce. So, although these bugs are both critical for security and they're with the same root cause, I can fix them with different solution that all suppose to plug the hole. The only different these two patches is in this bug, the patch cares about user experience and the new bootstrapping changes (which definitely makes it more complicated, but also necessary), while another one needn't to care about that since the reading time is much shorter.

As a conclusion, I now

1. Fixed this bug while caring user behavior &amp; new bootstrapping
2. Fixing <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">Bug 1188716</a> with a much simple patch. It is because we can block the by-passing behavior in a simpler way, since the bootstrapping is the legacy one and the reading time user must to wait is not so long

So if the code is implemented correctly and will not trigger any new regression, and security team review it as Paul said, we may claim this/these bugs are fixed.</pre></div><div class="change-set" id="a4261396_465475"><div class="change" id="aa4261396_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4261396_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4261396_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4261396_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 09:33 PDT" data-time="1438187601">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">See Also:  &rarr; <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - Lockscreen: harden .unlock() against settings observer callback race conditions"
   href="/show_bug.cgi?id=1188934">1188934</a></div></div></div><div class="change-set" id="c89"><div class="comment" data-id="10551900" data-no="89"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-89" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a4261396_465475"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_391803" id="a4261396_465475"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-89"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-89" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c89">Comment 89</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-29 09:51 PDT" data-time="1438188718">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-89">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-89" data-comment-id="10551900">CR, per <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c88">comment 88</a>; in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c35">comment 35</a>, I used different steps when testing 2.x which is listed in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">bug 1188716</a>.

We seperated them into two separate issues as there was a major regression which is an issue and a harder to reproduce security issue that was split off in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">bug 1188716</a>.

Greg is going to try to address both.  I think we're all on the same page that we don't want this bug to escape.  Just separating this one from the other one is probably better as ktucker and Greg had noted.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(nhirata.bugzilla)</span></div><div class="change">Flags: <span class="activity-deleted">needinfo?(ktucker)</span></div><div class="change">Flags: needinfo?(cr)</div></div></div><div class="change-set" id="c90"><div class="comment" data-id="10555497" data-no="90"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-90" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-90"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-90" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c90">Comment 90</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 03:25 PDT" data-time="1438251936">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-90">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-90" data-comment-id="10555497">Naoki, I am able to reproduce this on my Woodduck with 2.0m with just the STR in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c0">comment 0</a> (and without any SIM pin involvement). The mechanism of the flaw is the same, and the code in 2.0 is essentially identical in that respect (I verified). This bug needs to be addressed all the way back to 2.0.

KTucker's approach of testing this bug against different B2G versions on the relatively powerful Flame is not suitable for this type of bug. Since it's a race condition, the race window's length varies greatly with device performance and system load during boot up.

We already know that latest B2G versions put so much stress on the system that it pushes the race length beyond acceptable limits even on powerful devices like the Flame. And even if the race window is too short to reliably exploit on a Flame with 2.0, it doesn't mean that it's neither exploitable on a slower device or when the device is connecting to an encrypted wireless network, or connected via Bluetooth, or anything else that increases system load during boot-up.

Consequently I am resetting affected status and re-opening this bug as incomplete, so we don't lose track of this. If different B2G versions require different fixes, please address this in separate blocking bugs, but please don't reset the tracking flags again unless you can prove my analysis wrong, or – at the very least – test the bug negatively against the slowest device running the most load-demanding config we need to support.

I would propose to remove the 2.5 blocker once the sec review of Greg's patch is finished, but I don't expect any issues there.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=isnotempty">status-b2g-v2.0</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=isnotempty">status-b2g-v2.0M</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=isnotempty">status-b2g-v2.1</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1_s&amp;o1=isnotempty">status-b2g-v2.1S</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_1_s&amp;o1=equals&amp;v1=%3F">?</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=isnotempty">status-b2g-v2.2</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2r&amp;o1=isnotempty">status-b2g-v2.2r</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2r&amp;o1=equals&amp;v1=%3F">?</a></div><div class="change">Flags: <span class="activity-deleted">needinfo?(cr)</span></div><div class="change">Resolution: FIXED &rarr; INCOMPLETE</div></div></div><div class="change-set" id="c91"><div class="comment" data-id="10555516" data-no="91"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-91" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_434339" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/9a0a16bc1cb5b0144e373deb8e357804?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_434339" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=434339" > <span class="fna">Paul Theriault [:pauljt] (no longer reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-91"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-91" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c91">Comment 91</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 03:31 PDT" data-time="1438252265">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-91">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-91" data-comment-id="10555516">This should be fixed - cr misunderstood the status meanings here.</pre><div class="activity"><div class="change">Resolution: INCOMPLETE &rarr; FIXED</div></div></div><div class="change-set" id="c92"><div class="comment" data-id="10555540" data-no="92"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-92" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-92"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-92" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c92">Comment 92</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 03:37 PDT" data-time="1438252627">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-92">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-92" data-comment-id="10555540">So I feel Christiane is treating this as a &quot;meta&quot; or &quot;tracking&quot; bug for tracking according to the words (&quot;...don't lose tracking ...&quot; and &quot;address this in separate blocking bugs&quot;) . I don't mind people to reset the tracking flags if that is true.  But that intention should be stated clearly, so maybe we should change the title to add some [tracking] or [meta] to follow the usual convention of bug management.</pre></div><div class="change-set" id="c93"><div class="comment" data-id="10555572" data-no="93"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-93" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_434339" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/9a0a16bc1cb5b0144e373deb8e357804?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_434339" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=434339" > <span class="fna">Paul Theriault [:pauljt] (no longer reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-93"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-93" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c93">Comment 93</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 03:46 PDT" data-time="1438253161">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-93">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-93" data-comment-id="10555572">I think Christiane's main concern was just that this does in fact affect earlier versions, and that is now reflected in the status flags.</pre></div><div class="change-set" id="c94"><div class="comment" data-id="10555575" data-no="94"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-94" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_434339" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/9a0a16bc1cb5b0144e373deb8e357804?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_434339" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=434339" > <span class="fna">Paul Theriault [:pauljt] (no longer reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-94"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-94" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c94">Comment 94</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 03:46 PDT" data-time="1438253181">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-94">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-94" data-comment-id="10555575">Greg - it might be too late, but how possible is this fix to backport to 2.2? I wonder if there is any chance we can get a fix to partners before they ship?</pre><div class="activity"><div class="change">Flags: needinfo?(gweng)</div></div></div><div class="change-set" id="c95"><div class="comment" data-id="10555700" data-no="95"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-95" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-95"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-95" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c95">Comment 95</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 04:30 PDT" data-time="1438255806">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-95">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-95" data-comment-id="10555700">No. This fix is only for code after <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">bug 1094759</a>, as I said at <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c65">Comment 65</a>. And please note that's why I asked if we should raise another bug with a different symptom which also deserves a different patch, although the root case may be the same. Because before <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">bug 1094759</a>, there is no need to handle the LazyLoading + abnormal reading delay, which significantly add the effort to deal with the bug. You can take a look at <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">Bug 1188716</a>: the solution is simple and thus it's with fewer risks to land it in 2.2, 2.1 and maybe 2.0.

And I need to mention that I can't reproduce this bug on 2.2 without the rapid sliding at very beginning of bootstrapping, just like QA did at <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">bug 1188716</a>. So I feel it will be great if Christiane can upload a video about how to reproduce it as STR0 (Flame and Wooduck). Basically, if your reproduction needs to start slide it *before* you see the unlocker, or the settings reading doesn't cost the abnormally long time to complete, it could be solved by applying the patch for <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">Bug 1188716</a>. Otherwise, we *might* need a more complicated patch like this one. Unless UX decided it's tolerable to fix the issue with the freezing delay.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(gweng)</span></div></div></div><div class="change-set" id="c96"><div class="comment" data-id="10555734" data-no="96"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-96" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-96"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-96" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c96">Comment 96</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 04:50 PDT" data-time="1438257028">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-96">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-96" data-comment-id="10555734">So Paul, that's what I really don't know why secure team looks like to fix them in the same bug. To fork a bug with different symptoms and with different patches won't hurt the fact that they're both valid bug and *all* fixed the same flaw, while we can avoid to uplift the large patch to the stabilizing branches. Moreover, to mix bugs with different symptoms on different branches always mess bug status. To separate them is usually a better way to manage them.

And, I'm just so tired to explain that again and again (*see* how much comments I can refer to), while what I'm talking about seemed totally ignored.  It's also really annoyed to change the tracking flags without asking (NI) he who opposes it earlier. Please, if someone disagree others' opinions, at least the one should take a look at what the opponent said, and counter strike them based on the opinions or the new solid facts.</pre></div><div class="change-set" id="c97"><div class="comment" data-id="10555981" data-no="97"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-97" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_436910" id="a4261396_465475"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_436910" id="a4261396_465475"><a class="email " href="/user_profile?user_id=436910" > <span class="fna">sjw</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-97"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-97" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c97">Comment 97</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 05:51 PDT" data-time="1438260684">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-97">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-97" data-comment-id="10555981">Could someone CC me to the newly referred bugs here, please?</pre></div><div class="change-set" id="c98"><div class="comment" data-id="10556205" data-no="98"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-98" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-98"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-98" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c98">Comment 98</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 06:51 PDT" data-time="1438264262">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-98">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-98" data-comment-id="10556205">Greg, I don't see how producing video proof is going to help. AFAICS, the rapid swiping that helps exploiting Woodduck isn't indicative of a different bug and it isn't even a different symptom. It merely has two effects:

1. It increases system load by hammering the event queue, thus widening the race window.
2. It helps hitting short race windows.

Rapid swiping is just an advanced exploit variant of STR0, and the underlying issue is the same: The unlock event is fired before the settings were read. Greg, if you are really convinced that rapid swiping is a different issue, please, point out the code flow to me that is responsible. I can't see how. Until then I maintain that it is as outlined <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c72">comment 72</a> / 73.

However, there's a very simple way to shut me up about this as proposed in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - Lockscreen: harden .unlock() against settings observer callback race conditions"
   href="/show_bug.cgi?id=1188934">bug 1188934</a> and before: We could change 

lockscreen.js: passCodeEnabled: false;  // insecure

to

lockscreen.js: passCodeEnabled: true;   // secure

in all affected versions, and this problem ceases to be a security issue with a simple one-liner. Its frankly very minor UX regression of having to swipe twice – and that if and only if you're fast enough to hit the race window – could then be dealt with in separate, non-security-relevant bugs, and in the same way that Greg is planning to, anyway.

I'd rather have a working pass code lock than never ever having to swipe twice.</pre></div><div class="change-set" id="c99"><div class="comment" data-id="10556313" data-no="99"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-99" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-99"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-99" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c99">Comment 99</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 07:07 PDT" data-time="1438265272">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-99">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-99" data-comment-id="10556313">Moving tracking of uplifting efforts in affected branches to tracking <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX"
   href="/show_bug.cgi?id=1189314">bug 1189314</a>. If you fix the bypass in other releases, please open a separate bug that blocks 1189314.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=isnotempty">status-b2g-v2.0</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=affected">affected</a> &rarr; ---</div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=isnotempty">status-b2g-v2.0M</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=affected">affected</a> &rarr; ---</div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=isnotempty">status-b2g-v2.1</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=affected">affected</a> &rarr; ---</div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1_s&amp;o1=isnotempty">status-b2g-v2.1S</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1_s&amp;o1=equals&amp;v1=%3F">?</a> &rarr; ---</div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=isnotempty">status-b2g-v2.2</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=affected">affected</a> &rarr; ---</div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2r&amp;o1=isnotempty">status-b2g-v2.2r</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2r&amp;o1=equals&amp;v1=%3F">?</a> &rarr; ---</div></div></div><div class="change-set" id="c100"><div class="comment" data-id="10556462" data-no="100"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-100" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-100"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-100" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c100">Comment 100</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 07:43 PDT" data-time="1438267414">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-100">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-100" data-comment-id="10556462">I don't know how many times I must repeat that the difference is matter for the different solution. *Sigh*

As I said (yes, I've said, again), why it matters is because according the symptom, we can prepare different solutions to eliminate the racing. One is to delay the unlocker to block user action before we successfully reading the value. This is a very simple solution that you also proposed at <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c41">Comment 41</a>, although your version blocks more than the unlocker (you blocks the whole initialization of the lockscreen). The advantage is it's very simple, so you it's not to risky to uplift to other branches.

However, the shortage is it could seriously hurt the user experience if the bootstrapping time is short and user can see the screen lock soon, and that's what we now have after <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [System2] Implement new bootup procedure."
   href="/show_bug.cgi?id=1094759">Bug 1094759</a>. So the second solution I used here, is to block the component only when the value is really needed, which means before user unlock it. This gives us a better solution respect performance and UX requirement, plus the changes of new bootstrapping. The shortage is the patch is complicated and mixed with lots of new changes don't exist in the old branches. So to uplift such patch is risky.

That's what I've and they still hold true even you still don't get it. Time to cite:

<span class="quote">&gt; I don't see how producing video proof is going to help.</span >

If you know what I'm talking about, and if you've seen my solutions and their differences and what I concern, you'll know it's important to help.

<span class="quote">&gt; AFAICS, the rapid swiping that helps exploiting Woodduck isn't indicative of a different bug and it isn't even a different symptom.</span >

No. Even though they're the same bug (<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c65">Comment 65</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c88">Comment 88</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c95">Comment 95</a> and <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716#c4">Bug 1188716 Comment 4</a>), the different racing window before user can see the screen locker means whether we can adopt a more simple solution or not, which is important for uplifting since we need to reduce the risk AMAP.

<span class="quote">&gt;  It merely has two effects:</span >

<span class="quote">&gt; 1. It increases system load by hammering the event queue, thus widening the race window.
&gt; 2. It helps hitting short race windows.</span >

<span class="quote">&gt; Rapid swiping is just an advanced exploit variant of STR0, and the underlying issue is the same: The unlock event is fired before the settings were read. Greg, if you are really convinced that rapid swiping is a different issue, please, point out the code flow to me that is responsible. I can't see how. Until then I maintain that it is as outlined <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c72">comment 72</a> / 73.</span >

You're just repeating what I said, and you still don't get it: yes, they're the same bug, and they're the same issue, but they could be solved with different solutions which are better for different branches. And the solutions are both valid since they both block user to unlock the screen by-passing the passcode, but their concerns are not different.

So is &quot;Rapid swiping is just an advanced exploit variant of STR0&quot; ? Yes, and I never said it isn't. But if a bug need to be reproduced by rapid swiping + early swiping at bootstrapping, especially when it's in an old branch, it definitely deserves a different solution.

*Repeat again*: they're both valid solutions for the same bug, but they're good to the different cases.
 
<span class="quote">&gt; However, there's a very simple way to shut me up about this as proposed in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - Lockscreen: harden .unlock() against settings observer callback race conditions"
   href="/show_bug.cgi?id=1188934">bug 1188934</a> and before: We could change </span >

<span class="quote">&gt; lockscreen.js: passCodeEnabled: false;  // insecure</span >

<span class="quote">&gt; to</span >

<span class="quote">&gt; lockscreen.js: passCodeEnabled: true;   // secure</span >

<span class="quote">&gt; in all affected versions, and this problem ceases to be a security issue with a simple one-liner.</span >

NO. It *covers* the racing again, and the mindset like this is what really doesn't help. What surprise me is you proposed this as I haven't submit any valid solution, and as you never saw my patch has been landed and waiting for future validation. The fact is, that value should never be used if it's still not read from db. So we either block user action requires that value, or we block the whole initialization of the unlocker. And that's what the two patches implemented for.

<span class="quote">&gt; However, there's a very simple way to shut me up about this as proposed in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - Lockscreen: harden .unlock() against settings observer callback race conditions"
   href="/show_bug.cgi?id=1188934">bug 1188934</a> and before: We could change </span >

I rather you seriously read what I commented and proposed and landed. If you have found any defects in my patches and concerns for different branches, you can pick and put them here, so we can make it more secure and sophisticated. That's what a effective and ordinary bug should do. But to push me to explain it again and again, and to ignore them all, is not the way to solve the case.</pre></div><div class="change-set" id="c101"><div class="comment" data-id="10556468" data-no="101"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-101" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-101"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-101" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c101">Comment 101</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 07:45 PDT" data-time="1438267543">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-101">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-101" data-comment-id="10556468">(In reply to Christiane Ruetten [:cr] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c99">comment #99</a>)
<span class="quote">&gt; Moving tracking of uplifting efforts in affected branches to tracking bug
&gt; 1189314. If you fix the bypass in other releases, please open a separate bug
&gt; that blocks 1189314.</span >

That's what <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - Automatic reload reloads all images *everytime* they appear on the page."
   href="/show_bug.cgi?id=118871">Bug 118871</a> is for. It's already open, and you're also in the CC list and has been NIed.</pre></div><div class="change-set" id="c102"><div class="comment" data-id="10556473" data-no="102"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-102" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-102"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-102" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c102">Comment 102</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 07:46 PDT" data-time="1438267571">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-102">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-102" data-comment-id="10556473">Sorry, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">Bug 1188716</a>.</pre></div><div class="change-set" id="c103"><div class="comment" data-id="10557074" data-no="103"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-103" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a4261396_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_465475" id="a4261396_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-103"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-103" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c103">Comment 103</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 09:49 PDT" data-time="1438274957">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-103">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-103" data-comment-id="10557074">Greg, I really tried, but we're moving backwards. Please stop blaming me for your refusal to adopt a security mindset even for the sake of this discussion. Just because I don't interpret things your way doesn't mean that I don't understand what your approach and motivation are. You made that plenty clear by now and repeating your stance until I fall in line isn't helping. While there's lots to be said about <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Firefox OS Lockscreen passcode bypass due to race condition"
   href="/show_bug.cgi?id=1173284#c100">comment 100</a>, I'm not going to debate this any more.</pre></div><div class="change-set" id="a4361000_501985"><div class="change" id="aa4361000_501985">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_501985" id="a4361000_501985"><img src="https://secure.gravatar.com/avatar/b98bc212cb3a7aaecd8cb71d27df6487?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_501985" id="a4361000_501985"><a class="email disabled" href="/user_profile?user_id=501985" > <span class="fna">Pi Wei Cheng [:piwei] (inactive)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4361000_501985"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4361000_501985">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4361000_501985">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 13:13 PDT" data-time="1438287205">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - [Lockscreen] enabling/disabling passcode will not take effect until device is restarted"
   href="/show_bug.cgi?id=1189455">1189455</a></div></div></div><div class="change-set" id="c104"><div class="comment" data-id="10558185" data-no="104"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-104" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_481704" id="a4361000_501985"><img src="https://secure.gravatar.com/avatar/64e3836a9a67b8d1f2cdf36cd7d857a4?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_481704" id="a4361000_501985"><a class="email " href="/user_profile?user_id=481704" > <span class="fna">KTucker [:KTucker][Inactive 3/4/2016]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-104"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-104" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c104">Comment 104</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 13:22 PDT" data-time="1438287747">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-104">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-104" data-comment-id="10558185">We will need this landing backed out. It seems to be causing a smoke test blocker. Please see <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - [Lockscreen] enabling/disabling passcode will not take effect until device is restarted"
   href="/show_bug.cgi?id=1189455">bug 1189455</a>.</pre><div class="activity"><div class="change">Flags: needinfo?(nhirata.bugzilla)</div></div></div><div class="change-set" id="c105"><div class="comment" data-id="10558973" data-no="105"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-105" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a4361000_501985"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_391803" id="a4361000_501985"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-105"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-105" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c105">Comment 105</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 16:40 PDT" data-time="1438299631">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-105">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-105" data-comment-id="10558973">CR and I spoke about this bug.  We both thought the current situation of having to reboot the device is better than having the security issue that the patch tried to resolve.

I'm thinking we also have to reevaluate when we're doing backouts to figuring out which break is worse.  The break that the patch is resolving or the regression that it causes.

I would prefer to either talk to Greg first before backing out, or more so let him decide in this case esp since he's the owner of the patch.</pre></div><div class="change-set" id="c106"><div class="comment" data-id="10559397" data-no="106"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-106" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_476523" id="a4361000_501985"><img src="https://secure.gravatar.com/avatar/aaec1e3c70b450dd7fce392e46d36158?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_476523" id="a4361000_501985"><a class="email disabled" href="/user_profile?user_id=476523" > <span class="fna">Greg Weng [:snowmantw][:gweng][:λ]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-106"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-106" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c106">Comment 106</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-30 19:55 PDT" data-time="1438311302">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-106">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-106" data-comment-id="10559397">I submitted the patch at <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - [Lockscreen] enabling/disabling passcode will not take effect until device is restarted"
   href="/show_bug.cgi?id=1189455">Bug 1189455</a>.</pre></div><div class="change-set" id="c107"><div class="comment" data-id="10560251" data-no="107"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-107" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_434339" id="a4361000_501985"><img src="https://secure.gravatar.com/avatar/9a0a16bc1cb5b0144e373deb8e357804?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_434339" id="a4361000_501985"><a class="email disabled" href="/user_profile?user_id=434339" > <span class="fna">Paul Theriault [:pauljt] (no longer reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-107"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-107" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c107">Comment 107</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-31 01:17 PDT" data-time="1438330654">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-107">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-107" data-comment-id="10560251">Just FYI for other readers of this bug - I've taken the  discussions above to email and face to face meetings to figure out the jumble of bugs, versions and issues and figure out a path forward here. I'll post back in this and related bugs once we get a solid plan.</pre></div><div class="change-set" id="a4445363_391803"><div class="change" id="aa4445363_391803">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_391803" id="a4445363_391803"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_391803" id="a4445363_391803"><a class="email " href="/user_profile?user_id=391803" > <span class="fna">Naoki Hirata :nhirata (please use needinfo instead of cc)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4445363_391803"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4445363_391803">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4445363_391803">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-07-31 12:39 PDT" data-time="1438371568">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(nhirata.bugzilla)</span></div></div></div><div class="change-set" id="a4697344_1689"><div class="change" id="aa4697344_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a4697344_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a4697344_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4697344_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4697344_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4697344_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-03 10:39 PDT" data-time="1438623549">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1_s&amp;o1=isnotempty">status-b2g-v2.1S</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_1_s&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=isnotempty">status-b2g-v2.2</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2r&amp;o1=isnotempty">status-b2g-v2.2r</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2r&amp;o1=equals&amp;v1=affected">affected</a></div></div></div><div class="change-set" id="a4697466_1689"><div class="change" id="aa4697466_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a4697466_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a4697466_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4697466_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4697466_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4697466_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-03 10:41 PDT" data-time="1438623671">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-bounty? &rarr; sec-bounty+</div></div></div><div class="change-set" id="c108"><div class="comment" data-id="10578022" data-no="108"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-108" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a4697466_1689"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_75935" id="a4697466_1689"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-108"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-108" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#c108">Comment 108</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-04 19:31 PDT" data-time="1438741879">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-108">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-108" data-comment-id="10578022"><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Lockscreen can be bypassed with swiping while the device is booting (having the SIM pin lock facilitates it)"
   href="/show_bug.cgi?id=1188716">Bug 1188716</a> covers fixing older releases, so wontfixing this bug for better tracking.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1_s&amp;o1=isnotempty">status-b2g-v2.1S</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1_s&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_1_s&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=isnotempty">status-b2g-v2.2</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2r&amp;o1=isnotempty">status-b2g-v2.2r</a>:
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2r&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2r&amp;o1=equals&amp;v1=wontfix">wontfix</a></div></div></div><div class="change-set" id="a4972762_75935"><div class="change" id="aa4972762_75935">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a4972762_75935"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_75935" id="a4972762_75935"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4972762_75935"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4972762_75935">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a4972762_75935">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-06 15:09 PDT" data-time="1438898967">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=isnotempty">status-b2g-v2.0</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=isnotempty">status-b2g-v2.0M</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=isnotempty">status-b2g-v2.1</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=wontfix">wontfix</a></div></div></div><div class="change-set" id="a6729910_1689"><div class="change" id="aa6729910_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a6729910_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a6729910_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a6729910_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a6729910_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a6729910_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-26 23:15 PDT" data-time="1440656115">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: <span class="activity-deleted">b2g-core-security</span></div></div></div><div class="change-set" id="a6826242_486171"><div class="change" id="aa6826242_486171">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_486171" id="a6826242_486171"><img src="https://secure.gravatar.com/avatar/aaade266fa49b65e0b951ac340fcb8c6?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_486171" id="a6826242_486171"><a class="email disabled" href="/user_profile?user_id=486171" > <span class="fna">Harly Hsu[:harly]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a6826242_486171"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a6826242_486171">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a6826242_486171">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-28 02:00 PDT" data-time="1440752447">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(hhsu)</span></div></div></div><div class="change-set" id="a7251023_546015"><div class="change" id="aa7251023_546015">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_546015" id="a7251023_546015"><img src="https://secure.gravatar.com/avatar/d0465b8931b44330f542efbeeae855da?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_546015" id="a7251023_546015"><a class="email " href="/user_profile?user_id=546015" > <span class="fna">BMO Automation</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a7251023_546015"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a7251023_546015">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a7251023_546015">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 00:00 PDT" data-time="1441177228">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: core-security &rarr; core-security-release</div></div></div><div class="change-set" id="a7862760_465475"><div class="change" id="aa7862760_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a7862760_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a7862760_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a7862760_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a7862760_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a7862760_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-09 01:56 PDT" data-time="1441788965">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-review?(cr) &rarr; sec-review+</div></div></div><div class="change-set" id="a12704239_465475"><div class="change" id="aa12704239_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a12704239_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a12704239_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a12704239_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a12704239_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a12704239_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-11-04 01:47 PST" data-time="1446630444">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: [v3.0-nexus-5-l] &rarr; [v3.0-nexus-5-l][b2g-adv-main2.5+]</div></div></div><div class="change-set" id="a18002009_465475"><div class="change" id="aa18002009_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a18002009_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a18002009_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a18002009_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a18002009_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a18002009_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-04 09:23 PST" data-time="1451928214">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: [Lock Screen] pass code bypass after reboot due to settings observer race condition &rarr; Firefox OS Lockscreen passcode bypass due to settings observer race condition</div></div></div><div class="change-set" id="a18003448_465475"><div class="change" id="aa18003448_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a18003448_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a18003448_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a18003448_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a18003448_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a18003448_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-04 09:47 PST" data-time="1451929653">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Alias: CVE-2015-8511</div><div class="change">Summary: Firefox OS Lockscreen passcode bypass due to settings observer race condition &rarr; Firefox OS Lockscreen passcode bypass due to race condition</div></div></div><div class="change-set" id="a27218735_465475"><div class="change" id="aa27218735_465475">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_465475" id="a27218735_465475"><img src="https://secure.gravatar.com/avatar/53109391fab4917418886daa163a6b41?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_465475" id="a27218735_465475"><a class="email disabled" href="/user_profile?user_id=465475" > <span class="fna">Christiane Ruetten [INACTIVE]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a27218735_465475"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a27218735_465475">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a27218735_465475">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-04-20 02:35 PDT" data-time="1461144940">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Possible to circumvent lockscreen by swiping it away before it is visible"
   href="/show_bug.cgi?id=1265319">1265319</a></div></div></div><div class="change-set" id="a33555827_1689"><div class="change" id="aa33555827_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a33555827_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a33555827_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a33555827_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a33555827_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1173284#a33555827_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-07-02 10:53 PDT" data-time="1467482032">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: <span class="activity-deleted">core-security-release</span></div></div></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=1173284&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div></div> 
</main> 
</div> 


</body>
</html>