<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#906236 - openssh: CVE-2018-15473: delay bailout for invalid authenticating user until after the packet - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=906236&quot;&gt;906236&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:906236@bugs.debian.org">#906236</a><br>
openssh: CVE-2018-15473: delay bailout for invalid authenticating user until after the packet</h1>
<div class="versiongraph"><a href="version.cgi?package=src%3Aopenssh;found=openssh%2F1%3A6.7p1-1;found=openssh%2F1%3A7.7p1-1;collapse=1;fixed=openssh%2F1%3A7.7p1-4;fixed=openssh%2F1%3A7.4p1-10%2Bdeb9u4;info=1;absolute=0"><img alt="version graph" src="version.cgi?found=openssh%2F1%3A6.7p1-1;found=openssh%2F1%3A7.7p1-1;collapse=1;absolute=0;width=2;fixed=openssh%2F1%3A7.7p1-4;fixed=openssh%2F1%3A7.4p1-10%2Bdeb9u4;package=src%3Aopenssh;height=2"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?src=openssh">src:openssh</a>;
Maintainer for <a href="pkgreport.cgi?src=openssh">src:openssh</a> is <a href="pkgreport.cgi?maint=debian-ssh%40lists.debian.org">Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</a>; </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=carnil%40debian.org">Salvatore Bonaccorso &lt;carnil@debian.org&gt;</a></p>
  <p>Date: Wed, 15 Aug 2018 19:48:02 UTC</p>

<p>Severity: important</p>
<p>Tags: patch, security, upstream</p>

<p>Found in versions openssh/1:6.7p1-1, openssh/1:7.7p1-1</p>
<p>Fixed in versions openssh/1:7.7p1-4, openssh/1:7.4p1-10+deb9u4</p>

<p><strong>Done:</strong> Sebastien Delafond &lt;seb@debian.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p></div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=906236;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, carnil@debian.org, team@security.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1534362485 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, carnil@debian.org, team@security.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Wed, 15 Aug 2018 19:48:05 GMT) (<a href="bugreport.cgi?bug=906236;msg=2">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1534362485 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>carnil@debian.org, team@security.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Wed, 15 Aug 2018 19:48:05 GMT) (<a href="bugreport.cgi?bug=906236;msg=4">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=5">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=5">mbox</a>, <a href="mailto:906236@bugs.debian.org?References=%3C153436226668.6714.11130467831594285376.reportbug%40eldamar.local%3E&amp;subject=Re%3A%20openssh%3A%20delay%20bailout%20for%20invalid%20authenticating%20user%20until%20after%20the%20packet&amp;body=On%20Wed%2C%2015%20Aug%202018%2021%3A44%3A26%20%2B0200%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20openssh%0A%3E%20Version%3A%201%3A7.7p1-1%0A%3E%20Severity%3A%20important%0A%3E%20Tags%3A%20patch%20security%20upstream%0A%3E%20%0A%3E%20Hi%0A%3E%20%0A%3E%20See%20http%3A%2F%2Fwww.openwall.com%2Flists%2Foss-security%2F2018%2F08%2F15%2F5%20for%0A%3E%20details.%0A%3E%20%0A%3E%20Upstream%20patch%3A%0A%3E%20%0A%3E%20https%3A%2F%2Fgithub.com%2Fopenbsd%2Fsrc%2Fcommit%2F779974d35b4859c07bc3cb8a12c74b43b0a7d1e0%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C153436226668.6714.11130467831594285376.reportbug%40eldamar.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=carnil%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> openssh: delay bailout for invalid authenticating user until after the packet</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 15 Aug 2018 21:44:26 +0200</div>
</div>
<pre class="message">Source: openssh
Version: 1:7.7p1-1
Severity: important
Tags: patch security upstream

Hi

See <a href="http://www.openwall.com/lists/oss-security/2018/08/15/5">http://www.openwall.com/lists/oss-security/2018/08/15/5</a> for
details.

Upstream patch:

<a href="https://github.com/openbsd/src/commit/779974d35b4859c07bc3cb8a12c74b43b0a7d1e0">https://github.com/openbsd/src/commit/779974d35b4859c07bc3cb8a12c74b43b0a7d1e0</a>

Regards,
Salvatore


</pre>

<div class="msgreceived"><hr><p>
<a name="6"></a>
<!-- command:found -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1534362843 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;openssh/1:6.7p1-1&#39;,
                                    &#39;openssh/1:7.7p1-1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;openssh/1:7.7p1-1&#39;
                                  ]
            };
-->
<strong>Marked as found in versions openssh/1:6.7p1-1.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 15 Aug 2018 19:54:03 GMT) (<a href="bugreport.cgi?bug=906236;msg=7">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="8"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1534511706 -->
<strong>Message sent on</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Bug#906236.
 (Fri, 17 Aug 2018 13:15:06 GMT) (<a href="bugreport.cgi?bug=906236;msg=9">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="10"></a><a name="msg10"></a><a href="#10">Message #10</a> received at 906236-submitter@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=10">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=10">mbox</a>, <a href="mailto:906236@bugs.debian.org?References=%3C5b76c98e9c9be_3452b13937147fc12b6%40godard.mail%3E&amp;subject=Re%3A%20Bug%20%23906236%20in%20openssh%20marked%20as%20pending&amp;body=On%20Fri%2C%2017%20Aug%202018%2013%3A11%3A42%20%2B0000%20Colin%20Watson%20%3Ccjwatson%40debian.org%3E%20wrote%3A%0A%3E%20Control%3A%20tag%20-1%20pending%0A%3E%20%0A%3E%20Hello%2C%0A%3E%20%0A%3E%20Bug%20%23906236%20in%20openssh%20reported%20by%20you%20has%20been%20fixed%20in%20the%0A%3E%20Git%20repository%20and%20is%20awaiting%20an%20upload.%20You%20can%20see%20the%20commit%0A%3E%20message%20below%2C%20and%20you%20can%20check%20the%20diff%20of%20the%20fix%20at%3A%0A%3E%20%0A%3E%20https%3A%2F%2Fsalsa.debian.org%2Fssh-team%2Fopenssh%2Fcommit%2F4641c58a3279f6b118f9562babaa0ee050a38619%0A%3E%20%0A%3E%20------------------------------------------------------------------------%0A%3E%20Fix%20user%20enumeration%20vulnerability%0A%3E%20%0A%3E%20Apply%20upstream%20patch%20to%20delay%20bailout%20for%20invalid%20authenticating%20user%0A%3E%20until%20after%20the%20packet%20containing%20the%20request%20has%20been%20fully%20parsed.%0A%3E%20%0A%3E%20Closes%3A%20%23906236%0A%3E%20%0A%3E%20------------------------------------------------------------------------%0A%3E%20%0A%3E%20%28this%20message%20was%20generated%20automatically%29%0A%3E%20--%20%0A%3E%20Greetings%0A%3E%20%0A%3E%20https%3A%2F%2Fbugs.debian.org%2F906236%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C5b76c98e9c9be_3452b13937147fc12b6%40godard.mail%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=cjwatson%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Colin Watson &lt;cjwatson@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 906236-submitter@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug #906236 in openssh marked as pending</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 17 Aug 2018 13:11:42 +0000</div>
</div>
<pre class="message">Control: tag -1 pending

Hello,

Bug #906236 in openssh reported by you has been fixed in the
Git repository and is awaiting an upload. You can see the commit
message below, and you can check the diff of the fix at:

<a href="https://salsa.debian.org/ssh-team/openssh/commit/4641c58a3279f6b118f9562babaa0ee050a38619">https://salsa.debian.org/ssh-team/openssh/commit/4641c58a3279f6b118f9562babaa0ee050a38619</a>

------------------------------------------------------------------------
Fix user enumeration vulnerability

Apply upstream patch to delay bailout for invalid authenticating user
until after the packet containing the request has been fully parsed.

Closes: #<a href="bugreport.cgi?bug=906236">906236</a>

------------------------------------------------------------------------

(this message was generated automatically)
-- 
Greetings

<a href="https://bugs.debian.org/906236">https://bugs.debian.org/906236</a>


</pre>

<div class="msgreceived"><hr><p>
<a name="11"></a>
<!-- command:tag -->
<!-- requester: Colin Watson &lt;cjwatson@debian.org&gt; -->
<!-- request_addr: 906236-submitter@bugs.debian.org -->
<!-- time:1534511706 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;pending security upstream patch&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;patch security upstream&#39;
            };
-->
<strong>Added tag(s) pending.</strong>
Request was from <code>Colin Watson &lt;cjwatson@debian.org&gt;</code>
to <code>906236-submitter@bugs.debian.org</code>.
 (Fri, 17 Aug 2018 13:15:06 GMT) (<a href="bugreport.cgi?bug=906236;msg=12">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="13"></a>
<!-- request_addr: Colin Watson &lt;cjwatson@debian.org&gt; -->
<!-- time:1534513142 -->
<strong>Reply sent</strong>
to <code>Colin Watson &lt;cjwatson@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Fri, 17 Aug 2018 13:39:02 GMT) (<a href="bugreport.cgi?bug=906236;msg=14">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=14">mbox</a>, <a href="#13">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="15"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1534513142 -->
<strong>Notification sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Fri, 17 Aug 2018 13:39:02 GMT) (<a href="bugreport.cgi?bug=906236;msg=16">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="17"></a><a name="msg17"></a><a href="#17">Message #17</a> received at 906236-close@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=17">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=17">mbox</a>, <a href="mailto:906236@bugs.debian.org?body=On%20Fri%2C%2017%20Aug%202018%2013%3A34%3A41%20%2B0000%20Colin%20Watson%20%3Ccjwatson%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20openssh%0A%3E%20Source-Version%3A%201%3A7.7p1-4%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20openssh%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20906236%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Colin%20Watson%20%3Ccjwatson%40debian.org%3E%20%28supplier%20of%20updated%20openssh%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA256%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Fri%2C%2017%20Aug%202018%2014%3A09%3A32%20%2B0100%0A%3E%20Source%3A%20openssh%0A%3E%20Binary%3A%20openssh-client%20openssh-server%20openssh-sftp-server%20ssh%20ssh-askpass-gnome%20openssh-client-udeb%20openssh-server-udeb%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%201%3A7.7p1-4%0A%3E%20Distribution%3A%20unstable%0A%3E%20Urgency%3A%20high%0A%3E%20Maintainer%3A%20Debian%20OpenSSH%20Maintainers%20%3Cdebian-ssh%40lists.debian.org%3E%0A%3E%20Changed-By%3A%20Colin%20Watson%20%3Ccjwatson%40debian.org%3E%0A%3E%20Description%3A%0A%3E%20%20openssh-client%20-%20secure%20shell%20%28SSH%29%20client%2C%20for%20secure%20access%20to%20remote%20machines%0A%3E%20%20openssh-client-udeb%20-%20secure%20shell%20client%20for%20the%20Debian%20installer%20%28udeb%29%0A%3E%20%20openssh-server%20-%20secure%20shell%20%28SSH%29%20server%2C%20for%20secure%20access%20from%20remote%20machines%0A%3E%20%20openssh-server-udeb%20-%20secure%20shell%20server%20for%20the%20Debian%20installer%20%28udeb%29%0A%3E%20%20openssh-sftp-server%20-%20secure%20shell%20%28SSH%29%20sftp%20server%20module%2C%20for%20SFTP%20access%20from%20remot%0A%3E%20%20ssh%20%20%20%20%20%20%20%20-%20secure%20shell%20client%20and%20server%20%28metapackage%29%0A%3E%20%20ssh-askpass-gnome%20-%20interactive%20X%20program%20to%20prompt%20users%20for%20a%20passphrase%20for%20ssh-ad%0A%3E%20Closes%3A%20906236%0A%3E%20Changes%3A%0A%3E%20%20openssh%20%281%3A7.7p1-4%29%20unstable%3B%20urgency%3Dhigh%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20Apply%20upstream%20patch%20to%20delay%20bailout%20for%20invalid%20authenticating%20user%0A%3E%20%20%20%20%20%20until%20after%20the%20packet%20containing%20the%20request%20has%20been%20fully%20parsed%0A%3E%20%20%20%20%20%20%28closes%3A%20%23906236%29.%0A%3E%20Checksums-Sha1%3A%0A%3E%20%20e5a21e7409739196b2a85e2d01c5bc652bb72bc3%203121%20openssh_7.7p1-4.dsc%0A%3E%20%20267d593644355dea2e3eb1a01370a937751d9987%20160756%20openssh_7.7p1-4.debian.tar.xz%0A%3E%20%20049b974be4250a906deb3accbcff585c8bd03a85%2014906%20openssh_7.7p1-4_source.buildinfo%0A%3E%20Checksums-Sha256%3A%0A%3E%20%202cadb472a4ef9fdd5abcb7c72f096f04ebc13f26dc72fa05118d3edb845a3389%203121%20openssh_7.7p1-4.dsc%0A%3E%20%20a7d3a5f9c2b91639f128620c231792698199a2ba0a74fb28dd26204714ccd865%20160756%20openssh_7.7p1-4.debian.tar.xz%0A%3E%20%20c23fb4250db6c0fe6ac58872b1be78a1adc151d6bfe303371bacffb932847776%2014906%20openssh_7.7p1-4_source.buildinfo%0A%3E%20Files%3A%0A%3E%20%20411697adb18825f5b0da678431715e1e%203121%20net%20standard%20openssh_7.7p1-4.dsc%0A&amp;In-Reply-To=%3CE1fqetl-000IY4-9k%40fasolo.debian.org%3E&amp;subject=Re%3A%20Bug%23906236%3A%20fixed%20in%20openssh%201%3A7.7p1-4&amp;References=%3CE1fqetl-000IY4-9k%40fasolo.debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=cjwatson%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Colin Watson &lt;cjwatson@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 906236-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#906236: fixed in openssh 1:7.7p1-4</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 17 Aug 2018 13:34:41 +0000</div>
</div>
<pre class="message">Source: openssh
Source-Version: 1:7.7p1-4

We believe that the bug you reported is fixed in the latest version of
openssh, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 906236@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Colin Watson &lt;cjwatson@debian.org&gt; (supplier of updated openssh package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Fri, 17 Aug 2018 14:09:32 +0100
Source: openssh
Binary: openssh-client openssh-server openssh-sftp-server ssh ssh-askpass-gnome openssh-client-udeb openssh-server-udeb
Architecture: source
Version: 1:7.7p1-4
Distribution: unstable
Urgency: high
Maintainer: Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;
Changed-By: Colin Watson &lt;cjwatson@debian.org&gt;
Description:
 openssh-client - secure shell (SSH) client, for secure access to remote machines
 openssh-client-udeb - secure shell client for the Debian installer (udeb)
 openssh-server - secure shell (SSH) server, for secure access from remote machines
 openssh-server-udeb - secure shell server for the Debian installer (udeb)
 openssh-sftp-server - secure shell (SSH) sftp server module, for SFTP access from remot
 ssh        - secure shell client and server (metapackage)
 ssh-askpass-gnome - interactive X program to prompt users for a passphrase for ssh-ad
Closes: <a href="bugreport.cgi?bug=906236">906236</a>
Changes:
 openssh (1:7.7p1-4) unstable; urgency=high
 .
   * Apply upstream patch to delay bailout for invalid authenticating user
     until after the packet containing the request has been fully parsed
     (closes: #<a href="bugreport.cgi?bug=906236">906236</a>).
Checksums-Sha1:
 e5a21e7409739196b2a85e2d01c5bc652bb72bc3 3121 openssh_7.7p1-4.dsc
 267d593644355dea2e3eb1a01370a937751d9987 160756 openssh_7.7p1-4.debian.tar.xz
 049b974be4250a906deb3accbcff585c8bd03a85 14906 openssh_7.7p1-4_source.buildinfo
Checksums-Sha256:
 2cadb472a4ef9fdd5abcb7c72f096f04ebc13f26dc72fa05118d3edb845a3389 3121 openssh_7.7p1-4.dsc
 a7d3a5f9c2b91639f128620c231792698199a2ba0a74fb28dd26204714ccd865 160756 openssh_7.7p1-4.debian.tar.xz
 c23fb4250db6c0fe6ac58872b1be78a1adc151d6bfe303371bacffb932847776 14906 openssh_7.7p1-4_source.buildinfo
Files:
 411697adb18825f5b0da678431715e1e 3121 net standard openssh_7.7p1-4.dsc
 7584eb46f42a5980577374bbe97e48cd 160756 net standard openssh_7.7p1-4.debian.tar.xz
 2167cba69bbe4353016f0ae7bb254b7a 14906 net standard openssh_7.7p1-4_source.buildinfo

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEErApP8SYRtvzPAcEROTWH2X2GUAsFAlt2yU4ACgkQOTWH2X2G
UAu/Sw//Z6YZ0FtTnveeVSBIFLZtX9mKQLI1D63sr+GTaTXOsPpuMN2i1pk3fwbD
Kuhl9kfQNzxxkQTp5SY2xOzmPUfJt+6JPNtKhEWxgejGhebCO/xymuqIDKgw1eEx
R7w02WTNMDdxCMKLLslwgyAvcQDnV7EPy7dyZ68WQNaau2K9Ai5Mdroswe56Pyuv
acO5ecEZ2hCmCGO25XIlq2MtXRZBeNlOoTBJi+iqyrO0Qzvai4rmAr1E4AfF0PgD
2cPAe8q9rm6JLSXsJfrmS2avi+QudxKIzLqT+vfyLyhSeq6aRn7Abvug3V4Y6WUm
3L1Ysnn1QpVhwuxCYVQjuOoTZ7e4ePo3VFUQhZgs/GQK/NAgLANp3K3baxSDuTp/
EAvCRIxhoBX4xCRIJjc0OKTME9BRe9Owan8xoM99n6Xs7yyqmIWnxCX+S0NjKvwm
hPXbPd5nQA1Ps3w5PJBUSuFIeawMKiGd9LOaM9xv78jgTHHHRblEec9Motb/nGdL
ICC/g6x1+a3RZn4oJwd7fS4utK1ubosKAkSFcKLz5x1Y2hBN8hjiP1As9CwiMwXj
qnS+/5e7tVoxkXNCcqCM/PtqcfcKP2YnsjlQ8dTmacBL+iGzy+m3DTu+Ig8gp3FP
LXOsVJaZuzPd66uLL6LbqJrGPPVQghcG9hmAEe2UZkDaiE2MUB8=
=A67W
-----END PGP SIGNATURE-----



</pre>

<div class="infmessage"><hr><p>
<a name="18"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1534530782 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Fri, 17 Aug 2018 18:33:02 GMT) (<a href="bugreport.cgi?bug=906236;msg=19">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=19">mbox</a>, <a href="#18">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="20"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1534530782 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Fri, 17 Aug 2018 18:33:02 GMT) (<a href="bugreport.cgi?bug=906236;msg=21">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=21">mbox</a>, <a href="#20">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="22"></a><a name="msg22"></a><a href="#22">Message #22</a> received at 906236@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=22">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=22">mbox</a>, <a href="mailto:906236@bugs.debian.org?body=On%20Fri%2C%2017%20Aug%202018%2020%3A28%3A27%20%2B0200%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Control%3A%20retitle%20-1%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%20authenticating%20user%20until%20after%20the%20packet%0A%3E%20%0A%3E%20This%20got%20CVE-2018-15473%20assigned.%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20180817182827.GA18389%40eldamar.local%3E&amp;subject=Re%3A%20Bug%23906236%3A%20openssh%3A%20delay%20bailout%20for%20invalid%20authenticating%0A%20user%20until%20after%20the%20packet&amp;References=%3C153436226668.6714.11130467831594285376.reportbug%40eldamar.local%3E%0A%20%3C20180817182827.GA18389%40eldamar.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=carnil%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 906236@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#906236: openssh: delay bailout for invalid authenticating
 user until after the packet</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 17 Aug 2018 20:28:27 +0200</div>
</div>
<pre class="message">Control: retitle -1 openssh: <a href="https://security-tracker.debian.org/tracker/CVE-2018-15473">CVE-2018-15473</a>: delay bailout for invalid authenticating user until after the packet

This got <a href="https://security-tracker.debian.org/tracker/CVE-2018-15473">CVE-2018-15473</a> assigned.

Regards,
Salvatore


</pre>

<div class="msgreceived"><hr><p>
<a name="23"></a>
<!-- command:title -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: 906236-submit@bugs.debian.org -->
<!-- time:1534530782 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;openssh: CVE-2018-15473: delay bailout for invalid authenticating user until after the packet&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;openssh: delay bailout for invalid authenticating user until after the packet&#39;
            };
-->
<strong>Changed Bug title to &#39;openssh: CVE-2018-15473: delay bailout for invalid authenticating user until after the packet&#39; from &#39;openssh: delay bailout for invalid authenticating user until after the packet&#39;.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>906236-submit@bugs.debian.org</code>.
 (Fri, 17 Aug 2018 18:33:02 GMT) (<a href="bugreport.cgi?bug=906236;msg=24">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=24">mbox</a>, <a href="#23">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="25"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1534667773 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Sun, 19 Aug 2018 08:36:13 GMT) (<a href="bugreport.cgi?bug=906236;msg=26">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=26">mbox</a>, <a href="#25">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="27"></a>
<!-- request_addr: Chris Lamb &lt;lamby@debian.org&gt; -->
<!-- time:1534667773 -->
<strong>Acknowledgement sent</strong>
to <code>Chris Lamb &lt;lamby@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Sun, 19 Aug 2018 08:36:13 GMT) (<a href="bugreport.cgi?bug=906236;msg=28">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=28">mbox</a>, <a href="#27">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="29"></a><a name="msg29"></a><a href="#29">Message #29</a> received at 906236@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=29">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=29">mbox</a>, <a href="mailto:906236@bugs.debian.org?subject=Re%3A%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%20authenticating%0A%20user%20until%20after%20the%20packet&amp;body=On%20Sun%2C%2019%20Aug%202018%2009%3A32%3A57%20%2B0100%20Chris%20Lamb%20%3Clamby%40debian.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20%3E%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%20authenticating%0A%3E%20%3E%20user%20until%20after%20the%20packet%0A%3E%20%0A%3E%20I%27ve%20started%20on%20a%20patch%20for%20wheezy%20%28WIP%20attached%29.%0A%3E%20%0A%3E%20Would%20the%20security%20team%20be%20interested%20in%20one%20for%20stretch%3F%20If%20so%2C%20I%20can%0A%3E%20return%20with%20a%20proposed%20debdiff.%0A%3E%20%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20%0A%3E%20--%20%0A%3E%20%20%20%20%20%20%20%2C%27%27%60.%0A%3E%20%20%20%20%20%20%3A%20%3A%27%20%20%3A%20%20%20%20%20Chris%20Lamb%0A%3E%20%20%20%20%20%20%60.%20%60%27%60%20%20%20%20%20%20lamby%40debian.org%20%2F%20chris-lamb.co.uk%0A%3E%20%20%20%20%20%20%20%20%60-%0A&amp;In-Reply-To=%3C1534667577.892318.1478864568.4ECB7599%40webmail.messagingengine.com%3E&amp;References=%3C1534667577.892318.1478864568.4ECB7599%40webmail.messagingengine.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=lamby%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Chris Lamb &lt;lamby@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 906236@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;, team@security.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: openssh: CVE-2018-15473: delay bailout for invalid authenticating
 user until after the packet</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 19 Aug 2018 09:32:57 +0100</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=906236;msg=29">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi,

&gt; openssh: <a href="https://security-tracker.debian.org/tracker/CVE-2018-15473">CVE-2018-15473</a>: delay bailout for invalid authenticating
&gt; user until after the packet

I&#39;ve started on a patch for wheezy (WIP attached).

Would the security team be interested in one for stretch? If so, I can
return with a proposed debdiff.


Regards,

-- 
      ,&#39;&#39;`.
     : :&#39;  :     Chris Lamb
     `. `&#39;`      lamby@debian.org / chris-lamb.co.uk
       `-
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=906236;filename=CVE-2018-15473.patch;msg=29">CVE-2018-15473.patch</a> (text/x-patch, attachment)]</pre>

<div class="infmessage"><hr><p>
<a name="30"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1534839125 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Tue, 21 Aug 2018 08:12:05 GMT) (<a href="bugreport.cgi?bug=906236;msg=31">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=31">mbox</a>, <a href="#30">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="32"></a>
<!-- request_addr: Chris Lamb &lt;lamby@debian.org&gt; -->
<!-- time:1534839125 -->
<strong>Acknowledgement sent</strong>
to <code>Chris Lamb &lt;lamby@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Tue, 21 Aug 2018 08:12:05 GMT) (<a href="bugreport.cgi?bug=906236;msg=33">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=33">mbox</a>, <a href="#32">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="34"></a><a name="msg34"></a><a href="#34">Message #34</a> received at 906236@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=34">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=34">mbox</a>, <a href="mailto:906236@bugs.debian.org?In-Reply-To=%3C1534838926.1955695.1480973304.094DD2E1%40webmail.messagingengine.com%3E&amp;body=On%20Tue%2C%2021%20Aug%202018%2009%3A08%3A46%20%2B0100%20Chris%20Lamb%20%3Clamby%40debian.org%3E%20wrote%3A%0A%3E%20Chris%20Lamb%20wrote%3A%0A%3E%20%0A%3E%20%3E%20%3E%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%20authenticating%0A%3E%20%3E%20%3E%20user%20until%20after%20the%20packet%0A%3E%20%3E%20%0A%3E%20%3E%20I%27ve%20started%20on%20a%20patch%20for%20wheezy%20%28WIP%20attached%29.%0A%3E%20%3E%20%0A%3E%20%3E%20Would%20the%20security%20team%20be%20interested%20in%20one%20for%20stretch%3F%20If%20so%2C%20I%20can%0A%3E%20%3E%20return%20with%20a%20proposed%20debdiff.%0A%3E%20%0A%3E%20Gentle%20ping%20on%20this%3F%0A%3E%20%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20%0A%3E%20--%20%0A%3E%20%20%20%20%20%20%20%2C%27%27%60.%0A%3E%20%20%20%20%20%20%3A%20%3A%27%20%20%3A%20%20%20%20%20Chris%20Lamb%0A%3E%20%20%20%20%20%20%60.%20%60%27%60%20%20%20%20%20%20lamby%40debian.org%20%2F%20chris-lamb.co.uk%0A%3E%20%20%20%20%20%20%20%20%60-%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%20authenticating%0A%20user%20until%20after%20the%20packet&amp;References=%3C1534667577.892318.1478864568.4ECB7599%40webmail.messagingengine.com%3E%0A%20%3C1534838926.1955695.1480973304.094DD2E1%40webmail.messagingengine.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=lamby%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Chris Lamb &lt;lamby@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 906236@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;, team@security.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: openssh: CVE-2018-15473: delay bailout for invalid authenticating
 user until after the packet</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Aug 2018 09:08:46 +0100</div>
</div>
<pre class="message">Chris Lamb wrote:

&gt; &gt; openssh: <a href="https://security-tracker.debian.org/tracker/CVE-2018-15473">CVE-2018-15473</a>: delay bailout for invalid authenticating
&gt; &gt; user until after the packet
&gt; 
&gt; I&#39;ve started on a patch for wheezy (WIP attached).
&gt; 
&gt; Would the security team be interested in one for stretch? If so, I can
&gt; return with a proposed debdiff.

Gentle ping on this?


Regards,

-- 
      ,&#39;&#39;`.
     : :&#39;  :     Chris Lamb
     `. `&#39;`      lamby@debian.org / chris-lamb.co.uk
       `-


</pre>

<div class="infmessage"><hr><p>
<a name="35"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1534840383 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Tue, 21 Aug 2018 08:33:03 GMT) (<a href="bugreport.cgi?bug=906236;msg=36">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=36">mbox</a>, <a href="#35">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="37"></a>
<!-- request_addr: Sébastien Delafond &lt;seb@debian.org&gt; -->
<!-- time:1534840383 -->
<strong>Acknowledgement sent</strong>
to <code>Sébastien Delafond &lt;seb@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Tue, 21 Aug 2018 08:33:03 GMT) (<a href="bugreport.cgi?bug=906236;msg=38">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=38">mbox</a>, <a href="#37">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="39"></a><a name="msg39"></a><a href="#39">Message #39</a> received at 906236@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=39">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=39">mbox</a>, <a href="mailto:906236@bugs.debian.org?subject=Re%3A%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%0A%20authenticating%20user%20until%20after%20the%20packet&amp;body=On%20Tue%2C%2021%20Aug%202018%2009%3A55%3A24%20%2B0200%20%3D%3Futf-8%3FQ%3FS%3DC3%3DA9bastien%3F%3D%20Delafond%20%3Cseb%40debian.org%3E%20wrote%3A%0A%3E%20On%20Aug%2F19%2C%20Chris%20Lamb%20wrote%3A%0A%3E%20%3E%20Would%20the%20security%20team%20be%20interested%20in%20one%20for%20stretch%3F%20If%20so%2C%20I%20can%0A%3E%20%3E%20return%20with%20a%20proposed%20debdiff.%0A%3E%20%0A%3E%20Sorry%2C%20missed%20your%20email%20about%20this.%20I%27m%20actually%20done%20with%20the%20patch%20on%0A%3E%20my%20end.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20%0A%3E%20--Seb%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20180821075524.GB5008%40centurion.befour.org%3E&amp;References=%3C1534667577.892318.1478864568.4ECB7599%40webmail.messagingengine.com%3E%0A%20%3C20180821075524.GB5008%40centurion.befour.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=seb%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Sébastien Delafond &lt;seb@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Chris Lamb &lt;lamby@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 906236@bugs.debian.org, Salvatore Bonaccorso &lt;carnil@debian.org&gt;,
	team@security.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: openssh: CVE-2018-15473: delay bailout for invalid
 authenticating user until after the packet</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Aug 2018 09:55:24 +0200</div>
</div>
<pre class="message">On Aug/19, Chris Lamb wrote:
&gt; Would the security team be interested in one for stretch? If so, I can
&gt; return with a proposed debdiff.

Sorry, missed your email about this. I&#39;m actually done with the patch on
my end.

Cheers,

--Seb


</pre>

<div class="infmessage"><hr><p>
<a name="40"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1534840563 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Tue, 21 Aug 2018 08:36:03 GMT) (<a href="bugreport.cgi?bug=906236;msg=41">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=41">mbox</a>, <a href="#40">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="42"></a>
<!-- request_addr: Chris Lamb &lt;lamby@debian.org&gt; -->
<!-- time:1534840563 -->
<strong>Acknowledgement sent</strong>
to <code>Chris Lamb &lt;lamby@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Tue, 21 Aug 2018 08:36:03 GMT) (<a href="bugreport.cgi?bug=906236;msg=43">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=43">mbox</a>, <a href="#42">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="44"></a><a name="msg44"></a><a href="#44">Message #44</a> received at 906236@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=44">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=44">mbox</a>, <a href="mailto:906236@bugs.debian.org?subject=Re%3A%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%20authenticating%0A%20user%20until%20after%20the%20packet&amp;body=On%20Tue%2C%2021%20Aug%202018%2009%3A32%3A44%20%2B0100%20Chris%20Lamb%20%3Clamby%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20S%C3%A9bastien%2C%0A%3E%20%0A%3E%20%3E%20Sorry%2C%20missed%20your%20email%20about%20this.%20I%27m%20actually%20done%20with%20the%20patch%20on%0A%3E%20%3E%20my%20end.%0A%3E%20%0A%3E%20No%20problem.%20Just%20to%20clarify%20that%3A%0A%3E%20%0A%3E%20%20a%29%20You%20will%20take%20the%20lead%20on%20stable%2FDSA.%0A%3E%20%0A%3E%20%20b%29%20I%27ll%20carry%20on%20with%20LTS%2C%20etc.%0A%3E%20%0A%3E%20Let%20me%20know%20if%20this%20is%20incorrect.%0A%3E%20%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20%0A%3E%20--%20%0A%3E%20%20%20%20%20%20%20%2C%27%27%60.%0A%3E%20%20%20%20%20%20%3A%20%3A%27%20%20%3A%20%20%20%20%20Chris%20Lamb%0A%3E%20%20%20%20%20%20%60.%20%60%27%60%20%20%20%20%20%20lamby%40debian.org%20%2F%20chris-lamb.co.uk%0A%3E%20%20%20%20%20%20%20%20%60-%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C1534840364.1962008.1480991648.7BB57D96%40webmail.messagingengine.com%3E&amp;References=%3C1534667577.892318.1478864568.4ECB7599%40webmail.messagingengine.com%3E%0A%20%3C20180821075524.GB5008%40centurion.befour.org%3E%0A%20%3C1534840364.1962008.1480991648.7BB57D96%40webmail.messagingengine.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=lamby%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Chris Lamb &lt;lamby@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Sébastien Delafond &lt;seb@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 906236@bugs.debian.org, Salvatore Bonaccorso &lt;carnil@debian.org&gt;,
 team@security.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: openssh: CVE-2018-15473: delay bailout for invalid authenticating
 user until after the packet</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Aug 2018 09:32:44 +0100</div>
</div>
<pre class="message">Hi Sébastien,

&gt; Sorry, missed your email about this. I&#39;m actually done with the patch on
&gt; my end.

No problem. Just to clarify that:

 a) You will take the lead on stable/DSA.

 b) I&#39;ll carry on with LTS, etc.

Let me know if this is incorrect.


Regards,

-- 
      ,&#39;&#39;`.
     : :&#39;  :     Chris Lamb
     `. `&#39;`      lamby@debian.org / chris-lamb.co.uk
       `-


</pre>

<div class="infmessage"><hr><p>
<a name="45"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1534840743 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Tue, 21 Aug 2018 08:39:03 GMT) (<a href="bugreport.cgi?bug=906236;msg=46">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=46">mbox</a>, <a href="#45">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="47"></a>
<!-- request_addr: Sébastien Delafond &lt;seb@debian.org&gt; -->
<!-- time:1534840743 -->
<strong>Acknowledgement sent</strong>
to <code>Sébastien Delafond &lt;seb@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Tue, 21 Aug 2018 08:39:03 GMT) (<a href="bugreport.cgi?bug=906236;msg=48">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=48">mbox</a>, <a href="#47">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="49"></a><a name="msg49"></a><a href="#49">Message #49</a> received at 906236@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=49">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=49">mbox</a>, <a href="mailto:906236@bugs.debian.org?subject=Re%3A%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%0A%20authenticating%20user%20until%20after%20the%20packet&amp;body=On%20Tue%2C%2021%20Aug%202018%2010%3A35%3A04%20%2B0200%20%3D%3Futf-8%3FQ%3FS%3DC3%3DA9bastien%3F%3D%20Delafond%20%3Cseb%40debian.org%3E%20wrote%3A%0A%3E%20On%20Aug%2F21%2C%20Chris%20Lamb%20wrote%3A%0A%3E%20%3E%20%20a%29%20You%20will%20take%20the%20lead%20on%20stable%2FDSA.%0A%3E%20%3E%20%20b%29%20I%27ll%20carry%20on%20with%20LTS%2C%20etc.%0A%3E%20%0A%3E%20Yes.%0A%3E%20%0A%3E%20--Seb%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20180821083504.GC5008%40centurion.befour.org%3E&amp;References=%3C1534667577.892318.1478864568.4ECB7599%40webmail.messagingengine.com%3E%0A%20%3C20180821075524.GB5008%40centurion.befour.org%3E%0A%20%3C1534840364.1962008.1480991648.7BB57D96%40webmail.messagingengine.com%3E%0A%20%3C20180821083504.GC5008%40centurion.befour.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=seb%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Sébastien Delafond &lt;seb@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Chris Lamb &lt;lamby@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 906236@bugs.debian.org, Salvatore Bonaccorso &lt;carnil@debian.org&gt;,
	team@security.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: openssh: CVE-2018-15473: delay bailout for invalid
 authenticating user until after the packet</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Aug 2018 10:35:04 +0200</div>
</div>
<pre class="message">On Aug/21, Chris Lamb wrote:
&gt;  a) You will take the lead on stable/DSA.
&gt;  b) I&#39;ll carry on with LTS, etc.

Yes.

--Seb


</pre>

<div class="infmessage"><hr><p>
<a name="50"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1534848124 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Tue, 21 Aug 2018 10:42:04 GMT) (<a href="bugreport.cgi?bug=906236;msg=51">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=51">mbox</a>, <a href="#50">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="52"></a>
<!-- request_addr: Colin Watson &lt;cjwatson@debian.org&gt; -->
<!-- time:1534848124 -->
<strong>Acknowledgement sent</strong>
to <code>Colin Watson &lt;cjwatson@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Tue, 21 Aug 2018 10:42:04 GMT) (<a href="bugreport.cgi?bug=906236;msg=53">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=53">mbox</a>, <a href="#52">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="54"></a><a name="msg54"></a><a href="#54">Message #54</a> received at 906236@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=54">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=54">mbox</a>, <a href="mailto:906236@bugs.debian.org?subject=Re%3A%20Bug%23906236%3A%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%0A%20authenticating%20user%20until%20after%20the%20packet&amp;body=On%20Tue%2C%2021%20Aug%202018%2011%3A39%3A46%20%2B0100%20Colin%20Watson%20%3Ccjwatson%40debian.org%3E%20wrote%3A%0A%3E%20On%20Sun%2C%20Aug%2019%2C%202018%20at%2009%3A32%3A57AM%20%2B0100%2C%20Chris%20Lamb%20wrote%3A%0A%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%0A%3E%20%3E%20%3E%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%20authenticating%0A%3E%20%3E%20%3E%20user%20until%20after%20the%20packet%0A%3E%20%3E%20%0A%3E%20%3E%20I%27ve%20started%20on%20a%20patch%20for%20wheezy%20%28WIP%20attached%29.%0A%3E%20%3E%20%0A%3E%20%3E%20Would%20the%20security%20team%20be%20interested%20in%20one%20for%20stretch%3F%20If%20so%2C%20I%20can%0A%3E%20%3E%20return%20with%20a%20proposed%20debdiff.%0A%3E%20%0A%3E%20Your%20WIP%20mostly%20looks%20good%2C%20except%3A%0A%3E%20%0A%3E%20%3E%20---%20openssh-6.7p1.orig%2Fauth2-pubkey.c%0A%3E%20%3E%20%2B%2B%2B%20openssh-6.7p1%2Fauth2-pubkey.c%0A%3E%20%3E%20%40%40%20-76%2C15%20%2B76%2C11%20%40%40%20userauth_pubkey%28Authctxt%20%2Aauthctxt%29%0A%3E%20%3E%20%20%09Buffer%20b%3B%0A%3E%20%3E%20%20%09Key%20%2Akey%20%3D%20NULL%3B%0A%3E%20%3E%20%20%09char%20%2Apkalg%2C%20%2Auserstyle%3B%0A%3E%20%3E%20-%09u_char%20%2Apkblob%2C%20%2Asig%3B%0A%3E%20%3E%20%2B%09u_char%20%2Apkblob%2C%20%2Asig%20%3D%20NULL%3B%0A%3E%20%3E%20%20%09u_int%20alen%2C%20blen%2C%20slen%3B%0A%3E%20%3E%20%20%09int%20have_sig%2C%20pktype%3B%0A%3E%20%3E%20%20%09int%20authenticated%20%3D%200%3B%0A%3E%20%3E%20%20%0A%3E%20%3E%20-%09if%20%28%21authctxt-%3Evalid%29%20%7B%0A%3E%20%3E%20-%09%09debug2%28%22userauth_pubkey%3A%20disabled%20because%20of%20invalid%20user%22%29%3B%0A%3E%20%3E%20-%09%09return%200%3B%0A%3E%20%3E%20-%09%7D%0A%3E%20%3E%20%20%09have_sig%20%3D%20packet_get_char%28%29%3B%0A%3E%20%3E%20%20%09if%20%28datafellows%20%26%20SSH_BUG_PKAUTH%29%20%7B%0A%3E%20%3E%20%20%09%09debug2%28%22userauth_pubkey%3A%20SSH_BUG_PKAUTH%22%29%3B%0A%3E%20%3E%20%40%40%20-131%2C6%20%2B127%2C11%20%40%40%20userauth_pubkey%28Authctxt%20%2Aauthctxt%29%0A%3E%20%3E%20%20%09%09%7D%20else%20%7B%0A%3E%20%3E%20%20%09%09%09buffer_put_string%28%26b%2C%20session_id2%2C%20session_id2_len%29%3B%0A%3E%20%3E%20%20%09%09%7D%0A%3E%20%3E%20%2B%09%09if%20%28%21authctxt-%3Evalid%20%7C%7C%20authctxt-%3Euser%20%3D%3D%20NULL%29%20%7B%0A%3E%20%3E%20%2B%09%09%09debug2%28%22%25s%3A%20disabled%20because%20of%20invalid%20user%22%2C%0A%3E%20%3E%20%2B%09%09%09%20%20%20%20__func__%29%3B%0A%3E%20%3E%20%2B%09%09%09goto%20done%3B%0A%3E%20%3E%20%2B%09%09%7D%0A%3E%20%3E%20%20%09%09%2F%2A%20reconstruct%20packet%20%2A%2F%0A%3E%20%3E%20%20%09%09buffer_put_char%28%26b%2C%20SSH2_MSG_USERAUTH_REQUEST%29%3B%0A%3E%20%3E%20%20%09%09xasprintf%28%26userstyle%2C%20%22%25s%25s%25s%22%2C%20authctxt-%3Euser%2C%0A%3E%20%3E%20%40%40%20-162%2C11%20%2B163%2C14%20%40%40%20userauth_pubkey%28Authctxt%20%2Aauthctxt%29%0A%3E%20%3E%20%20%09%09%20%20%20%20buffer_len%28%26b%29%29%29%20%3D%3D%201%29%0A%3E%20%3E%20%20%09%09%09authenticated%20%3D%201%3B%0A%3E%20%3E%20%20%09%09buffer_free%28%26b%29%3B%0A%3E%20%3E%20-%09%09free%28sig%29%3B%0A%3E%20%3E%20%20%09%7D%20else%20%7B%0A%3E%20%3E%20%20%09%09debug%28%22test%20whether%20pkalg%2Fpkblob%20are%20acceptable%22%29%3B%0A%3E%20%3E%20%20%09%09packet_check_eom%28%29%3B%0A%3E%20%3E%20-%0A%3E%20%3E%20%2B%09%09if%20%28%21authctxt-%3Evalid%20%7C%7C%20authctxt-%3Euser%20%3D%3D%20NULL%29%20%7B%0A%3E%20%3E%20%2B%09%09%09debug2%28%22%25s%3A%20disabled%20because%20of%20invalid%20user%22%2C%0A%3E%20%3E%20%2B%09%09%09%20%20%20%20__func__%29%3B%0A%3E%20%3E%20%2B%09%09%09goto%20done%3B%0A%3E%20%3E%20%2B%09%09%7D%0A%3E%20%3E%20%20%09%09%2F%2A%20XXX%20fake%20reply%20and%20always%20send%20PK_OK%20%3F%20%2A%2F%0A%3E%20%3E%20%20%09%09%2F%2A%0A&amp;In-Reply-To=%3C20180821103946.aj32warldwpevyet%40riva.ucam.org%3E&amp;References=%3C153436226668.6714.11130467831594285376.reportbug%40eldamar.local%3E%0A%20%3C1534667577.892318.1478864568.4ECB7599%40webmail.messagingengine.com%3E%0A%20%3C20180821103946.aj32warldwpevyet%40riva.ucam.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=cjwatson%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Colin Watson &lt;cjwatson@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Chris Lamb &lt;lamby@debian.org&gt;, 906236@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;, team@security.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#906236: openssh: CVE-2018-15473: delay bailout for invalid
 authenticating user until after the packet</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Aug 2018 11:39:46 +0100</div>
</div>
<pre class="message">On Sun, Aug 19, 2018 at 09:32:57AM +0100, Chris Lamb wrote:
&gt; Hi,
&gt; 
&gt; &gt; openssh: <a href="https://security-tracker.debian.org/tracker/CVE-2018-15473">CVE-2018-15473</a>: delay bailout for invalid authenticating
&gt; &gt; user until after the packet
&gt; 
&gt; I&#39;ve started on a patch for wheezy (WIP attached).
&gt; 
&gt; Would the security team be interested in one for stretch? If so, I can
&gt; return with a proposed debdiff.

Your WIP mostly looks good, except:

&gt; --- openssh-6.7p1.orig/auth2-pubkey.c
&gt; +++ openssh-6.7p1/auth2-pubkey.c
&gt; @@ -76,15 +76,11 @@ userauth_pubkey(Authctxt *authctxt)
&gt;  	Buffer b;
&gt;  	Key *key = NULL;
&gt;  	char *pkalg, *userstyle;
&gt; -	u_char *pkblob, *sig;
&gt; +	u_char *pkblob, *sig = NULL;
&gt;  	u_int alen, blen, slen;
&gt;  	int have_sig, pktype;
&gt;  	int authenticated = 0;
&gt;  
&gt; -	if (!authctxt-&gt;valid) {
&gt; -		debug2(&quot;userauth_pubkey: disabled because of invalid user&quot;);
&gt; -		return 0;
&gt; -	}
&gt;  	have_sig = packet_get_char();
&gt;  	if (datafellows &amp; SSH_BUG_PKAUTH) {
&gt;  		debug2(&quot;userauth_pubkey: SSH_BUG_PKAUTH&quot;);
&gt; @@ -131,6 +127,11 @@ userauth_pubkey(Authctxt *authctxt)
&gt;  		} else {
&gt;  			buffer_put_string(&amp;b, session_id2, session_id2_len);
&gt;  		}
&gt; +		if (!authctxt-&gt;valid || authctxt-&gt;user == NULL) {
&gt; +			debug2(&quot;%s: disabled because of invalid user&quot;,
&gt; +			    __func__);
&gt; +			goto done;
&gt; +		}
&gt;  		/* reconstruct packet */
&gt;  		buffer_put_char(&amp;b, SSH2_MSG_USERAUTH_REQUEST);
&gt;  		xasprintf(&amp;userstyle, &quot;%s%s%s&quot;, authctxt-&gt;user,
&gt; @@ -162,11 +163,14 @@ userauth_pubkey(Authctxt *authctxt)
&gt;  		    buffer_len(&amp;b))) == 1)
&gt;  			authenticated = 1;
&gt;  		buffer_free(&amp;b);
&gt; -		free(sig);
&gt;  	} else {
&gt;  		debug(&quot;test whether pkalg/pkblob are acceptable&quot;);
&gt;  		packet_check_eom();
&gt; -
&gt; +		if (!authctxt-&gt;valid || authctxt-&gt;user == NULL) {
&gt; +			debug2(&quot;%s: disabled because of invalid user&quot;,
&gt; +			    __func__);
&gt; +			goto done;
&gt; +		}
&gt;  		/* XXX fake reply and always send PK_OK ? */
&gt;  		/*
&gt;  		 * XXX this allows testing whether a user is allowed
&gt; @@ -192,6 +196,7 @@ done:
&gt;  		key_free(key);
&gt;  	free(pkalg);
&gt;  	free(pkblob);
&gt; +	free(sig);
&gt;  	return authenticated;
&gt;  }
&gt;  

This bit has the same memory leak problem that I noticed in Sébastien&#39;s
backport for stretch: <a href="https://bugzilla.mindrot.org/show_bug.cgi?id=2898">https://bugzilla.mindrot.org/show_bug.cgi?id=2898</a>,
but the backported fix needs to be different because we&#39;re working with
a buffer on the stack rather than a pointer to the buffer on the heap.
My suggestion to Sébastien was to add &quot;buffer_free(&amp;b);&quot; before the new
&quot;goto done;&quot; in (only) the have_sig branch; this is a bit clunky, but
seems like the easiest solution.

-- 
Colin Watson                                       [cjwatson@debian.org]


</pre>

<div class="infmessage"><hr><p>
<a name="55"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1534872063 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Tue, 21 Aug 2018 17:21:03 GMT) (<a href="bugreport.cgi?bug=906236;msg=56">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=56">mbox</a>, <a href="#55">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="57"></a>
<!-- request_addr: Chris Lamb &lt;lamby@debian.org&gt; -->
<!-- time:1534872063 -->
<strong>Acknowledgement sent</strong>
to <code>Chris Lamb &lt;lamby@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Tue, 21 Aug 2018 17:21:03 GMT) (<a href="bugreport.cgi?bug=906236;msg=58">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=58">mbox</a>, <a href="#57">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="59"></a><a name="msg59"></a><a href="#59">Message #59</a> received at 906236@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=59">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=59">mbox</a>, <a href="mailto:906236@bugs.debian.org?subject=Re%3A%20Bug%23906236%3A%20openssh%3A%20CVE-2018-15473%3A%20delay%20bailout%20for%20invalid%0A%20authenticating%20user%20until%20after%20the%20packet&amp;body=On%20Tue%2C%2021%20Aug%202018%2018%3A19%3A09%20%2B0100%20Chris%20Lamb%20%3Clamby%40debian.org%3E%20wrote%3A%0A%3E%20Dear%20Colin%20et%20al.%2C%0A%3E%20%0A%3E%20%3E%20This%20bit%20has%20the%20same%20memory%20leak%20problem%20that%20I%20noticed%20in%20S%C3%A9bastien%27s%0A%3E%20%3E%20backport%20for%20stretch%0A%3E%20%0A%3E%20Great%20spot%3B%20thanks.%0A%3E%20%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20%0A%3E%20--%20%0A%3E%20%20%20%20%20%20%20%2C%27%27%60.%0A%3E%20%20%20%20%20%20%3A%20%3A%27%20%20%3A%20%20%20%20%20Chris%20Lamb%0A%3E%20%20%20%20%20%20%60.%20%60%27%60%20%20%20%20%20%20lamby%40debian.org%20%2F%20chris-lamb.co.uk%0A%3E%20%20%20%20%20%20%20%20%60-%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C1534871949.2919005.1481536216.04D728C7%40webmail.messagingengine.com%3E&amp;References=%3C153436226668.6714.11130467831594285376.reportbug%40eldamar.local%3E%0A%20%3C1534667577.892318.1478864568.4ECB7599%40webmail.messagingengine.com%3E%0A%20%3C20180821103946.aj32warldwpevyet%40riva.ucam.org%3E%0A%20%3C1534871949.2919005.1481536216.04D728C7%40webmail.messagingengine.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=lamby%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Chris Lamb &lt;lamby@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Colin Watson &lt;cjwatson@debian.org&gt;, 906236@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;, team@security.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#906236: openssh: CVE-2018-15473: delay bailout for invalid
 authenticating user until after the packet</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Aug 2018 18:19:09 +0100</div>
</div>
<pre class="message">Dear Colin et al.,

&gt; This bit has the same memory leak problem that I noticed in Sébastien&#39;s
&gt; backport for stretch

Great spot; thanks.


Regards,

-- 
      ,&#39;&#39;`.
     : :&#39;  :     Chris Lamb
     `. `&#39;`      lamby@debian.org / chris-lamb.co.uk
       `-


</pre>

<div class="msgreceived"><hr><p>
<a name="60"></a>
<!-- request_addr: Sebastien Delafond &lt;seb@debian.org&gt; -->
<!-- time:1535119027 -->
<strong>Reply sent</strong>
to <code>Sebastien Delafond &lt;seb@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Fri, 24 Aug 2018 13:57:07 GMT) (<a href="bugreport.cgi?bug=906236;msg=61">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=61">mbox</a>, <a href="#60">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="62"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1535119027 -->
<strong>Notification sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Fri, 24 Aug 2018 13:57:07 GMT) (<a href="bugreport.cgi?bug=906236;msg=63">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=63">mbox</a>, <a href="#62">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="64"></a><a name="msg64"></a><a href="#64">Message #64</a> received at 906236-close@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=64">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=64">mbox</a>, <a href="mailto:906236@bugs.debian.org?subject=Re%3A%20Bug%23906236%3A%20fixed%20in%20openssh%201%3A7.4p1-10%2Bdeb9u4&amp;body=On%20Fri%2C%2024%20Aug%202018%2013%3A52%3A09%20%2B0000%20Sebastien%20Delafond%20%3Cseb%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20openssh%0A%3E%20Source-Version%3A%201%3A7.4p1-10%2Bdeb9u4%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20openssh%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20906236%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Sebastien%20Delafond%20%3Cseb%40debian.org%3E%20%28supplier%20of%20updated%20openssh%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Tue%2C%2021%20Aug%202018%2005%3A14%3A18%20%2B0200%0A%3E%20Source%3A%20openssh%0A%3E%20Binary%3A%20openssh-client%20openssh-client-ssh1%20openssh-server%20openssh-sftp-server%20ssh%20ssh-krb5%20ssh-askpass-gnome%20openssh-client-udeb%20openssh-server-udeb%0A%3E%20Architecture%3A%20source%20amd64%20all%0A%3E%20Version%3A%201%3A7.4p1-10%2Bdeb9u4%0A%3E%20Distribution%3A%20stretch-security%0A%3E%20Urgency%3A%20high%0A%3E%20Maintainer%3A%20Debian%20OpenSSH%20Maintainers%20%3Cdebian-ssh%40lists.debian.org%3E%0A%3E%20Changed-By%3A%20Sebastien%20Delafond%20%3Cseb%40debian.org%3E%0A%3E%20Description%3A%0A%3E%20%20openssh-client%20-%20secure%20shell%20%28SSH%29%20client%2C%20for%20secure%20access%20to%20remote%20machines%0A%3E%20%20openssh-client-ssh1%20-%20secure%20shell%20%28SSH%29%20client%20for%20legacy%20SSH1%20protocol%0A%3E%20%20openssh-client-udeb%20-%20secure%20shell%20client%20for%20the%20Debian%20installer%20%28udeb%29%0A%3E%20%20openssh-server%20-%20secure%20shell%20%28SSH%29%20server%2C%20for%20secure%20access%20from%20remote%20machines%0A%3E%20%20openssh-server-udeb%20-%20secure%20shell%20server%20for%20the%20Debian%20installer%20%28udeb%29%0A%3E%20%20openssh-sftp-server%20-%20secure%20shell%20%28SSH%29%20sftp%20server%20module%2C%20for%20SFTP%20access%20from%20remot%0A%3E%20%20ssh%20%20%20%20%20%20%20%20-%20secure%20shell%20client%20and%20server%20%28metapackage%29%0A%3E%20%20ssh-askpass-gnome%20-%20interactive%20X%20program%20to%20prompt%20users%20for%20a%20passphrase%20for%20ssh-ad%0A%3E%20%20ssh-krb5%20%20%20-%20secure%20shell%20client%20and%20server%20%28transitional%20package%29%0A%3E%20Closes%3A%20906236%0A%3E%20Changes%3A%0A%3E%20%20openssh%20%281%3A7.4p1-10%2Bdeb9u4%29%20stretch-security%3B%20urgency%3Dhigh%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20Non-maintainer%20upload%20by%20the%20Security%20Team%0A%3E%20%20%20%20%2A%20CVE-2018-15473%3A%20fix%20username%20enumeration%20issue%2C%20initially%20reported%0A%3E%20%20%20%20%20%20by%20Dariusz%20Tytko%20and%20Michal%20Sajdak%20%28Closes%3A%20%23906236%29%0A%3E%20Checksums-Sha1%3A%0A%3E%20%20f7896be809649b58e523ade9ae69e45b361011a4%202579%20openssh_7.4p1-10%2Bdeb9u4.dsc%0A%3E%20%202330bbf82ed08cf3ac70e0acf00186ef3eeb97e0%201511780%20openssh_7.4p1.orig.tar.gz%0A%3E%20%209a265a9c4522f701fd641b707cb3c4dd7b0498b9%20163928%20openssh_7.4p1-10%2Bdeb9u4.debian.tar.xz%0A%3E%20%2060da5987a5b7531836f5581e48ceb53cde16071b%202954416%20openssh-client-dbgsym_7.4p1-10%2Bdeb9u4_amd64.deb%0A%3E%20%200aeef82bf97cb616420ebd566a21e2890e0115bc%201210976%20openssh-client-ssh1-dbgsym_7.4p1-10%2Bdeb9u4_amd64.deb%0A%3E%20%20ae7d71dffabe7ab236308f731d64e6f6c63efaeb%20338452%20openssh-client-ssh1_7.4p1-10%2Bdeb9u4_amd64.deb%0A%3E%20%204f62e1805aad11d416140a049231b328da522eea%20278770%20openssh-client-udeb_7.4p1-10%2Bdeb9u4_amd64.udeb%0A&amp;In-Reply-To=%3CE1ftCVV-000G37-Qx%40fasolo.debian.org%3E&amp;References=%3CE1ftCVV-000G37-Qx%40fasolo.debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=seb%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Sebastien Delafond &lt;seb@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 906236-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#906236: fixed in openssh 1:7.4p1-10+deb9u4</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 24 Aug 2018 13:52:09 +0000</div>
</div>
<pre class="message">Source: openssh
Source-Version: 1:7.4p1-10+deb9u4

We believe that the bug you reported is fixed in the latest version of
openssh, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 906236@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Sebastien Delafond &lt;seb@debian.org&gt; (supplier of updated openssh package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Tue, 21 Aug 2018 05:14:18 +0200
Source: openssh
Binary: openssh-client openssh-client-ssh1 openssh-server openssh-sftp-server ssh ssh-krb5 ssh-askpass-gnome openssh-client-udeb openssh-server-udeb
Architecture: source amd64 all
Version: 1:7.4p1-10+deb9u4
Distribution: stretch-security
Urgency: high
Maintainer: Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;
Changed-By: Sebastien Delafond &lt;seb@debian.org&gt;
Description:
 openssh-client - secure shell (SSH) client, for secure access to remote machines
 openssh-client-ssh1 - secure shell (SSH) client for legacy SSH1 protocol
 openssh-client-udeb - secure shell client for the Debian installer (udeb)
 openssh-server - secure shell (SSH) server, for secure access from remote machines
 openssh-server-udeb - secure shell server for the Debian installer (udeb)
 openssh-sftp-server - secure shell (SSH) sftp server module, for SFTP access from remot
 ssh        - secure shell client and server (metapackage)
 ssh-askpass-gnome - interactive X program to prompt users for a passphrase for ssh-ad
 ssh-krb5   - secure shell client and server (transitional package)
Closes: <a href="bugreport.cgi?bug=906236">906236</a>
Changes:
 openssh (1:7.4p1-10+deb9u4) stretch-security; urgency=high
 .
   * Non-maintainer upload by the Security Team
   * <a href="https://security-tracker.debian.org/tracker/CVE-2018-15473">CVE-2018-15473</a>: fix username enumeration issue, initially reported
     by Dariusz Tytko and Michal Sajdak (Closes: #<a href="bugreport.cgi?bug=906236">906236</a>)
Checksums-Sha1:
 f7896be809649b58e523ade9ae69e45b361011a4 2579 openssh_7.4p1-10+deb9u4.dsc
 2330bbf82ed08cf3ac70e0acf00186ef3eeb97e0 1511780 openssh_7.4p1.orig.tar.gz
 9a265a9c4522f701fd641b707cb3c4dd7b0498b9 163928 openssh_7.4p1-10+deb9u4.debian.tar.xz
 60da5987a5b7531836f5581e48ceb53cde16071b 2954416 openssh-client-dbgsym_7.4p1-10+deb9u4_amd64.deb
 0aeef82bf97cb616420ebd566a21e2890e0115bc 1210976 openssh-client-ssh1-dbgsym_7.4p1-10+deb9u4_amd64.deb
 ae7d71dffabe7ab236308f731d64e6f6c63efaeb 338452 openssh-client-ssh1_7.4p1-10+deb9u4_amd64.deb
 4f62e1805aad11d416140a049231b328da522eea 278770 openssh-client-udeb_7.4p1-10+deb9u4_amd64.udeb
 d63fff21911a843aa1f3c22e54e893037decb9c9 777890 openssh-client_7.4p1-10+deb9u4_amd64.deb
 d55f10284dde90380051da665afed97bc4ef6f9a 876748 openssh-server-dbgsym_7.4p1-10+deb9u4_amd64.deb
 e6f84fcaec017d25c251e5397687d31bdaf8cba2 282828 openssh-server-udeb_7.4p1-10+deb9u4_amd64.udeb
 c9a159aecf26797381d4c3696726e23f1b6da7b3 332484 openssh-server_7.4p1-10+deb9u4_amd64.deb
 c3d39129c09d8b9a516148338c05be95e602c792 107634 openssh-sftp-server-dbgsym_7.4p1-10+deb9u4_amd64.deb
 818726442a8a988942bd5092e011940bba7ae4c9 39488 openssh-sftp-server_7.4p1-10+deb9u4_amd64.deb
 077ed5a61495a2d7d7f7e8be9cb92a3ec8efd704 17176 openssh_7.4p1-10+deb9u4_amd64.buildinfo
 ca308440abe83c110f64460b0458822c7b16b77d 11670 ssh-askpass-gnome-dbgsym_7.4p1-10+deb9u4_amd64.deb
 84c79a6c400da66d3ea15d099d5d6e202d933e9d 200334 ssh-askpass-gnome_7.4p1-10+deb9u4_amd64.deb
 b6dde63ec4115626a5e4e72dc9cd128cb8444cfb 186624 ssh-krb5_7.4p1-10+deb9u4_all.deb
 0c0ea6d0106caff3f1452aec67e1f89878809bc6 188968 ssh_7.4p1-10+deb9u4_all.deb
Checksums-Sha256:
 57eb36cd403b8f9f06d776f3f2f0ba4ddb52aff01ab88c134099838bff1c245f 2579 openssh_7.4p1-10+deb9u4.dsc
 1b1fc4a14e2024293181924ed24872e6f2e06293f3e8926a376b8aec481f19d1 1511780 openssh_7.4p1.orig.tar.gz
 cf02250803a0a8762b520ad16679736e2177e06a1dff67c018b32d668070e686 163928 openssh_7.4p1-10+deb9u4.debian.tar.xz
 474e2331448a1b6fd88c9028dea6d5f51b5eff28acddc9d75f534e9a9c4e4ebc 2954416 openssh-client-dbgsym_7.4p1-10+deb9u4_amd64.deb
 5e5e0427d02af82167c835a94584c225e51a68eb12965e385519f2818fdbe78e 1210976 openssh-client-ssh1-dbgsym_7.4p1-10+deb9u4_amd64.deb
 7bd3114348cb1954f03087f32ee274c9804650a30eac9cbbbb0d4a133b802f13 338452 openssh-client-ssh1_7.4p1-10+deb9u4_amd64.deb
 20e907d80cab61aec1655e491017980ecc72491586dbbfcbbee70cc536f95cf0 278770 openssh-client-udeb_7.4p1-10+deb9u4_amd64.udeb
 e352d88c4cfe7cceef76f4f7e8358555a03e747b3f4a48be67da479eff490231 777890 openssh-client_7.4p1-10+deb9u4_amd64.deb
 9ab26e8e3195494ce0cca91f02b48465dcdc5b64bccbf7438fc8785c8ba75e21 876748 openssh-server-dbgsym_7.4p1-10+deb9u4_amd64.deb
 d9496ac636b453743fac45d72d0ed7fcc09662c837b9cdcac3477ce14a9b335f 282828 openssh-server-udeb_7.4p1-10+deb9u4_amd64.udeb
 c154ad507ec7f0a903bf2209613fc18c1f309812d66cf2d24b04a6d48b380247 332484 openssh-server_7.4p1-10+deb9u4_amd64.deb
 a1eca4e80e090ff9cd89c1709228e781ad5d460f36c2a7c676dfa042f6ea9369 107634 openssh-sftp-server-dbgsym_7.4p1-10+deb9u4_amd64.deb
 b3322ee9a49b8c823edd7e912ddd3accb4f0130aa4b14f544d3767a0bfa1830e 39488 openssh-sftp-server_7.4p1-10+deb9u4_amd64.deb
 7e250234a1b21cad61ab4fe8fd88bc60fad247115c4c128421be9ad3072b2f1a 17176 openssh_7.4p1-10+deb9u4_amd64.buildinfo
 09d23a7b65f66254dfed1ed259a76594736356bef4878c4593f2417cc79f30d5 11670 ssh-askpass-gnome-dbgsym_7.4p1-10+deb9u4_amd64.deb
 699a9fb7459a87c24c799fb2645c97ec3937ccc1f26384f30f1d10e331dad6bf 200334 ssh-askpass-gnome_7.4p1-10+deb9u4_amd64.deb
 7e5e203c05d0213ab8ae2f9d23428523f6018a03a6e5425a1db1dc0df519bd7f 186624 ssh-krb5_7.4p1-10+deb9u4_all.deb
 87689c0389a8b481ed81962e9d092acd9ebce289f81563c7c9c793566734cb32 188968 ssh_7.4p1-10+deb9u4_all.deb
Files:
 0fce8f2f388cea31837f77720f304970 2579 net standard openssh_7.4p1-10+deb9u4.dsc
 b2db2a83caf66a208bb78d6d287cdaa3 1511780 net standard openssh_7.4p1.orig.tar.gz
 0b929690b637a6bfa5c1bb4a9958f898 163928 net standard openssh_7.4p1-10+deb9u4.debian.tar.xz
 0a72c2229d3377e8b3c0f9a16df30c71 2954416 debug extra openssh-client-dbgsym_7.4p1-10+deb9u4_amd64.deb
 ae0af76ca1a75039f3012cf0f5f33f63 1210976 debug extra openssh-client-ssh1-dbgsym_7.4p1-10+deb9u4_amd64.deb
 31065f4e4c1f13f0aa13d0e648c2ad62 338452 net extra openssh-client-ssh1_7.4p1-10+deb9u4_amd64.deb
 939fffa6b32286bbf1484211a32dbccd 278770 debian-installer optional openssh-client-udeb_7.4p1-10+deb9u4_amd64.udeb
 c6698c0b6f6dd036bff4c841dcd248d0 777890 net standard openssh-client_7.4p1-10+deb9u4_amd64.deb
 aaaa0a664ac210e0ec566b796f101a79 876748 debug extra openssh-server-dbgsym_7.4p1-10+deb9u4_amd64.deb
 0f2e5b133454c83d5017a8531859da85 282828 debian-installer optional openssh-server-udeb_7.4p1-10+deb9u4_amd64.udeb
 9dc9f22f6b5cb5b18a58905d00a85c6f 332484 net optional openssh-server_7.4p1-10+deb9u4_amd64.deb
 fc970df8354f928057f77f820397ae75 107634 debug extra openssh-sftp-server-dbgsym_7.4p1-10+deb9u4_amd64.deb
 7197d5f65a3287e7ca27e71d961f1c5c 39488 net optional openssh-sftp-server_7.4p1-10+deb9u4_amd64.deb
 4e93a936b2495373e38b0ea582b9bf17 17176 net standard openssh_7.4p1-10+deb9u4_amd64.buildinfo
 0d00c04242caa6f2d2c5640d977f808e 11670 debug extra ssh-askpass-gnome-dbgsym_7.4p1-10+deb9u4_amd64.deb
 06497b544e68e59a301b2c86b0731ced 200334 gnome optional ssh-askpass-gnome_7.4p1-10+deb9u4_amd64.deb
 39b8d2f160d02fe655fa8fb9b2211dad 186624 oldlibs extra ssh-krb5_7.4p1-10+deb9u4_all.deb
 bacf91eb7237db8183084792e9069edf 188968 net extra ssh_7.4p1-10+deb9u4_all.deb

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCgAdFiEEAqSkbVtrXP4xJMh3EL6Jg/PVnWQFAlt8HCgACgkQEL6Jg/PV
nWR4NwgAycNHYJDnkVgxBEUY2bdzFZWHWI6KEAcGOuM9Q4IiKo3j0hZPpeIDhfUT
FXG5AXizmn3UVQkRUeA9c3Kh7+CyPyE3EYXKNTrahuJmACJv5zj3CSYlD8J9YQcz
8SnCVGmYhaLkuNWbDvDrXHDHx+HTrRllH/jJzmuAt12eco+ViBZsqbYWcfr16IUW
GOuRhYIKDtO0cEfZNcrAkyrn+8iEST5hT2lVFBdYn8g9wU/9sJ+uyRkVQLhhGay+
bochvnG4H1edKST4JFtCCQZFbsGPAe23+JOwrKJyC4irTW2Oc84S2fRTtTPAHfwi
5CLLtDfGWVyYCag8vGlTrvVkcuaN2w==
=QjwD
-----END PGP SIGNATURE-----



</pre>

<div class="infmessage"><hr><p>
<a name="65"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1537175177 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Mon, 17 Sep 2018 09:06:17 GMT) (<a href="bugreport.cgi?bug=906236;msg=66">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=66">mbox</a>, <a href="#65">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="67"></a>
<!-- request_addr: Joost van Baal-Ilić &lt;joostvb+debian-openssh@uvt.nl&gt; -->
<!-- time:1537175177 -->
<strong>Acknowledgement sent</strong>
to <code>Joost van Baal-Ilić &lt;joostvb+debian-openssh@uvt.nl&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Mon, 17 Sep 2018 09:06:17 GMT) (<a href="bugreport.cgi?bug=906236;msg=68">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=68">mbox</a>, <a href="#67">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="69"></a><a name="msg69"></a><a href="#69">Message #69</a> received at 906236@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=69">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=69">mbox</a>, <a href="mailto:906236@bugs.debian.org?body=On%20Mon%2C%2017%20Sep%202018%2010%3A58%3A15%20%2B0200%20Joost%20van%20%3D%3Futf-8%3FQ%3FBaal-Ili%3DC4%3D87%3F%3D%20%3Cjoostvb%2Bdebian-openssh%40uvt.nl%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20After%20upgrading%20openssh%20on%20debian%207%2Fwheezy%20from%206.0p1-4%2Bdeb7u7%20to%206.0p1-4%2Bdeb7u8%2C%0A%3E%20we%20see%0A%3E%20%0A%3E%20%20Sep%2017%2010%3A47%3A13%20host%20sshd%5B124622%5D%3A%20Failed%20publickey%20for%20root%20from%201.2.3.4%20port%2039792%20ssh2%0A%3E%20%20Sep%2017%2010%3A47%3A13%20host%20sshd%5B124622%5D%3A%20fatal%3A%20xfree%3A%20NULL%20pointer%20given%20as%20argument%20%5Bpreauth%5D%0A%3E%20%0A%3E%20.%20%20Login%20fails%3A%0A%3E%20%0A%3E%20%20joostvb%40home%3A~%25%20ssh%20root%40host%0A%3E%20%20Authentication%20failed.%0A%3E%20%0A%3E%20.%20%20Downgrading%20back%20to%206.0p1-4%2Bdeb7u7%20restores%20login%20functionality.%0A%3E%20%0A%3E%20Behaviour%20observed%20on%202%20of%20our%20machines.%20%20Possibly%20more%20debug%20information%0A%3E%20available%3B%20please%20ask.%0A%3E%20%0A%3E%20Bye%2C%0A%3E%20%0A%3E%20Joost%0A%3E%20%0A%3E%20--%20%0A%3E%20Joost%20van%20Baal-Ili%C4%87%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20http%3A%2F%2Fabramowitz.uvt.nl%2F%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Tilburg%20University%0A%3E%20mailto%3Ajoostvb.uvt.nl%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20The%20Netherlands%0A&amp;In-Reply-To=%3C20180917085815.GE20889%40dijkstra.uvt.nl%3E&amp;subject=Re%3A%20fatal%20regression%20in%20openssh%20%281%3A6.0p1-4%2Bdeb7u8%29%20elts%20for%207%2Fwheezy&amp;References=%3C20180917085815.GE20889%40dijkstra.uvt.nl%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=joostvb%2Bdebian-openssh%40uvt.nl" alt="">
<div class="header"><span class="headerfield">From:</span> Joost van Baal-Ilić &lt;joostvb+debian-openssh@uvt.nl&gt;</div>
<div class="header"><span class="headerfield">To:</span> debian-lts@lists.debian.org, 906236@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> fatal regression in openssh (1:6.0p1-4+deb7u8) elts for 7/wheezy</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 17 Sep 2018 10:58:15 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=906236;msg=69">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi,

After upgrading openssh on debian 7/wheezy from 6.0p1-4+deb7u7 to 6.0p1-4+deb7u8,
we see

 Sep 17 10:47:13 host sshd[124622]: Failed publickey for root from 1.2.3.4 port 39792 ssh2
 Sep 17 10:47:13 host sshd[124622]: fatal: xfree: NULL pointer given as argument [preauth]

.  Login fails:

 joostvb@home:~% ssh root@host
 Authentication failed.

.  Downgrading back to 6.0p1-4+deb7u7 restores login functionality.

Behaviour observed on 2 of our machines.  Possibly more debug information
available; please ask.

Bye,

Joost

-- 
Joost van Baal-Ilić                       <a href="http://abramowitz.uvt.nl/">http://abramowitz.uvt.nl/</a>
                                                 Tilburg University
mailto:joostvb.uvt.nl                               The Netherlands
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=906236;filename=signature.asc;msg=69">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="70"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt; -->
<!-- time:1537232582 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>:<br>
<code>Bug#906236</code>; Package <code>src:openssh</code>.
 (Tue, 18 Sep 2018 01:03:02 GMT) (<a href="bugreport.cgi?bug=906236;msg=71">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=71">mbox</a>, <a href="#70">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="72"></a>
<!-- request_addr: Roberto C. Sánchez &lt;roberto@debian.org&gt; -->
<!-- time:1537232582 -->
<strong>Acknowledgement sent</strong>
to <code>Roberto C. Sánchez &lt;roberto@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian OpenSSH Maintainers &lt;debian-ssh@lists.debian.org&gt;</code>.
 (Tue, 18 Sep 2018 01:03:02 GMT) (<a href="bugreport.cgi?bug=906236;msg=73">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=73">mbox</a>, <a href="#72">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="74"></a><a name="msg74"></a><a href="#74">Message #74</a> received at 906236@bugs.debian.org (<a href="bugreport.cgi?bug=906236;msg=74">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=74">mbox</a>, <a href="mailto:906236@bugs.debian.org?subject=Re%3A%20fatal%20regression%20in%20openssh%20%281%3A6.0p1-4%2Bdeb7u8%29%20elts%20for%207%2Fwheezy&amp;In-Reply-To=%3C20180918005406.ylwxodqz3mvtwzsr%40connexer.com%3E&amp;body=On%20Mon%2C%2017%20Sep%202018%2020%3A54%3A06%20-0400%20Roberto%20%3D%3Fiso-8859-1%3FQ%3FC%3D2E_S%3DE1nchez%3F%3D%20%3Croberto%40debian.org%3E%20wrote%3A%0A%3E%20On%20Mon%2C%20Sep%2017%2C%202018%20at%2010%3A58%3A15AM%20%2B0200%2C%20Joost%20van%20Baal-Ili%C4%87%20wrote%3A%0A%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%0A%3E%20%3E%20After%20upgrading%20openssh%20on%20debian%207%2Fwheezy%20from%206.0p1-4%2Bdeb7u7%20to%206.0p1-4%2Bdeb7u8%2C%0A%3E%20%3E%20we%20see%0A%3E%20%3E%20%0A%3E%20%3E%20%20Sep%2017%2010%3A47%3A13%20host%20sshd%5B124622%5D%3A%20Failed%20publickey%20for%20root%20from%201.2.3.4%20port%2039792%20ssh2%0A%3E%20%3E%20%20Sep%2017%2010%3A47%3A13%20host%20sshd%5B124622%5D%3A%20fatal%3A%20xfree%3A%20NULL%20pointer%20given%20as%20argument%20%5Bpreauth%5D%0A%3E%20%3E%20%0A%3E%20%3E%20.%20%20Login%20fails%3A%0A%3E%20%3E%20%0A%3E%20%3E%20%20joostvb%40home%3A~%25%20ssh%20root%40host%0A%3E%20%3E%20%20Authentication%20failed.%0A%3E%20%3E%20%0A%3E%20%3E%20.%20%20Downgrading%20back%20to%206.0p1-4%2Bdeb7u7%20restores%20login%20functionality.%0A%3E%20%3E%20%0A%3E%20%3E%20Behaviour%20observed%20on%202%20of%20our%20machines.%20%20Possibly%20more%20debug%20information%0A%3E%20%3E%20available%3B%20please%20ask.%0A%3E%20%3E%20%0A%3E%20%3E%20Bye%2C%0A%3E%20%3E%20%0A%3E%20%3E%20Joost%0A%3E%20%3E%20%0A%3E%20Joost%2C%0A%3E%20%0A%3E%20Thanks%20to%20your%20detailed%20report%20and%20the%20supplementary%20information%20you%0A%3E%20provided%20I%20have%20been%20able%20to%20determine%20the%20cause%20of%20the%20defect%20in%20the%0A%3E%20patch%20for%20openssh%201%3A6.0p1-4%2Bdeb7u8.%20%20I%20have%20just%20uploaded%20a%20new%20openssh%0A%3E%20%28version%201%3A6.0p1-4%2Bdeb7u10%29%20and%20published%20an%20updated%20advisory%0A%3E%20%28ELA-37-3%29.%0A%3E%20%0A%3E%20With%20the%20additional%20information%20I%20received%20from%20you%20I%20was%20able%20to%0A%3E%20perform%20much%20more%20thorough%20testing%20of%20these%20packages%20and%20specific%0A%3E%20testing%20to%20ensure%20that%20the%20defect%20has%20been%20corrected.%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20%0A%3E%20-Roberto%0A%3E%20%0A%3E%20--%20%0A%3E%20Roberto%20C.%20S%C3%A1nchez%0A%3E%20%0A%3E%20%0A&amp;References=%3C20180917085815.GE20889%40dijkstra.uvt.nl%3E%0A%20%3C20180918005406.ylwxodqz3mvtwzsr%40connexer.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=roberto%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Roberto C. Sánchez &lt;roberto@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Joost van Baal-Ilić &lt;joostvb+debian-openssh@uvt.nl&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> debian-lts@lists.debian.org, 906236@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: fatal regression in openssh (1:6.0p1-4+deb7u8) elts for 7/wheezy</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 17 Sep 2018 20:54:06 -0400</div>
</div>
<pre class="message">On Mon, Sep 17, 2018 at 10:58:15AM +0200, Joost van Baal-Ilić wrote:
&gt; Hi,
&gt; 
&gt; After upgrading openssh on debian 7/wheezy from 6.0p1-4+deb7u7 to 6.0p1-4+deb7u8,
&gt; we see
&gt; 
&gt;  Sep 17 10:47:13 host sshd[124622]: Failed publickey for root from 1.2.3.4 port 39792 ssh2
&gt;  Sep 17 10:47:13 host sshd[124622]: fatal: xfree: NULL pointer given as argument [preauth]
&gt; 
&gt; .  Login fails:
&gt; 
&gt;  joostvb@home:~% ssh root@host
&gt;  Authentication failed.
&gt; 
&gt; .  Downgrading back to 6.0p1-4+deb7u7 restores login functionality.
&gt; 
&gt; Behaviour observed on 2 of our machines.  Possibly more debug information
&gt; available; please ask.
&gt; 
&gt; Bye,
&gt; 
&gt; Joost
&gt; 
Joost,

Thanks to your detailed report and the supplementary information you
provided I have been able to determine the cause of the defect in the
patch for openssh 1:6.0p1-4+deb7u8.  I have just uploaded a new openssh
(version 1:6.0p1-4+deb7u10) and published an updated advisory
(ELA-37-3).

With the additional information I received from you I was able to
perform much more thorough testing of these packages and specific
testing to ensure that the defect has been corrected.

Regards,

-Roberto

-- 
Roberto C. Sánchez


</pre>

<div class="msgreceived"><hr><p>
<a name="75"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1539674881 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Tue, 16 Oct 2018 07:28:01 GMT) (<a href="bugreport.cgi?bug=906236;msg=76">full text</a>, <a href="bugreport.cgi?bug=906236;mbox=yes;msg=76">mbox</a>, <a href="#75">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=906236">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:19:43 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->bembo<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
