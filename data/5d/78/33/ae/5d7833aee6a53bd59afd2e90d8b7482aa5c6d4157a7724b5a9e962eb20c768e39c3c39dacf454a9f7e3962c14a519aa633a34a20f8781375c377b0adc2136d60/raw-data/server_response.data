<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1700937 “Heap-buffer overflow in nodeAcquire” : Bugs : sqlite3 package : Ubuntu</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1700937" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1700937/bug.atom" title="Bug 1700937 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="A heap-buffer overflow (sometimes a crash) can arise when running a SQL request on malformed sqlite3 databases such as the one attached to this ticket

{{{
$ valgrind sqlite3 clusterfuzz-testcase-minimized-4960347410661376 &quot;SELECT pkid FROM 'idx_byte_metadata_geometry' WHERE xmax &gt; 0 AND xmin &lt; 0 AND ymax &gt; 0 AND ymin &lt; 0&quot;
==21234== Memcheck, a memory error detector
==21234== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==21234== Using Valgrind-3.11.0 and LibVEX; rerun with..." />
      <meta property="og:description" content="A heap-buffer overflow (sometimes a crash) can arise when running a SQL request on malformed sqlite3 databases such as the one attached to this ticket

{{{
$ valgrind sqlite3 clusterfuzz-testcase-minimized-4960347410661376 &quot;SELECT pkid FROM 'idx_byte_metadata_geometry' WHERE xmax &gt; 0 AND xmin &lt; 0 AND ymax &gt; 0 AND ymin &lt; 0&quot;
==21234== Memcheck, a memory error detector
==21234== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==21234== Using Valgrind-3.11.0 and LibVEX; rerun with..." />
    

    
    
      <meta property="og:title" content="Bug #1700937 “Heap-buffer overflow in nodeAcquire” : Bugs : sqlite3 package : Ubuntu" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1700937" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["a11y", "appstream", "bionic", "bisect-done", "bitesize", "cherry-pick", "community-security", "desktop-file", "disco", "dist-upgrade", "focal", "ftbfs", "groovy", "hirsute", "hw-specific", "impish", "jammy", "kernel-bug", "manpage", "metabug", "multiarch", "needs-bisect", "needs-design", "needs-packaging", "needs-reassignment", "package-conflict", "packaging", "patch", "patch-accepted-debian", "patch-accepted-upstream", "patch-forwarded-debian", "patch-forwarded-upstream", "patch-needswork", "patch-rejected", "patch-rejected-debian", "patch-rejected-upstream", "performing-bisect", "py2-removal", "qt4-removal", "regression-proposed", "regression-release", "regression-update", "string-fix", "suspend-resume", "systemd-boot", "testcase", "touch", "unmetdeps", "upgrade-software-version", "verification-done-bionic", "verification-done-focal", "verification-done-groovy", "verification-done-hirsute", "verification-done-impish", "verification-done-xenial", "verification-failed-bionic", "verification-failed-groovy", "verification-failed-impish", "verification-failed-xenial", "verification-needed-bionic", "verification-needed-focal", "verification-needed-groovy", "verification-needed-hirsute", "verification-needed-impish", "verification-needed-trusty", "verification-needed-xenial", "wayland", "xenial"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/ubuntu"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/49558155/64_logo.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/ubuntu">Ubuntu</a><br /><a href="https://launchpad.net/ubuntu/+source/sqlite3">sqlite3 package</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/ubuntu/+source/sqlite3">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/ubuntu/+source/sqlite3">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/ubuntu/+source/sqlite3">Bugs</a></li>
      
      
    
    
      
      
      <li class="specifications disabled-tab"><span>Blueprints</span></li>
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/ubuntu/+source/sqlite3">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/ubuntu/+source/sqlite3">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    Heap-buffer overflow in nodeAcquire
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1700937 reported by
      <a href="https://launchpad.net/~even-rouault" class="sprite person">Even Rouault</a>
      <time title="2017-06-28 09:25:16 UTC" datetime="2017-06-28T09:25:16.161423+00:00">on 2017-06-28</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">258</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary2262168">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2262168">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3" title="Latest release: 3.36.0-2, uploaded to main on 2021-08-25 16:38:47.451629+00:00 by Laszlo Boszormenyi (gcs), maintained by Laszlo Boszormenyi (gcs)">sqlite3 (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+editstatus" style="float: left" class="value statusCONFIRMED">Confirmed</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2262168">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2262168">
     <td colspan="7"><form action="/ubuntu/+source/sqlite3/+bug/1700937/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/+source/sqlite3">sqlite3 (Ubuntu)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~even-rouault" class="sprite person">Even Rouault</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2017-06-28 09:25:16 UTC" datetime="2017-06-28T09:25:16.161423+00:00">2017-06-28</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2017-08-18 11:57:32 UTC" datetime="2017-08-18T11:57:32.315310+00:00">2017-08-18</time>
      </td>
    </tr>
    
    
    
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ubuntu_sqlite3.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ubuntu_sqlite3.target.option.package" name="ubuntu_sqlite3.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ubuntu_sqlite3.target.distribution" name="ubuntu_sqlite3.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ubuntu_sqlite3.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ubuntu_sqlite3.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="sqlite3" id="ubuntu_sqlite3.target.package"
                         name="ubuntu_sqlite3.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_sqlite3.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_sqlite3.target.package');
              var select_menu = Y.DOM.byId('ubuntu_sqlite3.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_sqlite3-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": "sqlite3", "step_title": "Search by name", "header": "Select a package", "vocabulary_filters": [], "show_create_team": false, "input_element": "ubuntu_sqlite3.target.package", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "DistributionPackage", "show_widget_id": "show-widget-ubuntu_sqlite3-target-package"};
        var show_widget_id = 'show-widget-ubuntu_sqlite3-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" id="ubuntu_sqlite3.target.option.product" name="ubuntu_sqlite3.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ubuntu_sqlite3.target.product"
                         name="ubuntu_sqlite3.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_sqlite3.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_sqlite3.target.product');
              var select_menu = Y.DOM.byId('ubuntu_sqlite3.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_sqlite3-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": null, "step_title": "Search", "header": "Select a project", "vocabulary_filters": [], "show_create_team": false, "input_element": "ubuntu_sqlite3.target.product", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "Product", "show_widget_id": "show-widget-ubuntu_sqlite3-target-product"};
        var show_widget_id = 'show-widget-ubuntu_sqlite3-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_sqlite3.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_sqlite3.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_sqlite3.status" name="ubuntu_sqlite3.status" size="1" >
<option selected="selected" value="Confirmed">Confirmed</option>
</select>
</div>
<input name="ubuntu_sqlite3.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_sqlite3.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ubuntu_sqlite3.assignee.assign_to_nobody" name="ubuntu_sqlite3.assignee.option" value="ubuntu_sqlite3.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_sqlite3.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_sqlite3.assignee.assign_to_me" name="ubuntu_sqlite3.assignee.option" value="ubuntu_sqlite3.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_sqlite3.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_sqlite3.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_sqlite3.comment_on_change" name="ubuntu_sqlite3.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>A heap-buffer overflow (sometimes a crash) can arise when running a SQL request on malformed sqlite3 databases such as the one attached to this ticket</p>
<p>{{{<br />
$ valgrind sqlite3 clusterfuzz-<wbr />testcase-<wbr />minimized-<wbr />496034741066137<wbr />6 &quot;SELECT pkid FROM &#x27;idx_byte_<wbr />metadata_<wbr />geometry&#x27; WHERE xmax &gt; 0 AND xmin &lt; 0 AND ymax &gt; 0 AND ymin &lt; 0&quot;<br />
==21234== Memcheck, a memory error detector<br />
==21234== Copyright (C) 2002-2015, and GNU GPL&#x27;d, by Julian Seward et al.<br />
==21234== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info<br />
==21234== Command: sqlite3 clusterfuzz-<wbr />testcase-<wbr />minimized-<wbr />496034741066137<wbr />6 SELECT\ pkid\ FROM\ &#x27;idx_byte_<wbr />metadata_<wbr />geometry&#x27;<wbr />\ WHERE\ xmax\ \&gt;\ 0\ AND\ xmin\ \&lt;\ 0\ AND\ ymax\ \&gt;\ 0\ AND\ ymin\ \&lt;\ 0<br />
==21234== Invalid read of size 1<br />
==21234==    at 0x1B3945: nodeAcquire (in /usr/bin/sqlite3)<br />
==21234==    by 0x1B5056: rtreeFilter (in /usr/bin/sqlite3)<br />
==21234==    by 0x186EAA: sqlite3VdbeExec (in /usr/bin/sqlite3)<br />
==21234==    by 0x190316: sqlite3_step (in /usr/bin/sqlite3)<br />
==21234==    by 0x11886F: shell_exec.<wbr />constprop.<wbr />12 (in /usr/bin/sqlite3)<br />
==21234==    by 0x114693: main (in /usr/bin/sqlite3)<br />
==21234==  Address 0x5ae5b00 is 0 bytes after a block of size 48 alloc&#x27;d<br />
==21234==    at 0x4C2DB8F: malloc (in /usr/lib/<wbr />valgrind/<wbr />vgpreload_<wbr />memcheck-<wbr />amd64-linux.<wbr />so)<br />
==21234==    by 0x14C176: sqlite3MemMalloc (in /usr/bin/sqlite3)<br />
==21234==    by 0x128380: sqlite3Malloc (in /usr/bin/sqlite3)<br />
==21234==    by 0x1B38DF: nodeAcquire (in /usr/bin/sqlite3)<br />
==21234==    by 0x1B5056: rtreeFilter (in /usr/bin/sqlite3)<br />
==21234==    by 0x186EAA: sqlite3VdbeExec (in /usr/bin/sqlite3)<br />
==21234==    by 0x190316: sqlite3_step (in /usr/bin/sqlite3)<br />
==21234==    by 0x11886F: shell_exec.<wbr />constprop.<wbr />12 (in /usr/bin/sqlite3)<br />
==21234==    by 0x114693: main (in /usr/bin/sqlite3)<br />
}}}</p>
<p>This bug is no longer reproducible with at least sqlite3 3.17</p>
<p>{{{<br />
$ valgrind ~/install-<wbr />sqlite-<wbr />3.17.0/<wbr />bin/sqlite3 clusterfuzz-<wbr />testcase-<wbr />minimized-<wbr />496034741066137<wbr />6 &quot;SELECT pkid FROM &#x27;idx_byte_<wbr />metadata_<wbr />geometry&#x27; WHERE xmax &gt; 0 AND xmin &lt; 0 AND ymax &gt; 0 AND ymin &lt; 0&quot;<br />
==21265== Memcheck, a memory error detector<br />
==21265== Copyright (C) 2002-2015, and GNU GPL&#x27;d, by Julian Seward et al.<br />
==21265== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info<br />
==21265== Command: /home/even/<wbr />install-<wbr />sqlite-<wbr />3.17.0/<wbr />bin/sqlite3 clusterfuzz-<wbr />testcase-<wbr />minimized-<wbr />496034741066137<wbr />6 SELECT\ pkid\ FROM\ &#x27;idx_byte_<wbr />metadata_<wbr />geometry&#x27;<wbr />\ WHERE\ xmax\ \&gt;\ 0\ AND\ xmin\ \&lt;\ 0\ AND\ ymax\ \&gt;\ 0\ AND\ ymin\ \&lt;\ 0<br />
==21265==<br />
Error: database disk image is malformed<br />
}}}</p>
<p>This bug has been originally uncovered by OSS-Fuzz when running on the GDAL library that uses libsqlite3: <a rel="nofollow" href="https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=2405">https:/<wbr />/bugs.chromium.<wbr />org/p/oss-<wbr />fuzz/issues/<wbr />detail?<wbr />id=2405</a> (content not viewable during the grace period)</p>
<p>ProblemType: Bug<br />
DistroRelease: Ubuntu 16.04<br />
Package: sqlite3 3.11.0-1ubuntu1<br />
ProcVersionSign<wbr />ature: Ubuntu 4.4.0-79.<wbr />100-generic 4.4.67<br />
Uname: Linux 4.4.0-79-generic x86_64<br />
NonfreeKernelMo<wbr />dules: nvidia_uvm nvidia_drm nvidia_modeset nvidia<br />
ApportVersion: 2.20.1-0ubuntu2.6<br />
Architecture: amd64<br />
CurrentDesktop: GNOME-Flashback<wbr />:Unity<br />
Date: Wed Jun 28 11:18:29 2017<br />
InstallationDate: Installed on 2016-11-04 (235 days ago)<br />
InstallationMedia: Ubuntu 16.04.1 LTS &quot;Xenial Xerus&quot; - Release amd64 (20160719)<br />
SourcePackage: sqlite3<br />
UpgradeStatus: No upgrade log present (probably fresh install)</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="official-tag" href="/ubuntu/+source/sqlite3/+bugs?field.tag=patch">patch</a>
            <a class="official-tag" href="/ubuntu/+source/sqlite3/+bugs?field.tag=xenial">xenial</a>
            <a class="unofficial-tag" href="/ubuntu/+source/sqlite3/+bugs?field.tag=amd64">amd64</a>
            <a class="unofficial-tag" href="/ubuntu/+source/sqlite3/+bugs?field.tag=apport-bug">apport-bug</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2017-10989" title="The getNodeSize function in ext/rtree...">2017-10989</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~even-rouault" class="sprite person">Even Rouault (even-rouault)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-06-28T09:25:16.161423+00:00" title="2017-06-28 09:25:16 UTC">on 2017-06-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904489/+files/clusterfuzz-testcase-minimized-4960347410661376">clusterfuzz-testcase-minimized-4960347410661376</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904489">Edit</a>
        (6.5 KiB,
        application/octet-stream)
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904490/+files/Dependencies.txt">Dependencies.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904490">Edit</a>
        (430 bytes,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904491/+files/JournalErrors.txt">JournalErrors.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904491">Edit</a>
        (140.2 KiB,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904492/+files/ProcCpuinfoMinimal.txt">ProcCpuinfoMinimal.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904492">Edit</a>
        (1.1 KiB,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904493/+files/ProcEnviron.txt">ProcEnviron.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904493">Edit</a>
        (134 bytes,
        text/plain; charset="utf-8")
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~even-rouault" class="sprite person">Even Rouault (even-rouault)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-06-28T11:19:53.955507+00:00" title="2017-06-28 11:19:53 UTC">on 2017-06-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904586/+files/sqlite_rtree_issue_bug_1700937.patch">Proposed patch to apply on top of sqlite 3.11.0</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904586">Edit</a>
        (5.6 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve run git bisect on the <a rel="nofollow" href="https://github.com/mackyle/sqlite">https:/<wbr />/github.<wbr />com/mackyle/<wbr />sqlite</a> mirror of sqlite3 source code repository and spotted that the following commit fixes the issue :<br />
<a rel="nofollow" href="https://github.com/mackyle/sqlite/commit/ce015fb42bbb6cafdbfc9b028c2ec0626a8f3217">https:/<wbr />/github.<wbr />com/mackyle/<wbr />sqlite/<wbr />commit/<wbr />ce015fb42bbb6ca<wbr />fdbfc9b028c2ec0<wbr />626a8f3217</a></p>
<p>This applies almost on top of sqlite 3.11.0 sources:</p>
<p>$ patch -p1 &lt; /tmp/tmp.patch<br />
patching file ext/rtree/rtree.c<br />
Hunk #1 succeeded at 132 (offset -1 lines).<br />
Hunk #2 succeeded at 506 (offset -113 lines).<br />
Hunk #3 succeeded at 524 (offset -113 lines).<br />
Hunk #4 succeeded at 541 (offset -113 lines).<br />
Hunk #5 succeeded at 819 (offset -116 lines).<br />
Hunk #6 succeeded at 858 (offset -116 lines).<br />
Hunk #7 succeeded at 2961 (offset -220 lines).<br />
Hunk #8 succeeded at 3002 (offset -220 lines).<br />
Hunk #9 succeeded at 3055 (offset -227 lines).<br />
Hunk #10 FAILED at 3490.<br />
1 out of 10 hunks FAILED -- saving rejects to file ext/rtree/<wbr />rtree.c.<wbr />rej</p>
<p>The reject is<br />
$ cat ext/rtree/<wbr />rtree.c.<wbr />rej<br />
--- ext/rtree/rtree.c<br />
+++ ext/rtree/rtree.c<br />
@@ -3490,7 +3540,7 @@ static int rtreeInit(<br />
&nbsp;&nbsp;&nbsp;pRtree-&gt;zDb = (char *)&amp;pRtree[1];<br />
&nbsp;&nbsp;&nbsp;pRtree-&gt;zName = &amp;pRtree-<wbr />&gt;zDb[nDb+<wbr />1];<br />
&nbsp;&nbsp;&nbsp;pRtree-&gt;nDim = (u8)((argc-4)/2);<br />
-  pRtree-&gt;nDim2 = argc - 4;<br />
+  pRtree-&gt;nDim2 = pRtree-&gt;nDim*2;<br />
&nbsp;&nbsp;&nbsp;pRtree-<wbr />&gt;nBytesPerCell = 8 + pRtree-&gt;nDim2*4;<br />
&nbsp;&nbsp;&nbsp;pRtree-<wbr />&gt;eCoordType = (u8)eCoordType;<br />
&nbsp;&nbsp;&nbsp;memcpy(<wbr />pRtree-<wbr />&gt;zDb, argv[1], nDb);</p>
<p>The nDim2 member doesn&#x27;t exist in sqlite 3.11.0</p>
<p>I&#x27;ve attached the &quot;clean&quot; patch derived from this.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've run git bisect on the https://github.com/mackyle/sqlite mirror of sqlite3 source code repository and spotted that the following commit fixes the issue :
https://github.com/mackyle/sqlite/commit/ce015fb42bbb6cafdbfc9b028c2ec0626a8f3217

This applies almost on top of sqlite 3.11.0 sources:

$ patch -p1 &lt; /tmp/tmp.patch 
patching file ext/rtree/rtree.c
Hunk #1 succeeded at 132 (offset -1 lines).
Hunk #2 succeeded at 506 (offset -113 lines).
Hunk #3 succeeded at 524 (offset -113 lines).
Hunk #4 succeeded at 541 (offset -113 lines).
Hunk #5 succeeded at 819 (offset -116 lines).
Hunk #6 succeeded at 858 (offset -116 lines).
Hunk #7 succeeded at 2961 (offset -220 lines).
Hunk #8 succeeded at 3002 (offset -220 lines).
Hunk #9 succeeded at 3055 (offset -227 lines).
Hunk #10 FAILED at 3490.
1 out of 10 hunks FAILED -- saving rejects to file ext/rtree/rtree.c.rej

The reject is
$ cat ext/rtree/rtree.c.rej
--- ext/rtree/rtree.c
+++ ext/rtree/rtree.c
@@ -3490,7 +3540,7 @@ static int rtreeInit(
   pRtree-&gt;zDb = (char *)&amp;pRtree[1];
   pRtree-&gt;zName = &amp;pRtree-&gt;zDb[nDb+1];
   pRtree-&gt;nDim = (u8)((argc-4)/2);
-  pRtree-&gt;nDim2 = argc - 4;
+  pRtree-&gt;nDim2 = pRtree-&gt;nDim*2;
   pRtree-&gt;nBytesPerCell = 8 + pRtree-&gt;nDim2*4;
   pRtree-&gt;eCoordType = (u8)eCoordType;
   memcpy(pRtree-&gt;zDb, argv[1], nDb);

The nDim2 member doesn't exist in sqlite 3.11.0

I've attached the "clean" patch derived from this.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~seth-arnold" class="sprite person">Seth Arnold (seth-arnold)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-06-29T00:42:35.395429+00:00" title="2017-06-29 00:42:35 UTC">on 2017-06-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hello Even, thanks for this. There&#x27;s a lot of complexity in that patch, and the commit message includes &quot;This is a work in progress&quot;. I&#x27;m not sure we should just apply this patch ourselves without further interaction with SQLite3 developers.</p>
<p>What constraints are we under via the oss-fuzz or GDAL projects?</p>
<p>Thanks</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hello Even, thanks for this. There's a lot of complexity in that patch, and the commit message includes "This is a work in progress". I'm not sure we should just apply this patch ourselves without further interaction with SQLite3 developers.

What constraints are we under via the oss-fuzz or GDAL projects?

Thanks</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~even-rouault" class="sprite person">Even Rouault (even-rouault)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-06-29T06:10:27.572306+00:00" title="2017-06-29 06:10:27 UTC">on 2017-06-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I agree the patch is complex (I don&#x27;t understand it, just blindly git bisected and applied it), the commit message doesn&#x27;t specifically mention addressing database corruption (the fact it fixes the bug seems to be a side-effect) and should be vetted by SQLite3 developers. OSS-Fuzz has a 90 day deadline period (<a rel="nofollow" href="https://github.com/google/oss-fuzz/">https:/<wbr />/github.<wbr />com/google/<wbr />oss-fuzz/</a>), starting yesterday.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I agree the patch is complex (I don't understand it, just blindly git bisected and applied it), the commit message doesn't specifically mention addressing database corruption (the fact it fixes the bug seems to be a side-effect) and should be vetted by SQLite3 developers. OSS-Fuzz has a 90 day deadline period (https://github.com/google/oss-fuzz/), starting yesterday.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~even-rouault" class="sprite person">Even Rouault (even-rouault)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-06-30T15:33:08.429732+00:00" title="2017-06-30 15:33:08 UTC">on 2017-06-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@seth-arnold Who does engage with SQLite3 developers: you/your team ?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@seth-arnold Who does engage with SQLite3 developers: you/your team ?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~seth-arnold" class="sprite person">Seth Arnold (seth-arnold)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-07-01T02:30:44.337357+00:00" title="2017-07-01 02:30:44 UTC">on 2017-07-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Even, I just mailed some questions to <a rel="nofollow" href="http://mailinglists.sqlite.org/cgi-bin/mailman/listinfo/sqlite-users">http://<wbr />mailinglists.<wbr />sqlite.<wbr />org/cgi-<wbr />bin/mailman/<wbr />listinfo/<wbr />sqlite-<wbr />users</a> -- hopefully they&#x27;ll have some advice.</p>
<p>Thank</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Even, I just mailed some questions to http://mailinglists.sqlite.org/cgi-bin/mailman/listinfo/sqlite-users -- hopefully they'll have some advice.

Thank</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~even-rouault" class="sprite person">Even Rouault (even-rouault)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-07-01T15:46:12.508528+00:00" title="2017-07-01 15:46:12 UTC">on 2017-07-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4907418/+files/rtree_commit_0db20efe201736b3">Clean patch to apply on top of 3.11.0 derived from https://sqlite.org/src/vpatch?from=0db20efe201736b3&amp;to=66de6f4a9504ec26</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4907418">Edit</a>
        (491 bytes,
        text/plain)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Update from our exchanges with Richard Hipp, SQLite3 developper</p>
<p>The issue is hidden in SQLite 3.17.0 or later due to a refactoring in the RTree area. That said, he committed <a rel="nofollow" href="https://sqlite.org/src/vpatch?from=0db20efe201736b3&amp;to=66de6f4a9504ec26">https:/<wbr />/sqlite.<wbr />org/src/<wbr />vpatch?<wbr />from=0db20efe20<wbr />1736b3&amp;<wbr />to=66de6f4a9504<wbr />ec26</a> in SQLite3 master to detect the corruption earlier.</p>
<p>Last message from Richard Hipp:</p>
<p>&quot;&quot;&quot;<br />
A proper fix for the problem can be seen at <a rel="nofollow" href="https://sqlite.org/src/info/66de6f4a">https:/<wbr />/sqlite.<wbr />org/src/<wbr />info/66de6f4a</a></p>
<p>The change on trunk appears to be defensive code only.  I have been<br />
unable to generate any problems after the 3.11.0 optimizations.  But<br />
the defensive code has value in that it provides a better error<br />
message, and it should help prevent any future problems.</p>
<p>You only need the patch to rtree.c, of course, not the new test case<br />
in rtreeA.test.</p>
<p>This patch merges cleanly with SQLite version 3.10.2, and probably<br />
most other prior versions.  What version of SQLite did you say you are<br />
using?  The plain ASCII patch can be seen at<br />
<a rel="nofollow" href="https://sqlite.org/src/vpatch?from=0db20efe201736b3&amp;to=66de6f4a9504ec26">https:/<wbr />/sqlite.<wbr />org/src/<wbr />vpatch?<wbr />from=0db20efe20<wbr />1736b3&amp;<wbr />to=66de6f4a9504<wbr />ec26</a><br />
&quot;&quot;&quot;</p>
<p>This patch is small and I found it applies cleanly on top of 3.11.0 sources</p>
<p>patching file ext/rtree/rtree.c<br />
Hunk #1 succeeded at 3153 (offset -282 lines).<br />
patching file ext/rtree/<wbr />rtreeA.<wbr />test</p>
<p>and no Valgrind warning is emitted anymore</p>
<p>Attaching here the clean patch for 3.11.0 : rtree_commit_<wbr />0db20efe201736b<wbr />3&amp;to=66de6f4a95<wbr />04ec26.<wbr />patch</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Update from our exchanges with Richard Hipp, SQLite3 developper

The issue is hidden in SQLite 3.17.0 or later due to a refactoring in the RTree area. That said, he committed https://sqlite.org/src/vpatch?from=0db20efe201736b3&amp;to=66de6f4a9504ec26 in SQLite3 master to detect the corruption earlier.

Last message from Richard Hipp:

"""
A proper fix for the problem can be seen at https://sqlite.org/src/info/66de6f4a

The change on trunk appears to be defensive code only.  I have been
unable to generate any problems after the 3.11.0 optimizations.  But
the defensive code has value in that it provides a better error
message, and it should help prevent any future problems.

You only need the patch to rtree.c, of course, not the new test case
in rtreeA.test.

This patch merges cleanly with SQLite version 3.10.2, and probably
most other prior versions.  What version of SQLite did you say you are
using?  The plain ASCII patch can be seen at
https://sqlite.org/src/vpatch?from=0db20efe201736b3&amp;to=66de6f4a9504ec26
"""

This patch is small and I found it applies cleanly on top of 3.11.0 sources

patching file ext/rtree/rtree.c
Hunk #1 succeeded at 3153 (offset -282 lines).
patching file ext/rtree/rtreeA.test

and no Valgrind warning is emitted anymore

Attaching here the clean patch for 3.11.0 : rtree_commit_0db20efe201736b3&amp;to=66de6f4a9504ec26.patch
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~even-rouault" class="sprite person">Even Rouault (even-rouault)</a>
    
    <time title="2017-07-06 07:59:37 UTC" datetime="2017-07-06T07:59:37.900510+00:00">on 2017-07-06</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~crichton" class="sprite person">Ubuntu Foundations Team Bug Bot (crichton)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-07-06T08:23:52.753046+00:00" title="2017-07-06 08:23:52 UTC">on 2017-07-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The attachment &quot;Proposed patch to apply on top of sqlite 3.11.0&quot; seems to be a patch.  If it isn&#x27;t, please remove the &quot;patch&quot; flag from the attachment, remove the &quot;patch&quot; tag, and if you are a member of the ~ubuntu-reviewers, unsubscribe the team.</p>
<p>[This is an automated message performed by a Launchpad user owned by ~brian-murray, for any issues please contact him.]</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The attachment "Proposed patch to apply on top of sqlite 3.11.0" seems to be a patch.  If it isn't, please remove the "patch" flag from the attachment, remove the "patch" tag, and if you are a member of the ~ubuntu-reviewers, unsubscribe the team.

[This is an automated message performed by a Launchpad user owned by ~brian-murray, for any issues please contact him.]</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: patch
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~seth-arnold" class="sprite person">Seth Arnold (seth-arnold)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-07-07T18:25:59.775438+00:00" title="2017-07-07 18:25:59 UTC">on 2017-07-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Use CVE-2017-10989.</p>
<p>Thanks</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Use CVE-2017-10989.

Thanks</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~even-rouault" class="sprite person">Even Rouault (even-rouault)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-07-07T19:01:41.163456+00:00" title="2017-07-07 19:01:41 UTC">on 2017-07-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@seth There&#x27;s an error regarding the SQLite version number in the CVE text. It should read &quot;in SQLite before 3.17.0&quot; (and not 3.11.0)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@seth There's an error regarding the SQLite version number in the CVE text. It should read "in SQLite before 3.17.0" (and not 3.11.0)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~seth-arnold" class="sprite person">Seth Arnold (seth-arnold)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-07-07T20:17:53+00:00" title="2017-07-07 20:17:53 UTC">on 2017-07-07</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/sqlite3/+bug/1700937/comments/11">
                <strong>Re: [Bug 1700937] Re: Heap-buffer overflow in nodeAcquire</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Fri, Jul 07, 2017 at 07:01:41PM -0000, Even Rouault wrote:<br />
<span class="foldable-quoted">
&gt; @seth There&#x27;s an error regarding the SQLite version number in the CVE<br />
&gt; text. It should read &quot;in SQLite before 3.17.0&quot; (and not 3.11.0)
</span></p>
<p>Oh that&#x27;s unfortuate. I didn&#x27;t say it was fixed in -any- version in<br />
my submission, because it felt to me the 3.17.0 was an accidental<br />
no-longer-triggered case not actually fixed-case. After all, the fix<br />
was checked into a master branch and no new releases appear to have been<br />
tagged afterwards.</p>
<p>Thanks for the sharp eyes. I&#x27;ve submitted a change request.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Fri, Jul 07, 2017 at 07:01:41PM -0000, Even Rouault wrote:
&gt; @seth There's an error regarding the SQLite version number in the CVE
&gt; text. It should read "in SQLite before 3.17.0" (and not 3.11.0)

Oh that's unfortuate. I didn't say it was fixed in -any- version in
my submission, because it felt to me the 3.17.0 was an accidental
no-longer-triggered case not actually fixed-case. After all, the fix
was checked into a master branch and no new releases appear to have been
tagged afterwards.

Thanks for the sharp eyes. I've submitted a change request.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~even-rouault" class="sprite person">Even Rouault (even-rouault)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-07-14T16:53:23.748602+00:00" title="2017-07-14 16:53:23 UTC">on 2017-07-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Will there be a security package with the patch ?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Will there be a security package with the patch ?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/sqlite3/+bug/1700937/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~seth-arnold" class="sprite person">Seth Arnold (seth-arnold)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-07-14T19:23:59.395868+00:00" title="2017-07-14 19:23:59 UTC">on 2017-07-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/sqlite3/+bug/1700937/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Even, we&#x27;ve triaged this as a &#x27;low&#x27; priority for our team: <a rel="nofollow" href="https://people.canonical.com/~ubuntu-security/cve/2017/CVE-2017-10989.html">https:/<wbr />/people.<wbr />canonical.<wbr />com/~ubuntu-<wbr />security/<wbr />cve/2017/<wbr />CVE-2017-<wbr />10989.html</a> -- it might be a while before fixes are released.</p>
<p>Thanks</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Even, we've triaged this as a 'low' priority for our team: https://people.canonical.com/~ubuntu-security/cve/2017/CVE-2017-10989.html -- it might be a while before fixes are released.

Thanks</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~mdeslaur" class="sprite person">Marc Deslauriers (mdeslaur)</a>
    
    <time title="2017-08-18 11:57:32 UTC" datetime="2017-08-18T11:57:32.128028+00:00">on 2017-08-18</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in sqlite3 (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Confirmed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/ubuntu/+source/sqlite3/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/ubuntu/+source/sqlite3/+bug/1700937/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/ubuntu/+source/sqlite3/+bug/1700937/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/ubuntu/+source/sqlite3/+bug/1700937/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904586/+files/sqlite_rtree_issue_bug_1700937.patch">Proposed patch to apply on top of sqlite 3.11.0</a>
        <small>
          (<a href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904586">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/sqlite3/+bug/1700937/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904489/+files/clusterfuzz-testcase-minimized-4960347410661376">clusterfuzz-testcase-minimized-4960347410661376</a>
        <small>
          (<a href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904489">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904490/+files/Dependencies.txt">Dependencies.txt</a>
        <small>
          (<a href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904490">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904491/+files/JournalErrors.txt">JournalErrors.txt</a>
        <small>
          (<a href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904491">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904492/+files/ProcCpuinfoMinimal.txt">ProcCpuinfoMinimal.txt</a>
        <small>
          (<a href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904492">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904493/+files/ProcEnviron.txt">ProcEnviron.txt</a>
        <small>
          (<a href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4904493">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4907418/+files/rtree_commit_0db20efe201736b3">Clean patch to apply on top of 3.11.0 derived from https://sqlite.org/src/vpatch?from=0db20efe201736b3&amp;to=66de6f4a9504ec26</a>
        <small>
          (<a href="/ubuntu/+source/sqlite3/+bug/1700937/+attachment/4907418">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/sqlite3/+bug/1700937/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/1700937", "self_link": "https://bugs.launchpad.net/api/devel/bugs/1700937"}, "information_type_data": {"PUBLIC": {"description": "Everyone can see this information.\n", "name": "Public", "is_private": false, "order": 0, "description_css_class": "choice-description", "value": "PUBLIC"}, "PUBLICSECURITY": {"description": "Everyone can see this security related information.\n", "name": "Public Security", "is_private": false, "order": 1, "description_css_class": "choice-description", "value": "PUBLICSECURITY"}, "USERDATA": {"description": "Only shared with users permitted to see private user information.\n", "name": "Private", "is_private": true, "order": 3, "description_css_class": "choice-description", "value": "USERDATA"}, "PRIVATESECURITY": {"description": "Only the security group can see this information.\n ", "name": "Private Security", "is_private": true, "order": 2, "description_css_class": "choice-description", "value": "PRIVATESECURITY"}}, "total_comments_and_activity": 21, "bug_is_private": false, "related_features": {}, "first visible_recent_comment": -27, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1700937", "web_link": "https://bugs.launchpad.net/bugs/1700937", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1700937, "private": false, "information_type": "Public Security", "name": null, "title": "Heap-buffer overflow in nodeAcquire", "description": "A heap-buffer overflow (sometimes a crash) can arise when running a SQL request on malformed sqlite3 databases such as the one attached to this ticket\n\n{{{\n$ valgrind sqlite3 clusterfuzz-testcase-minimized-4960347410661376 \"SELECT pkid FROM 'idx_byte_metadata_geometry' WHERE xmax \u003e 0 AND xmin \u003c 0 AND ymax \u003e 0 AND ymin \u003c 0\"\n==21234== Memcheck, a memory error detector\n==21234== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.\n==21234== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info\n==21234== Command: sqlite3 clusterfuzz-testcase-minimized-4960347410661376 SELECT\\ pkid\\ FROM\\ 'idx_byte_metadata_geometry'\\ WHERE\\ xmax\\ \\\u003e\\ 0\\ AND\\ xmin\\ \\\u003c\\ 0\\ AND\\ ymax\\ \\\u003e\\ 0\\ AND\\ ymin\\ \\\u003c\\ 0\n==21234== Invalid read of size 1\n==21234==    at 0x1B3945: nodeAcquire (in /usr/bin/sqlite3)\n==21234==    by 0x1B5056: rtreeFilter (in /usr/bin/sqlite3)\n==21234==    by 0x186EAA: sqlite3VdbeExec (in /usr/bin/sqlite3)\n==21234==    by 0x190316: sqlite3_step (in /usr/bin/sqlite3)\n==21234==    by 0x11886F: shell_exec.constprop.12 (in /usr/bin/sqlite3)\n==21234==    by 0x114693: main (in /usr/bin/sqlite3)\n==21234==  Address 0x5ae5b00 is 0 bytes after a block of size 48 alloc'd\n==21234==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==21234==    by 0x14C176: sqlite3MemMalloc (in /usr/bin/sqlite3)\n==21234==    by 0x128380: sqlite3Malloc (in /usr/bin/sqlite3)\n==21234==    by 0x1B38DF: nodeAcquire (in /usr/bin/sqlite3)\n==21234==    by 0x1B5056: rtreeFilter (in /usr/bin/sqlite3)\n==21234==    by 0x186EAA: sqlite3VdbeExec (in /usr/bin/sqlite3)\n==21234==    by 0x190316: sqlite3_step (in /usr/bin/sqlite3)\n==21234==    by 0x11886F: shell_exec.constprop.12 (in /usr/bin/sqlite3)\n==21234==    by 0x114693: main (in /usr/bin/sqlite3)\n}}}\n\nThis bug is no longer reproducible with at least sqlite3 3.17\n\n{{{\n$ valgrind ~/install-sqlite-3.17.0/bin/sqlite3 clusterfuzz-testcase-minimized-4960347410661376 \"SELECT pkid FROM 'idx_byte_metadata_geometry' WHERE xmax \u003e 0 AND xmin \u003c 0 AND ymax \u003e 0 AND ymin \u003c 0\"\n==21265== Memcheck, a memory error detector\n==21265== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.\n==21265== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info\n==21265== Command: /home/even/install-sqlite-3.17.0/bin/sqlite3 clusterfuzz-testcase-minimized-4960347410661376 SELECT\\ pkid\\ FROM\\ 'idx_byte_metadata_geometry'\\ WHERE\\ xmax\\ \\\u003e\\ 0\\ AND\\ xmin\\ \\\u003c\\ 0\\ AND\\ ymax\\ \\\u003e\\ 0\\ AND\\ ymin\\ \\\u003c\\ 0\n==21265== \nError: database disk image is malformed\n}}}\n\nThis bug has been originally uncovered by OSS-Fuzz when running on the GDAL library that uses libsqlite3: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=2405 (content not viewable during the grace period)\n\nProblemType: Bug\nDistroRelease: Ubuntu 16.04\nPackage: sqlite3 3.11.0-1ubuntu1\nProcVersionSignature: Ubuntu 4.4.0-79.100-generic 4.4.67\nUname: Linux 4.4.0-79-generic x86_64\nNonfreeKernelModules: nvidia_uvm nvidia_drm nvidia_modeset nvidia\nApportVersion: 2.20.1-0ubuntu2.6\nArchitecture: amd64\nCurrentDesktop: GNOME-Flashback:Unity\nDate: Wed Jun 28 11:18:29 2017\nInstallationDate: Installed on 2016-11-04 (235 days ago)\nInstallationMedia: Ubuntu 16.04.1 LTS \"Xenial Xerus\" - Release amd64 (20160719)\nSourcePackage: sqlite3\nUpgradeStatus: No upgrade log present (probably fresh install)", "owner_link": "https://bugs.launchpad.net/api/devel/~even-rouault", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/bug_tasks", "duplicate_of_link": null, "date_created": "2017-06-28T09:25:16.161423+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/subscriptions", "date_last_updated": "2017-08-18T11:57:32.739805+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 258, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/attachments", "security_related": true, "latest_patch_uploaded": "2017-06-28T11:19:53.955507+00:00", "tags": ["amd64", "apport-bug", "patch", "xenial"], "date_last_message": "2017-07-14T19:23:59.395868+00:00", "number_of_duplicates": 0, "message_count": 14, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1700937/linked_merge_proposals", "http_etag": "\"f43a7fd9cafce1bccca0e929ae94485e88ad2646-e82605d8505921a7df891f038d193b85c893456f\""}, "bugtask_data": {"2262168": {"assignee_vocabulary": "AllUserTeamsParticipation", "user_can_unassign": false, "bugtask_path": "/ubuntu/+source/sqlite3/+bug/1700937", "assignee_value": null, "user_can_edit_status": true, "bug_title": "Heap-buffer overflow in nodeAcquire", "user_can_edit_milestone": false, "prefix": "ubuntu_sqlite3", "form_row_id": "task2262168", "target_is_product": false, "user_can_edit_importance": false, "assignee_is_team": null, "delete_link": "https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937/+delete", "user_can_edit_assignee": false, "milestone_widget_items": "[]", "status_widget_items": "[]", "status_value": "Confirmed", "importance_value": "Undecided", "hide_assignee_team_selection": true, "user_can_delete": false, "row_id": "tasksummary2262168", "assignee_vocabulary_filters": [], "targetname": "sqlite3 (Ubuntu)", "importance_widget_items": "[]", "milestone_value": null, "id": 2262168}}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/sqlite3/+bug/1700937", "web_link": "https://bugs.launchpad.net/ubuntu/+source/sqlite3/+bug/1700937", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1700937", "milestone_link": null, "status": "Confirmed", "importance": "Undecided", "assignee_link": null, "bug_target_display_name": "sqlite3 (Ubuntu)", "bug_target_name": "sqlite3 (Ubuntu)", "bug_watch_link": null, "date_assigned": null, "date_created": "2017-06-28T09:25:16.161423+00:00", "date_confirmed": "2017-08-18T11:57:32.315310+00:00", "date_incomplete": null, "date_in_progress": null, "date_closed": null, "date_left_new": "2017-08-18T11:57:32.315310+00:00", "date_triaged": null, "date_fix_committed": null, "date_fix_released": null, "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~even-rouault", "target_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/sqlite3", "title": "Bug #1700937 in sqlite3 (Ubuntu): \"Heap-buffer overflow in nodeAcquire\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/sqlite3/+bug/1700937/related_tasks", "is_complete": false, "http_etag": "\"e2892486d4dbbf438b2ee10caef1d1863163bd10-9300438b846786db846a58b3e4bd7e41a49e5873\""}, "initial_comment_batch_offset": 41};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 62 queries/external actions issued in 1.42 seconds

    Features: {'app.maintenance_message': None, 'visible_render_time': None, 'bugs.affected_count_includes_dupes.disabled': None, 'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'bugs.nominations.bug_supervisors_can_target': 'on', 'baselayout.careers_link.disabled': None, 'hard_timeout': '9000', 'js.yui_version': None, 'profiling.enabled': None}

    r0d8de2b

    -->

</html>

