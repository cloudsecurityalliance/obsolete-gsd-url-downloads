<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Changelog &mdash; Python 3.3.7 documentation</title>
    
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.3.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Python 3.3.7 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Python 3.3.7 documentation" href="../index.html" />
    <link rel="up" title="What’s New in Python" href="index.html" />
    <link rel="next" title="The Python Tutorial" href="../tutorial/index.html" />
    <link rel="prev" title="What’s New in Python 2.0" href="2.0.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
    
    <script type="text/javascript">
      $(document).ready(function() {
          // add the search form and bind the events
          $('h1').after([
            '<p>Filter entries by content:',
            '<input type="text" value="" id="searchbox" style="width: 50%">',
            '<input type="submit" id="searchbox-submit" value="Filter"></p>'
          ].join('\n'));

          function dofilter() {
              try {
                  var query = new RegExp($('#searchbox').val(), 'i');
              }
              catch (e) {
                  return; // not a valid regex (yet)
              }
              // find headers for the versions (What's new in Python X.Y.Z?)
              $('#changelog h2').each(function(index1, h2) {
                  var h2_parent = $(h2).parent();
                  var sections_found = 0;
                  // find headers for the sections (Core, Library, etc.)
                  h2_parent.find('h3').each(function(index2, h3) {
                      var h3_parent = $(h3).parent();
                      var entries_found = 0;
                      // find all the entries
                      h3_parent.find('li').each(function(index3, li) {
                          var li = $(li);
                          // check if the query matches the entry
                          if (query.test(li.text())) {
                              li.show();
                              entries_found++;
                          }
                          else {
                              li.hide();
                          }
                      });
                      // if there are entries, show the section, otherwise hide it
                      if (entries_found > 0) {
                          h3_parent.show();
                          sections_found++;
                      }
                      else {
                          h3_parent.hide();
                      }
                  });
                  if (sections_found > 0)
                      h2_parent.show();
                  else
                      h2_parent.hide();
              });
          }
          $('#searchbox').keyup(dofilter);
          $('#searchbox-submit').click(dofilter);
      });
    </script>
    
 

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../tutorial/index.html" title="The Python Tutorial"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="2.0.html" title="What’s New in Python 2.0"
             accesskey="P">previous</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="http://www.python.org/">Python</a> &raquo;</li>
        <li>
          <a href="../index.html">3.3.7 Documentation</a> &raquo;
        </li>

          <li><a href="index.html" accesskey="U">What&#8217;s New in Python</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="changelog">
<span id="id1"></span><h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="python-3-3-7-final">
<h2>Python 3.3.7 final<a class="headerlink" href="#python-3-3-7-final" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 2017-09-19</em></p>
<p>There were no new changes in version 3.3.7.</p>
</div>
<div class="section" id="python-3-3-7-release-candidate-1">
<h2>Python 3.3.7 release candidate 1<a class="headerlink" href="#python-3-3-7-release-candidate-1" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 2017-09-05</em></p>
<div class="section" id="security">
<h3>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-30947: Upgrade libexpat embedded copy from version 2.2.1 to 2.2.3 to
get security fixes.</li>
<li>bpo-26657: Fix directory traversal vulnerability with http.server on
Windows. This fixes a regression that was introduced in 3.3.4rc1 and
3.4.0rc1. Based on patch by Philipp Hagemeister.</li>
<li>bpo-30500: Fix urllib.parse.splithost() to correctly parse fragments. For
example, <tt class="docutils literal"><span class="pre">splithost('//127.0.0.1#&#64;evil.com/')</span></tt> now correctly returns the
<tt class="docutils literal"><span class="pre">127.0.0.1</span></tt> host, instead of treating <tt class="docutils literal"><span class="pre">&#64;evil.com</span></tt> as the host in an
authentification (<tt class="docutils literal"><span class="pre">login&#64;host</span></tt>).</li>
<li>bpo-30730: Prevent environment variables injection in subprocess on
Windows.  Prevent passing other invalid environment variables and command
arguments.</li>
<li>bpo-30585: Fix TLS stripping vulnerability in smptlib, CVE-2016-0772.
Reported by Team Oststrom</li>
<li>bpo-30694: Upgrade expat copy from 2.2.0 to 2.2.1 to get fixes of multiple
security vulnerabilities including: CVE-2017-9233 (External entity
infinite loop DoS), CVE-2016-9063 (Integer overflow, re-fix),
CVE-2016-0718 (Fix regression bugs from 2.2.0&#8217;s fix to CVE-2016-0718) and
CVE-2012-0876 (Counter hash flooding with SipHash). Note: the
CVE-2016-5300 (Use os- specific entropy sources like getrandom) doesn&#8217;t
impact Python, since Python already gets entropy from the OS to set the
expat secret using <tt class="docutils literal"><span class="pre">XML_SetHashSalt()</span></tt>.</li>
<li>bpo-29591: Update expat copy from 2.1.0 to 2.2.0 to get fixes of
CVE-2016-0718 and CVE-2016-4472. See
<a class="reference external" href="https://sourceforge.net/p/expat/bugs/537/">https://sourceforge.net/p/expat/bugs/537/</a> for more information.</li>
</ul>
</div>
<div class="section" id="core-and-builtins">
<h3>Core and Builtins<a class="headerlink" href="#core-and-builtins" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-27945: Fixed various segfaults with dict when input collections are
mutated during searching, inserting or comparing.  Based on patches by
Duane Griffin and Tim Mitchell.</li>
<li>bpo-28648: Fixed crash in Py_DecodeLocale() in debug build on Mac OS X
when decode astral characters.  Patch by Xiang Zhang.</li>
<li>bpo-26171: Fix possible integer overflow and heap corruption in
zipimporter.get_data().</li>
<li>bpo-25709: Fixed problem with in-place string concatenation and utf-8
cache.</li>
<li>bpo-24407: Fix crash when dict is mutated while being updated.</li>
<li>bpo-24097: Fixed crash in object.__reduce__() if slot name is freed inside
__getattr__.</li>
<li>bpo-24096: Make warnings.warn_explicit more robust against mutation of the
warnings.filters list.</li>
<li>bpo-24044: Fix possible null pointer dereference in list.sort in out of
memory conditions.</li>
<li>bpo-23055: Fixed a buffer overflow in PyUnicode_FromFormatV.  Analysis and
fix by Guido Vranken.</li>
</ul>
</div>
<div class="section" id="library">
<h3>Library<a class="headerlink" href="#library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-31170: expat: Update libexpat from 2.2.3 to 2.2.4. Fix copying of
partial characters for UTF-8 input (libexpat bug 115):
<a class="reference external" href="https://github.com/libexpat/libexpat/issues/115">https://github.com/libexpat/libexpat/issues/115</a></li>
<li>bpo-22928: Disabled HTTP header injections in http.client. Original patch
by Demian Brecht.</li>
<li>bpo-30119: ftplib.FTP.putline() now throws ValueError on commands that
contains CR or LF. Patch by Dong-hee Na</li>
<li>bpo-28563: Fixed possible DoS and arbitrary code execution when handle
plural form selections in the gettext module.  The expression parser now
supports exact syntax supported by GNU gettext.</li>
<li>bpo-27783: Fix possible usage of uninitialized memory in
operator.methodcaller.</li>
<li>bpo-27774: Fix possible Py_DECREF on unowned object in _sre.</li>
<li>bpo-27760: Fix possible integer overflow in binascii.b2a_qp.</li>
<li>bpo-27758: Fix possible integer overflow in the _csv module for large
record lengths.</li>
<li>bpo-27568: Prevent HTTPoxy attack (CVE-2016-1000110). Ignore the
HTTP_PROXY variable when REQUEST_METHOD environment is set, which
indicates that the script is in CGI mode.</li>
<li>bpo-24521: Fix possible integer overflows in the pickle module.</li>
<li>bpo-22931: Allow &#8216;[&#8216; and &#8216;]&#8217; in cookie values.</li>
<li>bpo-24094: Fix possible crash in json.encode with poorly behaved dict
subclasses.</li>
<li>bpo-23367: Fix possible overflows in the unicodedata module.</li>
<li>bpo-23361: Fix possible overflow in Windows subprocess creation code.</li>
<li>bpo-23363: Fix possible overflow in itertools.permutations.</li>
<li>bpo-23364: Fix possible overflow in itertools.product.</li>
<li>bpo-23369: Fixed possible integer overflow in
_json.encode_basestring_ascii.</li>
<li>bpo-23366: Fixed possible integer overflow in itertools.combinations.</li>
<li>bpo-23365: Fixed possible integer overflow in
itertools.combinations_with_replacement.</li>
</ul>
</div>
<div class="section" id="tests">
<h3>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-27369: In test_pyexpat, avoid testing an error message detail that
changed in Expat 2.2.0.</li>
<li>bpo-25940: Changed test_ssl and test_httplib to use self-
signed.pythontest.net.  This avoids relying on svn.python.org, which
recently changed root certificate.</li>
</ul>
</div>
<div class="section" id="c-api">
<h3>C API<a class="headerlink" href="#c-api" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-23998: PyImport_ReInitLock() now checks for lock allocation error</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-6-final">
<h2>Python 3.3.6 final<a class="headerlink" href="#python-3-3-6-final" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 11-Oct-2014</em></p>
<div class="section" id="id2">
<h3>Core and Builtins<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-22643: Fix integer overflow in Unicode case operations (upper, lower,
title, swapcase, casefold).</li>
<li>bpo-22518: Fixed integer overflow issues in &#8220;backslashreplace&#8221;,
&#8220;xmlcharrefreplace&#8221;, and &#8220;surrogatepass&#8221; error handlers.</li>
<li>bpo-22520: Fix overflow checking when generating the repr of a unicode
object.</li>
<li>bpo-22519: Fix overflow checking in PyBytes_Repr.</li>
<li>bpo-22518: Fix integer overflow issues in latin-1 encoding.</li>
<li>bpo-23165: Perform overflow checks before allocating memory in the
_Py_char2wchar function.</li>
</ul>
</div>
<div class="section" id="id3">
<h3>Library<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-16043: Add a default limit for the amount of data
xmlrpclib.gzip_decode will return. This resolves CVE-2013-1753.</li>
<li>bpo-22517: When a io.BufferedRWPair object is deallocated, clear its
weakrefs.</li>
<li>bpo-22419: Limit the length of incoming HTTP request in wsgiref server to
65536 bytes and send a 414 error code for higher lengths. Patch
contributed by Devin Cook.</li>
<li>Lax cookie parsing in http.cookies could be a security issue when combined
with non-standard cookie handling in some Web browsers.  Reported by
Sergey Bobrov.</li>
<li>bpo-21766: Prevent a security hole in CGIHTTPServer by URL unquoting paths
before checking for a CGI script at that path.</li>
<li>bpo-20633: Replace relative import by absolute import.</li>
<li>bpo-21082: In os.makedirs, do not set the process-wide umask. Note this
changes behavior of makedirs when exist_ok=True.</li>
<li>bpo-20875: Prevent possible gzip &#8220;&#8216;read&#8217; is not defined&#8221; NameError. Patch
by Claudiu Popa.</li>
<li>bpo-11599: When an external command (e.g. compiler) fails, distutils now
prints out the whole command line (instead of just the command name) if
the environment variable DISTUTILS_DEBUG is set.</li>
<li>bpo-4931: distutils should not produce unhelpful &#8220;error: None&#8221; messages
anymore. distutils.util.grok_environment_error is kept but doc-deprecated.</li>
<li>bpo-20283: RE pattern methods now accept the string keyword parameters as
documented. The pattern and source keyword parameters are left as
deprecated aliases.</li>
<li>bpo-21323: Fix http.server to again handle scripts in CGI subdirectories,
broken by the fix for security <a class="reference external" href="https://bugs.python.org/19435">issue #19435</a>.  Patch by Zach Byrne.</li>
<li>bpo-21529: Fix arbitrary memory access in JSONDecoder.raw_decode with a
negative second parameter. Bug reported by Guido Vranken. (See also:
CVE-2014-4616)</li>
</ul>
</div>
<div class="section" id="id4">
<h3>Tests<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17752: Fix distutils tests when run from the installed location.</li>
<li>bpo-20946: Correct alignment assumptions of some ctypes tests.</li>
<li>bpo-20939: Fix test_geturl failure in test_urllibnet due to new redirect
of <a class="reference external" href="http://www.python.org/">http://www.python.org/</a> to <a class="reference external" href="https://www.python.org">https://www.python.org</a>.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-5-final">
<h2>Python 3.3.5 final<a class="headerlink" href="#python-3-3-5-final" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 09-Mar-2014</em></p>
<p>No changes from release candidate 2.</p>
</div>
<div class="section" id="python-3-3-5-release-candidate-2">
<h2>Python 3.3.5 release candidate 2<a class="headerlink" href="#python-3-3-5-release-candidate-2" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 02-Mar-2014</em></p>
<div class="section" id="id5">
<h3>Core and Builtins<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20731: Properly position in source code files even if they are opened
in text mode. Patch by Serhiy Storchaka.</li>
<li>bpo-19619: str.encode, bytes.decode and bytearray.decode now use an
internal API to throw LookupError for known non-text encodings, rather
than attempting the encoding or decoding operation and then throwing a
TypeError for an unexpected output type. (The latter mechanism remains in
place for third party non-text encodings)</li>
</ul>
</div>
<div class="section" id="id6">
<h3>Library<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20778: Fix modulefinder to work with bytecode-only modules.</li>
<li>bpo-20791: copy.copy() now doesn&#8217;t make a copy when the input is a bytes
object. Initial patch by Peter Otten.</li>
<li>bpo-20621: Fixes a zipimport bug introduced in 3.3.4 that could cause
spurious crashes or SystemErrors when importing modules or packages from a
zip file.  The change causing the problem was reverted.</li>
<li>bpo-20404: io.TextIOWrapper (and hence the open() builtin) now uses the
internal codec marking system added for <a class="reference external" href="https://bugs.python.org/19619">issue #19619</a> to throw LookupError
for known non- text encodings at stream construction time. The existing
output type checks remain in place to deal with unmarked third party
codecs.</li>
</ul>
</div>
<div class="section" id="id7">
<h3>Tests<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20743: Fix a reference leak in test_tcl.</li>
</ul>
</div>
<div class="section" id="tools-demos">
<h3>Tools/Demos<a class="headerlink" href="#tools-demos" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20535: PYTHONWARNING no longer affects the run_tests.py script. Patch
by Arfrever Frehtes Taifersar Arahesis.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-5-release-candidate-1">
<h2>Python 3.3.5 release candidate 1<a class="headerlink" href="#python-3-3-5-release-candidate-1" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 23-Feb-2014</em></p>
<div class="section" id="id8">
<h3>Core and Builtins<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20588: Make Python-ast.c C89 compliant.</li>
<li>bpo-20437: Fixed 21 potential bugs when deleting objects references.</li>
<li>bpo-20538: UTF-7 incremental decoder produced inconsistant string when
input was truncated in BASE64 section.</li>
</ul>
</div>
<div class="section" id="id9">
<h3>Library<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20635: Fixed grid_columnconfigure() and grid_rowconfigure() methods of
Tkinter widgets to work in wantobjects=True mode.</li>
<li>bpo-19612: On Windows, subprocess.Popen.communicate() now ignores
OSError(22, &#8216;Invalid argument&#8217;) when writing input data into stdin,
whereas the process already exited.</li>
<li>bpo-6815: os.path.expandvars() now supports non-ASCII environment
variables names and values.</li>
<li>bpo-17671: Fixed a crash when use non-initialized io.BufferedRWPair. Based
on patch by Stephen Tu.</li>
<li>bpo-8478: Untokenizer.compat processes first token from iterator input.
Patch based on lines from Georg Brandl, Eric Snow, and Gareth Rees.</li>
<li>bpo-20594: Avoid name clash with the libc function posix_close.</li>
<li>bpo-19856: shutil.move() failed to move a directory to other directory on
Windows if source name ends with os.altsep.</li>
<li>bpo-14983: email.generator now always adds a line end after each MIME
boundary marker, instead of doing so only when there is an epilogue.  This
fixes an RFC compliance bug and solves an issue with signed MIME parts.</li>
<li>bpo-20540: Fix a performance regression (vs. Python 3.2) when layering a
multiprocessing Connection over a TCP socket.  For small payloads, Nagle&#8217;s
algorithm would introduce idle delays before the entire transmission of a
message.</li>
<li>bpo-16983: the new email header parsing code will now decode encoded words
that are (incorrectly) surrounded by quotes, and register a defect.</li>
<li>bpo-19772: email.generator no longer mutates the message object when doing
a down- transform from 8bit to 7bit CTEs.</li>
<li>bpo-18805: the netmask/hostmask parsing in ipaddress now more reliably
filters out illegal values and correctly allows any valid prefix length.</li>
<li>bpo-17369: get_filename was raising an exception if the filename
parameter&#8217;s RFC2231 encoding was broken in certain ways.  This was a
regression relative to python2.</li>
<li>bpo-20013: Some imap servers disconnect if the current mailbox is deleted,
and imaplib did not handle that case gracefully.  Now it handles the &#8216;bye&#8217;
correctly.</li>
<li>bpo-19920: TarFile.list() no longer fails when outputs a listing
containing non- encodable characters.  Based on patch by Vajrasky Kok.</li>
<li>bpo-20515: Fix NULL pointer dereference introduced by <a class="reference external" href="https://bugs.python.org/20368">issue #20368</a>.</li>
<li>bpo-19186: Restore namespacing of expat symbols inside the pyexpat module.</li>
<li>bpo-20426: When passing the re.DEBUG flag, re.compile() displays the debug
output every time it is called, regardless of the compilation cache.</li>
<li>bpo-20368: The null character now correctly passed from Tcl to Python.
Improved error handling in variables-related commands.</li>
<li>bpo-20435: Fix _pyio.StringIO.getvalue() to take into account newline
translation settings.</li>
<li>bpo-20288: fix handling of invalid numeric charrefs in HTMLParser.</li>
<li>bpo-20424: Python implementation of io.StringIO now supports lone
surrogates.</li>
<li>bpo-19456: ntpath.join() now joins relative paths correctly when a drive
is present.</li>
<li>bpo-19077: tempfile.TemporaryDirectory cleanup is now most likely
successful when called during nulling out of modules during shutdown.
Misleading exception no longer raised when resource warning is emitted
during shutdown.</li>
<li>bpo-20367: Fix behavior of concurrent.futures.as_completed() for duplicate
arguments. Patch by Glenn Langford.</li>
<li>bpo-8260: The read(), readline() and readlines() methods of
codecs.StreamReader returned incomplete data when were called after
readline() or read(size). Based on patch by Amaury Forgeot d&#8217;Arc.</li>
</ul>
</div>
<div class="section" id="idle">
<h3>IDLE<a class="headerlink" href="#idle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20406: Use Python application icons for Idle window title bars. Patch
mostly by Serhiy Storchaka.</li>
<li>Update the python.gif icon for the Idle classbrowser and pathbowser from
the old green snake to the new new blue and yellow snakes.</li>
<li>bpo-17721: Remove non-functional configuration dialog help button until we
make it actually gives some help when clicked. Patch by Guilherme Simões.</li>
</ul>
</div>
<div class="section" id="id10">
<h3>Tests<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20510: Rewrote test_exit in test_sys to match existing comments, use
modern unittest features, and use helpers from test.script_helper instead
of using subprocess directly.  Patch by Gareth Rees.</li>
<li>bpo-20532: Tests which use _testcapi are now marked as CPython only.</li>
<li>bpo-19920: Added tests for TarFile.list().  Based on patch by Vajrasky
Kok.</li>
<li>bpo-19990: Added tests for the imghdr module.  Based on patch by Claudiu
Popa.</li>
<li>bpo-20474: Fix test_socket &#8220;unexpected success&#8221; failures on OS X 10.7+.</li>
<li>bpo-20605: Make test_socket getaddrinfo OS X segfault test more robust.</li>
</ul>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20488: Importlib is no longer <em>an</em> implementation of import, it&#8217;s
<em>the</em> implementation.</li>
</ul>
</div>
<div class="section" id="build">
<h3>Build<a class="headerlink" href="#build" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20221: Removed conflicting (or circular) hypot definition when
compiled with VS 2010 or above.  Initial patch by Tabrez Mohammed.</li>
<li>bpo-20609: Restored the ability to build 64-bit Windows binaries on 32-bit
Windows, which was broken by the change in <a class="reference external" href="https://bugs.python.org/19788">issue #19788</a>.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-4-final">
<h2>Python 3.3.4 final<a class="headerlink" href="#python-3-3-4-final" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 09-Feb-2014</em></p>
<div class="section" id="id11">
<h3>Library<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20374: Fix build warnings of the readline module with libedit on Mac.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-4-release-candidate-1">
<h2>Python 3.3.4 release candidate 1<a class="headerlink" href="#python-3-3-4-release-candidate-1" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 26-Jan-2014</em></p>
<div class="section" id="id12">
<h3>Core and Builtins<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17825: Cursor &#8220;^&#8221; is correctly positioned for SyntaxError and
IndentationError.</li>
<li>bpo-2382: SyntaxError cursor &#8220;^&#8221; is now written at correct position in
most cases when multibyte characters are in line (before &#8220;^&#8221;).  This still
not works correctly with wide East Asian characters.</li>
<li>bpo-18960: The first line of Python script could be executed twice when
the source encoding was specified on the second line.  Now the source
encoding declaration on the second line isn&#8217;t effective if the first line
contains anything except a comment.  &#8216;python -x&#8217; works now again with
files with the source encoding declarations, and can be used to make
Python batch files on Windows.</li>
<li>bpo-17432: Drop UCS2 from names of Unicode functions in python3.def.</li>
<li>bpo-19969: PyBytes_FromFormatV() now raises an OverflowError if &#8220;%c&#8221;
argument is not in range [0; 255].</li>
<li>bpo-14432: Generator now clears the borrowed reference to the thread
state. Fix a crash when a generator is created in a C thread that is
destroyed while the generator is still used. The issue was that a
generator contains a frame, and the frame kept a reference to the Python
state of the destroyed C thread. The crash occurs when a trace function is
setup.</li>
<li>bpo-19932: Fix typo in import.h, missing whitespaces in function
prototypes.</li>
<li>bpo-19729: In str.format(), fix recursive expansion in format spec.</li>
<li>bpo-19638: Fix possible crash / undefined behaviour from huge (more than 2
billion characters) input strings in _Py_dg_strtod.</li>
</ul>
</div>
<div class="section" id="id13">
<h3>Library<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-16042: CVE-2013-1752: smtplib: Limit amount of data read by limiting
the call to readline().  Original patch by Christian Heimes.</li>
<li>bpo-20317: ExitStack.__exit__ could create a self-referential loop if an
exception raised by a cleanup operation already had its context set
correctly (for example, by the &#64;contextmanager decorator). The infinite
loop this caused is now avoided by checking if the expected context is
already set before trying to fix it.</li>
<li>bpo-20374: Fix build with GNU readline &gt;= 6.3.</li>
<li>bpo-20262: Warnings are raised now when duplicate names are added in the
ZIP file or too long ZIP file comment is truncated.</li>
<li>bpo-18574: Added missing newline in 100-Continue reply from
http.server.BaseHTTPRequestHandler. Patch by Nikolaus Rath.</li>
<li>bpo-20270: urllib.urlparse now supports empty ports.</li>
<li>bpo-20243: TarFile no longer raise ReadError when opened in write mode.</li>
<li>bpo-20238: TarFile opened with external fileobj and &#8220;w:gz&#8221; mode didn&#8217;t
write complete output on close.</li>
<li>bpo-20245: The open functions in the tarfile module now correctly handle
empty mode.</li>
<li>bpo-20242: Fixed basicConfig() format strings for the alternative
formatting styles. Thanks to kespindler for the bug report and patch.</li>
<li>bpo-20246: Fix buffer overflow in socket.recvfrom_into.</li>
<li>bpo-20206: Fix edge case in email.quoprimime.encode where it truncated
lines ending in a character needing encoding but no newline by using a
more efficient algorithm that doesn&#8217;t have the bug. (See also: bpo-5803)</li>
<li>bpo-19082: Working xmlrpc.server and xmlrpc.client examples. Both in
modules and in documentation. Initial patch contributed by Vajrasky Kok.</li>
<li>bpo-20138: The wsgiref.application_uri() and wsgiref.request_uri()
functions now conform to PEP 3333 when handle non-ASCII URLs.</li>
<li>bpo-19097: Raise the correct Exception when cgi.FieldStorage is given an
invalid fileobj.</li>
<li>bpo-20217: Fix build in SCHED_SPORADIC is defined.</li>
<li>bpo-13107: argparse and optparse no longer raises an exception when output
a help on environment with too small COLUMNS.  Based on patch by Elazar
Gershuni.</li>
<li>bpo-20207: Always disable SSLv2 except when PROTOCOL_SSLv2 is explicitly
asked for.</li>
<li>bpo-18960: The tokenize module now ignore the source encoding declaration
on the second line if the first line contains anything except a comment.</li>
<li>bpo-20078: Reading malformed zipfiles no longer hangs with 100% CPU
consumption.</li>
<li>bpo-20113: os.readv() and os.writev() now raise an OSError exception on
error instead of returning -1.</li>
<li>bpo-20072: Fixed multiple errors in tkinter with wantobjects is False.</li>
<li>bpo-20108: Avoid parameter name clash in inspect.getcallargs().</li>
<li>bpo-12692: Backport the fix for ResourceWarning in test_urllib2net. This
also helps in closing the socket when Connection Close header is not sent.</li>
<li>bpo-19422: Explicitly disallow non-SOCK_STREAM sockets in the ssl module,
rather than silently let them emit clear text data.</li>
<li>bpo-18116: getpass was always getting an error when testing /dev/tty, and
thus was always falling back to stdin, and would then raise an exception
if stdin could not be used (such as /dev/null).  It also leaked an open
file. All of these issues are now fixed.</li>
<li>bpo-20027: Fixed locale aliases for devanagari locales.</li>
<li>bpo-20067: Tkinter variables now work when wantobjects is false.</li>
<li>bpo-19020: Tkinter now uses splitlist() instead of split() in configure
methods.</li>
<li>Fix TypeError on &#8220;setup.py upload &#8211;show-response&#8221;.</li>
<li>bpo-12226: HTTPS is now used by default when connecting to PyPI.</li>
<li>bpo-20045: Fix &#8220;setup.py register &#8211;list-classifiers&#8221;.</li>
<li>bpo-18879: When a method is looked up on a temporary file, avoid closing
the file before the method is possibly called.</li>
<li>bpo-20034: Updated alias mapping to most recent locale.alias file from
X.org distribution using makelocalealias.py.</li>
<li>bpo-5815: Fixed support for locales with modifiers.  Fixed support for
locale encodings with hyphens.</li>
<li>bpo-20026: Fix the sqlite module to handle correctly invalid isolation
level (wrong type).</li>
<li>bpo-18829: csv.Dialect() now checks type for delimiter, escapechar and
quotechar fields.  Original patch by Vajrasky Kok.</li>
<li>bpo-19855: uuid.getnode() on Unix now looks on the PATH for the
executables used to find the mac address, with /sbin and /usr/sbin as
fallbacks.</li>
<li>bpo-20007: HTTPResponse.read(0) no more prematurely closes connection.
Original patch by Simon Sapin.</li>
<li>bpo-19912: Fixed numerous bugs in ntpath.splitunc().</li>
<li>bpo-19911: ntpath.splitdrive() now correctly processes the &#8216;İ&#8217; character
(U+0130, LATIN CAPITAL LETTER I WITH DOT ABOVE).</li>
<li>bpo-19532: python -m compileall with no filename/directory arguments now
respects the -f and -q flags instead of ignoring them.</li>
<li>bpo-19623: Fixed writing to unseekable files in the aifc module.</li>
<li>bpo-17919: select.poll.register() again works with poll.POLLNVAL on AIX.
Fixed integer overflow in the eventmask parameter.</li>
<li>bpo-19063: if a Charset&#8217;s body_encoding was set to None, the email package
would generate a message claiming the Content-Transfer-Encoding was 7bit,
and produce garbage output for the content.  This now works. A couple of
other set_payload mishandlings of non-ASCII are also fixed.</li>
<li>bpo-17200: telnetlib&#8217;s read_until and expect timeout was broken by the fix
to <a class="reference external" href="https://bugs.python.org/14635">Issue #14635</a> in Python 3.3.0 to be interpreted as milliseconds instead
of seconds when the platform supports select.poll (ie: everywhere). It is
now treated as seconds once again.</li>
<li>bpo-17429: platform.linux_distribution() now decodes files from the UTF-8
encoding with the surrogateescape error handler, instead of decoding from
the locale encoding in strict mode. It fixes the function on Fedora 19
which is probably the first major distribution release with a non-ASCII
name. Patch written by Toshio Kuratomi.</li>
<li>bpo-19929: Call os.read with 32768 within subprocess.Popen.communicate
rather than 4096 for efficiency.  A microbenchmark shows Linux and OS X
both using ~50% less cpu time this way.</li>
<li>bpo-19506: Use a memoryview to avoid a data copy when piping data to stdin
within subprocess.Popen.communicate.  5-10% less cpu usage.</li>
<li>bpo-19839: Fix regression in bz2 module&#8217;s handling of non-bzip2 data at
EOF, and analogous bug in lzma module.</li>
<li>bpo-19138: doctest&#8217;s IGNORE_EXCEPTION_DETAIL now allows a match when no
exception detail exists (no colon following the exception&#8217;s name, or a
colon does follow but no text follows the colon).</li>
<li>bpo-19834: Support unpickling of exceptions pickled by Python 2.</li>
<li>bpo-15798: Fixed subprocess.Popen() to no longer fail if file descriptor
0, 1 or 2 is closed.</li>
<li>bpo-19088: Fixed incorrect caching of the copyreg module in
object.__reduce__() and object.__reduce_ex__().</li>
<li>Fixed _pickle.Unpickler to not fail when loading empty strings as
persistent IDs.</li>
<li>bpo-11480: Fixed copy.copy to work with classes with custom metaclasses.
Patch by Daniel Urban.</li>
<li>bpo-6477: Added support for pickling the types of built-in singletons
(i.e., Ellipsis, NotImplemented, None).</li>
<li>bpo-11508: Fixed uuid.getnode() and uuid.uuid1() on environment with
virtual interface. Original patch by Kent Frazier.</li>
<li>bpo-11489: JSON decoder now accepts lone surrogates.</li>
<li>bpo-19545: Avoid chained exceptions while passing stray % to
time.strptime().  Initial patch by Claudiu Popa.</li>
<li>bpo-19633: Fixed writing not compressed 16- and 32-bit wave files on big-
endian platforms.</li>
<li>bpo-19449: in csv&#8217;s writerow, handle non-string keys when generating the
error message that certain keys are not in the &#8216;fieldnames&#8217; list.</li>
<li>Fix test.support.bind_port() to not cause an error when Python was
compiled on a system with SO_REUSEPORT defined in the headers but run on a
system with an OS kernel that does not support that reasonably new socket
option.</li>
<li>Fix compilation error under gcc of the ctypes module bundled libffi for
arm.</li>
<li>bpo-19523: Closed FileHandler leak which occurred when delay was set.</li>
<li>bpo-13674: Prevented time.strftime from crashing on Windows when given a
year before 1900 and a format of %y.</li>
<li>bpo-19544: Restore use of urllib over http allowing use of http_proxy for
Distutils upload command, a feature accidentally lost in the rollback of
distutils2. (See also: bpo-6286)</li>
<li>bpo-19544: Restore the read_pkg_file method to
distutils.dist.DistributionMetadata accidentally removed in the undo of
distutils2. (See also: bpo-7457)</li>
<li>bpo-1575020: Fixed support of 24-bit wave files on big-endian platforms.</li>
<li>bpo-19480: HTMLParser now accepts all valid start-tag names as defined by
the HTML5 standard.</li>
<li>bpo-6157: Fixed tkinter.Text.debug().  Original patch by Guilherme Polo.</li>
<li>bpo-6160: The bbox() method of tkinter.Spinbox now returns a tuple of
integers instead of a string.  Based on patch by Guilherme Polo.</li>
<li>bpo-10197: Rework subprocess.get[status]output to use subprocess
functionality and thus to work on Windows. Patch by Nick Coghlan.</li>
<li>bpo-19286: Directories in <tt class="docutils literal"><span class="pre">package_data</span></tt> are no longer added to the
filelist, preventing failure outlined in the ticket.</li>
</ul>
</div>
<div class="section" id="id14">
<h3>IDLE<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17390: Add Python version to Idle editor window title bar. Original
patches by Edmond Burnett and Kent Johnson.</li>
<li>bpo-18960: IDLE now ignores the source encoding declaration on the second
line if the first line contains anything except a comment.</li>
<li>bpo-20058: sys.stdin.readline() in IDLE now always returns only one line.</li>
<li>bpo-19481: print() of string subclass instance in IDLE no longer hangs.</li>
<li>bpo-18270: Prevent possible IDLE AttributeError on OS X when no initial
shell window is present.</li>
</ul>
</div>
<div class="section" id="id15">
<h3>Tests<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-19804: The test_find_mac test in test_uuid is now skipped if the
ifconfig executable is not available.</li>
<li>bpo-19886: Use better estimated memory requirements for bigmem tests.</li>
<li>bpo-20055: Fix test_shutil under Windows with symlink privileges held.
Patch by Vajrasky Kok.</li>
<li>bpo-19938: Re-enabled test_bug_1333982 in test_dis, which had been
disabled since 3.0 due to the changes in listcomp handling.</li>
<li>bpo-19320: test_tcl no longer fails when wantobjects is false.</li>
<li>bpo-19683: Removed empty tests from test_minidom.  Patch by Ajitesh Gupta.</li>
<li>bpo-19919: Fix flaky SSL test. connect_ex() sometimes returns EWOULDBLOCK
on Windows or VMs hosted on Windows.</li>
<li>bpo-19912: Added tests for ntpath.splitunc().</li>
<li>bpo-19828: Fixed test_site when the whole suite is run with -S.</li>
<li>bpo-19928: Implemented a test for repr() of cell objects.</li>
<li>bpo-19535: Fixed test_docxmlrpc when python is run with -OO.</li>
<li>bpo-19926: Removed unneeded test_main from test_abstract_numbers. Patch by
Vajrasky Kok.</li>
<li>bpo-19595: Re-enabled a long-disabled test in test_winsound. (See also:
bpo-19987)</li>
<li>bpo-19588: Fixed tests in test_random that were silently skipped most of
the time. Patch by Julian Gindi.</li>
<li>bpo-19596: Set untestable tests in test_importlib to None to avoid
reporting success on empty tests.</li>
<li>bpo-19440: Clean up test_capi by removing an unnecessary __future__
import, converting from test_main to unittest.main, and running the
_testcapi module tests within a unittest TestCase.</li>
<li>bpo-18702: All skipped tests now reported as skipped. (See also:
bpo-19572)</li>
<li>bpo-19085: Added basic tests for all tkinter widget options.</li>
</ul>
</div>
<div class="section" id="id16">
<h3>Documentation<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-20265: Updated some parts of the Using Windows document.</li>
<li>bpo-20266: Updated some parts of the Windows FAQ.</li>
<li>bpo-20255: Updated the about and bugs pages.</li>
<li>bpo-20253: Fixed a typo in the ipaddress docs that advertised an illegal
attribute name.  Found by INADA Naoki.</li>
<li>bpo-19963: Document that importlib.import_module() no longer requires
importing parent packages separately.</li>
<li>bpo-18840: Introduce the json module in the tutorial, and de-emphasize the
pickle module.</li>
<li>bpo-19845: Updated the Compiling Python on Windows section.</li>
<li>bpo-19795: Improved markup of True/False constants.</li>
<li>bpo-18326: Clarify that list.sort&#8217;s arguments are keyword-only.  Also,
attempt to reduce confusion in the glossary by not saying there are
different &#8220;types&#8221; of arguments and parameters.</li>
</ul>
</div>
<div class="section" id="id17">
<h3>Build<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-19788: kill_python(_d).exe is now run as a PreBuildEvent on the
pythoncore sub- project.  This should prevent build errors due a previous
build&#8217;s python(_d).exe still running.</li>
<li>Add workaround for VS 2010 nmake clean issue. VS 2010 doesn&#8217;t set up PATH
for nmake.exe correctly.</li>
</ul>
</div>
<div class="section" id="id18">
<h3>Tools/Demos<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-19936: Added executable bits or shebang lines to Python scripts which
requires them.  Disable executable bits and shebang lines in test and
benchmark files in order to prevent using a random system python, and in
source files of modules which don&#8217;t provide command line interface.  Fixed
shebang line to use python3 executable in the unittestgui script.</li>
<li>bpo-18960: 2to3 and the findnocoding.py script now ignore the source
encoding declaration on the second line if the first line contains
anything except a comment.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-3-final">
<h2>Python 3.3.3 final<a class="headerlink" href="#python-3-3-3-final" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 17-Nov-2013</em></p>
<p>No changes from release candidate 2.</p>
</div>
<div class="section" id="python-3-3-3-release-candidate-2">
<h2>Python 3.3.3 release candidate 2<a class="headerlink" href="#python-3-3-3-release-candidate-2" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 11-Nov-2013</em></p>
<div class="section" id="id19">
<h3>Library<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-19227: Any re-seeding of the OpenSSL RNG on fork has been removed;
this should be handled by OpenSSL itself or by the application.</li>
<li>bpo-19435: Fix directory traversal attack on CGIHttpRequestHandler.</li>
</ul>
</div>
<div class="section" id="id20">
<h3>Tests<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-18964: Fix test_tcl when run with Tcl/Tk versions  &lt; 8.5.</li>
</ul>
</div>
<div class="section" id="id21">
<h3>Build<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15663: Revert OS X installer built-in Tcl/Tk support for 3.3.3. Some
third-party projects, such as Matplotlib and PIL/Pillow, depended on being
able to build with Tcl and Tk frameworks in /Library/Frameworks.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-3-release-candidate-1">
<h2>Python 3.3.3 release candidate 1<a class="headerlink" href="#python-3-3-3-release-candidate-1" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 27-Oct-2013</em></p>
<div class="section" id="id22">
<h3>Core and Builtins<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-18603: Ensure that PyOS_mystricmp and PyOS_mystrnicmp are in the
Python executable and not removed by the linker&#8217;s optimizer.</li>
<li>bpo-19279: UTF-7 decoder no more produces illegal strings.</li>
<li>Fix macro expansion of _PyErr_OCCURRED(), and make sure to use it in at
least one place so as to avoid regressions.</li>
<li>bpo-19014: memoryview.cast() is now allowed on zero-length views.</li>
<li>bpo-19098: Prevent overflow in the compiler when the recursion limit is
set absurdly high.</li>
<li>bpo-18942: sys._debugmallocstats() output was damaged on Windows.</li>
<li>bpo-18667: Add missing &#8220;HAVE_FCHOWNAT&#8221; symbol to posix._have_functions.</li>
<li>bpo-18368: PyOS_StdioReadline() no longer leaks memory when realloc()
fails.</li>
<li>bpo-16741: Fix an error reporting in int().</li>
<li>bpo-17899: Fix rare file descriptor leak in os.listdir().</li>
<li>bpo-18552: Check return value of PyArena_AddPyObject() in
obj2ast_object().</li>
<li>bpo-18560: Fix potential NULL pointer dereference in sum().</li>
<li>bpo-15905: Fix theoretical buffer overflow in handling of sys.argv[0],
prefix and exec_prefix if the operation system does not obey MAXPATHLEN.</li>
<li>bpo-18344: Fix potential ref-leaks in _bufferedreader_read_all().</li>
<li>bpo-17872: Fix a segfault in marshal.load() when input stream returns more
bytes than requested.</li>
<li>bpo-18426: Fix NULL pointer dereference in C extension import when
PyModule_GetDef() returns an error.</li>
<li>bpo-18328: Reorder ops in PyThreadState_Delete*() functions. Now the
tstate is first removed from TLS and then deallocated.</li>
<li>bpo-18184: PyUnicode_FromFormat() and PyUnicode_FromFormatV() now raise
OverflowError when an argument of %c format is out of range.</li>
<li>bpo-18137: Detect integer overflow on precision in float.__format__() and
complex.__format__().</li>
<li>bpo-18183: Fix various unicode operations on strings with large unicode
codepoints.</li>
<li>bpo-18180: Fix ref leak in _PyImport_GetDynLoadWindows().</li>
<li>bpo-18038: SyntaxError raised during compilation sources with illegal
encoding now always contains an encoding name.</li>
<li>bpo-17644: Fix a crash in str.format when curly braces are used in square
brackets.</li>
<li>bpo-17983: Raise a SyntaxError for a <tt class="docutils literal"><span class="pre">global</span> <span class="pre">__class__</span></tt> statement in a
class body.</li>
<li>bpo-17927: Frame objects kept arguments alive if they had been copied into
a cell, even if the cell was cleared.</li>
</ul>
</div>
<div class="section" id="id23">
<h3>Library<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-19395: Raise an exception when attempting to pickle a bz2 or lzma
compressor/decompressor object, rather than creating a pickle that would
cause a segfault when loaded and used.</li>
<li>bpo-19227: Try to fix deadlocks caused by re-seeding then OpenSSL pseudo-
random number generator on fork().</li>
<li>bpo-16037: HTTPMessage.readheaders() raises an HTTPException when more
than 100 headers are read.  Adapted from patch by Jyrki Pulliainen.</li>
<li>bpo-16040: CVE-2013-1752: nntplib: Limit maximum line lengths to 2048 to
prevent readline() calls from consuming too much memory.  Patch by Jyrki
Pulliainen.</li>
<li>bpo-16041: CVE-2013-1752: poplib: Limit maximum line lengths to 2048 to
prevent readline() calls from consuming too much memory.  Patch by Jyrki
Pulliainen.</li>
<li>bpo-17997: Change behavior of <tt class="docutils literal"><span class="pre">ssl.match_hostname()</span></tt> to follow RFC 6125,
for security reasons.  It now doesn&#8217;t match multiple wildcards nor
wildcards inside IDN fragments.</li>
<li>bpo-16039: CVE-2013-1752: Change use of readline in imaplib module to
limit line length.  Patch by Emil Lind.</li>
<li>bpo-19393: Fix symtable.symtable function to not be confused when there
are functions or classes named &#8220;top&#8221;.</li>
<li>bpo-19339: telnetlib module is now using time.monotonic() when available
to compute timeout.</li>
<li>bpo-19288: Fixed the &#8220;in&#8221; operator of dbm.gnu databases for string
argument.  Original patch by Arfrever Frehtes Taifersar Arahesis.</li>
<li>bpo-19287: Fixed the &#8220;in&#8221; operator of dbm.ndbm databases for string
argument.  Original patch by Arfrever Frehtes Taifersar Arahesis.</li>
<li>bpo-19327: Fixed the working of regular expressions with too big charset.</li>
<li>bpo-19350: Increasing the test coverage of macurl2path. Patch by Colin
Williams.</li>
<li>bpo-19352: Fix unittest discovery when a module can be reached through
several paths (e.g. under Debian/Ubuntu with virtualenv).</li>
<li>bpo-15207: Fix mimetypes to read from correct part of Windows registry
Original patch by Dave Chambers</li>
<li>bpo-8964: fix platform._sys_version to handle IronPython 2.6+. Patch by
Martin Matusiak.</li>
<li>bpo-16038: CVE-2013-1752: ftplib: Limit amount of data read by limiting
the call to readline().  Original patch by Michał Jastrzębski and
Giampaolo Rodola.</li>
<li>bpo-18235: Fix the sysconfig variables LDSHARED and BLDSHARED under AIX.
Patch by David Edelsohn.</li>
<li>bpo-19276: Fixed the wave module on 64-bit big-endian platforms.</li>
<li>bpo-18776: atexit callbacks now display their full traceback when they
raise an exception.</li>
<li>bpo-17827: Add the missing documentation for <tt class="docutils literal"><span class="pre">codecs.encode</span></tt> and
<tt class="docutils literal"><span class="pre">codecs.decode</span></tt>.</li>
<li>bpo-18458: Prevent crashes with newer versions of libedit.  Its readline
emulation has changed from 0-based indexing to 1-based like gnu readline.
Original patch by Ronald Oussoren.</li>
<li>bpo-18919: If the close() method of a writer in the sunau or wave module
failed, second invocation of close() and destructor no more raise an
exception.</li>
<li>bpo-19131: The aifc module now correctly reads and writes sampwidth of
compressed streams.</li>
<li>bpo-19158: a rare race in BoundedSemaphore could allow .release() too
often.</li>
<li>bpo-18037: 2to3 now escapes &#8216;u&#8217; and &#8216;U&#8217; in native strings.</li>
<li>bpo-19137: The pprint module now correctly formats instances of set and
frozenset subclasses.</li>
<li>bpo-19092: contextlib.ExitStack now correctly reraises exceptions from the
__exit__ callbacks of inner context managers (Patch by Hrvoje Nikšić)</li>
<li>bpo-12641: Avoid passing &#8220;-mno-cygwin&#8221; to the mingw32 compiler, except
when necessary. Patch by Oscar Benjamin.</li>
<li>bpo-18594: The fast path for collections.Counter() was never taken due to
an over- restrictive type check.  And the fallback path did not implement
the same algorithm as the pure python code.</li>
<li>Properly initialize all fields of a SSL object after allocation.</li>
<li>bpo-4366: Fix building extensions on all platforms when &#8211;enable-shared is
used.</li>
<li>bpo-18950: Fix miscellaneous bugs in the sunau module.
Au_read.readframes() now updates current file position and reads correct
number of frames from multichannel stream.  Au_write.writeframesraw() now
correctly updates current file position.  Au_read.getnframes() now returns
an integer (as in Python 2). Au_read and Au_write now correctly works with
file object if start file position is not a zero.</li>
<li>bpo-19053: ZipExtFile.read1() with non-zero argument no more returns empty
bytes until end of data.</li>
<li>bpo-19028: Fixed tkinter.Tkapp.merge() for non-string arguments.</li>
<li>bpo-3015: Fixed tkinter with wantobject=False.  Any Tcl command call
returned empty string.</li>
<li>bpo-18050: Fixed an incompatibility of the re module with Python 3.3.0
binaries.</li>
<li>bpo-19037: The mailbox module now makes all changes to maildir files
before moving them into place, to avoid race conditions with other
programs that may be accessing the maildir directory.</li>
<li>bpo-14984: On POSIX systems, when netrc is called without a filename
argument (and therefore is reading the user&#8217;s $HOME/.netrc file), it now
enforces the same security rules as typical ftp clients: the .netrc file
must be owned by the user that owns the process and must not be readable
by any other user.</li>
<li>bpo-18873: The tokenize module now detects Python source code encoding
only in comment lines.</li>
<li>bpo-17324: Fix http.server&#8217;s request handling case on trailing &#8216;/&#8217;. Patch
contributed by Vajrasky Kok.</li>
<li>bpo-19018: The heapq.merge() function no longer suppresses IndexError in
the underlying iterables.</li>
<li>bpo-18784: The uuid module no more attempts to load libc via ctypes.CDLL,
if all necessary functions are already found in libuuid. Patch by Evgeny
Sologubov.</li>
<li>bpo-18672: Fixed format specifiers for Py_ssize_t in debugging output in
the _sre module.</li>
<li>bpo-18830: inspect.getclasstree() no more produces duplicated entries even
when input list contains duplicates.</li>
<li>bpo-18909: Fix _tkinter.tkapp.interpaddr() on Windows 64-bit, don&#8217;t cast
64-bit pointer to long (32 bits).</li>
<li>bpo-18876: The FileIO.mode attribute now better reflects the actual mode
under which the file was opened.  Patch by Erik Bray.</li>
<li>bpo-18418: After fork(), reinit all threads states, not only active ones.
Patch by A. Jesse Jiryu Davis.</li>
<li>bpo-16611: http.cookie now correctly parses the &#8216;secure&#8217; and &#8216;httponly&#8217;
cookie flags.</li>
<li>bpo-11973: Fix a problem in kevent. The flags and fflags fields are now
properly handled as unsigned.</li>
<li>bpo-17702: On error, os.environb now removes suppress the except context
when raising a new KeyError with the original key.</li>
<li>bpo-18755: Fixed the loader used in imp to allow get_data() to be called
multiple times.</li>
<li>bpo-16809: Fixed some tkinter incompabilities with Tcl/Tk 8.6.</li>
<li>bpo-16809: Tkinter&#8217;s splitlist() and split() methods now accept Tcl_Obj
argument.</li>
<li>bpo-18324: set_payload now correctly handles binary input.  This also
supersedes the previous fixes for #14360, #1717, and #16564.</li>
<li>bpo-17119: Fixed integer overflows when processing large strings and
tuples in the tkinter module.</li>
<li>bpo-18747: Re-seed OpenSSL&#8217;s pseudo-random number generator after fork. A
pthread_atfork() parent handler is used to seed the PRNG with pid, time
and some stack data.</li>
<li>bpo-8865: Concurrent invocation of select.poll.poll() now raises a
RuntimeError exception.  Patch by Christian Schubert.</li>
<li>bpo-13461: Fix a crash in the TextIOWrapper.tell method on 64-bit
platforms.  Patch by Yogesh Chaudhari.</li>
<li>bpo-18777: The ssl module now uses the new CRYPTO_THREADID API of OpenSSL
1.0.0+ instead of the deprecated CRYPTO id callback function.</li>
<li>bpo-18768: Correct doc string of RAND_edg(). Patch by Vajrasky Kok.</li>
<li>bpo-18178: Fix ctypes on BSD. dlmalloc.c was compiled twice which broke
malloc weak symbols.</li>
<li>bpo-18709: Fix CVE-2013-4238. The SSL module now handles NULL bytes inside
subjectAltName correctly. Formerly the module has used OpenSSL&#8217;s
GENERAL_NAME_print() function to get the string represention of ASN.1
strings for <tt class="docutils literal"><span class="pre">rfc822Name</span></tt> (email), <tt class="docutils literal"><span class="pre">dNSName</span></tt> (DNS) and
<tt class="docutils literal"><span class="pre">uniformResourceIdentifier</span></tt> (URI).</li>
<li>bpo-18756: Improve error reporting in os.urandom() when the failure is due
to something else than /dev/urandom not existing (for example, exhausting
the file descriptor limit).</li>
<li>bpo-18405: Improve the entropy of crypt.mksalt().</li>
<li>bpo-19151: Fix docstring and use of _get_supported_file_loaders() to
reflect 2-tuples.</li>
<li>bpo-18676: Change &#8216;positive&#8217; to &#8216;non-negative&#8217; in queue.py put and get
docstrings and ValueError messages. Patch by Zhongyue Luo</li>
<li>bpo-18681: Fix a NameError in imp.reload() (noticed by Weizhao Li).</li>
<li>bpo-8112: xlmrpc.server&#8217;s DocXMLRPCServer server no longer raises an error
if methods have annotations; it now correctly displays the annotations.</li>
<li>bpo-17998: Fix an internal error in regular expression engine.</li>
<li>bpo-17557: Fix os.getgroups() to work with the modified behavior of
getgroups(2) on OS X 10.8.  Original patch by Mateusz Lenik.</li>
<li>bpo-18599: Fix name attribute of _sha1.sha1() object. It now returns
&#8216;SHA1&#8217; instead of &#8216;SHA&#8217;.</li>
<li>bpo-18561: Skip name in ctypes&#8217; _build_callargs() if name is NULL.</li>
<li>bpo-18559: Fix NULL pointer dereference error in _pickle module</li>
<li>bpo-18556: Check the return value of a PyUnicode_AsWideChar() call in
ctypes&#8217; U_set().</li>
<li>bpo-18549: Eliminate dead code in socket_ntohl()</li>
<li>bpo-18514: Fix unreachable Py_DECREF() call in PyCData_FromBaseObj()</li>
<li>bpo-18513: Fix behaviour of cmath.rect w.r.t. signed zeros on OS X 10.8 +
gcc.</li>
<li>bpo-18480: Add missing call to PyType_Ready to the _elementtree extension.</li>
<li>bpo-17778: Fix test discovery for test_multiprocessing. (Patch by Zachary
Ware.)</li>
<li>bpo-18431: The new email header parser now decodes RFC2047 encoded words
in structured headers.</li>
<li>bpo-18432: The sched module&#8217;s queue method was incorrectly returning an
iterator instead of a list.</li>
<li>bpo-18044: The new email header parser was mis-parsing encoded words where
an encoded character immediately followed the &#8216;?&#8217; that follows the CTE
character, resulting in a decoding failure.  They are now decoded
correctly.</li>
<li>bpo-18101: Tcl.split() now process strings nested in a tuple as it do with
byte strings.</li>
<li>bpo-17198: Fix a NameError in the dbm module.  Patch by Valentina
Mukhamedzhanova.</li>
<li>bpo-18013: Fix cgi.FieldStorage to parse the W3C sample form.</li>
<li>bpo-18347: ElementTree&#8217;s html serializer now preserves the case of closing
tags.</li>
<li>bpo-17261: Ensure multiprocessing&#8217;s proxies use proper address.</li>
<li>bpo-18343: faulthandler.register() now keeps the previous signal handler
when the function is called twice, so faulthandler.unregister() restores
correctly the original signal handler.</li>
<li>bpo-17097: Make multiprocessing ignore EINTR.</li>
<li>bpo-18339: Negative ints keys in unpickler.memo dict no longer cause a
segfault inside the _pickle C extension.</li>
<li>bpo-18224: Removed pydoc script from created venv, as it causes problems
on Windows and adds no value over and above python -m pydoc ...</li>
<li>bpo-18155: The csv module now correctly handles csv files that use a
delimter character that has a special meaning in regexes, instead of
throwing an exception.</li>
<li>bpo-14360: encode_quopri can now be successfully used as an encoder when
constructing a MIMEApplication object.</li>
<li>bpo-18135: ssl.SSLSocket.write() now raises an OverflowError if the input
string in longer than 2 gigabytes, and ssl.SSLContext.load_cert_chain()
raises a ValueError if the password is longer than 2 gigabytes. The ssl
module does not support partial write.</li>
<li>bpo-18248: Fix libffi build on AIX.</li>
<li>bpo-18259: Declare sethostname in socketmodule.c for AIX</li>
<li>bpo-18167: cgi.FieldStorage no longer fails to handle multipart/form-data
when rn appears at end of 65535 bytes without other newlines.</li>
<li>subprocess: Prevent a possible double close of parent pipe fds when the
subprocess exec runs into an error.  Prevent a regular multi-close of the
/dev/null fd when any of stdin, stdout and stderr was set to DEVNULL.</li>
<li>bpo-16102: Make uuid._netbios_getnode() work again on Python 3.</li>
<li>bpo-18109: os.uname() now decodes fields from the locale encoding, and
socket.gethostname() now decodes the hostname from the locale encoding,
instead of using the UTF-8 encoding in strict mode.</li>
<li>bpo-17403: urllib.parse.robotparser normalizes the urls before adding to
ruleline. This helps in handling certain types invalid urls in a
conservative manner.</li>
<li>bpo-18025: Fixed a segfault in io.BufferedIOBase.readinto() when raw
stream&#8217;s read() returns more bytes than requested.</li>
<li>bpo-18011: As was originally intended, base64.b32decode() now raises a
binascii.Error if there are non-b32-alphabet characters present in the
input string, instead of a TypeError.</li>
<li>bpo-13772: Restored directory detection of targets in <tt class="docutils literal"><span class="pre">os.symlink</span></tt> on
Windows, which was temporarily removed in Python 3.2.3 due to an
incomplete implementation. The implementation now works even if the
symlink is created in a location other than the current directory.</li>
<li>bpo-16986: ElementTree now correctly parses a string input not only when
an internal XML encoding is UTF-8 or US-ASCII.</li>
<li>bpo-17812: Fixed quadratic complexity of base64.b32encode().</li>
<li>bpo-17980: Fix possible abuse of ssl.match_hostname() for denial of
service using certificates with many wildcards (CVE-2013-2099).</li>
<li>bpo-17981: Closed socket on error in SysLogHandler.</li>
<li>Fix typos in the multiprocessing module.</li>
<li>bpo-17754: Make ctypes.util.find_library() independent of the locale.</li>
<li>bpo-17968: Fix memory leak in os.listxattr().</li>
<li>bpo-17269: Workaround for socket.getaddrinfo crash on MacOS X with port
None or &#8220;0&#8221; and flags AI_NUMERICSERV.</li>
<li>bpo-18698: Ensure imp.reload() returns the module out of sys.modules.</li>
<li>bpo-18080: When building a C extension module on OS X, if the compiler is
overriden with the CC environment variable, use the new compiler as the
default for linking if LDSHARED is not also overriden.  This restores
Distutils behavior introduced in 3.2.3 and inadvertently dropped in 3.3.0.</li>
<li>bpo-18113: Fixed a refcount leak in the curses.panel module&#8217;s
set_userptr() method. Reported by Atsuo Ishimoto.</li>
<li>bpo-18849: Fixed a Windows-specific tempfile bug where collision with an
existing directory caused mkstemp and related APIs to fail instead of
retrying. Report and fix by Vlad Shcherbina.</li>
<li>bpo-19400: Prevent extension module build failures with Xcode 5 on OS X
10.8+ when using a universal Python that included a PPC architecture, such
as with a python.org 32-bit-only binary installer.</li>
</ul>
</div>
<div class="section" id="id24">
<h3>C API<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-18351: Fix various issues with a helper function in importlib used by
PyImport_ExecCodeModuleWithPathnames() (and thus by extension
PyImport_ExecCodeModule() and PyImport_ExecCodeModuleEx()).</li>
</ul>
</div>
<div class="section" id="id25">
<h3>IDLE<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-18873: IDLE now detects Python source code encoding only in comment
lines.</li>
<li>bpo-18988: The &#8220;Tab&#8221; key now works when a word is already autocompleted.</li>
<li>bpo-18489: Add tests for SearchEngine. Original patch by Phil Webster.</li>
<li>bpo-18429: Format / Format Paragraph, now works when comment blocks are
selected. As with text blocks, this works best when the selection only
includes complete lines.</li>
<li>bpo-18226: Add docstrings and unittests for FormatParagraph.py. Original
patches by Todd Rovito and Phil Webster.</li>
<li>bpo-18279: Format - Strip trailing whitespace no longer marks a file as
changed when it has not been changed. This fix followed the addition of a
test file originally written by Phil Webster (the issue&#8217;s main goal).</li>
<li>bpo-7136: In the Idle File menu, &#8220;New Window&#8221; is renamed &#8220;New File&#8221;. Patch
by Tal Einat, Roget Serwy, and Todd Rovito.</li>
<li>Remove dead imports of imp.</li>
<li>bpo-18196: Avoid displaying spurious SystemExit tracebacks.</li>
<li>bpo-5492: Avoid traceback when exiting IDLE caused by a race condition.</li>
<li>bpo-17511: Keep IDLE find dialog open after clicking &#8220;Find Next&#8221;. Original
patch by Sarah K.</li>
<li>bpo-18055: Move IDLE off of imp and on to importlib.</li>
<li>bpo-15392: Create a unittest framework for IDLE. Initial patch by
Rajagopalasarma Jayakrishnan. See Lib/idlelib/idle_test/README.txt for how
to run Idle tests.</li>
<li>bpo-14146: Highlight source line while debugging on Windows.</li>
<li>bpo-17532: Always include Options menu for IDLE on OS X. Patch by
Guilherme Simões.</li>
</ul>
</div>
<div class="section" id="id26">
<h3>Tests<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14407: Fix unittest test discovery in test_concurrent_futures.</li>
<li>bpo-18919: Unified and extended tests for audio modules: aifc, sunau and
wave.</li>
<li>bpo-18952: Fix regression in support data downloads introduced when
test.support was converted to a package. Regression noticed by Zachary
Ware.</li>
<li>bpo-12037: Fix test_email for desktop Windows.</li>
<li>bpo-15507: test_subprocess&#8217;s test_send_signal could fail if the test
runner were run in an environment where the process inherited an ignore
setting for SIGINT. Restore the SIGINT handler to the desired
KeyboardInterrupt raising one during that test.</li>
<li>bpo-18792: Use &#8220;127.0.0.1&#8221; or &#8221;::1&#8221; instead of &#8220;localhost&#8221; as much as
possible, since &#8220;localhost&#8221; goes through a DNS lookup under recent Windows
versions.</li>
<li>bpo-1666318: Add a test that shutil.copytree() retains directory
permissions.  Patch by Catherine Devlin.</li>
<li>bpo-18357: add tests for dictview set difference. Patch by Fraser
Tweedale.</li>
<li>bpo-18273: move the tests in Lib/test/json_tests to Lib/test/test_json and
make them discoverable by unittest.  Patch by Zachary Ware.</li>
<li>Fix a fcntl test case on KFreeBSD, Debian #708653 (Petr Salinger).</li>
<li>bpo-18396: Fix spurious test failure in test_signal on Windows when
faulthandler is enabled (Patch by Jeremy Kloth)</li>
<li>bpo-17046: Fix broken test_executable_without_cwd in test_subprocess.</li>
<li>bpo-15415: Add new temp_dir() and change_cwd() context managers to
test.support, and refactor temp_cwd() to use them.  Patch by Chris
Jerdonek.</li>
<li>bpo-15494: test.support is now a package rather than a module (Initial
patch by Indra Talip)</li>
<li>bpo-17944: test_zipfile now discoverable and uses subclassing to generate
tests for different compression types.  Fixed a bug with skipping some
tests due to use of exhausted iterators.</li>
<li>bpo-18266: test_largefile now works with unittest test discovery and
supports running only selected tests.  Patch by Zachary Ware.</li>
<li>bpo-17767: test_locale now works with unittest test discovery. Original
patch by Zachary Ware.</li>
<li>bpo-18375: Assume &#8211;randomize when &#8211;randseed is used for running the
testsuite.</li>
<li>bpo-11185: Fix test_wait4 under AIX.  Patch by Sébastien Sablé.</li>
<li>bpo-17691: test_univnewlines now works with unittest test discovery. Patch
by Zachary Ware.</li>
<li>bpo-18094: test_uuid no more reports skipped tests as passed.</li>
<li>bpo-11995: test_pydoc doesn&#8217;t import all sys.path modules anymore.</li>
</ul>
</div>
<div class="section" id="id27">
<h3>Documentation<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-19392: Document that <a class="reference internal" href="../library/imp.html#imp.reload" title="imp.reload"><tt class="xref py py-obj docutils literal"><span class="pre">imp.reload()</span></tt></a> now also requires <tt class="xref py py-obj docutils literal"><span class="pre">__loader__</span></tt> to
be set on the module being reloaded.</li>
<li>bpo-18758: Fixed and improved cross-references.</li>
<li>bpo-18743: Fix references to non-existant &#8220;StringIO&#8221; module.</li>
<li>bpo-18783: Removed existing mentions of Python long type in docstrings,
error messages and comments.</li>
<li>bpo-17701: Improving strftime documentation.</li>
<li>bpo-18440: Clarify that <a class="reference internal" href="../library/functions.html#hash" title="hash"><tt class="xref py py-obj docutils literal"><span class="pre">hash()</span></tt></a> can truncate the value returned from an
object&#8217;s custom <tt class="xref py py-obj docutils literal"><span class="pre">__hash__()</span></tt> method.</li>
<li>bpo-17953: Mention that you shouldn&#8217;t replace sys.modules and deleting key
items will cause Python to not be happy.</li>
<li>bpo-17844: Add links to encoders and decoders for bytes-to-bytes codecs.</li>
<li>bpo-14097: improve the &#8220;introduction&#8221; page of the tutorial.</li>
<li>bpo-17977: The documentation for the cadefault argument&#8217;s default value in
urllib.request.urlopen() is fixed to match the code.</li>
</ul>
</div>
<div class="section" id="id28">
<h3>Tools/Demos<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-18873: 2to3 and the findnocoding.py script now detect Python source
code encoding only in comment lines.</li>
<li>bpo-18817: Fix a resource warning in Lib/aifc.py demo.</li>
<li>bpo-18439: Make patchcheck work on Windows for ACKS, NEWS.</li>
<li>bpo-18448: Fix a typo in Tools/demo/eiffel.py.</li>
<li>bpo-18457: Fixed saving of formulas and complex numbers in
Tools/demo/ss1.py.</li>
<li>bpo-18449: Make Tools/demo/ss1.py work again on Python 3.  Patch by Févry
Thibault.</li>
<li>bpo-15239: Make mkstringprep.py work again on Python 3.</li>
<li>bpo-12990: The &#8220;Python Launcher&#8221; on OSX could not launch python scripts
that have paths that include wide characters.</li>
</ul>
</div>
<div class="section" id="id29">
<h3>Build<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-19356: Avoid using a C variabled named &#8220;_self&#8221;, it&#8217;s a reserved word
in some C compilers.</li>
<li>bpo-19130: Correct PCbuild/readme.txt, Python 3.3 and 3.4 require VS 2010.</li>
<li>bpo-16067: Add description into MSI file to replace installer&#8217;s temporary
name.</li>
<li>bpo-18256: Compilation fix for recent AIX releases.  Patch by David
Edelsohn.</li>
<li>bpo-15172: Document NASM 2.10+ as requirement for building OpenSSL 1.0.1
on Windows.</li>
<li>bpo-1584: Provide options to override default search paths for Tcl and Tk
when building _tkinter.</li>
<li>bpo-15663: Tcl/Tk 8.5.15 is now included with the OS X 10.6+ 64-bit/32-bit
installer for 10.6+.  It is no longer necessary to install a third-party
version of Tcl/Tk 8.5 to work around the problems in the Apple-supplied
Tcl/Tk 8.5 shipped in OS X 10.6 and later releases.</li>
<li>bpo-19019: Change the OS X installer build script to use CFLAGS instead of
OPT for special build options.  By setting OPT, some compiler-specific
options like -fwrapv were overridden and thus not used, which could result
in broken interpreters when building with clang.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-2-final">
<h2>Python 3.3.2 final<a class="headerlink" href="#python-3-3-2-final" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 13-May-2013</em></p>
<div class="section" id="id30">
<h3>Core and Builtins<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17237: Fix crash in the ASCII decoder on m68k.</li>
<li>bpo-17408: Avoid using an obsolete instance of the copyreg module when the
interpreter is shutdown and then started again.</li>
<li>bpo-17863: In the interactive console, don&#8217;t loop forever if the encoding
can&#8217;t be fetched from stdin.</li>
<li>bpo-17867: Raise an ImportError if __import__ is not found in
__builtins__.</li>
<li>bpo-17857: Prevent build failures with pre-3.5.0 versions of sqlite3, such
as was shipped with Centos 5 and Mac OS X 10.4.</li>
<li>bpo-17413: sys.settrace callbacks were being passed a string instead of an
exception instance for the &#8216;value&#8217; element of the arg tuple if the
exception originated from C code; now an exception instance is always
provided.</li>
<li>bpo-17782: Fix undefined behaviour on platforms where <tt class="docutils literal"><span class="pre">struct</span>
<span class="pre">timespec</span></tt>&#8216;s &#8220;tv_nsec&#8221; member is not a C long.</li>
<li>bpo-17715: Fix segmentation fault from raising an exception in a __trunc__
method.</li>
<li>bpo-16447: Fixed potential segmentation fault when setting __name__ on a
class.</li>
<li>bpo-17669: Fix crash involving finalization of generators using yield
from.</li>
<li>bpo-17619: Make input() check for Ctrl-C correctly on Windows.</li>
<li>bpo-17610: Don&#8217;t rely on non-standard behavior of the C qsort() function.</li>
<li>bpo-17357: Add missing verbosity output when using -v/-vv.</li>
</ul>
</div>
<div class="section" id="id31">
<h3>Library<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17606: Fixed support of encoded byte strings in the XMLGenerator
characters() and ignorableWhitespace() methods.  Original patch by
Sebastian Ortiz Vasquez.</li>
<li>bpo-17732: Ignore distutils.cfg options pertaining to install paths if a
virtual environment is active.</li>
<li>bpo-1159051: Back out a fix for handling corrupted gzip files that broke
backwards compatibility.</li>
<li>bpo-17915: Fix interoperability of xml.sax with file objects returned by
codecs.open().</li>
<li>bpo-16601: Restarting iteration over tarfile no more continues from where
it left off. Patch by Michael Birtwell.</li>
<li>bpo-17289: The readline module now plays nicer with external modules or
applications changing the rl_completer_word_break_characters global
variable.  Initial patch by Bradley Froehle.</li>
<li>bpo-12181: select module: Fix struct kevent definition on OpenBSD 64-bit
platforms. Patch by Federico Schwindt.</li>
<li>bpo-14173: Avoid crashing when reading a signal handler during interpreter
shutdown.</li>
<li>bpo-16316: mimetypes now recognizes the .xz and .txz (.tar.xz) extensions.</li>
<li>bpo-15902: Fix imp.load_module() accepting None as a file when loading an
extension module.</li>
<li>bpo-17802: Fix an UnboundLocalError in html.parser.  Initial tests by
Thomas Barlow.</li>
<li>bpo-15535: Fix namedtuple pickles which were picking up the OrderedDict
instead of just the underlying tuple.</li>
<li>bpo-17192: Restore the patch for <a class="reference external" href="https://bugs.python.org/11729">Issue #11729</a> which was ommitted in 3.3.1
when updating the bundled version of libffi used by ctypes.  Update many
libffi files that were missed in 3.3.1&#8217;s update to libffi-3.0.13.</li>
<li>bpo-17358: Modules loaded by imp.load_source() and load_compiled() (and by
extention load_module()) now have a better chance of working when
reloaded.</li>
<li>bpo-17353: Plistlib emitted empty data tags with deeply nested
datastructures</li>
<li>bpo-11714: Use &#8216;with&#8217; statements to assure a Semaphore releases a
condition variable. Original patch by Thomas Rachel.</li>
<li>bpo-17795: Reverted backwards-incompatible change in SysLogHandler with
Unix domain sockets.</li>
<li>bpo-17555: Fix ForkAwareThreadLock so that size of after fork registry
does not grow exponentially with generation of process.</li>
<li>bpo-17707: multiprocessing.Queue&#8217;s get() method does not block for short
timeouts.</li>
<li>Isuse #17720: Fix the Python implementation of pickle.Unpickler to
correctly process the APPENDS opcode when it is used on non-list objects.</li>
<li>bpo-17012: shutil.which() no longer fallbacks to the PATH environment
variable if empty path argument is specified.  Patch by Serhiy Storchaka.</li>
<li>bpo-17710: Fix pickle raising a SystemError on bogus input.</li>
<li>bpo-17341: Include the invalid name in the error messages from re about
invalid group names.</li>
<li>bpo-17702: os.environ now raises KeyError with the original environment
variable name (str on UNIX), instead of using the encoded name (bytes on
UNIX).</li>
<li>bpo-16163: Make the importlib based version of pkgutil.iter_importers work
for submodules. Initial patch by Berker Peksag.</li>
<li>bpo-16804: Fix a bug in the &#8216;site&#8217; module that caused running &#8216;python -S
-m site&#8217; to incorrectly throw an exception.</li>
<li>bpo-17016: Get rid of possible pointer wraparounds and integer overflows
in the re module.  Patch by Nickolai Zeldovich.</li>
<li>bpo-16658: add missing return to HTTPConnection.send() Patch by Jeff
Knupp.</li>
<li>bpo-14971: unittest test discovery no longer gets confused when a function
has a different __name__ than its name in the TestCase class dictionary.</li>
<li>bpo-17678: Fix DeprecationWarning in the http/cookiejar.py by changing the
usage of get_origin_req_host() to origin_req_host.</li>
<li>bpo-17666: Fix reading gzip files with an extra field.</li>
<li>bpo-17502: Process DEFAULT values in mock side_effect that returns
iterator. Patch by Michael Foord.</li>
<li>bpo-17572: Avoid chained exceptions while passing bad directives to
time.strptime(). Initial patch by Claudiu Popa.</li>
<li>bpo-17435: threading.Timer&#8217;s __init__ method no longer uses mutable
default values for the args and kwargs parameters.</li>
<li>bpo-17526: fix an IndexError raised while passing code without filename to
inspect.findsource().  Initial patch by Tyler Doyle.</li>
<li>bpo-16550: Update the opcode descriptions of pickletools to use unsigned
integers where appropriate.  Initial patch by Serhiy Storchaka.</li>
</ul>
</div>
<div class="section" id="id32">
<h3>IDLE<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17838: Allow sys.stdin to be reassigned.</li>
<li>bpo-13495: Avoid loading the color delegator twice in IDLE.</li>
<li>bpo-17798: Allow IDLE to edit new files when specified on command line.</li>
<li>bpo-14735: Update IDLE docs to omit &#8220;Control-z on Windows&#8221;.</li>
<li>bpo-17585: Fixed IDLE regression. Now closes when using exit() or quit().</li>
<li>bpo-17657: Show full Tk version in IDLE&#8217;s about dialog. Patch by Todd
Rovito.</li>
<li>bpo-17613: Prevent traceback when removing syntax colorizer in IDLE.</li>
<li>bpo-1207589: Backwards-compatibility patch for right-click menu in IDLE.</li>
<li>bpo-16887: IDLE now accepts Cancel in tabify/untabify dialog box.</li>
<li>bpo-17625: In IDLE, close the replace dialog after it is used.</li>
<li>bpo-14254: IDLE now handles readline correctly across shell restarts.</li>
<li>bpo-17614: IDLE no longer raises exception when quickly closing a file.</li>
<li>bpo-6698: IDLE now opens just an editor window when configured to do so.</li>
<li>bpo-8900: Using keyboard shortcuts in IDLE to open a file no longer raises
an exception.</li>
<li>bpo-6649: Fixed missing exit status in IDLE. Patch by Guilherme Polo.</li>
</ul>
</div>
<div class="section" id="id33">
<h3>Tests<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17833: Fix test_gdb failures seen on machines where debug symbols for
glibc are available (seen on PPC64 Linux).</li>
<li>bpo-7855: Add tests for ctypes/winreg for issues found in IronPython.
Initial patch by Dino Viehland.</li>
<li>bpo-17712: Fix test_gdb failures on Ubuntu 13.04.</li>
<li>bpo-17835: Fix test_io when the default OS pipe buffer size is larger than
one million bytes.</li>
<li>bpo-17065: Use process-unique key for winreg tests to avoid failures if
test is run multiple times in parallel (eg: on a buildbot host).</li>
<li>bpo-12820: add tests for the xml.dom.minicompat module. Patch by John
Chandler and Phil Connell.</li>
<li>bpo-17790: test_set now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17789: test_random now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17779: test_osx_env now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17766: test_iterlen now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17690: test_time now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17692: test_sqlite now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17843: Removed bz2 test data file that was triggering false-positive
virus warnings with certain antivirus software.</li>
</ul>
</div>
<div class="section" id="id34">
<h3>Documentation<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15940: Specify effect of locale on time functions.</li>
<li>bpo-6696: add documentation for the Profile objects, and improve
profile/cProfile docs.  Patch by Tom Pinckney.</li>
<li>bpo-17915: Fix interoperability of xml.sax with file objects returned by
codecs.open().</li>
</ul>
</div>
<div class="section" id="id35">
<h3>Build<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17547: In configure, explicitly pass -Wformat for the benefit for GCC
4.8.</li>
<li>bpo-17962: Build with OpenSSL 1.0.1e on Windows.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-1-final">
<h2>Python 3.3.1 final<a class="headerlink" href="#python-3-3-1-final" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 07-Apr-2013</em></p>
<div class="section" id="id36">
<h3>Build<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17550: Fix the &#8211;enable-profiling configure switch.</li>
</ul>
</div>
<div class="section" id="id37">
<h3>IDLE<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17625: In IDLE, close the replace dialog after it is used.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-1-release-candidate-1">
<h2>Python 3.3.1 release candidate 1<a class="headerlink" href="#python-3-3-1-release-candidate-1" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 24-Mar-2013</em></p>
<div class="section" id="id38">
<h3>Core and Builtins<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17328: Fix possible refleak in dict.setdefault.</li>
<li>bpo-17223: Fix PyUnicode_FromUnicode() for string of 1 character outside
the range U+0000-U+10ffff.</li>
<li>bpo-1692335: Move initial args assignment to BaseException.__new__ to help
pickling of naive subclasses.</li>
<li>bpo-17275: Corrected class name in init error messages of the C version of
BufferedWriter and BufferedRandom.</li>
<li>bpo-7963: Fixed misleading error message that issued when object is called
without arguments.</li>
<li>bpo-5308: Raise ValueError when marshalling too large object (a sequence
with size &gt;= 2**31), instead of producing illegal marshal data.</li>
<li>bpo-12983: Bytes literals with invalid x escape now raise a SyntaxError
and a full traceback including line number.</li>
<li>bpo-17173: Remove uses of locale-dependent C functions (isalpha() etc.) in
the interpreter.</li>
<li>bpo-17137: When an Unicode string is resized, the internal wide character
string (wstr) format is now cleared.</li>
<li>bpo-17043: The unicode-internal decoder no longer read past the end of
input buffer.</li>
<li>bpo-17098: All modules now have __loader__ set even if they pre-exist the
bootstrapping of importlib.</li>
<li>bpo-16979: Fix error handling bugs in the unicode-escape-decode decoder.</li>
<li>bpo-10156: In the interpreter&#8217;s initialization phase, unicode globals are
now initialized dynamically as needed.</li>
<li>bpo-16980: Fix processing of escaped non-ascii bytes in the unicode-
escape-decode decoder.</li>
<li>bpo-16975: Fix error handling bug in the escape-decode bytes decoder.</li>
<li>bpo-14850: Now a charmap decoder treats U+FFFE as &#8220;undefined mapping&#8221; in
any mapping, not only in a string.</li>
<li>bpo-16730: importlib.machinery.FileFinder now no longers raises an
exception when trying to populate its cache and it finds out the directory
is unreadable or has turned into a file. Reported and diagnosed by David
Pritchard.</li>
<li>bpo-16906: Fix a logic error that prevented most static strings from being
cleared.</li>
<li>bpo-11461: Fix the incremental UTF-16 decoder. Original patch by Amaury
Forgeot d&#8217;Arc.</li>
<li>bpo-16856: Fix a segmentation fault from calling repr() on a dict with a
key whose repr raise an exception.</li>
<li>bpo-16367: Fix FileIO.readall() on Windows for files larger than 2 GB.</li>
<li>bpo-16455: On FreeBSD and Solaris, if the locale is C, the
ASCII/surrogateescape codec is now used, instead of the locale encoding,
to decode the command line arguments. This change fixes inconsistencies
with os.fsencode() and os.fsdecode() because these operating systems
announces an ASCII locale encoding, whereas the ISO-8859-1 encoding is
used in practice.</li>
<li>bpo-16761: Calling int() with base argument only now raises TypeError.</li>
<li>bpo-16759: Support the full DWORD (unsigned long) range in Reg2Py when
retrieving a REG_DWORD value. This corrects functions like
winreg.QueryValueEx that may have been returning truncated values.</li>
<li>bpo-14420: Support the full DWORD (unsigned long) range in Py2Reg when
passed a REG_DWORD value. Fixes OverflowError in winreg.SetValueEx.</li>
<li>bpo-16597: In buffered and text IO, call close() on the underlying stream
if invoking flush() fails.</li>
<li>bpo-16722: In the bytes() constructor, try to call __bytes__ on the
argument before __index__.</li>
<li>bpo-16602: When a weakref&#8217;s target was part of a long deallocation chain,
the object could remain reachable through its weakref even though its
refcount had dropped to zero.</li>
<li>bpo-16416: On Mac OS X, operating system data are now always
encoded/decoded to/from UTF-8/surrogateescape, instead of the locale
encoding (which may be ASCII if no locale environment variable is set), to
avoid inconsistencies with os.fsencode() and os.fsdecode() functions which
are already using UTF-8/surrogateescape.</li>
<li>bpo-16588: Silence unused-but-set warnings in Python/thread_pthread</li>
<li>bpo-16546: Fix: ast.YieldFrom argument is now mandatory.</li>
<li>bpo-16514: Fix regression causing a traceback when sys.path[0] is None
(actually, any non-string or non-bytes type).</li>
<li>bpo-16306: Fix multiple error messages when unknown command line
parameters where passed to the interpreter.  Patch by Hieu Nguyen.</li>
<li>bpo-16215: Fix potential double memory free in str.replace().  Patch by
Serhiy Storchaka.</li>
<li>bpo-16453: Fix equality testing of dead weakref objects.</li>
<li>bpo-9535: Fix pending signals that have been received but not yet handled
by Python to not persist after os.fork() in the child process.</li>
<li>bpo-15001: fix segfault on &#8220;del sys.modules[&#8216;__main__&#8217;]&#8221;. Patch by Victor
Stinner.</li>
<li>bpo-8271: the utf-8 decoder now outputs the correct number of U+FFFD
characters when used with the &#8216;replace&#8217; error handler on invalid utf-8
sequences.  Patch by Serhiy Storchaka, tests by Ezio Melotti.</li>
<li>bpo-5765: Apply a hard recursion limit in the compiler instead of blowing
the stack and segfaulting. Initial patch by Andrea Griffini.</li>
<li>bpo-16402: When slicing a range, fix shadowing of exceptions from
__index__.</li>
<li>bpo-16336: fix input checking in the surrogatepass error handler. Patch by
Serhiy Storchaka.</li>
<li>bpo-8401: assigning an int to a bytearray slice (e.g. b[3:4] = 5) now
raises an error.</li>
<li>Fix segfaults on setting __qualname__ on builtin types and attempting to
delete it on any type.</li>
<li>bpo-16345: Fix an infinite loop when <tt class="docutils literal"><span class="pre">fromkeys</span></tt> on a dict subclass
received a nonempty dict from the constructor.</li>
<li>bpo-16271: Fix strange bugs that resulted from __qualname__ appearing in a
class&#8217;s __dict__ and on type.</li>
<li>bpo-6074: Ensure cached bytecode files can always be updated by the user
that created them, even when the source file is read-only.</li>
<li>bpo-14783: Improve int() docstring and switch docstrings for str(),
range(), and slice() to use multi-line signatures.</li>
<li>bpo-16160: Subclass support now works for types.SimpleNamespace.</li>
<li>bpo-15379: Fix passing of non-BMP characters as integers for the charmap
decoder (already working as unicode strings).  Patch by Serhiy Storchaka.</li>
<li>bpo-15144: Fix possible integer overflow when handling pointers as integer
values, by using <tt class="xref py py-obj docutils literal"><span class="pre">Py_uintptr_t</span></tt> instead of <tt class="xref py py-obj docutils literal"><span class="pre">size_t</span></tt>.  Patch by Serhiy
Storchaka.</li>
<li>bpo-15965: Explicitly cast <tt class="xref py py-obj docutils literal"><span class="pre">AT_FDCWD</span></tt> as (int).  Required on Solaris 10
(which defines <tt class="xref py py-obj docutils literal"><span class="pre">AT_FDCWD</span></tt> as <tt class="docutils literal"><span class="pre">0xffd19553</span></tt>), harmless on other platforms.</li>
<li>bpo-15839: Convert SystemErrors in <a class="reference internal" href="../library/functions.html#super" title="super"><tt class="xref py py-obj docutils literal"><span class="pre">super()</span></tt></a> to RuntimeErrors.</li>
<li>bpo-15846: Fix SystemError which happened when using <a class="reference internal" href="../library/ast.html#ast.parse" title="ast.parse"><tt class="xref py py-obj docutils literal"><span class="pre">ast.parse()</span></tt></a> in an
exception handler on code with syntax errors.</li>
<li>bpo-15801: Make sure mappings passed to &#8216;%&#8217; formatting are actually
subscriptable.</li>
<li>bpo-15111: __import__ should let ImportError propagate when a module that
is imported as a side-effect of using fromlist tries to import a module
that cannot be found.</li>
</ul>
</div>
<div class="section" id="id39">
<h3>Library<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17540: Added style to formatter configuration by dict.</li>
<li>bpo-17536: Add to webbrowser&#8217;s browser list: www-browser, x-www-browser,
iceweasel, iceape.</li>
<li>bpo-17488: Change the subprocess.Popen bufsize parameter default value
from unbuffered (0) to buffering (-1) to match the behavior existing code
expects and match the behavior of the subprocess module in Python 2 to
avoid introducing hard to track down bugs.</li>
<li>bpo-17521: Corrected non-enabling of logger following two calls to
fileConfig().</li>
<li>bpo-17508: Corrected MemoryHandler configuration in dictConfig() where the
target handler wasn&#8217;t configured first.</li>
<li>bpo-17209: curses.window.get_wch() now handles correctly KeyboardInterrupt
(CTRL+c).</li>
<li>bpo-5713: smtplib now handles 421 (closing connection) error codes when
sending mail by closing the socket and reporting the 421 error code via
the exception appropriate to the command that received the error response.</li>
<li>bpo-17192: Update the ctypes module&#8217;s libffi to v3.0.13.  This
specifically addresses a stack misalignment issue on x86 and issues on
some more recent platforms.</li>
<li>bpo-8862: Fixed curses cleanup when getkey is interrputed by a signal.</li>
<li>bpo-17443: imaplib.IMAP4_stream was using the default unbuffered IO in
subprocess, but the imap code assumes buffered IO.  In Python2 this worked
by accident. IMAP4_stream now explicitly uses buffered IO.</li>
<li>bpo-17476: Fixed regression relative to Python2 in undocumented pydoc
&#8216;allmethods&#8217;; it was missing unbound methods on the class.</li>
<li>bpo-16880: Do not assume _imp.load_dynamic() is defined in the imp module.</li>
<li>bpo-16389: Fixed a performance regression relative to Python 3.1 in the
caching of compiled regular expressions.</li>
<li>bpo-17431: Fix missing import of BytesFeedParser in email.parser.</li>
<li>bpo-1285086: Get rid of the refcounting hack and speed up
urllib.parse.unquote() and urllib.parse.unquote_to_bytes().</li>
<li>bpo-17368: Fix an off-by-one error in the Python JSON decoder that caused
a failure while decoding empty object literals when object_pairs_hook was
specified.</li>
<li>bpo-14645: The email generator classes now produce output using the
specified linesep throughout.  Previously if the prolog, epilog, or body
were stored with a different linesep, that linesep was used.  This fix
corrects an RFC non- compliance issue with smtplib.send_message.</li>
<li>bpo-17278: Fix a crash in heapq.heappush() and heapq.heappop() when the
list is being resized concurrently.</li>
<li>bpo-16962: Use getdents64 instead of the obsolete getdents syscall in the
subprocess module on Linux.</li>
<li>bpo-17018: Make Process.join() retry if os.waitpid() fails with EINTR.</li>
<li>bpo-17223: array module: Fix a crasher when converting an array containing
invalid characters (outside range [U+0000; U+10ffff]) to Unicode:
repr(array), str(array) and array.tounicode(). Patch written by Manuel
Jacob.</li>
<li>bpo-14720: sqlite3: Convert datetime microseconds correctly. Patch by Lowe
Thiderman.</li>
<li>bpo-17225: JSON decoder now counts columns in the first line starting with
1, as in other lines.</li>
<li>bpo-13700: Fix byte/string handling in imaplib authentication when an
authobject is specified.</li>
<li>bpo-13153: Tkinter functions now raise TclError instead of ValueError when
a string argument contains non-BMP character.</li>
<li>bpo-9669: Protect re against infinite loops on zero-width matching in non-
greedy repeat.  Patch by Matthew Barnett.</li>
<li>bpo-13169: The maximal repetition number in a regular expression has been
increased from 65534 to 2147483647 (on 32-bit platform) or 4294967294 (on
64-bit).</li>
<li>bpo-17143: Fix a missing import in the trace module.  Initial patch by
Berker Peksag.</li>
<li>bpo-16743: Fix mmap overflow check on 32 bit Windows.</li>
<li>bpo-16800: tempfile.gettempdir() no longer left temporary files when the
disk is full. Original patch by Amir Szekely.</li>
<li>bpo-16564: Fixed regression relative to Python2 in the operation of
email.encoders.encode_7or8bit when used with binary data.</li>
<li>bpo-17052: unittest discovery should use self.testLoader.</li>
<li>bpo-4591: Uid and gid values larger than 2**31 are supported now.</li>
<li>bpo-17141: random.vonmisesvariate() no more hangs for large kappas.</li>
<li>bpo-17149: Fix random.vonmisesvariate to always return results in [0,
2*math.pi].</li>
<li>bpo-1470548: XMLGenerator now works with binary output streams.</li>
<li>bpo-6975: os.path.realpath() now correctly resolves multiple nested
symlinks on POSIX platforms.</li>
<li>bpo-16564: Fixed regression relative to Python2 in the operation of
email.encoders.encode_noop when used with binary data.</li>
<li>bpo-10355: The mode, name, encoding and newlines properties now work on
SpooledTemporaryFile objects even when they have not yet rolled over.
Obsolete method xreadline (which has never worked in Python 3) has been
removed.</li>
<li>bpo-16686: Fixed a lot of bugs in audioop module.  Fixed crashes in
avgpp(), maxpp() and ratecv().  Fixed an integer overflow in add(),
bias(), and ratecv(). reverse(), lin2lin() and ratecv() no more lose
precision for 32-bit samples. max() and rms() no more returns a negative
result and various other functions now work correctly with 32-bit sample
-0x80000000.</li>
<li>bpo-17073: Fix some integer overflows in sqlite3 module.</li>
<li>bpo-16723: httplib.HTTPResponse no longer marked closed when the
connection is automatically closed.</li>
<li>bpo-16948: Fix quoted printable body encoding for non-latin1 character
sets in the email package.</li>
<li>bpo-16811: Fix folding of headers with no value in the provisional email
policies.</li>
<li>bpo-17132: Update symbol for &#8220;yield from&#8221; grammar changes.</li>
<li>bpo-17076: Make copying of xattrs more permissive of missing FS support.
Patch by Thomas Wouters.</li>
<li>bpo-17089: Expat parser now correctly works with string input not only
when an internal XML encoding is UTF-8 or US-ASCII.  It now accepts bytes
and strings larger than 2 GiB.</li>
<li>bpo-6083: Fix multiple segmentation faults occured when PyArg_ParseTuple
parses nested mutating sequence.</li>
<li>bpo-5289: Fix ctypes.util.find_library on Solaris.</li>
<li>bpo-17106: Fix a segmentation fault in io.TextIOWrapper when an underlying
stream or a decoder produces data of an unexpected type (i.e. when
io.TextIOWrapper initialized with text stream or use bytes-to-bytes
codec).</li>
<li>bpo-15633: httplib.HTTPResponse is now mark closed when the server sends
less than the advertised Content-Length.</li>
<li>bpo-12268: The io module file object write methods no longer abort early
when one of its write system calls is interrupted (EINTR).</li>
<li>bpo-6972: The zipfile module no longer overwrites files outside of its
destination path when extracting malicious zip files.</li>
<li>bpo-4844: ZipFile now raises BadZipFile when opens a ZIP file with an
incomplete &#8220;End of Central Directory&#8221; record.  Original patch by Guilherme
Polo and Alan McIntyre.</li>
<li>bpo-17071: Signature.bind() now works when one of the keyword arguments is
named <tt class="docutils literal"><span class="pre">self</span></tt>.</li>
<li>bpo-12004: Fix an internal error in PyZipFile when writing an invalid
Python file. Patch by Ben Morgan.</li>
<li>bpo-1602133: on Mac OS X a shared library build (<tt class="docutils literal"><span class="pre">--enable-shared</span></tt>) now
fills the <tt class="docutils literal"><span class="pre">os.environ</span></tt> variable correctly.</li>
<li>bpo-15505: <a class="reference internal" href="../library/unittest.html#unittest.installHandler" title="unittest.installHandler"><tt class="xref py py-obj docutils literal"><span class="pre">unittest.installHandler</span></tt></a> no longer assumes SIGINT handler is
set to a callable object.</li>
<li>bpo-13454: Fix a crash when deleting an iterator created by
itertools.tee() if all other iterators were very advanced before.</li>
<li>bpo-12411: Fix to cgi.parse_multipart to correctly use bytes boundaries
and bytes data. Patch by Jonas Wagner.</li>
<li>bpo-16957: shutil.which() no longer searches a bare file name in the
current directory on Unix and no longer searches a relative file path with
a directory part in PATH directories.  Patch by Thomas Kluyver.</li>
<li>bpo-16993: shutil.which() now preserves the case of the path and extension
on Windows.</li>
<li>bpo-16992: On Windows in signal.set_wakeup_fd, validate the file
descriptor argument.</li>
<li>bpo-16422: For compatibility with the Python version, the C version of
decimal now uses strings instead of integers for rounding mode constants.</li>
<li>bpo-15861: tkinter now correctly works with lists and tuples containing
strings with whitespaces, backslashes or unbalanced braces.</li>
<li>bpo-10527: Use poll() instead of select() for multiprocessing pipes.</li>
<li>bpo-9720: zipfile now writes correct local headers for files larger than 4
GiB.</li>
<li>bpo-16955: Fix the poll() method for multiprocessing&#8217;s socket connections
on Windows.</li>
<li>SSLContext.load_dh_params() now properly closes the input file.</li>
<li>bpo-16900: Issue a ResourceWarning when an ssl socket is left unclosed.</li>
<li>bpo-13899: A, Z, and B now correctly match the A, Z, and B literals
when used inside character classes (e.g. &#8216;[A]&#8217;).  Patch by Matthew
Barnett.</li>
<li>bpo-15545: Fix regression in sqlite3&#8217;s iterdump method where it was
failing if the connection used a row factory (such as sqlite3.Row) that
produced unsortable objects. (Regression was introduced by fix for 9750).</li>
<li>bpo-15972: Fix error messages when os functions expecting a file name or
file descriptor receive the incorrect type.</li>
<li>bpo-16828: Fix error incorrectly raised by bz2.compress(b&#8217;&#8216;) and
bz2.BZ2Compressor.compress(b&#8217;&#8216;). Initial patch by Martin Packman.</li>
<li>bpo-16541: tk_setPalette() now works with keyword arguments.</li>
<li>bpo-16820: In configparser, <tt class="xref py py-obj docutils literal"><span class="pre">parser.popitem()</span></tt> no longer raises
ValueError. This makes <tt class="xref py py-obj docutils literal"><span class="pre">parser.clean()</span></tt> work correctly.</li>
<li>bpo-16820: In configparser, <tt class="docutils literal"><span class="pre">parser['section']</span> <span class="pre">=</span> <span class="pre">{}</span></tt> now preserves
section order within the parser. This makes <tt class="xref py py-obj docutils literal"><span class="pre">parser.update()</span></tt> preserve
section order as well.</li>
<li>bpo-16820: In configparser, <tt class="docutils literal"><span class="pre">parser['DEFAULT']</span> <span class="pre">=</span> <span class="pre">{}</span></tt> now correctly
clears previous values stored in the default section. Same goes for
<tt class="docutils literal"><span class="pre">parser.update({'DEFAULT':</span> <span class="pre">{}})</span></tt>.</li>
<li>bpo-9586: Redefine SEM_FAILED on MacOSX to keep compiler happy.</li>
<li>bpo-10527: make multiprocessing use poll() instead of select() if
available.</li>
<li>bpo-16688: Now regexes contained backreferences correctly work with non-
ASCII strings. Patch by Matthew Barnett.</li>
<li>bpo-16485: Now file descriptors are closed if file header patching failed
on closing an aifc file.</li>
<li>bpo-16165: sched.scheduler.run() no longer blocks a scheduler for other
threads.</li>
<li>bpo-16641: Default values of sched.scheduler.enter() are no longer
modifiable.</li>
<li>bpo-16618: Make glob.glob match consistently across strings and bytes
regarding leading dots.  Patch by Serhiy Storchaka.</li>
<li>bpo-16713: Parsing of &#8216;tel&#8217; urls using urlparse separates params from
path.</li>
<li>bpo-16443: Add docstrings to regular expression match objects. Patch by
Anton Kasyanov.</li>
<li>bpo-15701: Fix HTTPError info method call to return the headers
information.</li>
<li>bpo-16752: Add a missing import to modulefinder. Patch by Berker Peksag.</li>
<li>bpo-16646: ftplib.FTP.makeport() might lose socket error details. (patch
by Serhiy Storchaka)</li>
<li>bpo-16626: Fix infinite recursion in glob.glob() on Windows when the
pattern contains a wildcard in the drive or UNC path.  Patch by Serhiy
Storchaka.</li>
<li>bpo-15783: Except for the number methods, the C version of decimal now
supports all None default values present in decimal.py. These values were
largely undocumented.</li>
<li>bpo-16298: In HTTPResponse.read(), close the socket when there is no
Content-Length and the incoming stream is finished.  Patch by Eran
Rundstein.</li>
<li>bpo-15872: Fix 3.3 regression introduced by the new fd-based shutil.rmtree
that caused it to not ignore certain errors when ignore_errors was set.
Patch by Alessandro Moura and Serhiy Storchaka.</li>
<li>bpo-16248: Disable code execution from the user&#8217;s home directory by
tkinter when the -E flag is passed to Python.  Patch by Zachary Ware.</li>
<li>bpo-16628: Fix a memory leak in ctypes.resize().</li>
<li>bpo-13614: Fix setup.py register failure with invalid rst in description.
Patch by Julien Courteau and Pierre Paul Lefebvre.</li>
<li>bpo-13512: Create ~/.pypirc securely (CVE-2011-4944).  Initial patch by
Philip Jenvey, tested by Mageia and Debian.</li>
<li>bpo-7719: Make distutils ignore <tt class="docutils literal"><span class="pre">.nfs*</span></tt> files instead of choking later
on.  Initial patch by SilentGhost and Jeff Ramnani.</li>
<li>bpo-13120: Allow to call pdb.set_trace() from thread. Patch by Ilya
Sandler.</li>
<li>bpo-16585: Make CJK encoders support error handlers that return bytes per
PEP 383.</li>
<li>bpo-10182: The re module doesn&#8217;t truncate indices to 32 bits anymore.
Patch by Serhiy Storchaka.</li>
<li>bpo-16573: In 2to3, treat enumerate() like a consuming call, so
superfluous list() calls aren&#8217;t added to filter(), map(), and zip() which
are directly passed enumerate().</li>
<li>bpo-12848: The pure Python pickle implementation now treats object lengths
as unsigned 32-bit integers, like the C implementation does. Patch by
Serhiy Storchaka.</li>
<li>bpo-16408: Fix file descriptors not being closed in error conditions in
the zipfile module.  Patch by Serhiy Storchaka.</li>
<li>bpo-16481: multiprocessing no longer leaks process handles on Windows.</li>
<li>bpo-16140: The subprocess module no longer double closes its child
subprocess.PIPE parent file descriptors on child error prior to exec().</li>
<li>Remove a bare print to stdout from the subprocess module that could have
happened if the child process wrote garbage to its pre-exec error pipe.</li>
<li>bpo-16327: The subprocess module no longer leaks file descriptors used for
stdin/stdout/stderr pipes to the child when fork() fails.</li>
<li>bpo-14396: Handle the odd rare case of waitpid returning 0 when not
expected in subprocess.Popen.wait().</li>
<li>bpo-16411: Fix a bug where zlib.decompressobj().flush() might try to
access previously- freed memory. Patch by Serhiy Storchaka.</li>
<li>bpo-16357: fix calling accept() on a SSLSocket created through
SSLContext.wrap_socket().  Original patch by Jeff McNeil.</li>
<li>bpo-16409: The reporthook callback made by the legacy
urllib.request.urlretrieve API now properly supplies a constant non-zero
block_size as it did in Python 3.2 and 2.7.  This matches the behavior of
urllib.request.URLopener.retrieve.</li>
<li>bpo-16431: Use the type information when constructing a Decimal subtype
from a Decimal argument.</li>
<li>bpo-16350: zlib.decompressobj().decompress() now accumulates data from
successive calls after EOF in unused_data, instead of only saving the
argument to the last call. decompressobj().flush() now correctly sets
unused_data and unconsumed_tail. A bug in the handling of MemoryError when
setting the unconsumed_tail attribute has also been fixed. Patch by Serhiy
Storchaka.</li>
<li>bpo-12759: sre_parse now raises a proper error when the name of the group
is missing. Initial patch by Serhiy Storchaka.</li>
<li>bpo-16152: fix tokenize to ignore whitespace at the end of the code when
no newline is found.  Patch by Ned Batchelder.</li>
<li>bpo-16230: Fix a crash in select.select() when one the lists changes size
while iterated on.  Patch by Serhiy Storchaka.</li>
<li>bpo-16228: Fix a crash in the json module where a list changes size while
it is being encoded.  Patch by Serhiy Storchaka.</li>
<li>bpo-14897: Enhance error messages of struct.pack and struct.pack_into.
Patch by Matti Mäki.</li>
<li>bpo-12890: cgitb no longer prints spurious &lt;p&gt; tags in text mode when the
logdir option is specified.</li>
<li>bpo-16307: Fix multiprocessing.Pool.map_async not calling its callbacks.
Patch by Janne Karila.</li>
<li>bpo-16250: Fix URLError invocation with proper args.</li>
<li>bpo-16116: Fix include and library paths to be correct when building C
extensions in venvs.</li>
<li>bpo-16245: Fix the value of a few entities in html.entities.html5.</li>
<li>bpo-14398: Fix size truncation and overflow bugs in the bz2 module.</li>
<li>bpo-16220: wsgiref now always calls close() on an iterable response. Patch
by Brent Tubbs.</li>
<li>bpo-16270: urllib may hang when used for retrieving files via FTP by using
a context manager.  Patch by Giampaolo Rodola&#8217;.</li>
<li>bpo-16461: Wave library should be able to deal with 4GB wav files, and
sample rate of 44100 Hz.</li>
<li>bpo-16176: Properly identify Windows 8 via platform.platform()</li>
<li>bpo-16114: The subprocess module no longer provides a misleading error
message stating that args[0] did not exist when either the cwd or
executable keyword arguments specified a path that did not exist.</li>
<li>bpo-16169: Fix ctypes.WinError()&#8217;s confusion between errno and winerror.</li>
<li>bpo-16076: Made _elementtree.Element pickleable in a way that is
compatible with the Python Element. Pickling/unpickling of
xml.etree.ElementTree.Element works again - this was a temporary
regression from 3.2 where the by-default imported _elementtree had no
pickling capability.</li>
<li>bpo-16089: Allow ElementTree.TreeBuilder to work again with a non-Element
element_factory (fixes a regression in SimpleTAL).</li>
<li>bpo-16913: Fix Element.itertext()&#8217;s handling of text with XML entities.,</li>
<li>bpo-16034: Fix performance regressions in the new <a class="reference internal" href="../library/bz2.html#bz2.BZ2File" title="bz2.BZ2File"><tt class="xref py py-obj docutils literal"><span class="pre">bz2.BZ2File</span></tt></a>
implementation. Initial patch by Serhiy Storchaka.</li>
<li>bpo-16112: platform.architecture does not correctly escape argument to
/usr/bin/file. Patch by David Benjamin.</li>
<li>bpo-15756: <tt class="xref py py-obj docutils literal"><span class="pre">subprocess.poll()</span></tt> now properly handles <a class="reference internal" href="../library/errno.html#errno.ECHILD" title="errno.ECHILD"><tt class="xref py py-obj docutils literal"><span class="pre">errno.ECHILD</span></tt></a> to
return a returncode of 0 when the child has already exited or cannot be
waited on.</li>
<li>bpo-15323: Improve failure message of <tt class="xref py py-obj docutils literal"><span class="pre">Mock.assert_called_once_with()</span></tt>.</li>
<li>bpo-16064: <tt class="docutils literal"><span class="pre">unittest</span> <span class="pre">-m</span></tt> claims executable is &#8220;python&#8221;, not &#8220;python3&#8221;.</li>
<li>bpo-12376: Pass on parameters in <tt class="xref py py-obj docutils literal"><span class="pre">TextTestResult.__init__()</span></tt> super call.</li>
<li>bpo-15222: Insert blank line after each message in mbox mailboxes.</li>
<li>bpo-16013: Fix <tt class="xref py py-obj docutils literal"><span class="pre">csv.Reader</span></tt> parsing issue with ending quote characters.
Patch by Serhiy Storchaka.</li>
<li>bpo-15421: Fix an OverflowError in <tt class="xref py py-obj docutils literal"><span class="pre">Calendar.itermonthdates()</span></tt> after
<a class="reference internal" href="../library/datetime.html#datetime.MAXYEAR" title="datetime.MAXYEAR"><tt class="xref py py-obj docutils literal"><span class="pre">datetime.MAXYEAR</span></tt></a>.  Patch by Cédric Krier.</li>
<li>bpo-15970: <a class="reference internal" href="../library/xml.etree.elementtree.html#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><tt class="xref py py-obj docutils literal"><span class="pre">xml.etree.ElementTree</span></tt></a> now serializes correctly the empty HTML
elements &#8216;meta&#8217; and &#8216;param&#8217;.</li>
<li>bpo-15842: The <tt class="xref py py-obj docutils literal"><span class="pre">SocketIO.{readable,writable,seekable}</span></tt> methods now raise
ValueError when the file-like object is closed.  Patch by Alessandro
Moura.</li>
<li>bpo-15876: Fix a refleak in the <a class="reference internal" href="../library/curses.html#module-curses" title="curses: An interface to the curses library, providing portable terminal handling. (Unix)"><tt class="xref py py-obj docutils literal"><span class="pre">curses</span></tt></a> module: window.encoding.</li>
<li>bpo-15881: Fix <a class="reference internal" href="../library/atexit.html#module-atexit" title="atexit: Register and execute cleanup functions."><tt class="xref py py-obj docutils literal"><span class="pre">atexit</span></tt></a> hook in <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><tt class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></tt></a>.  Original patch by
Chris McDonough.</li>
<li>bpo-15841: The readable(), writable() and seekable() methods of
<a class="reference internal" href="../library/io.html#io.BytesIO" title="io.BytesIO"><tt class="xref py py-obj docutils literal"><span class="pre">io.BytesIO</span></tt></a> and <a class="reference internal" href="../library/io.html#io.StringIO" title="io.StringIO"><tt class="xref py py-obj docutils literal"><span class="pre">io.StringIO</span></tt></a> objects now raise ValueError when the
object has been closed. Patch by Alessandro Moura.</li>
<li>bpo-15447: Use <a class="reference internal" href="../library/subprocess.html#subprocess.DEVNULL" title="subprocess.DEVNULL"><tt class="xref py py-obj docutils literal"><span class="pre">subprocess.DEVNULL</span></tt></a> in webbrowser, instead of opening
<a class="reference internal" href="../library/os.html#os.devnull" title="os.devnull"><tt class="xref py py-obj docutils literal"><span class="pre">os.devnull</span></tt></a> explicitly and leaving it open.</li>
<li>bpo-15509: <tt class="xref py py-obj docutils literal"><span class="pre">webbrowser.UnixBrowser</span></tt> no longer passes empty arguments to
Popen when <tt class="docutils literal"><span class="pre">%action</span></tt> substitutions produce empty strings.</li>
<li>bpo-12776: Call <a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><tt class="xref py py-obj docutils literal"><span class="pre">argparse</span></tt></a> type function (specified by add_argument) only
once. Before, the type function was called twice in the case where the
default was specified and the argument was given as well.  This was
especially problematic for the FileType type, as a default file would
always be opened, even if a file argument was specified on the command
line. (See also: bpo-11839)</li>
<li>bpo-15906: Fix a regression in <a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><tt class="xref py py-obj docutils literal"><span class="pre">argparse</span></tt></a> caused by the preceding change,
when <tt class="docutils literal"><span class="pre">action='append'</span></tt>, <tt class="docutils literal"><span class="pre">type='str'</span></tt> and <tt class="docutils literal"><span class="pre">default=[]</span></tt>.</li>
</ul>
</div>
<div class="section" id="id40">
<h3>IDLE<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17114: IDLE now uses non-strict config parser.</li>
<li>bpo-9290: In IDLE the sys.std* streams now implement io.TextIOBase
interface and support all mandatory methods and properties.</li>
<li>bpo-16829: IDLE printing no longer fails if there are spaces or other
special characters in the file path.</li>
<li>bpo-16491: IDLE now prints chained exception tracebacks.</li>
<li>bpo-16819: IDLE method completion now correctly works for bytes literals.</li>
<li>bpo-16504: IDLE now catches SyntaxErrors raised by tokenizer. Patch by
Roger Serwy.</li>
<li>bpo-16511: Use default IDLE width and height if config param is not valid.
Patch Serhiy Storchaka.</li>
<li>bpo-1207589: Add Cut/Copy/Paste items to IDLE right click Context Menu
Patch by Todd Rovito.</li>
</ul>
</div>
<div class="section" id="id41">
<h3>Tests<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17448: test_sax now skips if there are no xml parsers available
instead of raising an ImportError.</li>
<li>bpo-11420: make test suite pass with -B/DONTWRITEBYTECODE set. Initial
patch by Thomas Wouters.</li>
<li>bpo-10652: make tcl/tk tests run after __all__ test, patch by Zachary
Ware.</li>
<li>bpo-11963: remove human verification from test_parser and test_subprocess.</li>
<li>bpo-11732: add a new suppress_crash_popup() context manager to
test.support that disables crash popups on Windows and use it in
test_faulthandler and test_capi.</li>
<li>bpo-13898: test_ssl no longer prints a spurious stack trace on Ubuntu.</li>
<li>bpo-17249: convert a test in test_capi to use unittest and reap threads.</li>
<li>bpo-17041: Fix testing when Python is configured with the &#8211;without-doc-
strings.</li>
<li>bpo-16923: Fix ResourceWarnings in test_ssl.</li>
<li>bpo-15539: Added regression tests for Tools/scripts/pindent.py.</li>
<li>bpo-17479: test_io now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17066: test_robotparser now works with unittest test discovery. Patch
by Zachary Ware.</li>
<li>bpo-17334: test_index now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17333: test_imaplib now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17082: test_dbm* now work with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17079: test_ctypes now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17304: test_hash now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17303: test_future* now work with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-17163: test_file now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-16925: test_configparser now works with unittest test discovery. Patch
by Zachary Ware.</li>
<li>bpo-16918: test_codecs now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-16919: test_crypt now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-16910: test_bytes, test_unicode, and test_userstring now work with
unittest test discovery.  Patch by Zachary Ware.</li>
<li>bpo-16905: test_warnings now works with unittest test discovery. Initial
patch by Berker Peksag.</li>
<li>bpo-16898: test_bufio now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-16888: test_array now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-16896: test_asyncore now works with unittest test discovery. Patch by
Zachary Ware.</li>
<li>bpo-16897: test_bisect now works with unittest test discovery. Initial
patch by Zachary Ware.</li>
<li>bpo-16852: test_genericpath, test_posixpath, test_ntpath, and test_macpath
now work with unittest test discovery.  Patch by Zachary Ware.</li>
<li>bpo-16748: test_heapq now works with unittest test discovery.</li>
<li>bpo-15324: Fix regrtest parsing of &#8211;fromfile, &#8211;match, and &#8211;randomize
options.</li>
<li>bpo-16702: test_urllib2_localnet tests now correctly ignores proxies for
localhost tests.</li>
<li>bpo-16664: Add regression tests for glob&#8217;s behaviour concerning entries
starting with a &#8221;.&#8221;.  Patch by Sebastian Kreft.</li>
<li>bpo-16559: Add more tests for the json module, including some from the
official test suite at json.org.  Patch by Serhiy Storchaka.</li>
<li>bpo-16661: Fix the <a class="reference internal" href="../library/os.html#os.getgrouplist" title="os.getgrouplist"><tt class="xref py py-obj docutils literal"><span class="pre">os.getgrouplist()</span></tt></a> test by not assuming that it gives
the same output as <strong class="command">id -G</strong>.</li>
<li>bpo-16115: Add some tests for the executable argument to
subprocess.Popen().  Initial patch by Kushal Das.</li>
<li>bpo-16126: PyErr_Format format mismatch in _testcapimodule.c. Patch by
Serhiy Storchaka.</li>
<li>bpo-15304: Fix warning message when <a class="reference internal" href="../library/os.html#os.chdir" title="os.chdir"><tt class="xref py py-obj docutils literal"><span class="pre">os.chdir()</span></tt></a> fails inside
<a class="reference internal" href="../library/test.html#test.support.temp_cwd" title="test.support.temp_cwd"><tt class="xref py py-obj docutils literal"><span class="pre">test.support.temp_cwd()</span></tt></a>.  Patch by Chris Jerdonek.</li>
<li>bpo-15802: Fix test logic in <tt class="xref py py-obj docutils literal"><span class="pre">TestMaildir.test_create_tmp()</span></tt>. Patch by
Serhiy Storchaka.</li>
<li>bpo-15557: Add a test suite for the <a class="reference internal" href="../library/webbrowser.html#module-webbrowser" title="webbrowser: Easy-to-use controller for Web browsers."><tt class="xref py py-obj docutils literal"><span class="pre">webbrowser</span></tt></a> module, thanks to Anton
Barkovsky.</li>
<li>bpo-16698: Skip posix test_getgroups when built with OS X deployment
target prior to 10.6.</li>
</ul>
</div>
<div class="section" id="id42">
<h3>Build<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17550: Fix the &#8211;enable-profiling configure switch.</li>
<li>bpo-17425: Build with openssl 1.0.1d on Windows.</li>
<li>bpo-16754: Fix the incorrect shared library extension on linux. Introduce
two makefile macros SHLIB_SUFFIX and EXT_SUFFIX. SO now has the value of
SHLIB_SUFFIX again (as in 2.x and 3.1). The SO macro is removed in 3.4.</li>
<li>bpo-5033: Fix building of the sqlite3 extension module when the SQLite
library version has &#8220;beta&#8221; in it. Patch by Andreas Pelme.</li>
<li>bpo-17228: Fix building without pymalloc.</li>
<li>bpo-3718: Use AC_ARG_VAR to set MACHDEP in configure.ac.</li>
<li>bpo-17031: Fix running regen in cross builds.</li>
<li>bpo-3754: fix typo in pthread AC_CACHE_VAL.</li>
<li>bpo-15484: Fix _PYTHON_PROJECT_BASE for srcdir != builddir builds; use
_PYTHON_PROJECT_BASE in distutils/sysconfig.py.</li>
<li>bpo-17029: Let h2py search the multiarch system include directory.</li>
<li>bpo-16953: Fix socket module compilation on platforms with
HAVE_BROKEN_POLL. Patch by Jeffrey Armstrong.</li>
<li>bpo-16836: Enable IPv6 support even if IPv6 is disabled on the build host.</li>
<li>Cross compiling needs host and build settings. configure no longer creates
a broken PYTHON_FOR_BUILD variable when &#8211;build is missing.</li>
<li>Fix cross compiling issue in setup.py, ensure that lib_dirs and inc_dirs
are defined in cross compiling mode, too.</li>
<li>bpo-16593: Have BSD &#8216;make -s&#8217; do the right thing, thanks to Daniel Shahaf</li>
<li>bpo-16262: fix out-of-src-tree builds, if mercurial is not installed.</li>
<li>bpo-15298: ensure _sysconfigdata is generated in build directory, not
source directory.</li>
<li>bpo-15833: Fix a regression in 3.3 that resulted in exceptions being
raised if importlib failed to write byte-compiled files.  This affected
attempts to build Python out-of-tree from a read-only source directory.</li>
<li>bpo-15923: Fix a mistake in <tt class="docutils literal"><span class="pre">asdl_c.py</span></tt> that resulted in a TypeError
after 2801bf875a24 (see #15801).</li>
<li>bpo-15819: Make sure we can build Python out-of-tree from a read-only
source directory. (Somewhat related to <a class="reference external" href="https://bugs.python.org/9860">issue #9860</a>.)</li>
<li>bpo-15587: Enable Tk high-resolution text rendering on Macs with Retina
displays. Applies to Tkinter apps, such as IDLE, on OS X framework builds
linked with Cocoa Tk 8.5.</li>
<li>bpo-17161: make install now also installs a python3 man page.</li>
</ul>
</div>
<div class="section" id="id43">
<h3>C API<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-16881: Fix Py_ARRAY_LENGTH macro for GCC &lt; 3.1.</li>
</ul>
</div>
<div class="section" id="id44">
<h3>Documentation<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17538: Document XML vulnerabilties</li>
<li>bpo-16642: sched.scheduler timefunc initial default is time.monotonic.
Patch by Ramchandra Apte</li>
<li>bpo-17047: remove doubled words in docs and docstrings reported by Serhiy
Storchaka and Matthew Barnett.</li>
<li>bpo-15465: Document the versioning macros in the C API docs rather than
the standard library docs. Patch by Kushal Das.</li>
<li>bpo-16406: Combine the pages for uploading and registering to PyPI.</li>
<li>bpo-16403: Document how distutils uses the maintainer field in PKG-INFO.
Patch by Jyrki Pulliainen.</li>
<li>bpo-16695: Document how glob handles filenames starting with a dot.
Initial patch by Jyrki Pulliainen.</li>
<li>bpo-8890: Stop advertising an insecure practice by replacing uses of the
/tmp directory with better alternatives in the documentation. Patch by
Geoff Wilson.</li>
<li>bpo-17203: add long option names to unittest discovery docs.</li>
<li>bpo-13094: add &#8220;Why do lambdas defined in a loop with different values all
return the same result?&#8221; programming FAQ.</li>
<li>bpo-14901: Update portions of the Windows FAQ. Patch by Ashish Nitin
Patil.</li>
<li>bpo-16267: Better document the 3.3+ approach to combining &#64;abstractmethod
with &#64;staticmethod, &#64;classmethod and &#64;property</li>
<li>bpo-15209: Clarify exception chaining description in exceptions module
documentation</li>
<li>bpo-15990: Improve argument/parameter documentation.</li>
<li>bpo-16209: Move the documentation for the str built-in function to a new
str class entry in the &#8220;Text Sequence Type&#8221; section.</li>
<li>bpo-13538: Improve str() and object.__str__() documentation.</li>
<li>bpo-16489: Make it clearer that importlib.find_loader() requires any and
all packages to be separately imported.</li>
<li>bpo-16400: Update the description of which versions of a given package
PyPI displays.</li>
<li>bpo-15677: Document that zlib and gzip accept a compression level of 0 to
mean &#8216;no compression&#8217;. Patch by Brian Brazil.</li>
<li>bpo-16197: Update winreg docstrings and documentation to match code. Patch
by Zachary Ware.</li>
<li>bpo-8040: added a version switcher to the documentation.  Patch by Yury
Selivanov.</li>
<li>bpo-16241: Document -X faulthandler command line option. Patch by Marek
Šuppa.</li>
<li>Additional comments and some style changes in the concurrent.futures URL
retrieval example</li>
<li>bpo-16115: Improve subprocess.Popen() documentation around args, shell,
and executable arguments.</li>
<li>bpo-15533: Clarify docs and add tests for <a class="reference internal" href="../library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><tt class="xref py py-obj docutils literal"><span class="pre">subprocess.Popen()</span></tt></a>&#8216;s cwd
argument.</li>
<li>bpo-15979: Improve timeit documentation.</li>
<li>bpo-16036: Improve documentation of built-in <a class="reference internal" href="../library/functions.html#int" title="int"><tt class="xref py py-obj docutils literal"><span class="pre">int()</span></tt></a>&#8216;s signature and
arguments.</li>
<li>bpo-15935: Clarification of <a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><tt class="xref py py-obj docutils literal"><span class="pre">argparse</span></tt></a> docs, re: add_argument() type and
default arguments.  Patch contributed by Chris Jerdonek.</li>
<li>bpo-11964: Document a change in v3.2 to the behavior of the indent
parameter of json encoding operations.</li>
<li>bpo-15116: Remove references to appscript as it is no longer being
supported.</li>
</ul>
</div>
<div class="section" id="id45">
<h3>Tools/Demos<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-17156: pygettext.py now uses an encoding of source file and correctly
writes and escapes non-ascii characters.</li>
<li>bpo-15539: Fix a number of bugs in Tools/scripts/pindent.py.  Now
pindent.py works with a &#8220;with&#8221; statement.  pindent.py no longer produces
improper indentation. pindent.py now works with continued lines broken
after &#8220;class&#8221; or &#8220;def&#8221; keywords and with continuations at the start of
line.</li>
<li>bpo-15378: Fix Tools/unicode/comparecodecs.py.  Patch by Serhiy Storchaka.</li>
<li>bpo-16476: Fix json.tool to avoid including trailing whitespace.</li>
<li>bpo-16549: Make json.tool work again on Python 3 and add tests. Initial
patch by Berker Peksag and Serhiy Storchaka.</li>
<li>bpo-13301: use ast.literal_eval() instead of eval() in
Tools/i18n/msgfmt.py Patch by Serhiy Storchaka.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-0-final">
<h2>Python 3.3.0 final<a class="headerlink" href="#python-3-3-0-final" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 29-Sep-2012</em></p>
<div class="section" id="id46">
<h3>Core and Builtins<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-16046: Fix loading sourceless legacy .pyo files.</li>
<li>bpo-16060: Fix refcounting bug when <tt class="xref py py-obj docutils literal"><span class="pre">__trunc__()</span></tt> returns an object whose
<tt class="xref py py-obj docutils literal"><span class="pre">__int__()</span></tt> gives a non-integer.  Patch by Serhiy Storchaka.</li>
</ul>
</div>
<div class="section" id="id47">
<h3>Library<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-16012: Fix a regression in pyexpat. The parser&#8217;s <tt class="xref py py-obj docutils literal"><span class="pre">UseForeignDTD()</span></tt>
method doesn&#8217;t require an argument again.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-0-release-candidate-3">
<h2>Python 3.3.0 release candidate 3<a class="headerlink" href="#python-3-3-0-release-candidate-3" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 23-Sep-2012</em></p>
<div class="section" id="id48">
<h3>Core and Builtins<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15900: Fix reference leak in <tt class="xref py py-obj docutils literal"><span class="pre">PyUnicode_TranslateCharmap()</span></tt>.</li>
<li>bpo-15926: Fix crash after multiple reinitializations of the interpreter.</li>
<li>bpo-15895: Fix FILE pointer leak in one error branch of
<tt class="xref py py-obj docutils literal"><span class="pre">PyRun_SimpleFileExFlags()</span></tt> when filename points to a pyc/pyo file,
closeit is false an and set_main_loader() fails.</li>
<li>Fixes for a few crash and memory leak regressions found by Coverity.</li>
</ul>
</div>
<div class="section" id="id49">
<h3>Library<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15882: Change <tt class="xref py py-obj docutils literal"><span class="pre">_decimal</span></tt> to accept any coefficient tuple when
constructing infinities. This is done for backwards compatibility with
decimal.py: Infinity coefficients are undefined in _decimal (in accordance
with the specification).</li>
<li>bpo-15925: Fix a regression in <tt class="xref py py-obj docutils literal"><span class="pre">email.util</span></tt> where the <tt class="xref py py-obj docutils literal"><span class="pre">parsedate()</span></tt> and
<tt class="xref py py-obj docutils literal"><span class="pre">parsedate_tz()</span></tt> functions did not return None anymore when the argument
could not be parsed.</li>
<li>bpo-15973: Fix a segmentation fault when comparing datetime timezone
objects.</li>
<li>bpo-15977: Fix memory leak in Modules/_ssl.c when the function
_set_npn_protocols() is called multiple times, thanks to Daniel
Sommermann.</li>
<li>bpo-15969: <a class="reference internal" href="../library/faulthandler.html#module-faulthandler" title="faulthandler: Dump the Python traceback."><tt class="xref py py-obj docutils literal"><span class="pre">faulthandler</span></tt></a> module: rename dump_tracebacks_later() to
dump_traceback_later() and cancel_dump_tracebacks_later() to
cancel_dump_traceback_later().</li>
<li>_decimal module: use only C 89 style comments.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-0-release-candidate-2">
<h2>Python 3.3.0 release candidate 2<a class="headerlink" href="#python-3-3-0-release-candidate-2" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 09-Sep-2012</em></p>
<div class="section" id="id50">
<h3>Core and Builtins<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-13992: The trashcan mechanism is now thread-safe.  This eliminates
sporadic crashes in multi-thread programs when several long deallocator
chains ran concurrently and involved subclasses of built-in container
types.</li>
<li>bpo-15784: Modify <a class="reference internal" href="../library/exceptions.html#OSError" title="OSError"><tt class="xref py py-obj docutils literal"><span class="pre">OSError</span></tt></a>.__str__() to better distinguish between errno
error numbers and Windows error numbers.</li>
<li>bpo-15781: Fix two small race conditions in import&#8217;s module locking.</li>
</ul>
</div>
<div class="section" id="id51">
<h3>Library<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15847: Fix a regression in argparse, which did not accept tuples as
argument lists anymore.</li>
<li>bpo-15828: Restore support for C extensions in <a class="reference internal" href="../library/imp.html#imp.load_module" title="imp.load_module"><tt class="xref py py-obj docutils literal"><span class="pre">imp.load_module()</span></tt></a>.</li>
<li>bpo-15340: Fix importing the random module when <tt class="docutils literal"><span class="pre">/dev/urandom</span></tt> cannot be
opened. This was a regression caused by the hash randomization patch.</li>
<li>bpo-10650: Deprecate the watchexp parameter of the <tt class="xref py py-obj docutils literal"><span class="pre">Decimal.quantize()</span></tt>
method.</li>
<li>bpo-15785: Modify <tt class="xref py py-obj docutils literal"><span class="pre">window.get_wch()</span></tt> API of the curses module: return a
character for most keys, and an integer for special keys, instead of
always returning an integer. So it is now possible to distinguish special
keys like keypad keys.</li>
<li>bpo-14223: Fix <tt class="xref py py-obj docutils literal"><span class="pre">window.addch()</span></tt> of the curses module for special
characters like curses.ACS_HLINE: the Python function addch(int) and
addch(bytes) is now calling the C function waddch()/mvwaddch() (as it was
done in Python 3.2), instead of wadd_wch()/mvwadd_wch(). The Python
function addch(str) is still calling the C function
wadd_wch()/mvwadd_wch() if the Python curses is linked to libncursesw.</li>
</ul>
</div>
<div class="section" id="id52">
<h3>Build<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15822: Really ensure 2to3 grammar pickles are properly installed
(replaces fixes for <a class="reference external" href="https://bugs.python.org/15645">Issue #15645</a>).</li>
</ul>
</div>
<div class="section" id="id53">
<h3>Documentation<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15814: The memoryview enhancements in 3.3.0 accidentally permitted the
hashing of multi-dimensional memorviews and memoryviews with multi-byte
item formats. The intended restrictions have now been documented - they
will be correctly enforced in 3.3.1.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-0-release-candidate-1">
<h2>Python 3.3.0 release candidate 1<a class="headerlink" href="#python-3-3-0-release-candidate-1" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 25-Aug-2012</em></p>
<div class="section" id="id54">
<h3>Core and Builtins<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15573: memoryview comparisons are now performed by value with full
support for any valid struct module format definition.</li>
<li>bpo-15316: When an item in the fromlist for <a class="reference internal" href="../library/functions.html#__import__" title="__import__"><tt class="xref py py-obj docutils literal"><span class="pre">__import__()</span></tt></a> doesn&#8217;t exist,
don&#8217;t raise an error, but if an exception is raised as part of an import
do let that propagate.</li>
<li>bpo-15778: Ensure that <tt class="docutils literal"><span class="pre">str(ImportError(msg))</span></tt> returns a str even when
msg isn&#8217;t a str.</li>
<li>bpo-2051: Source file permission bits are once again correctly copied to
the cached bytecode file. (The migration to importlib reintroduced this
problem because these was no regression test. A test has been added as
part of this patch)</li>
<li>bpo-15761: Fix crash when <tt class="docutils literal"><span class="pre">PYTHONEXECUTABLE</span></tt> is set on Mac OS X.</li>
<li>bpo-15726: Fix incorrect bounds checking in PyState_FindModule.  Patch by
Robin Schreiber.</li>
<li>bpo-15604: Update uses of <tt class="xref py py-obj docutils literal"><span class="pre">PyObject_IsTrue()</span></tt> to check for and handle
errors correctly. Patch by Serhiy Storchaka.</li>
<li>bpo-14846: <tt class="xref py py-obj docutils literal"><span class="pre">importlib.FileFinder</span></tt> now handles the case where the directory
being searched is removed after a previous import attempt.</li>
</ul>
</div>
<div class="section" id="id55">
<h3>Library<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-13370: Ensure that ctypes works on Mac OS X when Python is compiled
using the clang compiler.</li>
<li>bpo-13072: The array module&#8217;s &#8216;u&#8217; format code is now deprecated and will
be removed in Python 4.0.</li>
<li>bpo-15544: Fix Decimal.__float__ to work with payload-carrying NaNs.</li>
<li>bpo-15776: Allow pyvenv to work in existing directory with &#8211;clean.</li>
<li>bpo-15249: email&#8217;s BytesGenerator now correctly mangles From lines (when
requested) even if the body contains undecodable bytes.</li>
<li>bpo-15777: Fix a refleak in _posixsubprocess.</li>
<li>bpo-665194: Update <a class="reference internal" href="../library/email.util.html#email.utils.localtime" title="email.utils.localtime"><tt class="xref py py-obj docutils literal"><span class="pre">email.utils.localtime</span></tt></a> to use datetime.astimezone and
correctly handle historic changes in UTC offsets.</li>
<li>bpo-15199: Fix JavaScript&#8217;s default MIME type to application/javascript.
Patch by Bohuslav Kabrda.</li>
<li>bpo-12643: <a class="reference internal" href="../library/code.html#code.InteractiveConsole" title="code.InteractiveConsole"><tt class="xref py py-obj docutils literal"><span class="pre">code.InteractiveConsole</span></tt></a> now respects <a class="reference internal" href="../library/sys.html#sys.excepthook" title="sys.excepthook"><tt class="xref py py-obj docutils literal"><span class="pre">sys.excepthook</span></tt></a> when
displaying exceptions.  Patch by Aaron Iles.</li>
<li>bpo-13579: <a class="reference internal" href="../library/string.html#string.Formatter" title="string.Formatter"><tt class="xref py py-obj docutils literal"><span class="pre">string.Formatter</span></tt></a> now understands the &#8216;a&#8217; conversion
specifier.</li>
<li>bpo-15595: Fix <tt class="docutils literal"><span class="pre">subprocess.Popen(universal_newlines=True)</span></tt> for certain
locales (utf-16 and utf-32 family). Patch by Chris Jerdonek.</li>
<li>bpo-15477: In cmath and math modules, add workaround for platforms whose
system- supplied log1p function doesn&#8217;t respect signs of zeros.</li>
<li>bpo-15715: <a class="reference internal" href="../library/importlib.html#importlib.__import__" title="importlib.__import__"><tt class="xref py py-obj docutils literal"><span class="pre">importlib.__import__()</span></tt></a> will silence an ImportError when the
use of fromlist leads to a failed import.</li>
<li>bpo-14669: Fix pickling of connections and sockets on Mac OS X by
sending/receiving an acknowledgment after file descriptor transfer.
TestPicklingConnection has been reenabled for Mac OS X.</li>
<li>bpo-11062: Fix adding a message from file to Babyl mailbox.</li>
<li>bpo-15646: Prevent equivalent of a fork bomb when using <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><tt class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></tt></a>
on Windows without the <tt class="docutils literal"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">'__main__'</span></tt> idiom.</li>
</ul>
</div>
<div class="section" id="id56">
<h3>IDLE<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15678: Fix IDLE menus when started from OS X command line (3.3.0b2
regression).</li>
</ul>
</div>
<div class="section" id="id57">
<h3>Documentation<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Touched up the Python 2 to 3 porting guide.</li>
<li>bpo-14674: Add a discussion of the <a class="reference internal" href="../library/json.html#module-json" title="json: Encode and decode the JSON format."><tt class="xref py py-obj docutils literal"><span class="pre">json</span></tt></a> module&#8217;s standard compliance.
Patch by Chris Rebert.</li>
<li>Create a &#8216;Concurrent Execution&#8217; section in the docs, and split up the
&#8216;Optional Operating System Services&#8217; section to use a more user-centric
classification scheme (splitting them across the new CE section, IPC and
text processing). Operating system limitations can be reflected with the
Sphinx <tt class="docutils literal"><span class="pre">:platform:</span></tt> tag, it doesn&#8217;t make sense as part of the Table of
Contents.</li>
<li>bpo-4966: Bring the sequence docs up to date for the Py3k transition and
the many language enhancements since they were original written.</li>
<li>The &#8220;path importer&#8221; misnomer has been replaced with Eric Snow&#8217;s more-
awkward-but-at-least-not-wrong suggestion of &#8220;path based finder&#8221; in the
import system reference docs.</li>
<li>bpo-15640: Document <a class="reference internal" href="../library/importlib.html#importlib.abc.Finder" title="importlib.abc.Finder"><tt class="xref py py-obj docutils literal"><span class="pre">importlib.abc.Finder</span></tt></a> as deprecated.</li>
<li>bpo-15630: Add an example for &#8220;continue&#8221; stmt in the tutorial.  Patch by
Daniel Ellis.</li>
</ul>
</div>
<div class="section" id="id58">
<h3>Tests<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15747: ZFS always returns EOPNOTSUPP when attempting to set the
UF_IMMUTABLE flag (via either chflags or lchflags); refactor affected
tests in test_posix.py to account for this.</li>
<li>bpo-15285: Refactor the approach for testing connect timeouts using two
external hosts that have been configured specifically for this type of
test.</li>
<li>bpo-15743: Remove the deprecated method usage in <a class="reference internal" href="../library/urllib.html#module-urllib" title="urllib"><tt class="xref py py-obj docutils literal"><span class="pre">urllib</span></tt></a> tests. Patch by
Jeff Knupp.</li>
<li>bpo-15615: Add some tests for the <a class="reference internal" href="../library/json.html#module-json" title="json: Encode and decode the JSON format."><tt class="xref py py-obj docutils literal"><span class="pre">json</span></tt></a> module&#8217;s handling of invalid
input data. Patch by Kushal Das.</li>
</ul>
</div>
<div class="section" id="id59">
<h3>Build<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Output lib files for PGO build into PGO directory.</li>
<li>Pick up 32-bit launcher from PGO directory on 64-bit PGO build.</li>
<li>Drop <tt class="docutils literal"><span class="pre">PC\python_nt.h</span></tt> as it&#8217;s not used.  Add input dependency on custom
build step.</li>
<li>bpo-15511: Drop explicit dependency on pythonxy.lib from _decimal amd64
configuration.</li>
<li>Add missing PGI/PGO configurations for pywlauncher.</li>
<li>bpo-15645: Ensure 2to3 grammar pickles are properly installed.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-0-beta-2">
<h2>Python 3.3.0 beta 2<a class="headerlink" href="#python-3-3-0-beta-2" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 12-Aug-2012</em></p>
<div class="section" id="id60">
<h3>Core and Builtins<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15568: Fix the return value of <tt class="docutils literal"><span class="pre">yield</span> <span class="pre">from</span></tt> when StopIteration is
raised by a custom iterator.</li>
<li>bpo-13119: <a class="reference internal" href="../library/sys.html#sys.stdout" title="sys.stdout"><tt class="xref py py-obj docutils literal"><span class="pre">sys.stdout</span></tt></a> and <a class="reference internal" href="../library/sys.html#sys.stderr" title="sys.stderr"><tt class="xref py py-obj docutils literal"><span class="pre">sys.stderr</span></tt></a> are now using &#8220;rn&#8221; newline on
Windows, as Python 2.</li>
<li>bpo-15534: Fix the fast-search function for non-ASCII Unicode strings.</li>
<li>bpo-15508: Fix the docstring for <a class="reference internal" href="../library/functions.html#__import__" title="__import__"><tt class="xref py py-obj docutils literal"><span class="pre">__import__()</span></tt></a> to have the proper default
value of 0 for &#8216;level&#8217; and to not mention negative levels since they are
not supported.</li>
<li>bpo-15425: Eliminated traceback noise from more situations involving
importlib.</li>
<li>bpo-14578: Support modules registered in the Windows registry again.</li>
<li>bpo-15466: Stop using TYPE_INT64 in marshal, to make importlib.h (and
other byte code files) equal between 32-bit and 64-bit systems.</li>
<li>bpo-1692335: Move initial exception args assignment to
<tt class="xref py py-obj docutils literal"><span class="pre">BaseException.__new__()</span></tt> to help pickling of naive subclasses.</li>
<li>bpo-12834: Fix <tt class="xref py py-obj docutils literal"><span class="pre">PyBuffer_ToContiguous()</span></tt> for non-contiguous arrays.</li>
<li>bpo-15456: Fix code <tt class="xref py py-obj docutils literal"><span class="pre">__sizeof__()</span></tt> after #12399 change.  Patch by Serhiy
Storchaka.</li>
<li>bpo-15404: Refleak in PyMethodObject repr.</li>
<li>bpo-15394: An issue in <tt class="xref py py-obj docutils literal"><span class="pre">PyModule_Create()</span></tt> that caused references to be
leaked on some error paths has been fixed.  Patch by Julia Lawall.</li>
<li>bpo-15368: An issue that caused bytecode generation to be non-
deterministic has been fixed.</li>
<li>bpo-15202: Consistently use the name &#8220;follow_symlinks&#8221; for new parameters
in os and shutil functions.</li>
<li>bpo-15314: <tt class="docutils literal"><span class="pre">__main__.__loader__</span></tt> is now set correctly during interpreter
startup.</li>
<li>bpo-15111: When a module imported using &#8216;from import&#8217; has an ImportError
inside itself, don&#8217;t mask that fact behind a generic ImportError for the
module itself.</li>
<li>bpo-15293: Add GC support to the AST base node type.</li>
<li>bpo-15291: Fix a memory leak where AST nodes where not properly
deallocated.</li>
<li>bpo-15110: Fix the tracebacks generated by &#8220;import xxx&#8221; to not show the
importlib stack frames.</li>
<li>bpo-16369: Global PyTypeObjects not initialized with PyType_Ready(...).</li>
<li>bpo-15020: The program name used to search for Python&#8217;s path is now
&#8220;python3&#8221; under Unix, not &#8220;python&#8221;.</li>
<li>bpo-15897: zipimport.c doesn&#8217;t check return value of fseek(). Patch by
Felipe Cruz.</li>
<li>bpo-15033: Fix the exit status bug when modules invoked using -m switch,
return the proper failure return value (1). Patch contributed by Jeff
Knupp.</li>
<li>bpo-15229: An <a class="reference internal" href="../library/exceptions.html#OSError" title="OSError"><tt class="xref py py-obj docutils literal"><span class="pre">OSError</span></tt></a> subclass whose __init__ doesn&#8217;t call back
OSError.__init__ could produce incomplete instances, leading to crashes
when calling str() on them.</li>
<li>bpo-15307: Virtual environments now use symlinks with framework builds on
Mac OS X, like other POSIX builds.</li>
</ul>
</div>
<div class="section" id="id61">
<h3>Library<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14590: configparser now correctly strips inline comments when
delimiter occurs earlier without preceding space.</li>
<li>bpo-15424: Add a <tt class="xref py py-obj docutils literal"><span class="pre">__sizeof__()</span></tt> implementation for array objects.  Patch
by Ludwig Hähne.</li>
<li>bpo-15576: Allow extension modules to act as a package&#8217;s __init__ module.</li>
<li>bpo-15502: Have <a class="reference internal" href="../library/importlib.html#importlib.invalidate_caches" title="importlib.invalidate_caches"><tt class="xref py py-obj docutils literal"><span class="pre">importlib.invalidate_caches()</span></tt></a> work on <a class="reference internal" href="../library/sys.html#sys.meta_path" title="sys.meta_path"><tt class="xref py py-obj docutils literal"><span class="pre">sys.meta_path</span></tt></a>
instead of <a class="reference internal" href="../library/sys.html#sys.path_importer_cache" title="sys.path_importer_cache"><tt class="xref py py-obj docutils literal"><span class="pre">sys.path_importer_cache</span></tt></a>.</li>
<li>bpo-15163: Pydoc shouldn&#8217;t list __loader__ as module data.</li>
<li>bpo-15471: Do not use mutable objects as defaults for
<a class="reference internal" href="../library/importlib.html#importlib.__import__" title="importlib.__import__"><tt class="xref py py-obj docutils literal"><span class="pre">importlib.__import__()</span></tt></a>.</li>
<li>bpo-15559: To avoid a problematic failure mode when passed to the bytes
constructor, objects in the ipaddress module no longer implement
<tt class="xref py py-obj docutils literal"><span class="pre">__index__()</span></tt> (they still implement <tt class="xref py py-obj docutils literal"><span class="pre">__int__()</span></tt> as appropriate).</li>
<li>bpo-15546: Fix handling of pathological input data in the peek() and
read1() methods of the BZ2File, GzipFile and LZMAFile classes.</li>
<li>bpo-12655: Instead of requiring a custom type, <a class="reference internal" href="../library/os.html#os.sched_getaffinity" title="os.sched_getaffinity"><tt class="xref py py-obj docutils literal"><span class="pre">os.sched_getaffinity()</span></tt></a>
and <a class="reference internal" href="../library/os.html#os.sched_setaffinity" title="os.sched_setaffinity"><tt class="xref py py-obj docutils literal"><span class="pre">os.sched_setaffinity()</span></tt></a> now use regular sets of integers to represent
the CPUs a process is restricted to.</li>
<li>bpo-15538: Fix compilation of the <a class="reference internal" href="../library/socket.html#socket.getnameinfo" title="socket.getnameinfo"><tt class="xref py py-obj docutils literal"><span class="pre">socket.getnameinfo()</span></tt></a> /
<a class="reference internal" href="../library/socket.html#socket.getaddrinfo" title="socket.getaddrinfo"><tt class="xref py py-obj docutils literal"><span class="pre">socket.getaddrinfo()</span></tt></a> emulation code.  Patch by Philipp Hagemeister.</li>
<li>bpo-15519: Properly expose WindowsRegistryFinder in importlib (and use the
correct term for it).  Original patch by Eric Snow.</li>
<li>bpo-15502: Bring the importlib ABCs into line with the current state of
the import protocols given PEP 420.  Original patch by Eric Snow.</li>
<li>bpo-15499: Launching a webbrowser in Unix used to sleep for a few seconds.
Original patch by Anton Barkovsky.</li>
<li>bpo-15463: The faulthandler module truncates strings to 500 characters,
instead of 100, to be able to display long file paths.</li>
<li>bpo-6056: Make <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><tt class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></tt></a> use setblocking(True) on the sockets it
uses. Original patch by J Derek Wilson.</li>
<li>bpo-15364: Fix sysconfig.get_config_var(&#8216;srcdir&#8217;) to be an absolute path.</li>
<li>bpo-15413: <a class="reference internal" href="../library/os.html#os.times" title="os.times"><tt class="xref py py-obj docutils literal"><span class="pre">os.times()</span></tt></a> had disappeared under Windows.</li>
<li>bpo-15402: An issue in the struct module that caused <a class="reference internal" href="../library/sys.html#sys.getsizeof" title="sys.getsizeof"><tt class="xref py py-obj docutils literal"><span class="pre">sys.getsizeof()</span></tt></a> to
return incorrect results for struct.Struct instances has been fixed.
Initial patch by Serhiy Storchaka.</li>
<li>bpo-15232: When mangle_from is True, <tt class="xref py py-obj docutils literal"><span class="pre">email.Generator</span></tt> now correctly
mangles lines that start with &#8216;From &#8216; that occur in a MIME preamble or
epilogue.</li>
<li>bpo-15094: Incorrectly placed #endif in _tkinter.c.  Patch by Serhiy
Storchaka.</li>
<li>bpo-13922: <a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><tt class="xref py py-obj docutils literal"><span class="pre">argparse</span></tt></a> no longer incorrectly strips &#8216;&#8211;&#8217;s that appear after
the first one.</li>
<li>bpo-12353: <a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><tt class="xref py py-obj docutils literal"><span class="pre">argparse</span></tt></a> now correctly handles null argument values.</li>
<li>bpo-10017: Fix TypeError using pprint on dictionaries with user-defined
types as keys or other unorderable keys. (See also: bpo-14998)</li>
<li>bpo-15397: <a class="reference internal" href="../library/inspect.html#inspect.getmodulename" title="inspect.getmodulename"><tt class="xref py py-obj docutils literal"><span class="pre">inspect.getmodulename()</span></tt></a> is now based directly on importlib
via a new <a class="reference internal" href="../library/importlib.html#importlib.machinery.all_suffixes" title="importlib.machinery.all_suffixes"><tt class="xref py py-obj docutils literal"><span class="pre">importlib.machinery.all_suffixes()</span></tt></a> API.</li>
<li>bpo-14635: <a class="reference internal" href="../library/telnetlib.html#module-telnetlib" title="telnetlib: Telnet client class."><tt class="xref py py-obj docutils literal"><span class="pre">telnetlib</span></tt></a> will use poll() rather than select() when possible
to avoid failing due to the select() file descriptor limit.</li>
<li>bpo-15180: Clarify posixpath.join() error message when mixing str &amp; bytes.</li>
<li>bpo-15343: pkgutil now includes an iter_importer_modules implementation
for importlib.machinery.FileFinder (similar to the way it already handled
zipimport.zipimporter).</li>
<li>bpo-15314: runpy now sets __main__.__loader__ correctly.</li>
<li>bpo-15357: The import emulation in pkgutil is now deprecated. pkgutil uses
importlib internally rather than the emulation.</li>
<li>bpo-15233: Python now guarantees that callables registered with the atexit
module will be called in a deterministic order.</li>
<li>bpo-15238: <a class="reference internal" href="../library/shutil.html#shutil.copystat" title="shutil.copystat"><tt class="xref py py-obj docutils literal"><span class="pre">shutil.copystat()</span></tt></a> now copies Linux &#8220;extended attributes&#8221;.</li>
<li>bpo-15230: runpy.run_path now correctly sets __package__ as described in
the documentation.</li>
<li>bpo-15315: Support VS 2010 in distutils cygwincompiler.</li>
<li>bpo-15294: Fix a regression in pkgutil.extend_path()&#8217;s handling of nested
namespace packages.</li>
<li>bpo-15056: <a class="reference internal" href="../library/imp.html#imp.cache_from_source" title="imp.cache_from_source"><tt class="xref py py-obj docutils literal"><span class="pre">imp.cache_from_source()</span></tt></a> and <a class="reference internal" href="../library/imp.html#imp.source_from_cache" title="imp.source_from_cache"><tt class="xref py py-obj docutils literal"><span class="pre">imp.source_from_cache()</span></tt></a> raise
NotImplementedError when <tt class="xref py py-obj docutils literal"><span class="pre">sys.implementation.cache_tag</span></tt> is set to None.</li>
<li>bpo-15256: Grammatical mistake in exception raised by <a class="reference internal" href="../library/imp.html#imp.find_module" title="imp.find_module"><tt class="xref py py-obj docutils literal"><span class="pre">imp.find_module()</span></tt></a>.</li>
<li>bpo-5931: <a class="reference internal" href="../library/wsgiref.html#module-wsgiref" title="wsgiref: WSGI Utilities and Reference Implementation."><tt class="xref py py-obj docutils literal"><span class="pre">wsgiref</span></tt></a> environ variable SERVER_SOFTWARE will specify an
implementation specific term like CPython, Jython instead of generic
&#8220;Python&#8221;.</li>
<li>bpo-13248: Remove obsolete argument &#8220;max_buffer_size&#8221; of BufferedWriter
and BufferedRWPair, from the io module.</li>
<li>bpo-13248: Remove obsolete argument &#8220;version&#8221; of
<a class="reference internal" href="../library/argparse.html#argparse.ArgumentParser" title="argparse.ArgumentParser"><tt class="xref py py-obj docutils literal"><span class="pre">argparse.ArgumentParser</span></tt></a>.</li>
<li>bpo-14814: Implement more consistent ordering and sorting behaviour for
ipaddress objects.</li>
<li>bpo-14814: <a class="reference internal" href="../library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><tt class="xref py py-obj docutils literal"><span class="pre">ipaddress</span></tt></a> network objects correctly return NotImplemented
when compared to arbitrary objects instead of raising TypeError.</li>
<li>bpo-14990: Correctly fail with SyntaxError on invalid encoding
declaration.</li>
<li>bpo-14814: <a class="reference internal" href="../library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><tt class="xref py py-obj docutils literal"><span class="pre">ipaddress</span></tt></a> now provides more informative error messages when
constructing instances directly (changes permitted during beta due to
provisional API status).</li>
<li>bpo-15247: <a class="reference internal" href="../library/io.html#io.FileIO" title="io.FileIO"><tt class="xref py py-obj docutils literal"><span class="pre">io.FileIO</span></tt></a> now raises an error when given a file descriptor
pointing to a directory.</li>
<li>bpo-15261: Stop os.stat(fd) crashing on Windows when fd not open.</li>
<li>bpo-15166: Implement <a class="reference internal" href="../library/imp.html#imp.get_tag" title="imp.get_tag"><tt class="xref py py-obj docutils literal"><span class="pre">imp.get_tag()</span></tt></a> using <tt class="xref py py-obj docutils literal"><span class="pre">sys.implementation.cache_tag</span></tt>.</li>
<li>bpo-15210: Catch KeyError when <tt class="xref py py-obj docutils literal"><span class="pre">importlib.__init__()</span></tt> can&#8217;t find
_frozen_importlib in sys.modules, not ImportError.</li>
<li>bpo-15030: <a class="reference internal" href="../library/importlib.html#importlib.abc.PyPycLoader" title="importlib.abc.PyPycLoader"><tt class="xref py py-obj docutils literal"><span class="pre">importlib.abc.PyPycLoader</span></tt></a> now supports the new source size
header field in .pyc files.</li>
<li>bpo-5346: Preserve permissions of mbox, MMDF and Babyl mailbox files on
flush().</li>
<li>bpo-10571: Fix the &#8220;&#8211;sign&#8221; option of distutils&#8217; upload command.  Patch by
Jakub Wilk.</li>
<li>bpo-9559: If messages were only added, a new file is no longer created and
renamed over the old file when flush() is called on an mbox, MMDF or Babyl
mailbox.</li>
<li>bpo-10924: Fixed <a class="reference internal" href="../library/crypt.html#crypt.mksalt" title="crypt.mksalt"><tt class="xref py py-obj docutils literal"><span class="pre">crypt.mksalt()</span></tt></a> to use a RNG that is suitable for
cryptographic purpose.</li>
<li>bpo-15184: Ensure consistent results of OS X configuration tailoring for
universal builds by factoring out common OS X-specific customizations from
sysconfig, distutils.sysconfig, distutils.util, and
distutils.unixccompiler into a new module _osx_support.</li>
</ul>
</div>
<div class="section" id="id62">
<h3>C API<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15610: <tt class="xref py py-obj docutils literal"><span class="pre">PyImport_ImportModuleEx()</span></tt> now uses a &#8216;level&#8217; of 0 instead of
-1.</li>
<li>bpo-15169: Strip out the C implementation of <a class="reference internal" href="../library/imp.html#imp.source_from_cache" title="imp.source_from_cache"><tt class="xref py py-obj docutils literal"><span class="pre">imp.source_from_cache()</span></tt></a>
used by PyImport_ExecCodeModuleWithPathnames() and used the Python code
instead. Leads to PyImport_ExecCodeModuleObject() to not try to infer the
source path from the bytecode path as
PyImport_ExecCodeModuleWithPathnames() does. (See also: bpo-14599)</li>
</ul>
</div>
<div class="section" id="id63">
<h3>Library<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-6493: An issue in ctypes on Windows that caused structure bitfields of
type <a class="reference internal" href="../library/ctypes.html#ctypes.c_uint32" title="ctypes.c_uint32"><tt class="xref py py-obj docutils literal"><span class="pre">ctypes.c_uint32</span></tt></a> and width 32 to incorrectly be set has been fixed.</li>
<li>bpo-15194: Update libffi to the 3.0.11 release.</li>
</ul>
</div>
<div class="section" id="id64">
<h3>IDLE<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-13052: Fix IDLE crashing when replace string in Search/Replace dialog
ended with <tt class="docutils literal"><span class="pre">\</span></tt>.  Patch by Roger Serwy.</li>
</ul>
</div>
<div class="section" id="id65">
<h3>Tools/Demos<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15458: python-config gets a new option &#8211;configdir to print the $LIBPL
value.</li>
<li>Move importlib.test.benchmark to Tools/importbench.</li>
<li>bpo-12605: The gdb hooks for debugging CPython (within Tools/gdb) have
been enhanced to show information on more C frames relevant to CPython
within the &#8220;py-bt&#8221; and &#8220;py-bt-full&#8221; commands:<ul>
<li>C frames that are waiting on the GIL</li>
<li>C frames that are garbage-collecting</li>
<li>C frames that are due to the invocation of a PyCFunction</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id66">
<h3>Documentation<a class="headerlink" href="#id66" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15041: Update &#8220;see also&#8221; list in tkinter documentation.</li>
<li>bpo-15444: Use proper spelling for non-ASCII contributor names.  Patch by
Serhiy Storchaka.</li>
<li>bpo-15295: Reorganize and rewrite the documentation on the import system.</li>
<li>bpo-15230: Clearly document some of the limitations of the runpy module
and nudge readers towards importlib when appropriate.</li>
<li>bpo-15053: Copy Python 3.3 import lock change notice to all relevant
functions in imp instead of just at the top of the relevant section.</li>
<li>bpo-15288: Link to the term &#8220;loader&#8221; in notes in pkgutil about how things
won&#8217;t work as expected in Python 3.3 and mark the requisite functions as
&#8220;changed&#8221; since they will no longer work with modules directly imported by
import itself.</li>
<li>bpo-13557: Clarify effect of giving two different namespaces to <a class="reference internal" href="../library/functions.html#exec" title="exec"><tt class="xref py py-obj docutils literal"><span class="pre">exec()</span></tt></a>
or <tt class="xref py py-obj docutils literal"><span class="pre">execfile()</span></tt>.</li>
<li>bpo-15250: Document that <a class="reference internal" href="../library/filecmp.html#filecmp.dircmp" title="filecmp.dircmp"><tt class="xref py py-obj docutils literal"><span class="pre">filecmp.dircmp()</span></tt></a> compares files shallowly.
Patch contributed by Chris Jerdonek.</li>
</ul>
</div>
<div class="section" id="id67">
<h3>Tests<a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15467: Move helpers for <tt class="xref py py-obj docutils literal"><span class="pre">__sizeof__()</span></tt> tests into test_support.  Patch
by Serhiy Storchaka.</li>
<li>bpo-15320: Make iterating the list of tests thread-safe when running tests
in multiprocess mode. Patch by Chris Jerdonek.</li>
<li>bpo-15168: Move <tt class="xref py py-obj docutils literal"><span class="pre">importlib.test</span></tt> to <tt class="xref py py-obj docutils literal"><span class="pre">test.test_importlib</span></tt>.</li>
<li>bpo-15091: Reactivate a test on UNIX which was failing thanks to a
forgotten <a class="reference internal" href="../library/importlib.html#importlib.invalidate_caches" title="importlib.invalidate_caches"><tt class="xref py py-obj docutils literal"><span class="pre">importlib.invalidate_caches()</span></tt></a> call.</li>
<li>bpo-15230: Adopted a more systematic approach in the runpy tests.</li>
<li>bpo-15300: Ensure the temporary test working directories are in the same
parent folder when running tests in multiprocess mode from a Python build.
Patch by Chris Jerdonek.</li>
<li>bpo-15284: Skip {send,recv}msg tests in test_socket when IPv6 is not
enabled. Patch by Brian Brazil.</li>
<li>bpo-15277: Fix a resource leak in support.py when IPv6 is disabled.  Patch
by Brian Brazil.</li>
</ul>
</div>
<div class="section" id="id68">
<h3>Build<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-11715: Fix multiarch detection without having Debian development tools
(dpkg-dev) installed.</li>
<li>bpo-15037: Build OS X installers with local copy of ncurses 5.9 libraries
to avoid curses.unget_wch bug present in older versions of ncurses such as
those shipped with OS X.</li>
<li>bpo-15560: Fix building _sqlite3 extension on OS X with an SDK.  Also, for
OS X installers, ensure consistent sqlite3 behavior and feature
availability by building a local copy of libsqlite3 rather than depending
on the wide range of versions supplied with various OS X releases.</li>
<li>bpo-8847: Disable COMDAT folding in Windows PGO builds.</li>
<li>bpo-14018: Fix OS X Tcl/Tk framework checking when using OS X SDKs.</li>
<li>bpo-16256: OS X installer now sets correct permissions for doc directory.</li>
<li>bpo-15431: Add _freeze_importlib project to regenerate importlib.h on
Windows. Patch by Kristján Valur Jónsson.</li>
<li>bpo-14197: For OS X framework builds, ensure links to the shared library
are created with the proper ABI suffix.</li>
<li>bpo-14330: For cross builds, don&#8217;t use host python, use host search paths
for host compiler.</li>
<li>bpo-15235: Allow Berkley DB versions up to 5.3 to build the dbm module.</li>
<li>bpo-15268: Search curses.h in /usr/include/ncursesw.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-0-beta-1">
<h2>Python 3.3.0 beta 1<a class="headerlink" href="#python-3-3-0-beta-1" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 27-Jun-2012</em></p>
<div class="section" id="id69">
<h3>Core and Builtins<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fix a (most likely) very rare memory leak when calling main() and not
being able to decode a command-line argument.</li>
<li>bpo-14815: Use Py_ssize_t instead of long for the object hash, to preserve
all 64 bits of hash on Win64.</li>
<li>bpo-12268: File readline, readlines and read() or readall() methods no
longer lose data when an underlying read system call is interrupted.
IOError is no longer raised due to a read system call returning EINTR from
within these methods.</li>
<li>bpo-11626: Add _SizeT functions to stable ABI.</li>
<li>bpo-15142: Fix reference leak when deallocating instances of types created
using PyType_FromSpec().</li>
<li>bpo-10053: Don&#8217;t close FDs when FileIO.__init__ fails. Loosely based on
the work by Hirokazu Yamamoto.</li>
<li>bpo-15096: Removed support for ur&#8217;&#8217; as the raw notation isn&#8217;t compatible
with Python 2.x&#8217;s raw unicode strings.</li>
<li>bpo-13783: Generator objects now use the identifier APIs internally</li>
<li>bpo-14874: Restore charmap decoding speed to pre-PEP 393 levels. Patch by
Serhiy Storchaka.</li>
<li>bpo-15026: utf-16 encoding is now significantly faster (up to 10x). Patch
by Serhiy Storchaka.</li>
<li>bpo-11022: open() and io.TextIOWrapper are now calling
locale.getpreferredencoding(False) instead of
locale.getpreferredencoding() in text mode if the encoding is not
specified. Don&#8217;t change temporary the locale encoding using
locale.setlocale(), use the current locale encoding instead of the user
preferred encoding.</li>
<li>bpo-14673: Add Eric Snow&#8217;s sys.implementation implementation.</li>
<li>bpo-15038: Optimize python Locks on Windows.</li>
</ul>
</div>
<div class="section" id="id70">
<h3>Library<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-16305: Fix a segmentation fault occurring when interrupting
math.factorial.</li>
<li>bpo-12288: Consider &#8216;0&#8217; and &#8216;0.0&#8217; as valid initialvalue for tkinter
SimpleDialog.</li>
<li>bpo-15512: Add a __sizeof__ implementation for parser. Patch by Serhiy
Storchaka.</li>
<li>bpo-15469: Add a __sizeof__ implementation for deque objects. Patch by
Serhiy Storchaka.</li>
<li>bpo-15489: Add a __sizeof__ implementation for BytesIO objects. Patch by
Serhiy Storchaka.</li>
<li>bpo-15487: Add a __sizeof__ implementation for buffered I/O objects. Patch
by Serhiy Storchaka.</li>
<li>bpo-15514: Correct __sizeof__ support for cpu_set. Patch by Serhiy
Storchaka.</li>
<li>bpo-15177: Added dir_fd parameter to os.fwalk().</li>
<li>bpo-15061: Re-implemented hmac.compare_digest() in C to prevent further
timing analysis and to support all buffer protocol aware objects as well
as ASCII only str instances safely.</li>
<li>bpo-15164: Change return value of platform.uname() from a plain tuple to a
collections.namedtuple.</li>
<li>Support Mageia Linux in the platform module.</li>
<li>bpo-11678: Support Arch linux in the platform module.</li>
<li>bpo-15118: Change return value of os.uname() and os.times() from plain
tuples to immutable iterable objects with named attributes (structseq
objects).</li>
<li>Speed up _decimal by another 10-15% by caching the thread local context
that was last accessed. In the pi benchmark (64-bit platform, prec=9),
_decimal is now only 1.5x slower than float.</li>
<li>Remove the packaging module, which is not ready for prime time.</li>
<li>bpo-15154: Add &#8220;dir_fd&#8221; parameter to os.rmdir, remove &#8220;rmdir&#8221; parameter
from os.remove / os.unlink.</li>
<li>bpo-4489: Add a shutil.rmtree that isn&#8217;t susceptible to symlink attacks.
It is used automatically on platforms supporting the necessary os.openat()
and os.unlinkat() functions. Main code by Martin von Löwis.</li>
<li>bpo-15156: HTMLParser now uses the new &#8220;html.entities.html5&#8221; dictionary.</li>
<li>bpo-11113: add a new &#8220;html5&#8221; dictionary containing the named character
references defined by the HTML5 standard and the equivalent Unicode
character(s) to the html.entities module.</li>
<li>bpo-15114: the strict mode of HTMLParser and the HTMLParseError exception
are deprecated now that the parser is able to parse invalid markup.</li>
<li>bpo-3665: u and U escapes are now supported in unicode regular
expressions.  Patch by Serhiy Storchaka.</li>
<li>bpo-15153: Added inspect.getgeneratorlocals to simplify white box testing
of generator state updates</li>
<li>bpo-13062: Added inspect.getclosurevars to simplify testing stateful
closures</li>
<li>bpo-11024: Fixes and additional tests for Time2Internaldate.</li>
<li>bpo-14626: Large refactoring of functions / parameters in the os module.
Many functions now support &#8220;dir_fd&#8221; and &#8220;follow_symlinks&#8221; parameters; some
also support accepting an open file descriptor in place of a path string.
Added os.support_* collections as LBYL helpers.  Removed many functions
only previously seen in 3.3 alpha releases (often starting with &#8220;f&#8221; or
&#8220;l&#8221;, or ending with &#8220;at&#8221;).  Originally suggested by Serhiy Storchaka;
implemented by Larry Hastings.</li>
<li>bpo-15008: Implement PEP 362 &#8220;Signature Objects&#8221;. Patch by Yury Selivanov.</li>
<li>bpo-15138: base64.urlsafe_{en,de}code() are now 3-4x faster.</li>
<li>bpo-444582: Add shutil.which, for finding programs on the system path.
Original patch by Erik Demaine, with later iterations by Jan Killian and
Brian Curtin.</li>
<li>bpo-14837: SSL errors now have <tt class="docutils literal"><span class="pre">library</span></tt> and <tt class="docutils literal"><span class="pre">reason</span></tt> attributes
describing precisely what happened and in which OpenSSL submodule.  The
str() of a SSLError is also enhanced accordingly.</li>
<li>bpo-9527: datetime.astimezone() method will now supply a class timezone
instance corresponding to the system local timezone when called with no
arguments.</li>
<li>bpo-14653: email.utils.mktime_tz() no longer relies on system mktime()
when timezone offest is supplied.</li>
<li>bpo-14684: zlib.compressobj() and zlib.decompressobj() now support the use
of predefined compression dictionaries. Original patch by Sam Rushing.</li>
<li>Fix GzipFile&#8217;s handling of filenames given as bytes objects.</li>
<li>bpo-14772: Return destination values from some shutil functions.</li>
<li>bpo-15064: Implement context manager protocol for multiprocessing types</li>
<li>bpo-15101: Make pool finalizer avoid joining current thread.</li>
<li>bpo-14657: The frozen instance of importlib used for bootstrap is now also
the module imported as importlib._bootstrap.</li>
<li>bpo-14055: Add __sizeof__ support to _elementtree.</li>
<li>bpo-15054: A bug in tokenize.tokenize that caused string literals with &#8216;b&#8217;
prefixes to be incorrectly tokenized has been fixed. Patch by Serhiy
Storchaka.</li>
<li>bpo-15006: Allow equality comparison between naive and aware time or
datetime objects.</li>
<li>bpo-15036: Mailbox no longer throws an error if a flush is done between
operations when removing or changing multiple items in mbox, MMDF, or
Babyl mailboxes.</li>
<li>bpo-14059: Implement multiprocessing.Barrier.</li>
<li>bpo-15061: The inappropriately named hmac.secure_compare has been renamed
to hmac.compare_digest, restricted to operating on bytes inputs only and
had its documentation updated to more accurately reflect both its intent
and its limitations</li>
<li>bpo-13841: Make child processes exit using sys.exit() on Windows.</li>
<li>bpo-14936: curses_panel was converted to PEP 3121 and PEP 384 API. Patch
by Robin Schreiber.</li>
<li>bpo-1667546: On platforms supporting tm_zone and tm_gmtoff fields in
struct tm, time.struct_time objects returned by time.gmtime(),
time.localtime() and time.strptime() functions now have tm_zone and
tm_gmtoff attributes. Original patch by Paul Boddie.</li>
<li>Rename adjusted attribute to adjustable in time.get_clock_info() result.</li>
<li>bpo-3518: Remove references to non-existent BaseManager.from_address()
method.</li>
<li>bpo-13857: Added textwrap.indent() function (initial patch by Ezra Berch)</li>
<li>bpo-2736: Added datetime.timestamp() method.</li>
<li>bpo-13854: Make multiprocessing properly handle non-integer non-string
argument to SystemExit.</li>
<li>bpo-12157: Make pool.map() empty iterables correctly.  Initial patch by
mouad.</li>
<li>bpo-11823: disassembly now shows argument counts on calls with keyword
args.</li>
<li>bpo-14711: os.stat_float_times() has been deprecated.</li>
<li>LZMAFile now accepts the modes &#8220;rb&#8221;/&#8221;wb&#8221;/&#8221;ab&#8221; as synonyms of &#8220;r&#8221;/&#8221;w&#8221;/&#8221;a&#8221;.</li>
<li>The bz2 and lzma modules now each contain an open() function, allowing
compressed files to readily be opened in text mode as well as binary mode.</li>
<li>BZ2File.__init__() and LZMAFile.__init__() now accept a file object as
their first argument, rather than requiring a separate &#8220;fileobj&#8221; argument.</li>
<li>gzip.open() now accepts file objects as well as filenames.</li>
<li>bpo-14992: os.makedirs(path, exist_ok=True) would raise an OSError when
the path existed and had the S_ISGID mode bit set when it was not
explicitly asked for.  This is no longer an exception as mkdir cannot
control if the OS sets that bit for it or not.</li>
<li>bpo-14989: Make the CGI enable option to http.server available via command
line.</li>
<li>bpo-14987: Add a missing import statement to inspect.</li>
<li>bpo-1079: email.header.decode_header now correctly parses all the examples
in RFC2047. There is a necessary visible behavior change: the leading
and/or trailing whitespace on ASCII parts is now preserved.</li>
<li>bpo-14969: Better handling of exception chaining in contextlib.ExitStack</li>
<li>bpo-14963: Convert contextlib.ExitStack.__exit__ to use an iterative
algorithm (Patch by Alon Horev)</li>
<li>bpo-14785: Add sys._debugmallocstats() to help debug low-level memory
allocation issues</li>
<li>bpo-14443: Ensure that .py files are byte-compiled with the correct Python
executable within bdist_rpm even on older versions of RPM</li>
</ul>
</div>
<div class="section" id="id71">
<h3>C API<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15146: Add PyType_FromSpecWithBases. Patch by Robin Schreiber.</li>
<li>bpo-15042: Add PyState_AddModule and PyState_RemoveModule. Add version
guard for Py_LIMITED_API additions. Patch by Robin Schreiber.</li>
<li>bpo-13783: Inadvertent additions to the public C API in the PEP 380
implementation have either been removed or marked as private interfaces.</li>
</ul>
</div>
<div class="section" id="id72">
<h3>Library<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15000: Support the &#8220;unique&#8221; x32 architecture in _posixsubprocess.c.</li>
</ul>
</div>
<div class="section" id="id73">
<h3>IDLE<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-9803: Don&#8217;t close IDLE on saving if breakpoint is open. Patch by Roger
Serwy.</li>
<li>bpo-14962: Update text coloring in IDLE shell window after changing
options.  Patch by Roger Serwy.</li>
</ul>
</div>
<div class="section" id="id74">
<h3>Documentation<a class="headerlink" href="#id74" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15176: Clarified behavior, documentation, and implementation of
os.listdir().</li>
<li>bpo-14982: Document that pkgutil&#8217;s iteration functions require the non-
standard iter_modules() method to be defined by an importer (something the
importlib importers do not define).</li>
<li>bpo-15081: Document PyState_FindModule. Patch by Robin Schreiber.</li>
<li>bpo-14814: Added first draft of ipaddress module API reference</li>
</ul>
</div>
<div class="section" id="id75">
<h3>Tests<a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-15187: Bugfix: remove temporary directories test_shutil was leaving
behind.</li>
<li>bpo-14769: test_capi now has SkipitemTest, which cleverly checks for
&#8220;parity&#8221; between PyArg_ParseTuple() and the Python/getargs.c static
function skipitem() for all possible &#8220;format units&#8221;.</li>
<li>test_nntplib now tolerates being run from behind NNTP gateways that add
&#8220;X-Antivirus&#8221; headers to articles</li>
<li>bpo-15043: test_gdb is now skipped entirely if gdb security settings block
loading of the gdb hooks</li>
<li>bpo-14963: Add test cases for exception handling behaviour in
contextlib.ExitStack (Initial patch by Alon Horev)</li>
</ul>
</div>
<div class="section" id="id76">
<h3>Build<a class="headerlink" href="#id76" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-13590: Improve support for OS X Xcode 4:   * Try to avoid building
Python or extension modules with problematic     llvm-gcc compiler.   *
Since Xcode 4 removes ppc support, extension module builds now     check
for ppc compiler support and automatically remove ppc and     ppc64 archs
when not available. * Since Xcode 4 no longer install SDKs in default
locations,     extension module builds now revert to using installed
headers     and libs if the SDK used to build the interpreter is not
available.   * Update ./configure to use better defaults for universal
builds;     in particular, &#8211;enable- universalsdk=yes uses the Xcode
default     SDK and &#8211;with-universal-archs now defaults to &#8220;intel&#8221; if ppc
not available.</li>
<li>bpo-14225: Fix Unicode support for curses (#12567) on OS X</li>
<li>bpo-14928: Fix importlib bootstrap issues by using a custom executable
(Modules/_freeze_importlib) to build Python/importlib.h.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-0-alpha-4">
<h2>Python 3.3.0 alpha 4<a class="headerlink" href="#python-3-3-0-alpha-4" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 31-May-2012</em></p>
<div class="section" id="id77">
<h3>Core and Builtins<a class="headerlink" href="#id77" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14835: Make plistlib output empty arrays &amp; dicts like OS X. Patch by
Sidney San Martín.</li>
<li>bpo-14744: Use the new _PyUnicodeWriter internal API to speed up str%args
and str.format(args).</li>
<li>bpo-14930: Make memoryview objects weakrefable.</li>
<li>bpo-14775: Fix a potential quadratic dict build-up due to the garbage
collector repeatedly trying to untrack dicts.</li>
<li>bpo-14857: fix regression in references to PEP 3135 implicit __class__
closure variable (Reopens <a class="reference external" href="https://bugs.python.org/12370">issue #12370</a>)</li>
<li>bpo-14712: Virtual environments. Implemented by Vinay Sajip. (See also:
PEP 405)</li>
<li>bpo-14660: Namespace packages. Implemented by Eric Smith. (See also: PEP
420)</li>
<li>bpo-14494: Fix __future__.py and its documentation to note that absolute
imports are the default behavior in 3.0 instead of 2.7. Patch by Sven
Marnach.</li>
<li>bpo-9260: A finer-grained import lock.  Most of the import sequence now
uses per- module locks rather than the global import lock, eliminating
well-known issues with threads and imports.</li>
<li>bpo-14624: UTF-16 decoding is now 3x to 4x faster on various inputs. Patch
by Serhiy Storchaka.</li>
<li>asdl_seq and asdl_int_seq are now Py_ssize_t sized.</li>
<li>bpo-14133: Implement suppression of __context__ display with an attribute
on BaseException. This replaces the original mechanism of PEP 409. (See
also: PEP 415)</li>
<li>bpo-14417: Mutating a dict during lookup now restarts the lookup instead
of raising a RuntimeError (undoes <a class="reference external" href="https://bugs.python.org/14205">issue #14205</a>).</li>
<li>bpo-14738: Speed-up UTF-8 decoding on non-ASCII data.  Patch by Serhiy
Storchaka.</li>
<li>bpo-14700: Fix two broken and undefined-behaviour-inducing overflow checks
in old-style string formatting.</li>
</ul>
</div>
<div class="section" id="id78">
<h3>Library<a class="headerlink" href="#id78" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14690: Use monotonic clock instead of system clock in the sched,
subprocess and trace modules.</li>
<li>bpo-14443: Tell rpmbuild to use the correct version of Python in
bdist_rpm. Initial patch by Ross Lagerwall.</li>
<li>bpo-12515: email now registers a defect if it gets to EOF while parsing a
MIME part without seeing the closing MIME boundary.</li>
<li>bpo-1672568: email now always decodes base64 payloads, adding padding and
ignoring non- base64-alphabet characters if needed, and registering
defects for any such problems.</li>
<li>bpo-14925: email now registers a defect when the parser decides that there
is a missing header/body separator line.  MalformedHeaderDefect, which the
existing code would never actually generate, is deprecated.</li>
<li>bpo-10365: File open dialog now works instead of crashing even when the
parent window is closed before the dialog. Patch by Roger Serwy.</li>
<li>bpo-8739: Updated smtpd to support RFC 5321, and added support for the RFC
1870 SIZE extension.</li>
<li>bpo-665194: Added a localtime function to email.utils to provide an aware
local datetime for use in setting Date headers.</li>
<li>bpo-12586: Added new provisional policies that implement convenient
unicode support for email headers.  See What&#8217;s New for details.</li>
<li>bpo-14731: Refactored email Policy framework to support full backward
compatibility with Python 3.2 by default yet allow for the introduction of
new features through new policies.  Note that Policy.must_be_7bit is
renamed to cte_type.</li>
<li>bpo-14876: Use user-selected font for highlight configuration.</li>
<li>bpo-14920: Fix the help(urllib.parse) failure on locale C on terminals.
Have ascii characters in help.</li>
<li>bpo-14548: Make multiprocessing finalizers check pid before running to
cope with possibility of gc running just after fork.</li>
<li>bpo-14036: Add an additional check to validate that port in urlparse does
not go in illegal range and returns None.</li>
<li>bpo-14862: Add missing names to os.__all__</li>
<li>bpo-14875: Use float(&#8216;inf&#8217;) instead of float(&#8216;1e66666&#8217;) in the json
module.</li>
<li>bpo-13585: Added contextlib.ExitStack</li>
<li>PEP 3144, <a class="reference external" href="https://bugs.python.org/14814">Issue #14814</a>: Added the ipaddress module</li>
<li>bpo-14426: Correct the Date format in Expires attribute of Set-Cookie
Header in Cookie.py.</li>
<li>bpo-14588: The types module now provide new_class() and prepare_class()
functions to support PEP 3115 compliant dynamic class creation. Patch by
Daniel Urban and Nick Coghlan.</li>
<li>bpo-13152: Allow to specify a custom tabsize for expanding tabs in
textwrap. Patch by John Feuerstein.</li>
<li>bpo-14721: Send the correct &#8216;Content-length: 0&#8217; header when the body is an
empty string &#8216;&#8217;. Initial Patch contributed by Arve Knudsen.</li>
<li>bpo-14072: Fix parsing of &#8216;tel&#8217; URIs in urlparse by making the check for
ports stricter.</li>
<li>bpo-9374: Generic parsing of query and fragment portions of url for any
scheme. Supported both by RFC3986 and RFC2396.</li>
<li>bpo-14798: Fix the functions in pyclbr to raise an ImportError when the
first part of a dotted name is not a package. Patch by Xavier de Gaye.</li>
<li>bpo-12098: multiprocessing on Windows now starts child processes using the
same sys.flags as the current process.  Initial patch by Sergey Mezentsev.</li>
<li>bpo-13031: Small speed-up for tarfile when unzipping tarfiles. Patch by
Justin Peel.</li>
<li>bpo-14780: urllib.request.urlopen() now has a <tt class="docutils literal"><span class="pre">cadefault</span></tt> argument to
use the default certificate store.  Initial patch by James Oakley.</li>
<li>bpo-14829: Fix bisect and range() indexing with large indices (&gt;= 2 ** 32)
under 64-bit Windows.</li>
<li>bpo-14732: The _csv module now uses PEP 3121 module initialization. Patch
by Robin Schreiber.</li>
<li>bpo-14809: Add HTTP status codes introduced by RFC 6585 to http.server and
http.client. Patch by EungJun Yi.</li>
<li>bpo-14777: tkinter may return undecoded UTF-8 bytes as a string when
accessing the Tk clipboard.  Modify clipboad_get() to first request type
UTF8_STRING when no specific type is requested in an X11 windowing
environment, falling back to the current default type STRING if that
fails. Original patch by Thomas Kluyver.</li>
<li>bpo-14773: Fix os.fwalk() failing on dangling symlinks.</li>
<li>bpo-12541: Be lenient with quotes around Realm field of HTTP Basic
Authentation in urllib2.</li>
<li>bpo-14807: move undocumented tarfile.filemode() to stat.filemode() and add
doc entry. Add tarfile.filemode alias with deprecation warning.</li>
<li>bpo-13815: TarFile.extractfile() now returns io.BufferedReader objects.</li>
<li>bpo-14532: Add a secure_compare() helper to the hmac module, to mitigate
timing attacks. Patch by Jon Oberheide.</li>
<li>Add importlib.util.resolve_name().</li>
<li>bpo-14366: Support lzma compression in zip files. Patch by Serhiy
Storchaka.</li>
<li>bpo-13959: Introduce importlib.find_loader() and document
imp.find_module/load_module as deprecated.</li>
<li>bpo-14082: shutil.copy2() now copies extended attributes, if possible.
Patch by Hynek Schlawack.</li>
<li>bpo-13959: Make importlib.abc.FileLoader.load_module()/get_filename() and
importlib.machinery.ExtensionFileLoader.load_module() have their single
argument be optional. Allows for the replacement (and thus deprecation) of
imp.load_source()/load_package()/load_compiled().</li>
<li>bpo-13959: imp.get_suffixes() has been deprecated in favour of the new
attributes on importlib.machinery: SOURCE_SUFFIXES,
DEBUG_BYTECODE_SUFFIXES, OPTIMIZED_BYTECODE_SUFFIXES, BYTECODE_SUFFIXES,
and EXTENSION_SUFFIXES. This led to an indirect deprecation of
inspect.getmoduleinfo().</li>
<li>bpo-14662: Prevent shutil failures on OS X when destination does not
support chflag operations.  Patch by Hynek Schlawack.</li>
<li>bpo-14157: Fix time.strptime failing without a year on February 29th.
Patch by Hynek Schlawack.</li>
<li>bpo-14753: Make multiprocessing&#8217;s handling of negative timeouts the same
as it was in Python 3.2.</li>
<li>bpo-14583: Fix importlib bug when a package&#8217;s __init__.py would first
import one of its modules then raise an error.</li>
<li>bpo-14741: Fix missing support for Ellipsis (&#8216;...&#8217;) in parser module.</li>
<li>bpo-14697: Fix missing support for set displays and set comprehensions in
parser module.</li>
<li>bpo-14701: Fix missing support for &#8216;raise ... from&#8217; in parser module.</li>
<li>Add support for timeouts to the acquire() methods of multiprocessing&#8217;s
lock/semaphore/condition proxies.</li>
<li>bpo-13989: Add support for text mode to gzip.open().</li>
<li>bpo-14127: The os.stat() result object now provides three additional
fields: st_ctime_ns, st_mtime_ns, and st_atime_ns, providing those times
as an integer with nanosecond resolution.  The functions os.utime(),
os.lutimes(), and os.futimes() now accept a new parameter, ns, which
accepts mtime and atime as integers with nanosecond resolution.</li>
<li>bpo-14127: shutil.copystat now preserves exact mtime and atime on
filesystems providing nanosecond resolution. (See also: bpo-10148)</li>
</ul>
</div>
<div class="section" id="id79">
<h3>IDLE<a class="headerlink" href="#id79" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14958: Change IDLE systax highlighting to recognize all string and
byte literals supported in Python 3.3.</li>
<li>bpo-10997: Prevent a duplicate entry in IDLE&#8217;s &#8220;Recent Files&#8221; menu.</li>
<li>bpo-14929: Stop IDLE 3.x from closing on Unicode decode errors when
grepping. Patch by Roger Serwy.</li>
<li>bpo-12510: Attempting to get invalid tooltip no longer closes IDLE. Other
tooltipss have been corrected or improved and the number of tests has been
tripled. Original patch by Roger Serwy.</li>
</ul>
</div>
<div class="section" id="id80">
<h3>Tools/Demos<a class="headerlink" href="#id80" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14695: Bring Tools/parser/unparse.py support up to date with the
Python 3.3 Grammar.</li>
</ul>
</div>
<div class="section" id="id81">
<h3>Build<a class="headerlink" href="#id81" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14472: Update .gitignore. Patch by Matej Cepl.</li>
<li>Upgrade Windows library versions: bzip 1.0.6, OpenSSL 1.0.1c.</li>
<li>bpo-14693: Under non-Windows platforms, hashlib&#8217;s fallback modules are
always compiled, even if OpenSSL is present at build time.</li>
<li>bpo-13210: Windows build now uses VS2010, ported from VS2008.</li>
</ul>
</div>
<div class="section" id="id82">
<h3>C API<a class="headerlink" href="#id82" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14705: The PyArg_Parse() family of functions now support the &#8216;p&#8217;
format unit, which accepts a &#8220;boolean predicate&#8221; argument.  It converts
any Python value into an integer&#8211;0 if it is &#8220;false&#8221;, and 1 otherwise.</li>
</ul>
</div>
<div class="section" id="id83">
<h3>Documentation<a class="headerlink" href="#id83" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14863: Update the documentation of os.fdopen() to reflect the fact
that it&#8217;s only a thin wrapper around open() anymore.</li>
<li>bpo-14588: The language reference now accurately documents the Python 3
class definition process. Patch by Nick Coghlan.</li>
<li>bpo-14943: Correct a default argument value for winreg.OpenKey and
correctly list the argument names in the function&#8217;s explanation.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-0-alpha-3">
<h2>Python 3.3.0 alpha 3<a class="headerlink" href="#python-3-3-0-alpha-3" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 01-May-2012</em></p>
<div class="section" id="id84">
<h3>Core and Builtins<a class="headerlink" href="#id84" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14699: Fix calling the classmethod descriptor directly.</li>
<li>bpo-14433: Prevent msvcrt crash in interactive prompt when stdin is
closed.</li>
<li>bpo-14521: Make result of float(&#8216;nan&#8217;) and float(&#8216;-nan&#8217;) more consistent
across platforms.</li>
<li>bpo-14646: __import__() sets __loader__ if the loader did not.</li>
<li>bpo-14605: No longer have implicit entries in sys.meta_path. If
sys.meta_path is found to be empty, raise ImportWarning.</li>
<li>bpo-14605: No longer have implicit entries in sys.path_hooks. If
sys.path_hooks is found to be empty, a warning will be raised. None is now
inserted into sys.path_importer_cache if no finder was discovered. This
also means imp.NullImporter is no longer implicitly used.</li>
<li>bpo-13903: Implement PEP 412. Individual dictionary instances can now
share their keys with other dictionaries. Classes take advantage of this
to share their instance dictionary keys for improved memory and
performance.</li>
<li>bpo-11603: Setting __repr__ to __str__ now raises a RuntimeError when
repr() or str() is called on such an object.</li>
<li>bpo-14658: Fix binding a special method to a builtin implementation of a
special method with a different name.</li>
<li>bpo-14630: Fix a memory access bug for instances of a subclass of int with
value 0.</li>
<li>bpo-14339: Speed improvements to bin, oct and hex functions.  Patch by
Serhiy Storchaka.</li>
<li>bpo-14385: It is now possible to use a custom type for the __builtins__
namespace, instead of a dict. It can be used for sandboxing for example.
Raise also a NameError instead of ImportError if __build_class__ name if
not found in __builtins__.</li>
<li>bpo-12599: Be more strict in accepting None compared to a false-like
object for importlib.util.module_for_loader and
importlib.machinery.PathFinder.</li>
<li>bpo-14612: Fix jumping around with blocks by setting f_lineno.</li>
<li>bpo-14592: Attempting a relative import w/o __package__ or __name__ set in
globals raises a KeyError.</li>
<li>bpo-14607: Fix keyword-only arguments which started with <tt class="docutils literal"><span class="pre">__</span></tt>.</li>
<li>bpo-10854: The ImportError raised when an extension module on Windows
fails to import now uses the new path and name attributes from Issue
#1559549.</li>
<li>bpo-13889: Check and (if necessary) set FPU control word before calling
any of the dtoa.c string &lt;-&gt; float conversion functions, on MSVC builds of
Python. This fixes issues when embedding Python in a Delphi app.</li>
<li>__import__() now matches PEP 328 and documentation by defaulting &#8216;index&#8217;
to 0 instead of -1 and removing support for negative values.</li>
<li>bpo-2377: Make importlib the implementation of __import__().</li>
<li>bpo-1559549: ImportError now has &#8216;name&#8217; and &#8216;path&#8217; attributes that are set
using keyword arguments to its constructor. They are currently not set by
import as they are meant for use by importlib.</li>
<li>bpo-14474: Save and restore exception state in thread.start_new_thread()
while writing error message if the thread leaves a unhandled exception.</li>
<li>bpo-13019: Fix potential reference leaks in bytearray.extend().  Patch by
Suman Saha.</li>
</ul>
</div>
<div class="section" id="id85">
<h3>Library<a class="headerlink" href="#id85" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14768: os.path.expanduser(&#8216;~/a&#8217;) doesn&#8217;t works correctly when HOME is
&#8216;/&#8217;.</li>
<li>bpo-14371: Support bzip2 in zipfile module.  Patch by Serhiy Storchaka.</li>
<li>bpo-13183: Fix pdb skipping frames after hitting a breakpoint and running
step.  Patch by Xavier de Gaye.</li>
<li>bpo-14696: Fix parser module to understand &#8216;nonlocal&#8217; declarations.</li>
<li>bpo-10941: Fix imaplib.Internaldate2tuple to produce correct result near
the DST transition.  Patch by Joe Peterson.</li>
<li>bpo-9154: Fix parser module to understand function annotations.</li>
<li>bpo-6085: In http.server.py SimpleHTTPServer.address_string returns the
client ip address instead client hostname. Patch by Charles-François
Natali.</li>
<li>bpo-14309: Deprecate time.clock(), use time.perf_counter() or
time.process_time() instead.</li>
<li>bpo-14428: Implement the PEP 418. Add time.get_clock_info(),
time.perf_counter() and time.process_time() functions, and rename
time.steady() to time.monotonic().</li>
<li>bpo-14646: importlib.util.module_for_loader() now sets __loader__ and
__package__ (when possible).</li>
<li>bpo-14664: It is now possible to use &#64;unittest.skip{If,Unless} on a test
class that doesn&#8217;t inherit from TestCase (i.e. a mixin).</li>
<li>bpo-4892: multiprocessing Connections can now be transferred over
multiprocessing Connections.  Patch by Richard Oudkerk (sbt).</li>
<li>bpo-14160: TarFile.extractfile() failed to resolve symbolic links when the
links were not located in an archive subdirectory.</li>
<li>bpo-14638: pydoc now treats non-string __name__ values as if they were
missing, instead of raising an error.</li>
<li>bpo-13684: Fix httplib tunnel issue of infinite loops for certain sites
which send EOF without trailing rn.</li>
<li>bpo-14605: Add importlib.abc.FileLoader, importlib.machinery.(FileFinder,
SourceFileLoader, SourcelessFileLoader, ExtensionFileLoader).</li>
<li>bpo-13959: imp.cache_from_source()/source_from_cache() now follow
os.path.join()/split() semantics for path manipulation instead of its
prior, custom semantics of caring the right-most path separator forward in
path joining.</li>
<li>bpo-2193: Allow &#8221;:&#8221; character in Cookie NAME values.</li>
<li>bpo-14629: tokenizer.detect_encoding will specify the filename in the
SyntaxError exception if found at readline.__self__.name.</li>
<li>bpo-14629: Raise SyntaxError in tokenizer.detect_encoding if the first two
lines have non-UTF-8 characters without an encoding declaration.</li>
<li>bpo-14308: Fix an exception when a &#8220;dummy&#8221; thread is in the threading
module&#8217;s active list after a fork().</li>
<li>bpo-11750: The Windows API functions scattered in the _subprocess and
_multiprocessing.win32 modules now live in a single module &#8220;_winapi&#8221;.
Patch by sbt.</li>
<li>bpo-14087: multiprocessing: add Condition.wait_for(). Patch by sbt.</li>
<li>bpo-14538: HTMLParser can now parse correctly start tags that contain a
bare &#8216;/&#8217;.</li>
<li>bpo-14452: SysLogHandler no longer inserts a UTF-8 BOM into the message.</li>
<li>bpo-14386: Expose the dict_proxy internal type as types.MappingProxyType.</li>
<li>bpo-13959: Make imp.reload() always use a module&#8217;s __loader__ to perform
the reload.</li>
<li>bpo-13959: Add imp.py and rename the built-in module to _imp, allowing for
re- implementing parts of the module in pure Python.</li>
<li>bpo-13496: Fix potential overflow in bisect.bisect algorithm when applied
to a collection of size &gt; sys.maxsize / 2.</li>
<li>Have importlib take advantage of ImportError&#8217;s new &#8216;name&#8217; and &#8216;path&#8217;
attributes.</li>
<li>bpo-14399: zipfile now recognizes that the archive has been modified even
if only the comment is changed.  In addition, the TypeError that results
from trying to set a non-binary value as a comment is now raised at the
time the comment is set rather than at the time the zipfile is written.</li>
<li>trace.CoverageResults.is_ignored_filename() now ignores any name that
starts with &#8220;&lt;&#8221; and ends with &#8220;&gt;&#8221; instead of special-casing &#8220;&lt;string&gt;&#8221; and
&#8220;&lt;doctest &#8221;.</li>
<li>bpo-12537: The mailbox module no longer depends on knowledge of internal
implementation details of the email package Message object.</li>
<li>bpo-7978: socketserver now restarts the select() call when EINTR is
returned.  This avoids crashing the server loop when a signal is received.
Patch by Jerzy Kozera.</li>
<li>bpo-14522: Avoid duplicating socket handles in multiprocessing.connection.
Patch by sbt.</li>
<li>Don&#8217;t Py_DECREF NULL variable in io.IncrementalNewlineDecoder.</li>
<li>bpo-3033: Add displayof parameter to tkinter font. Patch by Guilherme
Polo.</li>
<li>bpo-14482: Raise a ValueError, not a NameError, when trying to create a
multiprocessing Client or Listener with an AF_UNIX type address under
Windows.  Patch by Popa Claudiu.</li>
<li>bpo-802310: Generate always unique tkinter font names if not directly
passed.</li>
<li>bpo-14151: Raise a ValueError, not a NameError, when trying to create a
multiprocessing Client or Listener with an AF_PIPE type address under non-
Windows platforms. Patch by Popa Claudiu.</li>
<li>bpo-14493: Use gvfs-open or xdg-open in webbrowser.</li>
</ul>
</div>
<div class="section" id="id86">
<h3>Build<a class="headerlink" href="#id86" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&#8220;make touch&#8221; will now touch generated files that are checked into
Mercurial, after a &#8220;hg update&#8221; which failed to bring the timestamps into
the right order.</li>
</ul>
</div>
<div class="section" id="id87">
<h3>Tests<a class="headerlink" href="#id87" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14026: In test_cmd_line_script, check that sys.argv is populated
correctly for the various invocation approaches (Patch by Jason Yeo)</li>
<li>bpo-14032: Fix incorrect variable name in test_cmd_line_script debugging
message (Patch by Jason Yeo)</li>
<li>bpo-14589: Update certificate chain for sha256.tbs-internet.com, fixing a
test failure in test_ssl.</li>
<li>bpo-14355: Regrtest now supports the standard unittest test loading, and
will use it if a test file contains no <tt class="xref py py-obj docutils literal"><span class="pre">test_main</span></tt> method.</li>
</ul>
</div>
<div class="section" id="id88">
<h3>IDLE<a class="headerlink" href="#id88" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-8515: Set __file__ when run file in IDLE. Initial patch by Bruce
Frederiksen.</li>
<li>bpo-14496: Fix wrong name in idlelib/tabbedpages.py. Patch by Popa
Claudiu.</li>
</ul>
</div>
<div class="section" id="id89">
<h3>Tools/Demos<a class="headerlink" href="#id89" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-3561: The Windows installer now has an option, off by default, for
placing the Python installation into the system &#8220;Path&#8221; environment
variable.</li>
<li>bpo-13165: stringbench is now available in the Tools/stringbench folder.
It used to live in its own SVN project.</li>
</ul>
</div>
<div class="section" id="id90">
<h3>C API<a class="headerlink" href="#id90" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14098: New functions PyErr_GetExcInfo and PyErr_SetExcInfo. Patch by
Stefan Behnel.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-0-alpha-2">
<h2>Python 3.3.0 alpha 2<a class="headerlink" href="#python-3-3-0-alpha-2" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 01-Apr-2012</em></p>
<div class="section" id="id91">
<h3>Core and Builtins<a class="headerlink" href="#id91" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-1683368: object.__new__ and object.__init__ raise a TypeError if they
are passed arguments and their complementary method is not overridden.</li>
<li>bpo-14378: Fix compiling ast.ImportFrom nodes with a &#8220;__future__&#8221; string
as the module name that was not interned.</li>
<li>bpo-14331: Use significantly less stack space when importing modules by
allocating path buffers on the heap instead of the stack.</li>
<li>bpo-14334: Prevent in a segfault in type.__getattribute__ when it was not
passed strings.</li>
<li>bpo-1469629: Allow cycles through an object&#8217;s __dict__ slot to be
collected. (For example if <tt class="docutils literal"><span class="pre">x.__dict__</span> <span class="pre">is</span> <span class="pre">x</span></tt>).</li>
<li>bpo-14205: dict lookup raises a RuntimeError if the dict is modified
during a lookup.</li>
<li>bpo-14220: When a generator is delegating to another iterator with the
yield from syntax, it needs to have its <tt class="docutils literal"><span class="pre">gi_running</span></tt> flag set to True.</li>
<li>bpo-14435: Remove dedicated block allocator from floatobject.c and rely on
the PyObject_Malloc() api like all other objects.</li>
<li>bpo-14471: Fix a possible buffer overrun in the winreg module.</li>
<li>bpo-14288: Allow the serialization of builtin iterators</li>
</ul>
</div>
<div class="section" id="id92">
<h3>Library<a class="headerlink" href="#id92" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14300: Under Windows, sockets created using socket.dup() now allow
overlapped I/O. Patch by sbt.</li>
<li>bpo-13872: socket.detach() now marks the socket closed (as mirrored in the
socket repr()).  Patch by Matt Joiner.</li>
<li>bpo-14406: Fix a race condition when using <tt class="docutils literal"><span class="pre">concurrent.futures.wait(</span>
<span class="pre">return_when=ALL_COMPLETED)</span></tt>.  Patch by Matt Joiner.</li>
<li>bpo-5136: deprecate old, unused functions from tkinter.</li>
<li>bpo-14416: syslog now defines the LOG_ODELAY and LOG_AUTHPRIV constants if
they are defined in &lt;syslog.h&gt;.</li>
<li>bpo-14295: Add unittest.mock</li>
<li>bpo-7652: Add &#8211;with-system-libmpdec option to configure for linking the
_decimal module against an installed libmpdec.</li>
<li>bpo-14380: MIMEText now defaults to utf-8 when passed non-ASCII unicode
with no charset specified.</li>
<li>bpo-10340: asyncore - properly handle EINVAL in dispatcher constructor on
OSX; avoid to call handle_connect in case of a disconnected socket which
was not meant to connect.</li>
<li>bpo-14204: The ssl module now has support for the Next Protocol
Negotiation extension, if available in the underlying OpenSSL library.
Patch by Colin Marc.</li>
<li>bpo-3035: Unused functions from tkinter are marked as pending deprecated.</li>
<li>bpo-12757: Fix the skipping of doctests when python is run with -OO so
that it works in unittest&#8217;s verbose mode as well as non-verbose mode.</li>
<li>bpo-7652: Integrate the decimal floating point libmpdec library to speed
up the decimal module. Performance gains of the new C implementation are
between 10x and 100x, depending on the application.</li>
<li>bpo-14269: SMTPD now conforms to the RFC and requires a HELO command
before MAIL, RCPT, or DATA.</li>
<li>bpo-13694: asynchronous connect in asyncore.dispatcher does not set addr
attribute.</li>
<li>bpo-14344: fixed the repr of email.policy objects.</li>
<li>bpo-11686: Added missing entries to email package __all__ lists (mostly
the new Bytes classes).</li>
<li>bpo-14335: multiprocessing&#8217;s custom Pickler subclass now inherits from the
C-accelerated implementation.  Patch by sbt.</li>
<li>bpo-10484: Fix the CGIHTTPServer&#8217;s PATH_INFO handling problem.</li>
<li>bpo-11199: Fix the with urllib which hangs on particular ftp urls.</li>
<li>Improve the memory utilization and speed of functools.lru_cache.</li>
<li>bpo-14222: Use the new time.steady() function instead of time.time() for
timeout in queue and threading modules to not be affected of system time
update.</li>
<li>bpo-13248: Remove lib2to3.pytree.Base.get_prefix/set_prefix.</li>
<li>bpo-14234: CVE-2012-0876: Randomize hashes of xml attributes in the hash
table internal to the pyexpat module&#8217;s copy of the expat library to avoid
a denial of service due to hash collisions.  Patch by David Malcolm with
some modifications by the expat project.</li>
<li>bpo-12818: format address no longer needlessly escapes ()s in names when
the name ends up being quoted.</li>
<li>bpo-14062: BytesGenerator now correctly folds Header objects, including
using linesep when folding.</li>
<li>bpo-13839: When invoked on the command-line, the pstats module now accepts
several filenames of profile stat files and merges them all. Patch by Matt
Joiner.</li>
<li>bpo-14291: Email now defaults to utf-8 for non-ASCII unicode headers
instead of raising an error.  This fixes a regression relative to 2.7.</li>
<li>bpo-989712: Support using Tk without a mainloop.</li>
<li>bpo-3835: Refuse to use unthreaded Tcl in threaded Python.</li>
<li>bpo-2843: Add new Tk API to Tkinter.</li>
<li>bpo-14184: Increase the default stack size for secondary threads on Mac OS
X to avoid interpreter crashes when using threads on 10.7.</li>
<li>bpo-14180: datetime.date.fromtimestamp(),
datetime.datetime.fromtimestamp() and datetime.datetime.utcfromtimestamp()
now raise an OSError instead of ValueError if localtime() or gmtime()
failed.</li>
<li>bpo-14180: time.ctime(), gmtime(), time.localtime(),
datetime.date.fromtimestamp(), datetime.datetime.fromtimestamp() and
datetime.datetime.utcfromtimestamp() now raises an OverflowError, instead
of a ValueError, if the timestamp does not fit in time_t.</li>
<li>bpo-14180: datetime.datetime.fromtimestamp() and
datetime.datetime.utcfromtimestamp() now round microseconds towards zero
instead of rounding to nearest with ties going away from zero.</li>
<li>bpo-10543: Fix unittest test discovery with Jython bytecode files.</li>
<li>bpo-1178863: Separate initialisation from setting when initializing
Tkinter.Variables; harmonize exceptions to ValueError; only delete
variables that have not been deleted; assert that variable names are
strings.</li>
<li>bpo-14104: Implement time.monotonic() on Mac OS X, patch written by
Nicholas Riley.</li>
<li>bpo-13394: the aifc module now uses warnings.warn() to signal warnings.</li>
<li>bpo-14252: Fix subprocess.Popen.terminate() to not raise an error under
Windows when the child process has already exited.</li>
<li>bpo-14223: curses.addch() is no more limited to the range 0-255 when the
Python curses is not linked to libncursesw. It was a regression introduced
in Python 3.3a1.</li>
<li>bpo-14168: Check for presence of Element._attrs in minidom before
accessing it.</li>
<li>bpo-12328: Fix multiprocessing&#8217;s use of overlapped I/O on Windows. Also,
add a multiprocessing.connection.wait(rlist, timeout=None) function for
polling multiple objects at once.  Patch by sbt.</li>
<li>bpo-14007: Accept incomplete TreeBuilder objects (missing start, end, data
or close method) for the Python implementation as well. Drop the no-op
TreeBuilder().xml() method from the C implementation.</li>
<li>bpo-14210: pdb now has tab-completion not only for command names, but also
for their arguments, wherever possible.</li>
<li>bpo-14310: Sockets can now be with other processes on Windows using the
api socket.socket.share() and socket.fromshare().</li>
<li>bpo-10576: The gc module now has a &#8216;callbacks&#8217; member that will get called
when garbage collection takes place.</li>
</ul>
</div>
<div class="section" id="id93">
<h3>Build<a class="headerlink" href="#id93" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14557: Fix extensions build on HP-UX. Patch by Adi Roiban.</li>
<li>bpo-14387: Do not include accu.h from Python.h.</li>
<li>bpo-14359: Only use O_CLOEXEC in _posixmodule.c if it is defined. Based on
patch from Hervé Coatanhay.</li>
<li>bpo-14321: Do not run pgen during the build if files are up to date.</li>
</ul>
</div>
<div class="section" id="id94">
<h3>Documentation<a class="headerlink" href="#id94" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14034: added the argparse tutorial.</li>
<li>bpo-14324: Fix configure tests for cross builds.</li>
<li>bpo-14327: Call AC_CANONICAL_HOST in configure.ac and check in
config.{guess,sub}. Don&#8217;t use uname calls for cross builds.</li>
</ul>
</div>
<div class="section" id="id95">
<h3>Library<a class="headerlink" href="#id95" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-9041: An issue in ctypes.c_longdouble, ctypes.c_double, and
ctypes.c_float that caused an incorrect exception to be returned in the
case of overflow has been fixed.</li>
<li>bpo-14212: The re module didn&#8217;t retain a reference to buffers it was
scanning, resulting in segfaults.</li>
<li>bpo-14259: The finditer() method of re objects did not take any keyword
arguments, contrary to the documentation.</li>
<li>bpo-10142: Support for SEEK_HOLE/SEEK_DATA (for example, under ZFS).</li>
</ul>
</div>
<div class="section" id="id96">
<h3>Tests<a class="headerlink" href="#id96" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14442: Add missing errno import in test_smtplib.</li>
<li>bpo-8315: (partial fix) python -m unittest test.test_email now works.</li>
</ul>
</div>
</div>
<div class="section" id="python-3-3-0-alpha-1">
<h2>Python 3.3.0 alpha 1<a class="headerlink" href="#python-3-3-0-alpha-1" title="Permalink to this headline">¶</a></h2>
<p><em>Release date: 05-Mar-2012</em></p>
<div class="section" id="id97">
<h3>Core and Builtins<a class="headerlink" href="#id97" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">bpo-14172: Fix reference leak when marshalling a buffer-like object (other
than a bytes object).</p>
</li>
<li><p class="first">bpo-13521: dict.setdefault() now does only one lookup for the given key,
making it &#8220;atomic&#8221; for many purposes.  Patch by Filip Gruszczyński.</p>
</li>
<li><p class="first">PEP 409, <a class="reference external" href="https://bugs.python.org/6210">Issue #6210</a>: &#8220;raise X from None&#8221; is now supported as a means of
suppressing the display of the chained exception context. The chained
context still remains available as the __context__ attribute.</p>
</li>
<li><p class="first">bpo-10181: New memoryview implementation fixes multiple ownership and
lifetime issues of dynamically allocated Py_buffer members (#9990) as well
as crashes (#8305, #7433). Many new features have been added (See
whatsnew/3.3), and the documentation has been updated extensively. The
ndarray test object from _testbuffer.c implements all aspects of PEP-3118,
so further development towards the complete implementation of the PEP can
proceed in a test-driven manner.</p>
<p>Thanks to Nick Coghlan, Antoine Pitrou and Pauli Virtanen for review and
many ideas.</p>
</li>
<li><p class="first">bpo-12834: Fix incorrect results of memoryview.tobytes() for non-
contiguous arrays.</p>
</li>
<li><p class="first">bpo-5231: Introduce memoryview.cast() method that allows changing format
and shape without making a copy of the underlying memory.</p>
</li>
<li><p class="first">bpo-14084: Fix a file descriptor leak when importing a module with a bad
encoding.</p>
</li>
<li><p class="first">Upgrade Unicode data to Unicode 6.1.</p>
</li>
<li><p class="first">bpo-14040: Remove rarely used file name suffixes for C extensions (under
POSIX mainly).</p>
</li>
<li><p class="first">bpo-14051: Allow arbitrary attributes to be set of classmethod and
staticmethod.</p>
</li>
<li><p class="first">bpo-13703: oCERT-2011-003: Randomize hashes of str and bytes to protect
against denial of service attacks due to hash collisions within the dict
and set types. Patch by David Malcolm, based on work by Victor Stinner.</p>
</li>
<li><p class="first">bpo-13020: Fix a reference leak when allocating a structsequence object
fails.  Patch by Suman Saha.</p>
</li>
<li><p class="first">bpo-13908: Ready types returned from PyType_FromSpec.</p>
</li>
<li><p class="first">bpo-11235: Fix OverflowError when trying to import a source file whose
modification time doesn&#8217;t fit in a 32-bit timestamp.</p>
</li>
<li><p class="first">bpo-12705: A SyntaxError exception is now raised when attempting to
compile multiple statements as a single interactive statement.</p>
</li>
<li><p class="first">Fix the builtin module initialization code to store the init function for
future reinitialization.</p>
</li>
<li><p class="first">bpo-8052: The posix subprocess module would take a long time closing all
possible file descriptors in the child process rather than just open file
descriptors.  It now closes only the open fds if possible for the default
close_fds=True behavior.</p>
</li>
<li><p class="first">bpo-13629: Renumber the tokens in token.h so that they match the indexes
into _PyParser_TokenNames.</p>
</li>
<li><p class="first">bpo-13752: Add a casefold() method to str.</p>
</li>
<li><p class="first">bpo-13761: Add a &#8220;flush&#8221; keyword argument to the print() function, used to
ensure flushing the output stream.</p>
</li>
<li><p class="first">bpo-13645: pyc files now contain the size of the corresponding source
code, to avoid timestamp collisions (especially on filesystems with a low
timestamp resolution) when checking for freshness of the bytecode.</p>
</li>
<li><p class="first">PEP 380, <a class="reference external" href="https://bugs.python.org/11682">Issue #11682</a>: Add &#8220;yield from &lt;x&gt;&#8221; to support easy delegation to
subgenerators (initial patch by Greg Ewing, integration into 3.3 by Renaud
Blanch, Ryan Kelly, Zbigniew Jędrzejewski-Szmek and Nick Coghlan)</p>
</li>
<li><p class="first">bpo-13748: Raw bytes literals can now be written with the <tt class="docutils literal"><span class="pre">rb</span></tt> prefix as
well as <tt class="docutils literal"><span class="pre">br</span></tt>.</p>
</li>
<li><p class="first">bpo-12736: Use full unicode case mappings for upper, lower, and title
case.</p>
</li>
<li><p class="first">bpo-12760: Add a create mode to open(). Patch by David Townshend.</p>
</li>
<li><p class="first">bpo-13738: Simplify implementation of bytes.lower() and bytes.upper().</p>
</li>
<li><p class="first">bpo-13577: Built-in methods and functions now have a __qualname__. Patch
by sbt.</p>
</li>
<li><p class="first">bpo-6695: Full garbage collection runs now clear the freelist of set
objects.  Initial patch by Matthias Troffaes.</p>
</li>
<li><p class="first">Fix OSError.__init__ and OSError.__new__ so that each of them can be
overriden and take additional arguments (followup to <a class="reference external" href="https://bugs.python.org/12555">issue #12555</a>).</p>
</li>
<li><p class="first">Fix the fix for <a class="reference external" href="https://bugs.python.org/12149">issue #12149</a>: it was incorrect, although it had the side
effect of appearing to resolve the issue.  Thanks to Mark Shannon for
noticing.</p>
</li>
<li><p class="first">bpo-13505: Pickle bytes objects in a way that is compatible with Python 2
when using protocols &lt;= 2.</p>
</li>
<li><p class="first">bpo-11147: Fix an unused argument in _Py_ANNOTATE_MEMORY_ORDER.  (Fix
given by Campbell Barton).</p>
</li>
<li><p class="first">bpo-13503: Use a more efficient reduction format for bytearrays with
pickle protocol &gt;= 3.  The old reduction format is kept with older
protocols in order to allow unpickling under Python 2.  Patch by Irmen de
Jong.</p>
</li>
<li><p class="first">bpo-7111: Python can now be run without a stdin, stdout or stderr stream.
It was already the case with Python 2.  However, the corresponding sys
module entries are now set to None (instead of an unusable file object).</p>
</li>
<li><p class="first">bpo-11849: Ensure that free()d memory arenas are really released on POSIX
systems supporting anonymous memory mappings.  Patch by Charles-François
Natali.</p>
</li>
<li><p class="first">PEP 3155 / <a class="reference external" href="https://bugs.python.org/13448">issue #13448</a>: Qualified name for classes and functions.</p>
</li>
<li><p class="first">bpo-13436: Fix a bogus error message when an AST object was passed an
invalid integer value.</p>
</li>
<li><p class="first">bpo-13411: memoryview objects are now hashable when the underlying object
is hashable.</p>
</li>
<li><p class="first">bpo-13338: Handle all enumerations in _Py_ANNOTATE_MEMORY_ORDER to allow
compiling extension modules with -Wswitch-enum on gcc. Initial patch by
Floris Bruynooghe.</p>
</li>
<li><p class="first">bpo-10227: Add an allocation cache for a single slice object.  Patch by
Stefan Behnel.</p>
</li>
<li><p class="first">bpo-13393: BufferedReader.read1() now asks the full requested size to the
raw stream instead of limiting itself to the buffer size.</p>
</li>
<li><p class="first">bpo-13392: Writing a pyc file should now be atomic under Windows as well.</p>
</li>
<li><p class="first">bpo-13333: The UTF-7 decoder now accepts lone surrogates (the encoder
already accepts them).</p>
</li>
<li><p class="first">bpo-13389: Full garbage collection passes now clear the freelists for list
and dict objects.  They already cleared other freelists in the
interpreter.</p>
</li>
<li><p class="first">bpo-13327: Remove the need for an explicit None as the second argument to
os.utime, os.lutimes, os.futimes, os.futimens, os.futimesat, in order to
update to the current time. Also added keyword argument handling to
os.utimensat in order to remove the need for explicit None.</p>
</li>
<li><p class="first">bpo-13350: Simplify some C code by replacing most usages of
PyUnicode_Format by PyUnicode_FromFormat.</p>
</li>
<li><p class="first">bpo-13342: input() used to ignore sys.stdin&#8217;s and sys.stdout&#8217;s unicode
error handler in interactive mode (when calling into PyOS_Readline()).</p>
</li>
<li><p class="first">bpo-9896: Add start, stop, and step attributes to range objects.</p>
</li>
<li><p class="first">bpo-13343: Fix a SystemError when a lambda expression uses a global
variable in the default value of a keyword-only argument: <tt class="docutils literal"><span class="pre">lambda</span> <span class="pre">*,</span>
<span class="pre">arg=GLOBAL_NAME:</span> <span class="pre">None</span></tt></p>
</li>
<li><p class="first">bpo-12797: Added custom opener parameter to builtin open() and
FileIO.open().</p>
</li>
<li><p class="first">bpo-10519: Avoid unnecessary recursive function calls in setobject.c.</p>
</li>
<li><p class="first">bpo-10363: Deallocate global locks in Py_Finalize().</p>
</li>
<li><p class="first">bpo-13018: Fix reference leaks in error paths in dictobject.c. Patch by
Suman Saha.</p>
</li>
<li><p class="first">bpo-13201: Define &#8216;==&#8217; and &#8216;!=&#8217; to compare range objects based on the
sequence of values they define (instead of comparing based on object
identity).</p>
</li>
<li><p class="first">bpo-1294232: In a few cases involving metaclass inheritance, the
interpreter would sometimes invoke the wrong metaclass when building a new
class object. These cases now behave correctly. Patch by Daniel Urban.</p>
</li>
<li><p class="first">bpo-12753: Add support for Unicode name aliases and named sequences. Both
<tt class="docutils literal"><span class="pre">unicodedata.lookup()</span></tt> and &#8216;N{...}&#8217; now resolve aliases, and
<tt class="docutils literal"><span class="pre">unicodedata.lookup()</span></tt> resolves named sequences too.</p>
</li>
<li><p class="first">bpo-12170: The count(), find(), rfind(), index() and rindex() methods of
bytes and bytearray objects now accept an integer between 0 and 255 as
their first argument.  Patch by Petri Lehtinen.</p>
</li>
<li><p class="first">bpo-12604: VTRACE macro expanded to no-op in _sre.c to avoid compiler
warnings. Patch by Josh Triplett and Petri Lehtinen.</p>
</li>
<li><p class="first">bpo-12281: Rewrite the MBCS codec to handle correctly replace and ignore
error handlers on all Windows versions. The MBCS codec is now supporting
all error handlers, instead of only replace to encode and ignore to
decode.</p>
</li>
<li><p class="first">bpo-13188: When called without an explicit traceback argument,
generator.throw() now gets the traceback from the passed exception&#8217;s
<tt class="docutils literal"><span class="pre">__traceback__</span></tt> attribute. Patch by Petri Lehtinen.</p>
</li>
<li><p class="first">bpo-13146: Writing a pyc file is now atomic under POSIX.</p>
</li>
<li><p class="first">bpo-7833: Extension modules built using distutils on Windows will no
longer include a &#8220;manifest&#8221; to prevent them failing at import time in some
embedded situations.</p>
</li>
<li><p class="first">PEP 3151 / <a class="reference external" href="https://bugs.python.org/12555">issue #12555</a>: reworking the OS and IO exception hierarchy.</p>
</li>
<li><p class="first">Add internal API for static strings (_Py_identifier et al.).</p>
</li>
<li><p class="first">bpo-13063: the Windows error ERROR_NO_DATA (numbered 232 and described as
&#8220;The pipe is being closed&#8221;) is now mapped to POSIX errno EPIPE (previously
EINVAL).</p>
</li>
<li><p class="first">bpo-12911: Fix memory consumption when calculating the repr() of huge
tuples or lists.</p>
</li>
<li><p class="first">PEP 393: flexible string representation. Thanks to Torsten Becker for the
initial implementation, and Victor Stinner for various bug fixes.</p>
</li>
<li><p class="first">bpo-14081: The &#8216;sep&#8217; and &#8216;maxsplit&#8217; parameter to str.split, bytes.split,
and bytearray.split may now be passed as keyword arguments.</p>
</li>
<li><p class="first">bpo-13012: The &#8216;keepends&#8217; parameter to str.splitlines may now be passed as
a keyword argument:  &#8220;my_string.splitlines(keepends=True)&#8221;.  The same
change also applies to bytes.splitlines and bytearray.splitlines.</p>
</li>
<li><p class="first">bpo-7732: Don&#8217;t open a directory as a file anymore while importing a
module. Ignore the direcotry if its name matchs the module name (e.g.
&#8220;__init__.py&#8221;) and raise a ImportError instead.</p>
</li>
<li><p class="first">bpo-13021: Missing decref on an error path.  Thanks to Suman Saha for
finding the bug and providing a patch.</p>
</li>
<li><p class="first">bpo-12973: Fix overflow checks that relied on undefined behaviour in
list_repeat (listobject.c) and islice_next (itertoolsmodule.c).  These
bugs caused test failures with recent versions of Clang.</p>
</li>
<li><p class="first">bpo-12904: os.utime, os.futimes, os.lutimes, and os.futimesat now write
atime and mtime with nanosecond precision on modern POSIX platforms.</p>
</li>
<li><p class="first">bpo-12802: the Windows error ERROR_DIRECTORY (numbered 267) is now mapped
to POSIX errno ENOTDIR (previously EINVAL).</p>
</li>
<li><p class="first">bpo-9200: The str.is* methods now work with strings that contain non-BMP
characters even in narrow Unicode builds.</p>
</li>
<li><p class="first">bpo-12791: Break reference cycles early when a generator exits with an
exception.</p>
</li>
<li><p class="first">bpo-12773: Make __doc__ mutable on user-defined classes.</p>
</li>
<li><p class="first">bpo-12766: Raise a ValueError when creating a class with a class variable
that conflicts with a name in __slots__.</p>
</li>
<li><p class="first">bpo-12266: Fix str.capitalize() to correctly uppercase/lowercase
titlecased and cased non-letter characters.</p>
</li>
<li><p class="first">bpo-12732: In narrow unicode builds, allow Unicode identifiers which fall
outside the BMP.</p>
</li>
<li><p class="first">bpo-12575: Validate user-generated AST before it is compiled.</p>
</li>
<li><p class="first">Make type(None), type(Ellipsis), and type(NotImplemented) callable. They
return the respective singleton instances.</p>
</li>
<li><p class="first">Forbid summing bytes with sum().</p>
</li>
<li><p class="first">Verify the types of AST strings and identifiers provided by the user
before compiling them.</p>
</li>
<li><p class="first">bpo-12647: The None object now has a __bool__() method that returns False.
Formerly, bool(None) returned False only because of special case logic in
PyObject_IsTrue().</p>
</li>
<li><p class="first">bpo-12579: str.format_map() now raises a ValueError if used on a format
string that contains positional fields. Initial patch by Julian Berman.</p>
</li>
<li><p class="first">bpo-10271: Allow warnings.showwarning() be any callable.</p>
</li>
<li><p class="first">bpo-11627: Fix segfault when __new__ on a exception returns a non-
exception class.</p>
</li>
<li><p class="first">bpo-12149: Update the method cache after a type&#8217;s dictionary gets cleared
by the garbage collector.  This fixes a segfault when an instance and its
type get caught in a reference cycle, and the instance&#8217;s deallocator calls
one of the methods on the type (e.g. when subclassing IOBase).  Diagnosis
and patch by Davide Rizzo.</p>
</li>
<li><p class="first">bpo-9611: FileIO.read() clamps the length to INT_MAX on Windows. (See
also: bpo-9015)</p>
</li>
<li><p class="first">bpo-9642: Uniformize the tests on the availability of the mbcs codec, add
a new HAVE_MBCS define.</p>
</li>
<li><p class="first">bpo-9642: Fix filesystem encoding initialization: use the ANSI code page
on Windows if the mbcs codec is not available, and fail with a fatal error
if we cannot get the locale encoding (if nl_langinfo(CODESET) is not
available) instead of using UTF-8.</p>
</li>
<li><p class="first">When a generator yields, do not retain the caller&#8217;s exception state on the
generator.</p>
</li>
<li><p class="first">bpo-12475: Prevent generators from leaking their exception state into the
caller&#8217;s frame as they return for the last time.</p>
</li>
<li><p class="first">bpo-12291: You can now load multiple marshalled objects from a stream,
with other data interleaved between marshalled objects.</p>
</li>
<li><p class="first">bpo-12356: When required positional or keyword-only arguments are not
given, produce a informative error message which includes the name(s) of
the missing arguments.</p>
</li>
<li><p class="first">bpo-12370: Fix super with no arguments when __class__ is overriden in the
class body.</p>
</li>
<li><p class="first">bpo-12084: os.stat on Windows now works properly with relative symbolic
links when called from any directory.</p>
</li>
<li><p class="first">Loosen type restrictions on the __dir__ method. __dir__ can now return any
sequence, which will be converted to a list and sorted by dir().</p>
</li>
<li><p class="first">bpo-12265: Make error messages produced by passing an invalid set of
arguments to a function more informative.</p>
</li>
<li><p class="first">bpo-12225: Still allow Python to build if Python is not in its hg repo or
mercurial is not installed.</p>
</li>
<li><p class="first">bpo-1195: my_fgets() now always clears errors before calling fgets(). Fix
the following case: sys.stdin.read() stopped with CTRL+d (end of file),
raw_input() interrupted by CTRL+c.</p>
</li>
<li><p class="first">bpo-12216: Allow unexpected EOF errors to happen on any line of the file.</p>
</li>
<li><p class="first">bpo-12199: The TryExcept and TryFinally and AST nodes have been unified
into a Try node.</p>
</li>
<li><p class="first">bpo-9670: Increase the default stack size for secondary threads on Mac OS
X and FreeBSD to reduce the chances of a crash instead of a &#8220;maximum
recursion depth&#8221; RuntimeError exception. (patch by Ronald Oussoren)</p>
</li>
<li><p class="first">bpo-12106: The use of the multiple-with shorthand syntax is now reflected
in the AST.</p>
</li>
<li><p class="first">bpo-12190: Try to use the same filename object when compiling
unmarshalling a code objects in the same file.</p>
</li>
<li><p class="first">bpo-12166: Move implementations of dir() specialized for various types
into the __dir__() methods of those types.</p>
</li>
<li><p class="first">bpo-5715: In socketserver, close the server socket in the child process.</p>
</li>
<li><p class="first">Correct lookup of __dir__ on objects. Among other things, this causes
errors besides AttributeError found on lookup to be propagated.</p>
</li>
<li><p class="first">bpo-12060: Use sig_atomic_t type and volatile keyword in the signal
module. Patch written by Charles-François Natali.</p>
</li>
<li><p class="first">bpo-1746656: Added the if_nameindex, if_indextoname, if_nametoindex
methods to the socket module.</p>
</li>
<li><p class="first">bpo-12044: Fixed subprocess.Popen when used as a context manager to wait
for the process to end when exiting the context to avoid unintentionally
leaving zombie processes around.</p>
</li>
<li><p class="first">bpo-1195: Fix input() if it is interrupted by CTRL+d and then CTRL+c,
clear the end- of-file indicator after CTRL+d.</p>
</li>
<li><p class="first">bpo-1856: Avoid crashes and lockups when daemon threads run while the
interpreter is shutting down; instead, these threads are now killed when
they try to take the GIL.</p>
</li>
<li><p class="first">bpo-9756: When calling a method descriptor or a slot wrapper descriptor,
the check of the object type doesn&#8217;t read the __class__ attribute anymore.
Fix a crash if a class override its __class__ attribute (e.g. a proxy of
the str type). Patch written by Andreas Stührk.</p>
</li>
<li><p class="first">bpo-10517: After fork(), reinitialize the TLS used by the PyGILState_*
APIs, to avoid a crash with the pthread implementation in RHEL 5.  Patch
by Charles-François Natali.</p>
</li>
<li><p class="first">bpo-10914: Initialize correctly the filesystem codec when creating a new
subinterpreter to fix a bootstrap issue with codecs implemented in Python,
as the ISO-8859-15 codec.</p>
</li>
<li><p class="first">bpo-11918: OS/2 and VMS are no more supported because of the lack of
maintainer.</p>
</li>
<li><p class="first">bpo-6780: fix starts/endswith error message to mention that tuples are
accepted too.</p>
</li>
<li><p class="first">bpo-5057: fix a bug in the peepholer that led to non-portable pyc files
between narrow and wide builds while optimizing BINARY_SUBSCR on non-BMP
chars (e.g. &#8220;U00012345&#8221;[0]).</p>
</li>
<li><p class="first">bpo-11845: Fix typo in rangeobject.c that caused a crash in
compute_slice_indices. Patch by Daniel Urban.</p>
</li>
<li><p class="first">bpo-5673: Added a <tt class="xref py py-obj docutils literal"><span class="pre">timeout</span></tt> keyword argument to subprocess.Popen.wait,
subprocess.Popen.communicated, subprocess.call, subprocess.check_call, and
subprocess.check_output.  If the blocking operation takes more than
<tt class="xref py py-obj docutils literal"><span class="pre">timeout</span></tt> seconds, the <a class="reference internal" href="../library/subprocess.html#subprocess.TimeoutExpired" title="subprocess.TimeoutExpired"><tt class="xref py py-obj docutils literal"><span class="pre">subprocess.TimeoutExpired</span></tt></a> exception is raised.</p>
</li>
<li><p class="first">bpo-11650: PyOS_StdioReadline() retries fgets() if it was interrupted
(EINTR), for example if the program is stopped with CTRL+z on Mac OS X.
Patch written by Charles-Francois Natali.</p>
</li>
<li><p class="first">bpo-9319: Include the filename in &#8220;Non-UTF8 code ...&#8221; syntax error.</p>
</li>
<li><p class="first">bpo-10785: Store the filename as Unicode in the Python parser.</p>
</li>
<li><p class="first">bpo-11619: _PyImport_LoadDynamicModule() doesn&#8217;t encode the path to bytes
on Windows.</p>
</li>
<li><p class="first">bpo-10998: Remove mentions of -Q, sys.flags.division_warning and
Py_DivisionWarningFlag left over from Python 2.</p>
</li>
<li><p class="first">bpo-11244: Remove an unnecessary peepholer check that was preventing
negative zeros from being constant-folded properly.</p>
</li>
<li><p class="first">bpo-11395: io.FileIO().write() clamps the data length to 32,767 bytes on
Windows if the file is a TTY to workaround a Windows bug. The Windows
console returns an error (12: not enough space error) on writing into
stdout if stdout mode is binary and the length is greater than 66,000
bytes (or less, depending on heap usage).</p>
</li>
<li><p class="first">bpo-11320: fix bogus memory management in Modules/getpath.c, leading to a
possible crash when calling Py_SetPath().</p>
</li>
<li><p class="first">bpo-11432: A bug was introduced in subprocess.Popen on posix systems with
3.2.0 where the stdout or stderr file descriptor being the same as the
stdin file descriptor would raise an exception. webbrowser.open would
fail. fixed.</p>
</li>
<li><p class="first">bpo-9856: Change object.__format__ with a non-empty format string to be a
DeprecationWarning. In 3.2 it was a PendingDeprecationWarning. In 3.4 it
will be a TypeError.</p>
</li>
<li><p class="first">bpo-11244: The peephole optimizer is now able to constant-fold arbitrarily
complex expressions.  This also fixes a 3.2 regression where operations
involving negative numbers were not constant-folded.</p>
</li>
<li><p class="first">bpo-11450: Don&#8217;t truncate hg version info in Py_GetBuildInfo() when there
are many tags (e.g. when using mq).  Patch by Nadeem Vawda.</p>
</li>
<li><p class="first">bpo-11335: Fixed a memory leak in list.sort when the key function throws
an exception.</p>
</li>
<li><p class="first">bpo-8923: When a string is encoded to UTF-8 in strict mode, the result is
cached into the object. Examples: str.encode(), str.encode(&#8216;utf-8&#8217;),
PyUnicode_AsUTF8String() and PyUnicode_AsEncodedString(unicode, &#8220;utf-8&#8221;,
NULL).</p>
</li>
<li><p class="first">bpo-10829: Refactor PyUnicode_FromFormat(), use the same function to parse
the format string in the 3 steps, fix crashs on invalid format strings.</p>
</li>
<li><p class="first">bpo-13007: whichdb should recognize gdbm 1.9 magic numbers.</p>
</li>
<li><p class="first">bpo-11286: Raise a ValueError from calling PyMemoryView_FromBuffer with a
buffer struct having a NULL data pointer.</p>
</li>
<li><p class="first">bpo-11272: On Windows, input() strips &#8216;r&#8217; (and not only &#8216;n&#8217;), and
sys.stdin uses universal newline (replace &#8216;rn&#8217; by &#8216;n&#8217;).</p>
</li>
<li><p class="first">bpo-11828: startswith and endswith now accept None as slice index. Patch
by Torsten Becker.</p>
</li>
<li><p class="first">bpo-11168: Remove filename debug variable from PyEval_EvalFrameEx(). It
encoded the Unicode filename to UTF-8, but the encoding fails on
undecodable filename (on surrogate characters) which raises an unexpected
UnicodeEncodeError on recursion limit.</p>
</li>
<li><p class="first">bpo-11187: Remove bootstrap code (use ASCII) of
PyUnicode_AsEncodedString(), it was replaced by a better fallback (use the
locale encoding) in PyUnicode_EncodeFSDefault().</p>
</li>
<li><p class="first">Check for NULL result in PyType_FromSpec.</p>
</li>
<li><p class="first">bpo-10516: New copy() and clear() methods for lists and bytearrays.</p>
</li>
<li><p class="first">bpo-11386: bytearray.pop() now throws IndexError when the bytearray is
empty, instead of OverflowError.</p>
</li>
<li><p class="first">bpo-12380: The rjust, ljust and center methods of bytes and bytearray now
accept a bytearray argument.</p>
</li>
</ul>
</div>
<div class="section" id="id98">
<h3>Library<a class="headerlink" href="#id98" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14195: An issue that caused weakref.WeakSet instances to incorrectly
return True for a WeakSet instance &#8216;a&#8217; in both &#8216;a &lt; a&#8217; and &#8216;a &gt; a&#8217; has
been fixed.</li>
<li>bpo-14166: Pickler objects now have an optional <tt class="docutils literal"><span class="pre">dispatch_table</span></tt>
attribute which allows to set custom per-pickler reduction functions.
Patch by sbt.</li>
<li>bpo-14177: marshal.loads() now raises TypeError when given an unicode
string.  Patch by Guilherme Gonçalves.</li>
<li>bpo-13550: Remove the debug machinery from the threading module: remove
verbose arguments from all threading classes and functions.</li>
<li>bpo-14159: Fix the len() of weak containers (WeakSet, WeakKeyDictionary,
WeakValueDictionary) to return a better approximation when some objects
are dead or dying.  Moreover, the implementation is now O(1) rather than
O(n).</li>
<li>bpo-11841: Fix comparison bug with &#8216;rc&#8217; versions in packaging.version.
Patch by Filip Gruszczyński.</li>
<li>bpo-6884: Fix long-standing bugs with MANIFEST.in parsing in distutils on
Windows. Also fixed in packaging.</li>
<li>bpo-8033: sqlite3: Fix 64-bit integer handling in user functions on 32-bit
architectures. Initial patch by Philippe Devalkeneer.</li>
<li>HTMLParser is now able to handle slashes in the start tag.</li>
<li>bpo-13641: Decoding functions in the base64 module now accept ASCII-only
unicode strings.  Patch by Catalin Iacob.</li>
<li>bpo-14043: Speed up importlib&#8217;s _FileFinder by at least 8x, and add a new
importlib.invalidate_caches() function.</li>
<li>bpo-14001: CVE-2012-0845: xmlrpc: Fix an endless loop in
SimpleXMLRPCServer upon malformed POST request.</li>
<li>bpo-13961: Move importlib over to using os.replace() for atomic renaming.</li>
<li>Do away with ambiguous level values (as suggested by PEP 328) in
importlib.__import__() by raising ValueError when level &lt; 0.</li>
<li>bpo-2489: pty.spawn could consume 100% cpu when it encountered an EOF.</li>
<li>bpo-13014: Fix a possible reference leak in SSLSocket.getpeercert().</li>
<li>bpo-13777: Add PF_SYSTEM sockets on OS X. Patch by Michael Goderbauer.</li>
<li>bpo-13015: Fix a possible reference leak in defaultdict.__repr__. Patch by
Suman Saha.</li>
<li>bpo-1326113: distutils&#8217; and packaging&#8217;s build_ext commands option now
correctly parses multiple values (separated by whitespace or commas) given
to their &#8211;libraries option.</li>
<li>bpo-10287: nntplib now queries the server&#8217;s CAPABILITIES first before
sending MODE READER, and only sends it if not already in READER mode.
Patch by Hynek Schlawack.</li>
<li>bpo-13993: HTMLParser is now able to handle broken end tags when
strict=False.</li>
<li>bpo-13930: lib2to3 now supports writing converted output files to another
directory tree as well as copying unchanged files and altering the file
suffix.</li>
<li>bpo-9750: Fix sqlite3.Connection.iterdump on tables and fields with a name
that is a keyword or contains quotes. Patch by Marko Kohtala.</li>
<li>bpo-10287: nntplib now queries the server&#8217;s CAPABILITIES again after
authenticating (since the result may change, according to RFC 4643). Patch
by Hynek Schlawack.</li>
<li>bpo-13590: On OS X 10.7 and 10.6 with Xcode 4.2, building Distutils-based
packages with C extension modules may fail because Apple has removed
gcc-4.2, the version used to build python.org 64-bit/32-bit Pythons.  If
the user does not explicitly override the default C compiler by setting
the CC environment variable, Distutils will now attempt to compile
extension modules with clang if gcc-4.2 is required but not found. Also as
a convenience, if the user does explicitly set CC, substitute its value as
the default compiler in the Distutils LDSHARED configuration variable for
OS X. (Note, the python.org 32-bit-only Pythons use gcc-4.0 and the 10.4u
SDK, neither of which are available in Xcode 4.  This change does not
attempt to override settings to support their use with Xcode 4.)</li>
<li>bpo-13960: HTMLParser is now able to handle broken comments when
strict=False.</li>
<li>When &#8216;&#8217; is a path (e.g. in sys.path), make sure __file__ uses the current
working directory instead of &#8216;&#8217; in importlib.</li>
<li>bpo-13609: Add two functions to query the terminal size:
os.get_terminal_size (low level) and shutil.get_terminal_size (high
level). Patch by Zbigniew Jędrzejewski-Szmek.</li>
<li>bpo-13845: On Windows, time.time() now uses GetSystemTimeAsFileTime()
instead of ftime() to have a resolution of 100 ns instead of 1 ms (the
clock accuracy is between 0.5 ms and 15 ms).</li>
<li>bpo-13846: Add time.monotonic(), monotonic clock.</li>
<li>bpo-8184: multiprocessing: On Windows, don&#8217;t set SO_REUSEADDR on
Connection sockets, and set FILE_FLAG_FIRST_PIPE_INSTANCE on named pipes,
to make sure two listeners can&#8217;t bind to the same socket/pipe (or any
existing socket/pipe).</li>
<li>bpo-10811: Fix recursive usage of cursors. Instead of crashing, raise a
ProgrammingError now.</li>
<li>bpo-13734: Add os.fwalk(), a directory walking function yielding file
descriptors.</li>
<li>bpo-2945: Make the distutils upload command aware of bdist_rpm products.</li>
<li>bpo-13712: pysetup create should not convert package_data to extra_files.</li>
<li>bpo-11805: package_data in setup.cfg should allow more than one value.</li>
<li>bpo-13676: Handle strings with embedded zeros correctly in sqlite3.</li>
<li>bpo-8828: Add new function os.replace(), for cross-platform renaming with
overwriting.</li>
<li>bpo-13848: open() and the FileIO constructor now check for NUL characters
in the file name.  Patch by Hynek Schlawack.</li>
<li>bpo-13806: The size check in audioop decompression functions was too
strict and could reject valid compressed data.  Patch by Oleg Plakhotnyuk.</li>
<li>bpo-13812: When a multiprocessing Process child raises an exception, flush
stderr after printing the exception traceback.</li>
<li>bpo-13885: CVE-2011-3389: the _ssl module would always disable the CBC IV
attack countermeasure.</li>
<li>bpo-13847: time.localtime() and time.gmtime() now raise an OSError instead
of ValueError on failure. time.ctime() and time.asctime() now raises an
OSError if localtime() failed. time.clock() now raises a RuntimeError if
the processor time used is not available or its value cannot be
represented</li>
<li>bpo-13772: In os.symlink() under Windows, do not try to guess the link
target&#8217;s type (file or directory).  The detection was buggy and made the
call non-atomic (therefore prone to race conditions).</li>
<li>bpo-6631: Disallow relative file paths in urllib urlopen methods.</li>
<li>bpo-13722: Avoid silencing ImportErrors when initializing the codecs
registry.</li>
<li>bpo-13781: Fix GzipFile bug that caused an exception to be raised when
opening for writing using a fileobj returned by os.fdopen().</li>
<li>bpo-13803: Under Solaris, distutils doesn&#8217;t include bitness in the
directory name.</li>
<li>bpo-10278: Add time.wallclock() function, monotonic clock.</li>
<li>bpo-13809: Fix regression where bz2 module wouldn&#8217;t work when threads are
disabled. Original patch by Amaury Forgeot d&#8217;Arc.</li>
<li>bpo-13589: Fix some serialization primitives in the aifc module. Patch by
Oleg Plakhotnyuk.</li>
<li>bpo-13642: Unquote before b64encoding <tt class="docutils literal"><span class="pre">user:password</span></tt> during Basic
Authentication. Patch contributed by Joonas Kuorilehto.</li>
<li>bpo-12364: Fix a hang in concurrent.futures.ProcessPoolExecutor. The hang
would occur when retrieving the result of a scheduled future after the
executor had been shut down.</li>
<li>bpo-13502: threading: Fix a race condition in Event.wait() that made it
return False when the event was set and cleared right after.</li>
<li>bpo-9993: When the source and destination are on different filesystems,
and the source is a symlink, shutil.move() now recreates a symlink on the
destination instead of copying the file contents.  Patch by Jonathan
Niehof and Hynek Schlawack.</li>
<li>bpo-12926: Fix a bug in tarfile&#8217;s link extraction.</li>
<li>bpo-13696: Fix the 302 Relative URL Redirection problem.</li>
<li>bpo-13636: Weak ciphers are now disabled by default in the ssl module
(except when SSLv2 is explicitly asked for).</li>
<li>bpo-12715: Add an optional symlinks argument to shutil functions
(copyfile, copymode, copystat, copy, copy2).  When that parameter is true,
symlinks aren&#8217;t dereferenced and the operation instead acts on the symlink
itself (or creates one, if relevant).  Patch by Hynek Schlawack.</li>
<li>Add a flags parameter to select.epoll.</li>
<li>bpo-13626: Add support for SSL Diffie-Hellman key exchange, through the
SSLContext.load_dh_params() method and the ssl.OP_SINGLE_DH_USE option.</li>
<li>bpo-11006: Don&#8217;t issue low level warning in subprocess when pipe2() fails.</li>
<li>bpo-13620: Support for Chrome browser in webbrowser.  Patch contributed by
Arnaud Calmettes.</li>
<li>bpo-11829: Fix code execution holes in inspect.getattr_static for
metaclasses with metaclasses. Patch by Andreas Stührk.</li>
<li>bpo-12708: Add starmap() and starmap_async() methods (similar to
itertools.starmap()) to multiprocessing.Pool.  Patch by Hynek Schlawack.</li>
<li>bpo-1785: Fix inspect and pydoc with misbehaving descriptors.</li>
<li>bpo-13637: &#8220;a2b&#8221; functions in the binascii module now accept ASCII-only
unicode strings.</li>
<li>bpo-13634: Add support for querying and disabling SSL compression.</li>
<li>bpo-13627: Add support for SSL Elliptic Curve-based Diffie-Hellman key
exchange, through the SSLContext.set_ecdh_curve() method and the
ssl.OP_SINGLE_ECDH_USE option.</li>
<li>bpo-13635: Add ssl.OP_CIPHER_SERVER_PREFERENCE, so that SSL servers choose
the cipher based on their own preferences, rather than on the client&#8217;s.</li>
<li>bpo-11813: Fix inspect.getattr_static for modules. Patch by Andreas
Stührk.</li>
<li>bpo-7502: Fix equality comparison for DocTestCase instances.  Patch by
Cédric Krier.</li>
<li>bpo-11870: threading: Properly reinitialize threads internal locks and
condition variables to avoid deadlocks in child processes.</li>
<li>bpo-8035: urllib: Fix a bug where the client could remain stuck after a
redirection or an error.</li>
<li>bpo-13560: os.strerror() now uses the current locale encoding instead of
UTF-8.</li>
<li>bpo-8373: The filesystem path of AF_UNIX sockets now uses the filesystem
encoding and the surrogateescape error handler, rather than UTF-8.  Patch
by David Watson.</li>
<li>bpo-10350: Read and save errno before calling a function which might
overwrite it. Original patch by Hallvard B Furuseth.</li>
<li>bpo-11610: Introduce a more general way to declare abstract properties.</li>
<li>bpo-13591: A bug in importlib has been fixed that caused import_module to
load a module twice.</li>
<li>bpo-13449: sched.scheduler.run() method has a new &#8220;blocking&#8221; parameter
which when set to False makes run() execute the scheduled events due to
expire soonest (if any) and then return.  Patch by Giampaolo Rodolà.</li>
<li>bpo-8684: sched.scheduler class can be safely used in multi-threaded
environments. Patch by Josiah Carlson and Giampaolo Rodolà.</li>
<li>Alias resource.error to OSError ala PEP 3151.</li>
<li>bpo-5689: Add support for lzma compression to the tarfile module.</li>
<li>bpo-13248: Turn 3.2&#8217;s PendingDeprecationWarning into 3.3&#8217;s
DeprecationWarning.  It covers &#8216;cgi.escape&#8217;, &#8216;importlib.abc.PyLoader&#8217;,
&#8216;importlib.abc.PyPycLoader&#8217;, &#8216;nntplib.NNTP.xgtitle&#8217;, &#8216;nntplib.NNTP.xpath&#8217;,
and private attributes of &#8216;smtpd.SMTPChannel&#8217;.</li>
<li>bpo-5905: time.strftime() is now using the current locale encoding,
instead of UTF-8, if the wcsftime() function is not available. (See also:
bpo-13560)</li>
<li>bpo-13464: Add a readinto() method to http.client.HTTPResponse.  Patch by
Jon Kuhn.</li>
<li>tarfile.py: Correctly detect bzip2 compressed streams with blocksizes
other than 900k.</li>
<li>bpo-13439: Fix many errors in turtle docstrings.</li>
<li>bpo-6715: Add a module &#8216;lzma&#8217; for compression using the LZMA algorithm.
Thanks to Per Øyvind Karlsen for the initial implementation.</li>
<li>bpo-13487: Make inspect.getmodule robust against changes done to
sys.modules while it is iterating over it.</li>
<li>bpo-12618: Fix a bug that prevented py_compile from creating byte compiled
files in the current directory.  Initial patch by Sjoerd de Vries.</li>
<li>bpo-13444: When stdout has been closed explicitly, we should not attempt
to flush it at shutdown and print an error.</li>
<li>bpo-12567: The curses module uses Unicode functions for Unicode arguments
when it is linked to the ncurses library. It encodes also Unicode strings
to the locale encoding instead of UTF-8.</li>
<li>bpo-12856: Ensure child processes do not inherit the parent&#8217;s random seed
for filename generation in the tempfile module.  Patch by Brian Harring.</li>
<li>bpo-9957: SpooledTemporaryFile.truncate() now accepts an optional size
parameter, as other file-like objects.  Patch by Ryan Kelly.</li>
<li>bpo-13458: Fix a memory leak in the ssl module when decoding a certificate
with a subjectAltName.  Patch by Robert Xiao.</li>
<li>bpo-13415: os.unsetenv() doesn&#8217;t ignore errors anymore.</li>
<li>bpo-13245: sched.scheduler class constructor&#8217;s timefunc and delayfunct
parameters are now optional. scheduler.enter and scheduler.enterabs
methods gained a new kwargs parameter. Patch contributed by Chris Clark.</li>
<li>bpo-12328: Under Windows, refactor handling of Ctrl-C events and make
_multiprocessing.win32.WaitForMultipleObjects interruptible when the
wait_flag parameter is false.  Patch by sbt.</li>
<li>bpo-13322: Fix BufferedWriter.write() to ensure that BlockingIOError is
raised when the wrapped raw file is non-blocking and the write would
block. Previous code assumed that the raw write() would raise
BlockingIOError, but RawIOBase.write() is defined to returned None when
the call would block. Patch by sbt.</li>
<li>bpo-13358: HTMLParser now calls handle_data only once for each CDATA.</li>
<li>bpo-4147: minidom&#8217;s toprettyxml no longer adds whitespace around a text
node when it is the only child of an element.  Initial patch by Dan
Kenigsberg.</li>
<li>bpo-13374: The Windows bytes API has been deprecated in the os module. Use
Unicode filenames instead of bytes filenames to not depend on the ANSI
code page anymore and to support any filename.</li>
<li>bpo-13297: Use bytes type to send and receive binary data through XMLRPC.</li>
<li>bpo-6397: Support &#8220;/dev/poll&#8221; polling objects in select module, under
Solaris &amp; derivatives.</li>
<li>bpo-1745761: HTMLParser now correctly handles non-valid attributes,
including adjacent and unquoted attributes. (See also: bpo-755670,
bpo-13357, bpo-12629, bpo-1200313)</li>
<li>bpo-13193: Fix distutils.filelist.FileList and packaging.manifest.Manifest
under Windows.</li>
<li>bpo-13384: Remove unnecessary __future__ import in Lib/random.py</li>
<li>bpo-13149: Speed up append-only StringIO objects.</li>
<li>bpo-13373: multiprocessing.Queue.get() could sometimes block indefinitely
when called with a timeout.  Patch by Arnaud Ysmal.</li>
<li>bpo-13254: Fix Maildir initialization so that maildir contents are read
correctly.</li>
<li>bpo-3067: locale.setlocale() now raises TypeError if the second argument
is an invalid iterable. Its documentation and docstring were also updated.
Initial patch by Jyrki Pulliainen.</li>
<li>bpo-13140: Fix the daemon_threads attribute of ThreadingMixIn.</li>
<li>bpo-13339: Fix compile error in posixmodule.c due to missing semicolon.
Thanks to Robert Xiao.</li>
<li>Byte compilation in packaging is now isolated from the calling Python -B
or -O options, instead of being disallowed under -B or buggy under -O.</li>
<li>bpo-10570: curses.putp() and curses.tparm() are now expecting a byte
string, instead of a Unicode string.</li>
<li>bpo-13295: http.server now produces valid HTML 4.01 strict.</li>
<li>bpo-2892: preserve iterparse events in case of SyntaxError.</li>
<li>bpo-13287: urllib.request and urllib.error now contains an __all__
attribute to expose only relevant classes and functions.  Patch by Florent
Xicluna.</li>
<li>bpo-670664: Fix HTMLParser to correctly handle the content of
<tt class="docutils literal"><span class="pre">&lt;script&gt;...&lt;/script&gt;</span></tt> and <tt class="docutils literal"><span class="pre">&lt;style&gt;...&lt;/style&gt;</span></tt>.</li>
<li>bpo-10817: Fix urlretrieve function to raise ContentTooShortError even
when reporthook is None. Patch by Jyrki Pulliainen.</li>
<li>Fix the xmlrpc.client user agent to return something similar to
urllib.request user agent: &#8220;Python-xmlrpc/3.3&#8221;.</li>
<li>bpo-13293: Better error message when trying to marshal bytes using
xmlrpc.client.</li>
<li>bpo-13291: NameError in xmlrpc package.</li>
<li>bpo-13258: Use callable() built-in in the standard library.</li>
<li>bpo-13273: fix a bug that prevented HTMLParser to properly detect some
tags when strict=False.</li>
<li>bpo-11183: Add finer-grained exceptions to the ssl module, so that you
don&#8217;t have to inspect the exception&#8217;s attributes in the common case.</li>
<li>bpo-13216: Add cp65001 codec, the Windows UTF-8 (CP_UTF8).</li>
<li>bpo-13226: Add RTLD_xxx constants to the os module. These constants can be
used with sys.setdlopenflags().</li>
<li>bpo-10278: Add clock_getres(), clock_gettime() and CLOCK_xxx constants to
the time module. time.clock_gettime(time.CLOCK_MONOTONIC) provides a
monotonic clock</li>
<li>bpo-10332: multiprocessing: fix a race condition when a Pool is closed
before all tasks have completed.</li>
<li>bpo-13255: wrong docstrings in array module.</li>
<li>bpo-8540: Remove deprecated Context._clamp attribute in Decimal module.</li>
<li>bpo-13235: Added DeprecationWarning to logging.warn() method and function.</li>
<li>bpo-9168: now smtpd is able to bind privileged port.</li>
<li>bpo-12529: fix cgi.parse_header issue on strings with double-quotes and
semicolons together. Patch by Ben Darnell and Petri Lehtinen.</li>
<li>bpo-13227: functools.lru_cache() now has a option to distinguish calls
with different argument types.</li>
<li>bpo-6090: zipfile raises a ValueError when a document with a timestamp
earlier than 1980 is provided. Patch contributed by Petri Lehtinen.</li>
<li>bpo-13150: sysconfig no longer parses the Makefile and config.h files when
imported, instead doing it at build time.  This makes importing sysconfig
faster and reduces Python startup time by 20%.</li>
<li>bpo-12448: smtplib now flushes stdout while running <tt class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">smtplib</span></tt>
in order to display the prompt correctly.</li>
<li>bpo-12454: The mailbox module is now using ASCII, instead of the locale
encoding, to read and write .mh_sequences files.</li>
<li>bpo-13194: zlib.compressobj().copy() and zlib.decompressobj().copy() are
now available on Windows.</li>
<li>bpo-1673007: urllib.request now supports HEAD request via new method
argument. Patch contributions by David Stanek, Patrick Westerhoff and Ezio
Melotti.</li>
<li>bpo-12386: packaging does not fail anymore when writing the RESOURCES
file.</li>
<li>bpo-13158: Fix decoding and encoding of GNU tar specific base-256 number
fields in tarfile.</li>
<li>bpo-13025: mimetypes is now reading MIME types using the UTF-8 encoding,
instead of the locale encoding.</li>
<li>bpo-10653: On Windows, use strftime() instead of wcsftime() because
wcsftime() doesn&#8217;t format time zone correctly.</li>
<li>bpo-13150: The tokenize module doesn&#8217;t compile large regular expressions
at startup anymore.</li>
<li>bpo-11171: Fix distutils.sysconfig.get_makefile_filename when Python was
configured with different prefix and exec-prefix.</li>
<li>bpo-11254: Teach distutils and packaging to compile .pyc and .pyo files in
PEP 3147-compliant __pycache__ directories.</li>
<li>bpo-7367: Fix pkgutil.walk_paths to skip directories whose contents cannot
be read.</li>
<li>bpo-3163: The struct module gets new format characters &#8216;n&#8217; and &#8216;N&#8217;
supporting C integer types <tt class="docutils literal"><span class="pre">ssize_t</span></tt> and <tt class="docutils literal"><span class="pre">size_t</span></tt>, respectively.</li>
<li>bpo-13099: Fix sqlite3.Cursor.lastrowid under a Turkish locale. Reported
and diagnosed by Thomas Kluyver.</li>
<li>bpo-13087: BufferedReader.seek() now always raises UnsupportedOperation if
the underlying raw stream is unseekable, even if the seek could be
satisfied using the internal buffer.  Patch by John O&#8217;Connor.</li>
<li>bpo-7689: Allow pickling of dynamically created classes when their
metaclass is registered with copyreg.  Patch by Nicolas M. Thiéry and
Craig Citro.</li>
<li>bpo-13034: When decoding some SSL certificates, the subjectAltName
extension could be unreported.</li>
<li>bpo-12306: Expose the runtime version of the zlib C library as a constant,
ZLIB_RUNTIME_VERSION, in the zlib module. Patch by Torsten Landschoff.</li>
<li>bpo-12959: Add collections.ChainMap to collections.__all__.</li>
<li>bpo-8933: distutils&#8217; PKG-INFO files and packaging&#8217;s METADATA files will
now correctly report Metadata-Version: 1.1 instead of 1.0 if a Classifier
or Download-URL field is present.</li>
<li>bpo-12567: Add curses.unget_wch() function. Push a character so the next
get_wch() will return it.</li>
<li>bpo-9561: distutils and packaging now writes egg-info files using UTF-8,
instead of the locale encoding.</li>
<li>bpo-8286: The distutils command sdist will print a warning message instead
of crashing when an invalid path is given in the manifest template.</li>
<li>bpo-12841: tarfile unnecessarily checked the existence of numerical user
and group ids on extraction. If one of them did not exist the respective
id of the current user (i.e. root) was used for the file and ownership
information was lost.</li>
<li>bpo-12888: Fix a bug in HTMLParser.unescape that prevented it to escape
more than 128 entities.  Patch by Peter Otten.</li>
<li>bpo-12878: Expose a __dict__ attribute on io.IOBase and its subclasses.</li>
<li>bpo-12494: On error, call(), check_call(), check_output() and
getstatusoutput() functions of the subprocess module now kill the process,
read its status (to avoid zombis) and close pipes.</li>
<li>bpo-12720: Expose low-level Linux extended file attribute functions in os.</li>
<li>bpo-10946: The distutils commands bdist_dumb, bdist_wininst and bdist_msi
now respect a &#8211;skip-build option given to bdist.  The packaging commands
were fixed too.</li>
<li>bpo-12847: Fix a crash with negative PUT and LONG_BINPUT arguments in the
C pickle implementation.</li>
<li>bpo-11564: Avoid crashes when trying to pickle huge objects or containers
(more than 2**31 items).  Instead, in most cases, an OverflowError is
raised.</li>
<li>bpo-12287: Fix a stack corruption in ossaudiodev module when the FD is
greater than FD_SETSIZE.</li>
<li>bpo-12839: Fix crash in zlib module due to version mismatch. Fix by
Richard M. Tew.</li>
<li>bpo-9923: The mailcap module now correctly uses the platform path
separator for the MAILCAP environment variable on non-POSIX platforms.</li>
<li>bpo-12835: Follow up to #6560 that unconditionally prevents use of the
unencrypted sendmsg/recvmsg APIs on SSL wrapped sockets. Patch by David
Watson.</li>
<li>bpo-12803: SSLContext.load_cert_chain() now accepts a password argument to
be used if the private key is encrypted.  Patch by Adam Simpkins.</li>
<li>bpo-11657: Fix sending file descriptors over 255 over a multiprocessing
Pipe.</li>
<li>bpo-12811: tabnanny.check() now promptly closes checked files. Patch by
Anthony Briggs.</li>
<li>bpo-6560: The sendmsg/recvmsg API is now exposed by the socket module when
provided by the underlying platform, supporting processing of ancillary
data in pure Python code. Patch by David Watson and Heiko Wundram.</li>
<li>bpo-12326: On Linux, sys.platform doesn&#8217;t contain the major version
anymore. It is now always &#8216;linux&#8217;, instead of &#8216;linux2&#8217; or &#8216;linux3&#8217;
depending on the Linux version used to build Python.</li>
<li>bpo-12213: Fix a buffering bug with interleaved reads and writes that
could appear on BufferedRandom streams.</li>
<li>bpo-12778: Reduce memory consumption when JSON-encoding a large container
of many small objects.</li>
<li>bpo-12650: Fix a race condition where a subprocess.Popen could leak
resources (FD/zombie) when killed at the wrong time.</li>
<li>bpo-12744: Fix inefficient representation of integers between 2**31 and
2**63 on systems with a 64-bit C &#8220;long&#8221;.</li>
<li>bpo-12646: Add an &#8216;eof&#8217; attribute to zlib.Decompress, to make it easier to
detect truncated input streams.</li>
<li>bpo-11513: Fix exception handling <tt class="docutils literal"><span class="pre">tarfile.TarFile.gzopen()</span></tt> when the
file cannot be opened.</li>
<li>bpo-12687: Fix a possible buffering bug when unpickling text mode
(protocol 0, mostly) pickles.</li>
<li>bpo-10087: Fix the html output format of the calendar module.</li>
<li>bpo-13121: add support for inplace math operators to collections.Counter.</li>
<li>Add support for unary plus and unary minus to collections.Counter.</li>
<li>bpo-12683: urlparse updated to include svn as schemes that uses relative
paths. (svn from 1.5 onwards support relative path).</li>
<li>bpo-12655: Expose functions from sched.h in the os module: sched_yield(),
sched_setscheduler(), sched_getscheduler(), sched_setparam(),
sched_get_min_priority(), sched_get_max_priority(),
sched_rr_get_interval(), sched_getaffinity(), sched_setaffinity().</li>
<li>Add ThreadError to threading.__all__.</li>
<li>bpo-11104: Fix the behavior of distutils&#8217; sdist command with manually-
maintained MANIFEST files. (See also: bpo-8688)</li>
<li>bpo-11281: smtplib.STMP gets source_address parameter, which adds the
ability to bind to specific source address on a machine with multiple
interfaces. Patch by Paulo Scardine.</li>
<li>bpo-12464: tempfile.TemporaryDirectory.cleanup() should not follow
symlinks: fix it. Patch by Petri Lehtinen.</li>
<li>bpo-8887: &#8220;pydoc somebuiltin.somemethod&#8221; (or
help(&#8216;somebuiltin.somemethod&#8217;) in Python code) now finds the doc of the
method.</li>
<li>bpo-10968: Remove indirection in threading.  The public names (Event,
Condition, etc.) used to be factory functions returning instances of
hidden classes (_Event, _Condition, etc.), because (if Guido recalls
correctly) this code pre-dates the ability to subclass extension types.
It is now possible to inherit from these classes, without having to import
the private underscored names like multiprocessing did.</li>
<li>bpo-9723: Add shlex.quote functions, to escape filenames and command
lines.</li>
<li>bpo-12603: Fix pydoc.synopsis() on files with non-negative st_mtime.</li>
<li>bpo-12514: Use try/finally to assure the timeit module restores garbage
collections when it is done.</li>
<li>bpo-12607: In subprocess, fix issue where if stdin, stdout or stderr is
given as a low fd, it gets overwritten.</li>
<li>bpo-12576: Fix urlopen behavior on sites which do not send (or obfuscate)
a <tt class="docutils literal"><span class="pre">Connection:</span> <span class="pre">close</span></tt> header.</li>
<li>bpo-12560: Build libpython.so on OpenBSD. Patch by Stefan Sperling.</li>
<li>bpo-1813: Fix codec lookup under Turkish locales.</li>
<li>bpo-12591: Improve support of &#8220;universal newlines&#8221; in the subprocess
module: the piped streams can now be properly read from or written to.</li>
<li>bpo-12591: Allow io.TextIOWrapper to work with raw IO objects (without a
read1() method), and add a <em>write_through</em> parameter to mandate unbuffered
writes.</li>
<li>bpo-10883: Fix socket leaks in urllib.request when using FTP.</li>
<li>bpo-12592: Make Python build on OpenBSD 5 (and future major releases).</li>
<li>bpo-12372: POSIX semaphores are broken on AIX: don&#8217;t use them.</li>
<li>bpo-12551: Provide a get_channel_binding() method on SSL sockets so as to
get channel binding data for the current SSL session (only the &#8220;tls-
unique&#8221; channel binding is implemented).  This allows the implementation
of certain authentication mechanisms such as SCRAM-SHA-1-PLUS.  Patch by
Jacek Konieczny.</li>
<li>bpo-665194: email.utils now has format_datetime and parsedate_to_datetime
functions, allowing for round tripping of RFC2822 format dates.</li>
<li>bpo-12571: Add a plat-linux3 directory mirroring the plat-linux2
directory, so that &#8220;import DLFCN&#8221; and other similar imports work on Linux
3.0.</li>
<li>bpo-7484: smtplib no longer puts &lt;&gt; around addresses in VRFY and EXPN
commands; they aren&#8217;t required and in fact postfix doesn&#8217;t support that
form.</li>
<li>bpo-12273: Remove ast.__version__. AST changes can be accounted for by
checking sys.version_info or sys._mercurial.</li>
<li>Silence spurious &#8220;broken pipe&#8221; tracebacks when shutting down a
ProcessPoolExecutor.</li>
<li>Fix potential resource leaks in concurrent.futures.ProcessPoolExecutor by
joining all queues and processes when shutdown() is called.</li>
<li>bpo-11603: Fix a crash when __str__ is rebound as __repr__.  Patch by
Andreas Stührk.</li>
<li>bpo-11321: Fix a crash with multiple imports of the _pickle module when
embedding Python.  Patch by Andreas Stührk.</li>
<li>bpo-6755: Add get_wch() method to curses.window class. Patch by Iñigo
Serna.</li>
<li>Add cgi.closelog() function to close the log file.</li>
<li>bpo-12502: asyncore: fix polling loop with AF_UNIX sockets.</li>
<li>bpo-4376: ctypes now supports nested structures in a endian different than
the parent structure. Patch by Vlad Riscutia.</li>
<li>Raise ValueError when attempting to set the _CHUNK_SIZE attribute of a
TextIOWrapper to a huge value, not TypeError.</li>
<li>bpo-12504: Close file handles in a timely manner in packaging.database.
This fixes a bug with the remove (uninstall) feature on Windows.</li>
<li>bpo-12169: Factor out code used by various packaging commands to make HTTP
POST requests, and make sure it uses CRLF. (See also: bpo-10510)</li>
<li>bpo-12016: Multibyte CJK decoders now resynchronize faster. They only
ignore the first byte of an invalid byte sequence. For example,
b&#8217;xffn&#8217;.decode(&#8216;gb2312&#8217;, &#8216;replace&#8217;) gives &#8216;ufffdn&#8217; instead of
&#8216;ufffd&#8217;.</li>
<li>bpo-12459: time.sleep() now raises a ValueError if the sleep length is
negative, instead of an infinite sleep on Windows or raising an IOError on
Linux for example, to have the same behaviour on all platforms.</li>
<li>bpo-12451: pydoc: html_getfile() now uses tokenize.open() to support
Python scripts using a encoding different than UTF-8 (read the coding
cookie of the script).</li>
<li>bpo-12493: subprocess: Popen.communicate() now also handles EINTR errors
if the process has only one pipe.</li>
<li>bpo-12467: warnings: fix a race condition if a warning is emitted at
shutdown, if globals()[&#8216;__file__&#8217;] is None.</li>
<li>bpo-12451: pydoc: importfile() now opens the Python script in binary mode,
instead of text mode using the locale encoding, to avoid encoding issues.</li>
<li>bpo-12451: runpy: run_path() now opens the Python script in binary mode,
instead of text mode using the locale encoding, to support other encodings
than UTF-8 (scripts using the coding cookie).</li>
<li>bpo-12451: xml.dom.pulldom: parse() now opens files in binary mode instead
of the text mode (using the locale encoding) to avoid encoding issues.</li>
<li>bpo-12147: Adjust the new-in-3.2 smtplib.send_message method for better
conformance to the RFCs:  correctly handle Sender and Resent- headers.</li>
<li>bpo-12352: Fix a deadlock in multiprocessing.Heap when a block is freed by
the garbage collector while the Heap lock is held.</li>
<li>bpo-12462: time.sleep() now immediately calls the (Python) signal handler
if it is interrupted by a signal, instead of having to wait until the next
instruction.</li>
<li>bpo-12442: new shutil.disk_usage function, providing total, used and free
disk space statistics.</li>
<li>bpo-12451: The XInclude default loader of xml.etree now decodes files from
UTF-8 instead of the locale encoding if the encoding is not specified. It
now also opens XML files for the parser in binary mode instead of the text
mode to avoid encoding issues.</li>
<li>bpo-12451: doctest.debug_script() doesn&#8217;t create a temporary file anymore
to avoid encoding issues.</li>
<li>bpo-12451: pydoc.synopsis() now reads the encoding cookie if available, to
read the Python script from the right encoding.</li>
<li>bpo-12451: distutils now opens the setup script in binary mode to read the
encoding cookie, instead of opening it in UTF-8.</li>
<li>bpo-9516: On Mac OS X, change Distutils to no longer globally attempt to
check or set the MACOSX_DEPLOYMENT_TARGET environment variable for the
interpreter process.  This could cause failures in non-Distutils
subprocesses and was unreliable since tests or user programs could modify
the interpreter environment after Distutils set it.  Instead, have
Distutils set the deployment target only in the environment of each build
subprocess.  It is still possible to globally override the default by
setting MACOSX_DEPLOYMENT_TARGET before launching the interpreter; its
value must be greater or equal to the default value, the value with which
the interpreter was built.  Also, implement the same handling in
packaging.</li>
<li>bpo-12422: In the copy module, don&#8217;t store objects that are their own copy
in the memo dict.</li>
<li>bpo-12303: Add sigwaitinfo() and sigtimedwait() to the signal module.</li>
<li>bpo-12404: Remove C89 incompatible code from mmap module. Patch by Akira
Kitada.</li>
<li>bpo-1874: email now detects and reports as a defect the presence of any
CTE other than 7bit, 8bit, or binary on a multipart.</li>
<li>bpo-12383: Fix subprocess module with env={}: don&#8217;t copy the environment
variables, start with an empty environment.</li>
<li>bpo-11637: Fix support for importing packaging setup hooks from the
project directory.</li>
<li>bpo-6771: Moved the curses.wrapper function from the single-function
wrapper module into __init__, eliminating the module.  Since __init__ was
already importing the function to curses.wrapper, there is no API change.</li>
<li>bpo-11584: email.header.decode_header no longer fails if the header passed
to it is a Header object, and Header/make_header no longer fail if given
binary unknown-8bit input.</li>
<li>bpo-11700: mailbox proxy object close methods can now be called multiple
times without error.</li>
<li>bpo-11767: Correct file descriptor leak in mailbox&#8217;s __getitem__ method.</li>
<li>bpo-12133: AbstractHTTPHandler.do_open() of urllib.request closes the HTTP
connection if its getresponse() method fails with a socket error. Patch
written by Ezio Melotti.</li>
<li>bpo-12240: Allow multiple setup hooks in packaging&#8217;s setup.cfg files.
Original patch by Erik Bray.</li>
<li>bpo-9284: Allow inspect.findsource() to find the source of doctest
functions.</li>
<li>bpo-11595: Fix assorted bugs in packaging.util.cfg_to_args, a
compatibility helper for the distutils-packaging transition.  Original
patch by Erik Bray.</li>
<li>bpo-12287: In ossaudiodev, check that the device isn&#8217;t closed in several
methods.</li>
<li>bpo-12009: Fixed regression in netrc file comment handling.</li>
<li>bpo-12246: Warn and fail when trying to install a third-party project from
an uninstalled Python (built in a source checkout).  Original patch by
Tshepang Lekhonkhobe.</li>
<li>bpo-10694: zipfile now ignores garbage at the end of a zipfile.</li>
<li>bpo-12283: Fixed regression in smtplib quoting of leading dots in DATA.</li>
<li>bpo-10424: Argparse now includes the names of the missing required
arguments in the missing arguments error message.</li>
<li>bpo-12168: SysLogHandler now allows NUL termination to be controlled using
a new &#8216;append_nul&#8217; attribute on the handler.</li>
<li>bpo-11583: Speed up os.path.isdir on Windows by using GetFileAttributes
instead of os.stat.</li>
<li>bpo-12021: Make mmap&#8217;s read() method argument optional. Patch by Petri
Lehtinen.</li>
<li>bpo-9205: concurrent.futures.ProcessPoolExecutor now detects killed
children and raises BrokenProcessPool in such a situation.  Previously it
would reliably freeze/deadlock.</li>
<li>bpo-12040: Expose a new attribute <tt class="docutils literal"><span class="pre">sentinel</span></tt> on instances of
<tt class="docutils literal"><span class="pre">multiprocessing.Process</span></tt>.  Also, fix Process.join() to not use polling
anymore, when given a timeout.</li>
<li>bpo-11893: Remove obsolete internal wrapper class <tt class="docutils literal"><span class="pre">SSLFakeFile</span></tt> in the
smtplib module.  Patch by Catalin Iacob.</li>
<li>bpo-12080: Fix a Decimal.power() case that took an unreasonably long time
to compute.</li>
<li>bpo-12221: Remove __version__ attributes from pyexpat, pickle, tarfile,
pydoc, tkinter, and xml.parsers.expat. This were useless version constants
left over from the Mercurial transition</li>
<li>Named tuples now work correctly with vars().</li>
<li>bpo-12085: Fix an attribute error in subprocess.Popen destructor if the
constructor has failed, e.g. because of an undeclared keyword argument.
Patch written by Oleg Oshmyan.</li>
<li>bpo-12028: Make threading._get_ident() public, rename it to
threading.get_ident() and document it. This function was already used
using _thread.get_ident().</li>
<li>bpo-12171: IncrementalEncoder.reset() of CJK codecs (multibytecodec) calls
encreset() instead of decreset().</li>
<li>bpo-12218: Removed wsgiref.egg-info.</li>
<li>bpo-12196: Add pipe2() to the os module.</li>
<li>bpo-985064: Make plistlib more resilient to faulty input plists. Patch by
Mher Movsisyan.</li>
<li>bpo-1625: BZ2File and bz2.decompress() now support multi-stream files.
Initial patch by Nir Aides.</li>
<li>bpo-12175: BufferedReader.read(-1) now calls raw.readall() if available.</li>
<li>bpo-12175: FileIO.readall() now only reads the file position and size
once.</li>
<li>bpo-12175: RawIOBase.readall() now returns None if read() returns None.</li>
<li>bpo-12175: FileIO.readall() now raises a ValueError instead of an IOError
if the file is closed.</li>
<li>bpo-11109: New service_action method for BaseServer, used by ForkingMixin
class for cleanup. Initial Patch by Justin Warkentin.</li>
<li>bpo-12045: Avoid duplicate execution of command in
ctypes.util._get_soname().  Patch by Sijin Joseph.</li>
<li>bpo-10818: Remove the Tk GUI and the serve() function of the pydoc module,
pydoc -g has been deprecated in Python 3.2 and it has a new enhanced web
server.</li>
<li>bpo-1441530: In imaplib, read the data in one chunk to speed up large
reads and simplify code.</li>
<li>bpo-12070: Fix the Makefile parser of the sysconfig module to handle
correctly references to &#8220;bogus variable&#8221; (e.g. &#8220;prefix=$/opt/python&#8221;).</li>
<li>bpo-12100: Don&#8217;t reset incremental encoders of CJK codecs at each call to
their encode() method anymore, but continue to call the reset() method if
the final argument is True.</li>
<li>bpo-12049: Add RAND_bytes() and RAND_pseudo_bytes() functions to the ssl
module.</li>
<li>bpo-6501: os.device_encoding() returns None on Windows if the application
has no console.</li>
<li>bpo-12105: Add O_CLOEXEC to the os module.</li>
<li>bpo-12079: Decimal(&#8216;Infinity&#8217;).fma(Decimal(&#8216;0&#8217;),
(3.91224318126786e+19+0j)) now raises TypeError (reflecting the invalid
type of the 3rd argument) rather than Decimal.InvalidOperation.</li>
<li>bpo-12124: zipimport doesn&#8217;t keep a reference to zlib.decompress() anymore
to be able to unload the module.</li>
<li>Add the packaging module, an improved fork of distutils (also known as
distutils2).</li>
<li>bpo-12065: connect_ex() on an SSL socket now returns the original errno
when the socket&#8217;s timeout expires (it used to return None).</li>
<li>bpo-8809: The SMTP_SSL constructor and SMTP.starttls() now support passing
a <tt class="docutils literal"><span class="pre">context</span></tt> argument pointing to an ssl.SSLContext instance. Patch by
Kasun Herath.</li>
<li>bpo-9516: avoid errors in sysconfig when MACOSX_DEPLOYMENT_TARGET is set
in shell. (See also: bpo-9516)</li>
<li>bpo-8650: Make zlib module 64-bit clean. compress(), decompress() and
their incremental counterparts now raise OverflowError if given an input
larger than 4GB, instead of silently truncating the input and returning an
incorrect result.</li>
<li>bpo-12050: zlib.decompressobj().decompress() now clears the
unconsumed_tail attribute when called without a max_length argument.</li>
<li>bpo-12062: Fix a flushing bug when doing a certain type of I/O sequence on
a file opened in read+write mode (namely: reading, seeking a bit forward,
writing, then seeking before the previous write but still within buffered
data, and writing again).</li>
<li>bpo-9971: Write an optimized implementation of BufferedReader.readinto().
Patch by John O&#8217;Connor.</li>
<li>bpo-11799: urllib.request Authentication Handlers will raise a ValueError
when presented with an unsupported Authentication Scheme. Patch
contributed by Yuval Greenfield.</li>
<li>bpo-10419: build_scripts command of distutils handles correctly non-ASCII
path (path to the Python executable). Open and write the script in binary
mode, but ensure that the shebang is decodable from UTF-8 and from the
encoding of the script. (See also: bpo-6011)</li>
<li>bpo-8498: In socket.accept(), allow to specify 0 as a backlog value in
order to accept exactly one connection.  Patch by Daniel Evers.</li>
<li>bpo-12011: signal.signal() and signal.siginterrupt() raise an OSError,
instead of a RuntimeError: OSError has an errno attribute.</li>
<li>bpo-3709: add a flush_headers method to BaseHTTPRequestHandler, which
manages the sending of headers to output stream and flushing the internal
headers buffer. Patch contribution by Andrew Schaaf</li>
<li>bpo-11743: Rewrite multiprocessing connection classes in pure Python.</li>
<li>bpo-11164: Stop trying to use _xmlplus in the xml module.</li>
<li>bpo-11888: Add log2 function to math module. Patch written by Mark
Dickinson.</li>
<li>bpo-12012: ssl.PROTOCOL_SSLv2 becomes optional.</li>
<li>bpo-8407: The signal handler writes the signal number as a single byte
instead of a nul byte into the wakeup file descriptor. So it is possible
to wait more than one signal and know which signals were raised.</li>
<li>bpo-8407: Add pthread_kill(), sigpending() and sigwait() functions to the
signal module.</li>
<li>bpo-11927: SMTP_SSL now uses port 465 by default as documented.  Patch by
Kasun Herath.</li>
<li>bpo-12002: ftplib&#8217;s abort() method raises TypeError.</li>
<li>bpo-11916: Add a number of MacOSX specific definitions to the errno
module. Patch by Pierre Carrier.</li>
<li>bpo-11999: fixed sporadic sync failure mailbox.Maildir due to its trying
to detect mtime changes by comparing to the system clock instead of to the
previous value of the mtime.</li>
<li>bpo-11072: added MLSD command (RFC-3659) support to ftplib.</li>
<li>bpo-8808: The IMAP4_SSL constructor now allows passing an SSLContext
parameter to control parameters of the secure channel.  Patch by Sijin
Joseph.</li>
<li>ntpath.samefile failed to notice that &#8220;a.txt&#8221; and &#8220;A.TXT&#8221; refer to the
same file on Windows XP. As noticed in <a class="reference external" href="https://bugs.python.org/10684">issue #10684</a>.</li>
<li>bpo-12000: When a SSL certificate has a subjectAltName without any dNSName
entry, ssl.match_hostname() should use the subject&#8217;s commonName. Patch by
Nicolas Bareil.</li>
<li>bpo-10775: assertRaises, assertRaisesRegex, assertWarns, and
assertWarnsRegex now accept a keyword argument &#8216;msg&#8217; when used as context
managers.  Initial patch by Winston Ewert.</li>
<li>bpo-10684: shutil.move used to delete a folder on case insensitive
filesystems when the source and destination name where the same except for
the case.</li>
<li>bpo-11647: objects created using contextlib.contextmanager now support
more than one call to the function when used as a decorator. Initial patch
by Ysj Ray.</li>
<li>bpo-11930: Removed deprecated time.accept2dyear variable. Removed year &gt;=
1000 restriction from datetime.strftime.</li>
<li>logging: don&#8217;t define QueueListener if Python has no thread support.</li>
<li>functools.cmp_to_key() now works with collections.Hashable().</li>
<li>bpo-11277: mmap.mmap() calls fcntl(fd, F_FULLFSYNC) on Mac OS X to get
around a mmap bug with sparse files. Patch written by Steffen Daode
Nurpmeso.</li>
<li>bpo-8407: Add signal.pthread_sigmask() function to fetch and/or change the
signal mask of the calling thread.</li>
<li>bpo-11858: configparser.ExtendedInterpolation expected lower-case section
names.</li>
<li>bpo-11324: ConfigParser(interpolation=None) now works correctly.</li>
<li>bpo-11811: ssl.get_server_certificate() is now IPv6-compatible.  Patch by
Charles- François Natali.</li>
<li>bpo-11763: don&#8217;t use difflib in TestCase.assertMultiLineEqual if the
strings are too long.</li>
<li>bpo-11236: getpass.getpass responds to ctrl-c or ctrl-z on terminal.</li>
<li>bpo-11856: Speed up parsing of JSON numbers.</li>
<li>bpo-11005: threading.RLock()._release_save() raises a RuntimeError if the
lock was not acquired.</li>
<li>bpo-11258: Speed up ctypes.util.find_library() under Linux by a factor of
5 to 10. Initial patch by Jonas H.</li>
<li>bpo-11382: Trivial system calls, such as dup() or pipe(), needn&#8217;t release
the GIL. Patch by Charles-François Natali.</li>
<li>bpo-11223: Add threading._info() function providing informations about the
thread implementation.</li>
<li>bpo-11731: simplify/enhance email parser/generator API by introducing
policy objects.</li>
<li>bpo-11768: The signal handler of the signal module only calls
Py_AddPendingCall() for the first signal to fix a deadlock on reentrant or
parallel calls. PyErr_SetInterrupt() writes also into the wake up file.</li>
<li>bpo-11492: fix several issues with header folding in the email package.</li>
<li>bpo-11852: Add missing imports and update tests.</li>
<li>bpo-11875: collections.OrderedDict&#8217;s __reduce__ was temporarily mutating
the object instead of just working on a copy.</li>
<li>bpo-11467: Fix urlparse behavior when handling urls which contains scheme
specific part only digits. Patch by Santoso Wijaya.</li>
<li>collections.Counter().copy() now works correctly for subclasses.</li>
<li>bpo-11474: Fix the bug with url2pathname() handling of &#8216;/C|/&#8217; on Windows.
Patch by Santoso Wijaya.</li>
<li>bpo-11684: complete email.parser bytes API by adding BytesHeaderParser.</li>
<li>The bz2 module now handles 4GiB+ input buffers correctly.</li>
<li>bpo-9233: Fix json.loads(&#8216;{}&#8217;) to return a dict (instead of a list), when
_json is not available.</li>
<li>bpo-11830: Remove unnecessary introspection code in the decimal module.</li>
<li>bpo-11703: urllib2.geturl() does not return correct url when the original
url contains #fragment.</li>
<li>bpo-10019: Fixed regression in json module where an indent of 0 stopped
adding newlines and acted instead like &#8216;None&#8217;.</li>
<li>bpo-11186: pydoc ignores a module if its name contains a surrogate
character in the index of modules.</li>
<li>bpo-11815: Use a light-weight SimpleQueue for the result queue in
concurrent.futures.ProcessPoolExecutor.</li>
<li>bpo-5162: Treat services like frozen executables to allow child spawning
from multiprocessing.forking on Windows.</li>
<li>logging.basicConfig now supports an optional &#8216;handlers&#8217; argument taking an
iterable of handlers to be added to the root logger. Additional parameter
checks were also added to basicConfig.</li>
<li>bpo-11814: Fix likely typo in multiprocessing.Pool._terminate().</li>
<li>bpo-11747: Fix range formatting in difflib.context_diff() and
difflib.unified_diff().</li>
<li>bpo-8428: Fix a race condition in multiprocessing.Pool when terminating
worker processes: new processes would be spawned while the pool is being
shut down. Patch by Charles-François Natali.</li>
<li>bpo-2650: re.escape() no longer escapes the &#8216;_&#8217;.</li>
<li>bpo-11757: select.select() now raises ValueError when a negative timeout
is passed (previously, a select.error with EINVAL would be raised).  Patch
by Charles- François Natali.</li>
<li>bpo-7311: fix html.parser to accept non-ASCII attribute values.</li>
<li>bpo-11605: email.parser.BytesFeedParser was incorrectly converting
multipart subparts with an 8-bit CTE into unicode instead of preserving
the bytes.</li>
<li>bpo-1690608: email.util.formataddr is now RFC 2047 aware:  it now has a
charset parameter that defaults to utf-8 and is used as the charset for
RFC 2047 encoding when the realname contains non-ASCII characters.</li>
<li>bpo-10963: Ensure that subprocess.communicate() never raises EPIPE.</li>
<li>bpo-10791: Implement missing method GzipFile.read1(), allowing GzipFile to
be wrapped in a TextIOWrapper.  Patch by Nadeem Vawda.</li>
<li>bpo-11707: Added a fast C version of functools.cmp_to_key(). Patch by
Filip Gruszczyński.</li>
<li>bpo-11688: Add sqlite3.Connection.set_trace_callback().  Patch by Torsten
Landschoff.</li>
<li>bpo-11746: Fix SSLContext.load_cert_chain() to accept elliptic curve
private keys.</li>
<li>bpo-5863: Rewrite BZ2File in pure Python, and allow it to accept file-like
objects using a new <tt class="docutils literal"><span class="pre">fileobj</span></tt> constructor argument.  Patch by Nadeem
Vawda.</li>
<li>unittest.TestCase.assertSameElements has been removed.</li>
<li>sys.getfilesystemencoding() raises a RuntimeError if initfsencoding() was
not called yet: detect bootstrap (startup) issues earlier.</li>
<li>bpo-11393: Add the new faulthandler module.</li>
<li>bpo-11618: Fix the timeout logic in threading.Lock.acquire() under
Windows.</li>
<li>Removed the &#8216;strict&#8217; argument to email.parser.Parser, which has been
deprecated since Python 2.4.</li>
<li>bpo-11256: Fix inspect.getcallargs on functions that take only keyword
arguments.</li>
<li>bpo-11696: Fix ID generation in msilib.</li>
<li>itertools.accumulate now supports an optional <em>func</em> argument for a user-
supplied binary function.</li>
<li>bpo-11692: Remove unnecessary demo functions in subprocess module.</li>
<li>bpo-9696: Fix exception incorrectly raised by xdrlib.Packer.pack_int when
trying to pack a negative (in-range) integer.</li>
<li>bpo-11675: multiprocessing.[Raw]Array objects created from an integer size
are now zeroed on creation.  This matches the behaviour specified by the
documentation.</li>
<li>bpo-7639: Fix short file name generation in bdist_msi</li>
<li>bpo-11635: Don&#8217;t use polling in worker threads and processes launched by
concurrent.futures.</li>
<li>bpo-6811: Allow importlib to change a code object&#8217;s co_filename attribute
to match the path to where the source code currently is, not where the
code object originally came from.</li>
<li>bpo-8754: Have importlib use the repr of a module name in error messages.</li>
<li>bpo-11591: Prevent &#8220;import site&#8221; from modifying sys.path when python was
started with -S.</li>
<li>collections.namedtuple() now adds a _source attribute to the generated
class.  This make the source more accessible than the outdated &#8220;verbose&#8221;
option which prints to stdout but doesn&#8217;t make the source string
available.</li>
<li>bpo-11371: Mark getopt error messages as localizable.  Patch by Filip
Gruszczyński.</li>
<li>bpo-11333: Add __slots__ to collections ABCs.</li>
<li>bpo-11628: cmp_to_key generated class should use __slots__.</li>
<li>bpo-11666: let help() display named tuple attributes and methods that
start with a leading underscore.</li>
<li>bpo-11662: Make urllib and urllib2 ignore redirections if the scheme is
not HTTP, HTTPS or FTP (CVE-2011-1521).</li>
<li>bpo-5537: Fix time2isoz() and time2netscape() functions of
httplib.cookiejar for expiration year greater than 2038 on 32-bit systems.</li>
<li>bpo-4391: Use proper gettext plural forms in optparse.</li>
<li>bpo-11127: Raise a TypeError when trying to pickle a socket object.</li>
<li>bpo-11563: <tt class="docutils literal"><span class="pre">Connection:</span> <span class="pre">close</span></tt> header is sent by requests using
URLOpener class which helps in closing of sockets after connection is
over. Patch contributions by Jeff McNeil and Nadeem Vawda.</li>
<li>bpo-11459: A <tt class="docutils literal"><span class="pre">bufsize</span></tt> value of 0 in subprocess.Popen() really creates
unbuffered pipes, such that select() works properly on them.</li>
<li>bpo-5421: Fix misleading error message when one of socket.sendto()&#8217;s
arguments has the wrong type.  Patch by Nikita Vetoshkin.</li>
<li>bpo-10812: Add some extra posix functions to the os module.</li>
<li>bpo-10979: unittest stdout buffering now works with class and module setup
and teardown.</li>
<li>bpo-11243: fix the parameter querying methods of Message to work if the
headers contain un-encoded non-ASCII data.</li>
<li>bpo-11401: fix handling of headers with no value; this fixes a regression
relative to Python2 and the result is now the same as it was in Python2.</li>
<li>bpo-9298: base64 bodies weren&#8217;t being folded to line lengths less than 78,
which was a regression relative to Python2.  Unlike Python2, the last line
of the folded body now ends with a carriage return.</li>
<li>bpo-11560: shutil.unpack_archive now correctly handles the format
parameter. Patch by Evan Dandrea.</li>
<li>bpo-5870: Add <a class="reference internal" href="../library/subprocess.html#subprocess.DEVNULL" title="subprocess.DEVNULL"><tt class="xref py py-obj docutils literal"><span class="pre">subprocess.DEVNULL</span></tt></a> constant.</li>
<li>bpo-11133: fix two cases where inspect.getattr_static can trigger code
execution. Patch by Andreas Stührk.</li>
<li>bpo-11569: use absolute path to the sysctl command in multiprocessing to
ensure that it will be found regardless of the shell PATH. This ensures
that multiprocessing.cpu_count works on default installs of MacOSX.</li>
<li>bpo-11501: disutils.archive_utils.make_zipfile no longer fails if zlib is
not installed. Instead, the zipfile.ZIP_STORED compression is used to
create the ZipFile. Patch by Natalia B. Bidart.</li>
<li>bpo-11289: <tt class="xref py py-obj docutils literal"><span class="pre">smtp.SMTP</span></tt> class is now a context manager so it can be used in
a <tt class="xref py py-obj docutils literal"><span class="pre">with</span></tt> statement.  Contributed by Giampaolo Rodola.</li>
<li>bpo-11554: Fixed support for Japanese codecs; previously the body output
encoding was not done if euc-jp or shift-jis was specified as the charset.</li>
<li>bpo-11407: <tt class="xref py py-obj docutils literal"><span class="pre">TestCase.run</span></tt> returns the result object used or created.
Contributed by Janathan Hartley.</li>
<li>bpo-11500: Fixed a bug in the OS X proxy bypass code for fully qualified
IP addresses in the proxy exception list.</li>
<li>bpo-11491: dbm.error is no longer raised when dbm.open is called with the
&#8220;n&#8221; as the flag argument and the file exists. The behavior matches the
documentation and general logic.</li>
<li>bpo-1162477: Postel Principle adjustment to email date parsing: handle the
fact that some non-compliant MUAs use &#8216;.&#8217; instead of &#8216;:&#8217; in time specs.</li>
<li>bpo-11131: Fix sign of zero in decimal.Decimal plus and minus operations
when the rounding mode is ROUND_FLOOR.</li>
<li>bpo-9935: Speed up pickling of instances of user-defined classes.</li>
<li>bpo-5622: Fix curses.wrapper to raise correct exception if curses
initialization fails.</li>
<li>bpo-11408: In threading.Lock.acquire(), only call gettimeofday() when
really necessary. Patch by Charles-François Natali.</li>
<li>bpo-11391: Writing to a mmap object created with
<tt class="docutils literal"><span class="pre">mmap.PROT_READ|mmap.PROT_EXEC</span></tt> would segfault instead of raising a
TypeError.  Patch by Charles-François Natali.</li>
<li>bpo-9795: add context manager protocol support for nntplib.NNTP class.</li>
<li>bpo-11306: mailbox in certain cases adapts to an inability to open certain
files in read-write mode.  Previously it detected this by checking for
EACCES, now it also checks for EROFS.</li>
<li>bpo-11265: asyncore now correctly handles EPIPE, EBADF and EAGAIN errors
on accept(), send() and recv().</li>
<li>bpo-11377: Deprecate platform.popen() and reimplement it with os.popen().</li>
<li>bpo-8513: On UNIX, subprocess supports bytes command string.</li>
<li>bpo-10866: Add socket.sethostname().  Initial patch by Ross Lagerwall.</li>
<li>bpo-11140: Lock.release() now raises a RuntimeError when attempting to
release an unacquired lock, as claimed in the threading documentation. The
_thread.error exception is now an alias of RuntimeError.  Patch by Filip
Gruszczyński.  Patch for _dummy_thread by Aymeric Augustin.</li>
<li>bpo-8594: ftplib now provides a source_address parameter to specify which
(address, port) to bind to before connecting.</li>
<li>bpo-11326: Add the missing connect_ex() implementation for SSL sockets,
and make it work for non-blocking connects.</li>
<li>bpo-11297: Add collections.ChainMap().</li>
<li>bpo-10755: Add the posix.flistdir() function.  Patch by Ross Lagerwall.</li>
<li>bpo-4761: Add the <tt class="docutils literal"><span class="pre">*at()</span></tt> family of functions (openat(), etc.) to the
posix module. Patch by Ross Lagerwall.</li>
<li>bpo-7322: Trying to read from a socket&#8217;s file-like object after a timeout
occurred now raises an error instead of silently losing data.</li>
<li>bpo-11291: poplib.POP no longer suppresses errors on quit().</li>
<li>bpo-11177: asyncore&#8217;s create_socket() arguments can now be omitted.</li>
<li>bpo-6064: Add a <tt class="docutils literal"><span class="pre">daemon</span></tt> keyword argument to the threading.Thread and
multiprocessing.Process constructors in order to override the default
behaviour of inheriting the daemonic property from the current
thread/process.</li>
<li>bpo-10956: Buffered I/O classes retry reading or writing after a signal
has arrived and the handler returned successfully.</li>
<li>bpo-10784: New os.getpriority() and os.setpriority() functions.</li>
<li>bpo-11114: Fix catastrophic performance of tell() on text files (up to
1000x faster in some cases).  It is still one to two order of magnitudes
slower than binary tell().</li>
<li>bpo-10882: Add os.sendfile function.</li>
<li>bpo-10868: Allow usage of the register method of an ABC as a class
decorator.</li>
<li>bpo-11224: Fixed a regression in tarfile that affected the file-like
objects returned by TarFile.extractfile() regarding performance, memory
consumption and failures with the stream interface.</li>
<li>bpo-10924: Adding salt and Modular Crypt Format to crypt library. Moved
old C wrapper to _crypt, and added a Python wrapper with enhanced salt
generation and simpler API for password generation.</li>
<li>bpo-11074: Make &#8216;tokenize&#8217; so it can be reloaded.</li>
<li>bpo-11085: Moved collections abstract base classes into a separate module
called collections.abc, following the pattern used by importlib.abc. For
backwards compatibility, the names are imported into the collections
module.</li>
<li>bpo-4681: Allow mmap() to work on file sizes and offsets larger than 4GB,
even on 32-bit builds.  Initial patch by Ross Lagerwall, adapted for
32-bit Windows.</li>
<li>bpo-11169: compileall module uses repr() to format filenames and paths to
escape surrogate characters and show spaces.</li>
<li>bpo-11089: Fix performance issue limiting the use of ConfigParser() with
large config files.</li>
<li>bpo-10276: Fix the results of zlib.crc32() and zlib.adler32() on buffers
larger than 4GB.  Patch by Nadeem Vawda.</li>
<li>bpo-11388: Added a clear() method to MutableSequence</li>
<li>bpo-11174: Add argparse.MetavarTypeHelpFormatter, which uses type names
for the names of optional and positional arguments in help messages.</li>
<li>bpo-9348: Raise an early error if argparse nargs and metavar don&#8217;t match.</li>
<li>bpo-9026: Fix order of argparse sub-commands in help messages.</li>
<li>bpo-9347: Fix formatting for tuples in argparse type= error messages.</li>
<li>bpo-12191: Added shutil.chown() to change user and/or group owner of a
given path also specifying their names.</li>
<li>bpo-13988: The _elementtree accelerator is used whenever available. Now
xml.etree.cElementTree becomes a deprecated alias to ElementTree.</li>
</ul>
</div>
<div class="section" id="id99">
<h3>Build<a class="headerlink" href="#id99" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-6807: Run msisupport.mak earlier.</li>
<li>bpo-10580: Minor grammar change in Windows installer.</li>
<li>bpo-13326: Clean __pycache__ directories correctly on OpenBSD.</li>
<li>PEP 393: the configure option &#8211;with-wide-unicode is removed.</li>
<li>bpo-12852: Set _XOPEN_SOURCE to 700, instead of 600, to get POSIX 2008
functions on OpenBSD (e.g. fdopendir).</li>
<li>bpo-11863: Remove support for legacy systems deprecated in Python 3.2
(following PEP 11).  These systems are systems using Mach C Threads, SunOS
lightweight processes, GNU pth threads and IRIX threads.</li>
<li>bpo-8746: Correct faulty configure checks so that os.chflags() and
os.lchflags() are once again built on systems that support these functions
(BSD and OS X). Also add new stat file flags for OS X (UF_HIDDEN and
UF_COMPRESSED).</li>
<li>bpo-10645: Installing Python no longer creates a Python-X.Y.Z-pyX.Y.egg-
info file in the lib-dynload directory.</li>
<li>Do not accidentally include the directory containing sqlite.h twice when
building sqlite3.</li>
<li>bpo-11217: For 64-bit/32-bit Mac OS X universal framework builds, ensure
&#8220;make install&#8221; creates symlinks in &#8211;prefix bin for the &#8220;-32&#8221; files in the
framework bin directory like the installer does.</li>
<li>bpo-11347: Use &#8211;no-as-needed when linking libpython3.so.</li>
<li>bpo-11411: Fix &#8216;make DESTDIR=&#8217; with a relative destination.</li>
<li>bpo-11268: Prevent Mac OS X Installer failure if Documentation package had
previously been installed.</li>
<li>bpo-11495: OSF support is eliminated. It was deprecated in Python 3.2.</li>
</ul>
</div>
<div class="section" id="id100">
<h3>IDLE<a class="headerlink" href="#id100" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14409: IDLE now properly executes commands in the Shell window when it
cannot read the normal config files on startup and has to use the built-in
default key bindings. There was previously a bug in one of the defaults.</li>
<li>IDLE can be launched as python -m idlelib</li>
<li>bpo-3573: IDLE hangs when passing invalid command line args
(directory(ies) instead of file(s)) (Patch by Guilherme Polo)</li>
<li>bpo-14200: IDLE shell crash on printing non-BMP unicode character.</li>
<li>bpo-5219: Prevent event handler cascade in IDLE.</li>
<li>bpo-964437: Make IDLE help window non-modal. Patch by Guilherme Polo and
Roger Serwy.</li>
<li>bpo-13933: IDLE auto-complete did not work with some imported module, like
hashlib. (Patch by Roger Serwy)</li>
<li>bpo-13506: Add &#8216;&#8217; to path for IDLE Shell when started and restarted with
Restart Shell. Original patches by Marco Scataglini and Roger Serwy.</li>
<li>bpo-4625: If IDLE cannot write to its recent file or breakpoint files,
display a message popup and continue rather than crash.  Original patch by
Roger Serwy.</li>
<li>bpo-8641: Update IDLE 3 syntax coloring to recognize b&#8221;..&#8221; and not u&#8221;..&#8221;.
Patch by Tal Einat.</li>
<li>bpo-13296: Fix IDLE to clear compile __future__ flags on shell restart.
(Patch by Roger Serwy)</li>
<li>bpo-9871: Prevent IDLE 3 crash when given byte stings with invalid hex
escape sequences, like b&#8217;x0&#8217;. (Original patch by Claudiu Popa.)</li>
<li>bpo-12636: IDLE reads the coding cookie when executing a Python script.</li>
<li>bpo-12540: Prevent zombie IDLE processes on Windows due to changes in
os.kill().</li>
<li>bpo-12590: IDLE editor window now always displays the first line when
opening a long file.  With Tk 8.5, the first line was hidden.</li>
<li>bpo-11088: don&#8217;t crash when using F5 to run a script in IDLE on MacOSX
with Tk 8.5.</li>
<li>bpo-1028: Tk returns invalid Unicode null in %A: UnicodeDecodeError. With
Tk &lt; 8.5 _tkinter.c:PythonCmd() raised UnicodeDecodeError, caused IDLE to
exit. Converted to valid Unicode null in PythonCmd().</li>
<li>bpo-11718: IDLE&#8217;s open module dialog couldn&#8217;t find the __init__.py file in
a package.</li>
</ul>
</div>
<div class="section" id="id101">
<h3>Tools/Demos<a class="headerlink" href="#id101" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-14053: patchcheck.py (&#8220;make patchcheck&#8221;) now works with MQ patches.
Patch by Francisco Martín Brugué.</li>
<li>bpo-13930: 2to3 is now able to write its converted output files to another
directory tree as well as copying unchanged files and altering the file
suffix.  See its new -o, -W and &#8211;add-suffix options.  This makes it more
useful in many automated code translation workflows.</li>
<li>bpo-13628: python-gdb.py is now able to retrieve more frames in the Python
traceback if Python is optimized.</li>
<li>bpo-11996: libpython (gdb), replace &#8220;py-bt&#8221; command by &#8220;py-bt-full&#8221; and
add a smarter &#8220;py-bt&#8221; command printing a classic Python traceback.</li>
<li>bpo-11179: Make ccbench work under Python 3.1 and 2.7 again.</li>
<li>bpo-10639: reindent.py no longer converts newlines and will raise an error
if attempting to convert a file with mixed newlines. &#8220;&#8211;newline&#8221; option
added to specify new line character.</li>
</ul>
</div>
<div class="section" id="id102">
<h3>Library<a class="headerlink" href="#id102" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-16847: Fixed improper use of _PyUnicode_CheckConsistency() in non-
pydebug builds. Several extension modules now compile cleanly when
assert()s are enabled in standard builds (-DDEBUG flag).</li>
<li>bpo-13840: The error message produced by ctypes.create_string_buffer when
given a Unicode string has been fixed.</li>
<li>bpo-9975: socket: Fix incorrect use of flowinfo and scope_id. Patch by
Vilmos Nebehaj.</li>
<li>bpo-7777: socket: Add Reliable Datagram Sockets (PF_RDS) support.</li>
<li>bpo-13159: FileIO and BZ2Compressor/BZ2Decompressor now use a linear-time
buffer growth strategy instead of a quadratic-time one.</li>
<li>bpo-10141: socket: Add SocketCAN (PF_CAN) support. Initial patch by
Matthias Fuchs, updated by Tiago Gonçalves.</li>
<li>bpo-13070: Fix a crash when a TextIOWrapper caught in a reference cycle
would be finalized after the reference to its underlying BufferedRWPair&#8217;s
writer got cleared by the GC.</li>
<li>bpo-12881: ctypes: Fix segfault with large structure field names.</li>
<li>bpo-13058: ossaudiodev: fix a file descriptor leak on error. Patch by
Thomas Jarosch.</li>
<li>bpo-13013: ctypes: Fix a reference leak in PyCArrayType_from_ctype. Thanks
to Suman Saha for finding the bug and providing a patch.</li>
<li>bpo-13022: Fix: _multiprocessing.recvfd() doesn&#8217;t check that file
descriptor was actually received.</li>
<li>bpo-1172711: Add &#8216;long long&#8217; support to the array module. Initial patch by
Oren Tirosh and Hirokazu Yamamoto.</li>
<li>bpo-12483: ctypes: Fix a crash when the destruction of a callback object
triggers the garbage collector.</li>
<li>bpo-12950: Fix passing file descriptors in multiprocessing, under
OpenIndiana/Illumos.</li>
<li>bpo-12764: Fix a crash in ctypes when the name of a Structure field is not
a string.</li>
<li>bpo-11241: subclasses of ctypes.Array can now be subclassed.</li>
<li>bpo-9651: Fix a crash when ctypes.create_string_buffer(0) was passed to
some functions like file.write().</li>
<li>bpo-10309: Define _GNU_SOURCE so that mremap() gets the proper signature.
Without this, architectures where sizeof void* != sizeof int are broken.
Patch given by Hallvard B Furuseth.</li>
<li>bpo-12051: Fix segfault in json.dumps() while encoding highly-nested
objects using the C accelerations.</li>
<li>bpo-12017: Fix segfault in json.loads() while decoding highly-nested
objects using the C accelerations.</li>
<li>bpo-1838: Prevent segfault in ctypes, when _as_parameter_ on a class is
set to an instance of the class.</li>
</ul>
</div>
<div class="section" id="id103">
<h3>Tests<a class="headerlink" href="#id103" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-13125: Silence spurious test_lib2to3 output when in non-verbose mode.
Patch by Mikhail Novikov.</li>
<li>bpo-13447: Add a test file to host regression tests for bugs in the
scripts found in the Tools directory.</li>
<li>bpo-10881: Fix test_site failure with OS X framework builds.</li>
<li>bpo-13901: Prevent test_distutils failures on OS X with &#8211;enable-shared.</li>
<li>bpo-13862: Fix spurious failure in test_zlib due to runtime/compile time
minor versions not matching.</li>
<li>bpo-12804: Fix test_socket and test_urllib2net failures when running tests
on a system without internet access.</li>
<li>bpo-13726: Fix the ambiguous -S flag in regrtest. It is -o/&#8211;slow for slow
tests.</li>
<li>bpo-11659: Fix ResourceWarning in test_subprocess introduced by #11459.
Patch by Ben Hayden.</li>
<li>bpo-11577: fix ResourceWarning triggered by improved binhex test coverage</li>
<li>bpo-11509: Significantly increase test coverage of fileinput. Patch by
Denver Coneybeare at PyCon 2011 Sprints.</li>
<li>bpo-11689: Fix a variable scoping error in an sqlite3 test</li>
<li>bpo-13786: Remove unimplemented &#8216;trace&#8217; long option from regrtest.py.</li>
<li>bpo-13725: Fix regrtest to recognize the documented -d flag. Patch by Erno
Tukia.</li>
<li>bpo-13304: Skip test case if user site-packages disabled (-s or
PYTHONNOUSERSITE). (Patch by Carl Meyer)</li>
<li>bpo-5661: Add a test for ECONNRESET/EPIPE handling to test_asyncore. Patch
by Xavier de Gaye.</li>
<li>bpo-13218: Fix test_ssl failures on Debian/Ubuntu.</li>
<li>Re-enable lib2to3&#8217;s test_parser.py tests, though with an expected failure
(see issue 13125).</li>
<li>bpo-12656: Add tests for IPv6 and Unix sockets to test_asyncore.</li>
<li>bpo-6484: Add unit tests for mailcap module (patch by Gregory Nofi)</li>
<li>bpo-11651: Improve the Makefile test targets to run more of the test suite
more quickly. The &#8211;multiprocess option is now enabled by default,
reducing the amount of time needed to run the tests. &#8220;make test&#8221; and &#8220;make
quicktest&#8221; now include some resource-intensive tests, but no longer run
the test suite twice to check for bugs in .pyc generation.
Tools/scripts/run_test.py provides an easy platform-independent way to run
test suite with sensible defaults.</li>
<li>bpo-12331: The test suite for the packaging module can now run from an
installed Python.</li>
<li>bpo-12331: The test suite for lib2to3 can now run from an installed
Python.</li>
<li>bpo-12626: In regrtest, allow to filter tests using a glob filter with the
<tt class="docutils literal"><span class="pre">-m</span></tt> (or <tt class="docutils literal"><span class="pre">--match</span></tt>) option.  This works with all test cases using the
unittest module.  This is useful with long test suites such as test_io or
test_subprocess.</li>
<li>bpo-12624: It is now possible to fail after the first failure when running
in verbose mode (<tt class="docutils literal"><span class="pre">-v</span></tt> or <tt class="docutils literal"><span class="pre">-W</span></tt>), by using the <tt class="docutils literal"><span class="pre">--failfast</span></tt> (or
<tt class="docutils literal"><span class="pre">-G</span></tt>) option to regrtest.  This is useful with long test suites such as
test_io or test_subprocess.</li>
<li>bpo-12587: Correct faulty test file and reference in test_tokenize. (Patch
by Robert Xiao)</li>
<li>bpo-12573: Add resource checks for dangling Thread and Process objects.</li>
<li>bpo-12549: Correct test_platform to not fail when OS X returns &#8216;x86_64&#8217; as
the processor type on some Mac systems.</li>
<li>Skip network tests when getaddrinfo() returns EAI_AGAIN, meaning a
temporary failure in name resolution.</li>
<li>bpo-11812: Solve transient socket failure to connect to &#8216;localhost&#8217; in
test_telnetlib.py.</li>
<li>Solved a potential deadlock in test_telnetlib.py. Related to <a class="reference external" href="https://bugs.python.org/11812">issue #11812</a>.</li>
<li>Avoid failing in test_robotparser when mueblesmoraleda.com is flaky and an
overzealous DNS service (e.g. OpenDNS) redirects to a placeholder Web
site.</li>
<li>Avoid failing in test_urllibnet.test_bad_address when some overzealous DNS
service (e.g. OpenDNS) resolves a non-existent domain name.  The test is
now skipped instead.</li>
<li>bpo-12440: When testing whether some bits in SSLContext.options can be
reset, check the version of the OpenSSL headers Python was compiled
against, rather than the runtime version of the OpenSSL library.</li>
<li>bpo-11512: Add a test suite for the cgitb module. Patch by Robbie Clemons.</li>
<li>bpo-12497: Install test/data to prevent failures of the various codecmaps
tests.</li>
<li>bpo-12496: Install test/capath directory to prevent test_connect_capath
testcase failure in test_ssl.</li>
<li>bpo-12469: Run wakeup and pending signal tests in a subprocess to run the
test in a fresh process with only one thread and to not change signal
handling of the parent process.</li>
<li>bpo-8716: Avoid crashes caused by Aqua Tk on OSX when attempting to run
test_tk or test_ttk_guionly under a username that is not currently logged
in to the console windowserver (as may be the case under buildbot or ssh).</li>
<li>bpo-12407: Explicitly skip test_capi.EmbeddingTest under Windows.</li>
<li>bpo-12400: regrtest -W doesn&#8217;t rerun the tests twice anymore, but captures
the output and displays it on failure instead. regrtest -v doesn&#8217;t print
the error twice anymore if there is only one error.</li>
<li>bpo-12141: Install copies of template C module file so that test_build_ext
of test_distutils and test_command_build_ext of test_packaging are no
longer silently skipped when run outside of a build directory.</li>
<li>bpo-8746: Add additional tests for os.chflags() and os.lchflags(). Patch
by Garrett Cooper.</li>
<li>bpo-10736: Fix test_ttk test_widgets failures with Cocoa Tk 8.5.9 2.8 +
on Mac OS X. (Patch by Ronald Oussoren)</li>
<li>bpo-12057: Add tests for ISO 2022 codecs (iso2022_jp, iso2022_jp_2,
iso2022_kr).</li>
<li>bpo-12096: Fix a race condition in test_threading.test_waitfor(). Patch
written by Charles-François Natali.</li>
<li>bpo-11614: import __hello__ prints &#8220;Hello World!&#8221;. Patch written by
Andreas Stührk.</li>
<li>bpo-5723: Improve json tests to be executed with and without
accelerations.</li>
<li>bpo-12041: Make test_wait3 more robust.</li>
<li>bpo-11873: Change regex in test_compileall to fix occasional failures when
when the randomly generated temporary path happened to match the regex.</li>
<li>bpo-11958: Fix FTP tests for IPv6, bind to &#8221;::1&#8221; instead of &#8220;localhost&#8221;.
Patch written by Charles-Francois Natali.</li>
<li>bpo-8407: Fix tests of test_io using threads and an alarm: use
pthread_sigmask() to ensure that the SIGALRM signal is received by the
main thread. (See also: bpo-11859)</li>
<li>bpo-11811: Factor out detection of IPv6 support on the current host and
make it available as <tt class="docutils literal"><span class="pre">test.support.IPV6_ENABLED</span></tt>.  Patch by Charles-
François Natali.</li>
<li>bpo-10914: Add a minimal embedding test to test_capi.</li>
<li>bpo-11223: Skip test_lock_acquire_interruption() and
test_rlock_acquire_interruption() of test_threadsignals if a thread lock
is implemented using a POSIX mutex and a POSIX condition variable. A POSIX
condition variable cannot be interrupted by a signal (e.g. on Linux, the
futex system call is restarted).</li>
<li>bpo-11790: Fix sporadic failures in
test_multiprocessing.WithProcessesTestCondition.</li>
<li>Fix possible &#8220;file already exists&#8221; error when running the tests in
parallel.</li>
<li>bpo-11719: Fix message about unexpected test_msilib skip on non-Windows
platforms. Patch by Nadeem Vawda.</li>
<li>bpo-11727: Add a &#8211;timeout option to regrtest: if a test takes more than
TIMEOUT seconds, dumps the traceback of all threads and exits.</li>
<li>bpo-11653: fix -W with -j in regrtest.</li>
<li>The email test suite now lives in the Lib/test/test_email package.  The
test harness code has also been modernized to allow use of new unittest
features.</li>
<li>regrtest now discovers test packages as well as test modules.</li>
<li>bpo-11577: improve test coverage of binhex.py. Patch by Arkady Koplyarov.</li>
<li>New test_crashers added to exercise the scripts in the Lib/test/crashers
directory and confirm they fail as expected</li>
<li>bpo-11578: added test for the timeit module.  Patch by Michael Henry.</li>
<li>bpo-11503: improve test coverage of posixpath.py. Patch by Evan Dandrea.</li>
<li>bpo-11505: improves test coverage of string.py, increases granularity of
string.Formatter tests. Initial patch by Alicia Arlen.</li>
<li>bpo-11548: Improve test coverage of the shutil module. Patch by Evan
Dandrea.</li>
<li>bpo-11554: Reactivated test_email_codecs.</li>
<li>bpo-11505: improves test coverage of string.py. Patch by Alicia Arlen</li>
<li>bpo-11490: test_subprocess.test_leaking_fds_on_error no longer gives a
false positive if the last directory in the path is inaccessible.</li>
<li>bpo-11223: Fix test_threadsignals to fail, not hang, when the non-
semaphore implementation of locks is used under POSIX.</li>
<li>bpo-10911: Add tests on CGI with non-ASCII characters. Patch written by
Pierre Quentel.</li>
<li>bpo-9931: Fix hangs in GUI tests under Windows in certain conditions.
Patch by Hirokazu Yamamoto.</li>
<li>bpo-10512: Properly close sockets under test.test_cgi.</li>
<li>bpo-10992: Make tests pass under coverage.</li>
<li>bpo-10826: Prevent sporadic failure in test_subprocess on Solaris due to
open door files.</li>
<li>bpo-10990: Prevent tests from clobbering a set trace function.</li>
</ul>
</div>
<div class="section" id="id104">
<h3>C API<a class="headerlink" href="#id104" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-13452: PyUnicode_EncodeDecimal() doesn&#8217;t support error handlers
different than &#8220;strict&#8221; anymore. The caller was unable to compute the size
of the output buffer: it depends on the error handler.</li>
<li>bpo-13560: Add PyUnicode_DecodeLocale(), PyUnicode_DecodeLocaleAndSize()
and PyUnicode_EncodeLocale() functions to the C API to decode/encode
from/to the current locale encoding.</li>
<li>bpo-10831: PyUnicode_FromFormat() supports %li, %lli and %zi formats.</li>
<li>bpo-11246: Fix PyUnicode_FromFormat(&#8220;%V&#8221;) to decode the byte string from
UTF-8 (with replace error handler) instead of ISO-8859-1 (in strict mode).
Patch written by Ray Allen.</li>
<li>bpo-10830: Fix PyUnicode_FromFormatV(&#8220;%c&#8221;) for non-BMP characters on
narrow build.</li>
<li>Add PyObject_GenericGetDict and PyObject_GeneriSetDict. They are generic
implementations for the getter and setter of a <tt class="docutils literal"><span class="pre">__dict__</span></tt> descriptor of
C types.</li>
<li>bpo-13727: Add 3 macros to access PyDateTime_Delta members:
PyDateTime_DELTA_GET_DAYS, PyDateTime_DELTA_GET_SECONDS,
PyDateTime_DELTA_GET_MICROSECONDS.</li>
<li>bpo-10542: Add 4 macros to work with surrogates: Py_UNICODE_IS_SURROGATE,
Py_UNICODE_IS_HIGH_SURROGATE, Py_UNICODE_IS_LOW_SURROGATE,
Py_UNICODE_JOIN_SURROGATES.</li>
<li>bpo-12724: Add Py_RETURN_NOTIMPLEMENTED macro for returning
NotImplemented.</li>
<li>PY_PATCHLEVEL_REVISION has been removed, since it&#8217;s meaningless with
Mercurial.</li>
<li>bpo-12173: The first argument of PyImport_ImportModuleLevel is now <tt class="xref py py-obj docutils literal"><span class="pre">const</span>
<span class="pre">char</span> <span class="pre">*</span></tt> instead of <tt class="xref py py-obj docutils literal"><span class="pre">char</span> <span class="pre">*</span></tt>.</li>
<li>bpo-12380: PyArg_ParseTuple now accepts a bytearray for the &#8216;c&#8217; format.</li>
</ul>
</div>
<div class="section" id="id105">
<h3>Documentation<a class="headerlink" href="#id105" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bpo-13989: Document that GzipFile does not support text mode, and give a
more helpful error message when opened with an invalid mode string.</li>
<li>bpo-13921: Undocument and clean up sqlite3.OptimizedUnicode, which is
obsolete in Python 3.x. It&#8217;s now aliased to str for backwards
compatibility.</li>
<li>bpo-12102: Document that buffered files must be flushed before being used
with mmap. Patch by Steffen Daode Nurpmeso.</li>
<li>bpo-8982: Improve the documentation for the argparse Namespace object.</li>
<li>bpo-9343: Document that argparse parent parsers must be configured before
their children.</li>
<li>bpo-13498: Clarify docs of os.makedirs()&#8217;s exist_ok argument.  Done with
great native- speaker help from R. David Murray.</li>
<li>bpo-13491: Fix many errors in sqlite3 documentation. Initial patch for
#13491 by Johannes Vogel. (See also: bpo-13995)</li>
<li>bpo-13402: Document absoluteness of sys.executable.</li>
<li>bpo-13883: PYTHONCASEOK also works on OS X.</li>
<li>bpo-9021: Add an introduction to the copy module documentation.</li>
<li>bpo-6005: Examples in the socket library documentation use sendall, where
relevant, instead send method.</li>
<li>bpo-12798: Updated the mimetypes documentation.</li>
<li>bpo-12949: Document the kwonlyargcount argument for the PyCode_New C API
function.</li>
<li>bpo-13513: Fix io.IOBase documentation to correctly link to the
io.IOBase.readline method instead of the readline module.</li>
<li>bpo-13237: Reorganise subprocess documentation to emphasise convenience
functions and the most commonly needed arguments to Popen.</li>
<li>bpo-13141: Demonstrate recommended style for socketserver examples.</li>
<li>bpo-11818: Fix tempfile examples for Python 3.</li>
</ul>
<p><strong>(For information about older versions, consult the HISTORY file.)</strong></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#python-3-3-7-final">Python 3.3.7 final</a></li>
<li><a class="reference internal" href="#python-3-3-7-release-candidate-1">Python 3.3.7 release candidate 1</a><ul>
<li><a class="reference internal" href="#security">Security</a></li>
<li><a class="reference internal" href="#core-and-builtins">Core and Builtins</a></li>
<li><a class="reference internal" href="#library">Library</a></li>
<li><a class="reference internal" href="#tests">Tests</a></li>
<li><a class="reference internal" href="#c-api">C API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-6-final">Python 3.3.6 final</a><ul>
<li><a class="reference internal" href="#id2">Core and Builtins</a></li>
<li><a class="reference internal" href="#id3">Library</a></li>
<li><a class="reference internal" href="#id4">Tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-5-final">Python 3.3.5 final</a></li>
<li><a class="reference internal" href="#python-3-3-5-release-candidate-2">Python 3.3.5 release candidate 2</a><ul>
<li><a class="reference internal" href="#id5">Core and Builtins</a></li>
<li><a class="reference internal" href="#id6">Library</a></li>
<li><a class="reference internal" href="#id7">Tests</a></li>
<li><a class="reference internal" href="#tools-demos">Tools/Demos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-5-release-candidate-1">Python 3.3.5 release candidate 1</a><ul>
<li><a class="reference internal" href="#id8">Core and Builtins</a></li>
<li><a class="reference internal" href="#id9">Library</a></li>
<li><a class="reference internal" href="#idle">IDLE</a></li>
<li><a class="reference internal" href="#id10">Tests</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#build">Build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-4-final">Python 3.3.4 final</a><ul>
<li><a class="reference internal" href="#id11">Library</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-4-release-candidate-1">Python 3.3.4 release candidate 1</a><ul>
<li><a class="reference internal" href="#id12">Core and Builtins</a></li>
<li><a class="reference internal" href="#id13">Library</a></li>
<li><a class="reference internal" href="#id14">IDLE</a></li>
<li><a class="reference internal" href="#id15">Tests</a></li>
<li><a class="reference internal" href="#id16">Documentation</a></li>
<li><a class="reference internal" href="#id17">Build</a></li>
<li><a class="reference internal" href="#id18">Tools/Demos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-3-final">Python 3.3.3 final</a></li>
<li><a class="reference internal" href="#python-3-3-3-release-candidate-2">Python 3.3.3 release candidate 2</a><ul>
<li><a class="reference internal" href="#id19">Library</a></li>
<li><a class="reference internal" href="#id20">Tests</a></li>
<li><a class="reference internal" href="#id21">Build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-3-release-candidate-1">Python 3.3.3 release candidate 1</a><ul>
<li><a class="reference internal" href="#id22">Core and Builtins</a></li>
<li><a class="reference internal" href="#id23">Library</a></li>
<li><a class="reference internal" href="#id24">C API</a></li>
<li><a class="reference internal" href="#id25">IDLE</a></li>
<li><a class="reference internal" href="#id26">Tests</a></li>
<li><a class="reference internal" href="#id27">Documentation</a></li>
<li><a class="reference internal" href="#id28">Tools/Demos</a></li>
<li><a class="reference internal" href="#id29">Build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-2-final">Python 3.3.2 final</a><ul>
<li><a class="reference internal" href="#id30">Core and Builtins</a></li>
<li><a class="reference internal" href="#id31">Library</a></li>
<li><a class="reference internal" href="#id32">IDLE</a></li>
<li><a class="reference internal" href="#id33">Tests</a></li>
<li><a class="reference internal" href="#id34">Documentation</a></li>
<li><a class="reference internal" href="#id35">Build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-1-final">Python 3.3.1 final</a><ul>
<li><a class="reference internal" href="#id36">Build</a></li>
<li><a class="reference internal" href="#id37">IDLE</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-1-release-candidate-1">Python 3.3.1 release candidate 1</a><ul>
<li><a class="reference internal" href="#id38">Core and Builtins</a></li>
<li><a class="reference internal" href="#id39">Library</a></li>
<li><a class="reference internal" href="#id40">IDLE</a></li>
<li><a class="reference internal" href="#id41">Tests</a></li>
<li><a class="reference internal" href="#id42">Build</a></li>
<li><a class="reference internal" href="#id43">C API</a></li>
<li><a class="reference internal" href="#id44">Documentation</a></li>
<li><a class="reference internal" href="#id45">Tools/Demos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-0-final">Python 3.3.0 final</a><ul>
<li><a class="reference internal" href="#id46">Core and Builtins</a></li>
<li><a class="reference internal" href="#id47">Library</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-0-release-candidate-3">Python 3.3.0 release candidate 3</a><ul>
<li><a class="reference internal" href="#id48">Core and Builtins</a></li>
<li><a class="reference internal" href="#id49">Library</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-0-release-candidate-2">Python 3.3.0 release candidate 2</a><ul>
<li><a class="reference internal" href="#id50">Core and Builtins</a></li>
<li><a class="reference internal" href="#id51">Library</a></li>
<li><a class="reference internal" href="#id52">Build</a></li>
<li><a class="reference internal" href="#id53">Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-0-release-candidate-1">Python 3.3.0 release candidate 1</a><ul>
<li><a class="reference internal" href="#id54">Core and Builtins</a></li>
<li><a class="reference internal" href="#id55">Library</a></li>
<li><a class="reference internal" href="#id56">IDLE</a></li>
<li><a class="reference internal" href="#id57">Documentation</a></li>
<li><a class="reference internal" href="#id58">Tests</a></li>
<li><a class="reference internal" href="#id59">Build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-0-beta-2">Python 3.3.0 beta 2</a><ul>
<li><a class="reference internal" href="#id60">Core and Builtins</a></li>
<li><a class="reference internal" href="#id61">Library</a></li>
<li><a class="reference internal" href="#id62">C API</a></li>
<li><a class="reference internal" href="#id63">Library</a></li>
<li><a class="reference internal" href="#id64">IDLE</a></li>
<li><a class="reference internal" href="#id65">Tools/Demos</a></li>
<li><a class="reference internal" href="#id66">Documentation</a></li>
<li><a class="reference internal" href="#id67">Tests</a></li>
<li><a class="reference internal" href="#id68">Build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-0-beta-1">Python 3.3.0 beta 1</a><ul>
<li><a class="reference internal" href="#id69">Core and Builtins</a></li>
<li><a class="reference internal" href="#id70">Library</a></li>
<li><a class="reference internal" href="#id71">C API</a></li>
<li><a class="reference internal" href="#id72">Library</a></li>
<li><a class="reference internal" href="#id73">IDLE</a></li>
<li><a class="reference internal" href="#id74">Documentation</a></li>
<li><a class="reference internal" href="#id75">Tests</a></li>
<li><a class="reference internal" href="#id76">Build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-0-alpha-4">Python 3.3.0 alpha 4</a><ul>
<li><a class="reference internal" href="#id77">Core and Builtins</a></li>
<li><a class="reference internal" href="#id78">Library</a></li>
<li><a class="reference internal" href="#id79">IDLE</a></li>
<li><a class="reference internal" href="#id80">Tools/Demos</a></li>
<li><a class="reference internal" href="#id81">Build</a></li>
<li><a class="reference internal" href="#id82">C API</a></li>
<li><a class="reference internal" href="#id83">Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-0-alpha-3">Python 3.3.0 alpha 3</a><ul>
<li><a class="reference internal" href="#id84">Core and Builtins</a></li>
<li><a class="reference internal" href="#id85">Library</a></li>
<li><a class="reference internal" href="#id86">Build</a></li>
<li><a class="reference internal" href="#id87">Tests</a></li>
<li><a class="reference internal" href="#id88">IDLE</a></li>
<li><a class="reference internal" href="#id89">Tools/Demos</a></li>
<li><a class="reference internal" href="#id90">C API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-0-alpha-2">Python 3.3.0 alpha 2</a><ul>
<li><a class="reference internal" href="#id91">Core and Builtins</a></li>
<li><a class="reference internal" href="#id92">Library</a></li>
<li><a class="reference internal" href="#id93">Build</a></li>
<li><a class="reference internal" href="#id94">Documentation</a></li>
<li><a class="reference internal" href="#id95">Library</a></li>
<li><a class="reference internal" href="#id96">Tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-3-3-0-alpha-1">Python 3.3.0 alpha 1</a><ul>
<li><a class="reference internal" href="#id97">Core and Builtins</a></li>
<li><a class="reference internal" href="#id98">Library</a></li>
<li><a class="reference internal" href="#id99">Build</a></li>
<li><a class="reference internal" href="#id100">IDLE</a></li>
<li><a class="reference internal" href="#id101">Tools/Demos</a></li>
<li><a class="reference internal" href="#id102">Library</a></li>
<li><a class="reference internal" href="#id103">Tests</a></li>
<li><a class="reference internal" href="#id104">C API</a></li>
<li><a class="reference internal" href="#id105">Documentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="2.0.html"
                        title="previous chapter">What&#8217;s New in Python 2.0</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../tutorial/index.html"
                        title="next chapter">The Python Tutorial</a></p>
<h3>This Page</h3>
<ul class="this-page-menu">
  <li><a href="../bugs.html">Report a Bug</a></li>
  <li><a href="../_sources/whatsnew/changelog.txt"
         rel="nofollow">Show Source</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../tutorial/index.html" title="The Python Tutorial"
             >next</a> |</li>
        <li class="right" >
          <a href="2.0.html" title="What’s New in Python 2.0"
             >previous</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="http://www.python.org/">Python</a> &raquo;</li>
        <li>
          <a href="../index.html">3.3.7 Documentation</a> &raquo;
        </li>

          <li><a href="index.html" >What&#8217;s New in Python</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 1990-2017, Python Software Foundation.
    <br />
    The Python Software Foundation is a non-profit corporation.
    <a href="http://www.python.org/psf/donations/">Please donate.</a>
    <br />
    Last updated on Sep 19, 2017.
    <a href="../bugs.html">Found a bug</a>?
    <br />
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.
    </div>

  </body>
</html>