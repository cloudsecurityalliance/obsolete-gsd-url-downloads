<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/cinder/+bug/1198185/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1198185 “[OSSA 2013-021] Cinder LVM volume driver does not ...” : Bugs : Cinder</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1198185" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1198185/bug.atom" title="Bug 1198185 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="the delete action process:
    delete_snapshot(self, snapshot) -&gt; self._delete_volume(snapshot, snapshot['volume_size'])  -&gt; self.clear_volume(volume) 

    def clear_volume(self, volume):                                               
        &quot;&quot;&quot;unprovision old volumes to prevent data leaking between users.&quot;&quot;&quot;   
                                                                                  
        vol_path = self.local_path(volume)                                        
        size_in..." />
      <meta property="og:description" content="the delete action process:
    delete_snapshot(self, snapshot) -&gt; self._delete_volume(snapshot, snapshot['volume_size'])  -&gt; self.clear_volume(volume) 

    def clear_volume(self, volume):                                               
        &quot;&quot;&quot;unprovision old volumes to prevent data leaking between users.&quot;&quot;&quot;   
                                                                                  
        vol_path = self.local_path(volume)                                        
        size_in..." />
    

    
    
      <meta property="og:title" content="Bug #1198185 “[OSSA 2013-021] Cinder LVM volume driver does not ...” : Bugs : Cinder" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1198185" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["api", "backup-service", "bugsmash", "documentation", "gate-failure", "grizzly-backport-potential", "havana-backport-potential", "i18n", "icehouse-backport-potential", "icehouse-rc-potential", "low-hanging-fruit", "rootwrap", "security"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/cinder/+bug/1198185/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/cinder"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/448002359/cinder-mascot_64x64.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/cinder">Cinder</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/cinder">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/cinder">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/cinder">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/cinder">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/cinder">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/cinder">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    [OSSA 2013-021] Cinder LVM volume driver does not support secure deletion (CVE-2013-4183)
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1198185 reported by
      <a href="https://launchpad.net/~zrzhit" class="sprite person">Rongze Zhu</a>
      <time title="2013-07-05 13:11:34 UTC" datetime="2013-07-05T13:11:34.438428+00:00">on 2013-07-05</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">256</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary1428696">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/cinder/+bug/1198185/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary1428696">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/cinder">Cinder</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/cinder/+bug/1198185/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/cinder/+bug/1198185/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1428696">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~zrzhit">Rongze Zhu</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/cinder/+milestone/2013.2">Cinder 2013.2 "havana"</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1428696">
     <td colspan="7"><form action="/cinder/+bug/1198185/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/cinder">Cinder</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~zrzhit" class="sprite person">Rongze Zhu</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2013-07-05 13:11:34 UTC" datetime="2013-07-05T13:11:34.438428+00:00">2013-07-05</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2013-07-10 15:12:05 UTC" datetime="2013-07-10T15:12:05.960246+00:00">2013-07-10</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2013-07-05 13:12:19 UTC" datetime="2013-07-05T13:12:19.446419+00:00">2013-07-05</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2013-07-10 18:32:35 UTC" datetime="2013-07-10T18:32:35.149893+00:00">2013-07-10</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2013-07-17 10:55:42 UTC" datetime="2013-07-17T10:55:42.590391+00:00">2013-07-17</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="cinder.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="cinder.target.option.package" name="cinder.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="cinder.target.distribution" name="cinder.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="cinder.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="cinder.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="cinder.target.package"
                         name="cinder.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;cinder.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('cinder.target.package');
              var select_menu = Y.DOM.byId('cinder.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-cinder-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "cinder.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-cinder-target-package", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-cinder-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="cinder.target.option.product" name="cinder.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="cinder" id="cinder.target.product"
                         name="cinder.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;cinder.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('cinder.target.product');
              var select_menu = Y.DOM.byId('cinder.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-cinder-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "cinder.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-cinder-target-product", "selected_value": "cinder", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-cinder-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="cinder.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="cinder.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="cinder.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="cinder.status" name="cinder.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="cinder.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          Cinder 2013.2
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="cinder.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="cinder.assignee.assign_to_me" name="cinder.assignee.option" value="cinder.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="cinder.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="cinder.assignee.assigned_to" name="cinder.assignee.option" value="cinder.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="cinder.assignee.assigned_to">
              Rongze Zhu (zrzhit)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="cinder.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="cinder.comment_on_change" name="cinder.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary1439239">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/cinder/grizzly/+bug/1198185/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/cinder/grizzly">Grizzly</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/cinder/grizzly/+bug/1198185/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/cinder/grizzly/+bug/1198185/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1439239">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~xbsd-nikolay">Nikolay Sobolevsky</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/cinder/+milestone/2013.1.3">Cinder 2013.1.3</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1439239">
     <td colspan="7"><form action="/cinder/grizzly/+bug/1198185/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/cinder/grizzly">Cinder grizzly</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2013-07-29 10:00:35 UTC" datetime="2013-07-29T10:00:35.188685+00:00">2013-07-29</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2013-07-31 19:43:26 UTC" datetime="2013-07-31T19:43:26.242028+00:00">2013-07-31</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2013-07-31 19:43:26 UTC" datetime="2013-07-31T19:43:26.178868+00:00">2013-07-31</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2013-07-31 19:43:26 UTC" datetime="2013-07-31T19:43:26.242028+00:00">2013-07-31</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2013-08-08 19:58:17 UTC" datetime="2013-08-08T19:58:17.532963+00:00">2013-08-08</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="cinder_grizzly.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="cinder_grizzly.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="cinder_grizzly.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="cinder_grizzly.status" name="cinder_grizzly.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="cinder_grizzly.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          Cinder 2013.1.3
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="cinder_grizzly.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="cinder_grizzly.assignee.assign_to_me" name="cinder_grizzly.assignee.option" value="cinder_grizzly.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="cinder_grizzly.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="cinder_grizzly.assignee.assigned_to" name="cinder_grizzly.assignee.option" value="cinder_grizzly.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="cinder_grizzly.assignee.assigned_to">
              Nikolay Sobolevsky (xbsd-nikolay)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="cinder_grizzly.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="cinder_grizzly.comment_on_change" name="cinder_grizzly.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary1429468">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ossa/+bug/1198185/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary1429468">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/ossa">OpenStack Security Advisory</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ossa/+bug/1198185/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ossa/+bug/1198185/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceMEDIUM">Medium</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1429468">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~fungi">Jeremy Stanley</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1429468">
     <td colspan="7"><form action="/ossa/+bug/1198185/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ossa">OpenStack Security Advisory</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2013-07-07 19:05:01 UTC" datetime="2013-07-07T19:05:01.718443+00:00">2013-07-07</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2013-07-09 12:50:43 UTC" datetime="2013-07-09T12:50:43.838607+00:00">2013-07-09</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2013-07-10 14:10:10 UTC" datetime="2013-07-10T14:10:10.934924+00:00">2013-07-10</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2013-07-31 05:43:07 UTC" datetime="2013-07-31T05:43:07.052358+00:00">2013-07-31</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2013-08-07 15:31:56 UTC" datetime="2013-08-07T15:31:56.212324+00:00">2013-08-07</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ossa.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="ossa.target.option.package" name="ossa.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ossa.target.distribution" name="ossa.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ossa.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ossa.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ossa.target.package"
                         name="ossa.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ossa.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ossa.target.package');
              var select_menu = Y.DOM.byId('ossa.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ossa-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ossa.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ossa-target-package", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-ossa-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ossa.target.option.product" name="ossa.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="ossa" id="ossa.target.product"
                         name="ossa.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ossa.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ossa.target.product');
              var select_menu = Y.DOM.byId('ossa.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ossa-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "ossa.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-ossa-target-product", "selected_value": "ossa", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-ossa-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ossa.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ossa.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ossa.status" name="ossa.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ossa.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceMEDIUM">Medium</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ossa.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ossa.assignee.assign_to_me" name="ossa.assignee.option" value="ossa.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ossa.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ossa.assignee.assigned_to" name="ossa.assignee.option" value="ossa.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ossa.assignee.assigned_to">
              Jeremy Stanley (fungi)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ossa.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ossa.comment_on_change" name="ossa.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/cinder/+bug/1198185/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/cinder/+bug/1198185/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/cinder/+bug/1198185/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>the delete action process:<br />
&nbsp;&nbsp;&nbsp;&nbsp;delete_<wbr />snapshot(<wbr />self, snapshot) -&gt; self._delete_<wbr />volume(<wbr />snapshot, snapshot[<wbr />&#x27;volume_<wbr />size&#x27;])  -&gt; self.clear_<wbr />volume(<wbr />volume)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;def clear_volume(self, volume):<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&quot;&quot;&quot;unprovision old volumes to prevent data leaking between users.&quot;&quot;&quot;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vol_path = self.local_<wbr />path(volume)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size_in_g = volume.get(&#x27;size&#x27;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size_in_m = self.configurat<wbr />ion.volume_<wbr />clear_size</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if not size_in_g:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LOG.<wbr />warning(<wbr />_(&quot;Size for volume: %s not found, &quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;skipping secure delete.&quot;) % volume[&#x27;name&#x27;])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....</p>
<p>Because snapshot without &#x27;size&#x27; field, so it will skip secure delete.</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="unofficial-tag" href="/cinder/+bugs?field.tag=drivers">drivers</a>
            <a class="unofficial-tag" href="/cinder/+bugs?field.tag=lvm">lvm</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          

            <div id="bug-branches">
              <h2>Related branches</h2>

              
                

 

 <div class="buglink-summary">

  <a href="https://code.launchpad.net/~ubuntu-branches/ubuntu/raring/cinder/raring-security" class="sprite branch">lp:ubuntu/raring-security/cinder</a>
  
  
</div>



              
            </div>
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2013-4183" title="The clear_volume function in LVMVolum...">2013-4183</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~zrzhit" class="sprite person">Rongze Zhu (zrzhit)</a>
    
    <time title="2013-07-05 13:12:18 UTC" datetime="2013-07-05T13:12:18.287751+00:00">on 2013-07-05</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in cinder: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Rongze Zhu (zrzhit)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~thingee" class="sprite person">Mike Perez (thingee)</a>
    
    <time title="2013-07-05 16:49:40 UTC" datetime="2013-07-05T16:49:40.588165+00:00">on 2013-07-05</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: drivers lvm
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2013-07-07 19:05:10 UTC" datetime="2013-07-07T19:05:10.106911+00:00">on 2013-07-07</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Incomplete
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2013-07-09 12:40:00 UTC" datetime="2013-07-09T12:40:00.288666+00:00">on 2013-07-09</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Public &#8594; Public Security
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-09T12:50:42.898055+00:00" title="2013-07-09 12:50:42 UTC">on 2013-07-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I think it definitely warrants an advisory. Feel free to correct me.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I think it definitely warrants an advisory. Feel free to correct me.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Medium
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Incomplete &#8594; Confirmed
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in cinder: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Critical
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Critical &#8594; High
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
    
    <time title="2013-07-10 14:10:10 UTC" datetime="2013-07-10T14:10:10.378874+00:00">on 2013-07-10</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Jeremy Stanley (fungi)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~john-griffith" class="sprite person">John Griffith (john-griffith)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-10T14:41:01.984021+00:00" title="2013-07-10 14:41:01 UTC">on 2013-07-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>It would warrant one, only because of the expectation.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">It would warrant one, only because of the expectation.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~john-griffith" class="sprite person">John Griffith (john-griffith)</a>
    
    <time title="2013-07-10 15:12:05 UTC" datetime="2013-07-10T15:12:05.416812+00:00">on 2013-07-10</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in cinder: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Triaged
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        none &#8594; havana-2
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
    
    <time title="2013-07-10 18:32:33 UTC" datetime="2013-07-10T18:32:33.879224+00:00">on 2013-07-10</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in cinder: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; In Progress
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-10T18:56:41.757520+00:00" title="2013-07-10 18:56:41 UTC">on 2013-07-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Proposed impact description (will be used in CVE request and public advisory):</p>
<p>-------<wbr />-------<wbr />-------<wbr />-------<wbr />------<br />
Title: Cinder LVMVolumeDriver does not zero deleted snapshots<br />
Reporter: Rongze Zhu<br />
Products: Cinder<br />
Affects: 2012.2 (Grizzly) and later</p>
<p>Description:<br />
Rongze Zhu reported a vulnerability in the Cinder LVM volume driver.<br />
When deleting an LVM volume snapshot the previous contents may not<br />
be zeroed, resulting in potential exposure of latent data to<br />
subsequent servers for other tenants. Only setups using<br />
LVMVolumeDriver are affected.<br />
-------<wbr />-------<wbr />-------<wbr />-------<wbr />------</p>
<p>Everyone: please check that the description is accurate.</p>
<p>Rongze Zhu: do you want us to additionally credit the company you work for (SINA, UnitedStack, anyone)?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Proposed impact description (will be used in CVE request and public advisory):

----------------------------------
Title: Cinder LVMVolumeDriver does not zero deleted snapshots
Reporter: Rongze Zhu
Products: Cinder
Affects: 2012.2 (Grizzly) and later

Description:
Rongze Zhu reported a vulnerability in the Cinder LVM volume driver.  
When deleting an LVM volume snapshot the previous contents may not
be zeroed, resulting in potential exposure of latent data to   
subsequent servers for other tenants. Only setups using 
LVMVolumeDriver are affected.
----------------------------------

Everyone: please check that the description is accurate.

Rongze Zhu: do you want us to additionally credit the company you work for (SINA, UnitedStack, anyone)?
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-10T18:57:58.692924+00:00" title="2013-07-10 18:57:58 UTC">on 2013-07-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Mmm, I just noticed I got the Affects header wrong. It should be...</p>
<p>Affects: 2013.1 (Grizzly) and later</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Mmm, I just noticed I got the Affects header wrong. It should be...

Affects: 2013.1 (Grizzly) and later</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
    
    <time title="2013-07-10 19:10:42 UTC" datetime="2013-07-10T19:10:42.300843+00:00">on 2013-07-10</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; Triaged
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eharney" class="sprite person">Eric Harney (eharney)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-10T19:19:08.080979+00:00" title="2013-07-10 19:19:08 UTC">on 2013-07-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>re: Description</p>
<p>Is it true that only LVMVolumeDriver is affected?  What about ThinLVMVolumeDr<wbr />iver?  (Looks possible.)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">re: Description

Is it true that only LVMVolumeDriver is affected?  What about ThinLVMVolumeDriver?  (Looks possible.)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-11T09:25:26.116958+00:00" title="2013-07-11 09:25:26 UTC">on 2013-07-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Description looks good, just make sure to cover Eric&#x27;s concerns.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Description looks good, just make sure to cover Eric's concerns.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-11T12:44:37.284999+00:00" title="2013-07-11 12:44:37 UTC">on 2013-07-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Yes, since I don&#x27;t personally know much about the interrelationships between various Cinder drivers, I&#x27;m hoping someone will answer his question at which point I can update the description accordingly.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Yes, since I don't personally know much about the interrelationships between various Cinder drivers, I'm hoping someone will answer his question at which point I can update the description accordingly.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~john-griffith" class="sprite person">John Griffith (john-griffith)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-11T13:21:11.999796+00:00" title="2013-07-11 13:21:11 UTC">on 2013-07-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Ummm.... do a block by block delete on a thinly provisioned device?  That seems like a quick way to make a mess of things.  Don&#x27;t think that&#x27;s a good idea at all.</p>
<p>So IMO the description could be changed slightly:<br />
The issue here IMO is not so much that the data is not being zero&#x27;d BUT that the folks implementing this are expecting<br />
that it is.</p>
<p>We currently have a flag that allows you to turn on/off secure delete, and keep in mind this was turned off on snapshots<br />
intentionally due to the kernel hang issue on Ubuntu/Precise.</p>
<p>There have been a number of proposals for trying to do this in a way that might not cause the kernel crash but they&#x27;ve<br />
encountered objection in reviews (but that&#x27;s another topic).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Ummm.... do a block by block delete on a thinly provisioned device?  That seems like a quick way to make a mess of things.  Don't think that's a good idea at all.

So IMO the description could be changed slightly:
The issue here IMO is not so much that the data is not being zero'd BUT that the folks implementing this are expecting
that it is.

We currently have a flag that allows you to turn on/off secure delete, and keep in mind this was turned off on snapshots
intentionally due to the kernel hang issue on Ubuntu/Precise.

There have been a number of proposals for trying to do this in a way that might not cause the kernel crash but they've
encountered objection in reviews (but that's another topic).
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-11T15:48:47.196467+00:00" title="2013-07-11 15:48:47 UTC">on 2013-07-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Okay, so stepping back a bit, it&#x27;s not really a question of literally zeroing the block device in this case, but rather whether or not secure delete is enabled for LVM2 snapshots. Does this mean the report here is effectively a duplicate of <a href="/bugs/1134768" class="bug-link">bug 1134768</a>? If so, it sounds like we&#x27;re proposing an announcement that secure delete is off by default because it&#x27;s broken on Debian derived distributions, but that deployers who want to enable it for their environments are free to do so.</p>
<p>If that&#x27;s the situation, this probably is better suited to drop into the OSSN queue (likely with a CVE assignment), rather than issue an OSSA. Am I misinterpreting this?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Okay, so stepping back a bit, it's not really a question of literally zeroing the block device in this case, but rather whether or not secure delete is enabled for LVM2 snapshots. Does this mean the report here is effectively a duplicate of bug 1134768? If so, it sounds like we're proposing an announcement that secure delete is off by default because it's broken on Debian derived distributions, but that deployers who want to enable it for their environments are free to do so.

If that's the situation, this probably is better suited to drop into the OSSN queue (likely with a CVE assignment), rather than issue an OSSA. Am I misinterpreting this?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~john-griffith" class="sprite person">John Griffith (john-griffith)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-11T16:03:50+00:00" title="2013-07-11 16:03:50 UTC">on 2013-07-11</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/cinder/+bug/1198185/comments/11">
                <strong>Re: [Bug 1198185] Re: delete_snapshot in LVMVolumeDriver not really zero the snapshot</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Thu, Jul 11, 2013 at 9:48 AM, Jeremy Stanley &lt;email address hidden&gt; wrote:</p>
<p><span class="foldable-quoted">&gt; Okay, so stepping back a bit, it&#x27;s not really a question of literally<br />
&gt; zeroing the block device in this case, but rather whether or not secure<br />
&gt; delete is enabled for LVM2 snapshots. Does this mean the report here is<br />
&gt; effectively a duplicate of <a href="/bugs/1134768" class="bug-link">bug 1134768</a>? If so, it sounds like we&#x27;re<br />
&gt;
</span></p>
<p>Yes, it&#x27;s a duplicate.. and before anyone asks, no I don&#x27;t remember why I<br />
marked it as won&#x27;t fix, but that should not have been the case.</p>
<p>proposing an announcement that secure delete is off by default because<br />
<span class="foldable-quoted">
&gt; it&#x27;s broken on Debian derived distributions, but that deployers who want<br />
&gt; to enable it for their environments are free to do so.<br />
&gt;
</span></p>
<p>That&#x27;s my thought exactly, I&#x27;ll actually just set a flag and turn the old<br />
&quot;dd/zero&quot; method back on as an option while folks argue about the proposals<br />
currently in flight for how to do this better.</p>
<p><span class="foldable-quoted">&gt;<br />
&gt; If that&#x27;s the situation, this probably is better suited to drop into the<br />
&gt; OSSN queue (likely with a CVE assignment), rather than issue an OSSA. Am<br />
&gt; I misinterpreting this?<br />
&gt;
</span></p>
<p>I was unfamiliar with OSSN, but that does seem more appropriate to me.</p>
<p><span class="foldable-quoted">&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are a member of Cinder<br />
&gt; Bug Team, which is subscribed to Cinder.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/1198185">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1198185</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   delete_snapshot in LVMVolumeDriver not really zero the snapshot<br />
&gt;<br />
&gt; Status in Cinder:<br />
&gt;   In Progress<br />
&gt; Status in OpenStack Security Advisories:<br />
&gt;   Triaged<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   the delete action process:<br />
&gt;       delete_<wbr />snapshot(<wbr />self, snapshot) -&gt; self._delete_<wbr />volume(<wbr />snapshot,<br />
&gt; snapshot[<wbr />&#x27;volume_<wbr />size&#x27;])  -&gt; self.clear_<wbr />volume(<wbr />volume)<br />
&gt;<br />
&gt;       def clear_volume(self, volume):<br />
&gt;           &quot;&quot;&quot;unprovision old volumes to prevent data leaking between<br />
&gt; users.&quot;&quot;&quot;<br />
&gt;<br />
&gt;           vol_path = self.local_<wbr />path(volume)<br />
&gt;           size_in_g = volume.get(&#x27;size&#x27;)<br />
&gt;           size_in_m = self.configurat<wbr />ion.volume_<wbr />clear_size<br />
&gt;<br />
&gt;           if not size_in_g:<br />
&gt;               LOG.warning(_(&quot;Size for volume: %s not found, &quot;<br />
&gt;                             &quot;skipping secure delete.&quot;) % volume[&#x27;name&#x27;])<br />
&gt;               return<br />
&gt;            ....<br />
&gt;            ....<br />
&gt;<br />
&gt;<br />
&gt;   Because snapshot without &#x27;size&#x27; field, so it will skip secure delete.<br />
&gt;<br />
&gt; To manage notifications about this bug go to:<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/cinder/+bug/1198185/+subscriptions">https:/<wbr />/bugs.launchpad<wbr />.net/cinder/<wbr />+bug/1198185/<wbr />+subscriptions</a><br />
&gt;
</span></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Thu, Jul 11, 2013 at 9:48 AM, Jeremy Stanley &lt;fungi@yuggoth.org&gt; wrote:

&gt; Okay, so stepping back a bit, it's not really a question of literally
&gt; zeroing the block device in this case, but rather whether or not secure
&gt; delete is enabled for LVM2 snapshots. Does this mean the report here is
&gt; effectively a duplicate of bug 1134768? If so, it sounds like we're
&gt;

Yes, it's a duplicate.. and before anyone asks, no I don't remember why I
marked it as won't fix, but that should not have been the case.

proposing an announcement that secure delete is off by default because
&gt; it's broken on Debian derived distributions, but that deployers who want
&gt; to enable it for their environments are free to do so.
&gt;

That's my thought exactly, I'll actually just set a flag and turn the old
"dd/zero" method back on as an option while folks argue about the proposals
currently in flight for how to do this better.

&gt;
&gt; If that's the situation, this probably is better suited to drop into the
&gt; OSSN queue (likely with a CVE assignment), rather than issue an OSSA. Am
&gt; I misinterpreting this?
&gt;

I was unfamiliar with OSSN, but that does seem more appropriate to me.

&gt;
&gt; --
&gt; You received this bug notification because you are a member of Cinder
&gt; Bug Team, which is subscribed to Cinder.
&gt; https://bugs.launchpad.net/bugs/1198185
&gt;
&gt; Title:
&gt;   delete_snapshot in LVMVolumeDriver not really zero the snapshot
&gt;
&gt; Status in Cinder:
&gt;   In Progress
&gt; Status in OpenStack Security Advisories:
&gt;   Triaged
&gt;
&gt; Bug description:
&gt;   the delete action process:
&gt;       delete_snapshot(self, snapshot) -&gt; self._delete_volume(snapshot,
&gt; snapshot['volume_size'])  -&gt; self.clear_volume(volume)
&gt;
&gt;       def clear_volume(self, volume):
&gt;           """unprovision old volumes to prevent data leaking between
&gt; users."""
&gt;
&gt;           vol_path = self.local_path(volume)
&gt;           size_in_g = volume.get('size')
&gt;           size_in_m = self.configuration.volume_clear_size
&gt;
&gt;           if not size_in_g:
&gt;               LOG.warning(_("Size for volume: %s not found, "
&gt;                             "skipping secure delete.") % volume['name'])
&gt;               return
&gt;            ....
&gt;            ....
&gt;
&gt;
&gt;   Because snapshot without 'size' field, so it will skip secure delete.
&gt;
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/cinder/+bug/1198185/+subscriptions
&gt;
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~john-griffith" class="sprite person">John Griffith (john-griffith)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-11T16:05:57.205642+00:00" title="2013-07-11 16:05:57 UTC">on 2013-07-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Thu, Jul 11, 2013 at 9:48 AM, Jeremy Stanley &lt;email address hidden&gt; wrote:<br />
Okay, so stepping back a bit, it&#x27;s not really a question of literally<br />
zeroing the block device in this case, but rather whether or not secure<br />
delete is enabled for LVM2 snapshots. Does this mean the report here is<br />
effectively a duplicate of <a href="/bugs/1134768" class="bug-link">bug 1134768</a>? If so, it sounds like we&#x27;re</p>
<p>&lt;jdg&gt;:Yes, it&#x27;s a duplicate.. and before anyone asks, no I don&#x27;t remember why I marked it as won&#x27;t fix, but that should not have been the case.&lt;/jdg&gt;</p>
<p>proposing an announcement that secure delete is off by default because<br />
it&#x27;s broken on Debian derived distributions, but that deployers who want<br />
to enable it for their environments are free to do so.</p>
<p>&lt;jdg&gt;:That&#x27;s my thought exactly, I&#x27;ll actually just set a flag and turn the old &quot;dd/zero&quot; method back on as an option while folks argue about the proposals currently in flight for how to do this better.&lt;/jdg&gt;</p>
<p>If that&#x27;s the situation, this probably is better suited to drop into the<br />
OSSN queue (likely with a CVE assignment), rather than issue an OSSA. Am<br />
I misinterpreting this?</p>
<p>&lt;jdg&gt;I was unfamiliar with OSSN, but that does seem more appropriate to me.&lt;/jdg&gt;</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Thu, Jul 11, 2013 at 9:48 AM, Jeremy Stanley &lt;fungi@yuggoth.org&gt; wrote:
Okay, so stepping back a bit, it's not really a question of literally
zeroing the block device in this case, but rather whether or not secure
delete is enabled for LVM2 snapshots. Does this mean the report here is
effectively a duplicate of bug 1134768? If so, it sounds like we're
 
&lt;jdg&gt;:Yes, it's a duplicate.. and before anyone asks, no I don't remember why I marked it as won't fix, but that should not have been the case.&lt;/jdg&gt;

proposing an announcement that secure delete is off by default because
it's broken on Debian derived distributions, but that deployers who want
to enable it for their environments are free to do so.

&lt;jdg&gt;:That's my thought exactly, I'll actually just set a flag and turn the old "dd/zero" method back on as an option while folks argue about the proposals currently in flight for how to do this better.&lt;/jdg&gt;

If that's the situation, this probably is better suited to drop into the
OSSN queue (likely with a CVE assignment), rather than issue an OSSA. Am
I misinterpreting this?
 
&lt;jdg&gt;I was unfamiliar with OSSN, but that does seem more appropriate to me.&lt;/jdg&gt;</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-11T16:48:18.000443+00:00" title="2013-07-11 16:48:18 UTC">on 2013-07-11</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/cinder/+bug/1198185/comments/12">
                <strong>Re: delete_snapshot in LVMVolumeDriver not really zero the snapshot</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thierry and Mikal may correct me on this, but my interpretation is that if it&#x27;s a security vulnerability in OpenStack for which we&#x27;ve got a fix (maybe even if that just means beefing up available options for deployers or making more verbose disclaimers in logs and interfaces), then the VMT issues an OSSA. On the other hand if there&#x27;s nothing to be fixed and this is merely a matter of setting long-term expectations on the security failings of a particular feature for the benefit of improved understanding within the OpenStack community, then the OSSG issues an OSSN (with or without a CVE as appropriate).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thierry and Mikal may correct me on this, but my interpretation is that if it's a security vulnerability in OpenStack for which we've got a fix (maybe even if that just means beefing up available options for deployers or making more verbose disclaimers in logs and interfaces), then the VMT issues an OSSA. On the other hand if there's nothing to be fixed and this is merely a matter of setting long-term expectations on the security failings of a particular feature for the benefit of improved understanding within the OpenStack community, then the OSSG issues an OSSN (with or without a CVE as appropriate).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-12T12:26:40.625486+00:00" title="2013-07-12 12:26:40 UTC">on 2013-07-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@fungi: your interpretation is correct... although I wouldn&#x27;t consider &quot;adding an option that defaults to disabled&quot; to be an acceptable fix, and if that is our answer to an issue, then it should fall on the OSSN bucket (think &quot;known issues and limitations&quot;).</p>
<p>I propose we mark this one as a dupe of the other, and that we reopen the other... but first I would like to get the consequences right. We don&#x27;t zero on delete, but are we cleaning up the volume before it&#x27;s given to new users ? Or do all default deployers of Cinder/LVM expect to expose stale data from previous tenants on block devices they hand out ? If the latter, I&#x27;d be tempted to change the default for secure_delete to ON and let the distros fix their kernel bug (or take the responsibility to change that option default themselves).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@fungi: your interpretation is correct... although I wouldn't consider "adding an option that defaults to disabled" to be an acceptable fix, and if that is our answer to an issue, then it should fall on the OSSN bucket (think "known issues and limitations").

I propose we mark this one as a dupe of the other, and that we reopen the other... but first I would like to get the consequences right. We don't zero on delete, but are we cleaning up the volume before it's given to new users ? Or do all default deployers of Cinder/LVM expect to expose stale data from previous tenants on block devices they hand out ? If the latter, I'd be tempted to change the default for secure_delete to ON and let the distros fix their kernel bug (or take the responsibility to change that option default themselves).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-12T18:33:19.231109+00:00" title="2013-07-12 18:33:19 UTC">on 2013-07-12</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/cinder/+bug/1198185/comments/14">
                <strong>Fix merged to cinder (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.openstack.org/36506">https:/<wbr />/review.<wbr />openstack.<wbr />org/36506</a><br />
Committed: <a rel="nofollow" href="http://github.com/openstack/cinder/commit/0ee31073c5cb432a9cdd2648e99aa802b0ed0a17">http://<wbr />github.<wbr />com/openstack/<wbr />cinder/<wbr />commit/<wbr />0ee31073c5cb432<wbr />a9cdd2648e99aa8<wbr />02b0ed0a17</a><br />
Submitter: Jenkins<br />
Branch:    master</p>
<p>commit 0ee31073c5cb432<wbr />a9cdd2648e99aa8<wbr />02b0ed0a17<br />
Author: Rongze Zhu &lt;email address hidden&gt;<br />
Date:   Wed Jul 10 09:25:32 2013 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Enable zero the snapshot when delete snapshot in LVMVolumeDriver</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Because snapshot without &#x27;size&#x27; field, So clear_volume method in<br />
&nbsp;&nbsp;&nbsp;&nbsp;LVMVolumeDriver will skip secure deleting. Get the size of snapshot from<br />
&nbsp;&nbsp;&nbsp;&nbsp;&#x27;volume_size&#x27; filed, So it can zero the snapshot.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Remove the &#x27;size_in_g&#x27; parameter in _delete_volume method, because it never<br />
&nbsp;&nbsp;&nbsp;&nbsp;used. Add a unittest for clear_volume method.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Fixes  <a href="/bugs/1198185" class="bug-link">Bug #1198185</a></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Ie919b50ce4fb27<wbr />6f29ab2e0279f86<wbr />8a691ea7bef</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.openstack.org/36506
Committed: http://github.com/openstack/cinder/commit/0ee31073c5cb432a9cdd2648e99aa802b0ed0a17
Submitter: Jenkins
Branch:    master

commit 0ee31073c5cb432a9cdd2648e99aa802b0ed0a17
Author: Rongze Zhu &lt;rongze@unitedstack.com&gt;
Date:   Wed Jul 10 09:25:32 2013 -0700

    Enable zero the snapshot when delete snapshot in LVMVolumeDriver
    
    Because snapshot without 'size' field, So clear_volume method in
    LVMVolumeDriver will skip secure deleting. Get the size of snapshot from
    'volume_size' filed, So it can zero the snapshot.
    
    Remove the 'size_in_g' parameter in _delete_volume method, because it never
    used. Add a unittest for clear_volume method.
    
    Fixes  Bug #1198185
    
    Change-Id: Ie919b50ce4fb276f29ab2e0279f868a691ea7bef
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in cinder: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Committed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-15T14:44:31.549812+00:00" title="2013-07-15 14:44:31 UTC">on 2013-07-15</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/cinder/+bug/1198185/comments/15">
                <strong>Re: delete_snapshot in LVMVolumeDriver not really zero the snapshot</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>So after discussing this with jgriffith I think it definitely warrants an OSSA because people with secure delete enabled may currently be handing out non-zeroed space in case of deleted snapshots.</p>
<p>As an additional thing (to be filed as another bug) for havana I would consider setting secure_delete to ON and let the distros workaround kernel bugs they may still have by keeping it disabled in their own packaging.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">So after discussing this with jgriffith I think it definitely warrants an OSSA because people with secure delete enabled may currently be handing out non-zeroed space in case of deleted snapshots.

As an additional thing (to be filed as another bug) for havana I would consider setting secure_delete to ON and let the distros workaround kernel bugs they may still have by keeping it disabled in their own packaging.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~john-griffith" class="sprite person">John Griffith (john-griffith)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-15T14:54:01.106270+00:00" title="2013-07-15 14:54:01 UTC">on 2013-07-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Ok, so after further conversations, this should be a SA, the driver should do secure delete by default and it&#x27;s up to the distros to fix their bugs.</p>
<p>@eharney: As far as the question regarding thin LVM driver, my opinion is that since the blocks here aren&#x27;t allocated until they&#x27;re actually used that it should not be necessary.  That being said we should have an intelligent method implemented that actually handles allocated blocks (and only allocated blocks) just to give everybody a warm fuzzy.  I would say that it should not be part of this SA but however we should have this work in place as a feature addition to the thin driver for the H release.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Ok, so after further conversations, this should be a SA, the driver should do secure delete by default and it's up to the distros to fix their bugs.

@eharney: As far as the question regarding thin LVM driver, my opinion is that since the blocks here aren't allocated until they're actually used that it should not be necessary.  That being said we should have an intelligent method implemented that actually handles allocated blocks (and only allocated blocks) just to give everybody a warm fuzzy.  I would say that it should not be part of this SA but however we should have this work in place as a feature addition to the thin driver for the H release.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-15T19:54:32.171221+00:00" title="2013-07-15 19:54:32 UTC">on 2013-07-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>That being the case, I think a slightly different impact description is in order:</p>
<p>-------<wbr />-------<wbr />-------<wbr />-------<wbr />------<br />
Title: Cinder LVM volume drivers do not support secure deletion<br />
Reporter: Rongze Zhu<br />
Products: Cinder<br />
Affects: 2013.1 (Grizzly) and later</p>
<p>Description:<br />
Rongze Zhu reported a vulnerability in Cinder LVM volume drivers.<br />
The contents of LVM snapshots may not be cleared upon deletion even<br />
when secure deletes are configured, resulting in potential exposure<br />
of latent data to subsequent servers for other tenants. Only setups<br />
using LVMVolumeDriver or ThinLVMVolumeDriver are affected.<br />
-------<wbr />-------<wbr />-------<wbr />-------<wbr />------</p>
<p>Everyone: please check that the description is accurate.</p>
<p>Rongze Zhu: do you want us to additionally credit the company you work for (SINA, UnitedStack, anyone)?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">That being the case, I think a slightly different impact description is in order:

----------------------------------
Title: Cinder LVM volume drivers do not support secure deletion
Reporter: Rongze Zhu
Products: Cinder
Affects: 2013.1 (Grizzly) and later

Description:
Rongze Zhu reported a vulnerability in Cinder LVM volume drivers.
The contents of LVM snapshots may not be cleared upon deletion even
when secure deletes are configured, resulting in potential exposure
of latent data to subsequent servers for other tenants. Only setups
using LVMVolumeDriver or ThinLVMVolumeDriver are affected.
----------------------------------

Everyone: please check that the description is accurate.

Rongze Zhu: do you want us to additionally credit the company you work for (SINA, UnitedStack, anyone)?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-16T08:51:52.759612+00:00" title="2013-07-16 08:51:52 UTC">on 2013-07-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Jeremy: I would s/or ThinLVMVolumeDr<wbr />iver// since thinly-provisioned volumes are not vulnerable (blocks are not accessed until they are overwritten, per comment #16).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Jeremy: I would s/or ThinLVMVolumeDriver// since thinly-provisioned volumes are not vulnerable (blocks are not accessed until they are overwritten, per comment #16).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~zrzhit" class="sprite person">Rongze Zhu (zrzhit)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-16T16:46:20.504176+00:00" title="2013-07-16 16:46:20 UTC">on 2013-07-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Jeremy ,  I am currently working in unitedstack, thank you.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Jeremy ,  I am currently working in unitedstack, thank you.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-16T16:59:50.419771+00:00" title="2013-07-16 16:59:50 UTC">on 2013-07-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Third (and hopefully final) version...</p>
<p>-------<wbr />-------<wbr />-------<wbr />-------<wbr />------<br />
Title: Cinder LVM volume driver does not support secure deletion<br />
Reporter: Rongze Zhu (UnitedStack)<br />
Products: Cinder<br />
Affects: 2013.1 (Grizzly) and later</p>
<p>Description:<br />
Rongze Zhu from UnitedStack reported a vulnerability in the Cinder<br />
LVM volume driver. The contents of LVM snapshots may not be cleared<br />
upon deletion even when secure deletes are configured, resulting in<br />
potential exposure of latent data to subsequent servers for other<br />
tenants. Only setups using LVMVolumeDriver are affected.<br />
-------<wbr />-------<wbr />-------<wbr />-------<wbr />------</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Third (and hopefully final) version...

----------------------------------
Title: Cinder LVM volume driver does not support secure deletion
Reporter: Rongze Zhu (UnitedStack)
Products: Cinder
Affects: 2013.1 (Grizzly) and later

Description:
Rongze Zhu from UnitedStack reported a vulnerability in the Cinder
LVM volume driver. The contents of LVM snapshots may not be cleared
upon deletion even when secure deletes are configured, resulting in
potential exposure of latent data to subsequent servers for other
tenants. Only setups using LVMVolumeDriver are affected.
----------------------------------</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2013-07-17 10:55:41 UTC" datetime="2013-07-17T10:55:41.860376+00:00">on 2013-07-17</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in cinder: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-17T14:14:41.038995+00:00" title="2013-07-17 14:14:41 UTC">on 2013-07-17</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>+1 on description</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">+1 on description</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-29T10:01:18.438016+00:00" title="2013-07-29 10:01:18 UTC">on 2013-07-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>We need the grizzly backport and a CVE allocated before we move on to advisory publication</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">We need the grizzly backport and a CVE allocated before we move on to advisory publication</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
    
    <time title="2013-07-31 05:43:06 UTC" datetime="2013-07-31T05:43:06.318360+00:00">on 2013-07-31</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; In Progress
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~john-griffith" class="sprite person">John Griffith (john-griffith)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-31T13:36:55+00:00" title="2013-07-31 13:36:55 UTC">on 2013-07-31</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/cinder/+bug/1198185/comments/23">
                <strong>Re: [Bug 1198185] Re: delete_snapshot in LVMVolumeDriver not really zero the snapshot</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Do it as soon as I get to the office</p>
<p>On Mon, Jul 29, 2013 at 4:01 AM, Thierry Carrez &lt;&lt;email address hidden&gt;<br />
<span class="foldable-quoted">
&gt; wrote:
</span></p>
<p><span class="foldable-quoted">&gt; We need the grizzly backport and a CVE allocated before we move on to<br />
&gt; advisory publication<br />
&gt;<br />
&gt; ** Also affects: cinder/grizzly<br />
&gt;    Importance: Undecided<br />
&gt;        Status: New<br />
&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are a member of Cinder<br />
&gt; Bug Team, which is subscribed to Cinder.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/1198185">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1198185</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   delete_snapshot in LVMVolumeDriver not really zero the snapshot<br />
&gt;<br />
&gt; Status in Cinder:<br />
&gt;   Fix Released<br />
&gt; Status in Cinder grizzly series:<br />
&gt;   New<br />
&gt; Status in OpenStack Security Advisories:<br />
&gt;   Triaged<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   the delete action process:<br />
&gt;       delete_<wbr />snapshot(<wbr />self, snapshot) -&gt; self._delete_<wbr />volume(<wbr />snapshot,<br />
&gt; snapshot[<wbr />&#x27;volume_<wbr />size&#x27;])  -&gt; self.clear_<wbr />volume(<wbr />volume)<br />
&gt;<br />
&gt;       def clear_volume(self, volume):<br />
&gt;           &quot;&quot;&quot;unprovision old volumes to prevent data leaking between<br />
&gt; users.&quot;&quot;&quot;<br />
&gt;<br />
&gt;           vol_path = self.local_<wbr />path(volume)<br />
&gt;           size_in_g = volume.get(&#x27;size&#x27;)<br />
&gt;           size_in_m = self.configurat<wbr />ion.volume_<wbr />clear_size<br />
&gt;<br />
&gt;           if not size_in_g:<br />
&gt;               LOG.warning(_(&quot;Size for volume: %s not found, &quot;<br />
&gt;                             &quot;skipping secure delete.&quot;) % volume[&#x27;name&#x27;])<br />
&gt;               return<br />
&gt;            ....<br />
&gt;            ....<br />
&gt;<br />
&gt;<br />
&gt;   Because snapshot without &#x27;size&#x27; field, so it will skip secure delete.<br />
&gt;<br />
&gt; To manage notifications about this bug go to:<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/cinder/+bug/1198185/+subscriptions">https:/<wbr />/bugs.launchpad<wbr />.net/cinder/<wbr />+bug/1198185/<wbr />+subscriptions</a><br />
&gt;
</span></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Do it as soon as I get to the office


On Mon, Jul 29, 2013 at 4:01 AM, Thierry Carrez &lt;thierry.carrez+lp@gmail.com
&gt; wrote:

&gt; We need the grizzly backport and a CVE allocated before we move on to
&gt; advisory publication
&gt;
&gt; ** Also affects: cinder/grizzly
&gt;    Importance: Undecided
&gt;        Status: New
&gt;
&gt; --
&gt; You received this bug notification because you are a member of Cinder
&gt; Bug Team, which is subscribed to Cinder.
&gt; https://bugs.launchpad.net/bugs/1198185
&gt;
&gt; Title:
&gt;   delete_snapshot in LVMVolumeDriver not really zero the snapshot
&gt;
&gt; Status in Cinder:
&gt;   Fix Released
&gt; Status in Cinder grizzly series:
&gt;   New
&gt; Status in OpenStack Security Advisories:
&gt;   Triaged
&gt;
&gt; Bug description:
&gt;   the delete action process:
&gt;       delete_snapshot(self, snapshot) -&gt; self._delete_volume(snapshot,
&gt; snapshot['volume_size'])  -&gt; self.clear_volume(volume)
&gt;
&gt;       def clear_volume(self, volume):
&gt;           """unprovision old volumes to prevent data leaking between
&gt; users."""
&gt;
&gt;           vol_path = self.local_path(volume)
&gt;           size_in_g = volume.get('size')
&gt;           size_in_m = self.configuration.volume_clear_size
&gt;
&gt;           if not size_in_g:
&gt;               LOG.warning(_("Size for volume: %s not found, "
&gt;                             "skipping secure delete.") % volume['name'])
&gt;               return
&gt;            ....
&gt;            ....
&gt;
&gt;
&gt;   Because snapshot without 'size' field, so it will skip secure delete.
&gt;
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/cinder/+bug/1198185/+subscriptions
&gt;
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
    
    <time title="2013-07-31 19:27:01 UTC" datetime="2013-07-31T19:27:01.186984+00:00">on 2013-07-31</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - delete_snapshot in LVMVolumeDriver not really zero the snapshot<br />+ Cinder LVM volume driver does not support secure deletion<br />+ (CVE-2013-4183)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-07-31T19:43:27.904182+00:00" title="2013-07-31 19:43:27 UTC">on 2013-07-31</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/cinder/+bug/1198185/comments/24">
                <strong>Fix proposed to cinder (stable/grizzly)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/grizzly<br />
Review: <a rel="nofollow" href="https://review.openstack.org/39565">https:/<wbr />/review.<wbr />openstack.<wbr />org/39565</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/grizzly
Review: https://review.openstack.org/39565</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/cinder/+bug/1198185/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-08-02T22:37:35.542751+00:00" title="2013-08-02 22:37:35 UTC">on 2013-08-02</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/cinder/+bug/1198185/comments/25">
                <strong>Fix merged to cinder (stable/grizzly)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/cinder/+bug/1198185/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.openstack.org/39565">https:/<wbr />/review.<wbr />openstack.<wbr />org/39565</a><br />
Committed: <a rel="nofollow" href="http://github.com/openstack/cinder/commit/68c597e26b5659a036a7a937622e539bac102308">http://<wbr />github.<wbr />com/openstack/<wbr />cinder/<wbr />commit/<wbr />68c597e26b5659a<wbr />036a7a937622e53<wbr />9bac102308</a><br />
Submitter: Jenkins<br />
Branch:    stable/grizzly</p>
<p>commit 68c597e26b5659a<wbr />036a7a937622e53<wbr />9bac102308<br />
Author: Rongze Zhu &lt;email address hidden&gt;<br />
Date:   Wed Jul 10 09:25:32 2013 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Enable zero the snapshot when delete snapshot in LVMVolumeDriver</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Because snapshot without &#x27;size&#x27; field, So clear_volume method in<br />
&nbsp;&nbsp;&nbsp;&nbsp;LVMVolumeDriver will skip secure deleting. Get the size of snapshot from<br />
&nbsp;&nbsp;&nbsp;&nbsp;&#x27;volume_size&#x27; filed, So it can zero the snapshot.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Remove the &#x27;size_in_g&#x27; parameter in _delete_volume method, because it never<br />
&nbsp;&nbsp;&nbsp;&nbsp;used. Add a unittest for clear_volume method.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Fixes  <a href="/bugs/1198185" class="bug-link">Bug #1198185</a></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Ie919b50ce4fb27<wbr />6f29ab2e0279f86<wbr />8a691ea7bef<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 0ee31073c5cb432<wbr />a9cdd2648e99aa8<wbr />02b0ed0a17)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.openstack.org/39565
Committed: http://github.com/openstack/cinder/commit/68c597e26b5659a036a7a937622e539bac102308
Submitter: Jenkins
Branch:    stable/grizzly

commit 68c597e26b5659a036a7a937622e539bac102308
Author: Rongze Zhu &lt;rongze@unitedstack.com&gt;
Date:   Wed Jul 10 09:25:32 2013 -0700

    Enable zero the snapshot when delete snapshot in LVMVolumeDriver
    
    Because snapshot without 'size' field, So clear_volume method in
    LVMVolumeDriver will skip secure deleting. Get the size of snapshot from
    'volume_size' filed, So it can zero the snapshot.
    
    Remove the 'size_in_g' parameter in _delete_volume method, because it never
    used. Add a unittest for clear_volume method.
    
    Fixes  Bug #1198185
    
    Change-Id: Ie919b50ce4fb276f29ab2e0279f868a691ea7bef
    (cherry picked from commit 0ee31073c5cb432a9cdd2648e99aa802b0ed0a17)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
    
    <time title="2013-08-06 18:42:28 UTC" datetime="2013-08-06T18:42:28.802475+00:00">on 2013-08-06</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Committed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
    
    <time title="2013-08-07 15:31:50 UTC" datetime="2013-08-07T15:31:50.001564+00:00">on 2013-08-07</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - Cinder LVM volume driver does not support secure deletion<br />- (CVE-2013-4183)<br />+ [OSSA 2013-021] Cinder LVM volume driver does not support secure<br />+ deletion (CVE-2013-4183)
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2013-10-17 10:21:19 UTC" datetime="2013-10-17T10:21:19.401838+00:00">on 2013-10-17</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in cinder: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        havana-2 &#8594; 2013.2
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/cinder/+bug/1198185/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/cinder/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/cinder/+bug/1198185/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/cinder/+bug/1198185/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/cinder/+bug/1198185/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/cinder/+bug/1198185/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/cinder/+bug/1198185/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/cinder/+bug/1198185/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/cinder/+bug/1198185/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/cinder/+bug/1198185/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/cinder/+bug/1198185/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  
  


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"bug_is_private": false, "information_type_data": {"PUBLICSECURITY": {"name": "Public Security", "description_css_class": "choice-description", "is_private": false, "value": "PUBLICSECURITY", "description": "Everyone can see this security related information.\n", "order": 1}, "PRIVATESECURITY": {"name": "Private Security", "description_css_class": "choice-description", "is_private": true, "value": "PRIVATESECURITY", "description": "Only the security group can see this information.\n ", "order": 2}, "PUBLIC": {"name": "Public", "description_css_class": "choice-description", "is_private": false, "value": "PUBLIC", "description": "Everyone can see this information.\n", "order": 0}, "USERDATA": {"name": "Private", "description_css_class": "choice-description", "is_private": true, "value": "USERDATA", "description": "Only shared with users permitted to see private user information.\n", "order": 3}}, "initial_comment_batch_offset": 41, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/1198185", "self_link": "https://bugs.launchpad.net/api/devel/bugs/1198185"}, "first visible_recent_comment": -15, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1198185", "web_link": "https://bugs.launchpad.net/bugs/1198185", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1198185, "private": false, "information_type": "Public Security", "name": null, "title": "[OSSA 2013-021] Cinder LVM volume driver does not support secure deletion (CVE-2013-4183)", "description": "the delete action process:\n    delete_snapshot(self, snapshot) -\u003e self._delete_volume(snapshot, snapshot['volume_size'])  -\u003e self.clear_volume(volume) \n\n    def clear_volume(self, volume):                                               \n        \"\"\"unprovision old volumes to prevent data leaking between users.\"\"\"   \n                                                                                  \n        vol_path = self.local_path(volume)                                        \n        size_in_g = volume.get('size')                                            \n        size_in_m = self.configuration.volume_clear_size                          \n                                                                                  \n        if not size_in_g:                                                      \n            LOG.warning(_(\"Size for volume: %s not found, \"                    \n                          \"skipping secure delete.\") % volume['name'])         \n            return                                                             \n         ....\n         ....\n  \n\nBecause snapshot without 'size' field, so it will skip secure delete.", "owner_link": "https://bugs.launchpad.net/api/devel/~zrzhit", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/bug_tasks", "duplicate_of_link": null, "date_created": "2013-07-05T13:11:34.438428+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/subscriptions", "date_last_updated": "2013-10-24T04:46:08.112505+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 256, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/attachments", "security_related": true, "latest_patch_uploaded": null, "tags": ["drivers", "lvm"], "date_last_message": "2013-08-02T22:37:35.542751+00:00", "number_of_duplicates": 0, "message_count": 26, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1198185/linked_merge_proposals", "http_etag": "\"0fefdc1134b13b5dea8af9199f48260e5808df90-80fe5923b3d1df6b9ea1cf2f4d07751fd3107572\""}, "total_comments_and_activity": 58, "related_features": {}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/cinder/+bug/1198185", "web_link": "https://bugs.launchpad.net/cinder/+bug/1198185", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1198185", "milestone_link": "https://bugs.launchpad.net/api/devel/cinder/+milestone/2013.2", "status": "Fix Released", "importance": "High", "assignee_link": "https://bugs.launchpad.net/api/devel/~zrzhit", "bug_target_display_name": "Cinder", "bug_target_name": "cinder", "bug_watch_link": null, "date_assigned": "2013-07-05T13:12:19.446419+00:00", "date_created": "2013-07-05T13:11:34.438428+00:00", "date_confirmed": "2013-07-10T15:12:05.960246+00:00", "date_incomplete": null, "date_in_progress": "2013-07-10T18:32:35.149893+00:00", "date_closed": "2013-07-17T10:55:42.590391+00:00", "date_left_new": "2013-07-10T15:12:05.960246+00:00", "date_triaged": "2013-07-10T15:12:05.960246+00:00", "date_fix_committed": "2013-07-12T18:33:17.896147+00:00", "date_fix_released": "2013-07-17T10:55:42.590391+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~zrzhit", "target_link": "https://bugs.launchpad.net/api/devel/cinder", "title": "Bug #1198185 in Cinder: \"[OSSA 2013-021] Cinder LVM volume driver does not support secure deletion (CVE-2013-4183)\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/cinder/+bug/1198185/related_tasks", "is_complete": true, "http_etag": "\"fe06e47835dddc9920de15b1f293693254935ae5-da145ff0ec9222068858c69c0f5471e93627e691\""}, "bugtask_data": {"1428696": {"bugtask_path": "/cinder/+bug/1198185", "bug_title": "[OSSA 2013-021] Cinder LVM volume driver does not support secure deletion (CVE-2013-4183)", "user_can_delete": false, "milestone_value": "https://bugs.launchpad.net/api/devel/cinder/+milestone/2013.2", "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "Cinder", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/cinder/+bug/1198185/+delete", "row_id": "tasksummary1428696", "target_is_product": true, "id": 1428696, "form_row_id": "task1428696", "assignee_vocabulary_filters": [], "prefix": "cinder", "importance_value": "High", "status_value": "Fix Released", "assignee_value": "zrzhit", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "1429468": {"bugtask_path": "/ossa/+bug/1198185", "bug_title": "[OSSA 2013-021] Cinder LVM volume driver does not support secure deletion (CVE-2013-4183)", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "OpenStack Security Advisory", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ossa/+bug/1198185/+delete", "row_id": "tasksummary1429468", "target_is_product": true, "id": 1429468, "form_row_id": "task1429468", "assignee_vocabulary_filters": [], "prefix": "ossa", "importance_value": "Medium", "status_value": "Fix Released", "assignee_value": "fungi", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "1439239": {"bugtask_path": "/cinder/grizzly/+bug/1198185", "bug_title": "[OSSA 2013-021] Cinder LVM volume driver does not support secure deletion (CVE-2013-4183)", "user_can_delete": false, "milestone_value": "https://bugs.launchpad.net/api/devel/cinder/+milestone/2013.1.3", "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "Cinder grizzly", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/cinder/grizzly/+bug/1198185/+delete", "row_id": "tasksummary1439239", "target_is_product": false, "id": 1439239, "form_row_id": "task1439239", "assignee_vocabulary_filters": [], "prefix": "cinder_grizzly", "importance_value": "High", "status_value": "Fix Released", "assignee_value": "xbsd-nikolay", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}}};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 78 queries/external actions issued in 0.98 seconds

    Features: {'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'bugs.affected_count_includes_dupes.disabled': None, 'baselayout.careers_link.disabled': None, 'js.yui_version': None, 'profiling.enabled': None, 'visible_render_time': None, 'hard_timeout': '9000', 'bugs.nominations.bug_supervisors_can_target': 'on', 'app.maintenance_message': None}

    r0d8de2b

    -->

</html>

