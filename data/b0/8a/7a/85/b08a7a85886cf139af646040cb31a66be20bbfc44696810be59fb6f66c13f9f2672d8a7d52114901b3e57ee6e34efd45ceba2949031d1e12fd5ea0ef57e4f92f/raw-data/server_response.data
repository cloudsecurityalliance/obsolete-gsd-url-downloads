<!DOCTYPE html>
<html lang="en">
  <head>
    <title>18229 &ndash; send_requested_reply=&quot;true&quot; allows all non-reply messages</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="data/assets/c60deb3d48830179eae269c9e65a7506.css?1462892334" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1462892331"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 1000
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "18229 – send_requested_reply=\"true\" allows all non-reply messages",
                             "show_bug.cgi?id=18229" );
        document.title = "18229 – send_requested_reply=\"true\" allows all non-reply messages";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "18229 – send_requested_reply=\"true\" allows all non-reply messages", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1462892334"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-freedesktop-org
                 bz_bug
                 bz_status_RESOLVED
                 bz_product_dbus
                 bz_component_core
                 bz_bug_18229 yui-skin-sam">

  <div id="header"><div id="banner">
  </div>

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;18229</span>

        <span id="subtitle" class="subheader">send_requested_reply=&quot;true&quot; allows all non-reply messages</span>

        <span id="information" class="header_addl_info">Last modified: 2010-01-08 00:33:03 UTC</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>


</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2010-01-08 00:33:03">
  <input type="hidden" name="id" value="18229">
  <input type="hidden" name="token" value="1635619146-HK6P_2Th3SbMTkL5VfDrCH1QbJ9pxnNormQUQ5m5HN4">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=18229"><b>Bug&nbsp;18229</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">send_requested_reply=&quot;true&quot; allows all non-reply messages</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>send_requested_reply=&quot;true&quot; allows all non-reply messages
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      'send_requested_reply=\"true\" allows all non-reply messages' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >dbus

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=dbus"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >core

  (<a href="buglist.cgi?component=core&amp;product=dbus&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>
<td>1.2.x
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">Other
        All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>medium
       normal
      </td>
    </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Havoc Pennington</span>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard"><span class="fn">John (J5) Palmieri</span>
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'dbus\x40maint.invalid',
        'dbus\x40maint.invalid');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >security

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2008-10-26 08:28 UTC by <span class="vcard"><span class="fn">Joachim Breitner</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2010-01-08 00:33 UTC
      (<a href="show_activity.cgi?id=18229">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>10 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="bugs">bugs</option>
                <option value="dcbw">dcbw</option>
                <option value="marcel">marcel</option>
                <option value="richard">richard</option>
                <option value="rstrode">rstrode</option>
                <option value="thoger">thoger</option>
                <option value="walters">walters</option>
                <option value="william.jon.mccann">william.jon.mccann</option>
                <option value="zeuthen">zeuthen</option>
                <option value="zman0900">zman0900</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 
<tr>
      <th class="field_label  bz_hidden_field"
    id="field_label_cf_i915_platform">


  <a 
      title="Intel platforms affected by the bug"
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_i915_platform"
  >i915 platform:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_i915_platform" >

</td>
    </tr>
    <tr>
      <th class="field_label  bz_hidden_field"
    id="field_label_cf_i915_features">


  <a 
      title="Features of the i915 driver affected by the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_i915_features"
  >i915 features:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_i915_features" >

</td>
    </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="2" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=19870"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Possible fix</span></b></a>

          <span class="bz_attach_extra_info">
              (1.28 KB,
                patch)

            <br>
            <a href="#attach_19870"
               title="Go to the comment associated with the attachment">2008-10-26 08:59 UTC</a>,

            <span class="vcard"><span class="fn">Joachim Breitner</span>
</span>
          </span>
        </td>


        <td>
          <a href="attachment.cgi?id=19870&amp;action=edit">Details</a>&#x0020; |
    <a href="https://bugs.freedesktop.org/page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=19870">
      Splinter Review</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=20193"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">proposed fix</span></b></a>

          <span class="bz_attach_extra_info">
              (750 bytes,
                patch)

            <br>
            <a href="#attach_20193"
               title="Go to the comment associated with the attachment">2008-11-10 10:04 UTC</a>,

            <span class="vcard"><span class="fn">David Zeuthen (not reading bugmail)</span>
</span>
          </span>
        </td>


        <td>
          <a href="attachment.cgi?id=20193&amp;action=edit">Details</a>&#x0020; |
    <a href="https://bugs.freedesktop.org/page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20193">
      Splinter Review</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=20397"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Possible system.conf change</span></b></a>

          <span class="bz_attach_extra_info">
              (1.11 KB,
                patch)

            <br>
            <a href="#attach_20397"
               title="Go to the comment associated with the attachment">2008-11-18 01:31 UTC</a>,

            <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
          </span>
        </td>


        <td>
          <a href="attachment.cgi?id=20397&amp;action=edit">Details</a>&#x0020; |
    <a href="https://bugs.freedesktop.org/page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20397">
      Splinter Review</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=20817"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">test case</span></b></a>

          <span class="bz_attach_extra_info">
              (6.91 KB,
                patch)

            <br>
            <a href="#attach_20817"
               title="Go to the comment associated with the attachment">2008-12-04 11:30 UTC</a>,

            <span class="vcard"><span class="fn">Colin Walters</span>
</span>
          </span>
        </td>


        <td>
          <a href="attachment.cgi?id=20817&amp;action=edit">Details</a>&#x0020; |
    <a href="https://bugs.freedesktop.org/page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20817">
      Splinter Review</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=20899"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Allow-DBus.Introspection-and-DBus.Peer-by-default</span></b></a>

          <span class="bz_attach_extra_info">
              (2.91 KB,
                patch)

            <br>
            <a href="#attach_20899"
               title="Go to the comment associated with the attachment">2008-12-08 08:00 UTC</a>,

            <span class="vcard"><span class="fn">Colin Walters</span>
</span>
          </span>
        </td>


        <td>
          <a href="attachment.cgi?id=20899&amp;action=edit">Details</a>&#x0020; |
    <a href="https://bugs.freedesktop.org/page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20899">
      Splinter Review</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=20924"
               title="View the content of the attachment">
          <b>cleanup of system.d</b></a>

          <span class="bz_attach_extra_info">
              (18.89 KB,
                patch)

            <br>
            <a href="#attach_20924"
               title="Go to the comment associated with the attachment">2008-12-08 17:14 UTC</a>,

            <span class="vcard"><span class="fn">Colin Walters</span>
</span>
          </span>
        </td>


        <td>
          <a href="attachment.cgi?id=20924&amp;action=edit">Details</a>&#x0020; |
    <a href="https://bugs.freedesktop.org/page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20924">
      Splinter Review</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=20928"
               title="View the content of the attachment">
          <b>allow signals by default</b></a>

          <span class="bz_attach_extra_info">
              (2.45 KB,
                patch)

            <br>
            <a href="#attach_20928"
               title="Go to the comment associated with the attachment">2008-12-08 18:26 UTC</a>,

            <span class="vcard"><span class="fn">Colin Walters</span>
</span>
          </span>
        </td>


        <td>
          <a href="attachment.cgi?id=20928&amp;action=edit">Details</a>&#x0020; |
    <a href="https://bugs.freedesktop.org/page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20928">
      Splinter Review</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=20942"
               title="View the content of the attachment">
          <b>Improvement for dbus-daemon manpage wrt policy rule application ordering</b></a>

          <span class="bz_attach_extra_info">
              (822 bytes,
                patch)

            <br>
            <a href="#attach_20942"
               title="Go to the comment associated with the attachment">2008-12-09 01:10 UTC</a>,

            <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
          </span>
        </td>


        <td>
          <a href="attachment.cgi?id=20942&amp;action=edit">Details</a>&#x0020; |
    <a href="https://bugs.freedesktop.org/page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20942">
      Splinter Review</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="2">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (5)
            <a id="view_all" href="attachment.cgi?bugid=18229&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
    </td>
  </tr>
</table>
<br>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1462891770" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Joachim Breitner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-26 08:28:16 UTC
        </span>

      </div>




<pre class="bz_comment_text">Hi,

if I understand everything correctly, there is a bad security bug in dbus:

The default configuration contains the lines
    &lt;allow send_requested_reply=&quot;true&quot;/&gt;
    &lt;allow receive_requested_reply=&quot;true&quot;/&gt;
with the valid intention to allow all replies to be send without explicit permission. Otherwise, dbus claims to have a default-no policy.

But what happens instead is: When a message is considered for sending, it enters bus_client_policy_check_can_send in policy.c[1]. There, all rules are looked at, but only SEND rules considered (line 893) – the first of the above rules is such a rule. Now we check for various conditions that might occur in such a rule (e.g. destination and the like), but none of these exist besides send_requested_reply. But in line 909 this is only done for messages which are replies. This means that for normal messages, we continue with the code and end up in line 1028, where we set the allowed flag! If no other rule kicks in, this stays allowed until the end.

A proper fix would be to add an else statement to the if in line 909, which calls continue, I think.

I did not adjust the severity or priority, per bug submitting etiquette, but I consider this a major bug.

Thanks,
Joachim

[1] <a href="http://gitweb.freedesktop.org/?p=dbus/dbus.git;a=blob;h=caa544e7a4f041e0cc9b250dc8c814a7b06e927b;hb=14afa0564e9eea01d28d4b2fd1e6ac0bfec626e7;f=bus/policy.c#l865">http://gitweb.freedesktop.org/?p=dbus/dbus.git;a=blob;h=caa544e7a4f041e0cc9b250dc8c814a7b06e927b;hb=14afa0564e9eea01d28d4b2fd1e6ac0bfec626e7;f=bus/policy.c#l865</a></pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Joachim Breitner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-26 08:59:02 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=19870" name="attach_19870" title="Possible fix">attachment 19870</a> <a href="attachment.cgi?id=19870&amp;action=edit" title="Possible fix">[details]</a></span> <a href='page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=19870'>[review]</a>
Possible fix

I think this (git-format-patch created patch) would fix the problem, but of course it should be reviewed first.</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Havoc Pennington</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-26 09:38:21 UTC
        </span>

      </div>




<pre class="bz_comment_text">Good catch. I've marked the bug security group only in case people want to do a coordinated update under embargo.

I think the patch is not quite right because &lt;allow&gt; and &lt;deny&gt; should be treated differently.

The requested_reply arg to check_can_send already incorporates whether the message is a reply. So I think perhaps simply removing the &quot;if (dbus_message_get_reply_serial (message) != 0)&quot; check would fix this bug, except the eavesdrop test may need to now look at whether it's a reply, so something like:

if (!requested_reply &amp;&amp; rule-&gt;allow &amp;&amp; rule-&gt;d.send.requested_reply)
 {
   if (dbus_message_get_reply_serial (message) != 0 &amp;&amp; rule-&gt;d.send.eavesdrop)
    {
      /* it's a reply, but was not requested; if eavesdrop is true, allow anyway */
    }
  else 
    {
      /* skip rule, do not allow */
      continue;
    }
}

I am not 100% sure though. Clearly more test cases are needed, ideally unit tests for the full matrix of (reply vs. not reply) * (requested vs. not requested) * (allow vs. deny) etc., basically try to cover all the code paths.
</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Joachim Breitner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-26 10:57:52 UTC
        </span>

      </div>




<pre class="bz_comment_text">Hi,

I didn’t expect you would want to embargo this, and submitted it to the public Debian bug tracker as well:
<a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=503532">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=503532</a>

Sorry if that is causing trouble.

Greetings,
Joachim</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-30 06:09:04 UTC
        </span>

      </div>




<pre class="bz_comment_text">Havoc, do you have any specific &lt;deny&gt; rule example in mind, that would be evaluated incorrectly by dbus if Joachim's patch is applied?

Additionally, is this actually a problem with dbus itself, or rather issue of default policy in system.conf?  Reading the dbus-daemon manpage [1], it contains following:

  [1] <a href="http://dbus.freedesktop.org/doc/dbus-daemon.1.html">http://dbus.freedesktop.org/doc/dbus-daemon.1.html</a>

  The [send|receive]_requested_reply attribute works similarly to the
  eavesdrop attribute. It controls whether the &lt;deny&gt; or &lt;allow&gt; matches
  a reply that is expected (corresponds to a previous method call message).
  **This attribute only makes sense for reply messages (errors and method
  returns), and is ignored for other message types.**

If I read it correctly, it basically says: if message type is not error or method return, attribute (not the whole rule) is ignored.  So according to that sematics definition, for method call message the rule:

  &lt;allow send_requested_reply=&quot;true&quot;/&gt;

should be identical to:

  &lt;allow/&gt;

So the code seems to do exactly what is specified.

Isn't it the default configuration to be blamed for this problem?  It says:

  &lt;allow send_requested_reply=&quot;true&quot;/&gt;

and expects this rule only to be applied to reply messages.  This probably needs to be changed to:

  &lt;allow send_requested_reply=&quot;true&quot; send_type=&quot;method_return&quot;/&gt;
  &lt;allow send_requested_reply=&quot;true&quot; send_type=&quot;error&quot;/&gt;

I do understand that Joachim's patch changes semantics for non-reply messages from &quot;attribute is ignored&quot; to &quot;whole rule is ignored&quot;.

Additionally, your suggestion does not seem to do the right thing either.  Consider call message and rule:

  &lt;allow send_destination=&quot;org.designfu.SampleService&quot;/&gt;

If I'm reading the man page correctly, send_requested_reply=&quot;true&quot; is implied by default.  In that case,

  if (!requested_reply &amp;&amp; rule-&gt;allow &amp;&amp; rule-&gt;d.send.requested_reply)

should be true, and

  if (dbus_message_get_reply_serial (message) != 0 &amp;&amp; rule-&gt;d.send.eavesdrop)

should be false and the rule is skipped.

I'm likely to miss something important, so feel free to correct me in whatever I got wrong.  Thanks!</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Havoc Pennington</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-30 09:11:56 UTC
        </span>

      </div>




<pre class="bz_comment_text">Tomas, I think your analysis is correct. So maybe just change the config file.
</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-04 07:53:01 UTC
        </span>

      </div>




<pre class="bz_comment_text">Havoc, thanks for reviewing my comment!

In <a href="show_bug.cgi?id=18229#c2">comment #2</a> you stated you may want some coordinated release for this fix along with vendors.  Do you have any specific proposed date?  The issue is technically public already via Debian bug report (they can't make it private).  We do have a pending update to do for <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Panic from dbus_signature_validate (CVE-2008-3834, CVE-2009-1189)"
   href="show_bug.cgi?id=17803">bug #17803</a>, so it would be a good opportunity to fix both issues at the same time.  Thanks!</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Havoc Pennington</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-04 09:33:04 UTC
        </span>

      </div>




<pre class="bz_comment_text">If there's coordination, I wouldn't be the person doing it ;-)
(I'd ask johnp or walters or jbressers at Red Hat)
</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 08:08:35 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c7">comment #7</a>)
<span class="quote">&gt; If there's coordination, I wouldn't be the person doing it ;-)
&gt; (I'd ask johnp or walters or jbressers at Red Hat)</span >

Ok, so I will take care of it.  Is there any date until which you as an upstream would like to keep this private?
</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Havoc Pennington</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 12:49:45 UTC
        </span>

      </div>




<pre class="bz_comment_text">No preferred date from me (apparently it isn't truly private anyway)
</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-07 06:32:33 UTC
        </span>

      </div>




<pre class="bz_comment_text">CVE-2008-4311 will be used to identify this flaw.</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David Zeuthen (not reading bugmail)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-10 10:04:19 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=20193" name="attach_20193" title="proposed fix">attachment 20193</a> <a href="attachment.cgi?id=20193&amp;action=edit" title="proposed fix">[details]</a></span> <a href='page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20193'>[review]</a>
proposed fix

Here's a patch for fixing this via modifying the configuration file. Does this fix the issue? Thanks.</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Havoc Pennington</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-11 05:42:50 UTC
        </span>

      </div>




<pre class="bz_comment_text">Patch looks good</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-11 07:23:05 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c11">comment #11</a>)
<span class="quote">&gt; Here's a patch for fixing this via modifying the configuration file. Does this
&gt; fix the issue? Thanks.</span >

This is wrong, your need to use receive_type for rules with receive_requested_reply attribute, otherwise dbus daemon won't even start.  Additionally, we will need to spend more time chasing down various apps that rely on the currently used over-permissive policy.  When I restarted dbus with this change applied, it killed my kitten^W X session and prevented X login.  Ouch!</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-11 07:35:01 UTC
        </span>

      </div>




<pre class="bz_comment_text">Looks like console-kit-daemon is one to blame, it spew some error messages, one obviously dbus-related:

ConsoleKit open: Unable to open session: A security policy in place prevents this recipient from receiving this message from this sender, see message bus configuration file (rejected message had interface &quot;org.freedesktop.ConsoleKit.Manager&quot; member &quot;OpenSessionWithParameters&quot; error name &quot;(unset)&quot; destination &quot;org.freedesktop.ConsoleKit&quot; reply serial 0 requested_reply=0)

and segfaults.</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David Zeuthen (not reading bugmail)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-11 09:58:08 UTC
        </span>

      </div>




<pre class="bz_comment_text">Added the ConsoleKit author to the Cc as per <a href="show_bug.cgi?id=18229#c14">comment 14</a>.</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-12 03:59:32 UTC
        </span>

      </div>




<pre class="bz_comment_text">ConsoleKit will likely need something like this at minimum:

&#64;&#64; -7,6 +7,11 &#64;&#64;
   &lt;policy user=&quot;root&quot;&gt;
     &lt;allow own=&quot;org.freedesktop.ConsoleKit&quot;/&gt;
 
+    &lt;!-- Allow receiving of messages to ConsoleKit interfaces --&gt;
+    &lt;allow receive_interface=&quot;org.freedesktop.ConsoleKit.Manager&quot;/&gt;
+    &lt;allow receive_interface=&quot;org.freedesktop.ConsoleKit.Seat&quot;/&gt;
+    &lt;allow receive_interface=&quot;org.freedesktop.ConsoleKit.Session&quot;/&gt;
+
     &lt;!-- Allow all methods on interfaces --&gt;
     &lt;allow send_interface=&quot;org.freedesktop.ConsoleKit.Manager&quot;/&gt;
     &lt;allow send_interface=&quot;org.freedesktop.ConsoleKit.Seat&quot;/&gt;


But this problem is likely to bite almost any service using system service bus.  Looking at the existing configs, even those apps that punch proper holes on the sender side fails to punch holes on receiver side.  What is the main reasoning for having to approve each message twice?

So if we want to tighten rule with receive_requested_reply by adding proper message types, almost all service-specific configuration files need to be fixed.

Alternatively, we can do a first half-step towards the full fix and leave that rule as unchanged for now and only turn to stricter rules on sender side (i.e. send_requested_reply rule).

Ideas?</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-12 06:20:34 UTC
        </span>

      </div>




<pre class="bz_comment_text">Another question is how to deal with messages to some interfaces (such as org.freedesktop.DBus.Introspectable) on the receiver side.  There does not seem to be a good way to create receiver rules that would allow receiving of messages to certain interface on one service and deny it on other, as there's not destination-based check for receive rules.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-16 01:54:19 UTC
        </span>

      </div>




<pre class="bz_comment_text">Does anyone have any other ideas wrt handling of receive rules?</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-18 01:31:13 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=20397" name="attach_20397" title="Possible system.conf change">attachment 20397</a> <a href="attachment.cgi?id=20397&amp;action=edit" title="Possible system.conf change">[details]</a></span> <a href='page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20397'>[review]</a>
Possible system.conf change

What about this change for system.conf?  It restricts send_requested_reply rule, so it should deal with all unintended method calls.  It also tries to set correct expectations wrt future of the receive_requested_reply rule.

This should resolve the problem without need for immediate fix of all applications using system bus.  Creating allow receive_interface= rules for all interfaces implemented by any application using the bus would result in a similarly secure policy as one with current receive_requested_reply rule.  Not being able to check destination in receive rules still seems quite limiting to me.</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David Zeuthen (not reading bugmail)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-02 08:29:14 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c19">comment #19</a>)
<span class="quote">&gt; Created an attachment (id=20397) [details]
&gt; Possible system.conf change
&gt; 
&gt; What about this change for system.conf?  It restricts send_requested_reply
&gt; rule, so it should deal with all unintended method calls.  It also tries to set
&gt; correct expectations wrt future of the receive_requested_reply rule.
&gt; 
&gt; This should resolve the problem without need for immediate fix of all
&gt; applications using system bus.  Creating allow receive_interface= rules for all
&gt; interfaces implemented by any application using the bus would result in a
&gt; similarly secure policy as one with current receive_requested_reply rule.  Not
&gt; being able to check destination in receive rules still seems quite limiting to
&gt; me.
&gt; </span >

Colin, Havoc: Are you guys fine with committing Tomas' patch upstream? If not, what kind of work is needed to get this issue resolved in upstream D-Bus?

(I'm asking because I'm wary of putting out an D-Bus errata for Fedora/RHEL without a clear indication that the fix is blessed upstream.)
</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-02 09:11:39 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c20">comment #20</a>)

<span class="quote">&gt; Colin, Havoc: Are you guys fine with committing Tomas' patch upstream? If not,
&gt; what kind of work is needed to get this issue resolved in upstream D-Bus?</span >

hp said in <a href="show_bug.cgi?id=18229#c5">comment #5</a> that the config change is probably right; I haven't had a chance to study this in detail but from reading this report through again it makes sense to me as well.

We should get this fix in.

Tomas - the reason I believe that there's no interface based check is that it's legal for messages to be sent to any interface.</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-02 09:25:51 UTC
        </span>

      </div>




<pre class="bz_comment_text">I vaguely recall a discussion about this that I think ended up at the conclusion that the unit of security granularity should be the service; i.e. not interfaces or methods.

In other words the config file for 3rd party services should just be:

&lt;user=&quot;root&quot;&gt;
  &lt;allow service=&quot;org.freedesktop.ConsoleKit&quot;/&gt;
&lt;/user&gt;

This would fit in with the trend of using PolicyKit for more fine grained authorization too.
</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-02 09:52:10 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c21">comment #21</a>)
<span class="quote">&gt; Tomas - the reason I believe that there's no interface based check is that
&gt; it's legal for messages to be sent to any interface.</span >

Sorry, I don't understand this.  Proposed patch fixes default rule that is supposed to allow all requested replies.  Why should it be bound to any specific interface?

(In reply to <a href="show_bug.cgi?id=18229#c22">comment #22</a>)
<span class="quote">&gt; I vaguely recall a discussion about this that I think ended up at the
&gt; conclusion that the unit of security granularity should be the service; i.e.
&gt; not interfaces or methods.</span >

Doesn't this make my note (end of <a href="show_bug.cgi?id=18229#c19">comment #19</a>) about not being able to use destination in receive rules even more valid?  Removing possibility to use interface and method attributes will only leave sender, message type and error name checks for use in the receive rules (I believe path falls to the same category as interfaces and methods).  So receive rules will have to be wide open to actually work (as they are now).

<span class="quote">&gt; In other words the config file for 3rd party services should just be:
&gt; 
&gt; &lt;user=&quot;root&quot;&gt;
&gt;   &lt;allow service=&quot;org.freedesktop.ConsoleKit&quot;/&gt;
&gt; &lt;/user&gt;</span >

Is this supposed to be send or receive rule?  Or some new policy concept, that does not distinguish the two any more?

Anyway, if this is expected to be full config for some 3rd party service, dbus will have to get the default configuration right, so that requests from non-root users are denied.
</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-03 13:26:54 UTC
        </span>

      </div>




<pre class="bz_comment_text">Should we try to embargo this through vendor-sec, or just go ahead and commit the patch to git under the assumption that since it's already in the Debian BTS it's public?</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-03 13:40:55 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c23">comment #23</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=18229#c21">comment #21</a>)
&gt; &gt; Tomas - the reason I believe that there's no interface based check is that
&gt; &gt; it's legal for messages to be sent to any interface.
&gt; 
&gt; Sorry, I don't understand this.  Proposed patch fixes default rule that is
&gt; supposed to allow all requested replies.  Why should it be bound to any
&gt; specific interface?</span >

I wasn't suggesting the system.conf change should be bound to a specific interface, just that we shouldn't rely on the destination interface in general (there is a note about this in the policy docs).

<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=18229#c22">comment #22</a>)</span >

<span class="quote">&gt; Doesn't this make my note (end of <a href="show_bug.cgi?id=18229#c19">comment #19</a>) about not being able to use
&gt; destination in receive rules even more valid?  Removing possibility to use
&gt; interface and method attributes will only leave sender, message type and error
&gt; name checks for use in the receive rules (I believe path falls to the same
&gt; category as interfaces and methods).  So receive rules will have to be wide
&gt; open to actually work (as they are now).</span >

Right...hm.  How useful are the receive rules in general?  I guess you'd need them if you wanted to keep a signal private between services.

<span class="quote">&gt; &gt; In other words the config file for 3rd party services should just be:
&gt; &gt; 
&gt; &gt; &lt;user=&quot;root&quot;&gt;
&gt; &gt;   &lt;allow service=&quot;org.freedesktop.ConsoleKit&quot;/&gt;
&gt; &gt; &lt;/user&gt;
&gt; 
&gt; Is this supposed to be send or receive rule?  Or some new policy concept, that
&gt; does not distinguish the two any more?</span >
&gt;
<span class="quote">&gt; Anyway, if this is expected to be full config for some 3rd party service, dbus
&gt; will have to get the default configuration right, so that requests from
&gt; non-root users are denied.</span >

I was thinking this policy would allow root to own the service name, and any uid to send&amp;receive messages from it, under the assumption that the service is using PolicyKit for fine grained permissions, or that it makes sense for any uid to be able to access it.

</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-04 00:14:50 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c24">comment #24</a>)
<span class="quote">&gt; Should we try to embargo this through vendor-sec, or just go ahead and commit
&gt; the patch to git under the assumption that since it's already in the Debian BTS
&gt; it's public?</span >

v-s is already aware of this issue, we already passed the previously proposed embargo date and there was not request for extension.  Given the Debian bug, I don't think there's any need for further embargo.</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-04 00:25:05 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c25">comment #25</a>)
<span class="quote">&gt; &gt; Sorry, I don't understand this.  Proposed patch fixes default rule that is
&gt; &gt; supposed to allow all requested replies.  Why should it be bound to any
&gt; &gt; specific interface?
&gt; 
&gt; I wasn't suggesting the system.conf change should be bound to a specific
&gt; interface, just that we shouldn't rely on the destination interface in general
&gt; (there is a note about this in the policy docs).</span >

Do you refer to this: &quot;Be careful with send_interface/receive_interface, because the interface field in messages is optional.&quot; ?  We don't need this in such a generic rule.

<span class="quote">&gt; Right...hm.  How useful are the receive rules in general?  I guess you'd need
&gt; them if you wanted to keep a signal private between services.</span >

I guess send/receive rules split was made as a design decision for signal handling.  For method_calls and method_returns, using single rule making point to point check would be more natural.  Having to deal with both type of rules for these types of messages is bit clumsy.

<span class="quote">&gt; I was thinking this policy would allow root to own the service name, and any
&gt; uid to send&amp;receive messages from it, under the assumption that the service is
&gt; using PolicyKit for fine grained permissions, or that it makes sense for any
&gt; uid to be able to access it.</span >

Ah, ok.  Though this does not sound like a change that can easily fit as a fix into existing systems (some of them even pre-dating PolicyKit).</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-04 07:35:15 UTC
        </span>

      </div>




<pre class="bz_comment_text">Writing a test case for this now.  Will work on an upstream release today after that.</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-04 07:47:14 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c28">comment #28</a>)
<span class="quote">&gt; Writing a test case for this now.</span >

Have you checked the one in our BZ?
</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-04 11:30:24 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=20817" name="attach_20817" title="test case">attachment 20817</a> <a href="attachment.cgi?id=20817&amp;action=edit" title="test case">[details]</a></span> <a href='page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20817'>[review]</a>
test case

This patch adds a test case, but doesn't modify the system policy yet.  I chose to use Tomas' suggested policy for the test case policy, and I get the expected denial.</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-04 11:55:26 UTC
        </span>

      </div>




<pre class="bz_comment_text">Ok, now I've double checked with this patch that the rules:

    &lt;allow send_requested_reply=&quot;true&quot;/&gt;
    &lt;allow send_requested_reply=&quot;true&quot;/&gt;
    &lt;allow receive_requested_reply=&quot;true&quot;/&gt;

Allow the message through (incorrectly), whereas:

    &lt;allow send_requested_reply=&quot;true&quot; send_type=&quot;method_return&quot;/&gt;
    &lt;allow send_requested_reply=&quot;true&quot; send_type=&quot;error&quot;/&gt;
    &lt;allow receive_requested_reply=&quot;true&quot;/&gt;

Disallow the message.

A quick once over of this patch would be appreciated; once that's done I'll merge it and then change the system.conf.in to match it per Tomas' patch.</pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 00:33:02 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c31">comment #31</a>)

<span class="quote">&gt; A quick once over of this patch would be appreciated; once that's done I'll
&gt; merge it and then change the system.conf.in to match it per Tomas' patch.</span >

Is there any other patch to look at besides the one in <a href="show_bug.cgi?id=18229#c30">comment #30</a>?  Test test config has differences to my proposed patch, so some thoughts on them:

- It also restricts receive_requested_reply rule.  While this change really turns default config to what it claims to be, it also breaks existing stuff badly and has questionable benefits.

- I guess there should be some note used there, so that the config is at honest at what it claims, and make users aware it may get better fix in the future.  Feel free to re-word my note as needed.

Thank you!</pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 09:21:31 UTC
        </span>

      </div>




<pre class="bz_comment_text">Proposed text of mail announcement:

Subject: [CVE-2008-4311] DBus 1.2.6

A new security release of DBus is now available:

<a href="http://dbus.freedesktop.org/dbus/releases/dbus-1.2.6.tar.gz">http://dbus.freedesktop.org/dbus/releases/dbus-1.2.6.tar.gz</a>

This release contains a (partial, see below) fix for: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - send_requested_reply=&quot;true&quot; allows all non-reply messages"
   href="show_bug.cgi?id=18229">https://bugs.freedesktop.org/show_bug.cgi?id=18229</a>

== Summary ==

Because of a mistake in the default configuration for the system bus (system.conf), the default policy for both sent and received messages was effectively *allow*, and not deny as stated. 

This release fixes the send side permission, but does not change the receive.  See below for more details.

== Available workarounds ==

It is possible to add explicit &lt;deny&gt; rules to existing policy files, and in fact many have these already.

== Mitigating factors ==

There are three important mitigating factors.  

* First, in an examination of a Fedora 10 system, many services (though not all, see below) contained explicit &lt;deny&gt; rules.  These deny rules did (and continue to) operate as expected.

* Second, an increasing trend has been for core system services to use PolicyKit, or otherwise do security checks on the service side.  Any system which relies on PolicyKit is unaffected by this flaw.

* Third, the SELinux DBus support is not affected by this flaw.

Now, as mentioned above this fix is partial.  DBus has two kinds of policy permissions, send and receive.  Generally speaking, the send side permission is much more important.  However, DBus has supported receive side permissions for a few reasons, among those are:

* Ensuring signals containing sensitive data aren't visible by unexpected processes
* A way for processes to &quot;second-pass&quot; filter messages before they reach their C code; however, what one can do in the policy language is relatively limited, and something like PolicyKit (or just manual service-side permission checks) remain a better way to do this.

For compatibility reasons, this release only fixes the send-side permission check, and not receive.  A greater number of services will need to be updated for a future tightening of the receive permission.  

We are as yet unsure when (and in fact, if) the receive permission will be tightened in the DBus 1.2 stable branch.  We will gather information about any affected programs and make a final determination at in the near future.

For now, it is suggested to use explicit &lt;deny&gt; rules for receive side.

</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 09:24:33 UTC
        </span>

      </div>




<pre class="bz_comment_text">Further note will send after:

== Affected Services ==

An examination of a Fedora 10 desktop installation discovered only one affected program, the APT backend for PackageKit.

A fix is available here:

[link here]

Does anyone know of any other affected programs?</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 10:55:19 UTC
        </span>

      </div>




<pre class="bz_comment_text">A few updates; credits, stronger suggestion to always use &lt;deny&gt;.

Subject: [CVE-2008-4311] DBus 1.2.6

A new security release of DBus is now available:

<a href="http://dbus.freedesktop.org/dbus/releases/dbus-1.2.6.tar.gz">http://dbus.freedesktop.org/dbus/releases/dbus-1.2.6.tar.gz</a>

This release contains a (partial, see below) fix for:
<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - send_requested_reply=&quot;true&quot; allows all non-reply messages"
   href="show_bug.cgi?id=18229">https://bugs.freedesktop.org/show_bug.cgi?id=18229</a>

== Summary ==

Joachim Breitner discovered a mistake in the default configuration for the system bus (system.conf) which made the default policy for both sent and received messages was effectively *allow*, and not deny as stated. 

This release fixes the send side permission, but does not change the receive. 
See below for more details.

== Available workarounds ==

It is possible to add explicit &lt;deny&gt; rules to existing policy files, and in
fact many have these already.

== Mitigating factors ==

There are three important mitigating factors.  

* First, in an examination of a Fedora 10 system, many services contained explicit &lt;deny&gt; rules.  These deny rules did (and
continue to) operate as expected.

* Second, an increasing trend has been for core system services to use
PolicyKit, or otherwise do security checks on the service side.  Any system
which relies on PolicyKit is unaffected by this flaw.

* Third, the SELinux DBus support is not affected by this flaw.

Now, as mentioned above this fix is partial.  DBus has two kinds of policy
permissions, send and receive.  Generally speaking, the send side permission is
much more important.  However, DBus has supported receive side permissions for
a few reasons, among those are:

* Ensuring signals containing sensitive data aren't visible by unexpected
processes.  Suggested fix: Do not put sensitive data in DBus signals; use targeted method calls.

* A way for processes to &quot;second-pass&quot; filter messages before they reach their
C code.  Suggested fix: Something like PolicyKit (or just manual service-side permission checks) remain a better way to do this.

For compatibility reasons, this release only fixes the send-side permission
check, and not receive.  A greater number of services will need to be updated
for a future tightening of the receive permission.  

We are as yet unsure when (and in fact, if) the receive permission will be
tightened in the DBus 1.2 stable branch.  We will gather information about any
affected programs and make a final determination at in the near future.

== Conclusion Summary ==

* Add explicit &lt;deny&gt; rules under the default policy if this is applicable to your service (i.e. not using PolicyKit or similar)
* Do not put sensitive information in signals

== Thanks ==

Thanks to Joachim Breitner for the initial report and proposed patch, Tomas Hoger for the current fix, and others for their assistance with this issue.
</pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 11:09:26 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c34">comment #34</a>)
<span class="quote">&gt; Does anyone know of any other affected programs?</span >

bluetooth.conf in bluez-utils only permit some messages from at_console users,  with no restriction for context=default, so looks affected.
</pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 11:26:13 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c36">comment #36</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=18229#c34">comment #34</a>)
&gt; &gt; Does anyone know of any other affected programs?
&gt; 
&gt; bluetooth.conf in bluez-utils only permit some messages from at_console users, 
&gt; with no restriction for context=default, so looks affected.</span >

Ok, I'll try to touch base with them now and see if they can get an update ready.</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 11:46:58 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c37">comment #37</a>)
<span class="quote">&gt; &gt; bluetooth.conf in bluez-utils only permit some messages from at_console
&gt; &gt; users, with no restriction for context=default, so looks affected.
&gt; 
&gt; Ok, I'll try to touch base with them now and see if they can get an update
&gt; ready.</span >

Update bluez?  Why?  Once dbus default policy is right, there will be no need for explicit denies in bluez.  Or have I managed to misunderstand what you referred to as affected programs?
</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 11:57:42 UTC
        </span>

      </div>




<pre class="bz_comment_text">Release done, lifting security tag.  I'll keep this bug open as a data gathering point for what to do about the receive aspect.</pre>
    </div>

    <div id="c40" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 12:12:05 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c38">comment #38</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=18229#c37">comment #37</a>)
&gt; &gt; &gt; bluetooth.conf in bluez-utils only permit some messages from at_console
&gt; &gt; &gt; users, with no restriction for context=default, so looks affected.
&gt; &gt; 
&gt; &gt; Ok, I'll try to touch base with them now and see if they can get an update
&gt; &gt; ready.
&gt; 
&gt; Update bluez?  Why?  Once dbus default policy is right, there will be no need
&gt; for explicit denies in bluez.</span >

Right, it's not strictly speaking necessary, it just seems prudent to add the &lt;deny&gt; rules.

Even besides that it seems important to touch base with those projects without the &lt;deny&gt;, simply because they were affected and should be aware of the impact.</pre>
    </div>

    <div id="c41" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-07 13:10:53 UTC
        </span>

      </div>




<pre class="bz_comment_text">Note - PackageKit broke with this change:

<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WONTFIX - Fails to update system"
   href="show_bug.cgi?id=18931">https://bugs.freedesktop.org/show_bug.cgi?id=18931</a></pre>
    </div>

    <div id="c42" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sjoerd Simons</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-07 16:14:09 UTC
        </span>

      </div>




<pre class="bz_comment_text">avahi-daemon also breaks. It has several dbus interface from which it sends signals which are denied with this fix. Most of those interface also have methods but those should work correctly as it has &lt;allow send_destination=&quot;org.freedesktop.Avahi&quot;/&gt;. The easiest way to test for this is by running avahi-discover.

I'll try to investigate the minimal fix tomorrow (if time allows, feel free to beat me to it). </pre>
    </div>

    <div id="c43" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-08 05:37:04 UTC
        </span>

      </div>




<pre class="bz_comment_text">PolicyKit policy bug:
  <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED INVALID - PolicyKit: incorrect default DBUS configuration"
   href="show_bug.cgi?id=18948">https://bugs.freedesktop.org/show_bug.cgi?id=18948</a></pre>
    </div>

    <div id="c44" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-08 05:52:04 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c42">comment #42</a>)
<span class="quote">&gt; avahi-daemon also breaks. It has several dbus interface from which it sends
&gt; signals which are denied with this fix.</span >

What is the interface used in the signals?  org.freedesktop.Avahi?  Probably adding:

  &lt;allow send_interface=&quot;org.freedesktop.Avahi&quot;/&gt;

to the &lt;policy group=&quot;avahi&quot;&gt; section should be the easiest fix (well, it may be better to bound it to the owner of the org.freedesktop.Avahi name as a sender, but that can't be done in the send rules).  On the receiver side, following already existing context=&quot;default&quot; rule should be sufficient:

  &lt;allow receive_sender=&quot;org.freedesktop.Avahi&quot;/&gt;

As for the fix proposed here:
  <a href="http://lists.freedesktop.org/archives/dbus/2008-December/010706.html">http://lists.freedesktop.org/archives/dbus/2008-December/010706.html</a>
  &lt;allow send_requested_reply=&quot;true&quot; send_type=&quot;signal&quot;/&gt;

This rule will only be considered for messages of type signal.  send_requested_reply attribute will be ignored, so the rule will allow sending any signal, by any service connected to the bus (not only avahi-daemon).

Not quite sure what to look for in the avahi-discover output...</pre>
    </div>

    <div id="c45" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-08 08:00:19 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=20899" name="attach_20899" title="Allow-DBus.Introspection-and-DBus.Peer-by-default">attachment 20899</a> <a href="attachment.cgi?id=20899&amp;action=edit" title="Allow-DBus.Introspection-and-DBus.Peer-by-default">[details]</a></span> <a href='page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20899'>[review]</a>
Allow-DBus.Introspection-and-DBus.Peer-by-default

This patch allows Introspection and Peer methods by default.</pre>
    </div>

    <div id="c46" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David Zeuthen (not reading bugmail)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-08 08:58:56 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c45">comment #45</a>)
<span class="quote">&gt; Created an attachment (id=20899) [details]
&gt; Allow-DBus.Introspection-and-DBus.Peer-by-default
&gt; 
&gt; This patch allows Introspection and Peer methods by default.
&gt; </span >

Hmm. I honestly think this is confusing. If we require that system services need to punch holes *anyway*, why not let them punch holes for Peer and Introspectable too? 

I think doing this automatically will just make it even harder to grasp how to use &lt;allow&gt; and &lt;deny&gt; correctly; it's already way too overcomplicated and we've seen both the implementation and users get it wrong.
</pre>
    </div>

    <div id="c47" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-08 09:26:25 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c46">comment #46</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=18229#c45">comment #45</a>)
&gt; &gt; Created an attachment (id=20899) [details] [details]
&gt; &gt; Allow-DBus.Introspection-and-DBus.Peer-by-default
&gt; &gt; 
&gt; &gt; This patch allows Introspection and Peer methods by default.
&gt; &gt; 
&gt; 
&gt; Hmm. I honestly think this is confusing. If we require that system services
&gt; need to punch holes *anyway*, why not let them punch holes for Peer and
&gt; Introspectable too? 
&gt; 
&gt; I think doing this automatically will just make it even harder to grasp how to
&gt; use &lt;allow&gt; and &lt;deny&gt; correctly; it's already way too overcomplicated and
&gt; we've seen both the implementation and users get it wrong.</span >

I think the bottom line is to use send_destination liberally.  I'll post about this on the list.</pre>
    </div>

    <div id="c48" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-08 14:04:06 UTC
        </span>

      </div>




<pre class="bz_comment_text">There is one major issue left to address: signals.  Basically, we should add a global 

&lt;allow send_type=&quot;signal&quot;/&gt;


</pre>
    </div>

    <div id="c49" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-08 17:14:36 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=20924" name="attach_20924" title="cleanup of system.d">attachment 20924</a> <a href="attachment.cgi?id=20924&amp;action=edit" title="cleanup of system.d">[details]</a></span> <a href='page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20924'>[review]</a>
cleanup of system.d

Here is a first pass through the system.d directory.  The major themes are:

* Changing things to use send_destination.  This fixes the introspection handling.
* Removing rules of the form &lt;deny send_interface=&quot;org.foo.Bar&quot;/&gt;.  These are actively harmful and break introspection - see <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED MOVED - nondeterministic denials for no-interface messages"
   href="show_bug.cgi?id=18961">bug 18961</a>.  I also took the opportunity to remove rules that should be redundant now.
* Adding missing &lt;context=&quot;default&quot;&gt;&lt;allow send_destination=&quot;com.foo.Baz&quot;/&gt; rules.</pre>
    </div>

    <div id="c50" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-08 18:26:45 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=20928" name="attach_20928" title="allow signals by default">attachment 20928</a> <a href="attachment.cgi?id=20928&amp;action=edit" title="allow signals by default">[details]</a></span> <a href='page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20928'>[review]</a>
allow signals by default

In order to move forward with the system.d cleanup, I propose we allow all signals by default.  There is not great value in restricting the namespaces of sent signals.</pre>
    </div>

    <div id="c51" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-09 01:10:47 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=20942" name="attach_20942" title="Improvement for dbus-daemon manpage wrt policy rule application ordering">attachment 20942</a> <a href="attachment.cgi?id=20942&amp;action=edit" title="Improvement for dbus-daemon manpage wrt policy rule application ordering">[details]</a></span> <a href='page.cgi?id=splinter.html&amp;bug=18229&amp;attachment=20942'>[review]</a>
Improvement for dbus-daemon manpage wrt policy rule application ordering

Colin, can you please consider this minor dbus-daemon man page improvement for next update?  It adds mention of at_console &lt;policy&gt; attribute.</pre>
    </div>

    <div id="c52" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-09 01:44:04 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c50">comment #50</a>)
<span class="quote">&gt; In order to move forward with the system.d cleanup, I propose we allow all
&gt; signals by default.  There is not great value in restricting the namespaces of
&gt; sent signals.</span >

Should receiving of all signals be allowed by default as well?  Are there any known use-cases of private signals?</pre>
    </div>

    <div id="c53" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-09 02:52:09 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c49">comment #49</a>)
<span class="quote">&gt; Here is a first pass through the system.d directory.</span >

Some thoughts...

--- system.d/avahi-dbus.conf

There are few receive_sender rules there as well that should only be needed for signals, so their fate actually depends on what the default for signals will be.


--- system.d/ConsoleKit.conf

Did you leave user=&quot;root&quot; rules unchanged intentionally?  They look like a good candidate for allow send_destination.  Why not remove all those context=&quot;default&quot; deny rules and only keep explicit allows.

The similar comments apply to gdm.conf.


--- system.d/dnsmasq.conf

Rule &lt;allow send_interface=&quot;uk.org.thekelleys.dnsmasq&quot;/&gt; should only be needed for signal sending, so is candidate for removal if signals are permitted by default.


--- system.d/newprinternotification.conf

- &lt;allow send_interface=&quot;com.redhat.NewPrinterNotification&quot;/&gt;

Again, may be needed for signals.


--- system.d/org.fedoraproject.Config.Services.conf

I'd prefer to see allow send_destination rule removed from user=&quot;root&quot; section.  All context=&quot;default&quot; rules apply to root as well, so having the rule only there should be sufficient.


--- system.d/org.gnome.ClockApplet.Mechanism.conf

This seems incorrect to me.  Probably something like this is needed:

&#64;&#64; -8,12 +8,12 &#64;&#64;
   &lt;!-- Only root can own the service --&gt;
   &lt;policy user=&quot;root&quot;&gt;
     &lt;allow own=&quot;org.gnome.ClockApplet.Mechanism&quot;/&gt;
-    &lt;allow send_interface=&quot;org.gnome.ClockApplet.Mechanism.SetTimezoneInterface&quot;/&gt;
   &lt;/policy&gt;
 
   &lt;!-- Allow anyone to invoke methods on the interfaces --&gt;
   &lt;policy context=&quot;default&quot;&gt;
-    &lt;allow send_interface=&quot;org.gnome.ClockApplet.Mechanism.SetTimezoneInterface&quot;/&gt;
+    &lt;allow send_destination=&quot;org.gnome.ClockApplet.Mechanism&quot;
+           send_interface=&quot;org.gnome.ClockApplet.Mechanism.SetTimezoneInterface&quot;/&gt;
   &lt;/policy&gt;
 
 &lt;/busconfig&gt;

Not sure if binding to a particular interface is really needed.


--- system.d/org.gnome.*

Allow rules in user=&quot;root&quot; section can be omitted when service should be accessible to all users and there's context=&quot;default&quot; allow rule.


--- system.d/setroubleshootd.conf

It may requires some of the removed rules, or allow receive_sender rule for signal handling.

Similar probably applies to yum-updatesd.conf as well.
</pre>
    </div>

    <div id="c54" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-09 05:49:34 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c52">comment #52</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=18229#c50">comment #50</a>)
&gt; &gt; In order to move forward with the system.d cleanup, I propose we allow all
&gt; &gt; signals by default.  There is not great value in restricting the namespaces of
&gt; &gt; sent signals.
&gt; 
&gt; Should receiving of all signals be allowed by default as well?  Are there any
&gt; known use-cases of private signals?
&gt; </span >

I believe receiving signals will be covered by the receive_requested_reply opening all receive side.
</pre>
    </div>

    <div id="c55" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-09 06:09:49 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c51">comment #51</a>)
<span class="quote">&gt; Created an attachment (id=20942) [details]
&gt; Improvement for dbus-daemon manpage wrt policy rule application ordering
&gt; 
&gt; Colin, can you please consider this minor dbus-daemon man page improvement for
&gt; next update?  It adds mention of at_console &lt;policy&gt; attribute.</span >

Will do, I also have an update to the man page lying around.</pre>
    </div>

    <div id="c56" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tomas Hoger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-09 06:48:23 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c54">comment #54</a>)
<span class="quote">&gt; &gt; Should receiving of all signals be allowed by default as well?  Are there any
&gt; &gt; known use-cases of private signals?
&gt; 
&gt; I believe receiving signals will be covered by the receive_requested_reply
&gt; opening all receive side.</span >

Oh, well, that's correct.  Looks like I was thinking too long-term, assuming complete fix.
</pre>
    </div>

    <div id="c57" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Colin Walters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-09 06:54:23 UTC
        </span>

      </div>




<pre class="bz_comment_text">Thanks for the review of the system.d changes.  Let's actually break this list up into 3 separate parts:

1) Services broken by the new security policy (e.g. the original PolicyKit.conf could never have worked in a default-deny world)
2) Services which use &lt;deny send_interface/&gt; without also specifying send_destination.  These break no-interface requests from scripting languages.  
3) Cleanup

Suggest we focus on these in order.  I've created tracking bugs:

Broken: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED NOTOURBUG - broken services tracking bug"
   href="show_bug.cgi?id=18980">https://bugs.freedesktop.org/show_bug.cgi?id=18980</a>
Deny send_interface: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED MOVED - nondeterministic denials for no-interface messages"
   href="show_bug.cgi?id=18961">https://bugs.freedesktop.org/show_bug.cgi?id=18961</a>
Cleanup: (We'll do this later)

</pre>
    </div>

    <div id="c58" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dan Ziemba</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-09 12:45:00 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c34">comment #34</a>)
<span class="quote">&gt; 
&gt; Does anyone know of any other affected programs?
&gt; </span >

I am a Fedora 10 user, and I have been following this bug.  My system is running the updated dbus, and I have noticed two other affected applications:  system-config-services and system-config-samba.  It looks as though s-c-services has already been addressed in the system.d patch, but I think there is something wrong in the org.fedoraproject.Config.Samba.conf file for s-c-samba.  The file is identical to the org.fedoraproject.Config.Services.conf file except for the word Services, so I assume the same fix could be used on it?</pre>
    </div>

    <div id="c59" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dan Ziemba</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-09 15:40:46 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c58">comment #58</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=18229#c34">comment #34</a>)
&gt; &gt; 
&gt; &gt; Does anyone know of any other affected programs?
&gt; &gt; 
&gt; 
&gt; I am a Fedora 10 user, and I have been following this bug.  My system is
&gt; running the updated dbus, and I have noticed two other affected applications: 
&gt; system-config-services and system-config-samba.  It looks as though
&gt; s-c-services has already been addressed in the system.d patch, but I think
&gt; there is something wrong in the org.fedoraproject.Config.Samba.conf file for
&gt; s-c-samba.  The file is identical to the org.fedoraproject.Config.Services.conf
&gt; file except for the word Services, so I assume the same fix could be used on
&gt; it?
&gt; </span >

Nevermind, I see that new versions of each have been build on Koji.  I have tested them both and the seem to work.</pre>
    </div>

    <div id="c60" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Joachim Breitner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-01-07 11:12:02 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=18229#c39">comment #39</a>)
<span class="quote">&gt; Release done, lifting security tag.  I'll keep this bug open as a data
&gt; gathering point for what to do about the receive aspect.</span >

I’m just going through my bugs here, and noticed this one. Is there still stuff to do or can this bug be closed?</pre>
    </div>

    <div id="c61" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=18229#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Richard Hughes</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-01-08 00:33:03 UTC
        </span>

      </div>




<pre class="bz_comment_text">Yes. I think we can close this now. Thanks.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=18229">Format For Printing</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>


</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>
<p align="center">
  Use of freedesktop.org services, including Bugzilla, is subject to our <a href="https://www.freedesktop.org/wiki/CodeOfConduct/">Code of Conduct</a>. How we collect and use information is described in our <a href="https://www.freedesktop.org/wiki/PrivacyPolicy">Privacy Policy</a>.
</p>
  </body>
</html>