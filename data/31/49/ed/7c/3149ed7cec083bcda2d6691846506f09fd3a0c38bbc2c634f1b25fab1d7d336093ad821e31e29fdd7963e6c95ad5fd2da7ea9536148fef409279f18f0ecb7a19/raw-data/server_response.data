<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/nova/+bug/1253980/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1253980 “[OSSA 2013-037] DoS attack via setting os_type in ...” : Bugs : OpenStack Compute (nova)</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1253980" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1253980/bug.atom" title="Bug 1253980 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="If the os_type metadata is set of an image, the ephemeral disk backing file for that image will be named ephemeral_[size]_[os_type].
Because the user can change os_type they can use this to create new ephemeral backing files.
Nova image cache management does not include deleting ephemeral backing files (presumably because they are expected to be a small, stable set.

Hence a user can fill the disk with ephemeral backing files via the following:

1) Spawn a instance
2) Create a snapshot from i..." />
      <meta property="og:description" content="If the os_type metadata is set of an image, the ephemeral disk backing file for that image will be named ephemeral_[size]_[os_type].
Because the user can change os_type they can use this to create new ephemeral backing files.
Nova image cache management does not include deleting ephemeral backing files (presumably because they are expected to be a small, stable set.

Hence a user can fill the disk with ephemeral backing files via the following:

1) Spawn a instance
2) Create a snapshot from i..." />
    

    
    
      <meta property="og:title" content="Bug #1253980 “[OSSA 2013-037] DoS attack via setting os_type in ...” : Bugs : OpenStack Compute (nova)" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1253980" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["api", "api-ref", "availability-zones", "cells", "ceph", "cinder", "compute", "conductor", "config", "console", "cyborg", "db", "doc", "ec2", "evacuate", "fault-injection", "gate-failure", "glance", "hyper-v", "i18n", "image-cache", "in-stable-liberty", "in-stable-newton", "in-stable-ocata", "ironic", "kilo-backport-potential", "liberty-backport-potential", "libvirt", "live-migration", "low-hanging-fruit", "lxc", "metadata", "mitaka-backport-potential", "needs-attention", "needs-functional-test", "needs.openstack-version", "network", "neutron", "newton-backport-potential", "nfs", "notifications", "nova-manage", "nova-network", "numa", "ocata-backport-potential", "openstack-version.grizzly", "openstack-version.havana", "openstack-version.icehouse", "openstack-version.juno", "openstack-version.kilo", "openstack-version.liberty", "openstack-version.mitaka", "openstack-version.newton", "openstack-version.ocata", "openstack-version.pike", "ops", "oslo", "pci", "performance", "pike-backport-potential", "placement", "policy", "postgresql", "powervm", "privsep", "queens-backport-potential", "quotas", "race-condition", "reboot", "rebuild", "rescue", "resize", "resource-tracker", "rootwrap", "s390x", "scheduler", "security", "security-groups", "serviceability", "shared-storage", "shelve", "snapshot", "stacktrace", "stein-rc-potential", "testing", "train-rc-potential", "unified-objects", "upgrade", "ussuri-backport-potential", "ussuri-rc-potential", "vgpu", "victoria-rc-potential", "vmware", "volumes", "wallaby-rc-potential", "xen", "xena-rc-potential", "xenserver", "zvm"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/nova/+bug/1253980/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/nova"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/324577028/nova64.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/nova">OpenStack Compute (nova)</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/nova">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/nova">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/nova">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/nova">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/nova">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/nova">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    [OSSA 2013-037] DoS attack via setting os_type in snapshots (CVE-2013-6437)
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1253980 reported by
      <a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day</a>
      <time title="2013-11-22 11:21:01 UTC" datetime="2013-11-22T11:21:01.388836+00:00">on 2013-11-22</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">260</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary1504218">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/nova/+bug/1253980/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary1504218">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/nova">OpenStack Compute (nova)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/nova/+bug/1253980/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/nova/+bug/1253980/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1504218">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~moorryan">moorryan</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/nova/+milestone/2014.1">OpenStack Compute (nova) 2014.1 "icehouse"</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1504218">
     <td colspan="7"><form action="/nova/+bug/1253980/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/nova">OpenStack Compute (nova)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2013-11-22 11:21:01 UTC" datetime="2013-11-22T11:21:01.388836+00:00">2013-11-22</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2013-12-04 17:08:49 UTC" datetime="2013-12-04T17:08:49.011860+00:00">2013-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2013-12-04 17:09:30 UTC" datetime="2013-12-04T17:09:30.522987+00:00">2013-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2013-12-04 17:08:49 UTC" datetime="2013-12-04T17:08:49.011860+00:00">2013-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2014-01-22 16:13:10 UTC" datetime="2014-01-22T16:13:10.408192+00:00">2014-01-22</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="nova.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="nova.target.option.package" name="nova.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="nova.target.distribution" name="nova.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="nova.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="nova.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="nova.target.package"
                         name="nova.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;nova.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('nova.target.package');
              var select_menu = Y.DOM.byId('nova.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-nova-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": null, "step_title": "Search by name", "header": "Select a package", "vocabulary_filters": [], "show_create_team": false, "input_element": "nova.target.package", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "DistributionPackage", "show_widget_id": "show-widget-nova-target-package"};
        var show_widget_id = 'show-widget-nova-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="nova.target.option.product" name="nova.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="nova" id="nova.target.product"
                         name="nova.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;nova.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('nova.target.product');
              var select_menu = Y.DOM.byId('nova.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-nova-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": "nova", "step_title": "Search", "header": "Select a project", "vocabulary_filters": [], "show_create_team": false, "input_element": "nova.target.product", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "Product", "show_widget_id": "show-widget-nova-target-product"};
        var show_widget_id = 'show-widget-nova-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="nova.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="nova.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="nova.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="nova.status" name="nova.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="nova.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          OpenStack Compute (nova) 2014.1
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="nova.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="nova.assignee.assign_to_me" name="nova.assignee.option" value="nova.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="nova.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="nova.assignee.assigned_to" name="nova.assignee.option" value="nova.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="nova.assignee.assigned_to">
              moorryan (moorryan)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="nova.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="nova.comment_on_change" name="nova.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary1512181">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/nova/grizzly/+bug/1253980/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/nova/grizzly">Grizzly</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/nova/grizzly/+bug/1253980/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/nova/grizzly/+bug/1253980/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1512181">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~moorryan">moorryan</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/nova/+milestone/2013.1.5">OpenStack Compute (nova) 2013.1.5</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1512181">
     <td colspan="7"><form action="/nova/grizzly/+bug/1253980/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/nova/grizzly">OpenStack Compute (nova) grizzly</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2013-12-06 15:49:52 UTC" datetime="2013-12-06T15:49:52.279686+00:00">2013-12-06</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2013-12-17 12:28:34 UTC" datetime="2013-12-17T12:28:34.512857+00:00">2013-12-17</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2013-12-09 10:40:48 UTC" datetime="2013-12-09T10:40:48.868559+00:00">2013-12-09</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2013-12-17 12:28:34 UTC" datetime="2013-12-17T12:28:34.512857+00:00">2013-12-17</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2014-03-20 22:10:58 UTC" datetime="2014-03-20T22:10:58.069442+00:00">2014-03-20</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="nova_grizzly.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="nova_grizzly.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="nova_grizzly.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="nova_grizzly.status" name="nova_grizzly.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="nova_grizzly.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          OpenStack Compute (nova) 2013.1.5
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="nova_grizzly.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="nova_grizzly.assignee.assign_to_me" name="nova_grizzly.assignee.option" value="nova_grizzly.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="nova_grizzly.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="nova_grizzly.assignee.assigned_to" name="nova_grizzly.assignee.option" value="nova_grizzly.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="nova_grizzly.assignee.assigned_to">
              moorryan (moorryan)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="nova_grizzly.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="nova_grizzly.comment_on_change" name="nova_grizzly.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary1512182">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/nova/havana/+bug/1253980/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/nova/havana">Havana</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/nova/havana/+bug/1253980/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/nova/havana/+bug/1253980/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1512182">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~moorryan">moorryan</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/nova/+milestone/2013.2.2">OpenStack Compute (nova) 2013.2.2</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1512182">
     <td colspan="7"><form action="/nova/havana/+bug/1253980/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/nova/havana">OpenStack Compute (nova) havana</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2013-12-06 15:49:52 UTC" datetime="2013-12-06T15:49:52.279686+00:00">2013-12-06</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2013-12-17 12:28:37 UTC" datetime="2013-12-17T12:28:37.797878+00:00">2013-12-17</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2013-12-09 10:40:51 UTC" datetime="2013-12-09T10:40:51.654355+00:00">2013-12-09</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2013-12-17 12:28:37 UTC" datetime="2013-12-17T12:28:37.797878+00:00">2013-12-17</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2014-02-13 19:18:44 UTC" datetime="2014-02-13T19:18:44.931579+00:00">2014-02-13</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="nova_havana.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="nova_havana.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="nova_havana.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="nova_havana.status" name="nova_havana.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="nova_havana.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          OpenStack Compute (nova) 2013.2.2
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="nova_havana.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="nova_havana.assignee.assign_to_me" name="nova_havana.assignee.option" value="nova_havana.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="nova_havana.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="nova_havana.assignee.assigned_to" name="nova_havana.assignee.option" value="nova_havana.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="nova_havana.assignee.assigned_to">
              moorryan (moorryan)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="nova_havana.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="nova_havana.comment_on_change" name="nova_havana.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary1504329">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ossa/+bug/1253980/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary1504329">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/ossa">OpenStack Security Advisory</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ossa/+bug/1253980/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ossa/+bug/1253980/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1504329">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~ttx">Thierry Carrez</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1504329">
     <td colspan="7"><form action="/ossa/+bug/1253980/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ossa">OpenStack Security Advisory</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2013-11-22 15:17:25 UTC" datetime="2013-11-22T15:17:25.409073+00:00">2013-11-22</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2013-11-28 00:45:25 UTC" datetime="2013-11-28T00:45:25.006435+00:00">2013-11-28</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2013-12-09 16:03:15 UTC" datetime="2013-12-09T16:03:15.790269+00:00">2013-12-09</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2013-12-11 14:46:31 UTC" datetime="2013-12-11T14:46:31.109106+00:00">2013-12-11</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2013-12-18 21:29:35 UTC" datetime="2013-12-18T21:29:35.590922+00:00">2013-12-18</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ossa.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="ossa.target.option.package" name="ossa.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ossa.target.distribution" name="ossa.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ossa.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ossa.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ossa.target.package"
                         name="ossa.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ossa.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ossa.target.package');
              var select_menu = Y.DOM.byId('ossa.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ossa-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": null, "step_title": "Search by name", "header": "Select a package", "vocabulary_filters": [], "show_create_team": false, "input_element": "ossa.target.package", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "DistributionPackage", "show_widget_id": "show-widget-ossa-target-package"};
        var show_widget_id = 'show-widget-ossa-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ossa.target.option.product" name="ossa.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="ossa" id="ossa.target.product"
                         name="ossa.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ossa.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ossa.target.product');
              var select_menu = Y.DOM.byId('ossa.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ossa-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": "ossa", "step_title": "Search", "header": "Select a project", "vocabulary_filters": [], "show_create_team": false, "input_element": "ossa.target.product", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "Product", "show_widget_id": "show-widget-ossa-target-product"};
        var show_widget_id = 'show-widget-ossa-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ossa.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ossa.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ossa.status" name="ossa.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ossa.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ossa.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ossa.assignee.assign_to_me" name="ossa.assignee.option" value="ossa.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ossa.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ossa.assignee.assigned_to" name="ossa.assignee.option" value="ossa.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ossa.assignee.assigned_to">
              Thierry Carrez (ttx)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ossa.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ossa.comment_on_change" name="ossa.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/nova/+bug/1253980/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/nova/+bug/1253980/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/nova/+bug/1253980/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>If the os_type metadata is set of an image, the ephemeral disk backing file for that image will be named ephemeral_<wbr />[size]_<wbr />[os_type]<wbr />.<br />
Because the user can change os_type they can use this to create new ephemeral backing files.<br />
Nova image cache management does not include deleting ephemeral backing files (presumably because they are expected to be a small, stable set.</p>
<p>Hence a user can fill the disk with ephemeral backing files via the following:</p>
<p>1) Spawn a instance<br />
2) Create a snapshot from it, delete the original instance<br />
3) In a loop:<br />
generate a random os_type<br />
set os_type to the snapshot<br />
spawn and instance from it, and then delete the instance</p>
<p>Every iteration will generate an ephemeral backing file on a compute host.  With a stacking scheduling policy there is a good chance of hitting the same host repeatedly until its disk is full.</p>
<p>Suggested mitigation</p>
<p>Only use “os_type” in the ephemeral file name if there is a specific mkfs command defined, otherwise use “default”   (Currently for undefined os-types it will use the default mkfs command, but still uses os_type in the name.</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          <span>See <a href="comments/0">original description</a></span>
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            
          </span>
          <span id="tag-list">
          </span>
          <a href="+edit" title="Add tags" id="tags-trigger" class="sprite add">Add tags</a>
          
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2013-6437" title="The libvirt driver in OpenStack Compu...">2013-6437</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day (philip-day)</a>
    
    <time title="2013-11-22 11:48:02 UTC" datetime="2013-11-22T11:48:02.079603+00:00">on 2013-11-22</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-11-22T15:17:36.811370+00:00" title="2013-11-22 15:17:36 UTC">on 2013-11-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Sounds legit</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Sounds legit</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Incomplete
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-11-27T20:04:48.354705+00:00" title="2013-11-27 20:04:48 UTC">on 2013-11-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Yep, seems legit to me, too.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Yep, seems legit to me, too.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alaski" class="sprite person">Andrew Laski (alaski)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-11-27T20:38:59.532868+00:00" title="2013-11-27 20:38:59 UTC">on 2013-11-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I went looking through the code to figure out any implications of changing the backing file name and honestly I&#x27;m lost in image caching code, but as far as I can tell the suggested fix should work and would be fairly easy.</p>
<p>Phil, are you going to submit a patch for this?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I went looking through the code to figure out any implications of changing the backing file name and honestly I'm lost in image caching code, but as far as I can tell the suggested fix should work and would be fairly easy.

Phil, are you going to submit a patch for this?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day (philip-day)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-11-27T21:14:51.459121+00:00" title="2013-11-27 21:14:51 UTC">on 2013-11-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Don&#x27;t have anyone working on it yet,  but was hoping I could get someone started this week.  Open to other offers though</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Don't have anyone working on it yet,  but was hoping I could get someone started this week.  Open to other offers though</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alaski" class="sprite person">Andrew Laski (alaski)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-11-27T21:24:33.060612+00:00" title="2013-11-27 21:24:33 UTC">on 2013-11-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;m out for the rest of the week and have a lot on my plate already.  But if this sits too long I may try to tackle it.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'm out for the rest of the week and have a lot on my plate already.  But if this sits too long I may try to tackle it.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
    
    <time title="2013-11-28 00:45:24 UTC" datetime="2013-11-28T00:45:24.714419+00:00">on 2013-11-28</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Incomplete &#8594; Confirmed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day (philip-day)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-11-28T11:48:18.208806+00:00" title="2013-11-28 11:48:18 UTC">on 2013-11-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Added Ryan Moor (HP) as he is going to start working on a patch for this</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Added Ryan Moor (HP) as he is going to start working on a patch for this</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2013-11-29 11:08:27 UTC" datetime="2013-11-29T11:08:27.255724+00:00">on 2013-11-29</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~moorryan" class="sprite person">moorryan (moorryan)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-11-29T17:59:20.112905+00:00" title="2013-11-29 17:59:20 UTC">on 2013-11-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/nova/+bug/1253980/+attachment/3919970/+files/0001-use-os_type-in-ephemeral-filename-only-if-mkfs-defin.patch">0001-use-os_type-in-ephemeral-filename-only-if-mkfs-defin.patch</a>
        <a class="sprite edit action-icon" href="/nova/+bug/1253980/+attachment/3919970">Edit</a>
        (4.9 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Attached is a patch that contains a solution</p>
<p>Never submitted tin this way before so not sure what is required</p>
<p>Commit message: &gt;&gt;<br />
use &#x27;os_type&#x27; in ephemeral filename only if mkfs defined</p>
<p>Currently for undefined os-types it will use the default mkfs command, but use the meta &#x27;os_type&#x27; in the name of the ephemeral file (e.g. ephemeral_<wbr />20_abcdef)<wbr />. Which can result in a lot of files (DoS?)<br />
This change will only use &#x27;os_type&#x27; in the ephemeral filename if there is a specific mkfs command defined, otherwise it will use &#x27;default&#x27; (e.g. ephemeral_<wbr />20_default)</p>
<p>Modifed the tests to test for:<br />
&nbsp;&nbsp;os_type=&#x27;&#x27;<br />
&nbsp;&nbsp;os_type=None<br />
&nbsp;&nbsp;os_type=&#x27;test&#x27; - with no mkfs command specified<br />
&nbsp;&nbsp;os_type=&#x27;test&#x27; - with a mkfs command specified<br />
&lt;&lt;</p>
<p>run it up in devstack and it behaves as expected</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Attached is a patch that contains a solution

Never submitted tin this way before so not sure what is required

Commit message: &gt;&gt;
use 'os_type' in ephemeral filename only if mkfs defined

Currently for undefined os-types it will use the default mkfs command, but use the meta 'os_type' in the name of the ephemeral file (e.g. ephemeral_20_abcdef). Which can result in a lot of files (DoS?)
This change will only use 'os_type' in the ephemeral filename if there is a specific mkfs command defined, otherwise it will use 'default' (e.g. ephemeral_20_default)

Modifed the tests to test for:
  os_type=''
  os_type=None
  os_type='test' - with no mkfs command specified
  os_type='test' - with a mkfs command specified
&lt;&lt;

run it up in devstack and it behaves as expected</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~moorryan" class="sprite person">moorryan (moorryan)</a>
    
    <time title="2013-12-02 08:42:52 UTC" datetime="2013-12-02T08:42:52.016428+00:00">on 2013-12-02</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; moorryan (moorryan)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; In Progress
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day (philip-day)</a>
    
    <time title="2013-12-04 17:08:48 UTC" datetime="2013-12-04T17:08:48.683332+00:00">on 2013-12-04</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in nova: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; moorryan (moorryan)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alaski" class="sprite person">Andrew Laski (alaski)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-05T22:25:58.952307+00:00" title="2013-12-05 22:25:58 UTC">on 2013-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The patch from Ryan looks good to me and should address the reported issue.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The patch from Ryan looks good to me and should address the reported issue.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day (philip-day)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-06T11:29:23.017000+00:00" title="2013-12-06 11:29:23 UTC">on 2013-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Patch looks good to me too - nice work.</p>
<p>The patch doesn&#x27;t seem to apply on stable/havana though - so I guess we need a separate  patch file for that.</p>
<p>Any others we need ?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Patch looks good to me too - nice work.

The patch doesn't seem to apply on stable/havana though - so I guess we need a separate  patch file for that.

Any others we need ?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-06T15:50:47.230697+00:00" title="2013-12-06 15:50:47 UTC">on 2013-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>We&#x27;ll need a stable/havana patch for this. I suspect this affects grizzly too so we&#x27;ll need a stable/grizzly patch too.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">We'll need a stable/havana patch for this. I suspect this affects grizzly too so we'll need a stable/grizzly patch too.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        moorryan (moorryan) &#8594; nobody
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Confirmed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-06T20:19:53.206624+00:00" title="2013-12-06 20:19:53 UTC">on 2013-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>master patch looks good to me, too.  Thanks!</p>
<p>So we just need the stable backports now.  moorryan, do you think you can work on some backports, too?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">master patch looks good to me, too.  Thanks!

So we just need the stable backports now.  moorryan, do you think you can work on some backports, too?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~moorryan" class="sprite person">moorryan (moorryan)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-09T10:06:45.342349+00:00" title="2013-12-09 10:06:45 UTC">on 2013-12-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/nova/+bug/1253980/+attachment/3925901/+files/0001-use-os_type-in-ephemeral-filename-only-if-mkfs-defin.patch">backported for stable/havana</a>
        <a class="sprite edit action-icon" href="/nova/+bug/1253980/+attachment/3925901">Edit</a>
        (5.1 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>backported for stable/havana</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">backported for stable/havana

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~moorryan" class="sprite person">moorryan (moorryan)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-09T10:40:27.821887+00:00" title="2013-12-09 10:40:27 UTC">on 2013-12-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/nova/+bug/1253980/+attachment/3925911/+files/0001-use-os_type-in-ephemeral-filename-only-if-mkfs-defin.patch">backported for stable/grizzly</a>
        <a class="sprite edit action-icon" href="/nova/+bug/1253980/+attachment/3925911">Edit</a>
        (5.0 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>backported for stable/grizzly</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">backported for stable/grizzly</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day (philip-day)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-09T10:54:11.923314+00:00" title="2013-12-09 10:54:11 UTC">on 2013-12-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The stable patches look good to me - nice work Ryan.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The stable patches look good to me - nice work Ryan.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alaski" class="sprite person">Andrew Laski (alaski)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-09T14:47:13.260095+00:00" title="2013-12-09 14:47:13 UTC">on 2013-12-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>All 3 patches look good to me.  Thanks Ryan.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">All 3 patches look good to me.  Thanks Ryan.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-09T16:03:15.067782+00:00" title="2013-12-09 16:03:15 UTC">on 2013-12-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Proposed impact description:</p>
<p>Title: Nova compute DoS through ephemeral disk backing files<br />
Reporter: Phil Day (HP)<br />
Products: Nova<br />
Affects: All supported versions</p>
<p>Description:<br />
Phil Day from HP reported a vulnerability in the handling of ephemeral disk backing files on Nova compute nodes. By repeatedly spawning new instances of a snapshotted server with random os_type (and quickly deleting those instances), an authenticated user could generate lots of different ephemeral disk backing files and fill up compute node disks, potentially resulting in a Denial of Service against a Nova setup.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Proposed impact description:

Title: Nova compute DoS through ephemeral disk backing files
Reporter: Phil Day (HP)
Products: Nova
Affects: All supported versions

Description:
Phil Day from HP reported a vulnerability in the handling of ephemeral disk backing files on Nova compute nodes. By repeatedly spawning new instances of a snapshotted server with random os_type (and quickly deleting those instances), an authenticated user could generate lots of different ephemeral disk backing files and fill up compute node disks, potentially resulting in a Denial of Service against a Nova setup.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Thierry Carrez (ttx)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; Triaged
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-09T16:05:30.559111+00:00" title="2013-12-09 16:05:30 UTC">on 2013-12-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>After writing the impact description it appears to me that this DoS vector could end up being costly for the attacker. I tend to consider &quot;costly DoS&quot; to fall in the same category as &quot;normal usage&quot; for a resource provider... Thoughts on that ? Should this still be considered a practical vulnerability ?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">After writing the impact description it appears to me that this DoS vector could end up being costly for the attacker. I tend to consider "costly DoS" to fall in the same category as "normal usage" for a resource provider... Thoughts on that ? Should this still be considered a practical vulnerability ?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-09T16:32:09.455797+00:00" title="2013-12-09 16:32:09 UTC">on 2013-12-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>In my opinion, it comes down to whether there is typically a quota/rate-limit around these sorts of operations, and whether or not they are likely to be tracked/billed by a provider. But I don&#x27;t have the answer to those (hopefully someone here with OpenStack operational background can confirm).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">In my opinion, it comes down to whether there is typically a quota/rate-limit around these sorts of operations, and whether or not they are likely to be tracked/billed by a provider. But I don't have the answer to those (hopefully someone here with OpenStack operational background can confirm).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day (philip-day)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-09T18:10:42+00:00" title="2013-12-09 18:10:42 UTC">on 2013-12-09</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/nova/+bug/1253980/comments/19">
                <strong>RE: [Bug 1253980] Re: DoS attack via setting os_type in snapshots.</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/nova/+bug/1253980/comments/19/+download">Download full text</a> (3.3 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi Thierry,</p>
<p>A minor clarification on the impact description:</p>
<p>&quot;By repeatedly spawning new instances of a snapshotted server with random os_type ...&quot;   should read &quot; By repeatedly creating snapshots, changing the os_type to a new random value, and spawning new instances  from the snapshot ...&quot;</p>
<p>I don’t think its necessarily that costly - you do have to pay for each instance you create, but it can be the smallest instance needed and doesn’t have to exist any longer than the time to create it.  You could probably even kill the instance before it gets to Active (It only needs to get past the creation of the ephemeral backing file) and avoid any billing at all on some systems.  Likewise you don&#x27;t have to keep the snapshots once the instance has been created.   Because the ephemeral backing files are never cleared up (its assumed that they are small and a limited set) you don&#x27;t have to do this at a fast rate to create a long term attack.</p>
<p>Phil</p>
<p><span class="foldable-quoted">&gt; -----Original Message-----<br />
&gt; From: &lt;email address hidden&gt; [mailto:&lt;email address hidden&gt;] On Behalf<br />
&gt; Of Thierry Carrez<br />
&gt; Sent: 09 December 2013 16:06<br />
&gt; To: Day, Phil<br />
&gt; Subject: [<a href="/bugs/1253980" class="bug-link">Bug 1253980</a>] Re: DoS attack via setting os_type in snapshots.<br />
&gt;<br />
&gt; After writing the impact description it appears to me that this DoS vector<br />
&gt; could end up being costly for the attacker. I tend to consider &quot;costly DoS&quot; to<br />
&gt; fall in the same category as &quot;normal usage&quot; for a resource provider...<br />
&gt; Thoughts on that ? Should this still be considered a practical vulnerability ?<br />
&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are subscribed to the bug<br />
&gt; report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/1253980">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1253980</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   DoS attack via setting os_type in snapshots.<br />
&gt;<br />
&gt; Status in OpenStack Compute (Nova):<br />
&gt;   In Progress<br />
&gt; Status in OpenStack Compute (nova) grizzly series:<br />
&gt;   New<br />
&gt; Status in OpenStack Compute (nova) havana series:<br />
&gt;   New<br />
&gt; Status in OpenStack Security Advisories:<br />
&gt;   Triaged<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   If the os_type metadata is set of an image, the ephemeral disk backing file<br />
&gt; for that image will be named ephemeral_<wbr />[size]_<wbr />[os_type]<wbr />.<br />
&gt;   Because the user can change os_type they can use this to create new<br />
&gt; ephemeral backing files.<br />
&gt;   Nova image cache management does not include deleting ephemeral<br />
&gt; backing files (presumably because they are expected to be a small, stable<br />
&gt; set.<br />
&gt;<br />
&gt;   Hence a user can fill the disk with ephemeral backing files via the<br />
&gt;   following:<br />
&gt;<br />
&gt;   1) Spawn a instance<br />
&gt;   2) Create a snapshot from it, delete the original instance<br />
&gt;   3) In a loop:<br />
&gt;   generate a random os_type<br />
&gt;   set os_type to the snapshot<br />
&gt;   spawn and instance from it, and then delete the instance<br />
&gt;<br />
&gt;   Every iteration will generate an ephemeral backing file on a compute<br />
&gt;   host.  With a stacking scheduling policy there is a good chance of<br />
&gt;   hitting the same host repeatedly until its disk is full.<br />
&gt;<br />
&gt;   Suggested mitigation<br />
&gt;<br />
&gt;   Only use “os_type” in the ephemeral file name if there is a specific<br />
&gt;   mkfs command defined, otherwise use “default”   (Currently for<br />
&gt;   undefined os-types it will use the default mkfs command, but still<br />
&gt;   uses os_...
</span></p></div>
    
    <p>
      <a href="/nova/+bug/1253980/comments/19">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi Thierry,

A minor clarification on the impact description:

"By repeatedly spawning new instances of a snapshotted server with random os_type ..."   should read " By repeatedly creating snapshots, changing the os_type to a new random value, and spawning new instances  from the snapshot ..."

I don’t think its necessarily that costly - you do have to pay for each instance you create, but it can be the smallest instance needed and doesn’t have to exist any longer than the time to create it.  You could probably even kill the instance before it gets to Active (It only needs to get past the creation of the ephemeral backing file) and avoid any billing at all on some systems.  Likewise you don't have to keep the snapshots once the instance has been created.   Because the ephemeral backing files are never cleared up (its assumed that they are small and a limited set) you don't have to do this at a fast rate to create a long term attack.

Phil

&gt; -----Original Message-----
&gt; From: bounces@canonical.com [mailto:bounces@canonical.com] On Behalf
&gt; Of Thierry Carrez
&gt; Sent: 09 December 2013 16:06
&gt; To: Day, Phil
&gt; Subject: [Bug 1253980] Re: DoS attack via setting os_type in snapshots.
&gt; 
&gt; After writing the impact description it appears to me that this DoS vector
&gt; could end up being costly for the attacker. I tend to consider "costly DoS" to
&gt; fall in the same category as "normal usage" for a resource provider...
&gt; Thoughts on that ? Should this still be considered a practical vulnerability ?
&gt; 
&gt; --
&gt; You received this bug notification because you are subscribed to the bug
&gt; report.
&gt; https://bugs.launchpad.net/bugs/1253980
&gt; 
&gt; Title:
&gt;   DoS attack via setting os_type in snapshots.
&gt; 
&gt; Status in OpenStack Compute (Nova):
&gt;   In Progress
&gt; Status in OpenStack Compute (nova) grizzly series:
&gt;   New
&gt; Status in OpenStack Compute (nova) havana series:
&gt;   New
&gt; Status in OpenStack Security Advisories:
&gt;   Triaged
&gt; 
&gt; Bug description:
&gt;   If the os_type metadata is set of an image, the ephemeral disk backing file
&gt; for that image will be named ephemeral_[size]_[os_type].
&gt;   Because the user can change os_type they can use this to create new
&gt; ephemeral backing files.
&gt;   Nova image cache management does not include deleting ephemeral
&gt; backing files (presumably because they are expected to be a small, stable
&gt; set.
&gt; 
&gt;   Hence a user can fill the disk with ephemeral backing files via the
&gt;   following:
&gt; 
&gt;   1) Spawn a instance
&gt;   2) Create a snapshot from it, delete the original instance
&gt;   3) In a loop:
&gt;   generate a random os_type
&gt;   set os_type to the snapshot
&gt;   spawn and instance from it, and then delete the instance
&gt; 
&gt;   Every iteration will generate an ephemeral backing file on a compute
&gt;   host.  With a stacking scheduling policy there is a good chance of
&gt;   hitting the same host repeatedly until its disk is full.
&gt; 
&gt;   Suggested mitigation
&gt; 
&gt;   Only use “os_type” in the ephemeral file name if there is a specific
&gt;   mkfs command defined, otherwise use “default”   (Currently for
&gt;   undefined os-types it will use the default mkfs command, but still
&gt;   uses os_type in the name.
&gt; 
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/nova/+bug/1253980/+subscriptions
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-10T09:48:53.672998+00:00" title="2013-12-10 09:48:53 UTC">on 2013-12-10</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/nova/+bug/1253980/comments/20">
                <strong>Re: DoS attack via setting os_type in snapshots.</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>New proposed impact desc:</p>
<p>-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--<br />
Title: Nova compute DoS through ephemeral disk backing files<br />
Reporter: Phil Day (HP)<br />
Products: Nova<br />
Affects: All supported versions</p>
<p>Description:<br />
Phil Day from HP reported a vulnerability in the handling of ephemeral disk backing files on Nova compute nodes. By repeatedly creating snapshots, changing the os_type to a new random value, and spawning new instances from the snapshot (and quickly deleting those instances), an authenticated user could generate lots of different ephemeral disk backing files and fill up compute node disks, potentially resulting in a Denial of Service against a Nova setup.<br />
-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--</p>
<p>@Phil: agreed... waiting for confirmation from other VMT members to go ahead.  Would the ephemeral backing files all land on the same server (reaching a state of partial DoS quickly) or be spread across all compute nodes (reaching a state of total DoS but slowly) ?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">New proposed impact desc:

--------------------------------------------
Title: Nova compute DoS through ephemeral disk backing files
Reporter: Phil Day (HP)
Products: Nova
Affects: All supported versions

Description:
Phil Day from HP reported a vulnerability in the handling of ephemeral disk backing files on Nova compute nodes. By repeatedly creating snapshots, changing the os_type to a new random value, and spawning new instances from the snapshot (and quickly deleting those instances), an authenticated user could generate lots of different ephemeral disk backing files and fill up compute node disks, potentially resulting in a Denial of Service against a Nova setup.
--------------------------------------------

@Phil: agreed... waiting for confirmation from other VMT members to go ahead.  Would the ephemeral backing files all land on the same server (reaching a state of partial DoS quickly) or be spread across all compute nodes (reaching a state of total DoS but slowly) ?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day (philip-day)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-10T10:02:57+00:00" title="2013-12-10 10:02:57 UTC">on 2013-12-10</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/nova/+bug/1253980/comments/21">
                <strong>RE: [Bug 1253980] Re: DoS attack via setting os_type in snapshots.</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/nova/+bug/1253980/comments/21/+download">Download full text</a> (3.7 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p><span class="foldable-quoted">&gt; @Phil: agreed... waiting for confirmation from other VMT members to go<br />
&gt; ahead.  Would the ephemeral backing files all land on the same server<br />
&gt; (reaching a state of partial DoS quickly) or be spread across all compute<br />
&gt; nodes (reaching a state of total DoS but slowly) ?
</span></p>
<p>That depends entirely on the scheduling policy configured in Nova - a stacking model would hit the issue on specific nodes more quickly that a spreading model (so a quicker DoS on specific servers) - but really it’s the total DoS that is the issue which is kind of the same in either case, its just a question of if you fill from the side or from the bottom.</p>
<p><span class="foldable-quoted">&gt; -----Original Message-----<br />
&gt; From: &lt;email address hidden&gt; [mailto:&lt;email address hidden&gt;] On Behalf<br />
&gt; Of Thierry Carrez<br />
&gt; Sent: 10 December 2013 09:49<br />
&gt; To: Day, Phil<br />
&gt; Subject: [<a href="/bugs/1253980" class="bug-link">Bug 1253980</a>] Re: DoS attack via setting os_type in snapshots.<br />
&gt;<br />
&gt; New proposed impact desc:<br />
&gt;<br />
&gt; -------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--<br />
&gt; Title: Nova compute DoS through ephemeral disk backing files<br />
&gt; Reporter: Phil Day (HP)<br />
&gt; Products: Nova<br />
&gt; Affects: All supported versions<br />
&gt;<br />
&gt; Description:<br />
&gt; Phil Day from HP reported a vulnerability in the handling of ephemeral disk<br />
&gt; backing files on Nova compute nodes. By repeatedly creating snapshots,<br />
&gt; changing the os_type to a new random value, and spawning new instances<br />
&gt; from the snapshot (and quickly deleting those instances), an authenticated<br />
&gt; user could generate lots of different ephemeral disk backing files and fill up<br />
&gt; compute node disks, potentially resulting in a Denial of Service against a Nova<br />
&gt; setup.<br />
&gt; -------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--<br />
&gt;<br />
&gt; @Phil: agreed... waiting for confirmation from other VMT members to go<br />
&gt; ahead.  Would the ephemeral backing files all land on the same server<br />
&gt; (reaching a state of partial DoS quickly) or be spread across all compute<br />
&gt; nodes (reaching a state of total DoS but slowly) ?<br />
&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are subscribed to the bug<br />
&gt; report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/1253980">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1253980</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   DoS attack via setting os_type in snapshots.<br />
&gt;<br />
&gt; Status in OpenStack Compute (Nova):<br />
&gt;   In Progress<br />
&gt; Status in OpenStack Compute (nova) grizzly series:<br />
&gt;   New<br />
&gt; Status in OpenStack Compute (nova) havana series:<br />
&gt;   New<br />
&gt; Status in OpenStack Security Advisories:<br />
&gt;   Triaged<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   If the os_type metadata is set of an image, the ephemeral disk backing file<br />
&gt; for that image will be named ephemeral_<wbr />[size]_<wbr />[os_type]<wbr />.<br />
&gt;   Because the user can change os_type they can use this to create new<br />
&gt; ephemeral backing files.<br />
&gt;   Nova image cache management does not include deleting ephemeral<br />
&gt; backing files (presumably because they are expected to be a small, stable<br />
&gt; set.<br />
&gt;<br />
&gt;   Hence a user can fill the disk with ephemeral backing files via the<br />
&gt;   following:<br />
&gt;<br />
&gt;   1) Spawn a instance<br />
&gt;   2) Create a snapshot from it, delete the original instance<br />
&gt;   3) In a loop:<br />
&gt;   generate a random os_type<br />
&gt;   set os_type to the snapshot<br />
&gt;   spawn and instance from it, and then delete the instance<br />
&gt;<br />
&gt;   Every iteration will generate an ephemeral back...
</span></p></div>
    
    <p>
      <a href="/nova/+bug/1253980/comments/21">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">&gt; @Phil: agreed... waiting for confirmation from other VMT members to go
&gt; ahead.  Would the ephemeral backing files all land on the same server
&gt; (reaching a state of partial DoS quickly) or be spread across all compute
&gt; nodes (reaching a state of total DoS but slowly) ?

That depends entirely on the scheduling policy configured in Nova - a stacking model would hit the issue on specific nodes more quickly that a spreading model (so a quicker DoS on specific servers) - but really it’s the total DoS that is the issue which is kind of the same in either case, its just a question of if you fill from the side or from the bottom.

&gt; -----Original Message-----
&gt; From: bounces@canonical.com [mailto:bounces@canonical.com] On Behalf
&gt; Of Thierry Carrez
&gt; Sent: 10 December 2013 09:49
&gt; To: Day, Phil
&gt; Subject: [Bug 1253980] Re: DoS attack via setting os_type in snapshots.
&gt; 
&gt; New proposed impact desc:
&gt; 
&gt; --------------------------------------------
&gt; Title: Nova compute DoS through ephemeral disk backing files
&gt; Reporter: Phil Day (HP)
&gt; Products: Nova
&gt; Affects: All supported versions
&gt; 
&gt; Description:
&gt; Phil Day from HP reported a vulnerability in the handling of ephemeral disk
&gt; backing files on Nova compute nodes. By repeatedly creating snapshots,
&gt; changing the os_type to a new random value, and spawning new instances
&gt; from the snapshot (and quickly deleting those instances), an authenticated
&gt; user could generate lots of different ephemeral disk backing files and fill up
&gt; compute node disks, potentially resulting in a Denial of Service against a Nova
&gt; setup.
&gt; --------------------------------------------
&gt; 
&gt; @Phil: agreed... waiting for confirmation from other VMT members to go
&gt; ahead.  Would the ephemeral backing files all land on the same server
&gt; (reaching a state of partial DoS quickly) or be spread across all compute
&gt; nodes (reaching a state of total DoS but slowly) ?
&gt; 
&gt; --
&gt; You received this bug notification because you are subscribed to the bug
&gt; report.
&gt; https://bugs.launchpad.net/bugs/1253980
&gt; 
&gt; Title:
&gt;   DoS attack via setting os_type in snapshots.
&gt; 
&gt; Status in OpenStack Compute (Nova):
&gt;   In Progress
&gt; Status in OpenStack Compute (nova) grizzly series:
&gt;   New
&gt; Status in OpenStack Compute (nova) havana series:
&gt;   New
&gt; Status in OpenStack Security Advisories:
&gt;   Triaged
&gt; 
&gt; Bug description:
&gt;   If the os_type metadata is set of an image, the ephemeral disk backing file
&gt; for that image will be named ephemeral_[size]_[os_type].
&gt;   Because the user can change os_type they can use this to create new
&gt; ephemeral backing files.
&gt;   Nova image cache management does not include deleting ephemeral
&gt; backing files (presumably because they are expected to be a small, stable
&gt; set.
&gt; 
&gt;   Hence a user can fill the disk with ephemeral backing files via the
&gt;   following:
&gt; 
&gt;   1) Spawn a instance
&gt;   2) Create a snapshot from it, delete the original instance
&gt;   3) In a loop:
&gt;   generate a random os_type
&gt;   set os_type to the snapshot
&gt;   spawn and instance from it, and then delete the instance
&gt; 
&gt;   Every iteration will generate an ephemeral backing file on a compute
&gt;   host.  With a stacking scheduling policy there is a good chance of
&gt;   hitting the same host repeatedly until its disk is full.
&gt; 
&gt;   Suggested mitigation
&gt; 
&gt;   Only use “os_type” in the ephemeral file name if there is a specific
&gt;   mkfs command defined, otherwise use “default”   (Currently for
&gt;   undefined os-types it will use the default mkfs command, but still
&gt;   uses os_type in the name.
&gt; 
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/nova/+bug/1253980/+subscriptions
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alaski" class="sprite person">Andrew Laski (alaski)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-10T14:20:16.047285+00:00" title="2013-12-10 14:20:16 UTC">on 2013-12-10</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/nova/+bug/1253980/comments/22">
                <strong>Re: DoS attack via setting os_type in snapshots.</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Should the proposed impact mention that this is libvirt specific?  Otherwise it lgtm.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Should the proposed impact mention that this is libvirt specific?  Otherwise it lgtm.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-10T17:25:53.832227+00:00" title="2013-12-10 17:25:53 UTC">on 2013-12-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>If it is libvirt-specific, then yes it should mention it. Is this the case ?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">If it is libvirt-specific, then yes it should mention it. Is this the case ?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alaski" class="sprite person">Andrew Laski (alaski)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-10T18:19:43.201472+00:00" title="2013-12-10 18:19:43 UTC">on 2013-12-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This issue is libvirt specific.  Other drivers may or may not have similar issues but the code paths are very different and can&#x27;t be generalized under this bug.  So adding &quot; running the libvirt driver.&quot; or something similar to the first sentence should cover it.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This issue is libvirt specific.  Other drivers may or may not have similar issues but the code paths are very different and can't be generalized under this bug.  So adding " running the libvirt driver." or something similar to the first sentence should cover it.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-11T11:20:04.233188+00:00" title="2013-12-11 11:20:04 UTC">on 2013-12-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>OK, how about:</p>
<p>-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--<br />
Title: Nova compute DoS through ephemeral disk backing files<br />
Reporter: Phil Day (HP)<br />
Products: Nova<br />
Affects: All supported versions</p>
<p>Description:<br />
Phil Day from HP reported a vulnerability in the libvirt driver handling of ephemeral disk backing files on Nova compute nodes. By repeatedly creating snapshots, changing the os_type to a new random value, and spawning new instances from the snapshot (and quickly deleting those instances), an authenticated user could generate lots of different ephemeral disk backing files and fill up compute node disks, potentially resulting in a Denial of Service against a Nova setup. Only Nova setups running the libvirt driver are affected.<br />
-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">OK, how about:

--------------------------------------------
Title: Nova compute DoS through ephemeral disk backing files
Reporter: Phil Day (HP)
Products: Nova
Affects: All supported versions

Description:
Phil Day from HP reported a vulnerability in the libvirt driver handling of ephemeral disk backing files on Nova compute nodes. By repeatedly creating snapshots, changing the os_type to a new random value, and spawning new instances from the snapshot (and quickly deleting those instances), an authenticated user could generate lots of different ephemeral disk backing files and fill up compute node disks, potentially resulting in a Denial of Service against a Nova setup. Only Nova setups running the libvirt driver are affected.
--------------------------------------------</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~philip-day" class="sprite person">Phil Day (philip-day)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-11T11:42:39+00:00" title="2013-12-11 11:42:39 UTC">on 2013-12-11</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/nova/+bug/1253980/comments/26">
                <strong>RE: [Bug 1253980] Re: DoS attack via setting os_type in snapshots.</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>LGTM - thanks Thierry</p>
<p><span class="foldable-quoted">&gt; -----Original Message-----<br />
&gt; From: &lt;email address hidden&gt; [mailto:&lt;email address hidden&gt;] On Behalf<br />
&gt; Of Thierry Carrez<br />
&gt; Sent: 11 December 2013 11:20<br />
&gt; To: Day, Phil<br />
&gt; Subject: [<a href="/bugs/1253980" class="bug-link">Bug 1253980</a>] Re: DoS attack via setting os_type in snapshots.<br />
&gt;<br />
&gt; OK, how about:<br />
&gt;<br />
&gt; -------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--<br />
&gt; Title: Nova compute DoS through ephemeral disk backing files<br />
&gt; Reporter: Phil Day (HP)<br />
&gt; Products: Nova<br />
&gt; Affects: All supported versions<br />
&gt;<br />
&gt; Description:<br />
&gt; Phil Day from HP reported a vulnerability in the libvirt driver handling of<br />
&gt; ephemeral disk backing files on Nova compute nodes. By repeatedly creating<br />
&gt; snapshots, changing the os_type to a new random value, and spawning new<br />
&gt; instances from the snapshot (and quickly deleting those instances), an<br />
&gt; authenticated user could generate lots of different ephemeral disk backing<br />
&gt; files and fill up compute node disks, potentially resulting in a Denial of Service<br />
&gt; against a Nova setup. Only Nova setups running the libvirt driver are<br />
&gt; affected.<br />
&gt; -------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--<br />
&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are subscribed to the bug<br />
&gt; report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/1253980">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1253980</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   DoS attack via setting os_type in snapshots.<br />
&gt;<br />
&gt; Status in OpenStack Compute (Nova):<br />
&gt;   In Progress<br />
&gt; Status in OpenStack Compute (nova) grizzly series:<br />
&gt;   New<br />
&gt; Status in OpenStack Compute (nova) havana series:<br />
&gt;   New<br />
&gt; Status in OpenStack Security Advisories:<br />
&gt;   Triaged<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   If the os_type metadata is set of an image, the ephemeral disk backing file<br />
&gt; for that image will be named ephemeral_<wbr />[size]_<wbr />[os_type]<wbr />.<br />
&gt;   Because the user can change os_type they can use this to create new<br />
&gt; ephemeral backing files.<br />
&gt;   Nova image cache management does not include deleting ephemeral<br />
&gt; backing files (presumably because they are expected to be a small, stable<br />
&gt; set.<br />
&gt;<br />
&gt;   Hence a user can fill the disk with ephemeral backing files via the<br />
&gt;   following:<br />
&gt;<br />
&gt;   1) Spawn a instance<br />
&gt;   2) Create a snapshot from it, delete the original instance<br />
&gt;   3) In a loop:<br />
&gt;   generate a random os_type<br />
&gt;   set os_type to the snapshot<br />
&gt;   spawn and instance from it, and then delete the instance<br />
&gt;<br />
&gt;   Every iteration will generate an ephemeral backing file on a compute<br />
&gt;   host.  With a stacking scheduling policy there is a good chance of<br />
&gt;   hitting the same host repeatedly until its disk is full.<br />
&gt;<br />
&gt;   Suggested mitigation<br />
&gt;<br />
&gt;   Only use “os_type” in the ephemeral file name if there is a specific<br />
&gt;   mkfs command defined, otherwise use “default”   (Currently for<br />
&gt;   undefined os-types it will use the default mkfs command, but still<br />
&gt;   uses os_type in the name.<br />
&gt;<br />
&gt; To manage notifications about this bug go to:<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/nova/+bug/1253980/+subscriptions">https:/<wbr />/bugs.launchpad<wbr />.net/nova/<wbr />+bug/1253980/<wbr />+subscriptions</a>
</span></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">LGTM - thanks Thierry

&gt; -----Original Message-----
&gt; From: bounces@canonical.com [mailto:bounces@canonical.com] On Behalf
&gt; Of Thierry Carrez
&gt; Sent: 11 December 2013 11:20
&gt; To: Day, Phil
&gt; Subject: [Bug 1253980] Re: DoS attack via setting os_type in snapshots.
&gt; 
&gt; OK, how about:
&gt; 
&gt; --------------------------------------------
&gt; Title: Nova compute DoS through ephemeral disk backing files
&gt; Reporter: Phil Day (HP)
&gt; Products: Nova
&gt; Affects: All supported versions
&gt; 
&gt; Description:
&gt; Phil Day from HP reported a vulnerability in the libvirt driver handling of
&gt; ephemeral disk backing files on Nova compute nodes. By repeatedly creating
&gt; snapshots, changing the os_type to a new random value, and spawning new
&gt; instances from the snapshot (and quickly deleting those instances), an
&gt; authenticated user could generate lots of different ephemeral disk backing
&gt; files and fill up compute node disks, potentially resulting in a Denial of Service
&gt; against a Nova setup. Only Nova setups running the libvirt driver are
&gt; affected.
&gt; --------------------------------------------
&gt; 
&gt; --
&gt; You received this bug notification because you are subscribed to the bug
&gt; report.
&gt; https://bugs.launchpad.net/bugs/1253980
&gt; 
&gt; Title:
&gt;   DoS attack via setting os_type in snapshots.
&gt; 
&gt; Status in OpenStack Compute (Nova):
&gt;   In Progress
&gt; Status in OpenStack Compute (nova) grizzly series:
&gt;   New
&gt; Status in OpenStack Compute (nova) havana series:
&gt;   New
&gt; Status in OpenStack Security Advisories:
&gt;   Triaged
&gt; 
&gt; Bug description:
&gt;   If the os_type metadata is set of an image, the ephemeral disk backing file
&gt; for that image will be named ephemeral_[size]_[os_type].
&gt;   Because the user can change os_type they can use this to create new
&gt; ephemeral backing files.
&gt;   Nova image cache management does not include deleting ephemeral
&gt; backing files (presumably because they are expected to be a small, stable
&gt; set.
&gt; 
&gt;   Hence a user can fill the disk with ephemeral backing files via the
&gt;   following:
&gt; 
&gt;   1) Spawn a instance
&gt;   2) Create a snapshot from it, delete the original instance
&gt;   3) In a loop:
&gt;   generate a random os_type
&gt;   set os_type to the snapshot
&gt;   spawn and instance from it, and then delete the instance
&gt; 
&gt;   Every iteration will generate an ephemeral backing file on a compute
&gt;   host.  With a stacking scheduling policy there is a good chance of
&gt;   hitting the same host repeatedly until its disk is full.
&gt; 
&gt;   Suggested mitigation
&gt; 
&gt;   Only use “os_type” in the ephemeral file name if there is a specific
&gt;   mkfs command defined, otherwise use “default”   (Currently for
&gt;   undefined os-types it will use the default mkfs command, but still
&gt;   uses os_type in the name.
&gt; 
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/nova/+bug/1253980/+subscriptions
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alaski" class="sprite person">Andrew Laski (alaski)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-11T13:46:42.311298+00:00" title="2013-12-11 13:46:42 UTC">on 2013-12-11</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/nova/+bug/1253980/comments/27">
                <strong>Re: DoS attack via setting os_type in snapshots.</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Lgtm as well.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Lgtm as well.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/28" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-11T14:46:30.459360+00:00" title="2013-12-11 14:46:30 UTC">on 2013-12-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/28"> #28</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>CVE requested</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">CVE requested</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; In Progress
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/29" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-12T08:55:25.954906+00:00" title="2013-12-12 08:55:25 UTC">on 2013-12-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/29"> #29</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>CVE-2013-6437</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">CVE-2013-6437</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - DoS attack via setting os_type in snapshots.<br />+ DoS attack via setting os_type in snapshots (CVE-2013-6437)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/30" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-13T13:34:13.866175+00:00" title="2013-12-13 13:34:13 UTC">on 2013-12-13</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/nova/+bug/1253980/comments/30">
                <strong>Re: DoS attack via setting os_type in snapshots (CVE-2013-6437)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/30"> #30</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Proposed public disclosure date/time: Wednesday, December 18, 1500UTC.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Proposed public disclosure date/time: Wednesday, December 18, 1500UTC.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Committed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/31" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-17T13:22:32.195668+00:00" title="2013-12-17 13:22:32 UTC">on 2013-12-17</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/31"> #31</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Tested:</p>
<p>stable/grizzly pep8: PASS<br />
stable/grizzly py27: PASS<br />
stable/grizzly dsvm-full: PASS<br />
stable/grizzly dsvm-large-ops: PASS<br />
stable/havana pep8: PASS<br />
stable/havana py27: PASS<br />
stable/havana dsvm-full: PASS<br />
stable/havana dsvm-neutron: PASS<br />
master pep8: PASS<br />
master py27: PASS</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Tested:

stable/grizzly pep8: PASS
stable/grizzly py27: PASS
stable/grizzly dsvm-full: PASS
stable/grizzly dsvm-large-ops: PASS
stable/havana pep8: PASS
stable/havana py27: PASS
stable/havana dsvm-full: PASS
stable/havana dsvm-neutron: PASS
master pep8: PASS
master py27: PASS</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/32" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-18T15:09:35.737219+00:00" title="2013-12-18 15:09:35 UTC">on 2013-12-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/32"> #32</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Icehouse (development branch) fix:<br />
<a rel="nofollow" href="https://review.openstack.org/62910">https:/<wbr />/review.<wbr />openstack.<wbr />org/62910</a></p>
<p>Havana fix:<br />
<a rel="nofollow" href="https://review.openstack.org/62912">https:/<wbr />/review.<wbr />openstack.<wbr />org/62912</a></p>
<p>Grizzly fix:<br />
<a rel="nofollow" href="https://review.openstack.org/62913">https:/<wbr />/review.<wbr />openstack.<wbr />org/62913</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Icehouse (development branch) fix:
https://review.openstack.org/62910

Havana fix:
https://review.openstack.org/62912

Grizzly fix:
https://review.openstack.org/62913</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/33" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-18T18:21:13.737021+00:00" title="2013-12-18 18:21:13 UTC">on 2013-12-18</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/nova/+bug/1253980/comments/33">
                <strong>Fix merged to nova (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/33"> #33</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.openstack.org/62910">https:/<wbr />/review.<wbr />openstack.<wbr />org/62910</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/nova/commit/?id=6e455cd97f04bf26bbe022be17c57e089cf502f4">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />nova/commit/<wbr />?id=6e455cd97f0<wbr />4bf26bbe022be17<wbr />c57e089cf502f4</a><br />
Submitter: Jenkins<br />
Branch:    master</p>
<p>commit 6e455cd97f04bf2<wbr />6bbe022be17c57e<wbr />089cf502f4<br />
Author: Ryan Moore &lt;email address hidden&gt;<br />
Date:   Fri Nov 29 14:21:19 2013 +0000</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;use &#x27;os_type&#x27; in ephemeral filename only if mkfs defined</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Currently for undefined os-types it will use the default mkfs<br />
&nbsp;&nbsp;&nbsp;&nbsp;command, but use the meta &#x27;os_type&#x27; in the name of the<br />
&nbsp;&nbsp;&nbsp;&nbsp;ephemeral file (e.g. ephemeral_<wbr />20_abcdef)<wbr />. Which can result<br />
&nbsp;&nbsp;&nbsp;&nbsp;in a lot of files (DoS?)<br />
&nbsp;&nbsp;&nbsp;&nbsp;This change will only use &#x27;os_type&#x27; in the ephemeral filename<br />
&nbsp;&nbsp;&nbsp;&nbsp;if there is a specific mkfs command defined, otherwise it will<br />
&nbsp;&nbsp;&nbsp;&nbsp;use &#x27;default&#x27; (e.g. ephemeral_<wbr />20_default)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Modifed the tests to test for:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_type=&#x27;&#x27;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_type=None<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_<wbr />type=&#x27;test&#x27; - with no mkfs command specified<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_<wbr />type=&#x27;test&#x27; - with a mkfs command specified</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: 1253980</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Ie4c10f99ce690c<wbr />5e4ef181624bd68<wbr />8c38923855c</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.openstack.org/62910
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=6e455cd97f04bf26bbe022be17c57e089cf502f4
Submitter: Jenkins
Branch:    master

commit 6e455cd97f04bf26bbe022be17c57e089cf502f4
Author: Ryan Moore &lt;ryan.moore@hp.com&gt;
Date:   Fri Nov 29 14:21:19 2013 +0000

    use 'os_type' in ephemeral filename only if mkfs defined
    
    Currently for undefined os-types it will use the default mkfs
    command, but use the meta 'os_type' in the name of the
    ephemeral file (e.g. ephemeral_20_abcdef). Which can result
    in a lot of files (DoS?)
    This change will only use 'os_type' in the ephemeral filename
    if there is a specific mkfs command defined, otherwise it will
    use 'default' (e.g. ephemeral_20_default)
    
    Modifed the tests to test for:
      os_type=''
      os_type=None
      os_type='test' - with no mkfs command specified
      os_type='test' - with a mkfs command specified
    
    Closes-Bug: 1253980
    
    Change-Id: Ie4c10f99ce690c5e4ef181624bd688c38923855c
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in nova: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Committed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/34" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-18T20:31:06.920851+00:00" title="2013-12-18 20:31:06 UTC">on 2013-12-18</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/nova/+bug/1253980/comments/34">
                <strong>Fix merged to nova (stable/havana)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/34"> #34</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.openstack.org/62912">https:/<wbr />/review.<wbr />openstack.<wbr />org/62912</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/nova/commit/?id=ca38774ebcf5b67d16c202c8f218c0c433973ca9">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />nova/commit/<wbr />?id=ca38774ebcf<wbr />5b67d16c202c8f2<wbr />18c0c433973ca9</a><br />
Submitter: Jenkins<br />
Branch:    stable/havana</p>
<p>commit ca38774ebcf5b67<wbr />d16c202c8f218c0<wbr />c433973ca9<br />
Author: Ryan Moore &lt;email address hidden&gt;<br />
Date:   Fri Nov 29 14:21:19 2013 +0000</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;use &#x27;os_type&#x27; in ephemeral filename only if mkfs defined</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Currently for undefined os-types it will use the default mkfs<br />
&nbsp;&nbsp;&nbsp;&nbsp;command, but use the meta &#x27;os_type&#x27; in the name of the<br />
&nbsp;&nbsp;&nbsp;&nbsp;ephemeral file (e.g. ephemeral_<wbr />20_abcdef)<wbr />. Which can result<br />
&nbsp;&nbsp;&nbsp;&nbsp;in a lot of files (DoS?)<br />
&nbsp;&nbsp;&nbsp;&nbsp;This change will only use &#x27;os_type&#x27; in the ephemeral filename<br />
&nbsp;&nbsp;&nbsp;&nbsp;if there is a specific mkfs command defined, otherwise it will<br />
&nbsp;&nbsp;&nbsp;&nbsp;use &#x27;default&#x27; (e.g. ephemeral_<wbr />20_default)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Modifed the tests to test for:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_type=&#x27;&#x27;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_type=None<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_<wbr />type=&#x27;test&#x27; - with no mkfs command specified<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_<wbr />type=&#x27;test&#x27; - with a mkfs command specified</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: 1253980</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Backport of Original Change-Id: Ie4c10f99ce690c<wbr />5e4ef181624bd68<wbr />8c38923855c<br />
&nbsp;&nbsp;&nbsp;&nbsp;to stable/havana</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Ifa2b94e79dabd5<wbr />86d7e904da247d0<wbr />99360229313</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.openstack.org/62912
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=ca38774ebcf5b67d16c202c8f218c0c433973ca9
Submitter: Jenkins
Branch:    stable/havana

commit ca38774ebcf5b67d16c202c8f218c0c433973ca9
Author: Ryan Moore &lt;ryan.moore@hp.com&gt;
Date:   Fri Nov 29 14:21:19 2013 +0000

    use 'os_type' in ephemeral filename only if mkfs defined
    
    Currently for undefined os-types it will use the default mkfs
    command, but use the meta 'os_type' in the name of the
    ephemeral file (e.g. ephemeral_20_abcdef). Which can result
    in a lot of files (DoS?)
    This change will only use 'os_type' in the ephemeral filename
    if there is a specific mkfs command defined, otherwise it will
    use 'default' (e.g. ephemeral_20_default)
    
    Modifed the tests to test for:
      os_type=''
      os_type=None
      os_type='test' - with no mkfs command specified
      os_type='test' - with a mkfs command specified
    
    Closes-Bug: 1253980
    
    Backport of Original Change-Id: Ie4c10f99ce690c5e4ef181624bd688c38923855c
    to stable/havana
    
    Change-Id: Ifa2b94e79dabd586d7e904da247d099360229313
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/35" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-18T20:33:27.775367+00:00" title="2013-12-18 20:33:27 UTC">on 2013-12-18</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/nova/+bug/1253980/comments/35">
                <strong>Fix merged to nova (stable/grizzly)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/35"> #35</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.openstack.org/62913">https:/<wbr />/review.<wbr />openstack.<wbr />org/62913</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/nova/commit/?id=3e451f1bac57d24e47171cffb3ad59bb1610d836">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />nova/commit/<wbr />?id=3e451f1bac5<wbr />7d24e47171cffb3<wbr />ad59bb1610d836</a><br />
Submitter: Jenkins<br />
Branch:    stable/grizzly</p>
<p>commit 3e451f1bac57d24<wbr />e47171cffb3ad59<wbr />bb1610d836<br />
Author: Ryan Moore &lt;email address hidden&gt;<br />
Date:   Fri Nov 29 14:21:19 2013 +0000</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;use &#x27;os_type&#x27; in ephemeral filename only if mkfs defined</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Currently for undefined os-types it will use the default mkfs<br />
&nbsp;&nbsp;&nbsp;&nbsp;command, but use the meta &#x27;os_type&#x27; in the name of the<br />
&nbsp;&nbsp;&nbsp;&nbsp;ephemeral file (e.g. ephemeral_<wbr />20_abcdef)<wbr />. Which can result<br />
&nbsp;&nbsp;&nbsp;&nbsp;in a lot of files (DoS?)<br />
&nbsp;&nbsp;&nbsp;&nbsp;This change will only use &#x27;os_type&#x27; in the ephemeral filename<br />
&nbsp;&nbsp;&nbsp;&nbsp;if there is a specific mkfs command defined, otherwise it will<br />
&nbsp;&nbsp;&nbsp;&nbsp;use &#x27;default&#x27; (e.g. ephemeral_<wbr />20_default)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Modifed the tests to test for:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_type=&#x27;&#x27;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_type=None<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_<wbr />type=&#x27;test&#x27; - with no mkfs command specified<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_<wbr />type=&#x27;test&#x27; - with a mkfs command specified</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: 1253980</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Backport of Original Change-Id: Ie4c10f99ce690c<wbr />5e4ef181624bd68<wbr />8c38923855c<br />
&nbsp;&nbsp;&nbsp;&nbsp;to stable/grizzly</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Ia040910e90861a<wbr />2987eff345ad1c0<wbr />1863655b124</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.openstack.org/62913
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=3e451f1bac57d24e47171cffb3ad59bb1610d836
Submitter: Jenkins
Branch:    stable/grizzly

commit 3e451f1bac57d24e47171cffb3ad59bb1610d836
Author: Ryan Moore &lt;ryan.moore@hp.com&gt;
Date:   Fri Nov 29 14:21:19 2013 +0000

    use 'os_type' in ephemeral filename only if mkfs defined
    
    Currently for undefined os-types it will use the default mkfs
    command, but use the meta 'os_type' in the name of the
    ephemeral file (e.g. ephemeral_20_abcdef). Which can result
    in a lot of files (DoS?)
    This change will only use 'os_type' in the ephemeral filename
    if there is a specific mkfs command defined, otherwise it will
    use 'default' (e.g. ephemeral_20_default)
    
    Modifed the tests to test for:
      os_type=''
      os_type=None
      os_type='test' - with no mkfs command specified
      os_type='test' - with a mkfs command specified
    
    Closes-Bug: 1253980
    
    Backport of Original Change-Id: Ie4c10f99ce690c5e4ef181624bd688c38923855c
    to stable/grizzly
    
    Change-Id: Ia040910e90861a2987eff345ad1c01863655b124
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/nova/+bug/1253980/comments/36" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2013-12-18T21:30:22.813938+00:00" title="2013-12-18 21:30:22 UTC">on 2013-12-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/nova/+bug/1253980/comments/36"> #36</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>OSSA 2013-037</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">OSSA 2013-037</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - DoS attack via setting os_type in snapshots (CVE-2013-6437)<br />+ [OSSA 2013-037] DoS attack via setting os_type in snapshots<br />+ (CVE-2013-6437)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
    
    <time title="2014-01-13 20:49:56 UTC" datetime="2014-01-13T20:49:56.523361+00:00">on 2014-01-13</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in nova: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        none &#8594; icehouse-2
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2014-01-22 16:13:08 UTC" datetime="2014-01-22T16:13:08.990024+00:00">on 2014-01-22</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in nova: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2014-04-17 08:58:08 UTC" datetime="2014-04-17T08:58:08.706280+00:00">on 2014-04-17</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in nova: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        icehouse-2 &#8594; 2014.1
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/nova/+bug/1253980/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/nova/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/nova/+bug/1253980/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/nova/+bug/1253980/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/nova/+bug/1253980/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/nova/+bug/1253980/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/nova/+bug/1253980/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/nova/+bug/1253980/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/nova/+bug/1253980/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/nova/+bug/1253980/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/nova/+bug/1253980/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/nova/+bug/1253980/+attachment/3919970/+files/0001-use-os_type-in-ephemeral-filename-only-if-mkfs-defin.patch">0001-use-os_type-in-ephemeral-filename-only-if-mkfs-defin.patch</a>
        <small>
          (<a href="/nova/+bug/1253980/+attachment/3919970">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/nova/+bug/1253980/+attachment/3925901/+files/0001-use-os_type-in-ephemeral-filename-only-if-mkfs-defin.patch">backported for stable/havana</a>
        <small>
          (<a href="/nova/+bug/1253980/+attachment/3925901">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/nova/+bug/1253980/+attachment/3925911/+files/0001-use-os_type-in-ephemeral-filename-only-if-mkfs-defin.patch">backported for stable/grizzly</a>
        <small>
          (<a href="/nova/+bug/1253980/+attachment/3925911">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/nova/+bug/1253980/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/1253980", "self_link": "https://bugs.launchpad.net/api/devel/bugs/1253980"}, "information_type_data": {"PUBLIC": {"description": "Everyone can see this information.\n", "name": "Public", "is_private": false, "order": 0, "description_css_class": "choice-description", "value": "PUBLIC"}, "PUBLICSECURITY": {"description": "Everyone can see this security related information.\n", "name": "Public Security", "is_private": false, "order": 1, "description_css_class": "choice-description", "value": "PUBLICSECURITY"}, "USERDATA": {"description": "Only shared with users permitted to see private user information.\n", "name": "Private", "is_private": true, "order": 3, "description_css_class": "choice-description", "value": "USERDATA"}, "PRIVATESECURITY": {"description": "Only the security group can see this information.\n ", "name": "Private Security", "is_private": true, "order": 2, "description_css_class": "choice-description", "value": "PRIVATESECURITY"}}, "total_comments_and_activity": 82, "bug_is_private": false, "related_features": {}, "first visible_recent_comment": -4, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1253980", "web_link": "https://bugs.launchpad.net/bugs/1253980", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1253980, "private": false, "information_type": "Public Security", "name": null, "title": "[OSSA 2013-037] DoS attack via setting os_type in snapshots (CVE-2013-6437)", "description": "If the os_type metadata is set of an image, the ephemeral disk backing file for that image will be named ephemeral_[size]_[os_type].\nBecause the user can change os_type they can use this to create new ephemeral backing files.\nNova image cache management does not include deleting ephemeral backing files (presumably because they are expected to be a small, stable set.\n\nHence a user can fill the disk with ephemeral backing files via the following:\n\n1) Spawn a instance\n2) Create a snapshot from it, delete the original instance\n3) In a loop:\ngenerate a random os_type\nset os_type to the snapshot\nspawn and instance from it, and then delete the instance\n\nEvery iteration will generate an ephemeral backing file on a compute host.  With a stacking scheduling policy there is a good chance of hitting the same host repeatedly until its disk is full.\n\nSuggested mitigation\n\nOnly use \u201cos_type\u201d in the ephemeral file name if there is a specific mkfs command defined, otherwise use \u201cdefault\u201d   (Currently for undefined os-types it will use the default mkfs command, but still uses os_type in the name.", "owner_link": "https://bugs.launchpad.net/api/devel/~philip-day", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/bug_tasks", "duplicate_of_link": null, "date_created": "2013-11-22T11:21:01.388836+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/subscriptions", "date_last_updated": "2014-04-17T08:58:11.141061+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 260, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/attachments", "security_related": true, "latest_patch_uploaded": "2013-12-09T10:40:27.821887+00:00", "tags": [], "date_last_message": "2013-12-18T21:30:22.813938+00:00", "number_of_duplicates": 0, "message_count": 37, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1253980/linked_merge_proposals", "http_etag": "\"821c415daf3aa22bc6545b80a797f860d66c5e70-e9aa99851d12146a91fbe2ba4d75a631839444ba\""}, "bugtask_data": {"1504329": {"assignee_vocabulary": "AllUserTeamsParticipation", "user_can_unassign": false, "bugtask_path": "/ossa/+bug/1253980", "assignee_value": "ttx", "user_can_edit_status": true, "bug_title": "[OSSA 2013-037] DoS attack via setting os_type in snapshots (CVE-2013-6437)", "user_can_edit_milestone": false, "prefix": "ossa", "form_row_id": "task1504329", "target_is_product": true, "user_can_edit_importance": false, "assignee_is_team": false, "delete_link": "https://bugs.launchpad.net/ossa/+bug/1253980/+delete", "user_can_edit_assignee": false, "milestone_widget_items": "[]", "status_widget_items": "[]", "status_value": "Fix Released", "importance_value": "High", "hide_assignee_team_selection": true, "user_can_delete": false, "row_id": "tasksummary1504329", "assignee_vocabulary_filters": [], "targetname": "OpenStack Security Advisory", "importance_widget_items": "[]", "milestone_value": null, "id": 1504329}, "1504218": {"assignee_vocabulary": "AllUserTeamsParticipation", "user_can_unassign": false, "bugtask_path": "/nova/+bug/1253980", "assignee_value": "moorryan", "user_can_edit_status": true, "bug_title": "[OSSA 2013-037] DoS attack via setting os_type in snapshots (CVE-2013-6437)", "user_can_edit_milestone": false, "prefix": "nova", "form_row_id": "task1504218", "target_is_product": true, "user_can_edit_importance": false, "assignee_is_team": false, "delete_link": "https://bugs.launchpad.net/nova/+bug/1253980/+delete", "user_can_edit_assignee": false, "milestone_widget_items": "[]", "status_widget_items": "[]", "status_value": "Fix Released", "importance_value": "High", "hide_assignee_team_selection": true, "user_can_delete": false, "row_id": "tasksummary1504218", "assignee_vocabulary_filters": [], "targetname": "OpenStack Compute (nova)", "importance_widget_items": "[]", "milestone_value": "https://bugs.launchpad.net/api/devel/nova/+milestone/2014.1", "id": 1504218}, "1512181": {"assignee_vocabulary": "AllUserTeamsParticipation", "user_can_unassign": false, "bugtask_path": "/nova/grizzly/+bug/1253980", "assignee_value": "moorryan", "user_can_edit_status": true, "bug_title": "[OSSA 2013-037] DoS attack via setting os_type in snapshots (CVE-2013-6437)", "user_can_edit_milestone": false, "prefix": "nova_grizzly", "form_row_id": "task1512181", "target_is_product": false, "user_can_edit_importance": false, "assignee_is_team": false, "delete_link": "https://bugs.launchpad.net/nova/grizzly/+bug/1253980/+delete", "user_can_edit_assignee": false, "milestone_widget_items": "[]", "status_widget_items": "[]", "status_value": "Fix Released", "importance_value": "High", "hide_assignee_team_selection": true, "user_can_delete": false, "row_id": "tasksummary1512181", "assignee_vocabulary_filters": [], "targetname": "OpenStack Compute (nova) grizzly", "importance_widget_items": "[]", "milestone_value": "https://bugs.launchpad.net/api/devel/nova/+milestone/2013.1.5", "id": 1512181}, "1512182": {"assignee_vocabulary": "AllUserTeamsParticipation", "user_can_unassign": false, "bugtask_path": "/nova/havana/+bug/1253980", "assignee_value": "moorryan", "user_can_edit_status": true, "bug_title": "[OSSA 2013-037] DoS attack via setting os_type in snapshots (CVE-2013-6437)", "user_can_edit_milestone": false, "prefix": "nova_havana", "form_row_id": "task1512182", "target_is_product": false, "user_can_edit_importance": false, "assignee_is_team": false, "delete_link": "https://bugs.launchpad.net/nova/havana/+bug/1253980/+delete", "user_can_edit_assignee": false, "milestone_widget_items": "[]", "status_widget_items": "[]", "status_value": "Fix Released", "importance_value": "High", "hide_assignee_team_selection": true, "user_can_delete": false, "row_id": "tasksummary1512182", "assignee_vocabulary_filters": [], "targetname": "OpenStack Compute (nova) havana", "importance_widget_items": "[]", "milestone_value": "https://bugs.launchpad.net/api/devel/nova/+milestone/2013.2.2", "id": 1512182}}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/nova/+bug/1253980", "web_link": "https://bugs.launchpad.net/nova/+bug/1253980", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1253980", "milestone_link": "https://bugs.launchpad.net/api/devel/nova/+milestone/2014.1", "status": "Fix Released", "importance": "High", "assignee_link": "https://bugs.launchpad.net/api/devel/~moorryan", "bug_target_display_name": "OpenStack Compute (nova)", "bug_target_name": "nova", "bug_watch_link": null, "date_assigned": "2013-12-04T17:09:30.522987+00:00", "date_created": "2013-11-22T11:21:01.388836+00:00", "date_confirmed": "2013-12-04T17:08:49.011860+00:00", "date_incomplete": null, "date_in_progress": "2013-12-04T17:08:49.011860+00:00", "date_closed": "2014-01-22T16:13:10.408192+00:00", "date_left_new": "2013-12-04T17:08:49.011860+00:00", "date_triaged": "2013-12-04T17:08:49.011860+00:00", "date_fix_committed": "2013-12-18T18:21:09.701546+00:00", "date_fix_released": "2014-01-22T16:13:10.408192+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~philip-day", "target_link": "https://bugs.launchpad.net/api/devel/nova", "title": "Bug #1253980 in OpenStack Compute (nova): \"[OSSA 2013-037] DoS attack via setting os_type in snapshots (CVE-2013-6437)\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/nova/+bug/1253980/related_tasks", "is_complete": true, "http_etag": "\"222e43830425248282a8aaddf932e9a8afccc351-680f5097c099c964d1b029fc753f8f33a9c6316b\""}, "initial_comment_batch_offset": 41};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 64 queries/external actions issued in 1.29 seconds

    Features: {'app.maintenance_message': None, 'visible_render_time': None, 'bugs.affected_count_includes_dupes.disabled': None, 'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'bugs.nominations.bug_supervisors_can_target': 'on', 'baselayout.careers_link.disabled': None, 'hard_timeout': '9000', 'js.yui_version': None, 'profiling.enabled': None}

    r0d8de2b

    -->

</html>

