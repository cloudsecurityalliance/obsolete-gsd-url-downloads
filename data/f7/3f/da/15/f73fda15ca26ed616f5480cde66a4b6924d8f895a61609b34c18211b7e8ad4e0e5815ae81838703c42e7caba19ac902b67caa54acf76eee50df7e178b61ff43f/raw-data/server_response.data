<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/apparmor/+bug/1668892/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1668892 “CVE-2017-6507: apparmor service restarts and packa...” : Bugs : AppArmor</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1668892" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1668892/bug.atom" title="Bug 1668892 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="Restarting the apparmor init script, upstart job, or systemd service has historically removed all loaded profiles unknown to the well-known profile locations. In upstream AppArmor terms, this is /etc/apparmor.d/ but Ubuntu also adds additional locations.

This behavior has previously caused a problem where libvirt-managed profiles would be unloaded upon &quot;restarting AppArmor&quot;:

  https://launchpad.net/bugs/702774

Stéphane Graber created this bug report after he noticed that the same behavior ..." />
      <meta property="og:description" content="Restarting the apparmor init script, upstart job, or systemd service has historically removed all loaded profiles unknown to the well-known profile locations. In upstream AppArmor terms, this is /etc/apparmor.d/ but Ubuntu also adds additional locations.

This behavior has previously caused a problem where libvirt-managed profiles would be unloaded upon &quot;restarting AppArmor&quot;:

  https://launchpad.net/bugs/702774

Stéphane Graber created this bug report after he noticed that the same behavior ..." />
    

    
    
      <meta property="og:title" content="Bug #1668892 “CVE-2017-6507: apparmor service restarts and packa...” : Bugs : AppArmor" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1668892" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["a11y", "aa-feature", "aa-kernel", "aa-parser", "aa-policy", "aa-tools", "appstream", "bionic", "bisect-done", "bitesize", "cherry-pick", "community-security", "desktop-file", "disco", "dist-upgrade", "focal", "ftbfs", "groovy", "hirsute", "hw-specific", "impish", "jammy", "kernel-bug", "manpage", "metabug", "multiarch", "needs-bisect", "needs-design", "needs-packaging", "needs-reassignment", "package-conflict", "packaging", "patch", "patch-accepted-debian", "patch-accepted-upstream", "patch-forwarded-debian", "patch-forwarded-upstream", "patch-needswork", "patch-rejected", "patch-rejected-debian", "patch-rejected-upstream", "performing-bisect", "py2-removal", "qt4-removal", "regression-proposed", "regression-release", "regression-update", "string-fix", "suspend-resume", "systemd-boot", "testcase", "touch", "unmetdeps", "upgrade-software-version", "verification-done-bionic", "verification-done-focal", "verification-done-groovy", "verification-done-hirsute", "verification-done-impish", "verification-done-xenial", "verification-failed-bionic", "verification-failed-groovy", "verification-failed-impish", "verification-failed-xenial", "verification-needed-bionic", "verification-needed-focal", "verification-needed-groovy", "verification-needed-hirsute", "verification-needed-impish", "verification-needed-trusty", "verification-needed-xenial", "wayland", "xenial"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/apparmor/+bug/1668892/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/apparmor"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/378258639/apparmor-64x64.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/apparmor">AppArmor</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/apparmor">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/apparmor">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/apparmor">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/apparmor">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/apparmor">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/apparmor">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    CVE-2017-6507: apparmor service restarts and package upgrades unload privately managed profiles
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1668892 reported by
      <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber</a>
      <time title="2017-03-01 08:39:05 UTC" datetime="2017-03-01T08:39:05.641583+00:00">on 2017-03-01</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">268</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary2214515">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2214515">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/apparmor">AppArmor</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/apparmor/+bug/1668892/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/apparmor/+bug/1668892/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceCRITICAL">Critical</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2214515">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~juanserven">juan serven</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/apparmor/+milestone/2.12">AppArmor 2.12</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2214515">
     <td colspan="7"><form action="/apparmor/+bug/1668892/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/apparmor">AppArmor</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2017-03-11 00:13:31 UTC" datetime="2017-03-11T00:13:31.738090+00:00">2017-03-11</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2017-10-19 09:34:30 UTC" datetime="2017-10-19T09:34:30.579827+00:00">2017-10-19</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2017-03-11 00:13:45 UTC" datetime="2017-03-11T00:13:45.357901+00:00">2017-03-11</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2017-10-19 09:34:30 UTC" datetime="2017-10-19T09:34:30.579827+00:00">2017-10-19</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2018-04-22 11:27:02 UTC" datetime="2018-04-22T11:27:02.326592+00:00">2018-04-22</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="apparmor.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="apparmor.target.option.package" name="apparmor.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="apparmor.target.distribution" name="apparmor.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="apparmor.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="apparmor.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="apparmor.target.package"
                         name="apparmor.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;apparmor.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('apparmor.target.package');
              var select_menu = Y.DOM.byId('apparmor.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-apparmor-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "apparmor.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-apparmor-target-package", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-apparmor-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="apparmor.target.option.product" name="apparmor.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="apparmor" id="apparmor.target.product"
                         name="apparmor.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;apparmor.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('apparmor.target.product');
              var select_menu = Y.DOM.byId('apparmor.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-apparmor-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "apparmor.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-apparmor-target-product", "selected_value": "apparmor", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-apparmor-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="apparmor.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="apparmor.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="apparmor.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="apparmor.status" name="apparmor.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="apparmor.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceCRITICAL">Critical</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          AppArmor 2.12
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="apparmor.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="apparmor.assignee.assign_to_me" name="apparmor.assignee.option" value="apparmor.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="apparmor.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="apparmor.assignee.assigned_to" name="apparmor.assignee.option" value="apparmor.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="apparmor.assignee.assigned_to">
              juan serven (juanserven)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="apparmor.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="apparmor.comment_on_change" name="apparmor.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2221120">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/apparmor/2.10/+bug/1668892/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/apparmor/2.10">2.10</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/apparmor/2.10/+bug/1668892/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/apparmor/2.10/+bug/1668892/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2221120">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/apparmor/+milestone/2.10.3">AppArmor 2.10.3</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2221120">
     <td colspan="7"><form action="/apparmor/2.10/+bug/1668892/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/apparmor/2.10">AppArmor 2.10</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~cboltz" class="sprite person">Christian Boltz</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2017-03-24 18:01:30 UTC" datetime="2017-03-24T18:01:30.723177+00:00">2017-03-24</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2017-03-24 18:01:50 UTC" datetime="2017-03-24T18:01:50.403427+00:00">2017-03-24</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2017-03-24 18:01:50 UTC" datetime="2017-03-24T18:01:50.403427+00:00">2017-03-24</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2017-10-19 09:34:36 UTC" datetime="2017-10-19T09:34:36.283465+00:00">2017-10-19</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="apparmor_2.10.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="apparmor_2.10.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="apparmor_2.10.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="apparmor_2.10.status" name="apparmor_2.10.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="apparmor_2.10.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          AppArmor 2.10.3
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="apparmor_2.10.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="apparmor_2.10.assignee.assign_to_nobody" name="apparmor_2.10.assignee.option" value="apparmor_2.10.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="apparmor_2.10.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="apparmor_2.10.assignee.assign_to_me" name="apparmor_2.10.assignee.option" value="apparmor_2.10.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="apparmor_2.10.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="apparmor_2.10.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="apparmor_2.10.comment_on_change" name="apparmor_2.10.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2221121">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/apparmor/2.11/+bug/1668892/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/apparmor/2.11">2.11</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/apparmor/2.11/+bug/1668892/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/apparmor/2.11/+bug/1668892/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2221121">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/apparmor/+milestone/2.11.1">AppArmor 2.11.1</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2221121">
     <td colspan="7"><form action="/apparmor/2.11/+bug/1668892/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/apparmor/2.11">AppArmor 2.11</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~cboltz" class="sprite person">Christian Boltz</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2017-03-24 18:01:30 UTC" datetime="2017-03-24T18:01:30.723177+00:00">2017-03-24</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2017-03-24 18:01:54 UTC" datetime="2017-03-24T18:01:54.003056+00:00">2017-03-24</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2017-03-24 18:01:54 UTC" datetime="2017-03-24T18:01:54.003056+00:00">2017-03-24</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2017-10-19 09:34:40 UTC" datetime="2017-10-19T09:34:40.962180+00:00">2017-10-19</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="apparmor_2.11.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="apparmor_2.11.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="apparmor_2.11.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="apparmor_2.11.status" name="apparmor_2.11.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="apparmor_2.11.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          AppArmor 2.11.1
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="apparmor_2.11.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="apparmor_2.11.assignee.assign_to_nobody" name="apparmor_2.11.assignee.option" value="apparmor_2.11.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="apparmor_2.11.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="apparmor_2.11.assignee.assign_to_me" name="apparmor_2.11.assignee.option" value="apparmor_2.11.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="apparmor_2.11.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="apparmor_2.11.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="apparmor_2.11.comment_on_change" name="apparmor_2.11.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2221124">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/apparmor/2.9/+bug/1668892/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/apparmor/2.9">2.9</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/apparmor/2.9/+bug/1668892/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/apparmor/2.9/+bug/1668892/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2221124">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/apparmor/+milestone/2.9.5">AppArmor 2.9.5</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2221124">
     <td colspan="7"><form action="/apparmor/2.9/+bug/1668892/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/apparmor/2.9">AppArmor 2.9</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~cboltz" class="sprite person">Christian Boltz</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2017-03-24 18:02:23 UTC" datetime="2017-03-24T18:02:23.126824+00:00">2017-03-24</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2017-03-24 18:02:34 UTC" datetime="2017-03-24T18:02:34.845383+00:00">2017-03-24</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2017-03-24 18:02:34 UTC" datetime="2017-03-24T18:02:34.845383+00:00">2017-03-24</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2017-10-19 09:34:45 UTC" datetime="2017-10-19T09:34:45.566930+00:00">2017-10-19</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="apparmor_2.9.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="apparmor_2.9.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="apparmor_2.9.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="apparmor_2.9.status" name="apparmor_2.9.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="apparmor_2.9.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          AppArmor 2.9.5
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="apparmor_2.9.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="apparmor_2.9.assignee.assign_to_nobody" name="apparmor_2.9.assignee.option" value="apparmor_2.9.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="apparmor_2.9.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="apparmor_2.9.assignee.assign_to_me" name="apparmor_2.9.assignee.option" value="apparmor_2.9.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="apparmor_2.9.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="apparmor_2.9.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="apparmor_2.9.comment_on_change" name="apparmor_2.9.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2209339">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/+source/apparmor/+bug/1668892/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2209339">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/apparmor" title="Latest release: 3.0.3-0ubuntu2, uploaded to main on 2021-10-16 07:36:09.231092+00:00 by Matthias Klose (doko), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)">apparmor (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/apparmor/+bug/1668892/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/apparmor/+bug/1668892/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceCRITICAL">Critical</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2209339">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~tyhicks">Tyler Hicks</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2209339">
     <td colspan="7"><form action="/ubuntu/+source/apparmor/+bug/1668892/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/+source/apparmor">apparmor (Ubuntu)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2017-03-01 08:39:05 UTC" datetime="2017-03-01T08:39:05.641583+00:00">2017-03-01</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2017-03-03 23:21:24 UTC" datetime="2017-03-03T23:21:24.444718+00:00">2017-03-03</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2017-03-03 23:21:31 UTC" datetime="2017-03-03T23:21:31.032704+00:00">2017-03-03</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2017-03-03 23:21:24 UTC" datetime="2017-03-03T23:21:24.444718+00:00">2017-03-03</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2017-03-24 09:35:30 UTC" datetime="2017-03-24T09:35:30.031823+00:00">2017-03-24</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ubuntu_apparmor.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ubuntu_apparmor.target.option.package" name="ubuntu_apparmor.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ubuntu_apparmor.target.distribution" name="ubuntu_apparmor.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ubuntu_apparmor.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ubuntu_apparmor.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="apparmor" id="ubuntu_apparmor.target.package"
                         name="ubuntu_apparmor.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_apparmor.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_apparmor.target.package');
              var select_menu = Y.DOM.byId('ubuntu_apparmor.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_apparmor-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_apparmor.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_apparmor-target-package", "selected_value": "apparmor", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-ubuntu_apparmor-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" id="ubuntu_apparmor.target.option.product" name="ubuntu_apparmor.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ubuntu_apparmor.target.product"
                         name="ubuntu_apparmor.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_apparmor.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_apparmor.target.product');
              var select_menu = Y.DOM.byId('ubuntu_apparmor.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_apparmor-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "ubuntu_apparmor.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-ubuntu_apparmor-target-product", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-ubuntu_apparmor-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_apparmor.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_apparmor.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_apparmor.status" name="ubuntu_apparmor.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_apparmor.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceCRITICAL">Critical</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_apparmor.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_apparmor.assignee.assign_to_me" name="ubuntu_apparmor.assignee.option" value="ubuntu_apparmor.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_apparmor.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_apparmor.assignee.assigned_to" name="ubuntu_apparmor.assignee.option" value="ubuntu_apparmor.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_apparmor.assignee.assigned_to">
              Tyler Hicks (tyhicks)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_apparmor.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_apparmor.comment_on_change" name="ubuntu_apparmor.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>Restarting the apparmor init script, upstart job, or systemd service has historically removed all loaded profiles unknown to the well-known profile locations. In upstream AppArmor terms, this is /etc/apparmor.d/ but Ubuntu also adds additional locations.</p>
<p>This behavior has previously caused a problem where libvirt-managed profiles would be unloaded upon &quot;restarting AppArmor&quot;:</p>
<p>&nbsp;&nbsp;<a rel="nofollow" href="https://launchpad.net/bugs/702774">https:/<wbr />/launchpad.<wbr />net/bugs/<wbr />702774</a></p>
<p>Stéphane Graber created this bug report after he noticed that the same behavior was causing similar problems with lxd-manager profiles.</p>
<p>In addition, AppArmor distro packaging may trigger an &quot;AppArmor restart&quot; when installing a new version of AppArmor, resulting in the same profile removal problem. This is true for the Debian/Ubuntu packaging.</p>
<p>The upstream AppArmor team has decided to remove this functionality from the AppArmor restart logic to prevent a similar issue happening with the next external project that needs to privately manage their own set of AppArmor profiles.</p>
<p>=== Original Bug Report ===</p>
<p>Apparmor package upgrades unloads all LXD apparmor profiles, making all LXD containers unconfined.</p>
<p>Example:</p>
<p># Create an unprivileged and a privileged container<br />
stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$ lxc launch ubuntu:16.04 c1<br />
Creating c1<br />
Starting c1<br />
stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$ lxc launch ubuntu:16.04 c2 -c security.<wbr />privileged=<wbr />true<br />
Creating c2<br />
Starting c2</p>
<p># Look at their apparmor profiles (expected values)<br />
stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$ cat /proc/$(lxc info c1 | grep Pid | sed &quot;s/Pid: //g&quot;)/attr/current<br />
lxd-c1_<wbr />&lt;/var/lib/<wbr />lxd&gt;//&amp;<wbr />:lxd-c1_<wbr />&lt;var-lib-<wbr />lxd&gt;://<wbr />unconfined (enforce)</p>
<p>stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$ cat /proc/$(lxc info c2 | grep Pid | sed &quot;s/Pid: //g&quot;)/attr/current<br />
lxd-c2_<wbr />&lt;/var/lib/<wbr />lxd&gt;//&amp;<wbr />:lxd-c2_<wbr />&lt;var-lib-<wbr />lxd&gt;://<wbr />unconfined (enforce)</p>
<p># Apply an apparmor upgrade<br />
stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$ sudo apt upgrade<br />
Reading package lists... Done<br />
Building dependency tree<br />
Reading state information... Done<br />
Calculating upgrade... Done<br />
The following packages will be upgraded:<br />
&nbsp;&nbsp;apparmor<br />
1 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.<br />
Need to get 493 kB of archives.<br />
After this operation, 8,192 B of additional disk space will be used.<br />
Do you want to continue? [Y/n]<br />
Get:1 <a rel="nofollow" href="http://us.archive.ubuntu.com/ubuntu">http://<wbr />us.archive.<wbr />ubuntu.<wbr />com/ubuntu</a> zesty/main amd64 apparmor amd64 2.11.0-2ubuntu1 [493 kB]<br />
Fetched 493 kB in 0s (34.9 MB/s)<br />
Preconfiguring packages ...<br />
(Reading database ... 221457 files and directories currently installed.)<br />
Preparing to unpack .../apparmor_<wbr />2.11.0-<wbr />2ubuntu1_<wbr />amd64.deb ...<br />
Unpacking apparmor (2.11.0-2ubuntu1) over (2.10.95-<wbr />4ubuntu5.<wbr />1) ...<br />
Processing triggers for ureadahead (0.100.0-19) ...<br />
Setting up apparmor (2.11.0-2ubuntu1) ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />X ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />authentication ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />base ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />dbus-session-<wbr />strict ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />gnome ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />nameservice ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />php5 ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />samba ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />ssl_certs ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />ssl_keys ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />ubuntu-<wbr />browsers ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />ubuntu-<wbr />helpers ...<br />
Installing new version of config file /etc/apparmor.<wbr />d/abstractions/<wbr />user-mail ...<br />
update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults<br />
Skipping profile in /etc/apparmor.<wbr />d/disable: usr.sbin.rsyslogd<br />
Skipping profile in /etc/apparmor.<wbr />d/disable: usr.sbin.sssd<br />
Processing triggers for systemd (232-18ubuntu1) ...<br />
Processing triggers for man-db (2.7.6.1-1) ...</p>
<p># And look at the now unconfined containers<br />
stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$ cat /proc/$(lxc info c1 | grep Pid | sed &quot;s/Pid: //g&quot;)/attr/current<br />
unconfined/<wbr />/&amp;:lxd-<wbr />c1_&lt;var-<wbr />lib-lxd&gt;<wbr />://unconfined<br />
stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$ cat /proc/$(lxc info c2 | grep Pid | sed &quot;s/Pid: //g&quot;)/attr/current<br />
unconfined/<wbr />/&amp;:lxd-<wbr />c2_&lt;var-<wbr />lib-lxd&gt;<wbr />://unconfined</p>
<p># The LXD profiles are also entirely gone<br />
stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$ ls /sys/kernel/<wbr />security/<wbr />apparmor/<wbr />policy/<wbr />profiles/ | grep lxd<br />
stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$</p>
<p># And to confirm that apparmor is in fact gone<br />
stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$ lxc exec c2 bash<br />
root@c2:~# mount -t proc proc /mnt<br />
root@c2:~# echo &quot;|/usr/bin/touch /pwned&quot; &gt; /mnt/sys/<wbr />kernel/<wbr />core_pattern<br />
root@c2:~# sleep 30&amp;<br />
[1] 468<br />
root@c2:~# kill -SIGSEGV $!<br />
root@c2:~#<br />
[1]+  Segmentation fault      (core dumped) sleep 30<br />
root@c2:~# exit</p>
<p>stgraber@<wbr />dakara:<wbr />~/data/<wbr />code/lxc/<wbr />lxd (stgraber/master)$ ls -lh /pwned<br />
-rw-rw-rw- 1 root root 0 Mar  1 03:37 /pwned</p>
<p>This was originally reported (though not as a security issue) here: <a rel="nofollow" href="https://github.com/lxc/lxd/issues/2981">https:/<wbr />/github.<wbr />com/lxc/<wbr />lxd/issues/<wbr />2981</a></p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          <span>See <a href="comments/0">original description</a></span>
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="official-tag" href="/apparmor/+bugs?field.tag=patch">patch</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          

            <div id="bug-branches">
              <h2>Related branches</h2>

              
                

 

 <div class="buglink-summary">

  <a href="https://code.launchpad.net/~apparmor-dev/apparmor/master" class="sprite branch">lp:apparmor/2.12</a>
  
  
</div>



              
              
                

 

 <div class="buglink-summary">

  <a href="https://code.launchpad.net/~apparmor-dev/apparmor/apparmor-ubuntu-citrain" class="sprite branch">lp:~apparmor-dev/apparmor/apparmor-ubuntu-citrain</a>
  
  
</div>



              
              
                

 

 <div class="buglink-summary">

  <a href="https://code.launchpad.net/~apparmor-dev/apparmor/2.10" class="sprite branch">lp:apparmor/2.10</a>
  
  
</div>



              
              
                

 

 <div class="buglink-summary">

  <a href="https://code.launchpad.net/~apparmor-dev/apparmor/2.9" class="sprite branch">lp:apparmor/2.9</a>
  
  
</div>



              
            </div>
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2017-6507" title="An issue was discovered in AppArmor b...">2017-6507</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-01T08:41:28.123185+00:00" title="2017-03-01 08:41:28 UTC">on 2017-03-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Subscribed the LXC security team, mostly for awareness if we get more such reports from users.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Subscribed the LXC security team, mostly for awareness if we get more such reports from users.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-01T08:47:33.871824+00:00" title="2017-03-01 08:47:33 UTC">on 2017-03-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The LXD profiles are still available on disk in /var/lib/<wbr />lxd/security/<wbr />apparmor but I&#x27;m not sure we&#x27;ll be able to easily fix all those processes that now got relabeled...</p>
<p>It may be simpler for the advisory to recommend all LXD users restart all their containers which will get LXD to regenerate and load the apparmor profile.</p>
<p>Something like &quot;sudo lxd shutdown &amp;&amp; sudo lxd activateifneeded&quot; should do the trick, though note that having a maintainer script do so isn&#x27;t a good idea as it&#x27;d be equivalent to having a maintainer script issuing random &quot;reboot&quot; commands to remote hosts.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The LXD profiles are still available on disk in /var/lib/lxd/security/apparmor but I'm not sure we'll be able to easily fix all those processes that now got relabeled...

It may be simpler for the advisory to recommend all LXD users restart all their containers which will get LXD to regenerate and load the apparmor profile.

Something like "sudo lxd shutdown &amp;&amp; sudo lxd activateifneeded" should do the trick, though note that having a maintainer script do so isn't a good idea as it'd be equivalent to having a maintainer script issuing random "reboot" commands to remote hosts.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-03T23:22:51.295267+00:00" title="2017-03-03 23:22:51 UTC">on 2017-03-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The way that I plan to address this is by removing the calls to unload_<wbr />obsolete_<wbr />profiles(<wbr />) in the apparmor postinst and init script/upstart job/systemd unit.</p>
<p>I&#x27;ve prepared untested security updates for all releases and will test them early next week.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The way that I plan to address this is by removing the calls to unload_obsolete_profiles() in the apparmor postinst and init script/upstart job/systemd unit.

I've prepared untested security updates for all releases and will test them early next week.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apparmor (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Tyler Hicks (tyhicks)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-08T00:43:07.995034+00:00" title="2017-03-08 00:43:07 UTC">on 2017-03-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This is CVE-2017-6507</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This is CVE-2017-6507</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-11T00:15:11.198365+00:00" title="2017-03-11 00:15:11 UTC">on 2017-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+attachment/4835672/+files/0001-parser-Preserve-unknown-profiles-when-restarting-app.patch">0001-parser-Preserve-unknown-profiles-when-restarting-app.patch</a>
        <a class="sprite edit action-icon" href="/apparmor/+bug/1668892/+attachment/4835672">Edit</a>
        (2.3 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This patch is the actual CVE fix. It simply removes the functionality. A followup patch will be posted that adds a small utility that contains the old functionality for administrators that depend on it.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This patch is the actual CVE fix. It simply removes the functionality. A followup patch will be posted that adds a small utility that contains the old functionality for administrators that depend on it.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apparmor: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Critical
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Tyler Hicks (tyhicks)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-11T00:16:43.457583+00:00" title="2017-03-11 00:16:43 UTC">on 2017-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+attachment/4835673/+files/0002-utils-Add-aa-remove-unknown-utility-to-unload-unknow.patch">0002-utils-Add-aa-remove-unknown-utility-to-unload-unknow.patch</a>
        <a class="sprite edit action-icon" href="/apparmor/+bug/1668892/+attachment/4835673">Edit</a>
        (6.4 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This patch adds the helper utility.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This patch adds the helper utility.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cboltz" class="sprite person">Christian Boltz (cboltz)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-12T14:22:31.992350+00:00" title="2017-03-12 14:22:31 UTC">on 2017-03-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>aa-remove-unknown:<br />
...<br />
+		else<br />
+			echo &quot;Removing &#x27;${profile}&#x27;&quot;<br />
+			echo -n &quot;$profile&quot; &gt; &quot;${REMOVE}&quot;<br />
+		fi<br />
+	done<br />
+<br />
+# will not catch all errors, but still better than nothing<br />
+exit $?</p>
<p>I slightly disagree with the &quot;better than nothing&quot; part ;-)</p>
<p>If I didn&#x27;t miss something, the only thing that could go wrong is<br />
+			echo -n &quot;$profile&quot; &gt; &quot;${REMOVE}&quot;</p>
<p>It would be much better to use something like<br />
+			echo -n &quot;$profile&quot; &gt; &quot;${REMOVE}&quot; || failure=1<br />
...<br />
exit $failure</p>
<p>(obviously, also initialize failure=0 before the loop)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">aa-remove-unknown:
...
+		else
+			echo "Removing '${profile}'"
+			echo -n "$profile" &gt; "${REMOVE}"
+		fi
+	done
+
+# will not catch all errors, but still better than nothing
+exit $?

I slightly disagree with the "better than nothing" part ;-)

If I didn't miss something, the only thing that could go wrong is
+			echo -n "$profile" &gt; "${REMOVE}"

It would be much better to use something like
+			echo -n "$profile" &gt; "${REMOVE}" || failure=1
...
exit $failure

(obviously, also initialize failure=0 before the loop)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-13T20:18:29+00:00" title="2017-03-13 20:18:29 UTC">on 2017-03-13</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/apparmor/+bug/1668892/comments/8">
                <strong>Re: [Bug 1668892] Re: apparmor package upgrades unload all LXD profiles</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On 03/12/2017 09:22 AM, Christian Boltz wrote:<br />
<span class="foldable-quoted">
&gt; aa-remove-unknown:<br />
&gt; ...<br />
&gt; +		else<br />
&gt; +			echo &quot;Removing &#x27;${profile}&#x27;&quot;<br />
&gt; +			echo -n &quot;$profile&quot; &gt; &quot;${REMOVE}&quot;<br />
&gt; +		fi<br />
&gt; +	done<br />
&gt; +<br />
&gt; +# will not catch all errors, but still better than nothing<br />
&gt; +exit $?<br />
&gt;<br />
&gt; I slightly disagree with the &quot;better than nothing&quot; part ;-)<br />
&gt;<br />
&gt; If I didn&#x27;t miss something, the only thing that could go wrong is<br />
&gt; +			echo -n &quot;$profile&quot; &gt; &quot;${REMOVE}&quot;
</span></p>
<p>There&#x27;s much more that could go wrong. To name a few:</p>
<p>1) Things could go wrong in the profiles_<wbr />names_list(<wbr />) function<br />
2) Things could go wrong while executing the awk and/or sort binaries<br />
3) Things could go wrong in the awk script itself</p>
<p>Since all of that goop is piped together, none of those errors would be<br />
caught. IMO, It is some pretty bad code that needs to be improved<br />
outside of this security bug.</p>
<p>The reason I don&#x27;t feel like it needs to be fixed at the same time as<br />
this security bug is because it should fail safely. In other words,<br />
failing would mean that processes are left confined rather than unconfined.</p>
<p><span class="foldable-quoted">&gt; It would be much better to use something like<br />
&gt; +			echo -n &quot;$profile&quot; &gt; &quot;${REMOVE}&quot; || failure=1<br />
&gt; ...<br />
&gt; exit $failure<br />
&gt;<br />
&gt; (obviously, also initialize failure=0 before the loop)
</span></p>
<p>I agree that it would be better. I&#x27;ll include an updated patch. Thanks<br />
for the review!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On 03/12/2017 09:22 AM, Christian Boltz wrote:
&gt; aa-remove-unknown:
&gt; ...
&gt; +		else
&gt; +			echo "Removing '${profile}'"
&gt; +			echo -n "$profile" &gt; "${REMOVE}"
&gt; +		fi
&gt; +	done
&gt; +
&gt; +# will not catch all errors, but still better than nothing
&gt; +exit $?
&gt; 
&gt; I slightly disagree with the "better than nothing" part ;-)
&gt; 
&gt; If I didn't miss something, the only thing that could go wrong is
&gt; +			echo -n "$profile" &gt; "${REMOVE}"

There's much more that could go wrong. To name a few:

1) Things could go wrong in the profiles_names_list() function
2) Things could go wrong while executing the awk and/or sort binaries
3) Things could go wrong in the awk script itself

Since all of that goop is piped together, none of those errors would be
caught. IMO, It is some pretty bad code that needs to be improved
outside of this security bug.

The reason I don't feel like it needs to be fixed at the same time as
this security bug is because it should fail safely. In other words,
failing would mean that processes are left confined rather than unconfined.

&gt; It would be much better to use something like
&gt; +			echo -n "$profile" &gt; "${REMOVE}" || failure=1
&gt; ...
&gt; exit $failure
&gt; 
&gt; (obviously, also initialize failure=0 before the loop)

I agree that it would be better. I'll include an updated patch. Thanks
for the review!

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cboltz" class="sprite person">Christian Boltz (cboltz)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-14T18:14:42.771875+00:00" title="2017-03-14 18:14:42 UTC">on 2017-03-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/apparmor/+bug/1668892/comments/9">
                <strong>Re: apparmor package upgrades unload all LXD profiles</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p><span class="foldable-quoted">&gt; Since all of that goop is piped together,
</span></p>
<p>... you should &quot;set -o pipefail&quot; ;-)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">&gt; Since all of that goop is piped together,

... you should "set -o pipefail" ;-)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-14T18:25:29+00:00" title="2017-03-14 18:25:29 UTC">on 2017-03-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/apparmor/+bug/1668892/comments/10">
                <strong>Re: [Bug 1668892] Re: apparmor package upgrades unload all LXD profiles</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On 03/14/2017 01:14 PM, Christian Boltz wrote:<br />
<span class="foldable-quoted">
&gt;&gt; Since all of that goop is piped together,<br />
&gt;<br />
&gt; ... you should &quot;set -o pipefail&quot; ;-)
</span></p>
<p>Not possible with POSIX shell. We can save all of these enhancements for<br />
after these CVE fixes land and before the next upstream release.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On 03/14/2017 01:14 PM, Christian Boltz wrote:
&gt;&gt; Since all of that goop is piped together,
&gt; 
&gt; ... you should "set -o pipefail" ;-)

Not possible with POSIX shell. We can save all of these enhancements for
after these CVE fixes land and before the next upstream release.

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cboltz" class="sprite person">Christian Boltz (cboltz)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-15T18:26:51.007622+00:00" title="2017-03-15 18:26:51 UTC">on 2017-03-15</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/apparmor/+bug/1668892/comments/11">
                <strong>Re: apparmor package upgrades unload all LXD profiles</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;d argue that requiring /bin/bash shouldn&#x27;t be a real problem, but I&#x27;m aware that you try to use /bin/sh whenever possible.</p>
<p>Completely different question: does this bug only affect Ubuntu, or is a similar fix needed in rc.apparmor.<wbr />functions? (__apparmor_<wbr />restart(<wbr />) has code to unload unknown profiles)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'd argue that requiring /bin/bash shouldn't be a real problem, but I'm aware that you try to use /bin/sh whenever possible.

Completely different question: does this bug only affect Ubuntu, or is a similar fix needed in rc.apparmor.functions? (__apparmor_restart() has code to unload unknown profiles)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-15T19:37:02+00:00" title="2017-03-15 19:37:02 UTC">on 2017-03-15</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/apparmor/+bug/1668892/comments/12">
                <strong>Re: [Bug 1668892] Re: apparmor package upgrades unload all LXD profiles</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On 03/15/2017 01:26 PM, Christian Boltz wrote:<br />
<span class="foldable-quoted">
&gt; I&#x27;d argue that requiring /bin/bash shouldn&#x27;t be a real problem, but I&#x27;m<br />
&gt; aware that you try to use /bin/sh whenever possible.
</span></p>
<p>It shouldn&#x27;t but I don&#x27;t feel comfortable switching between the two<br />
shells when this is supposed to be a minimal change.</p>
<p><span class="foldable-quoted">&gt; Completely different question: does this bug only affect Ubuntu, or is a<br />
&gt; similar fix needed in rc.apparmor.<wbr />functions? (__apparmor_<wbr />restart(<wbr />) has<br />
&gt; code to unload unknown profiles)
</span></p>
<p>Upstream is affected. The only patches that I&#x27;ve attached so far are for<br />
the upstream project.</p>
<p>The Ubuntu/<wbr />Debian-<wbr />specific init code is also affected and I&#x27;m working on<br />
patches for that now.</p>
<p>Can you tell me if openSUSE is affected by this bug? A quick test is to do</p>
<p>$ echo &quot;profile test {}&quot; | sudo apparmor_parser -qr<br />
$ sudo grep &quot;test (enforce)&quot; /sys/kernel/<wbr />security/<wbr />apparmor/<wbr />profiles<br />
test (enforce)<br />
$ # do whateveris required to restart the apparmor init script/upstart<br />
$ # job/systemd unit that your distro uses<br />
$ sudo grep &quot;test (enforce)&quot; /sys/kernel/<wbr />security/<wbr />apparmor/<wbr />profiles<br />
test (enforce)</p>
<p>If the test profile is still loaded, you&#x27;re not affected. If it was<br />
unloaded, you&#x27;re affected.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On 03/15/2017 01:26 PM, Christian Boltz wrote:
&gt; I'd argue that requiring /bin/bash shouldn't be a real problem, but I'm
&gt; aware that you try to use /bin/sh whenever possible.

It shouldn't but I don't feel comfortable switching between the two
shells when this is supposed to be a minimal change.

&gt; Completely different question: does this bug only affect Ubuntu, or is a
&gt; similar fix needed in rc.apparmor.functions? (__apparmor_restart() has
&gt; code to unload unknown profiles)

Upstream is affected. The only patches that I've attached so far are for
the upstream project.

The Ubuntu/Debian-specific init code is also affected and I'm working on
patches for that now.

Can you tell me if openSUSE is affected by this bug? A quick test is to do

$ echo "profile test {}" | sudo apparmor_parser -qr
$ sudo grep "test (enforce)" /sys/kernel/security/apparmor/profiles
test (enforce)
$ # do whateveris required to restart the apparmor init script/upstart
$ # job/systemd unit that your distro uses
$ sudo grep "test (enforce)" /sys/kernel/security/apparmor/profiles
test (enforce)

If the test profile is still loaded, you're not affected. If it was
unloaded, you're affected.



</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cboltz" class="sprite person">Christian Boltz (cboltz)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-16T12:19:23.108513+00:00" title="2017-03-16 12:19:23 UTC">on 2017-03-16</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/apparmor/+bug/1668892/comments/13">
                <strong>Re: apparmor package upgrades unload all LXD profiles</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Testing confirmed what I expected from reading rc.apparmor.<wbr />functions __apparmor_<wbr />restart(<wbr />) - the test profile gets unloaded on &quot;rcapparmor reload&quot;.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Testing confirmed what I expected from reading rc.apparmor.functions __apparmor_restart() - the test profile gets unloaded on "rcapparmor reload".</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
    
    <time title="2017-03-23 22:48:59 UTC" datetime="2017-03-23T22:48:59.735556+00:00">on 2017-03-23</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - apparmor package upgrades unload all LXD profiles<br />+ apparmor package upgrades unload privately managed profiles
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - apparmor package upgrades unload privately managed profiles<br />+ CVE-2017-6507: apparmor package upgrades unload privately managed<br />+ profiles
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-23T22:56:31.361770+00:00" title="2017-03-23 22:56:31 UTC">on 2017-03-23</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/apparmor/+bug/1668892/comments/14">
                <strong>Re: CVE-2017-6507: apparmor package upgrades unload privately managed profiles</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;m making this bug public since this behavior is not attacker-<wbr />controlled. It is controlled by the system administrator and the distro package maintainer(s) for AppArmor.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'm making this bug public since this behavior is not attacker-controlled. It is controlled by the system administrator and the distro package maintainer(s) for AppArmor.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
    
    <time title="2017-03-23 23:03:31 UTC" datetime="2017-03-23T23:03:31.190949+00:00">on 2017-03-23</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - CVE-2017-6507: apparmor package upgrades unload privately managed<br />- profiles<br />+ CVE-2017-6507: apparmor service restarts and package upgrades unload<br />+ privately managed profiles
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~crichton" class="sprite person">Ubuntu Foundations Team Bug Bot (crichton)</a>
    
    <time title="2017-03-24 00:26:47 UTC" datetime="2017-03-24T00:26:47.443605+00:00">on 2017-03-24</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: patch
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-24T05:12:01.723802+00:00" title="2017-03-24 05:12:01 UTC">on 2017-03-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The fixes have been committed to the master branch:</p>
<p><a rel="nofollow" href="http://bazaar.launchpad.net/~apparmor-dev/apparmor/master/revision/3647">http://<wbr />bazaar.<wbr />launchpad.<wbr />net/~apparmor-<wbr />dev/apparmor/<wbr />master/<wbr />revision/<wbr />3647</a><br />
<a rel="nofollow" href="http://bazaar.launchpad.net/~apparmor-dev/apparmor/master/revision/3648">http://<wbr />bazaar.<wbr />launchpad.<wbr />net/~apparmor-<wbr />dev/apparmor/<wbr />master/<wbr />revision/<wbr />3648</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The fixes have been committed to the master branch:

http://bazaar.launchpad.net/~apparmor-dev/apparmor/master/revision/3647
http://bazaar.launchpad.net/~apparmor-dev/apparmor/master/revision/3648</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apparmor: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Committed
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        none &#8594; 2.12
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/apparmor/+bug/1668892/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-24T09:35:18.204743+00:00" title="2017-03-24 09:35:18 UTC">on 2017-03-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/apparmor/+bug/1668892/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package apparmor - 2.11.0-2ubuntu3</p>
<p>---------------<br />
apparmor (2.11.0-2ubuntu3) zesty; urgency=medium</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: Don&#x27;t unload unknown profiles during package<br />
&nbsp;&nbsp;&nbsp;&nbsp;configuration or when restarting the apparmor init script, upstart job, or<br />
&nbsp;&nbsp;&nbsp;&nbsp;systemd unit as this could leave processes unconfined (LP: <a href="/bugs/1668892" class="bug-link">#1668892</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- debian/<wbr />apparmor.<wbr />postinst, debian/<wbr />apparmor.<wbr />init, debian/<wbr />apparmor.<wbr />upstart:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove calls to unload_<wbr />obsolete_<wbr />profiles(<wbr />)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- debian/<wbr />patches/<wbr />utils-add-<wbr />aa-remove-<wbr />unknown.<wbr />patch,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debian/<wbr />apparmor.<wbr />install debian/<wbr />apparmor.<wbr />manpages: Include a new utility,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aa-<wbr />remove-<wbr />unknown, which can be used to unload unknown profiles. Based<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on an upstream patch but adjusted to source the /lib/apparmor/<wbr />functions<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shipped in Debian/Ubuntu.<br />
&nbsp;&nbsp;&nbsp;&nbsp;- CVE-2017-6507<br />
&nbsp;&nbsp;* debian/<wbr />patches/<wbr />r3645-profiles-<wbr />update-<wbr />nvidia-<wbr />abstraction.<wbr />patch: Update<br />
&nbsp;&nbsp;&nbsp;&nbsp;nvidia abstraction for newer nvidia drivers (LP: <a href="/bugs/1590561" class="bug-link">#1590561</a>)</p>
<p>&nbsp;-- Tyler Hicks &lt;email address hidden&gt;  Fri, 24 Mar 2017 05:26:28 +0000</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package apparmor - 2.11.0-2ubuntu3

---------------
apparmor (2.11.0-2ubuntu3) zesty; urgency=medium

  * SECURITY UPDATE: Don't unload unknown profiles during package
    configuration or when restarting the apparmor init script, upstart job, or
    systemd unit as this could leave processes unconfined (LP: #1668892)
    - debian/apparmor.postinst, debian/apparmor.init, debian/apparmor.upstart:
      Remove calls to unload_obsolete_profiles()
    - debian/patches/utils-add-aa-remove-unknown.patch,
      debian/apparmor.install debian/apparmor.manpages: Include a new utility,
      aa-remove-unknown, which can be used to unload unknown profiles. Based
      on an upstream patch but adjusted to source the /lib/apparmor/functions
      shipped in Debian/Ubuntu.
    - CVE-2017-6507
  * debian/patches/r3645-profiles-update-nvidia-abstraction.patch: Update
    nvidia abstraction for newer nvidia drivers (LP: #1590561)

 -- Tyler Hicks &lt;tyhicks@canonical.com&gt;  Fri, 24 Mar 2017 05:26:28 +0000</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apparmor (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~jjohansen" class="sprite person">John Johansen (jjohansen)</a>
    
    <time title="2017-10-19 09:34:24 UTC" datetime="2017-10-19T09:34:24.483882+00:00">on 2017-10-19</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apparmor: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Won&#x27;t Fix
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Won&#x27;t Fix &#8594; Fix Committed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~cboltz" class="sprite person">Christian Boltz (cboltz)</a>
    
    <time title="2018-04-22 11:27:01 UTC" datetime="2018-04-22T11:27:01.898601+00:00">on 2018-04-22</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apparmor: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~juanserven" class="sprite person">juan serven (juanserven)</a>
    
    <time title="2019-11-08 16:01:54 UTC" datetime="2019-11-08T16:01:54.462700+00:00">on 2019-11-08</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apparmor: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        Tyler Hicks (tyhicks) &#8594; juan serven (juanserven)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/apparmor/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/apparmor/+bug/1668892/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/apparmor/+bug/1668892/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/apparmor/+bug/1668892/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+attachment/4835672/+files/0001-parser-Preserve-unknown-profiles-when-restarting-app.patch">0001-parser-Preserve-unknown-profiles-when-restarting-app.patch</a>
        <small>
          (<a href="/apparmor/+bug/1668892/+attachment/4835672">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/apparmor/+bug/1668892/+attachment/4835673/+files/0002-utils-Add-aa-remove-unknown-utility-to-unload-unknow.patch">0002-utils-Add-aa-remove-unknown-utility-to-unload-unknow.patch</a>
        <small>
          (<a href="/apparmor/+bug/1668892/+attachment/4835673">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/apparmor/+bug/1668892/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"bug_is_private": false, "information_type_data": {"PUBLICSECURITY": {"name": "Public Security", "description_css_class": "choice-description", "is_private": false, "value": "PUBLICSECURITY", "description": "Everyone can see this security related information.\n", "order": 1}, "PRIVATESECURITY": {"name": "Private Security", "description_css_class": "choice-description", "is_private": true, "value": "PRIVATESECURITY", "description": "Only the security group can see this information.\n ", "order": 2}, "PUBLIC": {"name": "Public", "description_css_class": "choice-description", "is_private": false, "value": "PUBLIC", "description": "Everyone can see this information.\n", "order": 0}, "USERDATA": {"name": "Private", "description_css_class": "choice-description", "is_private": true, "value": "USERDATA", "description": "Only shared with users permitted to see private user information.\n", "order": 3}}, "initial_comment_batch_offset": 41, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/1668892", "self_link": "https://bugs.launchpad.net/api/devel/bugs/1668892"}, "first visible_recent_comment": -24, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1668892", "web_link": "https://bugs.launchpad.net/bugs/1668892", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1668892, "private": false, "information_type": "Public Security", "name": null, "title": "CVE-2017-6507: apparmor service restarts and package upgrades unload privately managed profiles", "description": "Restarting the apparmor init script, upstart job, or systemd service has historically removed all loaded profiles unknown to the well-known profile locations. In upstream AppArmor terms, this is /etc/apparmor.d/ but Ubuntu also adds additional locations.\n\nThis behavior has previously caused a problem where libvirt-managed profiles would be unloaded upon \"restarting AppArmor\":\n\n  https://launchpad.net/bugs/702774\n\nSt\u00e9phane Graber created this bug report after he noticed that the same behavior was causing similar problems with lxd-manager profiles.\n\nIn addition, AppArmor distro packaging may trigger an \"AppArmor restart\" when installing a new version of AppArmor, resulting in the same profile removal problem. This is true for the Debian/Ubuntu packaging.\n\nThe upstream AppArmor team has decided to remove this functionality from the AppArmor restart logic to prevent a similar issue happening with the next external project that needs to privately manage their own set of AppArmor profiles.\n\n=== Original Bug Report ===\n\nApparmor package upgrades unloads all LXD apparmor profiles, making all LXD containers unconfined.\n\nExample:\n\n# Create an unprivileged and a privileged container\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$ lxc launch ubuntu:16.04 c1\nCreating c1\nStarting c1\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$ lxc launch ubuntu:16.04 c2 -c security.privileged=true\nCreating c2\nStarting c2\n\n# Look at their apparmor profiles (expected values)\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$ cat /proc/$(lxc info c1 | grep Pid | sed \"s/Pid: //g\")/attr/current\nlxd-c1_\u003c/var/lib/lxd\u003e//\u0026:lxd-c1_\u003cvar-lib-lxd\u003e://unconfined (enforce)\n\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$ cat /proc/$(lxc info c2 | grep Pid | sed \"s/Pid: //g\")/attr/current\nlxd-c2_\u003c/var/lib/lxd\u003e//\u0026:lxd-c2_\u003cvar-lib-lxd\u003e://unconfined (enforce)\n\n# Apply an apparmor upgrade\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$ sudo apt upgrade\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nCalculating upgrade... Done\nThe following packages will be upgraded:\n\u00a0\u00a0apparmor\n1 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 493 kB of archives.\nAfter this operation, 8,192 B of additional disk space will be used.\nDo you want to continue? [Y/n]\nGet:1 http://us.archive.ubuntu.com/ubuntu zesty/main amd64 apparmor amd64 2.11.0-2ubuntu1 [493 kB]\nFetched 493 kB in 0s (34.9 MB/s)\nPreconfiguring packages ...\n(Reading database ... 221457 files and directories currently installed.)\nPreparing to unpack .../apparmor_2.11.0-2ubuntu1_amd64.deb ...\nUnpacking apparmor (2.11.0-2ubuntu1) over (2.10.95-4ubuntu5.1) ...\nProcessing triggers for ureadahead (0.100.0-19) ...\nSetting up apparmor (2.11.0-2ubuntu1) ...\nInstalling new version of config file /etc/apparmor.d/abstractions/X ...\nInstalling new version of config file /etc/apparmor.d/abstractions/authentication ...\nInstalling new version of config file /etc/apparmor.d/abstractions/base ...\nInstalling new version of config file /etc/apparmor.d/abstractions/dbus-session-strict ...\nInstalling new version of config file /etc/apparmor.d/abstractions/gnome ...\nInstalling new version of config file /etc/apparmor.d/abstractions/nameservice ...\nInstalling new version of config file /etc/apparmor.d/abstractions/php5 ...\nInstalling new version of config file /etc/apparmor.d/abstractions/samba ...\nInstalling new version of config file /etc/apparmor.d/abstractions/ssl_certs ...\nInstalling new version of config file /etc/apparmor.d/abstractions/ssl_keys ...\nInstalling new version of config file /etc/apparmor.d/abstractions/ubuntu-browsers ...\nInstalling new version of config file /etc/apparmor.d/abstractions/ubuntu-helpers ...\nInstalling new version of config file /etc/apparmor.d/abstractions/user-mail ...\nupdate-rc.d: warning: start and stop actions are no longer supported; falling back to defaults\nSkipping profile in /etc/apparmor.d/disable: usr.sbin.rsyslogd\nSkipping profile in /etc/apparmor.d/disable: usr.sbin.sssd\nProcessing triggers for systemd (232-18ubuntu1) ...\nProcessing triggers for man-db (2.7.6.1-1) ...\n\n# And look at the now unconfined containers\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$ cat /proc/$(lxc info c1 | grep Pid | sed \"s/Pid: //g\")/attr/current\nunconfined//\u0026:lxd-c1_\u003cvar-lib-lxd\u003e://unconfined\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$ cat /proc/$(lxc info c2 | grep Pid | sed \"s/Pid: //g\")/attr/current\nunconfined//\u0026:lxd-c2_\u003cvar-lib-lxd\u003e://unconfined\n\n# The LXD profiles are also entirely gone\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$ ls /sys/kernel/security/apparmor/policy/profiles/ | grep lxd\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$\n\n# And to confirm that apparmor is in fact gone\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$ lxc exec c2 bash\nroot@c2:~# mount -t proc proc /mnt\nroot@c2:~# echo \"|/usr/bin/touch /pwned\" \u003e /mnt/sys/kernel/core_pattern\nroot@c2:~# sleep 30\u0026\n[1] 468\nroot@c2:~# kill -SIGSEGV $!\nroot@c2:~#\n[1]+  Segmentation fault      (core dumped) sleep 30\nroot@c2:~# exit\n\nstgraber@dakara:~/data/code/lxc/lxd (stgraber/master)$ ls -lh /pwned\n-rw-rw-rw- 1 root root 0 Mar  1 03:37 /pwned\n\nThis was originally reported (though not as a security issue) here: https://github.com/lxc/lxd/issues/2981", "owner_link": "https://bugs.launchpad.net/api/devel/~stgraber", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/bug_tasks", "duplicate_of_link": null, "date_created": "2017-03-01T08:39:05.641583+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/subscriptions", "date_last_updated": "2019-11-08T16:01:56.989727+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 268, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/attachments", "security_related": true, "latest_patch_uploaded": "2017-03-11T00:16:43.457583+00:00", "tags": ["patch"], "date_last_message": "2017-03-24T09:35:18.204743+00:00", "number_of_duplicates": 0, "message_count": 17, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1668892/linked_merge_proposals", "http_etag": "\"0187595e6bd5d1df752b048582eb0e2eac8d01d7-95761778a2b8164ce9d5e46c34af2f5565f14f64\""}, "total_comments_and_activity": 64, "related_features": {}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/apparmor/+bug/1668892", "web_link": "https://bugs.launchpad.net/apparmor/+bug/1668892", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1668892", "milestone_link": "https://bugs.launchpad.net/api/devel/apparmor/+milestone/2.12", "status": "Fix Released", "importance": "Critical", "assignee_link": "https://bugs.launchpad.net/api/devel/~juanserven", "bug_target_display_name": "AppArmor", "bug_target_name": "apparmor", "bug_watch_link": null, "date_assigned": "2017-03-11T00:13:45.357901+00:00", "date_created": "2017-03-11T00:13:31.738090+00:00", "date_confirmed": "2017-10-19T09:34:30.579827+00:00", "date_incomplete": null, "date_in_progress": "2017-10-19T09:34:30.579827+00:00", "date_closed": "2018-04-22T11:27:02.326592+00:00", "date_left_new": "2017-03-11T00:13:39.580126+00:00", "date_triaged": "2017-10-19T09:34:30.579827+00:00", "date_fix_committed": "2017-10-19T09:34:30.579827+00:00", "date_fix_released": "2018-04-22T11:27:02.326592+00:00", "date_left_closed": "2017-10-19T09:34:30.579827+00:00", "owner_link": "https://bugs.launchpad.net/api/devel/~tyhicks", "target_link": "https://bugs.launchpad.net/api/devel/apparmor", "title": "Bug #1668892 in AppArmor: \"CVE-2017-6507: apparmor service restarts and package upgrades unload privately managed profiles\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/apparmor/+bug/1668892/related_tasks", "is_complete": true, "http_etag": "\"2a7c58fa33e27833d4efcd3022cb55a187e40241-1f2e553ba769ec09fb3418b21fabf23817bdd8d9\""}, "bugtask_data": {"2221120": {"bugtask_path": "/apparmor/2.10/+bug/1668892", "bug_title": "CVE-2017-6507: apparmor service restarts and package upgrades unload privately managed profiles", "user_can_delete": false, "milestone_value": "https://bugs.launchpad.net/api/devel/apparmor/+milestone/2.10.3", "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "AppArmor 2.10", "hide_assignee_team_selection": true, "assignee_is_team": null, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/apparmor/2.10/+bug/1668892/+delete", "row_id": "tasksummary2221120", "target_is_product": false, "id": 2221120, "form_row_id": "task2221120", "assignee_vocabulary_filters": [], "prefix": "apparmor_2.10", "importance_value": "Undecided", "status_value": "Fix Released", "assignee_value": null, "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "2221121": {"bugtask_path": "/apparmor/2.11/+bug/1668892", "bug_title": "CVE-2017-6507: apparmor service restarts and package upgrades unload privately managed profiles", "user_can_delete": false, "milestone_value": "https://bugs.launchpad.net/api/devel/apparmor/+milestone/2.11.1", "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "AppArmor 2.11", "hide_assignee_team_selection": true, "assignee_is_team": null, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/apparmor/2.11/+bug/1668892/+delete", "row_id": "tasksummary2221121", "target_is_product": false, "id": 2221121, "form_row_id": "task2221121", "assignee_vocabulary_filters": [], "prefix": "apparmor_2.11", "importance_value": "Undecided", "status_value": "Fix Released", "assignee_value": null, "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "2214515": {"bugtask_path": "/apparmor/+bug/1668892", "bug_title": "CVE-2017-6507: apparmor service restarts and package upgrades unload privately managed profiles", "user_can_delete": false, "milestone_value": "https://bugs.launchpad.net/api/devel/apparmor/+milestone/2.12", "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "AppArmor", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/apparmor/+bug/1668892/+delete", "row_id": "tasksummary2214515", "target_is_product": true, "id": 2214515, "form_row_id": "task2214515", "assignee_vocabulary_filters": [], "prefix": "apparmor", "importance_value": "Critical", "status_value": "Fix Released", "assignee_value": "juanserven", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "2209339": {"bugtask_path": "/ubuntu/+source/apparmor/+bug/1668892", "bug_title": "CVE-2017-6507: apparmor service restarts and package upgrades unload privately managed profiles", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "apparmor (Ubuntu)", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/+source/apparmor/+bug/1668892/+delete", "row_id": "tasksummary2209339", "target_is_product": false, "id": 2209339, "form_row_id": "task2209339", "assignee_vocabulary_filters": [], "prefix": "ubuntu_apparmor", "importance_value": "Critical", "status_value": "Fix Released", "assignee_value": "tyhicks", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "2221124": {"bugtask_path": "/apparmor/2.9/+bug/1668892", "bug_title": "CVE-2017-6507: apparmor service restarts and package upgrades unload privately managed profiles", "user_can_delete": false, "milestone_value": "https://bugs.launchpad.net/api/devel/apparmor/+milestone/2.9.5", "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "AppArmor 2.9", "hide_assignee_team_selection": true, "assignee_is_team": null, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/apparmor/2.9/+bug/1668892/+delete", "row_id": "tasksummary2221124", "target_is_product": false, "id": 2221124, "form_row_id": "task2221124", "assignee_vocabulary_filters": [], "prefix": "apparmor_2.9", "importance_value": "Undecided", "status_value": "Fix Released", "assignee_value": null, "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}}};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 85 queries/external actions issued in 1.00 seconds

    Features: {'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'bugs.affected_count_includes_dupes.disabled': None, 'baselayout.careers_link.disabled': None, 'js.yui_version': None, 'profiling.enabled': None, 'visible_render_time': None, 'hard_timeout': '9000', 'bugs.nominations.bug_supervisors_can_target': 'on', 'app.maintenance_message': None}

    r0d8de2b

    -->

</html>

