
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>What’s New in Beaker 20? &#183; Beaker 28.2</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="What’s New in Beaker 19?" href="release-19.html" />
    <link rel="prev" title="What’s New in Beaker 21?" href="release-21.html" />
  <meta name="viewport" content="width=device-width" />
  <!--[if lt IE 9]>
    <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="../../style.css" rel="stylesheet" type="text/css"/>

  </head><body>
<div class="header" lang="en">
  <div class="body_element">
    <div class="title">
      <a href="../../"><img src="../../images/logo.png" alt="Beaker" width="110" height="40" /></a>
    </div>
    <nav class="menu">
      <form class="search" method="get" action="../../search.html">
        <input type="search" name="q" placeholder="search" />
      </form>
      <a href="../../docs/">docs</a>
      <a href="../../dev/">develop</a>
      <a href="../../download.html">download</a>
    </nav>
  </div>
</div>

<div class="main_content" lang="en">

  <nav class="body_element">
  
  <ul class="breadcrumbs">
    <li><a href="../index.html">Beaker</a></li>
      <li><a href="index.html" accesskey="U">What’s New</a></li>
  </ul>
  <ul class="rellinks">
    <li>
      <a href="release-21.html" title="What’s New in Beaker 21?"
         accesskey="P">previous</a>
    </li>
    <li>
      <a href="release-19.html" title="What’s New in Beaker 19?"
         accesskey="N">next</a>
    </li>
  </ul>
  </nav>

  <article class="body_element">
    
  <div class="section" id="what-s-new-in-beaker-20">
<h1>What’s New in Beaker 20?<a class="headerlink" href="#what-s-new-in-beaker-20" title="Permalink to this headline">¶</a></h1>
<p>Beaker 20 introduces system pools, and the ability to apply the same access
policy across many systems.
This release also brings support for configurable netboot loaders and several
other enhancements.</p>
<div class="section" id="system-pools-and-shared-system-access-policies">
<h2>System pools and shared system access policies<a class="headerlink" href="#system-pools-and-shared-system-access-policies" title="Permalink to this headline">¶</a></h2>
<p>Beaker 20 introduces “system pools” as arbitrary collections of systems.</p>
<p>Previously, a group in Beaker could contain both users and systems. However,
groups are primarily a way of managing Beaker users. With the introduction of
system pools, the existing group mechanism becomes exclusively “user groups”.
It is no longer possible to add systems to user groups.</p>
<p>As part of the upgrade to Beaker 20, for each group which contained one or more
systems, a new system pool will be created with the same name and containing
the same systems. Pools created during this migration process will have their
initial description set to “Pool migrated from group &lt;name&gt;” and will be owned
by the corresponding user group.</p>
<p>Building on the system pools feature, Beaker 20 also makes it possible to share
a single access policy across a large number of systems. System owners can now
choose to apply the access policy from a pool, rather than defining the policy
rules explicitly on their system.</p>
<p>For example, if you own the hardware for the fictional Project Unicorn
development team, you can create a new Beaker pool named “Project Unicorn”. In
the pool access policy, you can grant reserve permission to the Project Unicorn
developers. Then you can add each system to the pool, and set them to use the
access policy from the “Project Unicorn” pool.</p>
<p>Refer to <a class="reference internal" href="../user-guide/interface/pools.html#system-pools"><span class="std std-ref">System pools</span></a> and <a class="reference internal" href="../user-guide/systems/sharing.html#shared-access-policies"><span class="std std-ref">Shared access policies</span></a> for more
details.
See also the original <a class="reference external" href="https://beaker-project.org/dev/proposals/predefined-access-policies.html#proposal-predefined-access-policies" title="(in Beaker vProject)"><span class="xref std std-ref">design proposal</span></a> for further background and
rationale.</p>
<p>(Contributed by Amit Saha, Matt Jia, and Dan Callaghan in <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1057463">#1057463</a>.)</p>
</div>
<div class="section" id="other-new-features-and-enhancements">
<h2>Other new features and enhancements<a class="headerlink" href="#other-new-features-and-enhancements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="configurable-netboot-loader">
<h3>Configurable netboot loader<a class="headerlink" href="#configurable-netboot-loader" title="Permalink to this headline">¶</a></h3>
<p>Beaker now supports configuring the netboot loader used on a per-recipe basis,
by passing <code class="docutils literal notranslate"><span class="pre">netbootloader=</span></code> in the kernel options. For example, in ppc64
recipes Beaker can use yaboot when provisioning older distros and GRUB2 when
provisioning newer distros. This feature requires that the DHCP configuration
for the system is updated appropriately.</p>
<p>Refer to <a class="reference internal" href="../user-guide/customizing-installation.html#kernel-options"><span class="std std-ref">Kernel options</span></a> for details about the <code class="docutils literal notranslate"><span class="pre">netbootloader=</span></code> option,
and to <a class="reference internal" href="../admin-guide/tftp.html#boot-loader-images"><span class="std std-ref">Boot loader images</span></a> for details about the new TFTP directory
layout.</p>
<p>(Contributed by Amit Saha in <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1156036">#1156036</a>.)</p>
</div>
<div class="section" id="workflow-commands-accept-reserve">
<h3>Workflow commands accept <a class="reference internal" href="../man/bkr.html#cmdoption-bkr-reserve"><code class="xref std std-option docutils literal notranslate"><span class="pre">--reserve</span></code></a><a class="headerlink" href="#workflow-commands-accept-reserve" title="Permalink to this headline">¶</a></h3>
<p>A new option <a class="reference internal" href="../man/bkr.html#cmdoption-bkr-reserve"><code class="xref std std-option docutils literal notranslate"><span class="pre">--reserve</span></code></a> is now accepted by
<strong class="program">bkr</strong> workflow commands. This option adds the <code class="docutils literal notranslate"><span class="pre">&lt;reservesys/&gt;</span></code>
element to each recipe in the job, causing Beaker to reserve the system after
all tasks have finished executing (or if the recipe is aborted). The duration
can be controlled using <a class="reference internal" href="../man/bkr.html#cmdoption-bkr-reserve-duration"><code class="xref std std-option docutils literal notranslate"><span class="pre">--reserve-duration</span></code></a>.</p>
<p>For more details about the <code class="docutils literal notranslate"><span class="pre">&lt;reservesys/&gt;</span></code> element, refer to
<a class="reference internal" href="../user-guide/system-reservation.html#reservesys"><span class="std std-ref">Using the &lt;reservesys/&gt; element</span></a>.</p>
<p>(Contributed by Dan Callaghan in <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1186719">#1186719</a>.)</p>
</div>
<div class="section" id="workflow-commands-accept-wildcards-in-distro">
<h3>Workflow commands accept wildcards in <a class="reference internal" href="../man/bkr.html#cmdoption-bkr-distro"><code class="xref std std-option docutils literal notranslate"><span class="pre">--distro</span></code></a><a class="headerlink" href="#workflow-commands-accept-wildcards-in-distro" title="Permalink to this headline">¶</a></h3>
<p>The <strong class="program">bkr</strong> workflow commands now treat the value of the
<a class="reference internal" href="../man/bkr.html#cmdoption-bkr-distro"><code class="xref std std-option docutils literal notranslate"><span class="pre">--distro</span></code></a> option as a SQL LIKE pattern (the % character
matches any substring).</p>
<p>(Contributed by Bill Peck in <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1200427">#1200427</a>.)</p>
</div>
<div class="section" id="bkr-system-modify-can-update-host-hypervisor-field">
<h3><strong class="program">bkr system-modify</strong> can update host hypervisor field<a class="headerlink" href="#bkr-system-modify-can-update-host-hypervisor-field" title="Permalink to this headline">¶</a></h3>
<p>Using <a class="reference internal" href="../man/bkr-system-modify.html#cmdoption-bkr-system-modify-host-hypervisor"><code class="xref std std-option docutils literal notranslate"><span class="pre">bkr</span> <span class="pre">system-modify</span> <span class="pre">--host-hypervisor</span></code></a> you can update the host
hypervisor field for a system.</p>
<p>(Contributed by Dan Callaghan in <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1206978">#1206978</a>.)</p>
</div>
<div class="section" id="new-proxy-user-option-to-authenticate-as-other-users">
<h3>New <a class="reference internal" href="../man/bkr.html#cmdoption-bkr-proxy-user"><code class="xref std std-option docutils literal notranslate"><span class="pre">--proxy-user</span></code></a> option, to authenticate as other users<a class="headerlink" href="#new-proxy-user-option-to-authenticate-as-other-users" title="Permalink to this headline">¶</a></h3>
<p>This option can only be used when the authenticating user is a member of
a group which has been granted “proxy_user” permission by the Beaker
administrator. Typically this permission is granted to service accounts so that
a trusted script can perform actions on behalf of any other Beaker user.</p>
<p>(Contributed by Ján Stanček in <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1199853">#1199853</a>.)</p>
</div>
</div>
<div class="section" id="notable-changes">
<h2>Notable changes<a class="headerlink" href="#notable-changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="task-roles-are-now-visible-between-host-and-guest-recipes">
<h3>Task roles are now visible between host and guest recipes<a class="headerlink" href="#task-roles-are-now-visible-between-host-and-guest-recipes" title="Permalink to this headline">¶</a></h3>
<p>In previous Beaker releases, task roles were not visible between the guest
recipes and the host recipes in a recipe set.</p>
<p>For example, in the following recipe set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">recipeSet</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">recipe</span> <span class="n">system</span><span class="o">=</span><span class="s2">&quot;hostA&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">task</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;SERVERS&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="n">guestrecipe</span> <span class="n">system</span><span class="o">=</span><span class="s2">&quot;guest1&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">task</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;SERVERS&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">guestrecipe</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">recipe</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">recipe</span> <span class="n">system</span><span class="o">=</span><span class="s2">&quot;hostB&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">task</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;CLIENTS&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="n">guestrecipe</span> <span class="n">system</span><span class="o">=</span><span class="s2">&quot;guest2&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">task</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;CLIENTS&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">guestrecipe</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">recipe</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">recipeSet</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>the role environment variables in both host recipes would have previously
been:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SERVERS</span><span class="o">=</span><span class="n">hostA</span>
<span class="n">CLIENTS</span><span class="o">=</span><span class="n">hostB</span>
</pre></div>
</div>
<p>and in both guest recipes they would have been:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SERVERS</span><span class="o">=</span><span class="n">guest1</span>
<span class="n">CLIENTS</span><span class="o">=</span><span class="n">guest2</span>
</pre></div>
</div>
<p>However, this separation between host and guest recipes has been removed. In
the above example, all four recipes would see the same role environment
variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SERVERS</span><span class="o">=</span><span class="n">hostA</span> <span class="n">guest1</span>
<span class="n">CLIENTS</span><span class="o">=</span><span class="n">hostB</span> <span class="n">guest2</span>
</pre></div>
</div>
<p>(Contributed by Dan Callaghan in <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=960434">#960434</a>.)</p>
</div>
<div class="section" id="bios-boot-partition-is-defined-in-kickstarts">
<h3>BIOS boot partition is defined in kickstarts<a class="headerlink" href="#bios-boot-partition-is-defined-in-kickstarts" title="Permalink to this headline">¶</a></h3>
<p>Beaker’s kickstart templates now define a 1MB “BIOS boot” partition when:</p>
<ul class="simple">
<li>the recipe uses custom partitioning (<code class="docutils literal notranslate"><span class="pre">&lt;partition/&gt;</span></code> or a related
kickstart metadata variable);</li>
<li>the system is x86 with BIOS firmware (or EFI firmware running in BIOS
compatibility mode); and</li>
<li>the distro supports GPT format disks for BIOS systems (Fedora, CentOS 7,
RHEL 7).</li>
</ul>
<p>The BIOS boot partition is needed in case the boot disk is larger than 2TB,
which causes Anaconda to use GPT instead of MBR when formatting the disk. If
the boot disk is smaller than 2TB, the BIOS boot partition is still created but
it will be empty and unused.</p>
<p>(Contributed by Dan Callaghan in <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1108393">#1108393</a>.)</p>
</div>
<div class="section" id="bkr-workflow-installer-test-is-deprecated">
<h3><strong class="program">bkr workflow-installer-test</strong> is deprecated<a class="headerlink" href="#bkr-workflow-installer-test-is-deprecated" title="Permalink to this headline">¶</a></h3>
<p>This workflow command was used for submitting jobs to test the Anaconda
installer. It included support for rendering custom kickstarts on the client
side using template variables.</p>
<p>Use the <a class="reference internal" href="../man/bkr.html#cmdoption-bkr-kickstart"><code class="xref std std-option docutils literal notranslate"><span class="pre">--kickstart</span></code></a> option for <strong class="program">bkr
workflow-simple</strong> (or any other workflow command) instead. This option lets you
pass a kickstart template which is rendered on the server using Beaker’s
existing kickstart templating mechanisms.</p>
<p>Beaker’s server-side templating has been expanded to cover all use cases which
were supported by <strong class="program">bkr workflow-installer-test</strong>, and is now fully
documented. Refer to <a class="reference internal" href="../user-guide/customizing-installation.html#custom-kickstarts"><span class="std std-ref">Custom kickstart templates</span></a>.</p>
<p>(Contributed by Alexander Todorov and Dan Callaghan in <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1184720">#1184720</a>,
<a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=966348">#966348</a>, <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1077251">#1077251</a>.)</p>
</div>
<div class="section" id="new-pool-host-filter-replacing-group">
<h3>New <code class="docutils literal notranslate"><span class="pre">&lt;pool/&gt;</span></code> host filter replacing <code class="docutils literal notranslate"><span class="pre">&lt;group/&gt;</span></code><a class="headerlink" href="#new-pool-host-filter-replacing-group" title="Permalink to this headline">¶</a></h3>
<p>With the introduction of system pools, a new XML host filter <code class="docutils literal notranslate"><span class="pre">&lt;pool/&gt;</span></code> has
been added for filtering by pool membership. It follows the behaviour of the
previous <code class="docutils literal notranslate"><span class="pre">&lt;group/&gt;</span></code> element, which allowed filtering systems by group
membership.</p>
<p>For backwards compatibility, the <code class="docutils literal notranslate"><span class="pre">&lt;group/&gt;</span></code> element will remain as
a deprecated alias for <code class="docutils literal notranslate"><span class="pre">&lt;pool/&gt;</span></code>.</p>
</div>
<div class="section" id="bkr-policy-list-shows-active-policy-by-default">
<h3><strong class="program">bkr policy-list</strong> shows active policy by default<a class="headerlink" href="#bkr-policy-list-shows-active-policy-by-default" title="Permalink to this headline">¶</a></h3>
<p>The <strong class="program">bkr policy-list</strong> command now retrieves and prints the rules from
the system’s currently active access policy, which may be a pool policy. If you
want to retrieve the rules from the system’s custom access policy, use the
<a class="reference internal" href="../man/bkr-policy-list.html#cmdoption-bkr-policy-list-custom"><code class="xref std std-option docutils literal notranslate"><span class="pre">--custom</span></code></a> option.</p>
</div>
<div class="section" id="changes-to-reporting-queries-using-system-access-policy">
<h3>Changes to reporting queries using <code class="docutils literal notranslate"><span class="pre">system_access_policy</span></code><a class="headerlink" href="#changes-to-reporting-queries-using-system-access-policy" title="Permalink to this headline">¶</a></h3>
<p>As part of the support for pool access policies described above, the database
structure for representing system access policies has changed.</p>
<p>If you are running Beaker database queries which join the
<code class="docutils literal notranslate"><span class="pre">system_access_policy</span></code> table in order to filter by access policy rules, you
must update the join condition. Previously the join condition was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">JOIN</span> <span class="n">system_access_policy</span>
<span class="n">ON</span> <span class="n">system</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">system_access_policy</span><span class="o">.</span><span class="n">system_id</span>
</pre></div>
</div>
<p>Replace this with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">JOIN</span> <span class="n">system_access_policy</span>
<span class="n">ON</span> <span class="n">system</span><span class="o">.</span><span class="n">active_access_policy_id</span> <span class="o">=</span> <span class="n">system_access_policy</span><span class="o">.</span><span class="n">id</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="task-and-harness-updates">
<h2>Task and harness updates<a class="headerlink" href="#task-and-harness-updates" title="Permalink to this headline">¶</a></h2>
<p>A new task <code class="docutils literal notranslate"><span class="pre">/distribution/rebuild</span></code> has been published, for experimental mass
rebuilds of the entire distribution from source. See
<a class="reference internal" href="../user-guide/beaker-provided-tasks.html#distribution-rebuild-task"><span class="std std-ref">/distribution/rebuild</span></a>.
(Contributed by Dan Callaghan in <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1183913">#1183913</a>.)</p>
</div>
<div class="section" id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<p>A number of bug fixes are also included in this release:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1207727">#1207727</a>: Fixed a regression in Beaker 19.3 with advanced search,
causing some fields to be incorrectly treated as date fields. (Contributed by
Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1109614">#1109614</a>: The “post-install done” check-in step in Beaker recipe
kickstarts now always appears at the very end of the kickstart. Previously in
some circumstances it would be performed before all post-install actions were
done. (Contributed by Dan Callaghan)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1101817">#1101817</a>: Activity pages no longer display a total count of all
activity records in Beaker, because this is too expensive to compute.
(Contributed by Dan Callaghan)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1122464">#1122464</a>: The <span class="guilabel">Executed Tasks</span> tab on the system page now
cancels previous AJAX requests before submitting new ones. (Contributed by
Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1173376">#1173376</a>: The scheduler now correctly clears the candidate system
mapping for a recipe when it is cancelled or aborted. This prevents a large
number of rows needlessly accumulating in the <code class="docutils literal notranslate"><span class="pre">system_recipe_map</span></code> database
table. (Contributed by Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1149944">#1149944</a>: The administration guide now includes a complete copy of
the <code class="file docutils literal notranslate"><span class="pre">server.cfg</span></code> and <code class="file docutils literal notranslate"><span class="pre">labcontroller.conf</span></code> configuration files,
showing an explanation for each option and its default value. (Contributed by
Dan Callaghan)</li>
</ul>
</div>
<div class="section" id="maintenance-updates">
<h2>Maintenance updates<a class="headerlink" href="#maintenance-updates" title="Permalink to this headline">¶</a></h2>
<p>The following fixes have been included in Beaker 20 maintenance updates.</p>
<div class="section" id="beaker-20-1">
<h3>Beaker 20.1<a class="headerlink" href="#beaker-20-1" title="Permalink to this headline">¶</a></h3>
<p>This release fixes four security vulnerabilities:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1215034">#1215034</a>: Modifying key types and power types is now properly
restricted to Beaker administrators. Previously these operations were
unintentionally available to all users, including anonymous users.
(Contributed by Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1215020">#1215020</a>: DTDs and XML entities are no longer accepted in job XML
submitted to Beaker. This prevents a type of attack called “XXE” where an
authenticated user can cause Beaker to disclose the contents of files on the
server’s filesystem. (Contributed by Dan Callaghan)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1215030">#1215030</a>: Recipe set comments are no longer interpreted as HTML,
they are now interpreted as plain text and HTML characters are escaped. This
prevents authenticated users from performing <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> injection attacks
using recipe set comments. (Contributed by Dan Callaghan)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1215024">#1215024</a>: Closing <code class="docutils literal notranslate"><span class="pre">&lt;/script&gt;</span></code> tags are now properly escaped in the
JavaScript source for the advanced search bar. (Contributed by Dan Callaghan)</li>
</ul>
</div>
<div class="section" id="beaker-20-2">
<h3>Beaker 20.2<a class="headerlink" href="#beaker-20-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1226076">#1226076</a>: Fixed a problem with the handling of <code class="docutils literal notranslate"><span class="pre">&lt;group/&gt;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&lt;pool/&gt;</span></code> elements in <code class="docutils literal notranslate"><span class="pre">&lt;hostRequires/&gt;</span></code> which would cause the filter to
match incorrect systems, and in some cases exhaust temp table space on the
database. (Contributed by Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1212517">#1212517</a>: The <strong class="program">bkr</strong> client is now compatible with the
SSL-related changes in Python&nbsp;2.7.9. (Contributed by Dan Callaghan)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1102442">#1102442</a>: The <strong class="program">bkr system-release</strong> command can now also
release a system which is held by a recipe in Reserved status (using
<code class="docutils literal notranslate"><span class="pre">&lt;reservesys/&gt;</span></code>). (Contributed by Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1181700">#1181700</a>: The <strong class="program">bkr system-power</strong> command now accepts
<a class="reference internal" href="../man/bkr-system-power.html#cmdoption-bkr-system-power-action"><code class="xref std std-option docutils literal notranslate"><span class="pre">--action=none</span></code></a> in conjunction with
<a class="reference internal" href="../man/bkr-system-power.html#cmdoption-bkr-system-power-clear-netboot"><code class="xref std std-option docutils literal notranslate"><span class="pre">--clear-netboot</span></code></a> to allow
clearing a system’s netboot configuration without rebooting it. (Contributed
by Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1128002">#1128002</a>, <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1128004">#1128004</a>: Beaker can now perform automatic hardware
scanning on aarch64 and ppc64le distros. (Contributed by Amit Saha)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1217695">#1217695</a>: The pre-defined host filters for the <a class="reference internal" href="../man/bkr.html#cmdoption-bkr-host-filter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--host-filter</span></code></a> option have been updated to exclude virtualized systems
for CPU-based filters, and a number of new CPU-based filters have been added.
(Contributed by Michael Petlan)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1235317">#1235317</a>: Beaker now treats Red Hat Gluster Storage&nbsp;3 like Red Hat
Enterprise Linux&nbsp;6 for kickstart templating purposes. (Contributed by Dan
Callaghan)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1197074">#1197074</a>: The <code class="docutils literal notranslate"><span class="pre">&lt;or/&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;and/&gt;</span></code> elements now have their
expected effect inside the <code class="docutils literal notranslate"><span class="pre">&lt;disk/&gt;</span></code> element in <code class="docutils literal notranslate"><span class="pre">&lt;hostRequires/&gt;</span></code>.
Previously they were ignored. (Contributed by Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1217158">#1217158</a>: The <a class="reference internal" href="../man/bkr-system-list.html#cmdoption-bkr-system-list-pool"><code class="xref std std-option docutils literal notranslate"><span class="pre">--pool</span></code></a> option
replaces the <a class="reference internal" href="../man/bkr-system-list.html#cmdoption-bkr-system-list-group"><code class="xref std std-option docutils literal notranslate"><span class="pre">--group</span></code></a> option for
<strong class="program">bkr list-systems &lt;bkr system-list&gt;</strong>. The old option is still
accepted as an alias for compatibility. (Contributed by Dan Callaghan)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1219965">#1219965</a>: The kickstart templates now define an EFI System Partition
when using custom partitioning on aarch64, for compatibility with systems
which have UEFI firmware. (Contributed by Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1217283">#1217283</a>: When a user views the list of systems on the pool page,
systems which they do not have permission to view will now appear as
<span class="guilabel">(system with restricted visibility)</span>. (Contributed by Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1213203">#1213203</a>: In the list of systems on the pool page, the Remove button
now correctly appears only when the user has permission to remove the system.
Previously the button would always appear. (Contributed by Matt Jia)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1212725">#1212725</a>: The <strong class="program">bkr</strong> client now reports a meaningful error
message when no configuration file was loaded, rather than attempting to
connect to localhost. (Contributed by Matt Jia)</li>
</ul>
<p>Version 1.2-6 of the <code class="docutils literal notranslate"><span class="pre">/distribution/inventory</span></code> task has also been released:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1211850">#1211850</a>: Fixed false positives in checking if virtualization
features are disabled by the BIOS, which could occur if the system has “kvm”
in its hostname. (Contributed by Amit Saha)</li>
</ul>
<p>Version 4.66 of the <code class="docutils literal notranslate"><span class="pre">rhts</span></code> test development and execution library has also
been released:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1219920">#1219920</a>: The <strong class="program">rhts-lint</strong> command (invoked when building and
uploading task RPMs) now ignores unrecognised fields in <code class="file docutils literal notranslate"><span class="pre">testinfo.desc</span></code>
rather than reporting a warning and failing the build. (Contributed by Dan
Callaghan)</li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1219971">#1219971</a>: Fixed an issue which would cause <strong class="program">make rpm</strong> to
incorrectly attempt to upload the task to Beaker when invoked on a Beaker
test system. (Contributed by Dan Callaghan)</li>
</ul>
</div>
</div>
</div>


  </article>
  <nav class="body_element">
  
  <ul class="breadcrumbs">
    <li><a href="../index.html">Beaker</a></li>
      <li><a href="index.html" >What’s New</a></li>
  </ul>
  <ul class="rellinks">
    <li>
      <a href="release-21.html" title="What’s New in Beaker 21?"
         >previous</a>
    </li>
    <li>
      <a href="release-19.html" title="What’s New in Beaker 19?"
         >next</a>
    </li>
  </ul>
  </nav>
</div>

<!-- XXX make a footer and put it here -->

  </body>
</html>