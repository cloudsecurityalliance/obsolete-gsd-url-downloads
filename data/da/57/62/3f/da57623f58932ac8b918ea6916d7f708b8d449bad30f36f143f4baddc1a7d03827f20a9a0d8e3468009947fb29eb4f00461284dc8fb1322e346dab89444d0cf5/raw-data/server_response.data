
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>PowerDNS Security Advisory 2017-02 for dnsdist: Alteration of ACLs via API authentication bypass &#8212; dnsdist  documentation</title>
    <link rel="stylesheet" href="../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/changelog.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PowerDNS Security Advisory for dnsdist 2018-08: Record smuggling when adding ECS or XPF" href="powerdns-advisory-for-dnsdist-2018-08.html" />
    <link rel="prev" title="PowerDNS Security Advisory 2017-01 for dnsdist: Crafted backend responses can cause a denial of service" href="powerdns-advisory-for-dnsdist-2017-01.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>
<div class="header" role="banner">
  <div class="logo">
    <a href="../index.html">
      <img class="logo" src="../_static/powerdns-logo-trans.png" alt="PowerDNS Logo"/>
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="powerdns-advisory-for-dnsdist-2018-08.html" title="PowerDNS Security Advisory for dnsdist 2018-08: Record smuggling when adding ECS or XPF"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="powerdns-advisory-for-dnsdist-2017-01.html" title="PowerDNS Security Advisory 2017-01 for dnsdist: Crafted backend responses can cause a denial of service"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index_TOC.html">dnsdist  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Security Advisories</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="powerdns-security-advisory-2017-02-for-dnsdist-alteration-of-acls-via-api-authentication-bypass">
<h1>PowerDNS Security Advisory 2017-02 for dnsdist: Alteration of ACLs via API authentication bypass<a class="headerlink" href="#powerdns-security-advisory-2017-02-for-dnsdist-alteration-of-acls-via-api-authentication-bypass" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>CVE: CVE-2017-7557</li>
<li>Date: 2017-08-21</li>
<li>Credit: Nixu</li>
<li>Affects: dnsdist 1.1.0</li>
<li>Not affected: dnsdist 1.0.0, 1.2.0</li>
<li>Severity: Low</li>
<li>Impact: Access restriction bypass</li>
<li>Exploit: This issue can be triggered by tricking an authenticated user into visiting a crafted website</li>
<li>Risk of system compromise: No</li>
<li>Solution: Upgrade to a non-affected version</li>
<li>Workaround: Keep the API read-only (default) via setAPIWritable(false)</li>
</ul>
<p>An issue has been found in dnsdist 1.1.0, in the API authentication mechanism. API methods should only be available to a user authenticated via an X-API-Key HTTP header, and not to a user authenticated on the webserver via Basic Authentication, but it was discovered by Nixu during a source code audit that dnsdist 1.1.0 allows access to all API methods to both kind of users.</p>
<p>In the default configuration, the API does not provide access to more information than the webserver does, and therefore this issue has no security implication. However if the API is allowed to make configuration changes, via the setAPIWritable(true) option, this allows a remote unauthenticated user to trick an authenticated user into editing dnsdist’s ACLs by making him visit a crafted website containing a Cross-Site Request Forgery.</p>
<p>For those unable to upgrade to a new version, a minimal patch is <a class="reference external" href="https://downloads.powerdns.com/patches/2017-02">available for 1.1.0</a></p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index_TOC.html">Table of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">dnsdist Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing dnsdist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running.html">Running and Configuring dnsdist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rules-actions.html">Packet Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistics.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/cache.html">Caching Responses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/carbon.html">Exporting statistics via Carbon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/console.html">Working with the dnsdist Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/dns-over-https.html">DNS-over-HTTPS (DoH)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/dns-over-tls.html">DNS-over-TLS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/dnscrypt.html">DNSCrypt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/downstreams.html">Configuring Downstream Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/dynblocks.html">Dynamic Rule Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/serverpools.html">Server pools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/serverselection.html">Loadbalancing and Server Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/webserver.html">Built-in webserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manpages/index.html">Manual Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade_guide.html">Upgrade Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Security Advisories</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="powerdns-advisory-for-dnsdist-2018-08.html">PowerDNS Security Advisory for dnsdist 2018-08: Record smuggling when adding ECS or XPF</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">PowerDNS Security Advisory 2017-02 for dnsdist: Alteration of ACLs via API authentication bypass</a></li>
<li class="toctree-l2"><a class="reference internal" href="powerdns-advisory-for-dnsdist-2017-01.html">PowerDNS Security Advisory 2017-01 for dnsdist: Crafted backend responses can cause a denial of service</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../common/security-policy.html">PowerDNS Security Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/license.html">PowerDNS/dnsdist license</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eol.html">End of life statements</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="powerdns-advisory-for-dnsdist-2017-01.html"
                        title="previous chapter">PowerDNS Security Advisory 2017-01 for dnsdist: Crafted backend responses can cause a denial of service</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="powerdns-advisory-for-dnsdist-2018-08.html"
                        title="next chapter">PowerDNS Security Advisory for dnsdist 2018-08: Record smuggling when adding ECS or XPF</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/security-advisories/powerdns-advisory-for-dnsdist-2017-02.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="powerdns-advisory-for-dnsdist-2018-08.html" title="PowerDNS Security Advisory for dnsdist 2018-08: Record smuggling when adding ECS or XPF"
             >next</a> |</li>
        <li class="right" >
          <a href="powerdns-advisory-for-dnsdist-2017-01.html" title="PowerDNS Security Advisory 2017-01 for dnsdist: Crafted backend responses can cause a denial of service"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index_TOC.html">dnsdist  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Security Advisories</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015-2021, PowerDNS.COM BV and its contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>