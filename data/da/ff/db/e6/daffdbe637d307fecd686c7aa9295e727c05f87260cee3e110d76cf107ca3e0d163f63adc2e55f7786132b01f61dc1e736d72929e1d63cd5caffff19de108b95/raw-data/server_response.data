<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>Bug 551036 – seahorse shows passwords without verification</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<link href="https://bugzilla.gnome.org/" rel="Top"/>
<link href="showdependencytree.cgi?id=551036&amp;hide_resolved=1" rel="Show" title="Dependency Tree"/>
<link href="show_bug.cgi?format=multiple&amp;id=551036" rel="Show" title="Printer-Friendly Version"/>
<link href="skins/standard/global.css" rel="alternate stylesheet" title="Classic"/><link href="js/yui/assets/skins/sam/autocomplete.css" rel="stylesheet" type="text/css"/><link href="js/yui/assets/skins/sam/calendar.css" rel="stylesheet" type="text/css"/><link href="skins/standard/global.css" rel="stylesheet" type="text/css"/><link href="skins/standard/show_bug.css" rel="stylesheet" type="text/css"/><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css" rel="stylesheet"
        type="text/css" >
<![endif]-->
<link href="skins/contrib/Gnome/global.css" rel="stylesheet" title="Gnome" type="text/css"/>
<script src="js/yui/yahoo-dom-event/yahoo-dom-event.js" type="text/javascript"></script><script src="js/yui/cookie/cookie-min.js" type="text/javascript"></script><script src="js/yui/datasource/datasource-min.js" type="text/javascript"></script><script src="js/yui/connection/connection-min.js" type="text/javascript"></script><script src="js/yui/json/json-min.js" type="text/javascript"></script><script src="js/yui/autocomplete/autocomplete-min.js" type="text/javascript"></script><script src="js/yui/calendar/calendar-min.js" type="text/javascript"></script><script src="js/global.js" type="text/javascript"></script>
<script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 50
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 551036 – seahorse shows passwords without verification",  
                             "show_bug.cgi?id=551036" );
        document.title = "Bug 551036 – seahorse shows passwords without verification";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 551036 – seahorse shows passwords without verification", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script src="js/util.js" type="text/javascript"></script><script src="js/field.js" type="text/javascript"></script>
<link href="./search_plugin.cgi" rel="search" title="GNOME Bugzilla" type="application/opensearchdescription+xml"/>
<link href="images/favicon.ico" rel="shortcut icon"/><link href="extensions/TraceParser/web/style.css" rel="stylesheet" type="text/css"/>
</head>
<body class="bugzilla-gnome-org bz_bug bz_status_RESOLVED bz_product_gnome-keyring bz_component_general bz_bug_551036 yui-skin-sam" onload="">
<div id="header">
<div id="banner">
</div>
<table border="0" cellpadding="0" cellspacing="0" id="titles">
<tr>
<td id="title">
<p>GNOME Bugzilla – Bug 551036</p>
</td>
<td id="subtitle">
<p class="subheader">seahorse shows passwords without verification</p>
</td>
<td id="information">
<p class="header_addl_info">Last modified: 2021-06-18 10:40:48 UTC</p>
</td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" class="bz_default_hidden" id="lang_links_container"><tr><td>
</td></tr></table>
<ul class="links"><li><a href="./">Home</a></li></ul>
</div>
<div id="bugzilla-body">
<div style="margin-bottom: 50px; margin-top: 50px; padding: 40px; text-align: center; background-color: rgb(74,134,207); border: rgb(57,104,161); color: rgb(255,255,255); line-height: 300%;">After an <a href="https://wiki.gnome.org/Initiatives/DevelopmentInfrastructure" style="color: rgb(255,255,255);">evaluation</a>, GNOME has moved from Bugzilla to <a href="https://gitlab.gnome.org/" style="color: rgb(255,255,255);">GitLab</a>. <a href="https://wiki.gnome.org/GitLab" style="color: rgb(255,255,255);">Learn more about GitLab</a>. <br/><span style="background-color: #EE0000; font-size: xx-large;"><b>No new issues can be reported in GNOME Bugzilla anymore.</b></span>
<br/><span style="background-color: #EE0000; font-size: xx-large;"><b>To report an issue in a GNOME project, <a href="https://gitlab.gnome.org/GNOME" style="color: rgb(255,255,255);">go to GNOME GitLab</a></b>.</span><br/>Do <b>not</b> go to GNOME Gitlab for: <a href="https://sourceforge.net/p/bluefish/tickets" style="color: rgb(255,255,255);">Bluefish</a>, <a href="https://github.com/doxygen/doxygen/issues" style="color: rgb(255,255,255);">Doxygen</a>, <a href="https://bugs.gnucash.org/" style="color: rgb(255,255,255);">GnuCash</a>, <a href="https://gitlab.freedesktop.org/gstreamer/" style="color: rgb(255,255,255);">GStreamer</a>, <a href="https://github.com/afcowie/java-gnome/issues" style="color: rgb(255,255,255);">java-gnome</a>, <a href="https://github.com/ldtp/ldtp2/issues" style="color: rgb(255,255,255);">LDTP</a>, <a href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/issues" style="color: rgb(255,255,255);">NetworkManager</a>, <a href="https://github.com/tomboy-notes/tomboy/issues" style="color: rgb(255,255,255);">Tomboy</a>.</div>
<script type="text/javascript">
<!--

//-->
</script>
<form action="process_bug.cgi" id="changeform" method="post" name="changeform">
<input name="delta_ts" type="hidden" value="2021-06-18 10:40:48"/>
<input name="longdesclength" type="hidden" value="22"/>
<input name="id" type="hidden" value="551036"/>
<input name="token" type="hidden" value="1626106461-mIXv4PSqFqgSFYEAhPWg72YThWVBmjK-b0FDWOpPSPk"/>
<div class="bz_alias_short_desc_container edit_form">
<a href="show_bug.cgi?id=551036"><b>Bug 551036</b></a> -<span class="bz_default_hidden" id="summary_alias_container">
<span id="short_desc_nonedit_display">seahorse shows passwords without verification</span>
</span>
<div id="summary_alias_input">
<table id="summary">
<tr>
<td colspan="2">
</td>
</tr>
<tr><th class="field_label" id="field_label_short_desc">
<label accesskey="s" for="short_desc">
<a class="field_help_link" href="page.cgi?id=fields.html#short_desc" title="The bug summary is a short sentence which succinctly describes what the bug is about.">Summary:</a>
</label>
</th>
<td>seahorse shows passwords without verification
          </td>
</tr>
</table>
</div>
</div>
<script type="text/javascript">
    hideAliasAndSummary('seahorse shows passwords without verification', '');
  </script>
<table class="edit_form">
<tr>
<td class="bz_show_bug_column" id="bz_show_bug_column_1">
<table>
<tr>
<th class="field_label">
<a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
<td id="bz_field_status">
<span id="static_bug_status">RESOLVED
          OBSOLETE
      </span>
</td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_product">
<a class="field_help_link" href="describecomponents.cgi" title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list.">Product:</a>
</th>
<td class="field_value" id="field_container_product">gnome-keyring</td>
</tr>
<tr class="bz_default_hidden"><th class="field_label" id="field_label_classification">
<a class="field_help_link" href="page.cgi?id=fields.html#classification" title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.">Classification:</a>
</th>
<td class="field_value" id="field_container_classification">Core</td>
</tr>
<tr><th class="field_label" id="field_label_component">
<a class="field_help_link" href="describecomponents.cgi?product=gnome-keyring" title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.">Component:</a>
</th>
<td class="field_value" id="field_container_component">general</td>
</tr>
<tr><th class="field_label" id="field_label_version">
<label for="version">
<a class="field_help_link" href="page.cgi?id=fields.html#version" title="The version field defines the version of the software the bug was found in.">Version:</a>
</label>
</th>
<td>git master
  </td>
</tr>
<tr><th class="field_label" id="field_label_rep_platform">
<label accesskey="h" for="rep_platform">
<a class="field_help_link" href="page.cgi?id=fields.html#rep_platform" title='The hardware platform the bug was observed on. Note: When searching, selecting the option "All" only finds bugs whose value for this field is literally the word "All".'>Hardware:</a>
</label>
</th>
<td class="field_value">Other
       All
      </td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr>
<th class="field_label">
<label accesskey="i" for="priority">
<a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
<td>Normal
       normal
      </td>
</tr>
<tr>
<th class="field_label">
<label for="target_milestone">
<a href="page.cgi?id=fields.html#target_milestone">
            Target Milestone</a></label>:
        </th><td>---
  </td>
</tr>
<tr>
<th class="field_label">
<a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
<td><span class="vcard"><span class="fn">GNOME keyring maintainer(s)</span>
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_qa_contact">
<label accesskey="q" for="qa_contact">
<a class="field_help_link" href="page.cgi?id=fields.html#qa_contact" title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.">QA Contact:</a>
</label>
</th>
<td><span class="vcard"><span class="fn">GNOME keyring maintainer(s)</span>
</span>
</td>
</tr>
<script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'gnome-keyring-maint\x40gnome.bugs',
        'gnome-keyring-maint\x40gnome.bugs');
    </script>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_bug_file_loc">
<label accesskey="u" for="bug_file_loc">
<a class="field_help_link" href="page.cgi?id=fields.html#bug_file_loc" title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.">URL:</a>
</label>
</th>
<td>
<span id="bz_url_input_area">
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_status_whiteboard">
<label accesskey="w" for="status_whiteboard">
<a class="field_help_link" href="page.cgi?id=fields.html#status_whiteboard" title="Each bug has a free-form single line text entry box for adding tags and status information.">Whiteboard:</a>
</label>
</th><td colspan="2">
</td>
</tr>

<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr>
<th class="field_label">
<label for="duplicates">Duplicates</label>:
    </th>
<td class="field_value" colspan="2">
<span id="duplicates"><a class="bz_bug_link bz_status_RESOLVED bz_closed" href="show_bug.cgi?id=583484" title="RESOLVED DUPLICATE - seahorse allows application access to keyring without password">583484</a> <a class="bz_bug_link bz_status_RESOLVED bz_closed" href="show_bug.cgi?id=617332" title="RESOLVED DUPLICATE - Gnome keyring passwords exposed">617332</a>
</span>
      (<a href="buglist.cgi?bug_id=583484,617332">view as bug list</a>)
    </td>
</tr>
<tr><th class="field_label" id="field_label_dependson">
<a class="field_help_link" href="page.cgi?id=fields.html#dependson" title="The bugs listed here must be resolved before this bug can be resolved.">Depends on:</a>
</th>
<td>
<span id="dependson_input_area">
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_blocked">
<a class="field_help_link" href="page.cgi?id=fields.html#blocked" title="This bug must be resolved before the bugs listed in this field can be resolved.">Blocks:</a>
</th>
<td>
<span id="blocked_input_area">
</span>
</td>
</tr>
<tr>
<th> </th>

</tr>
</table>
</td>
<td>
<div class="bz_column_spacer"> </div>
</td>
<td class="bz_show_bug_column" id="bz_show_bug_column_2">
<table cellpadding="3" cellspacing="1">
<tr>
<th class="field_label">
      Reported:
    </th>
<td>2008-09-05 19:31 UTC by <span class="vcard"><span class="fn">Andreas Moog</span>
</span>
</td>
</tr>
<tr>
<th class="field_label">
      Modified:
    </th>
<td>2021-06-18 10:40 UTC 
    </td>
</tr>

<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_see_also">
<a class="field_help_link" href="page.cgi?id=fields.html#see_also" title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.">See Also:</a>
</th>
<td class="field_value" id="field_container_see_also"></td>
</tr>
<tr><th class="field_label" id="field_label_cf_gnome_target">
<a class="field_help_link" href="page.cgi?id=fields.html#cf_gnome_target" title="A custom Drop Down field in this installation of GNOME Bugzilla.">GNOME target:</a>
</th>
<td class="field_value" colspan="2" id="field_container_cf_gnome_target">---</td>
</tr>
<tr><th class="field_label" id="field_label_cf_gnome_version">
<a class="field_help_link" href="page.cgi?id=fields.html#cf_gnome_version" title="A custom Drop Down field in this installation of GNOME Bugzilla.">GNOME version:</a>
</th>
<td class="field_value" colspan="2" id="field_container_cf_gnome_version">---</td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="3">
<hr id="bz_top_half_spacer"/>
</td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" id="bz_big_form_parts"><tr>
<td>
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>
<br/>

<br/>
</td>
<td>
</td>
</tr></table>
<div id="comments"><script src="js/comments.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>
<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table cellpadding="0" cellspacing="0" class="bz_comment_table"><tr>
<td>
<div class="bz_comment bz_first_comment" id="c0">
<div class="bz_first_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c0">Description</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Andreas Moog</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2008-09-05 19:31:42 UTC
        </span>
</div>
<pre class="bz_comment_text">Please describe the problem:
When I log in the first time, I get asked for my password to access the wireless network.

Then any time later I can run seahorse (without authentication) and go and look at my wireless password (password tab / passphrase for wireless network / properties). It just asks me 'Do you want to allow access?' and if I say yes (ie 'Allow Once' or 'Allow Always'), it doesn't ask for authentication or anything, it just shows the password.

Isn't this a security problem?

If I reboot just X with CTRL-ALT-BS and log in again, when I run seahorse it asks me for authentication to run it, but after a full reboot it doesn't ask for any authentication.

I have automatic login enabled (so on full reboot I don't need to login via the X login window) if that makes any difference.

Steps to reproduce:


Actual results:


Expected results:


Does this happen every time?
Yes

Other information:
This bug was reported on Launchpad:
<a href="https://bugs.edge.launchpad.net/ubuntu/+source/seahorse/+bug/189774">https://bugs.edge.launchpad.net/ubuntu/+source/seahorse/+bug/189774</a></pre>
</div><div class="bz_comment" id="c1">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c1">Comment 1</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Pierre Mazoyer</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2008-11-24 19:26:08 UTC
        </span>
</div>
<pre class="bz_comment_text">I can confirm this too. The "Show in clear text" check box is very very unsecure.

Anyone having access to your computer can sit, run seahorse and READ YOUR PASSWORDS IN CLEAR TEXT stored in the 'login' keyring after having clicked 'Allow Once' or 'Allow Always' in the unsafe 'Do you want to allow access?' dialog.

I checked how this issue is handled in Mac OS X's keyring application and it solves the problem by always asking keyring's unlock password if you request to read a password in clear text.

To summarize:

Every time a user wants to read a password in clear text, seahorse SHOULD ALWAYS request keyring's unlock password before displaying it.</pre>
</div><div class="bz_comment" id="c2">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c2">Comment 2</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Stef Walter</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2008-12-11 20:37:23 UTC
        </span>
</div>
<pre class="bz_comment_text">I agree this is a problem. It's a difficult one to solve. There are also extreme wishes on teh other side: <a href="http://bugzilla.gnome.org/show_bug.cgi?id=533493">http://bugzilla.gnome.org/show_bug.cgi?id=533493</a></pre>
</div><div class="bz_comment" id="c3">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c3">Comment 3</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Colin Walters</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2008-12-11 20:50:11 UTC
        </span>
</div>
<pre class="bz_comment_text">Remember, anyone having access to your computer (X session) can also install a keylogger trojan.

We already have a password entry field protecting private data for a running session - it's called gnome-screensaver.</pre>
</div><div class="bz_comment" id="c4">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c4">Comment 4</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Pierre Mazoyer</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2008-12-12 07:25:57 UTC
        </span>
</div>
<pre class="bz_comment_text">I agree anyone having access to the computer can do nasty things, but on the other hand, practically, leaving access to a computer in a family to friends or other people without a specific login is also quite common for normal house users who are not "paranoid" (please see no offense in this expression).

One way to solve this issue is to remove the "Show password in clear text" feature from seahorse. This especially make sense if seahorse goal is to store application passwords.

But I admit that in rare cases, it is useful to read the password in clear text "because we have forgotten it as we do not type it very often". In this case, I suggest that seahorse always request keyring's unlock password for the operation. (The "Allow once/always/Deny" dialog is not useful here).</pre>
</div><div class="bz_comment" id="c5">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c5">Comment 5</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Andrej Zirko</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2008-12-12 17:31:22 UTC
        </span>
</div>
<pre class="bz_comment_text">I agree that Show password in clear text is very insecure. One thing is when somebody gets access to my computer and read my email once, other thing is when he writes down a password(with ease thanks to seahorse) and browse my email from anywhere. Fixing this issue is so simple - just ask for password before displaying the password.</pre>
</div><div class="bz_comment" id="c6">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c6">Comment 6</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Adam Schreiber</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2008-12-12 19:51:51 UTC
        </span>
</div>
<pre class="bz_comment_text">It's not very, very simple, and I believe that stems from some confusion  as to what's happening.  gnome-keyring stores the secrets and access control lists about applications and what they can do with each secret (read, write, delete).  The dialog presented when the password expander is toggled comes from gnome-keyring and is giving seahorse one time or all time access to the secret but doesn't ask seahorse what it's doing with the secret (using it, displaying it).  This is the exact same dialog any application/user querying the keyring would recieve when your keyring is unlocked.

If your distribution or self install uses the PAM module, your keyring is unlocked when you login, locked when your screen is locked, unlocked when you unlock your screen and locked when you log out.  This is usability at the cost of security (i.e. you don't have to enter the unlock password after logging in).  You can easily disable this feature by changing the password of your keyring to something other than your login password or disabling the PAM module.  You will now be asked to unlock your keyring every time an application wants to use a secret (including right after login when NM wants to connect to your secured wireless network).

There is no "right" security model for everyone and perhaps the real solution is to have the screen lock by default when the screensaver engages so that the default security model is more consistent.  Like Pierre said anyone with X access to your computer can do plenty of nasty things, including query gnome-keyring from the command line or run an application to get the same info as seahorse.</pre>
</div><div class="bz_comment" id="c7">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c7">Comment 7</a>
</span>
<span class="bz_comment_user">
<span class="vcard">xtera
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2009-03-19 02:18:46 UTC
        </span>
</div>
<pre class="bz_comment_text">I see now how complicated this problem is to solve.
Apparently the problem lies on different security approach that gnome-keyring use than others.

Is it possible to make Seahorse ALWAYS trigger prompt for password when the user want reveal the password in clear text? I think it does.

The primary goal of this issue is to prevent the password from being stolen by ordinary non-skilled users. So any password-access solution should do. It doesn't have to be encrypted or so.</pre>
</div><div class="bz_comment" id="c8">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c8">Comment 8</a>
</span>
<span class="bz_comment_user">
<span class="vcard">xtera
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2009-03-19 02:32:01 UTC
        </span>
</div>
<pre class="bz_comment_text">If I see Firefox's security model. I think it looks similar with gnome-keyring.

In Firefox, when master password are set, revealing password in clear text requires master password.

I think that is quite good solution if can be applied nicely.</pre>
</div><div class="bz_comment" id="c9">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c9">Comment 9</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Pierre Mazoyer</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2009-03-19 10:28:59 UTC
        </span>
</div>
<pre class="bz_comment_text">Ok if I understand well what Adam says, when keyring is unlocked, any program having the read access right for a secret can read it from gnome-keyring.
If the program does not have read right, the "Allow/Deny" dialog pops up and the user can grant it this right (temporarily or permanently) **without entering keyring's password**.

Maybe a solution would be to always request keyring's password to "Allow (once or always)" a program that has no right so far to read a secret, **even if keyring is unlocked**.
If "Allow Once" is chosen and keyring's password is correct, read right is granted for this time but program is not added in access control list for this secret.
If "Allow Always" is chosen and keyring's password is correct, program is granted read right in access control list for this secret and future read attempts would be always be granted if keyring is unlocked.
It would be user responsibility to not "Allow always" a program that should not be allowed to access a secret permanently if keyring is unlocked.

If gnome-keyring worked this way, clicking "Show in clear text" in Seahorse would pop up the Allow Once/Always/Deny dialog with an additional password field requesting keyring's password to perform any "Allow" action (once again **even if keyring would be unlocked**). It would be user responsibility to allow only once access to seahorse to avoid future unwanted reads.

To summarize in another way, unlocking keyring would grant any program with permanent rights to do what they are allowed to but **not to add new rights (temporarily or permanently) to a program without requesting keyring password again**.

Does it make sense?</pre>
</div><div class="bz_comment" id="c10">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c10">Comment 10</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Stef Walter</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2009-03-20 21:25:23 UTC
        </span>
</div>
<pre class="bz_comment_text">Linking some interesting reads, before continuing this discussion. Especially the point about, put another way, on most Linux desktops, the entire login session is one security context. 

<a href="http://live.gnome.org/GnomeKeyring/SecurityPhilosophy">http://live.gnome.org/GnomeKeyring/SecurityPhilosophy</a>

<a href="http://live.gnome.org/GnomeKeyring/StoringSecrets">http://live.gnome.org/GnomeKeyring/StoringSecrets</a>

</pre>
</div><div class="bz_comment" id="c11">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c11">Comment 11</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Adam Schreiber</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2009-05-21 18:25:10 UTC
        </span>
</div>
<pre class="bz_comment_text">*** <a class="bz_bug_link bz_status_RESOLVED bz_closed" href="show_bug.cgi?id=583484" title="RESOLVED DUPLICATE - seahorse allows application access to keyring without password">Bug 583484</a> has been marked as a duplicate of this bug. ***</pre>
</div><div class="bz_comment" id="c12">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c12">Comment 12</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Daniel</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2009-08-28 14:33:22 UTC
        </span>
</div>
<pre class="bz_comment_text">I wrote this on the ubuntu branch of this bug to escalate the seriousness of this flaw:
==============================================================
I see this as a VERY serious security flaw!

Given that Empathy Instant Messenger is going to be the default messenger in the next Ubuntu Release, I thought I'd check it out. While setting up my gmail and msn accounts I noticed that it was saving the passwords in the public keyring. It was also giving the familiar quickAllow ("Deny","Allow Once", "AllowAll") dialog when starting up the program and connecting to these accounts. No prompting for any password to protect the keyring.

Given that this was being stored in a public keyring, I wanted to see how easy it was to find these password. I open up sea horse, and hey presto! My passwords to gmail and msn are available for all to see for someone who might be strolling around my workstation/laptop while i'm not there, (if I forget to log out or lock)... using the quickAllow dialog.

Now if someone finds my wireless network key, I don't really care in the scheme of things, even if they use my network to commit bad acts, it happens often enough that I'm unlikely to be penalized. However! I and most people have very sensitive information in our webmail accounts and easy access to them is definitely something I'd like to avoid.

It looks like the quickAllow dialog is from some common library that both applications call into. Please can this prompt for a password, the same way as critical updates do!!!

Thank you.
==============================================================

Okay.  I've now read through the complications of this process on the gnome bugzilla page, including the links GnomeKeyring Security Philosophies.

Quite simply, you cannot solve this problem in a way that solves both -usability- concerns and -security- concerns if you don't have Security Contexts for different apps AND Acls for different apps to remember which ones can access what (require passwords, always have a access to passwords).

It seems to me that the section about Active attacks expresses the attitude that up till now endeavouring to provide these functionalities has not been worthwhile. Hopefully this opinion will change now that it will become far more common for sensitive information to be stored in the GnomeKeyring.

Re:Firefox
I was dismayed to find that firefox allows all passwords to be displayed through the UI by default. Of course I knew since there was no prompting for a master password initially that it was possible to get to the data, I didn't think that it would be so easy through the UI. I regard this as the App giving a false sense of security. After managing to steal some co-workers passwords and showing them, I've now set a master password for the few passwords I save in the app.</pre>
</div><div class="bz_comment" id="c13">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c13">Comment 13</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Mark Edgington</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2009-11-04 09:43:58 UTC
        </span>
</div>
<pre class="bz_comment_text">A possibly interesting solution is outlined in the following comment:
<a href="https://bugs.launchpad.net/ubuntu/+source/seahorse/+bug/189774/comments/9">https://bugs.launchpad.net/ubuntu/+source/seahorse/+bug/189774/comments/9</a>

It involves using policykit to enable keyring access for only predesignated apps.</pre>
</div><div class="bz_comment" id="c14">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c14">Comment 14</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Stef Walter</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2009-11-04 14:33:13 UTC
        </span>
</div>
<pre class="bz_comment_text">That solution involves running gnome-keyring as root, as a system service rather than in the user session. An interesting solution none the less, and we can look into the benefits and drawbacks. But it's important to realize this is a complete architecture change, and would require lots of redesign and recoding.</pre>
</div><div class="bz_comment" id="c15">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c15">Comment 15</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Dave Lillis</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2009-11-27 02:36:10 UTC
        </span>
</div>
<pre class="bz_comment_text">Can somebody please explain why there is a GUI option to display passwords in plain text in the first place, regardless of what how you may gain access to it?</pre>
</div><div class="bz_comment" id="c16">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c16">Comment 16</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Elias K Gardner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2009-12-02 03:44:41 UTC
        </span>
</div>
<pre class="bz_comment_text">Wouldn't this be much simpler if it were a bug in seahorse instead of gnome-keyring?

Seahorse should simply be expected to prompt for a password before displaying a key's plain text password. Gnome-keyring's behavior does not need to be changed it will still display the deny, allow once or always prompt as it should. Getting two prompts is a little annoying but is a better solution than having passwords in plain sight.

I would like to welcome anybody in my house to use my computer which seems stupid if its that easy to access all of my passwords.

<a href="mailto:ishnid@gmail.com">ishnid@gmail.com</a>: it is very helpful to be able to see passwords in plain text occasionally. For example if a friend wants to get on my wifi network it is much better and easier to have the password on my computer than to need to find it written in my house somewhere.</pre>
</div><div class="bz_comment" id="c17">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c17">Comment 17</a>
</span>
<span class="bz_comment_user">
<span class="vcard">arielgnu
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2011-05-06 19:39:17 UTC
        </span>
</div>
<pre class="bz_comment_text">I know there must be hundreds of ways to get your privacy compromise if
some one uses your computer while you are gone, but you don't have to be
a computer genius to open seahorse in less than 30 secs. In my opinion,
there is different computer levels, I feel I'm just in the desktop
level, and the fact that using the mouse is all you have to know to open
seahorse and watch somebody else password doesn't feel right to me.</pre>
</div><div class="bz_comment" id="c18">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c18">Comment 18</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Aaron</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2011-05-17 20:15:22 UTC
        </span>
</div>
<pre class="bz_comment_text">We are not allowed to give our users the WIFI Code. We set it up for them and they should not be able to access it but the keyring allows them to see the code in plain text. and without access to the keyring they cant access the WIFI. Its Simply a deal breaker for using linux in our environment.</pre>
</div><div class="bz_comment" id="c19">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c19">Comment 19</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Colin Walters</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2011-05-17 21:49:21 UTC
        </span>
</div>
<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=551036#c18">comment #18</a>)
<span class="quote">&gt; We are not allowed to give our users the WIFI Code. We set it up for them and
&gt; they should not be able to access it but the keyring allows them to see the
&gt; code in plain text. and without access to the keyring they cant access the
&gt; WIFI. Its Simply a deal breaker for using linux in our environment.</span>

I think you might be able to restrict this with NetworkManager 0.9 since the connections are system wide, not per user.</pre>
</div><div class="bz_comment" id="c20">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c20">Comment 20</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">André Klapper</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2011-11-26 20:48:27 UTC
        </span>
</div>
<pre class="bz_comment_text">*** <a class="bz_bug_link bz_status_RESOLVED bz_closed" href="show_bug.cgi?id=617332" title="RESOLVED DUPLICATE - Gnome keyring passwords exposed">Bug 617332</a> has been marked as a duplicate of this bug. ***</pre>
</div><div class="bz_comment" id="c21">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=551036#c21">Comment 21</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">André Klapper</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2021-06-18 10:40:48 UTC
        </span>
</div>
<pre class="bz_comment_text">GNOME is going to shut down bugzilla.gnome.org in favor of gitlab.gnome.org.
As part of that, we are mass-closing older open tickets in bugzilla.gnome.org
which have not seen updates for a longer time (resources are unfortunately
quite limited so not every ticket can get handled).

If you can still reproduce the situation described in this ticket in a recent
and supported software version, then please follow
  <a href="https://wiki.gnome.org/GettingInTouch/BugReportingGuidelines">https://wiki.gnome.org/GettingInTouch/BugReportingGuidelines</a>
and create a new ticket at
  <a href="https://gitlab.gnome.org/GNOME/gnome-keyring/-/issues/">https://gitlab.gnome.org/GNOME/gnome-keyring/-/issues/</a>

Thank you for your understanding and your help.</pre>
</div>
<script type="text/javascript">
  function traceparser_toggle_trace(link, trace_id) {
    var trace = document.getElementById('trace_' + trace_id);
    bz_toggleClass(trace, 'bz_default_hidden');
    if (link.innerHTML == '+') { link.innerHTML = '&mdash;'; }
    else { link.innerHTML = '+'; }
  }
</script>
</td>
<td>
</td>
</tr></table>
</div>
<hr/>
</form>
<hr/>

<br/>
</div>
<div id="footer">
<div class="intro"></div>
<ul id="useful-links">
<li id="links-actions"><ul class="links">
<li><a href="./">Home</a></li>
<li><span class="separator">| </span><span style="text-decoration:line-through"><a href="">New</a></span></li>
<li><span class="separator">| </span><a href="page.cgi?id=browse.html&amp;product=gnome-keyring">Browse</a></li>
<li><span class="separator">| </span><a href="query.cgi">Search</a></li>
<li class="form">
<span class="separator">| </span>
<form action="buglist.cgi" method="get" onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
<input id="no_redirect_bottom" name="no_redirect" type="hidden" value="0"/>
<script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
<input class="txt" id="quicksearch_bottom" name="quicksearch" title="Quick Search" type="text" value=""/>
<input class="btn" id="find_bottom" type="submit" value="Search"/></form>
<a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>
<li><span class="separator">| </span><a href="page.cgi?id=reports.html">Reports</a></li>
<li>
<span class="separator">| </span>
<a href="http://www.bugzilla.org/docs/4.4/en/html/bug_page.html" target="_blank">Help</a>
</li>
<li id="mini_login_container_bottom">
<span class="separator">| </span>
<a href="show_bug.cgi?id=551036&amp;GoAheadAndLogIn=1" id="login_link_bottom" onclick="return show_mini_login_form('_bottom')">Log In</a>
<form action="show_bug.cgi?id=551036" class="mini_login bz_default_hidden" id="mini_login_bottom" method="POST" onsubmit="return check_mini_login_fields( '_bottom' );">
<input class="bz_login" id="Bugzilla_login_bottom" name="Bugzilla_login" onfocus="mini_login_on_focus('_bottom')" title="Login"/>
<input class="bz_password" id="Bugzilla_password_bottom" name="Bugzilla_password" title="Password" type="password"/>
<input class="bz_password bz_default_hidden bz_mini_login_help" id="Bugzilla_password_dummy_bottom" onfocus="mini_login_on_focus('_bottom')" title="Password" type="text" value="password"/>
<input checked="" class="bz_remember" id="Bugzilla_remember_bottom" name="Bugzilla_remember" type="checkbox" value="on"/>
<label for="Bugzilla_remember_bottom">Remember</label>
<input name="Bugzilla_login_token" type="hidden" value=""/>
<input id="log_in_bottom" name="GoAheadAndLogIn" type="submit" value="Log in"/>
<script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_bottom');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_bottom');
              }, 200);
          });
    }
    </script>
<a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
</form>
</li>
<li id="forgot_container_bottom">
<span class="separator">| </span>
<a href="show_bug.cgi?id=551036&amp;GoAheadAndLogIn=1#forgot" id="forgot_link_bottom" onclick="return show_forgot_form('_bottom')">Forgot Password</a>
<form action="token.cgi" class="mini_forgot bz_default_hidden" id="forgot_form_bottom" method="post">
<label for="login_bottom">Login:</label>
<input id="login_bottom" name="loginname" size="20" type="text"/>
<input id="forgot_button_bottom" type="submit" value="Reset Password"/>
<input name="a" type="hidden" value="reqpw"/>
<input id="token_bottom" name="token" type="hidden" value="1626106462-M4HaPLEfxdsEDKSQtqaqDgkBfLQCGQIQKgvqBWlzUQM"/>
<a href="#" onclick="return hide_forgot_form('_bottom')">[x]</a>
</form>
</li>
</ul>
</li>
</ul>
<div class="outro"></div>
</div>
</body>
</html>