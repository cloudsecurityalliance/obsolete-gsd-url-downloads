<!DOCTYPE html>
<html lang="en">
<head>

    <title>Zulip Server 2.1.5 security release</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=efb38549fb" />

    <link rel="canonical" href="https://blog.zulip.com/2020/06/17/zulip-server-2-1-5-security-release/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    
    <meta property="og:site_name" content="The Zulip Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Zulip Server 2.1.5 security release" />
    <meta property="og:description" content="We released Zulip Server 2.1.5 today. This is a security release, containing a dozen cherry-picked changes since Zulip Server 2.1.4. What’s newThis releases fixes several important bugs in previous versions of Zulip. It contains fixes for the following issues: CVE-2020-12759: Fix reflected XSS vulnerability in" />
    <meta property="og:url" content="https://blog.zulip.com/2020/06/17/zulip-server-2-1-5-security-release/" />
    <meta property="og:image" content="https://blog.zulip.com/content/images/2020/07/newblogfeature-image-2.png" />
    <meta property="article:published_time" content="2020-06-17T06:46:25.000Z" />
    <meta property="article:modified_time" content="2021-03-20T01:49:56.000Z" />
    <meta property="article:tag" content="Release announcements" />
    <meta property="article:tag" content="Security" />
    
    <meta property="article:publisher" content="https://www.facebook.com/zulipchat/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Zulip Server 2.1.5 security release" />
    <meta name="twitter:description" content="We released Zulip Server 2.1.5 today. This is a security release, containing a dozen cherry-picked changes since Zulip Server 2.1.4. What’s newThis releases fixes several important bugs in previous versions of Zulip. It contains fixes for the following issues: CVE-2020-12759: Fix reflected XSS vulnerability in" />
    <meta name="twitter:url" content="https://blog.zulip.com/2020/06/17/zulip-server-2-1-5-security-release/" />
    <meta name="twitter:image" content="https://blog.zulip.com/content/images/2020/07/newblogfeature-image-1.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Tim Abbott" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Release announcements, Security" />
    <meta name="twitter:site" content="@zulip" />
    <meta name="twitter:creator" content="@tabbott3" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="628" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "The Zulip Blog",
        "url": "https://blog.zulip.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.zulip.com/content/images/2021/04/zulip-logo-1.svg"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Tim Abbott",
        "image": {
            "@type": "ImageObject",
            "url": "https://blog.zulip.com/content/images/2020/05/avatar-medium.png",
            "width": 500,
            "height": 500
        },
        "url": "https://blog.zulip.com/author/tabbott/",
        "sameAs": [
            "https://zulip.com",
            "https://twitter.com/tabbott3"
        ]
    },
    "headline": "Zulip Server 2.1.5 security release",
    "url": "https://blog.zulip.com/2020/06/17/zulip-server-2-1-5-security-release/",
    "datePublished": "2020-06-17T06:46:25.000Z",
    "dateModified": "2021-03-20T01:49:56.000Z",
    "keywords": "Release announcements, Security",
    "description": "We released Zulip Server 2.1.5 today. This is a security release, containing a\ndozen cherry-picked changes since Zulip Server 2.1.4.\n\nWhat’s new\nThis releases fixes several important bugs in previous versions of Zulip. It\ncontains fixes for the following issues:\n\n * CVE-2020-12759: Fix reflected XSS vulnerability in Dropbox webhook.\n * CVE-2020-14194: Prevent reverse tabnapping via topic header links.\n * CVE-2020-14215: Fixed use of invitation role data from expired invitations on\n   signup via ",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.zulip.com/"
    }
}
    </script>

    <meta name="generator" content="Ghost 4.20" />
    <link rel="alternate" type="application/rss+xml" title="The Zulip Blog" href="https://blog.zulip.com/rss/" />
    <script defer src="https://unpkg.com/@tryghost/portal@~1.12.0/umd/portal.min.js" data-ghost="https://blog.zulip.com/" crossorigin="anonymous"></script><style id="gh-members-styles">.gh-post-upgrade-cta-content,
.gh-post-upgrade-cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    text-align: center;
    width: 100%;
    color: #ffffff;
    font-size: 16px;
}

.gh-post-upgrade-cta-content {
    border-radius: 8px;
    padding: 40px 4vw;
}

.gh-post-upgrade-cta h2 {
    color: #ffffff;
    font-size: 28px;
    letter-spacing: -0.2px;
    margin: 0;
    padding: 0;
}

.gh-post-upgrade-cta p {
    margin: 20px 0 0;
    padding: 0;
}

.gh-post-upgrade-cta small {
    font-size: 16px;
    letter-spacing: -0.2px;
}

.gh-post-upgrade-cta a {
    color: #ffffff;
    cursor: pointer;
    font-weight: 500;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a:hover {
    color: #ffffff;
    opacity: 0.8;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a.gh-btn {
    display: block;
    background: #ffffff;
    text-decoration: none;
    margin: 28px 0 0;
    padding: 8px 18px;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 600;
}

.gh-post-upgrade-cta a.gh-btn:hover {
    opacity: 0.92;
}</style>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-79921909-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-79921909-4');
</script>
<style>
  h1 {
     font-size: 3.6rem; 
  }
  blockquote p { font-size: inherit; }
  blockquote span.quote_author { font-style: normal }
  img.image-wide-only {
    float: right;
    margin-left: 20px;
    left: 0;
    transform: none;
    -webkit-transform: none;
    max-width: 300px;
    height: auto;
  }

  img.image-always, img.image-narrow-only {
    max-height: 400px;
    width: auto;
  }

  img.image-narrow-only {
    display: none;
    width: 320px;
  }

  img.image-always {
    display: block;
  }

  @media (max-width: 650px) {
    img.image-narrow-only { display: block; }
    img.image-wide-only { display: none !important; }
  }
</style><style>:root {--ghost-accent-color: #6492fe;}</style>

</head>
<body class="post-template tag-release-announcements tag-security">
<div class="viewport">

    <header id="gh-head" class="gh-head has-cover">
        <nav class="gh-head-inner inner gh-container">

            <div class="gh-head-brand">
                <a class="gh-head-logo" href="https://blog.zulip.com">
                        <img src="https://blog.zulip.com/content/images/2021/04/zulip-logo-1.svg" alt="The Zulip Blog" />
                </a>
                <a class="gh-burger" role="button">
                    <div class="gh-burger-box">
                        <div class="gh-burger-inner"></div>
                    </div>
                </a>
            </div>
            <div class="gh-head-menu">
                <ul class="nav">
    <li class="nav-github"><a href="https://github.com/zulip">GitHub</a></li>
    <li class="nav-zulip-com"><a href="https://zulip.com">zulip.com</a></li>
    <li class="nav-twitter"><a href="https://twitter.com/zulip">Twitter</a></li>
</ul>

            </div>
            <div class="gh-head-actions">
                <div class="gh-social">
                        <a class="gh-social-facebook" href="https://www.facebook.com/zulipchat/" title="Facebook" target="_blank" rel="noopener"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm5.204 4.911h-3.546c-2.103 0-4.443.885-4.443 3.934.01 1.062 0 2.08 0 3.225h-2.433v3.872h2.509v11.147h4.61v-11.22h3.042l.275-3.81h-3.397s.007-1.695 0-2.187c0-1.205 1.253-1.136 1.329-1.136h2.054V4.911z" /></svg></a>
                        <a class="gh-social-twitter" href="https://twitter.com/zulip" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
                </div>

                    <a class="gh-head-button" href="#/portal/signup">Subscribe</a>
            </div>
        </nav>
    </header>

    <div class="site-content">
        



<main id="site-main" class="site-main">
    <article class="article post tag-release-announcements tag-security no-image">

        <header class="article-header gh-canvas">

            <section class="article-tag">
                <a href="https://blog.zulip.com/tag/release-announcements/">Release announcements</a>
            </section>

            <h1 class="article-title">Zulip Server 2.1.5 security release</h1>


            <div class="article-byline">
                <section class="article-byline-content">
                    <ul class="author-list">
                        <li class="author-list-item">
                            <a href="/author/tabbott/" class="author-avatar">
                                <img class="author-profile-image" src="/content/images/size/w100/2020/05/avatar-medium.png" alt="Tim Abbott" />
                            </a>
                        </li>
                    </ul>
                    <div class="article-byline-meta">
                        <h4 class="author-name"><a href="/author/tabbott/">Tim Abbott</a></h4>
                        <div class="byline-meta-content">
                            <time class="byline-meta-date" datetime="2020-06-16">Jun 16, 2020</time>
                            <span class="byline-reading-time"><span class="bull">&bull;</span> 3 min read</span>
                        </div>
                    </div>
                </section>
            </div>

        </header>

        <section class="gh-content gh-canvas">
            <p>We released Zulip Server 2.1.5 today. This is a security release, containing a dozen cherry-picked changes since Zulip Server 2.1.4.</p><h2 id="what-s-new">What’s new</h2><p>This releases fixes several important bugs in previous versions of Zulip. It contains fixes for the following issues:</p><ul><li>CVE-2020-12759: Fix reflected XSS vulnerability in Dropbox webhook.</li><li>CVE-2020-14194: Prevent reverse tabnapping via topic header links.</li><li>CVE-2020-14215: Fixed use of invitation role data from expired invitations on signup via external authentication methods.</li><li>CVE-2020-14215: Fixed buggy <code>0198_preregistrationuser_invited_as</code> database migration from the 2.0.0 release, which incorrectly added the administrator role to invitations.</li><li>CVE-2020-14215: Added migration to clear the administrator role from any invitation objects already corrupted by the buggy version of the <code>0198_preregistrationuser_invited_as</code> migration.</li><li>Fixed missing quoting of certain attributes in HTML templates.</li><li>auth: Accept next as POST parameter in POST requests.</li><li>Allow /etc/zulip to be a symlink (for docker-zulip).</li><li>Disabled access from insecure Zulip Desktop releases below version 5.2.0.</li><li>Adjusted Slack import documentation to help administrators avoid OOM kills when doing Slack import on low-RAM systems.</li><li>Fixed a race condition fetching users' personal API keys.</li><li>Fixed a few bugs with Slack data import.</li></ul><p>Thanks to Pierre-Loup Tristant of SonarSource for reporting CVE-2020-12759 (discovered while testing a new analyzer feature!). Thanks to Tom Daff for reporting the anomaly that was traced to CVE-2020-14215. The other security issues were discovered internally.</p><h3 id="recommended-audit-of-administrators">Recommended audit of administrators</h3><p>Because the fix to CVE-2020-14215 will not remove the administrator permission from any users who were already incorrectly created as administrators, we recommend that server administrators do an audit to make sure there are no unexpected organization administrators in their organization. You can do this audit using the <a href="https://zulipchat.com/help/change-a-users-role">Users</a> tab in Zulip's organization settings; just click on the "Role" column to sort by role.</p><p>To explain the issue in full detail, the <code>0198_preregistrationuser_invited_as</code> database migration incorrectly swapped converted users invited as members into users invited as organization administrators. As a result, Zulip servers originally installed on Zulip 1.9 or older that were upgraded to Zulip 2.0.0-rc1 or higher had corrupted invitation objects. These records, in turn, could result in the user being created as an administrator should they later sign up using that invitation. Combined with another bug where certain social authentication flows would use the role from an expired invitation object, a user whose email address was invited 2 years ago as a normal user, and signed up with Google authentication on Zulip 2.1.4 or older, could have been incorrectly created as an organization administrator.</p><p>Because users typically accept invitations soon after they are sent, this is in practice a rare event. We expect most users who were incorrectly granted administrator privileges due to this bug were unaware that they had administrator permissions. (Using Zulip's audit log data, we were able to determine that only 14 accounts on Zulip Cloud were incorrectly created with administrator permissions due to this bug. We have removed the permission from those users and are emailing all administrators of the affected organizations.)</p><p>This release fixes CVE-2020-14215 by fixing the buggy migration, removing the administrator bit from all preexisting invitation records, and eliminating the bug that allowed data from expired invitation records to be used in determining the role for a new user.</p><h3 id="zulip-2-1-6-release">Zulip 2.1.6 release</h3><p>Zulip 2.1.6 was released shortly after 2.1.5.  It removes a line of Python that requires Python 3.6+ and thus does not work on Ubuntu Xenial or Debian Stretch.  As a reminder, Zulip 2.2 (coming in a week or two) will not support Ubuntu Xenial or Debian Stretch due to the upcoming end-of-life of Python 3.5 in July; installations running those releases should <a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-the-operating-system">upgrade their OS</a>.</p><h2 id="upgrading">Upgrading</h2><p>All installations should upgrade promptly to secure their installations. See the <a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-to-a-release">upgrade instructions</a> in the Zulip documentation.</p><p>If you need help, best-effort support is available on <a href="https://zulip.readthedocs.io/en/latest/contributing/chat-zulip-org.html">chat.zulip.org, the Zulip community chat server</a>.</p><h2 id="community">Community</h2><p>We love feedback from the Zulip user community. Here are a few ways you can connect:</p><ul><li>Join <a href="https://zulip.readthedocs.io/en/latest/contributing/chat-zulip-org.html">chat.zulip.org, the Zulip community Zulip server</a>. Several streams have user feedback and discussion as their primary purpose.</li><li><a href="https://twitter.com/zulip">Follow us on Twitter</a>, or join our <a href="https://groups.google.com/forum/#!forum/zulip-announce">announcement mailing list</a>.</li></ul>
        </section>


    </article>
</main>

<section class="footer-cta">
    <div class="inner">
        <h2>Sign up for more like this.</h2>
        <a class="footer-cta-button" href="#/portal">
            <div>Enter your email</div>
            <span>Subscribe</span>
        </a>
    </div>
</section>


<aside class="read-more-wrap">
    <div class="read-more inner">


                    
<article class="post-card post no-image ">


    <div class="post-card-content">

        <a class="post-card-content-link" href="/2021/10/04/zulip-server-4-7-security-release/">
            <header class="post-card-header">
                <h2 class="post-card-title">Zulip Server 4.7 security release</h2>
            </header>
            <div class="post-card-excerpt">
                <p>We released Zulip Server 4.7 today!  This is a security release, containing minor security fixes since Zulip Server 4.6. What's newThis release fixes CVE-2021-41115, which prevents organization administrators from affecting the server with a regular expression denial-of-service attack through linkifier patterns. Parts of this vulnerability were discovered by</p>
            </div>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="/author/alex/" class="static-avatar">
                        <img class="author-profile-image" src="//www.gravatar.com/avatar/6040af6e26d481c0e5fd4ac2fe4ea460?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x" alt="Alex Vandiver" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/alex/">Alex Vandiver</a></span>
                <span class="post-card-byline-date"><time datetime="2021-10-04">Oct 4, 2021</time> <span class="bull">&bull;</span> 1 min read</span>
            </div>
        </footer>

    </div>

</article>
                    
<article class="post-card post no-image ">


    <div class="post-card-content">

        <a class="post-card-content-link" href="/2021/09/30/google-summer-of-code-2021/">
            <header class="post-card-header">
                <h2 class="post-card-title">Zulip&#x27;s Google Summer of Code 2021</h2>
            </header>
            <div class="post-card-excerpt">
                <p>This summer, the Zulip developer community welcomed 18 student participants through the Google Summer of Code (GSoC) program. This was the 5th consecutive year that Zulip participated in GSoC; more than 85 students have now completed one of our formal internship programs, primarily through Google Summer of Code and Outreachy.</p>
            </div>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="/author/alya/" class="static-avatar">
                        <img class="author-profile-image" src="/content/images/size/w100/2021/04/profile_photo.jpeg" alt="Alya Abbott" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/alya/">Alya Abbott</a></span>
                <span class="post-card-byline-date"><time datetime="2021-09-30">Sep 30, 2021</time> <span class="bull">&bull;</span> 5 min read</span>
            </div>
        </footer>

    </div>

</article>
                    
<article class="post-card post no-image ">


    <div class="post-card-content">

        <a class="post-card-content-link" href="/2021/09/23/zulip-server-4-6-maintenance-release/">
            <header class="post-card-header">
                <h2 class="post-card-title">Zulip Server 4.6 bug fix release</h2>
            </header>
            <div class="post-card-excerpt">
                <p>We released Zulip Server 4.6 today! This is a bug fix release, containing a few dozen cherry-picked changes since Zulip Server 4.5. What’s newThis release fixes the following issues: Documented official support for Debian 11 Bullseye, now that it is officially released by Debian upstream.Fixed installation</p>
            </div>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="/author/tabbott/" class="static-avatar">
                        <img class="author-profile-image" src="/content/images/size/w100/2020/05/avatar-medium.png" alt="Tim Abbott" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/tabbott/">Tim Abbott</a></span>
                <span class="post-card-byline-date"><time datetime="2021-09-23">Sep 23, 2021</time> <span class="bull">&bull;</span> 1 min read</span>
            </div>
        </footer>

    </div>

</article>

    </div>
</aside>


    </div>

    <footer class="site-footer outer">
        <div class="inner">
            <section class="copyright"><a href="https://blog.zulip.com">The Zulip Blog</a> &copy; 2021</section>
            <nav class="site-footer-nav">
                
            </nav>
            <div><a href="https://ghost.org/" target="_blank" rel="noopener">Powered by Ghost</a></div>
        </div>
    </footer>

</div>


<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="/assets/built/casper.js?v=efb38549fb"></script>
<script>
$(document).ready(function () {
    // Mobile Menu Trigger
    $('.gh-burger').click(function () {
        $('body').toggleClass('gh-head-open');
    });
    // FitVids - Makes video embeds responsive
    $(".gh-content").fitVids();
});
</script>



</body>
</html>
