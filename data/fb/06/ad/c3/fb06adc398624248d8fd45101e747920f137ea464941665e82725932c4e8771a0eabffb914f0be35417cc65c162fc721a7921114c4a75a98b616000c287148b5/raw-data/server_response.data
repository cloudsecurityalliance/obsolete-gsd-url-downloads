<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    
    
      
    
    
      Issue 1858833003: Move isNavigationAllowed() check to main entry point for loads. -
    
    Code Review
  </title>
  <link rel="icon" href="/static/favicon.ico" />
  <link type="text/css" rel="stylesheet"
  href="/static/styles.css?v=408576698
" />
  <script type="text/javascript" src="/static/autocomplete/lib/jquery.js"></script>
  <script type="text/javascript"
    src="/static/script.js?v=408576698
"></script>
   <!-- head block to insert js/css for forms processing -->
   
   <!-- /head -->
</head>
<body onunload="M_unloadPage();">

<!-- Begin help window -->
<script type="text/javascript"><!--
var xsrfToken = '2d2e2df6b4ded35a8e7bedfddaf197d6';
var helpDisplayed = false;
document.onclick = M_clickCommon;
var media_url = "/static/";
var base_url = "/";
// -->
</script>
<div id="help" style="display: none;">

<div style="font-size: medium; text-align: center;">Keyboard Shortcuts</div>
<hr />
<table class="shortcuts">
  <tr valign="top">
    <td>
      <table>
        <tr>
          <td></td><th>File</th>
        </tr>
        <tr>
          <td><span>u</span> <b>:</b></td><td>up to issue</td>
        </tr>
        <tr>
          <td><span>j</span> / <span>k</span> <b>:</b></td><td>jump to file after / before current file</td>
        </tr>
        <tr>
          <td><span>J</span> / <span>K</span> <b>:</b></td><td>jump to next file with a comment after / before current file</td>
        </tr>
        <tr>
          <td></td><th>Side-by-side diff</th>
        </tr>
        <tr>
          <td><span>i</span> <b>:</b></td><td>toggle intra-line diffs</td>
        </tr>
        <tr>
          <td><span>e</span> <b>:</b></td><td>expand all comments</td>
        </tr>
        <tr>
          <td><span>c</span> <b>:</b></td><td>collapse all comments</td>
        </tr>
        <tr>
          <td><span>s</span> <b>:</b></td><td>toggle showing all comments</td>
        </tr>
        <tr>
          <td><span>n</span> / <span>p</span> <b>:</b></td><td>next / previous diff chunk or comment</td>
        </tr>
        <tr>
          <td><span>N</span> / <span>P</span> <b>:</b></td><td>next / previous comment</td>
        </tr>
        <tr>
          <td><span>&lt;Up&gt;</span> / <span>&lt;Down&gt;</span> <b>:</b></td><td>next / previous line</td>
        </tr>
      </table>
    </td>
    <td>
      <table>
        <tr>
          <td></td><th>Issue</th>
        </tr>
        <tr>
          <td><span>u</span> <b>:</b></td><td>up to list of issues</td>
        </tr>
        <tr>
          <td><span>j</span> / <span>k</span> <b>:</b></td><td>jump to patch after / before current patch</td>
        </tr>
        <tr>
          <td><span>o</span> / <span>&lt;Enter&gt;</span> <b>:</b></td><td>open current patch in side-by-side view</td>
        </tr>
        <tr>
          <td><span>i</span> <b>:</b></td><td>open current patch in unified diff view</td>
        </tr>
        <tr><td>&nbsp;</td></tr>
          <tr><td></td><th>Issue List</th></tr>
        <tr>
          <td><span>j</span> / <span>k</span> <b>:</b></td><td>jump to issue after / before current issue</td>
        </tr>
        <tr>
          <td><span>o</span> / <span>&lt;Enter&gt;</span> <b>:</b></td><td>open current issue</td>
        </tr>
      </table>
    </td>
  </tr>

</table>
</div>
<!-- End help window -->

<div align="right">

<div style="float:left; font-size:x-large"><img style="vertical-align:middle" src="/static/chromium-24.png" /> Chromium Code Reviews</div>




<b>chromiumcodereview-hr@appspot.gserviceaccount.com (chromiumcodereview-hr)</b>
|

<span style="color:red">Please choose your nickname with</span>
<a class="novisit" href="/settings">Settings</a>
|


<a class="novisit" target="_blank"
   href="http://code.google.com/p/rietveld/wiki/CodeReviewHelp">Help</a>

|
<a class="novisit" href="http://www.chromium.org/">Chromium Project</a>
|
<a class="novisit" href="https://chromium-review.googlesource.com/dashboard/self?polygerrit=1">Gerrit Changes</a>
|

<a class="novisit" href="https://codereview.chromium.org/_ah/logout?continue=https://accounts.google.com/Logout%3Fcontinue%3Dhttps://uc.appengine.google.com/_ah/logout%253Fcontinue%253Dhttps://google.com/url%25253Fsa%25253DD%252526q%25253Dhttps://codereview.chromium.org/1858833003%252526ust%25253D1608652272560444%252526usg%25253DAFQjCNFhGco7NSJSLXV6iWapQfJIr_YCDg%26service%3Dah">Sign out</a>

</div>
<div class="counter">(415)</div>
<br />
<div class="mainmenu">
  
  <a href="/" class="active">Issues</a>
  <a href="/search">Search</a>

</div>
<div class="mainmenu2">
  
  
    &nbsp;&nbsp;&nbsp;
    <a href="/mine">My Issues</a>
    |
    <a href="/starred">Starred</a>
    &nbsp;&nbsp;&nbsp;
    <a href="/all?closed=0">Open</a>
    |
    <a href="/all?closed=1">Closed</a>
    |
    <a href="/all">All</a>
  

</div>

<div>

  <h2>
    <span id="issue-star-1858833003">
  
    
      <img src="/static/star-dark.gif" width="15" height="15" border="0">
    
  
</span>

    Issue <a href="/1858833003/"
               onmouseover="M_showPopUp(this, 'popup-issue');">
            1858833003</a>:
    Move isNavigationAllowed() check to main entry point for loads.  (Closed) 
  </h2>

  <table class="issue-details" border="0" width="100%">
    <tr valign="top">

      <td class="meta" width="20%">
        <div class="issue_details_sidebar">
          <div><b>Created:</b><br/>
            4 years, 8 months ago by <a href="/user/dcheng" onMouseOver="M_showUserInfoPopup(this)">dcheng</a>
          </div>
          <div><b>Modified:</b><br/>
            4 years, 8 months ago
          </div>
          <div><b>Reviewers:</b><br/>
            <a href="/user/Avi%20(use%20Gerrit)" onMouseOver="M_showUserInfoPopup(this)">Avi (use Gerrit)</a>, <span class='approval'><a href="/user/Nate%20Chapin" onMouseOver="M_showUserInfoPopup(this)">Nate Chapin</a></span>
          </div>
          
          <div><b>CC:</b><br/>
            Avi (use Gerrit), blink-reviews, chromium-reviews, clamy, gavinp+loader_chromium.org, Nate Chapin, kinuko, loading-reviews_chromium.org, tyoshino+watch_chromium.org
          </div>
          
          
          <div><b>Base URL:</b><br/>
            
            https://chromium.googlesource.com/chromium/src.git@master
            
          </div>
          
          
          <div><b>Target Ref:</b><br/>
            refs/pending/heads/master
          </div>
          
          
          <div><b>Project:</b><br/>
            <a href="/search?project=chromium">
              chromium
            </a>
          </div>
          
          <div><b>Visibility:</b><br/>
            
                Public.
            
          </div>
          
          <div><a title="Find reviews for the same repository ID - c14d891d44f0afff64e56ed7c9702df1d807b1ee"
               href="/search?repo_guid=c14d891d44f0afff64e56ed7c9702df1d807b1ee">
            <b>More Reviews</b></a>
          </div>
          
        </div>
      </td>

      <td style="padding-left: .8em; padding-right: .8em;" width="80%">
        




  <h3><a id="issue-description-pointer"
     href="javascript:M_toggleSection('issue-description')"
     class="toggled-section opentriangle">
    Description</a></h3>
  <div id="issue-description">Move isNavigationAllowed() check to main entry point for loads.

Also document the difference between the two types of navigation
disablers and how they should be used.

BUG=<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=600182">600182</a>
Committed: <a href="https://crrev.com/73563fee12defb21a8f955993b68907169e1ea6d">https://crrev.com/73563fee12defb21a8f955993b68907169e1ea6d</a>
Cr-Commit-Position: refs/heads/master@{#385306}
  </div>




  <h3>
    <a id="ps-1-pointer"
       href="/1858833003/#ps1"
       onclick="M_toggleSectionForPS('1858833003', '1')"
       class="toggled-section ">
      Patch Set 1
      
      <span class="anchor">#</span>
    </a>
  </h3>

  
    <div>
      <i>Total comments:</i> 1
      
    </div>
  

  <div id="ps-1"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-20001-pointer"
       href="/1858833003/#ps20001"
       onclick="M_toggleSectionForPS('1858833003', '20001')"
       class="toggled-section ">
      Patch Set 2
      : reflow comment
      <span class="anchor">#</span>
    </a>
  </h3>

  
    <div>
      <i>Total comments:</i> 3
      
    </div>
  

  <div id="ps-20001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-40001-pointer"
       href="/1858833003/#ps40001"
       onclick="M_toggleSectionForPS('1858833003', '40001')"
       class="toggled-section opentriangle">
      Patch Set 3
      : rebase
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-40001"
  
       style="">
    
<div class="issue-list">

  <div class="pagination">
    <div style="float: left;">
      <i>Created:</i> 4 years, 8 months ago
    </div>
    <div style="float: right;">
      
        Download
          <a href="/download/issue1858833003_40001.diff"
            title="Patchset in text format">[raw]</a>
          <a href="/tarball/1858833003/40001"
            title="Tarball containing the original and patched files">[tar.bz2]</a>
      
    </div>
    <div style="clear:both;"></div>
  </div>

  <table id="queues" style="clear:both;">
    <tr align="left">
      <th colspan="2"></th>
      <th>Unified diffs</th>
      <th>Side-by-side diffs</th>
      <th>Delta from patch set</th>
      <th colspan="3">Stats <font style='font-weight: normal'>(<i>+20 lines, -2 lines</i>)</font></th>
      <th>Patch</th>
    </tr>

    
      <tr name="patch">
        <td class="first" width="14"><img src="/static/closedtriangle.gif"
    style="visibility: hidden;" width="12" height="9" /></td>
        <td style="white-space: nowrap">M</td>
        <td>
          <a class="noul"
             href="/1858833003/patch/40001/50001">
            third_party/WebKit/Source/core/frame/LocalFrame.cpp
          </a>
        </td>
        <td>
          <a class="noul"
             href="/1858833003/diff/40001/third_party/WebKit/Source/core/frame/LocalFrame.cpp">
            View
          </a>
        </td>
        <td style="white-space: nowrap">
        
          <a href="/1858833003/diff2/1:40001/third_party/WebKit/Source/core/frame/LocalFrame.cpp"
             title="Delta from patch set 1">1</a>
        
          <a href="/1858833003/diff2/20001:40001/third_party/WebKit/Source/core/frame/LocalFrame.cpp"
             title="Delta from patch set 2">2</a>
        
        </td>
        
          <td style="white-space: nowrap">1 chunk</td>
          <td style="white-space: nowrap">+0 lines, -2 lines</td>
        
        <td style="white-space: nowrap">
          
            0 comments
            
            
          
        </td>
        <td>
          <a href="/download/issue1858833003_40001_50001.diff"
             title="Download patch for third_party/WebKit/Source/core/frame/LocalFrame.cpp">
            Download
          </a>
        </td>
      </tr>
    
      <tr name="patch">
        <td class="first" width="14"><img src="/static/closedtriangle.gif"
    style="visibility: hidden;" width="12" height="9" /></td>
        <td style="white-space: nowrap">M</td>
        <td>
          <a class="noul"
             href="/1858833003/patch/40001/50002">
            third_party/WebKit/Source/core/loader/FrameLoader.cpp
          </a>
        </td>
        <td>
          <a class="noul"
             href="/1858833003/diff/40001/third_party/WebKit/Source/core/loader/FrameLoader.cpp">
            View
          </a>
        </td>
        <td style="white-space: nowrap">
        
          <a href="/1858833003/diff2/1:40001/third_party/WebKit/Source/core/loader/FrameLoader.cpp"
             title="Delta from patch set 1">1</a>
        
          <a href="/1858833003/diff2/20001:40001/third_party/WebKit/Source/core/loader/FrameLoader.cpp"
             title="Delta from patch set 2">2</a>
        
        </td>
        
          <td style="white-space: nowrap">1 chunk</td>
          <td style="white-space: nowrap">+3 lines, -0 lines</td>
        
        <td style="white-space: nowrap">
          
            0 comments
            
            
          
        </td>
        <td>
          <a href="/download/issue1858833003_40001_50002.diff"
             title="Download patch for third_party/WebKit/Source/core/loader/FrameLoader.cpp">
            Download
          </a>
        </td>
      </tr>
    
      <tr name="patch">
        <td class="first" width="14"><img src="/static/closedtriangle.gif"
    style="visibility: hidden;" width="12" height="9" /></td>
        <td style="white-space: nowrap">M</td>
        <td>
          <a class="noul"
             href="/1858833003/patch/40001/50003">
            third_party/WebKit/Source/core/loader/NavigationScheduler.cpp
          </a>
        </td>
        <td>
          <a class="noul"
             href="/1858833003/diff/40001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp">
            View
          </a>
        </td>
        <td style="white-space: nowrap">
        
          <a href="/1858833003/diff2/1:40001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp"
             title="Delta from patch set 1">1</a>
        
          <a href="/1858833003/diff2/20001:40001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp"
             title="Delta from patch set 2">2</a>
        
        </td>
        
          <td style="white-space: nowrap">1 chunk</td>
          <td style="white-space: nowrap">+17 lines, -0 lines</td>
        
        <td style="white-space: nowrap">
          
            0 comments
            
            
          
        </td>
        <td>
          <a href="/download/issue1858833003_40001_50003.diff"
             title="Download patch for third_party/WebKit/Source/core/loader/NavigationScheduler.cpp">
            Download
          </a>
        </td>
      </tr>
    
  </table>

  
  
</div>

  
  </div>
  
    <script language="JavaScript" type="text/javascript">
         <!--
         var lastPSId = 40001;
         // -->
       </script>
  




  <h3>
    <a id="messages-pointer"
       href="javascript:M_toggleSection('messages')"
       class="toggled-section opentriangle">
      Messages
    </a>
  </h3>

  
    <div><i>
    Total messages: 18 (7 generated)
    </i></div>
  

  <div id="messages">
    <div style="margin-bottom: .5em;">
      <a href="javascript:M_expandAllVisibleComments('cl', 18)">
        Expand Messages</a>
      |
      <a href="javascript:M_collapseAllVisibleComments('cl', 18)">
        Collapse Messages</a>
      
      |
      <a href="javascript:M_showGeneratedComments(18)">
        Show Generated Messages</a>
      |
      <a href="javascript:M_hideGeneratedComments(18)">
        Hide Generated Messages</a>
      
    </div>

    
      <div class="message    generated"
           style="display: none"
           id="generated-msg1"
           name="0">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(0)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>dcheng</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-0">
                          dcheng@chromium.org changed reviewers: + japhet@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 00:06:28 UTC)
                <a href="#msg1">#1</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-0"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-0"
            ><a href="mailto:dcheng@chromium.org">dcheng@chromium.org</a> changed reviewers:
+ <a href="mailto:japhet@chromium.org">japhet@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg2"
           name="1">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(1)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>dcheng</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-1">
                          +japhet for primary review +avi, +clamy, +kinuko for FYI https://codereview.chromium.org/1858833003/diff/1/third_party/WebKit/Source/core/loader/FrameLoader.cpp File third_party/WebKit/Source/core/loader/FrameLoader.cpp (right): https://codereview.chromium.org/1858833003/diff/1/third_party/WebKit/Source/core/loader/FrameLoader.cpp#newcode897 third_party/WebKit/Source/core/loader/FrameLoader.cpp:897: ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 00:06:29 UTC)
                <a href="#msg2">#2</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-1"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-1"
            >+japhet for primary review

+avi, +clamy, +kinuko for FYI

<a href="https://codereview.chromium.org/1858833003/diff/1/third_party/WebKit/Source/core/loader/FrameLoader.cpp" rel="nofollow">https://codereview.chromium.org/1858833003/diff/1/third_party/WebKit/Source/c...</a>
File third_party/WebKit/Source/core/loader/FrameLoader.cpp (right):

<a href="https://codereview.chromium.org/1858833003/diff/1/third_party/WebKit/Source/core/loader/FrameLoader.cpp#newcode897" rel="nofollow">https://codereview.chromium.org/1858833003/diff/1/third_party/WebKit/Source/c...</a>
third_party/WebKit/Source/core/loader/FrameLoader.cpp:897: if
(!m_frame-&gt;isNavigationAllowed())
Presumably, this will still be the main entry point after PlzNavigate, since we
still have to handle sync navigations somehow.

<a href="https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp" rel="nofollow">https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Sour...</a>
File third_party/WebKit/Source/core/loader/NavigationScheduler.cpp (right):

<a href="https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp#newcode284" rel="nofollow">https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Sour...</a>
third_party/WebKit/Source/core/loader/NavigationScheduler.cpp:284: // 1.
NavigationDisablerForBeforeUnload is for blocking navigation scheduling
Avi, given this description, do you think it still makes sense to have this? We
have the checkbox that should allow users to break out of the beforeunload loop
now... but maybe we still want to keep it? In that case, we probably need to be
better about checking this consistently (for example, scheduleFormSubmission
forgets to check this)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg3"
           name="2">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(2)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>dcheng</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-2">
                          Also... no test because of plugin dependency. Working on it =(
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 00:06:55 UTC)
                <a href="#msg3">#3</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-2"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-2"
            >Also... no test because of plugin dependency. Working on it =(</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg4"
           name="3">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(3)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Avi (use Gerrit)</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-3">
                          avi@chromium.org changed reviewers: + avi@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 01:36:32 UTC)
                <a href="#msg4">#4</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-3"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-3"
            ><a href="mailto:avi@chromium.org">avi@chromium.org</a> changed reviewers:
+ <a href="mailto:avi@chromium.org">avi@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg5"
           name="4">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(4)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Avi (use Gerrit)</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-4">
                          https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp File third_party/WebKit/Source/core/loader/NavigationScheduler.cpp (right): https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp#newcode284 third_party/WebKit/Source/core/loader/NavigationScheduler.cpp:284: // 1. NavigationDisablerForBeforeUnload is for blocking navigation scheduling On ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 01:36:33 UTC)
                <a href="#msg5">#5</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-4"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-4"
            ><a href="https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp" rel="nofollow">https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Sour...</a>
File third_party/WebKit/Source/core/loader/NavigationScheduler.cpp (right):

<a href="https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp#newcode284" rel="nofollow">https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Sour...</a>
third_party/WebKit/Source/core/loader/NavigationScheduler.cpp:284: // 1.
NavigationDisablerForBeforeUnload is for blocking navigation scheduling
On 2016/04/05 00:06:29, dcheng wrote:
&gt; Avi, given this description, do you think it still makes sense to have this?
We
&gt; have the checkbox that should allow users to break out of the beforeunload
loop
&gt; now... but maybe we still want to keep it? In that case, we probably need to
be
&gt; better about checking this consistently (for example, scheduleFormSubmission
&gt; forgets to check this)

I know about the dialog side of onbeforeunload, but not much about the
implementation side.

Unlike window.alert and friends, where the page&#39;s JavaScript has to be paused to
get the answer, onbeforeunload is triggered by a return value from a function
but the page&#39;s JavaScript doesn&#39;t have to run. Does onbeforeunload stop all
interaction from a page? Can it be that a page returns a string from
onbeforeunload, and while the dialog is up, the page has further navigation
interactions that we need to stop? Or does the fact that the dialog is up grind
the renderer to a halt waiting for an answer?

If the former, we would likely need to keep this.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg6"
           name="5">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(5)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>dcheng</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-5">
                          https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp File third_party/WebKit/Source/core/loader/NavigationScheduler.cpp (right): https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp#newcode284 third_party/WebKit/Source/core/loader/NavigationScheduler.cpp:284: // 1. NavigationDisablerForBeforeUnload is for blocking navigation scheduling On ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 04:47:22 UTC)
                <a href="#msg6">#6</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-5"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-5"
            ><a href="https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp" rel="nofollow">https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Sour...</a>
File third_party/WebKit/Source/core/loader/NavigationScheduler.cpp (right):

<a href="https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Source/core/loader/NavigationScheduler.cpp#newcode284" rel="nofollow">https://codereview.chromium.org/1858833003/diff/20001/third_party/WebKit/Sour...</a>
third_party/WebKit/Source/core/loader/NavigationScheduler.cpp:284: // 1.
NavigationDisablerForBeforeUnload is for blocking navigation scheduling
On 2016/04/05 at 01:36:33, Avi wrote:
&gt; On 2016/04/05 00:06:29, dcheng wrote:
&gt; &gt; Avi, given this description, do you think it still makes sense to have this?
We
&gt; &gt; have the checkbox that should allow users to break out of the beforeunload
loop
&gt; &gt; now... but maybe we still want to keep it? In that case, we probably need to
be
&gt; &gt; better about checking this consistently (for example, scheduleFormSubmission
&gt; &gt; forgets to check this)
&gt; 
&gt; I know about the dialog side of onbeforeunload, but not much about the
implementation side.
&gt; 
&gt; Unlike window.alert and friends, where the page&#39;s JavaScript has to be paused
to get the answer, onbeforeunload is triggered by a return value from a function
but the page&#39;s JavaScript doesn&#39;t have to run. Does onbeforeunload stop all
interaction from a page? Can it be that a page returns a string from
onbeforeunload, and while the dialog is up, the page has further navigation
interactions that we need to stop? Or does the fact that the dialog is up grind
the renderer to a halt waiting for an answer?
&gt; 
&gt; If the former, we would likely need to keep this.

While the beforeunload dialog is open, no script can run. The issue that
NavigationDisablerForBeforeUnload addresses is code like this:

window.onbeforeunload = function() {
  location.reload();
  return &quot;Mwhahahaha&quot;;
};

The reload gets queued, so if the user chooses to stay on the page, he/she is
immediately bombarded with another beforeunload dialog.

Though now that I think about this, maybe we can achieve the same effect by just
cancelling scheduled navigations after the beforeunload event runs. This means
that fragment navigations in beforeunload events now work but meh, that seems
OK? I&#39;ll try this in a followup patch.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message  approval  "
           
           id="msg7"
           name="6">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(6)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Nate Chapin</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-6">
                          LGTM. Any hope of a test?
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 20:05:59 UTC)
                <a href="#msg7">#7</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-6"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-6"
            >LGTM. Any hope of a test?</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg8"
           name="7">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(7)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>dcheng</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-7">
                          On 2016/04/05 at 20:05:59, japhet wrote: &gt; LGTM. Any hope of a test? Working on ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 20:07:51 UTC)
                <a href="#msg8">#8</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-7"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-7"
            >On 2016/04/05 at 20:05:59, japhet wrote:
&gt; LGTM. Any hope of a test?

Working on it in a followup =(
The plugin makes things messy.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg9"
           name="8">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(8)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>dcheng</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-8">
                          The CQ bit was checked by dcheng@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 21:06:10 UTC)
                <a href="#msg9">#9</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-8"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-8"
            >The CQ bit was checked by <a href="mailto:dcheng@chromium.org">dcheng@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg10"
           name="9">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(9)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-9">
                          CQ is trying da patch. Follow status at https://chromium-cq-status.appspot.com/patch-status/1858833003/20001 View timeline at https://chromium-cq-status.appspot.com/patch-timeline/1858833003/20001
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 21:06:25 UTC)
                <a href="#msg10">#10</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-9"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-9"
            >CQ is trying da patch. Follow status at
 <a href="https://chromium-cq-status.appspot.com/patch-status/1858833003/20001" rel="nofollow">https://chromium-cq-status.appspot.com/patch-status/1858833003/20001</a>
View timeline at
 <a href="https://chromium-cq-status.appspot.com/patch-timeline/1858833003/20001" rel="nofollow">https://chromium-cq-status.appspot.com/patch-timeline/1858833003/20001</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg11"
           name="10">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(10)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-10">
                          The CQ bit was unchecked by commit-bot@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 21:11:50 UTC)
                <a href="#msg11">#11</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-10"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-10"
            >The CQ bit was unchecked by <a href="mailto:commit-bot@chromium.org">commit-bot@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg12"
           name="11">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(11)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-11">
                          Try jobs failed on following builders: mac_chromium_rel_ng on tryserver.chromium.mac (JOB_FAILED, http://build.chromium.org/p/tryserver.chromium.mac/builders/mac_chromium_rel_ng/builds/205976)
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 21:11:51 UTC)
                <a href="#msg12">#12</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-11"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-11"
            >Try jobs failed on following builders:
  mac_chromium_rel_ng on tryserver.chromium.mac (JOB_FAILED,
<a href="http://build.chromium.org/p/tryserver.chromium.mac/builders/mac_chromium_rel_ng/builds/205976" rel="nofollow">http://build.chromium.org/p/tryserver.chromium.mac/builders/mac_chromium_rel_...</a>)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg13"
           name="12">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(12)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>dcheng</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-12">
                          The CQ bit was checked by dcheng@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 21:14:48 UTC)
                <a href="#msg13">#13</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-12"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-12"
            >The CQ bit was checked by <a href="mailto:dcheng@chromium.org">dcheng@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg14"
           name="13">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(13)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>dcheng</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-13">
                          The patchset sent to the CQ was uploaded after l-g-t-m from japhet@chromium.org Link to the ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 21:14:48 UTC)
                <a href="#msg14">#14</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-13"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-13"
            >The patchset sent to the CQ was uploaded after l-g-t-m from <a href="mailto:japhet@chromium.org">japhet@chromium.org</a>
Link to the patchset: <a href="https://codereview.chromium.org/1858833003/#ps40001" rel="nofollow">https://codereview.chromium.org/1858833003/#ps40001</a>
(title: &quot;rebase&quot;)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg15"
           name="14">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(14)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-14">
                          CQ is trying da patch. Follow status at https://chromium-cq-status.appspot.com/patch-status/1858833003/40001 View timeline at https://chromium-cq-status.appspot.com/patch-timeline/1858833003/40001
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 21:15:17 UTC)
                <a href="#msg15">#15</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-14"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-14"
            >CQ is trying da patch. Follow status at
 <a href="https://chromium-cq-status.appspot.com/patch-status/1858833003/40001" rel="nofollow">https://chromium-cq-status.appspot.com/patch-status/1858833003/40001</a>
View timeline at
 <a href="https://chromium-cq-status.appspot.com/patch-timeline/1858833003/40001" rel="nofollow">https://chromium-cq-status.appspot.com/patch-timeline/1858833003/40001</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg16"
           name="15">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(15)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-15">
                          Committed patchset #3 (id:40001)
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 22:39:39 UTC)
                <a href="#msg16">#16</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-15"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-15"
            >Committed patchset #3 (id:40001)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   generated"
           style="display: none"
           id="generated-msg17"
           name="16">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(16)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-16">
                          Description was changed from ========== Move isNavigationAllowed() check to main entry point for loads. Also ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 22:41:04 UTC)
                <a href="#msg17">#17</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-16"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-16"
            >Description was changed from

==========
Move isNavigationAllowed() check to main entry point for loads.

Also document the difference between the two types of navigation
disablers and how they should be used.

BUG=600182
==========

to

==========
Move isNavigationAllowed() check to main entry point for loads.

Also document the difference between the two types of navigation
disablers and how they should be used.

BUG=600182

Committed: <a href="https://crrev.com/73563fee12defb21a8f955993b68907169e1ea6d" rel="nofollow">https://crrev.com/73563fee12defb21a8f955993b68907169e1ea6d</a>
Cr-Commit-Position: refs/heads/master@{#385306}
==========</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg18"
           name="17">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(17)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden; display: none;"
                           class="extra"
                           id="cl-preview-17">
                          Patchset 3 (id:??) landed as https://crrev.com/73563fee12defb21a8f955993b68907169e1ea6d Cr-Commit-Position: refs/heads/master@{#385306}
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                4 years, 8 months ago
		(2016-04-05 22:41:05 UTC)
                <a href="#msg18">#18</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-17"
             >
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-17"
            >Patchset 3 (id:??) landed as
<a href="https://crrev.com/73563fee12defb21a8f955993b68907169e1ea6d" rel="nofollow">https://crrev.com/73563fee12defb21a8f955993b68907169e1ea6d</a>
Cr-Commit-Position: refs/heads/master@{#385306}</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    

    <div>
      <a href="javascript:M_expandAllVisibleComments('cl', 18)">
        Expand Messages</a>
      |
      <a href="javascript:M_collapseAllVisibleComments('cl', 18)">
        Collapse Messages</a>
      
      |
      <a href="javascript:M_showGeneratedComments(18)">
        Show Generated Messages</a>
      |
      <a href="javascript:M_hideGeneratedComments(18)">
        Hide Generated Messages</a>
      
    </div>

  </div>

<script language="JavaScript" type="text/javascript">
<!--
var lastMsgID = 18;
// -->
</script>




<script language="JavaScript" type="text/javascript">
  <!--
    document.onkeydown = M_changelistKeyDown;
    var dashboardState = new M_DashboardState(window, 'patch', 'M_CLPatchMarker');
    var issueId = 1858833003;
    M_toggleIssueOverviewByAnchor();
  // -->
</script>



      </td>
    </tr>
  </table>

</div>

  
    <div class="popup" id="popup-issue">
      <b>Issue 1858833003: Move isNavigationAllowed() check to main entry point for loads.
     (Closed) </b><br/>
      Created 4 years, 8 months ago by dcheng<br/>
      Modified 4 years, 8 months ago<br/>
      Reviewers: Avi (use Gerrit), Nate Chapin<br/>
      Base URL: https://chromium.googlesource.com/chromium/src.git@master<br/>
      Comments: 4
      
    </div>
  


<p></p>
<div style="float: left;">
  <a target="_blank" href="http://code.google.com/appengine/"><img border="0"
   src="/static/appengine-noborder-120x30.gif"
   alt="Powered by Google App Engine" /></a>
</div>

<div class="extra" style="font-size: 9pt; float: right; text-align: right;">
  <div style="margin-top: .3em;">This is Rietveld <a href='http://code.google.com/p/rietveld/source/list'>408576698
</a></div>
</div>


<script>
  // Google Analytics.
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55762617-11', {
    'allowLinker': true,
    'siteSpeedSampleRate': 100
  });
  ga('require', 'linker');
  ga('linker:autoLink',
     ['chromiumcodereview.appspot.com', 'codereview.chromium.org'] );
  ga('send', 'pageview');

  // CRDX Feedback button.
  (function(i,s,o,g,r,a,m){i['CrDXObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://storage.googleapis.com/crdx-feedback.appspot.com/feedback.js','crdx');

  crdx('setFeedbackButtonLink',
      'https://bugs.chromium.org/p/chromium/issues/entry?cc=andybons@chromium.org&components=Infra%3ECodereview%3ERietveld&labels=Infra-DX');
</script>


</body>
</html>
