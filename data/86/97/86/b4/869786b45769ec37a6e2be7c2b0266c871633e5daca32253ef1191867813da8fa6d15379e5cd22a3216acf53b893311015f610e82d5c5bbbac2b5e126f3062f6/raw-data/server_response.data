<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1783591 “lxc-user-nic allows unprivileged users to open arb...” : Bugs : lxc package : Ubuntu</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1783591" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1783591/bug.atom" title="Bug 1783591 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="Matthias Gerstner from SUSE reported the following:

```
Hello,

following the lxc security reporting guidelines [1] I am reporting a
finding in the lxc-user-nic setuid binary. I'm encrypting this mail as a
best practice and because I found valid GPG keys for all of your
adresses. Please find my public key attached to this mail.

In the context of an openSUSE security audit of the lxc-user-nic setuid
binary [2] (currently private bug) I came across an issue that should be
adressed. In the &quot;de..." />
      <meta property="og:description" content="Matthias Gerstner from SUSE reported the following:

```
Hello,

following the lxc security reporting guidelines [1] I am reporting a
finding in the lxc-user-nic setuid binary. I'm encrypting this mail as a
best practice and because I found valid GPG keys for all of your
adresses. Please find my public key attached to this mail.

In the context of an openSUSE security audit of the lxc-user-nic setuid
binary [2] (currently private bug) I came across an issue that should be
adressed. In the &quot;de..." />
    

    
    
      <meta property="og:title" content="Bug #1783591 “lxc-user-nic allows unprivileged users to open arb...” : Bugs : lxc package : Ubuntu" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1783591" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["a11y", "appstream", "bionic", "bisect-done", "bitesize", "cherry-pick", "community-security", "desktop-file", "disco", "dist-upgrade", "focal", "ftbfs", "groovy", "hirsute", "hw-specific", "impish", "jammy", "kernel-bug", "manpage", "metabug", "multiarch", "needs-bisect", "needs-design", "needs-packaging", "needs-reassignment", "package-conflict", "packaging", "patch", "patch-accepted-debian", "patch-accepted-upstream", "patch-forwarded-debian", "patch-forwarded-upstream", "patch-needswork", "patch-rejected", "patch-rejected-debian", "patch-rejected-upstream", "performing-bisect", "py2-removal", "qt4-removal", "regression-proposed", "regression-release", "regression-update", "string-fix", "suspend-resume", "systemd-boot", "testcase", "touch", "unmetdeps", "upgrade-software-version", "verification-done-bionic", "verification-done-focal", "verification-done-groovy", "verification-done-hirsute", "verification-done-impish", "verification-done-xenial", "verification-failed-bionic", "verification-failed-groovy", "verification-failed-impish", "verification-failed-xenial", "verification-needed-bionic", "verification-needed-focal", "verification-needed-groovy", "verification-needed-hirsute", "verification-needed-impish", "verification-needed-trusty", "verification-needed-xenial", "wayland", "xenial"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/ubuntu"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/49558155/64_logo.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/ubuntu">Ubuntu</a><br /><a href="https://launchpad.net/ubuntu/+source/lxc">lxc package</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/ubuntu/+source/lxc">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/ubuntu/+source/lxc">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/ubuntu/+source/lxc">Bugs</a></li>
      
      
    
    
      
      
      <li class="specifications disabled-tab"><span>Blueprints</span></li>
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/ubuntu/+source/lxc">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/ubuntu/+source/lxc">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    lxc-user-nic allows unprivileged users to open arbitrary files
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1783591 reported by
      <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber</a>
      <time title="2018-07-25 15:17:03 UTC" datetime="2018-07-25T15:17:03.700505+00:00">on 2018-07-25</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">268</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr id="tasksummary2419335">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/debian/+source/lxc/+bug/1783591/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2419335">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/debian/+source/lxc" title="Latest release: 1:4.0.10-1, uploaded to main on 2021-08-27 22:36:17.763607+00:00 by pkg-lxc (pkg-lxc-devel), maintained by pkg-lxc (pkg-lxc-devel)">lxc (Debian)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusFIXRELEASED">Fix Released</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNKNOWN">Unknown</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      
        <div style="text-decoration: none; padding: 0.25em">
          
            
              <span class="sprite bug-remote"></span>
              
            
          
          
          <a class="link-external" href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=905586">debbugs #905586</a>
        </div>
      

      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2419335">
     <td colspan="7"><form action="/debian/+source/lxc/+bug/1783591/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
    
      
    
    
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/debian/+source/lxc">lxc (Debian)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~carnil" class="sprite person">Salvatore Bonaccorso</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2018-08-30 19:58:57 UTC" datetime="2018-08-30T19:58:57.041860+00:00">2018-08-30</time>
      </td>
    </tr>
    
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2018-08-31 22:48:30 UTC" datetime="2018-08-31T22:48:30.663221+00:00">2018-08-31</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2018-08-31 22:48:30 UTC" datetime="2018-08-31T22:48:30.663221+00:00">2018-08-31</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="debian_lxc.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="debian_lxc.target.option.package" name="debian_lxc.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="debian_lxc.target.distribution" name="debian_lxc.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option selected="selected" value="debian">Debian</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="debian_lxc.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="debian_lxc.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="lxc" id="debian_lxc.target.package"
                         name="debian_lxc.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;debian_lxc.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('debian_lxc.target.package');
              var select_menu = Y.DOM.byId('debian_lxc.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-debian_lxc-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionPackage", "extra_no_results_message": null, "selected_value": "lxc", "show_assign_me_button": false, "show_widget_id": "show-widget-debian_lxc-target-package", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "debian_lxc.target.package"};
        var show_widget_id = 'show-widget-debian_lxc-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" id="debian_lxc.target.option.product" name="debian_lxc.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="debian_lxc.target.product"
                         name="debian_lxc.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;debian_lxc.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('debian_lxc.target.product');
              var select_menu = Y.DOM.byId('debian_lxc.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-debian_lxc-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a project", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "Product", "extra_no_results_message": null, "selected_value": null, "show_assign_me_button": false, "show_widget_id": "show-widget-debian_lxc-target-product", "step_title": "Search", "assign_me_text": "Pick me", "input_element": "debian_lxc.target.product"};
        var show_widget_id = 'show-widget-debian_lxc-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="debian_lxc.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="debian_lxc.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><span class="statusFIXRELEASED">Fix Released</span></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNKNOWN">Unknown</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="debian_lxc.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap"><i>unknown</i></td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="white-space: nowrap" for="debian_lxc.bugwatch">Remote Watch</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap"><table><tr>

  <td style="padding: 0px" valign="top"><input class="radioType" id="debian_lxc.bugwatch.None" name="debian_lxc.bugwatch" type="radio" value="" /></td>
  <td style="padding: 0px">
    <label style="font-weight: normal" for="debian_lxc.bugwatch.None">
      None, the status of the bug is updated manually.
    </label>
  </td>

</tr>

<tr>

  <td style="padding: 0px" valign="top"><input class="radioType" id="debian_lxc.bugwatch.0" name="debian_lxc.bugwatch" type="radio" value="" /></td>
  <td style="padding: 0px">
    <label style="font-weight: normal" for="debian_lxc.bugwatch.0">
      None, the status of the bug is updated manually.
    </label>
  </td>

</tr>

<tr>

  <td style="padding: 0px" valign="top"><input class="radioType" checked="checked" id="debian_lxc.bugwatch.1" name="debian_lxc.bugwatch" type="radio" value="130230" /></td>
  <td style="padding: 0px">
    <label style="font-weight: normal" for="debian_lxc.bugwatch.1">
      Debian Bug tracker <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=905586">#905586</a>
    </label>
  </td>

</tr>

<tr>

  <td style="padding: 0px" valign="top"><input class="radioType" id="debian_lxc.bugwatch.2" name="debian_lxc.bugwatch" type="radio" value="129795" /></td>
  <td style="padding: 0px">
    <label style="font-weight: normal" for="debian_lxc.bugwatch.2">
      bugzilla.suse.com/ <a href="https://bugzilla.suse.com/show_bug.cgi?id=988348">#988348</a>
    </label>
  </td>

</tr>

<tr>

  <td style="padding: 0px" valign="top"><input class="radioType" id="debian_lxc.bugwatch.NEW" name="debian_lxc.bugwatch" type="radio" value="NEW" /></td>
  <td style="padding: 0px">
    <label style="font-weight: normal" for="debian_lxc.bugwatch.NEW">
      <div>URL: <input class="urlTextType textType" id="debian_lxc.url" name="debian_lxc.url" size="44" type="text" value="" onKeyPress="selectWidget('debian_lxc.bugwatch.NEW', event)" /></div>
    </label>
  </td>

</tr>
</table>
<input name="debian_lxc.bugwatch-empty-marker" type="hidden" value="1" /></td>
      </tr>
      <tr>
        <td class="formHelp" colspan="2">
        The information about this bug in Launchpad is
        automatically pulled daily from the remote bug.
        
          
              This information was last pulled
              <b><time title="2021-10-30 04:22:06 UTC" datetime="2021-10-30T04:22:06.872452+00:00">14 hours ago</time></b>.
          
          
        
        </td>
      </tr>
    </table>
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="debian_lxc.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="debian_lxc.comment_on_change" name="debian_lxc.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr class="highlight" id="tasksummary2407941">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2407941">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/lxc" title="Latest release: 1:4.0.10-0ubuntu5, uploaded to universe on 2021-09-24 14:31:08.843633+00:00 by Lukas Märdian (slyon), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)">lxc (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2407941">
          <span class="yui3-activator-data-box">
            <a class="sprite team" href="https://launchpad.net/~ubuntu-lxc-security">Ubuntu Container Security team</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2407941">
     <td colspan="7"><form action="/ubuntu/+source/lxc/+bug/1783591/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/+source/lxc">lxc (Ubuntu)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2018-07-25 15:17:03 UTC" datetime="2018-07-25T15:17:03.700505+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2018-07-25 15:17:03 UTC" datetime="2018-07-25T15:17:03.700505+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2018-07-25 15:17:04 UTC" datetime="2018-07-25T15:17:04.448240+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2018-08-06 16:02:01 UTC" datetime="2018-08-06T16:02:01.699545+00:00">2018-08-06</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2018-08-06 16:02:01 UTC" datetime="2018-08-06T16:02:01.699545+00:00">2018-08-06</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ubuntu_lxc.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ubuntu_lxc.target.option.package" name="ubuntu_lxc.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ubuntu_lxc.target.distribution" name="ubuntu_lxc.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ubuntu_lxc.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ubuntu_lxc.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="lxc" id="ubuntu_lxc.target.package"
                         name="ubuntu_lxc.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_lxc.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_lxc.target.package');
              var select_menu = Y.DOM.byId('ubuntu_lxc.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_lxc-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionPackage", "extra_no_results_message": null, "selected_value": "lxc", "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_lxc-target-package", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ubuntu_lxc.target.package"};
        var show_widget_id = 'show-widget-ubuntu_lxc-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" id="ubuntu_lxc.target.option.product" name="ubuntu_lxc.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ubuntu_lxc.target.product"
                         name="ubuntu_lxc.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_lxc.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_lxc.target.product');
              var select_menu = Y.DOM.byId('ubuntu_lxc.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_lxc-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a project", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "Product", "extra_no_results_message": null, "selected_value": null, "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_lxc-target-product", "step_title": "Search", "assign_me_text": "Pick me", "input_element": "ubuntu_lxc.target.product"};
        var show_widget_id = 'show-widget-ubuntu_lxc-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_lxc.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_lxc.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_lxc.status" name="ubuntu_lxc.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_lxc.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_lxc.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_lxc.assignee.assign_to_me" name="ubuntu_lxc.assignee.option" value="ubuntu_lxc.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_lxc.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_lxc.assignee.assigned_to" name="ubuntu_lxc.assignee.option" value="ubuntu_lxc.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_lxc.assignee.assigned_to">
              Ubuntu Container Security team (ubuntu-lxc-security)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_lxc.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_lxc.comment_on_change" name="ubuntu_lxc.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2407946">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/xenial/+source/lxc/+bug/1783591/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/lxc">Xenial</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/lxc/+bug/1783591/+editstatus" style="float: left" class="value statusTRIAGED">Triaged</a>
          <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/lxc/+bug/1783591/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2407946">
          <span class="yui3-activator-data-box">
            <a class="sprite team" href="https://launchpad.net/~ubuntu-lxc-security">Ubuntu Container Security team</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2407946">
     <td colspan="7"><form action="/ubuntu/xenial/+source/lxc/+bug/1783591/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/xenial/+source/lxc">lxc (Ubuntu Xenial)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2018-07-25 15:22:46 UTC" datetime="2018-07-25T15:22:46.698325+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2018-07-25 15:22:58 UTC" datetime="2018-07-25T15:22:58.830971+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2018-07-25 15:23:07 UTC" datetime="2018-07-25T15:23:07.890684+00:00">2018-07-25</time>
      </td>
    </tr>
    
    
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_xenial_lxc.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="lxc" id="ubuntu_xenial_lxc.sourcepackagename"
                         name="ubuntu_xenial_lxc.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_xenial_lxc.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_xenial_lxc.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_xenial_lxc-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionSourcePackage", "extra_no_results_message": null, "selected_value": "lxc", "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_xenial_lxc-sourcepackagename", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ubuntu_xenial_lxc.sourcepackagename"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_xenial_lxc-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_xenial_lxc.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_xenial_lxc.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_xenial_lxc.status" name="ubuntu_xenial_lxc.status" size="1" >
<option selected="selected" value="Triaged">Triaged</option>
</select>
</div>
<input name="ubuntu_xenial_lxc.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_xenial_lxc.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_xenial_lxc.assignee.assign_to_me" name="ubuntu_xenial_lxc.assignee.option" value="ubuntu_xenial_lxc.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_xenial_lxc.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_xenial_lxc.assignee.assigned_to" name="ubuntu_xenial_lxc.assignee.option" value="ubuntu_xenial_lxc.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_xenial_lxc.assignee.assigned_to">
              Ubuntu Container Security team (ubuntu-lxc-security)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_xenial_lxc.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_xenial_lxc.comment_on_change" name="ubuntu_xenial_lxc.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2407948">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/bionic/+source/lxc/+bug/1783591/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/bionic/+source/lxc">Bionic</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/bionic/+source/lxc/+bug/1783591/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/bionic/+source/lxc/+bug/1783591/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2407948">
          <span class="yui3-activator-data-box">
            <a class="sprite team" href="https://launchpad.net/~ubuntu-lxc-security">Ubuntu Container Security team</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2407948">
     <td colspan="7"><form action="/ubuntu/bionic/+source/lxc/+bug/1783591/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/bionic/+source/lxc">lxc (Ubuntu Bionic)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2018-07-25 15:22:46 UTC" datetime="2018-07-25T15:22:46.698325+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2018-07-25 15:22:55 UTC" datetime="2018-07-25T15:22:55.933676+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2018-07-25 15:23:10 UTC" datetime="2018-07-25T15:23:10.085765+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2018-08-06 16:01:08 UTC" datetime="2018-08-06T16:01:08.520332+00:00">2018-08-06</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2018-08-06 16:01:08 UTC" datetime="2018-08-06T16:01:08.520332+00:00">2018-08-06</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_bionic_lxc.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="lxc" id="ubuntu_bionic_lxc.sourcepackagename"
                         name="ubuntu_bionic_lxc.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_bionic_lxc.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_bionic_lxc.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_bionic_lxc-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionSourcePackage", "extra_no_results_message": null, "selected_value": "lxc", "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_bionic_lxc-sourcepackagename", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ubuntu_bionic_lxc.sourcepackagename"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_bionic_lxc-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_bionic_lxc.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_bionic_lxc.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_bionic_lxc.status" name="ubuntu_bionic_lxc.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_bionic_lxc.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_bionic_lxc.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_bionic_lxc.assignee.assign_to_me" name="ubuntu_bionic_lxc.assignee.option" value="ubuntu_bionic_lxc.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_bionic_lxc.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_bionic_lxc.assignee.assigned_to" name="ubuntu_bionic_lxc.assignee.option" value="ubuntu_bionic_lxc.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_bionic_lxc.assignee.assigned_to">
              Ubuntu Container Security team (ubuntu-lxc-security)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_bionic_lxc.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_bionic_lxc.comment_on_change" name="ubuntu_bionic_lxc.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2407947">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/cosmic/+source/lxc/+bug/1783591/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/cosmic/+source/lxc">Cosmic</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/cosmic/+source/lxc/+bug/1783591/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/cosmic/+source/lxc/+bug/1783591/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2407947">
          <span class="yui3-activator-data-box">
            <a class="sprite team" href="https://launchpad.net/~ubuntu-lxc-security">Ubuntu Container Security team</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2407947">
     <td colspan="7"><form action="/ubuntu/cosmic/+source/lxc/+bug/1783591/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/cosmic/+source/lxc">lxc (Ubuntu Cosmic)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2018-07-25 15:22:46 UTC" datetime="2018-07-25T15:22:46.698325+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2018-07-25 15:17:03 UTC" datetime="2018-07-25T15:17:03.700505+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2018-07-25 15:17:04 UTC" datetime="2018-07-25T15:17:04.448240+00:00">2018-07-25</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2018-08-06 16:02:01 UTC" datetime="2018-08-06T16:02:01.699545+00:00">2018-08-06</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2018-08-06 16:02:01 UTC" datetime="2018-08-06T16:02:01.699545+00:00">2018-08-06</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_cosmic_lxc.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="lxc" id="ubuntu_cosmic_lxc.sourcepackagename"
                         name="ubuntu_cosmic_lxc.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_cosmic_lxc.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_cosmic_lxc.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_cosmic_lxc-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionSourcePackage", "extra_no_results_message": null, "selected_value": "lxc", "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_cosmic_lxc-sourcepackagename", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ubuntu_cosmic_lxc.sourcepackagename"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_cosmic_lxc-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_cosmic_lxc.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_cosmic_lxc.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_cosmic_lxc.status" name="ubuntu_cosmic_lxc.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_cosmic_lxc.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_cosmic_lxc.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_cosmic_lxc.assignee.assign_to_me" name="ubuntu_cosmic_lxc.assignee.option" value="ubuntu_cosmic_lxc.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_cosmic_lxc.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_cosmic_lxc.assignee.assigned_to" name="ubuntu_cosmic_lxc.assignee.option" value="ubuntu_cosmic_lxc.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_cosmic_lxc.assignee.assigned_to">
              Ubuntu Container Security team (ubuntu-lxc-security)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_cosmic_lxc.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_cosmic_lxc.comment_on_change" name="ubuntu_cosmic_lxc.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>Matthias Gerstner from SUSE reported the following:</p>
<p>```<br />
Hello,</p>
<p>following the lxc security reporting guidelines [1] I am reporting a<br />
finding in the lxc-user-nic setuid binary. I&#x27;m encrypting this mail as a<br />
best practice and because I found valid GPG keys for all of your<br />
adresses. Please find my public key attached to this mail.</p>
<p>In the context of an openSUSE security audit of the lxc-user-nic setuid<br />
binary [2] (currently private bug) I came across an issue that should be<br />
adressed. In the &quot;delete&quot; case the program runs the following piece of<br />
code unconditionally with effective uid 0 (from lxc_user_nic.c):</p>
<p>```<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (request == LXC_USERNIC_DELETE) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;netns_<wbr />fd = open(args.pid, O_RDONLY);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (netns_fd &lt; 0) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;usernic_<wbr />error(&quot;<wbr />Could not open \&quot;%s\&quot;: %s\n&quot;, args.pid,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;strerror(<wbr />errno))<wbr />;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;exit(<wbr />EXIT_FAILURE)<wbr />;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
```</p>
<p>`args.pid` is a user controlled parameter and can be an arbitrary path<br />
at the moment. Nothing is done with this file descriptor later on in the<br />
program except an attempt at `setns(fd, CLONE_NEWNET)` in<br />
`is_privileged_<wbr />over_netns(<wbr />)`.  Still this allows the unprivileged caller<br />
of the setuid binary to achieve the following:</p>
<p>- it can test for existence of files normally not accessible to the<br />
&nbsp;&nbsp;caller (information leak). Example:<br />
&nbsp;&nbsp;```<br />
&nbsp;&nbsp;# this file is existing<br />
&nbsp;&nbsp;$ /usr/lib/<wbr />lxc/lxc-<wbr />user-nic delete path name /root/.bash_history type bridge nic<br />
&nbsp;&nbsp;lxc_user_nic.c: 1017: is_privileged_<wbr />over_netns: Failed to setns() to network namespace Invalid argument<br />
&nbsp;&nbsp;lxc_user_nic.c: 1161: main: Process is not privileged over network namespace</p>
<p>&nbsp;&nbsp;# this file is not existing<br />
&nbsp;&nbsp;$ /usr/lib/<wbr />lxc/lxc-<wbr />user-nic delete path name /root/.zsh_history type bridge nic<br />
&nbsp;&nbsp;lxc_user_nic.c: 1130: main: Could not open &quot;/root/<wbr />.zsh_history&quot;<wbr />: No such file or directory<br />
&nbsp;&nbsp;```</p>
<p>- it allows to trigger code paths in the kernel that are normally not<br />
&nbsp;&nbsp;accessible to the caller. This can happen when opening special files<br />
&nbsp;&nbsp;like character and block devices or files in /proc or /sys. Opening<br />
&nbsp;&nbsp;some of these files can cause lock or alloc operations or even more<br />
&nbsp;&nbsp;complex things to happen like when opening /dev/ptmx, which causes the<br />
&nbsp;&nbsp;allocation of a new master/slave pseudo terminal. Therefore this can<br />
&nbsp;&nbsp;lead to DoS like situations or have further unspecified impact.</p>
<p>For fixing this I suggest opening the file supplied in `args.pid` only<br />
with the permissions of the real user, since this is already done in<br />
`is_privileged_<wbr />over_netns(<wbr />)` anyway. Another approach would be the<br />
normalization of the input path and then only allowing a path of the<br />
pattern /proc/&lt;pid&gt;/ns/net.</p>
<p>[1] <a rel="nofollow" href="https://github.com/lxc/lxc/blob/master/README.md#reporting-security-issues">https:/<wbr />/github.<wbr />com/lxc/<wbr />lxc/blob/<wbr />master/<wbr />README.<wbr />md#reporting-<wbr />security-<wbr />issues</a><br />
[2] <a rel="nofollow" href="https://bugzilla.suse.com/show_bug.cgi?id=988348">https:/<wbr />/bugzilla.<wbr />suse.com/<wbr />show_bug.<wbr />cgi?id=<wbr />988348</a></p>
<p>Best regards</p>
<p>Matthias<br />
```</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            
          </span>
          <span id="tag-list">
          </span>
          <a href="+edit" title="Add tags" id="tags-trigger" class="sprite add">Add tags</a>
          
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2018-6556" title="lxc-user-nic when asked to delete a n...">2018-6556</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-25T15:21:44.635795+00:00" title="2018-07-25 15:21:44 UTC">on 2018-07-25</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Current thought is that we could statvfs the resulting path to make sure that the filesystem is nsfs and not even attempt an open if it&#x27;s not the case.</p>
<p>This will be handled as a medium priority security issue on the LXC side, so we will be issuing patches for affected releases (LXC 2.0 and LXC 3.0 appear affected) and will publish them in our stable branches and mailing-list when we reach the CRD (TBD at this point).</p>
<p>We will not be issuing emergency tarballs for this though, the fix will simply get rolled into the upcoming LXC 3.0.2 release (assuming the release happens after the CRD), distros should just apply the patch as part of a security update (easier to verify than a full bugfix release).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Current thought is that we could statvfs the resulting path to make sure that the filesystem is nsfs and not even attempt an open if it's not the case.

This will be handled as a medium priority security issue on the LXC side, so we will be issuing patches for affected releases (LXC 2.0 and LXC 3.0 appear affected) and will publish them in our stable branches and mailing-list when we reach the CRD (TBD at this point).

We will not be issuing emergency tarballs for this though, the fix will simply get rolled into the upcoming LXC 3.0.2 release (assuming the release happens after the CRD), distros should just apply the patch as part of a security update (easier to verify than a full bugfix release).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Bionic): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Triaged
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Triaged
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Bionic): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Stéphane Graber (stgraber)
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Bionic): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Stéphane Graber (stgraber)
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        Stéphane Graber (stgraber) &#8594; Ubuntu Container Security team (ubuntu-lxc-security)
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Bionic): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        Stéphane Graber (stgraber) &#8594; Ubuntu Container Security team (ubuntu-lxc-security)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-25T15:25:09.939229+00:00" title="2018-07-25 15:25:09 UTC">on 2018-07-25</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>For Ubuntu specifically:<br />
&nbsp;- precise: unaffected (0.7.5 or 1.0.9)<br />
&nbsp;- trusty: unaffected (1.0.10 or 2.0.8)<br />
&nbsp;- xenial: backports only (2.0.8 or 3.0.1)<br />
&nbsp;- bionic: affected (3.0.1)<br />
&nbsp;- cosmic: affected (3.0.1)</p>
<p>The 2.0 branch is only affected starting with 2.0.8, as we never pushed that bugfix release to Ubuntu, we&#x27;re not affected for the series that include this version.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">For Ubuntu specifically:
 - precise: unaffected (0.7.5 or 1.0.9)
 - trusty: unaffected (1.0.10 or 2.0.8)
 - xenial: backports only (2.0.8 or 3.0.1)
 - bionic: affected (3.0.1)
 - cosmic: affected (3.0.1)

The 2.0 branch is only affected starting with 2.0.8, as we never pushed that bugfix release to Ubuntu, we're not affected for the series that include this version.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-25T15:35:19.656906+00:00" title="2018-07-25 15:35:19 UTC">on 2018-07-25</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Ideal CRD for us would be the 6th (Monday) of August.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Ideal CRD for us would be the 6th (Monday) of August.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-25T18:11:03.274939+00:00" title="2018-07-25 18:11:03 UTC">on 2018-07-25</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5167733/+files/0001-lxc-user-nic-verify-file-descriptor.patch">0001-lxc-user-nic-verify-file-descriptor.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5167733">Edit</a>
        (2.7 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I think I have a patch:<br />
1. open() O_PATH fd which won&#x27;t trigger an actual open()<br />
2. fstatvfs() the O_PATH fd and verify that f_fsid == NSFS_MAGIC<br />
3. build proc path to the O_PATH fd and reopen O_PATH fd with O_RDONLY | O_CLOEXEC<br />
4. perform setns(netns_fd, CLONE_NEWNET) (which will fail on anything else than an actual netns fd</p>
<p>Doing the O_PATH open and then the /proc reopen trick let&#x27;s us avoid TOCTOU.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I think I have a patch:
1. open() O_PATH fd which won't trigger an actual open()
2. fstatvfs() the O_PATH fd and verify that f_fsid == NSFS_MAGIC
3. build proc path to the O_PATH fd and reopen O_PATH fd with O_RDONLY | O_CLOEXEC
4. perform setns(netns_fd, CLONE_NEWNET) (which will fail on anything else than an actual netns fd

Doing the O_PATH open and then the /proc reopen trick let's us avoid TOCTOU.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-26T00:55:03.400009+00:00" title="2018-07-26 00:55:03 UTC">on 2018-07-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>It&#x27;d be great if we could get reviews on this patch by:</p>
<p>&nbsp;- Serge Hallyn<br />
&nbsp;- Matthias Gerstner<br />
&nbsp;- Ubuntu security team</p>
<p>If all are happy with it, we should be able to move forward with it.</p>
<p>Matthias, does SUSE want to issue a CVE number for this or do you prefer we do it on our side?</p>
<p>Once we have a CVE number assigned to this, we&#x27;ll let the Ubuntu security team communicate the patch and CRD to the other distros and I&#x27;ll be preparing Ubuntu packages for release on the CRD.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">It'd be great if we could get reviews on this patch by:

 - Serge Hallyn
 - Matthias Gerstner
 - Ubuntu security team

If all are happy with it, we should be able to move forward with it.

Matthias, does SUSE want to issue a CVE number for this or do you prefer we do it on our side?

Once we have a CVE number assigned to this, we'll let the Ubuntu security team communicate the patch and CRD to the other distros and I'll be preparing Ubuntu packages for release on the CRD.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mgerstner" class="sprite person">Matthias Gerstner (mgerstner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-26T10:17:58.028107+00:00" title="2018-07-26 10:17:58 UTC">on 2018-07-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hello and thanks for the quick patch. I will review it today and report back.</p>
<p>Regarding the CVE number, the SUSE security team can request one if it helps you out. Since SUSE is not directly affected (because we don&#x27;t ship the binary with setuid bit set at the moment) maybe it&#x27;s better if you request it.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hello and thanks for the quick patch. I will review it today and report back.

Regarding the CVE number, the SUSE security team can request one if it helps you out. Since SUSE is not directly affected (because we don't ship the binary with setuid bit set at the moment) maybe it's better if you request it.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-26T11:49:43+00:00" title="2018-07-26 11:49:43 UTC">on 2018-07-26</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/lxc/+bug/1783591/comments/8">
                <strong>Re: [Bug 1783591] Re: lxc-user-nic allows unprivileged users to open arbitrary files</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/comments/8/+download">Download full text</a> (4.1 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Thu, Jul 26, 2018 at 10:17:58AM -0000, Matthias Gerstner wrote:<br />
<span class="foldable-quoted">
&gt; Hello and thanks for the quick patch. I will review it today and report<br />
&gt; back.
</span></p>
<p>Cool, thanks very much for that!</p>
<p><span class="foldable-quoted">&gt;<br />
&gt; Regarding the CVE number, the SUSE security team can request one if it<br />
&gt; helps you out. Since SUSE is not directly affected (because we don&#x27;t<br />
&gt; ship the binary with setuid bit set at the moment) maybe it&#x27;s better if<br />
&gt; you request it.
</span></p>
<p>I&#x27;ll leave that for Stéphane to decide! :)</p>
<p>Christian</p>
<p><span class="foldable-quoted">&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are a member of Ubuntu<br />
&gt; Container Security team, which is subscribed to the bug report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/1783591">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1783591</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   lxc-user-nic allows unprivileged users to open arbitrary files<br />
&gt;<br />
&gt; Status in lxc package in Ubuntu:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Xenial:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Bionic:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Cosmic:<br />
&gt;   Triaged<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   Matthias Gerstner from SUSE reported the following:<br />
&gt;<br />
&gt;   ```<br />
&gt;   Hello,<br />
&gt;<br />
&gt;   following the lxc security reporting guidelines [1] I am reporting a<br />
&gt;   finding in the lxc-user-nic setuid binary. I&#x27;m encrypting this mail as a<br />
&gt;   best practice and because I found valid GPG keys for all of your<br />
&gt;   adresses. Please find my public key attached to this mail.<br />
&gt;<br />
&gt;   In the context of an openSUSE security audit of the lxc-user-nic setuid<br />
&gt;   binary [2] (currently private bug) I came across an issue that should be<br />
&gt;   adressed. In the &quot;delete&quot; case the program runs the following piece of<br />
&gt;   code unconditionally with effective uid 0 (from lxc_user_nic.c):<br />
&gt;<br />
&gt;   ```<br />
&gt;           } else if (request == LXC_USERNIC_DELETE) {<br />
&gt;                   netns_fd = open(args.pid, O_RDONLY);<br />
&gt;                   if (netns_fd &lt; 0) {<br />
&gt;                           usernic_<wbr />error(&quot;<wbr />Could not open \&quot;%s\&quot;: %s\n&quot;, args.pid,<br />
&gt;                                         strerror(errno));<br />
&gt;                           exit(EXIT_FAILURE);<br />
&gt;                   }<br />
&gt;           }<br />
&gt;   ```<br />
&gt;<br />
&gt;   `args.pid` is a user controlled parameter and can be an arbitrary path<br />
&gt;   at the moment. Nothing is done with this file descriptor later on in the<br />
&gt;   program except an attempt at `setns(fd, CLONE_NEWNET)` in<br />
&gt;   `is_privileged_<wbr />over_netns(<wbr />)`.  Still this allows the unprivileged caller<br />
&gt;   of the setuid binary to achieve the following:<br />
&gt;<br />
&gt;   - it can test for existence of files normally not accessible to the<br />
&gt;     caller (information leak). Example:<br />
&gt;     ```<br />
&gt;     # this file is existing<br />
&gt;     $ /usr/lib/<wbr />lxc/lxc-<wbr />user-nic delete path name /root/.bash_history type bridge nic<br />
&gt;     lxc_user_nic.c: 1017: is_privileged_<wbr />over_netns: Failed to setns() to network namespace Invalid argument<br />
&gt;     lxc_user_nic.c: 1161: main: Process is not privileged over network namespace<br />
&gt;<br />
&gt;     # this file is not existing<br />
&gt;     $ /usr/lib/<wbr />lxc/lxc-<wbr />user-nic delete path name /root/.zsh_history type bridge nic<br />
&gt;     lxc_user_nic.c: 1130: main: Could not open &quot;/root/<wbr />.zsh_history&quot;<wbr />: No such file or directory<br />
&gt;     ```<br />
&gt;<br />
&gt;   - it allows to trigger code paths in the kernel that are normally not<br />
&gt;     accessible to the caller. This can happen when opening special...
</span></p></div>
    
    <p>
      <a href="/ubuntu/+source/lxc/+bug/1783591/comments/8">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Thu, Jul 26, 2018 at 10:17:58AM -0000, Matthias Gerstner wrote:
&gt; Hello and thanks for the quick patch. I will review it today and report
&gt; back.

Cool, thanks very much for that!

&gt; 
&gt; Regarding the CVE number, the SUSE security team can request one if it
&gt; helps you out. Since SUSE is not directly affected (because we don't
&gt; ship the binary with setuid bit set at the moment) maybe it's better if
&gt; you request it.

I'll leave that for Stéphane to decide! :)

Christian

&gt; 
&gt; -- 
&gt; You received this bug notification because you are a member of Ubuntu
&gt; Container Security team, which is subscribed to the bug report.
&gt; https://bugs.launchpad.net/bugs/1783591
&gt; 
&gt; Title:
&gt;   lxc-user-nic allows unprivileged users to open arbitrary files
&gt; 
&gt; Status in lxc package in Ubuntu:
&gt;   Triaged
&gt; Status in lxc source package in Xenial:
&gt;   Triaged
&gt; Status in lxc source package in Bionic:
&gt;   Triaged
&gt; Status in lxc source package in Cosmic:
&gt;   Triaged
&gt; 
&gt; Bug description:
&gt;   Matthias Gerstner from SUSE reported the following:
&gt; 
&gt;   ```
&gt;   Hello,
&gt; 
&gt;   following the lxc security reporting guidelines [1] I am reporting a
&gt;   finding in the lxc-user-nic setuid binary. I'm encrypting this mail as a
&gt;   best practice and because I found valid GPG keys for all of your
&gt;   adresses. Please find my public key attached to this mail.
&gt; 
&gt;   In the context of an openSUSE security audit of the lxc-user-nic setuid
&gt;   binary [2] (currently private bug) I came across an issue that should be
&gt;   adressed. In the "delete" case the program runs the following piece of
&gt;   code unconditionally with effective uid 0 (from lxc_user_nic.c):
&gt; 
&gt;   ```
&gt;           } else if (request == LXC_USERNIC_DELETE) {
&gt;                   netns_fd = open(args.pid, O_RDONLY);
&gt;                   if (netns_fd &lt; 0) {
&gt;                           usernic_error("Could not open \"%s\": %s\n", args.pid,
&gt;                                         strerror(errno));
&gt;                           exit(EXIT_FAILURE);
&gt;                   }
&gt;           }
&gt;   ```
&gt; 
&gt;   `args.pid` is a user controlled parameter and can be an arbitrary path
&gt;   at the moment. Nothing is done with this file descriptor later on in the
&gt;   program except an attempt at `setns(fd, CLONE_NEWNET)` in
&gt;   `is_privileged_over_netns()`.  Still this allows the unprivileged caller
&gt;   of the setuid binary to achieve the following:
&gt; 
&gt;   - it can test for existence of files normally not accessible to the
&gt;     caller (information leak). Example:
&gt;     ```
&gt;     # this file is existing
&gt;     $ /usr/lib/lxc/lxc-user-nic delete path name /root/.bash_history type bridge nic
&gt;     lxc_user_nic.c: 1017: is_privileged_over_netns: Failed to setns() to network namespace Invalid argument
&gt;     lxc_user_nic.c: 1161: main: Process is not privileged over network namespace
&gt; 
&gt;     # this file is not existing
&gt;     $ /usr/lib/lxc/lxc-user-nic delete path name /root/.zsh_history type bridge nic
&gt;     lxc_user_nic.c: 1130: main: Could not open "/root/.zsh_history": No such file or directory
&gt;     ```
&gt; 
&gt;   - it allows to trigger code paths in the kernel that are normally not
&gt;     accessible to the caller. This can happen when opening special files
&gt;     like character and block devices or files in /proc or /sys. Opening
&gt;     some of these files can cause lock or alloc operations or even more
&gt;     complex things to happen like when opening /dev/ptmx, which causes the
&gt;     allocation of a new master/slave pseudo terminal. Therefore this can
&gt;     lead to DoS like situations or have further unspecified impact.
&gt; 
&gt;   For fixing this I suggest opening the file supplied in `args.pid` only
&gt;   with the permissions of the real user, since this is already done in
&gt;   `is_privileged_over_netns()` anyway. Another approach would be the
&gt;   normalization of the input path and then only allowing a path of the
&gt;   pattern /proc/&lt;pid&gt;/ns/net.
&gt; 
&gt;   [1] https://github.com/lxc/lxc/blob/master/README.md#reporting-security-issues
&gt;   [2] https://bugzilla.suse.com/show_bug.cgi?id=988348
&gt; 
&gt;   Best regards
&gt; 
&gt;   Matthias
&gt;   ```
&gt; 
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+subscriptions
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mgerstner" class="sprite person">Matthias Gerstner (mgerstner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-26T11:51:27.628120+00:00" title="2018-07-26 11:51:27 UTC">on 2018-07-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I have looked at the patch and security wise it looks very good to me. For completeness I would also add the O_CLOEXEC i.e.:</p>
<p>netns_fd = open(args.pid, O_PATH | O_CLOEXEC);</p>
<p>I think there is still a functional issue, however. You are using `fstatvfs()` and evaluate `f_fsid`. This is, as far as I understand, a unique identifier for file systems independent of their file system type. It returns zero for pseudo file systems.</p>
<p>To get the file system magic you need to use `fstatfs()` and evaluate `f_type` instead.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I have looked at the patch and security wise it looks very good to me. For completeness I would also add the O_CLOEXEC i.e.:

netns_fd = open(args.pid, O_PATH | O_CLOEXEC);

I think there is still a functional issue, however. You are using `fstatvfs()` and evaluate `f_fsid`. This is, as far as I understand, a unique identifier for file systems independent of their file system type. It returns zero for pseudo file systems.

To get the file system magic you need to use `fstatfs()` and evaluate `f_type` instead.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-26T12:08:44+00:00" title="2018-07-26 12:08:44 UTC">on 2018-07-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/comments/9/+download">Download full text</a> (5.3 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Thu, Jul 26, 2018 at 11:51:27AM -0000, Matthias Gerstner wrote:<br />
<span class="foldable-quoted">
&gt; I have looked at the patch and security wise it looks very good to me.<br />
&gt; For completeness I would also add the O_CLOEXEC i.e.:<br />
&gt;<br />
&gt; netns_fd = open(args.pid, O_PATH | O_CLOEXEC);
</span></p>
<p>The manpage (man 2 open ) states that:</p>
<p>&quot;When O_PATH is specified in flags, flag bits other than  O_CLOEXEC,<br />
&nbsp;O_DIRECTORY, and O_NOFOLLOW are ignored.&quot;</p>
<p>that&#x27;s why I left it out.</p>
<p><span class="foldable-quoted">&gt;<br />
&gt; I think there is still a functional issue, however. You are using<br />
&gt; `fstatvfs()` and evaluate `f_fsid`. This is, as far as I understand, a<br />
&gt; unique identifier for file systems independent of their file system<br />
&gt; type. It returns zero for pseudo file systems.
</span></p>
<p>Ok, I&#x27;ll check the kernel sources but I need to switch this to our<br />
has_fs_type() helper anyway that does:</p>
<p>/* __typeof__ should be safe to use with all compilers. */<br />
typedef __typeof__(((struct statfs *)NULL)-&gt;f_type) fs_type_magic;<br />
extern bool has_fs_type(const char *path, fs_type_magic magic_val);<br />
extern bool is_fs_type(const struct statfs *fs, fs_type_magic magic_val);</p>
<p>bool is_fs_type(const struct statfs *fs, fs_type_magic magic_val)<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return (fs-&gt;f_type == (fs_type_<wbr />magic)magic_<wbr />val);<br />
}</p>
<p>bool has_fs_type(const char *path, fs_type_magic magic_val)<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool has_type;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int ret;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct statfs sb;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret = statfs(path, &amp;sb);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (ret &lt; 0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;return false;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;has_type = is_fs_type(&amp;sb, magic_val);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!has_type &amp;&amp; magic_val == RAMFS_MAGIC)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;WARN(<wbr />&quot;When the ramfs it a tmpfs statfs() might report tmpfs&quot;);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return has_type;<br />
}</p>
<p>Thanks!<br />
Christian</p>
<p><span class="foldable-quoted">&gt;<br />
&gt; To get the file system magic you need to use `fstatfs()` and evaluate<br />
&gt; `f_type` instead.<br />
&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are a member of Ubuntu<br />
&gt; Container Security team, which is subscribed to the bug report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/1783591">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1783591</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   lxc-user-nic allows unprivileged users to open arbitrary files<br />
&gt;<br />
&gt; Status in lxc package in Ubuntu:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Xenial:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Bionic:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Cosmic:<br />
&gt;   Triaged<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   Matthias Gerstner from SUSE reported the following:<br />
&gt;<br />
&gt;   ```<br />
&gt;   Hello,<br />
&gt;<br />
&gt;   following the lxc security reporting guidelines [1] I am reporting a<br />
&gt;   finding in the lxc-user-nic setuid binary. I&#x27;m encrypting this mail as a<br />
&gt;   best practice and because I found valid GPG keys for all of your<br />
&gt;   adresses. Please find my public key attached to this mail.<br />
&gt;<br />
&gt;   In the context of an openSUSE security audit of the lxc-user-nic setuid<br />
&gt;   binary [2] (currently private bug) I came across an issue that should be<br />
&gt;   adressed. In the &quot;delete&quot; case the program runs the following piece of<br />
&gt;   code unconditionally with effective uid 0 (from lxc_user_nic.c):<br />
&gt;<br />
&gt;   ```<br />
&gt;           } else if (request == LXC_USERNIC_DELETE) {<br />
&gt;                   netns_fd = open(args.pid, O_RDONLY);<br />
&gt;                   if (netns_fd &lt; 0) {<br />
&gt;                           usernic_<wbr />error(&quot;<wbr />Could not open \&quot;%s\&quot;: %s\n&quot;, args.pid,<br />
&gt;                                         strerror(errno)...
</span></p></div>
    
    <p>
      <a href="/ubuntu/+source/lxc/+bug/1783591/comments/9">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Thu, Jul 26, 2018 at 11:51:27AM -0000, Matthias Gerstner wrote:
&gt; I have looked at the patch and security wise it looks very good to me.
&gt; For completeness I would also add the O_CLOEXEC i.e.:
&gt; 
&gt; netns_fd = open(args.pid, O_PATH | O_CLOEXEC);

The manpage (man 2 open ) states that:

"When O_PATH is specified in flags, flag bits other than  O_CLOEXEC,
 O_DIRECTORY, and O_NOFOLLOW are ignored."

that's why I left it out.

&gt; 
&gt; I think there is still a functional issue, however. You are using
&gt; `fstatvfs()` and evaluate `f_fsid`. This is, as far as I understand, a
&gt; unique identifier for file systems independent of their file system
&gt; type. It returns zero for pseudo file systems.

Ok, I'll check the kernel sources but I need to switch this to our
has_fs_type() helper anyway that does:

/* __typeof__ should be safe to use with all compilers. */
typedef __typeof__(((struct statfs *)NULL)-&gt;f_type) fs_type_magic;
extern bool has_fs_type(const char *path, fs_type_magic magic_val);
extern bool is_fs_type(const struct statfs *fs, fs_type_magic magic_val);

bool is_fs_type(const struct statfs *fs, fs_type_magic magic_val)
{
        return (fs-&gt;f_type == (fs_type_magic)magic_val);
}

bool has_fs_type(const char *path, fs_type_magic magic_val)
{
        bool has_type;
        int ret;
        struct statfs sb;

        ret = statfs(path, &amp;sb);
        if (ret &lt; 0)
                return false;

        has_type = is_fs_type(&amp;sb, magic_val);
        if (!has_type &amp;&amp; magic_val == RAMFS_MAGIC)
                WARN("When the ramfs it a tmpfs statfs() might report tmpfs");

        return has_type;
}

Thanks!
Christian

&gt; 
&gt; To get the file system magic you need to use `fstatfs()` and evaluate
&gt; `f_type` instead.
&gt; 
&gt; -- 
&gt; You received this bug notification because you are a member of Ubuntu
&gt; Container Security team, which is subscribed to the bug report.
&gt; https://bugs.launchpad.net/bugs/1783591
&gt; 
&gt; Title:
&gt;   lxc-user-nic allows unprivileged users to open arbitrary files
&gt; 
&gt; Status in lxc package in Ubuntu:
&gt;   Triaged
&gt; Status in lxc source package in Xenial:
&gt;   Triaged
&gt; Status in lxc source package in Bionic:
&gt;   Triaged
&gt; Status in lxc source package in Cosmic:
&gt;   Triaged
&gt; 
&gt; Bug description:
&gt;   Matthias Gerstner from SUSE reported the following:
&gt; 
&gt;   ```
&gt;   Hello,
&gt; 
&gt;   following the lxc security reporting guidelines [1] I am reporting a
&gt;   finding in the lxc-user-nic setuid binary. I'm encrypting this mail as a
&gt;   best practice and because I found valid GPG keys for all of your
&gt;   adresses. Please find my public key attached to this mail.
&gt; 
&gt;   In the context of an openSUSE security audit of the lxc-user-nic setuid
&gt;   binary [2] (currently private bug) I came across an issue that should be
&gt;   adressed. In the "delete" case the program runs the following piece of
&gt;   code unconditionally with effective uid 0 (from lxc_user_nic.c):
&gt; 
&gt;   ```
&gt;           } else if (request == LXC_USERNIC_DELETE) {
&gt;                   netns_fd = open(args.pid, O_RDONLY);
&gt;                   if (netns_fd &lt; 0) {
&gt;                           usernic_error("Could not open \"%s\": %s\n", args.pid,
&gt;                                         strerror(errno));
&gt;                           exit(EXIT_FAILURE);
&gt;                   }
&gt;           }
&gt;   ```
&gt; 
&gt;   `args.pid` is a user controlled parameter and can be an arbitrary path
&gt;   at the moment. Nothing is done with this file descriptor later on in the
&gt;   program except an attempt at `setns(fd, CLONE_NEWNET)` in
&gt;   `is_privileged_over_netns()`.  Still this allows the unprivileged caller
&gt;   of the setuid binary to achieve the following:
&gt; 
&gt;   - it can test for existence of files normally not accessible to the
&gt;     caller (information leak). Example:
&gt;     ```
&gt;     # this file is existing
&gt;     $ /usr/lib/lxc/lxc-user-nic delete path name /root/.bash_history type bridge nic
&gt;     lxc_user_nic.c: 1017: is_privileged_over_netns: Failed to setns() to network namespace Invalid argument
&gt;     lxc_user_nic.c: 1161: main: Process is not privileged over network namespace
&gt; 
&gt;     # this file is not existing
&gt;     $ /usr/lib/lxc/lxc-user-nic delete path name /root/.zsh_history type bridge nic
&gt;     lxc_user_nic.c: 1130: main: Could not open "/root/.zsh_history": No such file or directory
&gt;     ```
&gt; 
&gt;   - it allows to trigger code paths in the kernel that are normally not
&gt;     accessible to the caller. This can happen when opening special files
&gt;     like character and block devices or files in /proc or /sys. Opening
&gt;     some of these files can cause lock or alloc operations or even more
&gt;     complex things to happen like when opening /dev/ptmx, which causes the
&gt;     allocation of a new master/slave pseudo terminal. Therefore this can
&gt;     lead to DoS like situations or have further unspecified impact.
&gt; 
&gt;   For fixing this I suggest opening the file supplied in `args.pid` only
&gt;   with the permissions of the real user, since this is already done in
&gt;   `is_privileged_over_netns()` anyway. Another approach would be the
&gt;   normalization of the input path and then only allowing a path of the
&gt;   pattern /proc/&lt;pid&gt;/ns/net.
&gt; 
&gt;   [1] https://github.com/lxc/lxc/blob/master/README.md#reporting-security-issues
&gt;   [2] https://bugzilla.suse.com/show_bug.cgi?id=988348
&gt; 
&gt;   Best regards
&gt; 
&gt;   Matthias
&gt;   ```
&gt; 
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+subscriptions
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-26T12:35:38.546267+00:00" title="2018-07-26 12:35:38 UTC">on 2018-07-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5168102/+files/0001-lxc-user-nic-verify-file-descriptor.patch">0001-lxc-user-nic-verify-file-descriptor.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5168102">Edit</a>
        (3.5 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Here&#x27;s the updated version that switches from fstatvfs() to fstatfs()<br />
to reuse infrastructure we already have and to correctly check for the fs type.<br />
The logic stays the same:</p>
<p>1. open() O_PATH fd which won&#x27;t trigger an actual open()<br />
2. fstats() the O_PATH fd and verify that f_type == NSFS_MAGIC<br />
3. build proc path to the O_PATH fd and reopen O_PATH fd with O_RDONLY | O_CLOEXEC<br />
4. perform setns(netns_fd, CLONE_NEWNET) (which will fail on anything else than an actual netns fd</p>
<p>Doing the O_PATH open and then the /proc reopen trick let&#x27;s us avoid TOCTOU.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Here's the updated version that switches from fstatvfs() to fstatfs()
to reuse infrastructure we already have and to correctly check for the fs type.
The logic stays the same:

1. open() O_PATH fd which won't trigger an actual open()
2. fstats() the O_PATH fd and verify that f_type == NSFS_MAGIC
3. build proc path to the O_PATH fd and reopen O_PATH fd with O_RDONLY | O_CLOEXEC
4. perform setns(netns_fd, CLONE_NEWNET) (which will fail on anything else than an actual netns fd

Doing the O_PATH open and then the /proc reopen trick let's us avoid TOCTOU.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-26T12:43:22.056299+00:00" title="2018-07-26 12:43:22 UTC">on 2018-07-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fwiw, I misread the open manpage.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fwiw, I misread the open manpage.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-26T12:45:09.790406+00:00" title="2018-07-26 12:45:09 UTC">on 2018-07-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5168103/+files/0001-lxc-user-nic-verify-file-descriptor.patch">0001-lxc-user-nic-verify-file-descriptor.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5168103">Edit</a>
        (3.5 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Here&#x27;s the correct patch including the missing O_CLOEXEC flag for the O_PATH fd.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Here's the correct patch including the missing O_CLOEXEC flag for the O_PATH fd.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mgerstner" class="sprite person">Matthias Gerstner (mgerstner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-26T14:52:11.606356+00:00" title="2018-07-26 14:52:11 UTC">on 2018-07-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The updated patch looks good to me. As it happens I also misread the open man page initially, so probably the wording is difficult to follow ;-).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The updated patch looks good to me. As it happens I also misread the open man page initially, so probably the wording is difficult to follow ;-).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~serge-hallyn" class="sprite person">Serge Hallyn (serge-hallyn)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-26T23:52:30.057229+00:00" title="2018-07-26 23:52:30 UTC">on 2018-07-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi,</p>
<p>looks good, my only complaint would be that the WARN message in fhas_fs_type() doesn&#x27;t seem clear.  I&#x27;d offer an alternative but I don&#x27;t know what you&#x27;re trying to say :)</p>
<p>Do you think there&#x27;s any point in enforcing that the filename be &#x27;net&#x27; ?  (i.e. to avoid playing any sorts of games with a userns)  Probably not because is_privileged_<wbr />over_netns(<wbr />) will trip over it in its setns(netns_fd, CLONE_NEWNET) in that case, right?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi,

looks good, my only complaint would be that the WARN message in fhas_fs_type() doesn't seem clear.  I'd offer an alternative but I don't know what you're trying to say :)

Do you think there's any point in enforcing that the filename be 'net' ?  (i.e. to avoid playing any sorts of games with a userns)  Probably not because is_privileged_over_netns() will trip over it in its setns(netns_fd, CLONE_NEWNET) in that case, right?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-27T09:53:11+00:00" title="2018-07-27 09:53:11 UTC">on 2018-07-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/comments/15/+download">Download full text</a> (5.2 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Thu, Jul 26, 2018 at 11:52:30PM -0000, Serge Hallyn wrote:<br />
<span class="foldable-quoted">
&gt; Hi,<br />
&gt;<br />
&gt; looks good, my only complaint would be that the WARN message in<br />
&gt; fhas_fs_type() doesn&#x27;t seem clear.  I&#x27;d offer an alternative but I don&#x27;t
</span></p>
<p>One way to detect whether we are on a ramfs or not is to stat the fs.<br />
However, when the ramfs is a tmpfs then the kernel will report back<br />
tmpfs. So if you statfs for ramfs and get tmpfs back you still need to<br />
go on and parse mountinfo to find out whether you are on a ramfs or not.<br />
I think we can remove this warning here.</p>
<p><span class="foldable-quoted">&gt; know what you&#x27;re trying to say :)<br />
&gt;<br />
&gt; Do you think there&#x27;s any point in enforcing that the filename be &#x27;net&#x27; ?
</span></p>
<p>We can&#x27;t really. lxc-user-nic is not sending /proc/&lt;pid&gt;/ns/net but<br />
rather sends us /proc/&lt;pid&gt;/fd/&lt;nr&gt; which refers to a network namespace<br />
that was preserved at container startup time. If we wanted to enforce<br />
that the filename is &quot;net&quot; we&#x27;d need to start making bind-mounts which<br />
leads to a whole set of other problems.<br />
One thing we could do is to do a readlink() after we&#x27;ve verified that<br />
the O_PATH fd refers to a nsfs. But setns() will be called as<br />
setns(&lt;fd&gt;, CLONE_NEWNET) anyway and thus will fail with EINVAL when the<br />
fd does refers to a non-network namespace nsfd. So there&#x27;s no benefit.</p>
<p><span class="foldable-quoted">&gt; (i.e. to avoid playing any sorts of games with a userns)  Probably not<br />
&gt; because is_privileged_<wbr />over_netns(<wbr />) will trip over it in its<br />
&gt; setns(netns_fd, CLONE_NEWNET) in that case, right?
</span></p>
<p>Exactly. See the end of my comment right above. :)<br />
I&#x27;ll update the patch to remove the WARN(). The rest will stay<br />
the same.</p>
<p>Thanks!<br />
Christian</p>
<p><span class="foldable-quoted">&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are a member of Ubuntu<br />
&gt; Container Security team, which is subscribed to the bug report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/1783591">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1783591</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   lxc-user-nic allows unprivileged users to open arbitrary files<br />
&gt;<br />
&gt; Status in lxc package in Ubuntu:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Xenial:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Bionic:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Cosmic:<br />
&gt;   Triaged<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   Matthias Gerstner from SUSE reported the following:<br />
&gt;<br />
&gt;   ```<br />
&gt;   Hello,<br />
&gt;<br />
&gt;   following the lxc security reporting guidelines [1] I am reporting a<br />
&gt;   finding in the lxc-user-nic setuid binary. I&#x27;m encrypting this mail as a<br />
&gt;   best practice and because I found valid GPG keys for all of your<br />
&gt;   adresses. Please find my public key attached to this mail.<br />
&gt;<br />
&gt;   In the context of an openSUSE security audit of the lxc-user-nic setuid<br />
&gt;   binary [2] (currently private bug) I came across an issue that should be<br />
&gt;   adressed. In the &quot;delete&quot; case the program runs the following piece of<br />
&gt;   code unconditionally with effective uid 0 (from lxc_user_nic.c):<br />
&gt;<br />
&gt;   ```<br />
&gt;           } else if (request == LXC_USERNIC_DELETE) {<br />
&gt;                   netns_fd = open(args.pid, O_RDONLY);<br />
&gt;                   if (netns_fd &lt; 0) {<br />
&gt;                           usernic_<wbr />error(&quot;<wbr />Could not open \&quot;%s\&quot;: %s\n&quot;, args.pid,<br />
&gt;                                         strerror(errno));<br />
&gt;                           exit(EXIT_FAILURE);<br />
&gt;                   }<br />
&gt;           }<br />
&gt;   ```<br />
&gt;<br />
&gt;   `args.pid` is a user controlled parameter and ...
</span></p></div>
    
    <p>
      <a href="/ubuntu/+source/lxc/+bug/1783591/comments/15">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Thu, Jul 26, 2018 at 11:52:30PM -0000, Serge Hallyn wrote:
&gt; Hi,
&gt; 
&gt; looks good, my only complaint would be that the WARN message in
&gt; fhas_fs_type() doesn't seem clear.  I'd offer an alternative but I don't

One way to detect whether we are on a ramfs or not is to stat the fs.
However, when the ramfs is a tmpfs then the kernel will report back
tmpfs. So if you statfs for ramfs and get tmpfs back you still need to
go on and parse mountinfo to find out whether you are on a ramfs or not.
I think we can remove this warning here.

&gt; know what you're trying to say :)
&gt; 
&gt; Do you think there's any point in enforcing that the filename be 'net' ?

We can't really. lxc-user-nic is not sending /proc/&lt;pid&gt;/ns/net but
rather sends us /proc/&lt;pid&gt;/fd/&lt;nr&gt; which refers to a network namespace
that was preserved at container startup time. If we wanted to enforce
that the filename is "net" we'd need to start making bind-mounts which
leads to a whole set of other problems.
One thing we could do is to do a readlink() after we've verified that
the O_PATH fd refers to a nsfs. But setns() will be called as
setns(&lt;fd&gt;, CLONE_NEWNET) anyway and thus will fail with EINVAL when the
fd does refers to a non-network namespace nsfd. So there's no benefit.

&gt; (i.e. to avoid playing any sorts of games with a userns)  Probably not
&gt; because is_privileged_over_netns() will trip over it in its
&gt; setns(netns_fd, CLONE_NEWNET) in that case, right?

Exactly. See the end of my comment right above. :)
I'll update the patch to remove the WARN(). The rest will stay
the same.

Thanks!
Christian

&gt; 
&gt; -- 
&gt; You received this bug notification because you are a member of Ubuntu
&gt; Container Security team, which is subscribed to the bug report.
&gt; https://bugs.launchpad.net/bugs/1783591
&gt; 
&gt; Title:
&gt;   lxc-user-nic allows unprivileged users to open arbitrary files
&gt; 
&gt; Status in lxc package in Ubuntu:
&gt;   Triaged
&gt; Status in lxc source package in Xenial:
&gt;   Triaged
&gt; Status in lxc source package in Bionic:
&gt;   Triaged
&gt; Status in lxc source package in Cosmic:
&gt;   Triaged
&gt; 
&gt; Bug description:
&gt;   Matthias Gerstner from SUSE reported the following:
&gt; 
&gt;   ```
&gt;   Hello,
&gt; 
&gt;   following the lxc security reporting guidelines [1] I am reporting a
&gt;   finding in the lxc-user-nic setuid binary. I'm encrypting this mail as a
&gt;   best practice and because I found valid GPG keys for all of your
&gt;   adresses. Please find my public key attached to this mail.
&gt; 
&gt;   In the context of an openSUSE security audit of the lxc-user-nic setuid
&gt;   binary [2] (currently private bug) I came across an issue that should be
&gt;   adressed. In the "delete" case the program runs the following piece of
&gt;   code unconditionally with effective uid 0 (from lxc_user_nic.c):
&gt; 
&gt;   ```
&gt;           } else if (request == LXC_USERNIC_DELETE) {
&gt;                   netns_fd = open(args.pid, O_RDONLY);
&gt;                   if (netns_fd &lt; 0) {
&gt;                           usernic_error("Could not open \"%s\": %s\n", args.pid,
&gt;                                         strerror(errno));
&gt;                           exit(EXIT_FAILURE);
&gt;                   }
&gt;           }
&gt;   ```
&gt; 
&gt;   `args.pid` is a user controlled parameter and can be an arbitrary path
&gt;   at the moment. Nothing is done with this file descriptor later on in the
&gt;   program except an attempt at `setns(fd, CLONE_NEWNET)` in
&gt;   `is_privileged_over_netns()`.  Still this allows the unprivileged caller
&gt;   of the setuid binary to achieve the following:
&gt; 
&gt;   - it can test for existence of files normally not accessible to the
&gt;     caller (information leak). Example:
&gt;     ```
&gt;     # this file is existing
&gt;     $ /usr/lib/lxc/lxc-user-nic delete path name /root/.bash_history type bridge nic
&gt;     lxc_user_nic.c: 1017: is_privileged_over_netns: Failed to setns() to network namespace Invalid argument
&gt;     lxc_user_nic.c: 1161: main: Process is not privileged over network namespace
&gt; 
&gt;     # this file is not existing
&gt;     $ /usr/lib/lxc/lxc-user-nic delete path name /root/.zsh_history type bridge nic
&gt;     lxc_user_nic.c: 1130: main: Could not open "/root/.zsh_history": No such file or directory
&gt;     ```
&gt; 
&gt;   - it allows to trigger code paths in the kernel that are normally not
&gt;     accessible to the caller. This can happen when opening special files
&gt;     like character and block devices or files in /proc or /sys. Opening
&gt;     some of these files can cause lock or alloc operations or even more
&gt;     complex things to happen like when opening /dev/ptmx, which causes the
&gt;     allocation of a new master/slave pseudo terminal. Therefore this can
&gt;     lead to DoS like situations or have further unspecified impact.
&gt; 
&gt;   For fixing this I suggest opening the file supplied in `args.pid` only
&gt;   with the permissions of the real user, since this is already done in
&gt;   `is_privileged_over_netns()` anyway. Another approach would be the
&gt;   normalization of the input path and then only allowing a path of the
&gt;   pattern /proc/&lt;pid&gt;/ns/net.
&gt; 
&gt;   [1] https://github.com/lxc/lxc/blob/master/README.md#reporting-security-issues
&gt;   [2] https://bugzilla.suse.com/show_bug.cgi?id=988348
&gt; 
&gt;   Best regards
&gt; 
&gt;   Matthias
&gt;   ```
&gt; 
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+subscriptions
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-27T10:31:24.957868+00:00" title="2018-07-27 10:31:24 UTC">on 2018-07-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5168560/+files/0001-lxc-user-nic-verify-file-descriptor.patch">0001-lxc-user-nic-verify-file-descriptor.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5168560">Edit</a>
        (3.4 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Here&#x27;s the updated patch that removes the WARN() from fhas_fs_type().<br />
This is a non-functional and the only change.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Here's the updated patch that removes the WARN() from fhas_fs_type(). 
This is a non-functional and the only change.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T03:25:06.884642+00:00" title="2018-07-30 03:25:06 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Matthias, Serge: can you review the updated patch?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Matthias, Serge: can you review the updated patch?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mgerstner" class="sprite person">Matthias Gerstner (mgerstner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T09:40:35.078189+00:00" title="2018-07-30 09:40:35 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I reviewed the patch once more. Since it&#x27;s only a minor change it still looks good to me.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I reviewed the patch once more. Since it's only a minor change it still looks good to me.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~serge-hallyn" class="sprite person">Serge Hallyn (serge-hallyn)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T14:14:36.525515+00:00" title="2018-07-30 14:14:36 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>lgtm, thanks.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">lgtm, thanks.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T15:30:05.512162+00:00" title="2018-07-30 15:30:05 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Cool, thanks everyone! :)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Cool, thanks everyone! :)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T16:56:48.255873+00:00" title="2018-07-30 16:56:48 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>CVE paperwork:</p>
<p>Vulnerability type: Incorrect access control<br />
Vendor: LXC<br />
Products:<br />
&nbsp;- LXC 2.0<br />
&nbsp;- LXC 3.0<br />
Vendor acknowledged: yes<br />
Attack type: local<br />
Impact: Information disclosure<br />
Affected components: lxc-user-nic<br />
Attack vectors: Manually passing a PID path to a non-namespace path<br />
Description:<br />
&nbsp;&nbsp;lxc-user-nic (setuid) when asked to delete a network interface will<br />
&nbsp;&nbsp;unconditionally open a user provided path.</p>
<p>&nbsp;&nbsp;This code path may be used by an unprivileged user to check for<br />
&nbsp;&nbsp;the existence of a path which they wouldn&#x27;t otherwise be able to reach.</p>
<p>&nbsp;&nbsp;It may also be used to trigger side effects by causing a (read-only) open<br />
&nbsp;&nbsp;of special kernel files (ptmx, proc, sys).<br />
References:<br />
&nbsp;- <a rel="nofollow" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591">https:/<wbr />/bugs.launchpad<wbr />.net/ubuntu/<wbr />+source/<wbr />lxc/+bug/<wbr />1783591</a><br />
&nbsp;- <a rel="nofollow" href="https://bugzilla.suse.com/show_bug.cgi?id=988348">https:/<wbr />/bugzilla.<wbr />suse.com/<wbr />show_bug.<wbr />cgi?id=<wbr />988348</a><br />
Credits: Matthias Gerstner from SUSE</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">CVE paperwork:

Vulnerability type: Incorrect access control
Vendor: LXC
Products:
 - LXC 2.0
 - LXC 3.0
Vendor acknowledged: yes
Attack type: local
Impact: Information disclosure
Affected components: lxc-user-nic
Attack vectors: Manually passing a PID path to a non-namespace path
Description:
  lxc-user-nic (setuid) when asked to delete a network interface will
  unconditionally open a user provided path.

  This code path may be used by an unprivileged user to check for
  the existence of a path which they wouldn't otherwise be able to reach.

  It may also be used to trigger side effects by causing a (read-only) open
  of special kernel files (ptmx, proc, sys).
References:
 - https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591
 - https://bugzilla.suse.com/show_bug.cgi?id=988348
Credits: Matthias Gerstner from SUSE</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T16:57:16.848075+00:00" title="2018-07-30 16:57:16 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>CRD to be set for Monday 6th of August at 16:00 UTC.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">CRD to be set for Monday 6th of August at 16:00 UTC.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T19:46:47.341865+00:00" title="2018-07-30 19:46:47 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5169660/+files/0001-lxc-user-nic-verify-file-descriptor-stable-2.0.patch">0001-lxc-user-nic-verify-file-descriptor-stable-2.0.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5169660">Edit</a>
        (3.4 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Version of the patch for stable-2.0 branch.<br />
It does not contain any changes. It only just adjusts the path<br />
in the diff from src/lxc/<wbr />cmd/lxc_<wbr />user_nic.<wbr />c to src/lxc/<wbr />lxc_user_<wbr />nic.c</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Version of the patch for stable-2.0 branch.
It does not contain any changes. It only just adjusts the path
in the diff from src/lxc/cmd/lxc_user_nic.c to src/lxc/lxc_user_nic.c
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T19:48:11.685739+00:00" title="2018-07-30 19:48:11 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Once the CVE numbers are assigned the patches should both<br />
reference them. So before pushing them upstream, please add<br />
a reference either in the title of the commit message or the<br />
body of the commit message.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Once the CVE numbers are assigned the patches should both
reference them. So before pushing them upstream, please add
a reference either in the title of the commit message or the
body of the commit message.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T19:51:31.909662+00:00" title="2018-07-30 19:51:31 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Updated CVE paperwork:</p>
<p>Vulnerability type: Incorrect access control<br />
Vendor: LXC<br />
Products:<br />
&nbsp;- LXC 2.0<br />
&nbsp;- LXC 3.0<br />
Vendor acknowledged: yes<br />
Attack type: local<br />
Impact: Information disclosure<br />
Affected components: lxc-user-nic<br />
Attack vectors: Manually passing a path that does not refer to a network namespace<br />
Description:<br />
&nbsp;&nbsp;lxc-user-nic (setuid) when asked to delete a network interface will<br />
&nbsp;&nbsp;unconditionally open a user provided path.</p>
<p>&nbsp;&nbsp;This code path may be used by an unprivileged user to check for<br />
&nbsp;&nbsp;the existence of a path which they wouldn&#x27;t otherwise be able to reach.</p>
<p>&nbsp;&nbsp;It may also be used to trigger side effects by causing a (read-only) open<br />
&nbsp;&nbsp;of special kernel files (ptmx, proc, sys).<br />
References:<br />
&nbsp;- <a rel="nofollow" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591">https:/<wbr />/bugs.launchpad<wbr />.net/ubuntu/<wbr />+source/<wbr />lxc/+bug/<wbr />1783591</a><br />
&nbsp;- <a rel="nofollow" href="https://bugzilla.suse.com/show_bug.cgi?id=988348">https:/<wbr />/bugzilla.<wbr />suse.com/<wbr />show_bug.<wbr />cgi?id=<wbr />988348</a><br />
Credits: Matthias Gerstner from SUSE</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Updated CVE paperwork:

Vulnerability type: Incorrect access control
Vendor: LXC
Products:
 - LXC 2.0
 - LXC 3.0
Vendor acknowledged: yes
Attack type: local
Impact: Information disclosure
Affected components: lxc-user-nic
Attack vectors: Manually passing a path that does not refer to a network namespace
Description:
  lxc-user-nic (setuid) when asked to delete a network interface will
  unconditionally open a user provided path.

  This code path may be used by an unprivileged user to check for
  the existence of a path which they wouldn't otherwise be able to reach.

  It may also be used to trigger side effects by causing a (read-only) open
  of special kernel files (ptmx, proc, sys).
References:
 - https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591
 - https://bugzilla.suse.com/show_bug.cgi?id=988348
Credits: Matthias Gerstner from SUSE</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T19:58:49.714750+00:00" title="2018-07-30 19:58:49 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5169682/+files/master-lxc-user-nic-verify-file-descriptor.patch">master: CVE 2018-6556: verify netns fd in lxc-user-nic</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5169682">Edit</a>
        (3.4 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>master: CVE 2018-6556: verify netns fd in lxc-user-nic</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">master: CVE 2018-6556: verify netns fd in lxc-user-nic</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T19:59:22.608344+00:00" title="2018-07-30 19:59:22 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5169683/+files/stable-3.0-lxc-user-nic-verify-file-descriptor.patch">stable-3.0: CVE 2018-6556: verify netns fd in lxc-user-nic</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5169683">Edit</a>
        (3.4 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>stable-3.0: CVE 2018-6556: verify netns fd in lxc-user-nic</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">stable-3.0: CVE 2018-6556: verify netns fd in lxc-user-nic</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/28" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T20:00:03.747973+00:00" title="2018-07-30 20:00:03 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/28"> #28</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5169684/+files/stable-2.0-lxc-user-nic-verify-file-descriptor.patch">stable-2.0: CVE 2018-6556: verify netns fd in lxc-user-nic</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5169684">Edit</a>
        (3.4 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>stable-2.0: CVE 2018-6556: verify netns fd in lxc-user-nic</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">stable-2.0: CVE 2018-6556: verify netns fd in lxc-user-nic</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/29" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-30T20:06:48.711357+00:00" title="2018-07-30 20:06:48 UTC">on 2018-07-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/29"> #29</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Security team: We&#x27;re now ready with this one. Can you send notifications to the distros list about this issue, including the 3 patches above (master, 2.0 and 3.0) and communicate a CRD of Monday 6th of August at 16:00 UTC?</p>
<p>Thanks!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Security team: We're now ready with this one. Can you send notifications to the distros list about this issue, including the 3 patches above (master, 2.0 and 3.0) and communicate a CRD of Monday 6th of August at 16:00 UTC?

Thanks!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/30" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mdeslaur" class="sprite person">Marc Deslauriers (mdeslaur)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-07-31T14:04:22.424954+00:00" title="2018-07-31 14:04:22 UTC">on 2018-07-31</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/30"> #30</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I have sent the following to the linux-distros list:</p>
<p>A security issue has been discovered in LXC.<br />
We have assigned CVE-2018-6556 to the issue.</p>
<p>The CRD is 2018-08-06 16:00:00 UTC.</p>
<p>Please contact me in private if you are shipping LXC and wish to gain access<br />
to the related bug and patches.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I have sent the following to the linux-distros list:

A security issue has been discovered in LXC.
We have assigned CVE-2018-6556 to the issue.

The CRD is 2018-08-06 16:00:00 UTC.

Please contact me in private if you are shipping LXC and wish to gain access
to the related bug and patches.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/31" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-02T02:34:09.908362+00:00" title="2018-08-02 02:34:09 UTC">on 2018-08-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/31"> #31</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Packages ready in our private PPAs:</p>
<p>&nbsp;- ppa:ubuntu-<wbr />lxc-security/<wbr />devirt-<wbr />security1<br />
&nbsp;&nbsp;&nbsp;- 3.0.1-0ubuntu2 =&gt; cosmic<br />
&nbsp;&nbsp;&nbsp;- 3.0.1-0ubuntu1~<wbr />18.04.2 =&gt; bionic-security<br />
&nbsp;- ppa:ubuntu-<wbr />lxc-security/<wbr />devirt-<wbr />security-<wbr />backports<br />
&nbsp;&nbsp;&nbsp;- 3.0.1-0ubuntu1~<wbr />16.04.1 =&gt; xenial-backports</p>
<p>All built with nothing else in the respective PPAs, built for all arches with debug symbols.<br />
So they&#x27;re all ready for direct copies into the respective pockets when we hit the CRD.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Packages ready in our private PPAs:

 - ppa:ubuntu-lxc-security/devirt-security1
   - 3.0.1-0ubuntu2 =&gt; cosmic
   - 3.0.1-0ubuntu1~18.04.2 =&gt; bionic-security
 - ppa:ubuntu-lxc-security/devirt-security-backports
   - 3.0.1-0ubuntu1~16.04.1 =&gt; xenial-backports

All built with nothing else in the respective PPAs, built for all arches with debug symbols.
So they're all ready for direct copies into the respective pockets when we hit the CRD.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/32" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mdeslaur" class="sprite person">Marc Deslauriers (mdeslaur)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-02T11:13:05.805343+00:00" title="2018-08-02 11:13:05 UTC">on 2018-08-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/32"> #32</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Does that PPA build with -updates disabled?</p>
<p>Also, xenial has 2.0.8, isn&#x27;t that affected also?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Does that PPA build with -updates disabled?

Also, xenial has 2.0.8, isn't that affected also?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/33" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-02T16:52:03.022118+00:00" title="2018-08-02 16:52:03 UTC">on 2018-08-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/33"> #33</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Marc, our security PPAs build with only -security enabled, except for the backports one which builds with -backports enabled (obviously).</p>
<p>My comment above was actually wrong, 2.0.9 and higher of LXC 2.0.x is affected, since we haven&#x27;t yet had time to push that bugfix release to Ubuntu users, they are unaffected.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Marc, our security PPAs build with only -security enabled, except for the backports one which builds with -backports enabled (obviously).

My comment above was actually wrong, 2.0.9 and higher of LXC 2.0.x is affected, since we haven't yet had time to push that bugfix release to Ubuntu users, they are unaffected.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/34" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~whissi" class="sprite person">Thomas Deutschmann (whissi)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-05T15:19:45.606994+00:00" title="2018-08-05 15:19:45 UTC">on 2018-08-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/34"> #34</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Christian: Something is weird with the stable-2.0 patch. It applies cleanly, but doesn&#x27;t compile because it refers to LXC_PROC_PID_FD_LEN which doesn&#x27;t exist and isn&#x27;t added to the patch, so the code doesn&#x27;t compile. I can fix the build by adding this line in utils.h:</p>
<p>#define LXC_PROC_PID_FD_LEN (6 + LXC_NUMSTRLEN64 + 4 + LXC_NUMSTRLEN64 + 1)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Christian: Something is weird with the stable-2.0 patch. It applies cleanly, but doesn't compile because it refers to LXC_PROC_PID_FD_LEN which doesn't exist and isn't added to the patch, so the code doesn't compile. I can fix the build by adding this line in utils.h:

#define LXC_PROC_PID_FD_LEN (6 + LXC_NUMSTRLEN64 + 4 + LXC_NUMSTRLEN64 + 1)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/35" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-05T15:44:07+00:00" title="2018-08-05 15:44:07 UTC">on 2018-08-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/35"> #35</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/comments/35/+download">Download full text</a> (4.3 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Sun, Aug 05, 2018 at 03:19:45PM -0000, Thomas Deutschmann wrote:<br />
<span class="foldable-quoted">
&gt; @Christian: Something is weird with the stable-2.0 patch. It applies<br />
&gt; cleanly, but doesn&#x27;t compile because it refers to LXC_PROC_PID_FD_LEN<br />
&gt; which doesn&#x27;t exist and isn&#x27;t added to the patch, so the code doesn&#x27;t<br />
&gt; compile. I can fix the build by adding this line in utils.h:<br />
&gt;<br />
&gt; #define LXC_PROC_PID_FD_LEN (6 + LXC_NUMSTRLEN64 + 4 + LXC_NUMSTRLEN64 +<br />
&gt; 1)
</span></p>
<p>Yeah, this was in my backport queue. I just cherry picked the patch to<br />
support LXC_PROC_PID_FD_LEN to stable-2.0 now:</p>
<p><a rel="nofollow" href="https://github.com/lxc/lxc/commit/f96f5f3c1341e73ee51c8b49bef4ba571c562d8c">https:/<wbr />/github.<wbr />com/lxc/<wbr />lxc/commit/<wbr />f96f5f3c1341e73<wbr />ee51c8b49bef4ba<wbr />571c562d8c</a></p>
<p>So it should work fine now.</p>
<p>Thanks for the report!<br />
Christian</p>
<p><span class="foldable-quoted">&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are a member of Ubuntu<br />
&gt; Container Security team, which is subscribed to the bug report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/1783591">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1783591</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   lxc-user-nic allows unprivileged users to open arbitrary files<br />
&gt;<br />
&gt; Status in lxc package in Ubuntu:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Xenial:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Bionic:<br />
&gt;   Triaged<br />
&gt; Status in lxc source package in Cosmic:<br />
&gt;   Triaged<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   Matthias Gerstner from SUSE reported the following:<br />
&gt;<br />
&gt;   ```<br />
&gt;   Hello,<br />
&gt;<br />
&gt;   following the lxc security reporting guidelines [1] I am reporting a<br />
&gt;   finding in the lxc-user-nic setuid binary. I&#x27;m encrypting this mail as a<br />
&gt;   best practice and because I found valid GPG keys for all of your<br />
&gt;   adresses. Please find my public key attached to this mail.<br />
&gt;<br />
&gt;   In the context of an openSUSE security audit of the lxc-user-nic setuid<br />
&gt;   binary [2] (currently private bug) I came across an issue that should be<br />
&gt;   adressed. In the &quot;delete&quot; case the program runs the following piece of<br />
&gt;   code unconditionally with effective uid 0 (from lxc_user_nic.c):<br />
&gt;<br />
&gt;   ```<br />
&gt;           } else if (request == LXC_USERNIC_DELETE) {<br />
&gt;                   netns_fd = open(args.pid, O_RDONLY);<br />
&gt;                   if (netns_fd &lt; 0) {<br />
&gt;                           usernic_<wbr />error(&quot;<wbr />Could not open \&quot;%s\&quot;: %s\n&quot;, args.pid,<br />
&gt;                                         strerror(errno));<br />
&gt;                           exit(EXIT_FAILURE);<br />
&gt;                   }<br />
&gt;           }<br />
&gt;   ```<br />
&gt;<br />
&gt;   `args.pid` is a user controlled parameter and can be an arbitrary path<br />
&gt;   at the moment. Nothing is done with this file descriptor later on in the<br />
&gt;   program except an attempt at `setns(fd, CLONE_NEWNET)` in<br />
&gt;   `is_privileged_<wbr />over_netns(<wbr />)`.  Still this allows the unprivileged caller<br />
&gt;   of the setuid binary to achieve the following:<br />
&gt;<br />
&gt;   - it can test for existence of files normally not accessible to the<br />
&gt;     caller (information leak). Example:<br />
&gt;     ```<br />
&gt;     # this file is existing<br />
&gt;     $ /usr/lib/<wbr />lxc/lxc-<wbr />user-nic delete path name /root/.bash_history type bridge nic<br />
&gt;     lxc_user_nic.c: 1017: is_privileged_<wbr />over_netns: Failed to setns() to network namespace Invalid argument<br />
&gt;     lxc_user_nic.c: 1161: main: Process is not privileged over network namespace<br />
&gt;<br />
&gt;     # this file is not existing<br />
&gt;     $ /usr/lib/<wbr />lxc/lxc-<wbr />user-nic delete path name /root/.zsh_history type bridge nic<br />
&gt;     lxc_user_nic.c: 1130: main: Could not...
</span></p></div>
    
    <p>
      <a href="/ubuntu/+source/lxc/+bug/1783591/comments/35">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Sun, Aug 05, 2018 at 03:19:45PM -0000, Thomas Deutschmann wrote:
&gt; @Christian: Something is weird with the stable-2.0 patch. It applies
&gt; cleanly, but doesn't compile because it refers to LXC_PROC_PID_FD_LEN
&gt; which doesn't exist and isn't added to the patch, so the code doesn't
&gt; compile. I can fix the build by adding this line in utils.h:
&gt; 
&gt; #define LXC_PROC_PID_FD_LEN (6 + LXC_NUMSTRLEN64 + 4 + LXC_NUMSTRLEN64 +
&gt; 1)

Yeah, this was in my backport queue. I just cherry picked the patch to
support LXC_PROC_PID_FD_LEN to stable-2.0 now:

https://github.com/lxc/lxc/commit/f96f5f3c1341e73ee51c8b49bef4ba571c562d8c

So it should work fine now.

Thanks for the report!
Christian

&gt; 
&gt; -- 
&gt; You received this bug notification because you are a member of Ubuntu
&gt; Container Security team, which is subscribed to the bug report.
&gt; https://bugs.launchpad.net/bugs/1783591
&gt; 
&gt; Title:
&gt;   lxc-user-nic allows unprivileged users to open arbitrary files
&gt; 
&gt; Status in lxc package in Ubuntu:
&gt;   Triaged
&gt; Status in lxc source package in Xenial:
&gt;   Triaged
&gt; Status in lxc source package in Bionic:
&gt;   Triaged
&gt; Status in lxc source package in Cosmic:
&gt;   Triaged
&gt; 
&gt; Bug description:
&gt;   Matthias Gerstner from SUSE reported the following:
&gt; 
&gt;   ```
&gt;   Hello,
&gt; 
&gt;   following the lxc security reporting guidelines [1] I am reporting a
&gt;   finding in the lxc-user-nic setuid binary. I'm encrypting this mail as a
&gt;   best practice and because I found valid GPG keys for all of your
&gt;   adresses. Please find my public key attached to this mail.
&gt; 
&gt;   In the context of an openSUSE security audit of the lxc-user-nic setuid
&gt;   binary [2] (currently private bug) I came across an issue that should be
&gt;   adressed. In the "delete" case the program runs the following piece of
&gt;   code unconditionally with effective uid 0 (from lxc_user_nic.c):
&gt; 
&gt;   ```
&gt;           } else if (request == LXC_USERNIC_DELETE) {
&gt;                   netns_fd = open(args.pid, O_RDONLY);
&gt;                   if (netns_fd &lt; 0) {
&gt;                           usernic_error("Could not open \"%s\": %s\n", args.pid,
&gt;                                         strerror(errno));
&gt;                           exit(EXIT_FAILURE);
&gt;                   }
&gt;           }
&gt;   ```
&gt; 
&gt;   `args.pid` is a user controlled parameter and can be an arbitrary path
&gt;   at the moment. Nothing is done with this file descriptor later on in the
&gt;   program except an attempt at `setns(fd, CLONE_NEWNET)` in
&gt;   `is_privileged_over_netns()`.  Still this allows the unprivileged caller
&gt;   of the setuid binary to achieve the following:
&gt; 
&gt;   - it can test for existence of files normally not accessible to the
&gt;     caller (information leak). Example:
&gt;     ```
&gt;     # this file is existing
&gt;     $ /usr/lib/lxc/lxc-user-nic delete path name /root/.bash_history type bridge nic
&gt;     lxc_user_nic.c: 1017: is_privileged_over_netns: Failed to setns() to network namespace Invalid argument
&gt;     lxc_user_nic.c: 1161: main: Process is not privileged over network namespace
&gt; 
&gt;     # this file is not existing
&gt;     $ /usr/lib/lxc/lxc-user-nic delete path name /root/.zsh_history type bridge nic
&gt;     lxc_user_nic.c: 1130: main: Could not open "/root/.zsh_history": No such file or directory
&gt;     ```
&gt; 
&gt;   - it allows to trigger code paths in the kernel that are normally not
&gt;     accessible to the caller. This can happen when opening special files
&gt;     like character and block devices or files in /proc or /sys. Opening
&gt;     some of these files can cause lock or alloc operations or even more
&gt;     complex things to happen like when opening /dev/ptmx, which causes the
&gt;     allocation of a new master/slave pseudo terminal. Therefore this can
&gt;     lead to DoS like situations or have further unspecified impact.
&gt; 
&gt;   For fixing this I suggest opening the file supplied in `args.pid` only
&gt;   with the permissions of the real user, since this is already done in
&gt;   `is_privileged_over_netns()` anyway. Another approach would be the
&gt;   normalization of the input path and then only allowing a path of the
&gt;   pattern /proc/&lt;pid&gt;/ns/net.
&gt; 
&gt;   [1] https://github.com/lxc/lxc/blob/master/README.md#reporting-security-issues
&gt;   [2] https://bugzilla.suse.com/show_bug.cgi?id=988348
&gt; 
&gt;   Best regards
&gt; 
&gt;   Matthias
&gt;   ```
&gt; 
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+subscriptions
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/36" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-05T15:55:47.153342+00:00" title="2018-08-05 15:55:47 UTC">on 2018-08-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/36"> #36</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5171801/+files/0001-utils-add-LXC_PROC_PID_FD_LEN_stable-2.0.patch">0001-utils-add-LXC_PROC_PID_FD_LEN_stable-2.0.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5171801">Edit</a>
        (1021 bytes,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Thomas, in case you want to cherry pick this into another distro I&#x27;m appending you the patch for stable-2.0 here. :)</p>
<p>Christian</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Thomas, in case you want to cherry pick this into another distro I'm appending you the patch for stable-2.0 here. :)

Christian</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/37" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~whissi" class="sprite person">Thomas Deutschmann (whissi)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-05T19:14:46.598658+00:00" title="2018-08-05 19:14:46 UTC">on 2018-08-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/37"> #37</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks, we (Gentoo Linux) are now prepared and are waiting for the end of the embargo.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks, we (Gentoo Linux) are now prepared and are waiting for the end of the embargo.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/38" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-06T16:01:07.134018+00:00" title="2018-08-06 16:01:07 UTC">on 2018-08-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/38"> #38</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package lxc - 3.0.1-0ubuntu1~<wbr />18.04.2</p>
<p>---------------<br />
lxc (3.0.1-<wbr />0ubuntu1~<wbr />18.04.2) bionic-security; urgency=medium</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: lxc-user-nic allows for open() of arbitrary paths<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1783591" class="bug-link">#1783591</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Ensure that the provided path is a netns reference<br />
&nbsp;&nbsp;&nbsp;&nbsp;- CVE-2018-6556</p>
<p>&nbsp;-- Stéphane Graber &lt;email address hidden&gt;  Wed, 01 Aug 2018 00:03:10 -0400</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package lxc - 3.0.1-0ubuntu1~18.04.2

---------------
lxc (3.0.1-0ubuntu1~18.04.2) bionic-security; urgency=medium

  * SECURITY UPDATE: lxc-user-nic allows for open() of arbitrary paths
    (LP: #1783591)
    - Ensure that the provided path is a netns reference
    - CVE-2018-6556

 -- Stéphane Graber &lt;stgraber@ubuntu.com&gt;  Wed, 01 Aug 2018 00:03:10 -0400</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Bionic): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/39" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-06T16:02:00.519663+00:00" title="2018-08-06 16:02:00 UTC">on 2018-08-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/39"> #39</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package lxc - 3.0.1-0ubuntu2</p>
<p>---------------<br />
lxc (3.0.1-0ubuntu2) cosmic; urgency=medium</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: lxc-user-nic allows for open() of arbitrary paths<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1783591" class="bug-link">#1783591</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Ensure that the provided path is a netns reference<br />
&nbsp;&nbsp;&nbsp;&nbsp;- CVE-2018-6556</p>
<p>&nbsp;-- Stéphane Graber &lt;email address hidden&gt;  Wed, 01 Aug 2018 00:03:10 -0400</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package lxc - 3.0.1-0ubuntu2

---------------
lxc (3.0.1-0ubuntu2) cosmic; urgency=medium

  * SECURITY UPDATE: lxc-user-nic allows for open() of arbitrary paths
    (LP: #1783591)
    - Ensure that the provided path is a netns reference
    - CVE-2018-6556

 -- Stéphane Graber &lt;stgraber@ubuntu.com&gt;  Wed, 01 Aug 2018 00:03:10 -0400</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Ubuntu Cosmic): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/40" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-06T16:04:25.322479+00:00" title="2018-08-06 16:04:25 UTC">on 2018-08-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/40"> #40</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Also released to xenial-backports.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Also released to xenial-backports.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/41" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-06T16:14:23.362869+00:00" title="2018-08-06 16:14:23 UTC">on 2018-08-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/41"> #41</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5172186/+files/0001-CVE-2018-6556-verify-netns-fd-in-lxc-user-nic-master.patch">0001-CVE-2018-6556-verify-netns-fd-in-lxc-user-nic-master.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5172186">Edit</a>
        (3.6 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>New version to apply cleanly to master.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">New version to apply cleanly to master.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/42" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-06T16:16:52.026072+00:00" title="2018-08-06 16:16:52 UTC">on 2018-08-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/42"> #42</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>All supported upstream branches have been updated with the fix.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">All supported upstream branches have been updated with the fix.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/43" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~stgraber" class="sprite person">Stéphane Graber (stgraber)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-06T16:29:41.777561+00:00" title="2018-08-06 16:29:41 UTC">on 2018-08-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/43"> #43</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Upstream communication: <a rel="nofollow" href="https://lists.linuxcontainers.org/pipermail/lxc-devel/2018-August/018336.html">https:/<wbr />/lists.<wbr />linuxcontainers<wbr />.org/pipermail/<wbr />lxc-devel/<wbr />2018-August/<wbr />018336.<wbr />html</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Upstream communication: https://lists.linuxcontainers.org/pipermail/lxc-devel/2018-August/018336.html</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/44" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~carnil" class="sprite person">Salvatore Bonaccorso (carnil)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-30T20:02:56.939660+00:00" title="2018-08-30 20:02:56 UTC">on 2018-08-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/44"> #44</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>One can still test existence of files with those patches, but I guess this was explicitly not part of the fixes?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">One can still test existence of files with those patches, but I guess this was explicitly not part of the fixes?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~bug-watch-updater" class="sprite person-inactive">Bug Watch Updater (bug-watch-updater)</a>
    
    <time title="2018-08-30 21:32:01 UTC" datetime="2018-08-30T21:32:01.287560+00:00">on 2018-08-30</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Debian): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Unknown &#8594; Confirmed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/45" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-30T21:50:35+00:00" title="2018-08-30 21:50:35 UTC">on 2018-08-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/45"> #45</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Thu, Aug 30, 2018 at 08:02:56PM -0000, Salvatore Bonaccorso wrote:<br />
<span class="foldable-quoted">
&gt; One can still test existence of files with those patches, but I guess<br />
&gt; this was explicitly not part of the fixes?
</span></p>
<p>Is there a reproducer?<br />
Yes, the open() can fail and we will report back to the user that the<br />
open() failed but the user has no way of knowing why it failed since we<br />
don&#x27;t report the errno and stracing will strip the suid bit so you can&#x27;t<br />
get it from the strace and you also need to be root to strace this.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Thu, Aug 30, 2018 at 08:02:56PM -0000, Salvatore Bonaccorso wrote:
&gt; One can still test existence of files with those patches, but I guess
&gt; this was explicitly not part of the fixes?

Is there a reproducer?
Yes, the open() can fail and we will report back to the user that the
open() failed but the user has no way of knowing why it failed since we
don't report the errno and stracing will strip the suid bit so you can't
get it from the strace and you also need to be root to strace this.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/lxc/+bug/1783591/comments/46" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cbrauner" class="sprite person">Christian Brauner (cbrauner)</a>
            wrote
            <time itemprop="commentTime" datetime="2018-08-30T22:07:08.225473+00:00" title="2018-08-30 22:07:08 UTC">on 2018-08-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/lxc/+bug/1783591/comments/46"> #46</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>If you think that you have found an actual security bug please file it as a new one to follow best security practices.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">If you think that you have found an actual security bug please file it as a new one to follow best security practices.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~bug-watch-updater" class="sprite person-inactive">Bug Watch Updater (bug-watch-updater)</a>
    
    <time title="2018-08-31 22:48:30 UTC" datetime="2018-08-31T22:48:30.409554+00:00">on 2018-08-31</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxc (Debian): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; Fix Released
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/ubuntu/+source/lxc/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/ubuntu/+source/lxc/+bug/1783591/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/ubuntu/+source/lxc/+bug/1783591/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/ubuntu/+source/lxc/+bug/1783591/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5167733/+files/0001-lxc-user-nic-verify-file-descriptor.patch">0001-lxc-user-nic-verify-file-descriptor.patch</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5167733">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5168102/+files/0001-lxc-user-nic-verify-file-descriptor.patch">0001-lxc-user-nic-verify-file-descriptor.patch</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5168102">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5168103/+files/0001-lxc-user-nic-verify-file-descriptor.patch">0001-lxc-user-nic-verify-file-descriptor.patch</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5168103">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5168560/+files/0001-lxc-user-nic-verify-file-descriptor.patch">0001-lxc-user-nic-verify-file-descriptor.patch</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5168560">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5169660/+files/0001-lxc-user-nic-verify-file-descriptor-stable-2.0.patch">0001-lxc-user-nic-verify-file-descriptor-stable-2.0.patch</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5169660">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5169682/+files/master-lxc-user-nic-verify-file-descriptor.patch">master: CVE 2018-6556: verify netns fd in lxc-user-nic</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5169682">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5169683/+files/stable-3.0-lxc-user-nic-verify-file-descriptor.patch">stable-3.0: CVE 2018-6556: verify netns fd in lxc-user-nic</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5169683">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5169684/+files/stable-2.0-lxc-user-nic-verify-file-descriptor.patch">stable-2.0: CVE 2018-6556: verify netns fd in lxc-user-nic</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5169684">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5171801/+files/0001-utils-add-LXC_PROC_PID_FD_LEN_stable-2.0.patch">0001-utils-add-LXC_PROC_PID_FD_LEN_stable-2.0.patch</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5171801">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+attachment/5172186/+files/0001-CVE-2018-6556-verify-netns-fd-in-lxc-user-nic-master.patch">0001-CVE-2018-6556-verify-netns-fd-in-lxc-user-nic-master.patch</a>
        <small>
          (<a href="/ubuntu/+source/lxc/+bug/1783591/+attachment/5172186">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/lxc/+bug/1783591/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  


      <div class="portlet" id="portlet-watches">
  <h2>Remote bug watches</h2>
  <ul>
    <li>
      <span class="sprite bug-remote"></span>
      <a class="link-external" href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=905586">debbugs #905586</a>
      
        <br />[<span>done grave upstream patch security</span>]
        <a class="sprite edit action-icon" title="Change watch details" href="/bugs/1783591/+watch/130230">Edit</a>
    </li>
    <li>
      <span class="sprite bug-remote"></span>
      <a class="link-external" href="https://bugzilla.suse.com/show_bug.cgi?id=988348">auto-bugzilla.suse.com #988348</a>
      
        <br />[<span>RESOLVED FIXED</span>]
        <a class="sprite edit action-icon" title="Change watch details" href="/bugs/1783591/+watch/129795">Edit</a>
    </li>
  </ul>
  <p>Bug watches keep track of this bug in other bug trackers.</p>
</div>

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"bug_is_private": false, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1783591", "web_link": "https://bugs.launchpad.net/bugs/1783591", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1783591, "private": false, "information_type": "Public Security", "name": null, "title": "lxc-user-nic allows unprivileged users to open arbitrary files", "description": "Matthias Gerstner from SUSE reported the following:\n\n```\nHello,\n\nfollowing the lxc security reporting guidelines [1] I am reporting a\nfinding in the lxc-user-nic setuid binary. I'm encrypting this mail as a\nbest practice and because I found valid GPG keys for all of your\nadresses. Please find my public key attached to this mail.\n\nIn the context of an openSUSE security audit of the lxc-user-nic setuid\nbinary [2] (currently private bug) I came across an issue that should be\nadressed. In the \"delete\" case the program runs the following piece of\ncode unconditionally with effective uid 0 (from lxc_user_nic.c):\n\n```\n        } else if (request == LXC_USERNIC_DELETE) {\n                netns_fd = open(args.pid, O_RDONLY);\n                if (netns_fd \u003c 0) {\n                        usernic_error(\"Could not open \\\"%s\\\": %s\\n\", args.pid,\n                                      strerror(errno));\n                        exit(EXIT_FAILURE);\n                }\n        }\n```\n\n`args.pid` is a user controlled parameter and can be an arbitrary path\nat the moment. Nothing is done with this file descriptor later on in the\nprogram except an attempt at `setns(fd, CLONE_NEWNET)` in\n`is_privileged_over_netns()`.  Still this allows the unprivileged caller\nof the setuid binary to achieve the following:\n\n- it can test for existence of files normally not accessible to the\n  caller (information leak). Example:\n  ```\n  # this file is existing\n  $ /usr/lib/lxc/lxc-user-nic delete path name /root/.bash_history type bridge nic\n  lxc_user_nic.c: 1017: is_privileged_over_netns: Failed to setns() to network namespace Invalid argument\n  lxc_user_nic.c: 1161: main: Process is not privileged over network namespace\n\n  # this file is not existing\n  $ /usr/lib/lxc/lxc-user-nic delete path name /root/.zsh_history type bridge nic\n  lxc_user_nic.c: 1130: main: Could not open \"/root/.zsh_history\": No such file or directory\n  ```\n\n- it allows to trigger code paths in the kernel that are normally not\n  accessible to the caller. This can happen when opening special files\n  like character and block devices or files in /proc or /sys. Opening\n  some of these files can cause lock or alloc operations or even more\n  complex things to happen like when opening /dev/ptmx, which causes the\n  allocation of a new master/slave pseudo terminal. Therefore this can\n  lead to DoS like situations or have further unspecified impact.\n\nFor fixing this I suggest opening the file supplied in `args.pid` only\nwith the permissions of the real user, since this is already done in\n`is_privileged_over_netns()` anyway. Another approach would be the\nnormalization of the input path and then only allowing a path of the\npattern /proc/\u003cpid\u003e/ns/net.\n\n[1] https://github.com/lxc/lxc/blob/master/README.md#reporting-security-issues\n[2] https://bugzilla.suse.com/show_bug.cgi?id=988348\n\nBest regards\n\nMatthias\n```", "owner_link": "https://bugs.launchpad.net/api/devel/~stgraber", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/bug_tasks", "duplicate_of_link": null, "date_created": "2018-07-25T15:17:03.700505+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/subscriptions", "date_last_updated": "2018-08-31T22:48:32.153172+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 268, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/attachments", "security_related": true, "latest_patch_uploaded": "2018-08-06T16:14:23.362869+00:00", "tags": [], "date_last_message": "2018-08-30T22:07:08.225473+00:00", "number_of_duplicates": 0, "message_count": 47, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1783591/linked_merge_proposals", "http_etag": "\"7d629075ab5a2ecc4fbe01ec632802d3fb6516ce-4f816fb5bfbcd17524e37ff1ddc85e9dc4949efb\""}, "total_comments_and_activity": 85, "related_features": {}, "information_type_data": {"PUBLIC": {"is_private": false, "name": "Public", "order": 0, "description": "Everyone can see this information.\n", "value": "PUBLIC", "description_css_class": "choice-description"}, "PRIVATESECURITY": {"is_private": true, "name": "Private Security", "order": 2, "description": "Only the security group can see this information.\n ", "value": "PRIVATESECURITY", "description_css_class": "choice-description"}, "PUBLICSECURITY": {"is_private": false, "name": "Public Security", "order": 1, "description": "Everyone can see this security related information.\n", "value": "PUBLICSECURITY", "description_css_class": "choice-description"}, "USERDATA": {"is_private": true, "name": "Private", "order": 3, "description": "Only shared with users permitted to see private user information.\n", "value": "USERDATA", "description_css_class": "choice-description"}}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/lxc/+bug/1783591", "web_link": "https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1783591", "milestone_link": null, "status": "Fix Released", "importance": "High", "assignee_link": "https://bugs.launchpad.net/api/devel/~ubuntu-lxc-security", "bug_target_display_name": "lxc (Ubuntu)", "bug_target_name": "lxc (Ubuntu)", "bug_watch_link": null, "date_assigned": "2018-07-25T15:17:04.448240+00:00", "date_created": "2018-07-25T15:17:03.700505+00:00", "date_confirmed": "2018-07-25T15:17:03.700505+00:00", "date_incomplete": null, "date_in_progress": "2018-08-06T16:02:01.699545+00:00", "date_closed": "2018-08-06T16:02:01.699545+00:00", "date_left_new": "2018-07-25T15:17:03.700505+00:00", "date_triaged": "2018-07-25T15:17:03.700505+00:00", "date_fix_committed": "2018-08-06T16:02:01.699545+00:00", "date_fix_released": "2018-08-06T16:02:01.699545+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~stgraber", "target_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/lxc", "title": "Bug #1783591 in lxc (Ubuntu): \"lxc-user-nic allows unprivileged users to open arbitrary files\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/lxc/+bug/1783591/related_tasks", "is_complete": true, "http_etag": "\"44868561b6349a550ab29295658ac653c3b794a1-e8a680647ddc5f792b688cf5ac0690e450b9ee01\""}, "bugtask_data": {"2407946": {"delete_link": "https://bugs.launchpad.net/ubuntu/xenial/+source/lxc/+bug/1783591/+delete", "bug_title": "lxc-user-nic allows unprivileged users to open arbitrary files", "user_can_unassign": false, "importance_value": "High", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary2407946", "target_is_product": false, "user_can_edit_milestone": false, "prefix": "ubuntu_xenial_lxc", "bugtask_path": "/ubuntu/xenial/+source/lxc/+bug/1783591", "id": 2407946, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task2407946", "targetname": "lxc (Ubuntu Xenial)", "assignee_is_team": true, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": "ubuntu-lxc-security", "status_value": "Triaged"}, "2407947": {"delete_link": "https://bugs.launchpad.net/ubuntu/cosmic/+source/lxc/+bug/1783591/+delete", "bug_title": "lxc-user-nic allows unprivileged users to open arbitrary files", "user_can_unassign": false, "importance_value": "High", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary2407947", "target_is_product": false, "user_can_edit_milestone": false, "prefix": "ubuntu_cosmic_lxc", "bugtask_path": "/ubuntu/cosmic/+source/lxc/+bug/1783591", "id": 2407947, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task2407947", "targetname": "lxc (Ubuntu Cosmic)", "assignee_is_team": true, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": "ubuntu-lxc-security", "status_value": "Fix Released"}, "2407948": {"delete_link": "https://bugs.launchpad.net/ubuntu/bionic/+source/lxc/+bug/1783591/+delete", "bug_title": "lxc-user-nic allows unprivileged users to open arbitrary files", "user_can_unassign": false, "importance_value": "High", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary2407948", "target_is_product": false, "user_can_edit_milestone": false, "prefix": "ubuntu_bionic_lxc", "bugtask_path": "/ubuntu/bionic/+source/lxc/+bug/1783591", "id": 2407948, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task2407948", "targetname": "lxc (Ubuntu Bionic)", "assignee_is_team": true, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": "ubuntu-lxc-security", "status_value": "Fix Released"}, "2407941": {"delete_link": "https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1783591/+delete", "bug_title": "lxc-user-nic allows unprivileged users to open arbitrary files", "user_can_unassign": false, "importance_value": "High", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary2407941", "target_is_product": false, "user_can_edit_milestone": false, "prefix": "ubuntu_lxc", "bugtask_path": "/ubuntu/+source/lxc/+bug/1783591", "id": 2407941, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task2407941", "targetname": "lxc (Ubuntu)", "assignee_is_team": true, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": "ubuntu-lxc-security", "status_value": "Fix Released"}, "2419335": {"delete_link": "https://bugs.launchpad.net/debian/+source/lxc/+bug/1783591/+delete", "bug_title": "lxc-user-nic allows unprivileged users to open arbitrary files", "user_can_unassign": false, "importance_value": "Unknown", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": false, "user_can_delete": false, "row_id": "tasksummary2419335", "target_is_product": false, "user_can_edit_milestone": false, "prefix": "debian_lxc", "bugtask_path": "/debian/+source/lxc/+bug/1783591", "id": 2419335, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task2419335", "targetname": "lxc (Debian)", "assignee_is_team": null, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": null, "status_value": "Fix Released"}}, "subscribers_portlet_url_data": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1783591", "web_link": "https://bugs.launchpad.net/bugs/1783591"}, "initial_comment_batch_offset": 41, "first visible_recent_comment": 6};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 78 queries/external actions issued in 1.31 seconds

    Features: {'app.maintenance_message': None, 'hard_timeout': '9000', 'js.yui_version': None, 'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'baselayout.careers_link.disabled': None, 'bugs.affected_count_includes_dupes.disabled': None, 'visible_render_time': None, 'profiling.enabled': None, 'bugs.nominations.bug_supervisors_can_target': 'on'}

    r0d8de2b

    -->

</html>

