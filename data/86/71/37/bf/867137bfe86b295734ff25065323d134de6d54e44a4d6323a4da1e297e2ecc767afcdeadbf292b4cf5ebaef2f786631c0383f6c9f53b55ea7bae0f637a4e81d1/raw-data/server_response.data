<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1447282 “Does not use encrypted swap when using GPT partiti...” : Bugs : ecryptfs-utils package : Ubuntu</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1447282" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1447282/bug.atom" title="Bug 1447282 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="CVE Request: http://openwall.com/lists/oss-security/2016/07/13/2


I'm still sorting out the details and eliminating variables, but as far as I can tell:

Steps to reproduce
===============

1) Install Ubuntu using GPT partitioning for the OS drive[*]

2) Choose &quot;require my password to login&quot;, and check &quot;encrypt my home directory&quot;

Expected behavior
===============

No special user interaction should be required to initialized the crytposwap other than normally logging in

Actual behavior
===..." />
      <meta property="og:description" content="CVE Request: http://openwall.com/lists/oss-security/2016/07/13/2


I'm still sorting out the details and eliminating variables, but as far as I can tell:

Steps to reproduce
===============

1) Install Ubuntu using GPT partitioning for the OS drive[*]

2) Choose &quot;require my password to login&quot;, and check &quot;encrypt my home directory&quot;

Expected behavior
===============

No special user interaction should be required to initialized the crytposwap other than normally logging in

Actual behavior
===..." />
    

    
    
      <meta property="og:title" content="Bug #1447282 “Does not use encrypted swap when using GPT partiti...” : Bugs : ecryptfs-utils package : Ubuntu" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1447282" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["a11y", "appstream", "bionic", "bisect-done", "bitesize", "cherry-pick", "community-security", "desktop-file", "disco", "dist-upgrade", "focal", "ftbfs", "groovy", "hirsute", "hw-specific", "impish", "jammy", "kernel", "kernel-bug", "manpage", "metabug", "multiarch", "needs-bisect", "needs-design", "needs-packaging", "needs-reassignment", "package-conflict", "packaging", "patch", "patch-accepted-debian", "patch-accepted-upstream", "patch-forwarded-debian", "patch-forwarded-upstream", "patch-needswork", "patch-rejected", "patch-rejected-debian", "patch-rejected-upstream", "performing-bisect", "py2-removal", "qt4-removal", "regression-proposed", "regression-release", "regression-update", "string-fix", "suspend-resume", "systemd-boot", "testcase", "touch", "unmetdeps", "upgrade-software-version", "verification-done-bionic", "verification-done-focal", "verification-done-groovy", "verification-done-hirsute", "verification-done-impish", "verification-done-xenial", "verification-failed-bionic", "verification-failed-groovy", "verification-failed-impish", "verification-failed-xenial", "verification-needed-bionic", "verification-needed-focal", "verification-needed-groovy", "verification-needed-hirsute", "verification-needed-impish", "verification-needed-trusty", "verification-needed-xenial", "wayland", "xenial"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/ubuntu"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/49558155/64_logo.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/ubuntu">Ubuntu</a><br /><a href="https://launchpad.net/ubuntu/+source/ecryptfs-utils">ecryptfs-utils package</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/ubuntu/+source/ecryptfs-utils">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/ubuntu/+source/ecryptfs-utils">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils">Bugs</a></li>
      
      
    
    
      
      
      <li class="specifications disabled-tab"><span>Blueprints</span></li>
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/ubuntu/+source/ecryptfs-utils">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/ubuntu/+source/ecryptfs-utils">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1447282 reported by
      <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose</a>
      <time title="2015-04-22 18:13:03 UTC" datetime="2015-04-22T18:13:03.212308+00:00">on 2015-04-22</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">300</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 58 people</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr id="tasksummary1815141">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ecryptfs/+bug/1447282/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary1815141">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/ecryptfs">eCryptfs</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ecryptfs/+bug/1447282/+editstatus" style="float: left" class="value statusFIXCOMMITTED">Fix Committed</a>
          <a href="https://bugs.launchpad.net/ecryptfs/+bug/1447282/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1815141">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~kirkland">Dustin Kirkland </a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1815141">
     <td colspan="7"><form action="/ecryptfs/+bug/1447282/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ecryptfs">eCryptfs</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2015-04-24 11:02:34 UTC" datetime="2015-04-24T11:02:34.470646+00:00">2015-04-24</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2015-08-04 17:59:52 UTC" datetime="2015-08-04T17:59:52.347974+00:00">2015-08-04</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2015-08-04 18:00:14 UTC" datetime="2015-08-04T18:00:14.656003+00:00">2015-08-04</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2015-08-04 18:00:11 UTC" datetime="2015-08-04T18:00:11.443234+00:00">2015-08-04</time>
      </td>
    </tr>
    
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ecryptfs.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="ecryptfs.target.option.package" name="ecryptfs.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ecryptfs.target.distribution" name="ecryptfs.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ecryptfs.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ecryptfs.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ecryptfs.target.package"
                         name="ecryptfs.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ecryptfs.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ecryptfs.target.package');
              var select_menu = Y.DOM.byId('ecryptfs.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ecryptfs-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ecryptfs.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ecryptfs-target-package", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-ecryptfs-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ecryptfs.target.option.product" name="ecryptfs.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="ecryptfs" id="ecryptfs.target.product"
                         name="ecryptfs.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ecryptfs.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ecryptfs.target.product');
              var select_menu = Y.DOM.byId('ecryptfs.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ecryptfs-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "ecryptfs.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-ecryptfs-target-product", "selected_value": "ecryptfs", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-ecryptfs-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ecryptfs.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ecryptfs.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ecryptfs.status" name="ecryptfs.status" size="1" >
<option selected="selected" value="Fix Committed">Fix Committed</option>
</select>
</div>
<input name="ecryptfs.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ecryptfs.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ecryptfs.assignee.assign_to_me" name="ecryptfs.assignee.option" value="ecryptfs.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ecryptfs.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ecryptfs.assignee.assigned_to" name="ecryptfs.assignee.option" value="ecryptfs.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ecryptfs.assignee.assigned_to">
              Dustin Kirkland  (kirkland)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ecryptfs.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ecryptfs.comment_on_change" name="ecryptfs.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr class="highlight" id="tasksummary1813545">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary1813545">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils" title="Latest release: 111-5ubuntu1, uploaded to universe on 2020-11-23 11:11:07.828228+00:00 by Dimitri John Ledkov (xnox), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)">ecryptfs-utils (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1813545">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~tyhicks">Tyler Hicks</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1813545">
     <td colspan="7"><form action="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/+source/ecryptfs-utils">ecryptfs-utils (Ubuntu)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2015-04-22 18:13:03 UTC" datetime="2015-04-22T18:13:03.212308+00:00">2015-04-22</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2015-04-24 08:59:09 UTC" datetime="2015-04-24T08:59:09.085036+00:00">2015-04-24</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2015-04-24 08:59:09 UTC" datetime="2015-04-24T08:59:09.088923+00:00">2015-04-24</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2016-07-15 01:59:32 UTC" datetime="2016-07-15T01:59:32.615814+00:00">2016-07-15</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2016-07-15 01:59:32 UTC" datetime="2016-07-15T01:59:32.615814+00:00">2016-07-15</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ubuntu_ecryptfs-utils.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ubuntu_ecryptfs-utils.target.option.package" name="ubuntu_ecryptfs-utils.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ubuntu_ecryptfs-utils.target.distribution" name="ubuntu_ecryptfs-utils.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ubuntu_ecryptfs-utils.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ubuntu_ecryptfs-utils.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="ecryptfs-utils" id="ubuntu_ecryptfs-utils.target.package"
                         name="ubuntu_ecryptfs-utils.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_ecryptfs-utils.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_ecryptfs-utils.target.package');
              var select_menu = Y.DOM.byId('ubuntu_ecryptfs-utils.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_ecryptfs-utils-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_ecryptfs-utils.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_ecryptfs-utils-target-package", "selected_value": "ecryptfs-utils", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-ubuntu_ecryptfs-utils-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" id="ubuntu_ecryptfs-utils.target.option.product" name="ubuntu_ecryptfs-utils.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ubuntu_ecryptfs-utils.target.product"
                         name="ubuntu_ecryptfs-utils.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_ecryptfs-utils.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_ecryptfs-utils.target.product');
              var select_menu = Y.DOM.byId('ubuntu_ecryptfs-utils.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_ecryptfs-utils-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "ubuntu_ecryptfs-utils.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-ubuntu_ecryptfs-utils-target-product", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-ubuntu_ecryptfs-utils-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_ecryptfs-utils.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_ecryptfs-utils.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_ecryptfs-utils.status" name="ubuntu_ecryptfs-utils.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_ecryptfs-utils.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_ecryptfs-utils.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_ecryptfs-utils.assignee.assign_to_me" name="ubuntu_ecryptfs-utils.assignee.option" value="ubuntu_ecryptfs-utils.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_ecryptfs-utils.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_ecryptfs-utils.assignee.assigned_to" name="ubuntu_ecryptfs-utils.assignee.option" value="ubuntu_ecryptfs-utils.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_ecryptfs-utils.assignee.assigned_to">
              Tyler Hicks (tyhicks)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_ecryptfs-utils.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_ecryptfs-utils.comment_on_change" name="ubuntu_ecryptfs-utils.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary1815025">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/vivid/+source/ecryptfs-utils/+bug/1447282/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/vivid/+source/ecryptfs-utils">Vivid</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/vivid/+source/ecryptfs-utils/+bug/1447282/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/vivid/+source/ecryptfs-utils/+bug/1447282/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1815025">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~pitti">Martin Pitt</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1815025">
     <td colspan="7"><form action="/ubuntu/vivid/+source/ecryptfs-utils/+bug/1447282/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/vivid/+source/ecryptfs-utils">ecryptfs-utils (Ubuntu Vivid)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2015-04-24 08:58:53 UTC" datetime="2015-04-24T08:58:53.383998+00:00">2015-04-24</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2015-04-24 08:59:09 UTC" datetime="2015-04-24T08:59:09.085036+00:00">2015-04-24</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2015-04-24 08:59:09 UTC" datetime="2015-04-24T08:59:09.088923+00:00">2015-04-24</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2015-04-24 08:59:09 UTC" datetime="2015-04-24T08:59:09.085036+00:00">2015-04-24</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2015-05-06 18:04:59 UTC" datetime="2015-05-06T18:04:59.465787+00:00">2015-05-06</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_vivid_ecryptfs-utils.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="ecryptfs-utils" id="ubuntu_vivid_ecryptfs-utils.sourcepackagename"
                         name="ubuntu_vivid_ecryptfs-utils.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_vivid_ecryptfs-utils.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_vivid_ecryptfs-utils.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_vivid_ecryptfs-utils-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_vivid_ecryptfs-utils.sourcepackagename", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_vivid_ecryptfs-utils-sourcepackagename", "selected_value": "ecryptfs-utils", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionSourcePackage"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_vivid_ecryptfs-utils-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_vivid_ecryptfs-utils.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_vivid_ecryptfs-utils.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_vivid_ecryptfs-utils.status" name="ubuntu_vivid_ecryptfs-utils.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_vivid_ecryptfs-utils.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_vivid_ecryptfs-utils.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_vivid_ecryptfs-utils.assignee.assign_to_me" name="ubuntu_vivid_ecryptfs-utils.assignee.option" value="ubuntu_vivid_ecryptfs-utils.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_vivid_ecryptfs-utils.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_vivid_ecryptfs-utils.assignee.assigned_to" name="ubuntu_vivid_ecryptfs-utils.assignee.option" value="ubuntu_vivid_ecryptfs-utils.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_vivid_ecryptfs-utils.assignee.assigned_to">
              Martin Pitt (pitti)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_vivid_ecryptfs-utils.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_vivid_ecryptfs-utils.comment_on_change" name="ubuntu_vivid_ecryptfs-utils.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2047864">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/xenial/+source/ecryptfs-utils/+bug/1447282/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/ecryptfs-utils">Xenial</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/ecryptfs-utils/+bug/1447282/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/ecryptfs-utils/+bug/1447282/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2047864">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2047864">
     <td colspan="7"><form action="/ubuntu/xenial/+source/ecryptfs-utils/+bug/1447282/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/xenial/+source/ecryptfs-utils">ecryptfs-utils (Ubuntu Xenial)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2016-04-23 07:33:54 UTC" datetime="2016-04-23T07:33:54.403401+00:00">2016-04-23</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2016-04-23 07:34:15 UTC" datetime="2016-04-23T07:34:15.263320+00:00">2016-04-23</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2016-07-14 14:53:00 UTC" datetime="2016-07-14T14:53:00.941964+00:00">2016-07-14</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2016-07-14 14:53:00 UTC" datetime="2016-07-14T14:53:00.941964+00:00">2016-07-14</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_xenial_ecryptfs-utils.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="ecryptfs-utils" id="ubuntu_xenial_ecryptfs-utils.sourcepackagename"
                         name="ubuntu_xenial_ecryptfs-utils.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_xenial_ecryptfs-utils.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_xenial_ecryptfs-utils.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_xenial_ecryptfs-utils-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_xenial_ecryptfs-utils.sourcepackagename", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_xenial_ecryptfs-utils-sourcepackagename", "selected_value": "ecryptfs-utils", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionSourcePackage"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_xenial_ecryptfs-utils-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_xenial_ecryptfs-utils.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_xenial_ecryptfs-utils.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_xenial_ecryptfs-utils.status" name="ubuntu_xenial_ecryptfs-utils.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_xenial_ecryptfs-utils.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_xenial_ecryptfs-utils.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ubuntu_xenial_ecryptfs-utils.assignee.assign_to_nobody" name="ubuntu_xenial_ecryptfs-utils.assignee.option" value="ubuntu_xenial_ecryptfs-utils.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_xenial_ecryptfs-utils.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_xenial_ecryptfs-utils.assignee.assign_to_me" name="ubuntu_xenial_ecryptfs-utils.assignee.option" value="ubuntu_xenial_ecryptfs-utils.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_xenial_ecryptfs-utils.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_xenial_ecryptfs-utils.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_xenial_ecryptfs-utils.comment_on_change" name="ubuntu_xenial_ecryptfs-utils.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2047863">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/yakkety/+source/ecryptfs-utils/+bug/1447282/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/ecryptfs-utils">Yakkety</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/ecryptfs-utils/+bug/1447282/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/ecryptfs-utils/+bug/1447282/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2047863">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~tyhicks">Tyler Hicks</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2047863">
     <td colspan="7"><form action="/ubuntu/yakkety/+source/ecryptfs-utils/+bug/1447282/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/yakkety/+source/ecryptfs-utils">ecryptfs-utils (Ubuntu Yakkety)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2016-04-23 07:33:54 UTC" datetime="2016-04-23T07:33:54.403401+00:00">2016-04-23</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2015-04-24 08:59:09 UTC" datetime="2015-04-24T08:59:09.085036+00:00">2015-04-24</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2015-04-24 08:59:09 UTC" datetime="2015-04-24T08:59:09.088923+00:00">2015-04-24</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2016-07-15 01:59:32 UTC" datetime="2016-07-15T01:59:32.615814+00:00">2016-07-15</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2016-07-15 01:59:32 UTC" datetime="2016-07-15T01:59:32.615814+00:00">2016-07-15</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_yakkety_ecryptfs-utils.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="ecryptfs-utils" id="ubuntu_yakkety_ecryptfs-utils.sourcepackagename"
                         name="ubuntu_yakkety_ecryptfs-utils.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_yakkety_ecryptfs-utils.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_yakkety_ecryptfs-utils.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_yakkety_ecryptfs-utils-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_yakkety_ecryptfs-utils.sourcepackagename", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_yakkety_ecryptfs-utils-sourcepackagename", "selected_value": "ecryptfs-utils", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionSourcePackage"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_yakkety_ecryptfs-utils-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_yakkety_ecryptfs-utils.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_yakkety_ecryptfs-utils.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_yakkety_ecryptfs-utils.status" name="ubuntu_yakkety_ecryptfs-utils.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_yakkety_ecryptfs-utils.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_yakkety_ecryptfs-utils.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_yakkety_ecryptfs-utils.assignee.assign_to_me" name="ubuntu_yakkety_ecryptfs-utils.assignee.option" value="ubuntu_yakkety_ecryptfs-utils.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_yakkety_ecryptfs-utils.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_yakkety_ecryptfs-utils.assignee.assigned_to" name="ubuntu_yakkety_ecryptfs-utils.assignee.option" value="ubuntu_yakkety_ecryptfs-utils.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_yakkety_ecryptfs-utils.assignee.assigned_to">
              Tyler Hicks (tyhicks)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_yakkety_ecryptfs-utils.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_yakkety_ecryptfs-utils.comment_on_change" name="ubuntu_yakkety_ecryptfs-utils.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>CVE Request: <a rel="nofollow" href="http://openwall.com/lists/oss-security/2016/07/13/2">http://<wbr />openwall.<wbr />com/lists/<wbr />oss-security/<wbr />2016/07/<wbr />13/2</a></p>
<p>I&#x27;m still sorting out the details and eliminating variables, but as far as I can tell:</p>
<p>Steps to reproduce<br />
===============</p>
<p>1) Install Ubuntu using GPT partitioning for the OS drive[*]</p>
<p>2) Choose &quot;require my password to login&quot;, and check &quot;encrypt my home directory&quot;</p>
<p>Expected behavior<br />
===============</p>
<p>No special user interaction should be required to initialized the crytposwap other than normally logging in</p>
<p>Actual behavior<br />
============</p>
<p>Prior to lightdm coming up, you will be prompted to enter your passphrase to unlock the cryptoswap, similar to how you would be prompted to unlock the OS drive when using full disk encryption (see attached photo).</p>
<p>When lightdm comes up, you have to enter your password/passphrase again to login.</p>
<p>Work-arounds<br />
===========</p>
<p>1) This only seems to happen when using GTP partitioning, not MBR... so use MBR if you can</p>
<p>2) Even with GTP partitioning, booting with init=/sbin/upstart seems to reliably fix the problem, so it certainly seems systemd related</p>
<p>Notes<br />
=====</p>
<p>* As far as I can tell, there isn&#x27;t a way to force Ubiquity to create a GPT partition table when the OS drive is &lt; 2TB, but it will automatically use GPT partitioning when the OS drive is &gt;= 2TB. My particular test was done using the System76 imaging server, which by default uses GPT partitioning even when the OS drive is &lt; 2TB.</p>
<p>SRU INFORMATION<br />
================<br />
Regression potential:<br />
This is delicate as we need to fix existing installations with a post-install script. This needs to happen as defensively as possible, but errors in this can still potentially completely break your partition information. Apart from testing that in the above scenario the unencrypted swap partition is marked as &quot;no-auto&quot; and thus after a new boot you are actually using the cryptswap1 one, we also need to verify that it does not destroy working systems.</p>
<p>Test case:<br />
(1) Install an EFI system with &quot;encrypt my home directory&quot; (You can do this in QEMU with -bios OVMF.fd); after booting the first time you will be asked to enter a passprase for the swap partition, just press enter. &quot;sudo swapon -s&quot; will say something like /dev/sda3, i. e. using unencrypted swap. After installing this update and rebooting, the bogus passphrase prompt on boot should be gone, and &quot;sudo swapon -s&quot; should say /dev/dm-0, i. e. using encrypted swap.</p>
<p>In all these other cases the update should not do anything and booting continues to work:<br />
(2) In the above system, &quot;sudo apt-get install --reinstall ecryptfs-utils&quot; should not change partitions again, but say something like &quot;is already marked as no-auto&quot;.<br />
(3) Install an EFI system without home dir encryption<br />
(4) Install an MBR system with home dir encryption<br />
(5) Install an MBR system without home dir encryption</p>
<p>ProblemType: Bug<br />
DistroRelease: Ubuntu 15.04<br />
Package: systemd 219-7ubuntu3<br />
ProcVersionSign<wbr />ature: Ubuntu 3.19.0-<wbr />15.15-generic 3.19.3<br />
Uname: Linux 3.19.0-15-generic x86_64<br />
ApportVersion: 2.17.2-0ubuntu1<br />
Architecture: amd64<br />
CurrentDesktop: Unity<br />
Date: Wed Apr 22 11:40:29 2015<br />
EcryptfsInUse: Yes<br />
MachineType: System76, Inc. Kudu Professional<br />
ProcKernelCmdLine: BOOT_IMAGE=<wbr />/boot/vmlinuz-<wbr />3.19.0-<wbr />15-generic root=UUID=<wbr />e6c5aea5-<wbr />d57c-410d-<wbr />abce-66e96175e9<wbr />46 ro quiet splash vt.handoff=7<br />
SourcePackage: systemd<br />
UdevLog: Error: [Errno 2] No such file or directory: &#x27;/var/log/udev&#x27;<br />
UpgradeStatus: No upgrade log present (probably fresh install)<br />
dmi.bios.date: 01/15/2014<br />
dmi.bios.vendor: American Megatrends Inc.<br />
dmi.bios.version: 1.03.03RS76<br />
dmi.board.<wbr />asset.tag: Tag 12345<br />
dmi.board.name: Kudu Professional<br />
dmi.board.vendor: System76, Inc.<br />
dmi.board.version: kudp1<br />
dmi.chassis.<wbr />asset.tag: No Asset Tag<br />
dmi.chassis.type: 9<br />
dmi.chassis.vendor: System76, Inc.<br />
dmi.chassis.<wbr />version: kudp1<br />
dmi.modalias: dmi:bvnAmerican<wbr />MegatrendsInc.<wbr />:bvr1.03.<wbr />03RS76:<wbr />bd01/15/<wbr />2014:svnSystem7<wbr />6,Inc.:<wbr />pnKuduProfessio<wbr />nal:pvrkudp1:<wbr />rvnSystem76,<wbr />Inc.:rnKuduProf<wbr />essional:<wbr />rvrkudp1:<wbr />cvnSystem76,<wbr />Inc.:ct9:<wbr />cvrkudp1:<br />
dmi.product.name: Kudu Professional<br />
dmi.product.<wbr />version: kudp1<br />
dmi.sys.vendor: System76, Inc.</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          <span>See <a href="comments/0">original description</a></span>
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="official-tag" href="/ubuntu/+source/ecryptfs-utils/+bugs?field.tag=patch">patch</a>
            <a class="official-tag" href="/ubuntu/+source/ecryptfs-utils/+bugs?field.tag=systemd-boot">systemd-boot</a>
            <a class="unofficial-tag" href="/ubuntu/+source/ecryptfs-utils/+bugs?field.tag=amd64">amd64</a>
            <a class="unofficial-tag" href="/ubuntu/+source/ecryptfs-utils/+bugs?field.tag=apport-bug">apport-bug</a>
            <a class="unofficial-tag" href="/ubuntu/+source/ecryptfs-utils/+bugs?field.tag=ecryptfs">ecryptfs</a>
            <a class="unofficial-tag" href="/ubuntu/+source/ecryptfs-utils/+bugs?field.tag=verification-done">verification-done</a>
            <a class="unofficial-tag" href="/ubuntu/+source/ecryptfs-utils/+bugs?field.tag=vivid">vivid</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          

            <div id="bug-branches">
              <h2>Related branches</h2>

              
                

 

 <div class="buglink-summary">

  <a href="https://code.launchpad.net/~ubuntu-branches/ubuntu/wily/ecryptfs-utils/wily" class="sprite branch">lp:ubuntu/wily/ecryptfs-utils</a>
  
  
</div>



              
              
                

 

 <div class="buglink-summary">

  <a href="https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging" class="sprite branch">lp:~tyhicks/ecryptfs/lp1597154-packaging</a>
  
  
  <div class="reviews">
    

  <div>
    

  <img src="/@@/merge-proposal-icon" />
  <a href="https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging/+merge/299605" title="">Merged</a>
  
  into
  
    <a href="https://code.launchpad.net/~ecryptfs/ecryptfs/trunk">lp:ecryptfs</a>
  
  
    
  


  </div>
  

  

<dl class="reviews">
  
  <dd>
    <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt</a>
    (community):
    <span class="voteAPPROVE">Approve</span>
    
    <time title="2016-07-12 14:07:10 UTC" datetime="2016-07-12T14:07:10.582291+00:00">on 2016-07-12</time>
  </dd>
  <dd>
    <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose</a>
    (community):
    <span class="voteAPPROVE">Approve</span>
    
    <time title="2016-07-12 02:17:07 UTC" datetime="2016-07-12T02:17:07.634698+00:00">on 2016-07-12</time>
  </dd>
  <dd id="review-ecryptfs">
    <a href="https://launchpad.net/~ecryptfs" class="bg-image" style="background-image: url(https://launchpadlibrarian.net/88108046/ecryptfs_14.png)">eCryptfs</a>:

    <span class="votePENDING">Pending</span>
    
    requested
    <time title="2016-07-08 21:35:31 UTC" datetime="2016-07-08T21:35:31.831022+00:00">2016-07-08</time>
  </dd>
  <dd class="popup-diff mp-299605">
    Diff: <a href="https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging/+merge/299605/+preview-diff/730122/+files/preview.diff" class="diff-link">84 lines (+52/-0)</a><div class="collapsible"><span>3 files modified</span><div>debian/changelog (+6/-0)<br/>debian/ecryptfs-utils.postinst (+42/-0)<br/>src/utils/ecryptfs-setup-swap (+4/-0)</div></div>
    <a class="api-ref hidden" href="/~tyhicks/ecryptfs/lp1597154-packaging/+merge/299605/+preview-diff/730122">api</a>
  </dd>

</dl>





  </div>
</div>



              
              
                

 

 <div class="buglink-summary">

  <a href="https://code.launchpad.net/~ecryptfs/ecryptfs/trunk" class="sprite branch">lp:ecryptfs</a>
  
  
</div>



              
            </div>
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2016-6224" title="ecryptfs-setup-swap in eCryptfs does ...">2016-6224</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-22T18:13:03.212308+00:00" title="2015-04-22 18:13:03 UTC">on 2015-04-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381692/+files/IMG_7979_01.jpg">IMG_7979_01.jpg</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381692">Edit</a>
        (480.8 KiB,
        image/jpeg)
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381693/+files/CurrentDmesg.txt">CurrentDmesg.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381693">Edit</a>
        (62.7 KiB,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381694/+files/Dependencies.txt">Dependencies.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381694">Edit</a>
        (3.0 KiB,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381695/+files/JournalErrors.txt">JournalErrors.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381695">Edit</a>
        (20.3 KiB,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381696/+files/Lspci.txt">Lspci.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381696">Edit</a>
        (12.4 KiB,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381697/+files/Lsusb.txt">Lsusb.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381697">Edit</a>
        (389 bytes,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381698/+files/ProcCpuinfo.txt">ProcCpuinfo.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381698">Edit</a>
        (8.0 KiB,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381699/+files/ProcEnviron.txt">ProcEnviron.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381699">Edit</a>
        (103 bytes,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381700/+files/ProcInterrupts.txt">ProcInterrupts.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381700">Edit</a>
        (4.0 KiB,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381701/+files/ProcModules.txt">ProcModules.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381701">Edit</a>
        (4.3 KiB,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381702/+files/SystemdDelta.txt">SystemdDelta.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381702">Edit</a>
        (1.6 KiB,
        text/plain; charset="utf-8")
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381703/+files/UdevDb.txt">UdevDb.txt</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381703">Edit</a>
        (149.4 KiB,
        text/plain; charset="utf-8")
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-22T18:17:41.523739+00:00" title="2015-04-22 18:17:41 UTC">on 2015-04-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Info from fstab, crypttab, and journalctl:</p>
<p>$cat /etc/fstab<br />
# /etc/fstab: static file system information.<br />
#<br />
# Use &#x27;blkid&#x27; to print the universally unique identifier for a<br />
# device; this may be used with UUID= as a more robust way to name devices<br />
# that works even if disks are added and removed. See fstab(5).<br />
#<br />
# &lt;file system&gt;  &lt;mount point&gt;  &lt;type&gt;  &lt;options&gt;  &lt;dump&gt;  &lt;pass&gt;</p>
<p># /dev/sda2<br />
UUID=e6c5aea5-<wbr />d57c-410d-<wbr />abce-66e96175e9<wbr />46  /  ext4  noatime,<wbr />errors=<wbr />remount-<wbr />ro  0  1</p>
<p># /dev/sda3<br />
#UUID=8fcddb3d-<wbr />a96d-4230-<wbr />9844-cf08107d73<wbr />f0 none  swap  sw  0  0</p>
<p>$ cat /etc/crypttab<br />
cryptswap1 UUID=8fcddb3d-<wbr />a96d-4230-<wbr />9844-cf08107d73<wbr />f0 /dev/urandom swap,offset=<wbr />1024,cipher=<wbr />aes-xts-<wbr />plain64</p>
<p>$ journalctl | grep -i swap<br />
Apr 22 11:34:38 jason-Kudu-<wbr />Professional systemd[1]: Activating swap Swap Partition...<br />
Apr 22 11:34:38 jason-Kudu-<wbr />Professional systemd[1]: Activated swap Swap Partition.<br />
Apr 22 11:34:38 jason-Kudu-<wbr />Professional kernel: Adding 4194300k swap on /dev/sda3.  Priority:-1 extents:1 across:4194300k SSFS<br />
Apr 22 11:34:38 jason-Kudu-<wbr />Professional systemd[1]: Starting Cryptography Setup for cryptswap1...<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: &lt;email address hidden&gt;: main process exited, code=exited, status=1/FAILURE<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: Failed to start Cryptography Setup for cryptswap1.<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: Dependency failed for dev-mapper-<wbr />cryptswap1.<wbr />device.<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: Dependency failed for /dev/mapper/<wbr />cryptswap1.<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: Dependency failed for Swap.<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: Job swap.target/start failed with result &#x27;dependency&#x27;.<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: Job dev-mapper-<wbr />cryptswap1.<wbr />swap/start failed with result &#x27;dependency&#x27;.<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: Job dev-mapper-<wbr />cryptswap1.<wbr />device/<wbr />start failed with result &#x27;dependency&#x27;.<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: Unit &lt;email address hidden&gt; entered failed state.<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: &lt;email address hidden&gt; failed.<br />
Apr 22 11:38:31 jason-Kudu-<wbr />Professional systemd[1]: Starting Cryptography Setup for cryptswap1...</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Info from fstab, crypttab, and journalctl:

$cat /etc/fstab 
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# &lt;file system&gt;  &lt;mount point&gt;  &lt;type&gt;  &lt;options&gt;  &lt;dump&gt;  &lt;pass&gt;

# /dev/sda2
UUID=e6c5aea5-d57c-410d-abce-66e96175e946  /  ext4  noatime,errors=remount-ro  0  1

# /dev/sda3
#UUID=8fcddb3d-a96d-4230-9844-cf08107d73f0 none  swap  sw  0  0


$ cat /etc/crypttab 
cryptswap1 UUID=8fcddb3d-a96d-4230-9844-cf08107d73f0 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64


$ journalctl | grep -i swap
Apr 22 11:34:38 jason-Kudu-Professional systemd[1]: Activating swap Swap Partition...
Apr 22 11:34:38 jason-Kudu-Professional systemd[1]: Activated swap Swap Partition.
Apr 22 11:34:38 jason-Kudu-Professional kernel: Adding 4194300k swap on /dev/sda3.  Priority:-1 extents:1 across:4194300k SSFS
Apr 22 11:34:38 jason-Kudu-Professional systemd[1]: Starting Cryptography Setup for cryptswap1...
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: systemd-cryptsetup@cryptswap1.service: main process exited, code=exited, status=1/FAILURE
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Failed to start Cryptography Setup for cryptswap1.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Dependency failed for dev-mapper-cryptswap1.device.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Dependency failed for /dev/mapper/cryptswap1.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Dependency failed for Swap.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Job swap.target/start failed with result 'dependency'.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Job dev-mapper-cryptswap1.swap/start failed with result 'dependency'.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Job dev-mapper-cryptswap1.device/start failed with result 'dependency'.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Unit systemd-cryptsetup@cryptswap1.service entered failed state.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: systemd-cryptsetup@cryptswap1.service failed.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Starting Cryptography Setup for cryptswap1...</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
    
    <time title="2015-04-22 18:23:59 UTC" datetime="2015-04-22T18:23:59.070120+00:00">on 2015-04-22</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
          Prompted for cryptoswap passphrase when using GPT partitioning +<br />- encrypted home directory (ecrptfs)<br />+ encrypted home directory (ecryptfs)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-22T20:01:35.810645+00:00" title="2015-04-22 20:01:35 UTC">on 2015-04-22</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/3">
                <strong>Re: Prompted for cryptoswap passphrase when using GPT partitioning + encrypted home directory (ecryptfs)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Oops, when I copy+pasted my fstab earlier,  I accidentally left out the final line, but the cryptswap1 line is actually there.</p>
<p>This is from a different install, so the UUIDs are different. Also, I forgot that Martin Pitt asked me to include the output from blkid:</p>
<p>$ cat /etc/fstab<br />
# /etc/fstab: static file system information.<br />
#<br />
# Use &#x27;blkid&#x27; to print the universally unique identifier for a<br />
# device; this may be used with UUID= as a more robust way to name devices<br />
# that works even if disks are added and removed. See fstab(5).<br />
#<br />
# &lt;file system&gt;  &lt;mount point&gt;  &lt;type&gt;  &lt;options&gt;  &lt;dump&gt;  &lt;pass&gt;<br />
# /dev/sda2<br />
UUID=fa390f66-<wbr />d7ad-4ed2-<wbr />903d-481e2b3c27<wbr />f6  /  ext4  noatime,<wbr />errors=<wbr />remount-<wbr />ro  0  1<br />
# /dev/sda3<br />
#UUID=230f371f-<wbr />75b2-4264-<wbr />ab46-9ff792f692<wbr />a2 none  swap  sw  0  0<br />
/dev/mapper/<wbr />cryptswap1 none swap sw 0 0</p>
<p>$ cat /etc/crypttab<br />
cryptswap1 UUID=230f371f-<wbr />75b2-4264-<wbr />ab46-9ff792f692<wbr />a2 /dev/urandom swap,offset=<wbr />1024,cipher=<wbr />aes-xts-<wbr />plain64</p>
<p>$ sudo blkid /dev/sda1<br />
/dev/sda1: PARTLABEL=&quot;primary&quot; PARTUUID=<wbr />&quot;8de16314-<wbr />f8a2-44f5-<wbr />8e30-926810f9fd<wbr />45&quot;<br />
$ sudo blkid /dev/sda2<br />
/dev/sda2: LABEL=&quot;Ubuntu&quot; UUID=&quot;fa390f66-<wbr />d7ad-4ed2-<wbr />903d-481e2b3c27<wbr />f6&quot; TYPE=&quot;ext4&quot; PARTLABEL=&quot;primary&quot; PARTUUID=<wbr />&quot;3424f5de-<wbr />bef2-4c54-<wbr />b0ca-21c4ef701d<wbr />0c&quot;<br />
$ sudo blkid /dev/sda3<br />
/dev/sda3: UUID=&quot;230f371f-<wbr />75b2-4264-<wbr />ab46-9ff792f692<wbr />a2&quot; TYPE=&quot;swap&quot; PARTLABEL=&quot;primary&quot; PARTUUID=<wbr />&quot;b82baf7e-<wbr />c2eb-4b42-<wbr />aea6-145947e8ee<wbr />0b&quot;</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Oops, when I copy+pasted my fstab earlier,  I accidentally left out the final line, but the cryptswap1 line is actually there.

This is from a different install, so the UUIDs are different. Also, I forgot that Martin Pitt asked me to include the output from blkid:

$ cat /etc/fstab
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# &lt;file system&gt;  &lt;mount point&gt;  &lt;type&gt;  &lt;options&gt;  &lt;dump&gt;  &lt;pass&gt;
# /dev/sda2
UUID=fa390f66-d7ad-4ed2-903d-481e2b3c27f6  /  ext4  noatime,errors=remount-ro  0  1
# /dev/sda3
#UUID=230f371f-75b2-4264-ab46-9ff792f692a2 none  swap  sw  0  0
/dev/mapper/cryptswap1 none swap sw 0 0 

$ cat /etc/crypttab
cryptswap1 UUID=230f371f-75b2-4264-ab46-9ff792f692a2 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64

$ sudo blkid /dev/sda1
/dev/sda1: PARTLABEL="primary" PARTUUID="8de16314-f8a2-44f5-8e30-926810f9fd45"
$ sudo blkid /dev/sda2
/dev/sda2: LABEL="Ubuntu" UUID="fa390f66-d7ad-4ed2-903d-481e2b3c27f6" TYPE="ext4" PARTLABEL="primary" PARTUUID="3424f5de-bef2-4c54-b0ca-21c4ef701d0c"
$ sudo blkid /dev/sda3
/dev/sda3: UUID="230f371f-75b2-4264-ab46-9ff792f692a2" TYPE="swap" PARTLABEL="primary" PARTUUID="b82baf7e-c2eb-4b42-aea6-145947e8ee0b"
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-23T16:17:18.944727+00:00" title="2015-04-23 16:17:18 UTC">on 2015-04-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks Jason. Just to make sure my suspicion is correct, can you please give me the output of &quot;systemctl --all|grep swap&quot; and give me all files that turn up in &quot;find /run/systemd/<wbr />generator* | grep swap&quot;?</p>
<p>I figure the</p>
<p>Apr 22 11:34:38 jason-Kudu-<wbr />Professional kernel: Adding 4194300k swap on /dev/sda3. Priority:-1 extents:1 across:4194300k SSFS</p>
<p>comes from systemd-<wbr />gpt-generator that picks up the raw/bogus /dev/sda3 partition, and as it&#x27;s slightly faster it&#x27;s causing this:</p>
<p>Apr 22 11:38:31 username-<wbr />Kudu-Profession<wbr />al systemd-<wbr />cryptsetup[<wbr />645]: Loading of cryptographic parameters failed: Invalid argument</p>
<p>which makes cryptsetup fail.</p>
<p>FTR, GPT will be used (by default) if you install on an EFI system.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks Jason. Just to make sure my suspicion is correct, can you please give me the output of "systemctl --all|grep swap" and give me all files that turn up in "find /run/systemd/generator* | grep swap"?

I figure the

Apr 22 11:34:38 jason-Kudu-Professional kernel: Adding 4194300k swap on /dev/sda3. Priority:-1 extents:1 across:4194300k SSFS

comes from systemd-gpt-generator that picks up the raw/bogus /dev/sda3 partition, and as it's slightly faster it's causing this:

Apr 22 11:38:31 username-Kudu-Professional systemd-cryptsetup[645]: Loading of cryptographic parameters failed: Invalid argument

which makes cryptsetup fail.

FTR, GPT will be used (by default) if you install on an EFI system.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-23T18:24:06.186493+00:00" title="2015-04-23 18:24:06 UTC">on 2015-04-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Martin,</p>
<p>Another interesting tidbit is that this pre-lightdm passphrase prompt isn&#x27;t actually doing anything... you can enter a blank passphrase or the wrong passphrase, and it will still happily proceed to lightdm.</p>
<p>Here&#x27;s the output you asked for:</p>
<p>$ systemctl --all | grep -i swap<br />
&nbsp;&nbsp;dev-mapper-<wbr />cryptswap1.<wbr />device                                                             loaded    inactive   dead      start dev-mapper-<wbr />cryptswap1.<wbr />device<br />
&nbsp;&nbsp;&lt;email address hidden&gt;                                                    loaded    activating start     start Cryptography Setup for cryptswap1<br />
&nbsp;&nbsp;dev-disk-<wbr />by\x2did-<wbr />ata\x2dCrucial_<wbr />CT120M500SSD3_<wbr />14260C6F95F9\<wbr />x2dpart3.<wbr />swap                loaded    active     active          /dev/disk/<wbr />by-id/ata-<wbr />Crucial_<wbr />CT120M500SSD3_<wbr />14260C6F95F9-<wbr />part3<br />
&nbsp;&nbsp;dev-disk-<wbr />by\x2did-<wbr />wwn\x2d0x108066<wbr />82451855888394x<wbr />\x2dpart3.<wbr />swap                           loaded    active     active          /dev/disk/<wbr />by-id/wwn-<wbr />0x1080668245185<wbr />5888394x-<wbr />part3<br />
&nbsp;&nbsp;dev-disk-<wbr />by\x2dpartlabel<wbr />-primary.<wbr />swap                                                    loaded    active     active          /dev/disk/<wbr />by-partlabel/<wbr />primary<br />
&nbsp;&nbsp;dev-disk-<wbr />by\x2dpartuuid-<wbr />54ce1181\<wbr />x2d8e2b\<wbr />x2d456d\<wbr />x2db679\<wbr />x2d6a22d25fd361<wbr />.swap            loaded    active     active          /dev/disk/<wbr />by-partuuid/<wbr />54ce1181-<wbr />8e2b-456d-<wbr />b679-6a22d25fd3<wbr />61<br />
&nbsp;&nbsp;dev-disk-<wbr />by\x2duuid-<wbr />92a5e233\<wbr />x2dc249\<wbr />x2d42df\<wbr />x2d8425\<wbr />x2d3d6e8ac3af41<wbr />.swap                loaded    active     active          /dev/disk/<wbr />by-uuid/<wbr />92a5e233-<wbr />c249-42df-<wbr />8425-3d6e8ac3af<wbr />41<br />
&nbsp;&nbsp;dev-mapper-<wbr />cryptswap1.<wbr />swap                                                               loaded    inactive   dead      start /dev/mapper/<wbr />cryptswap1<br />
&nbsp;&nbsp;dev-sda3.swap                                                                            loaded    active     active          Swap Partition<br />
&nbsp;&nbsp;swap.target                                                                              loaded    inactive   dead            Swap</p>
<p>$ find /run/systemd/<wbr />generator* | grep -i swap<br />
/run/systemd/<wbr />generator/<wbr />dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />d<br />
/run/systemd/<wbr />generator/<wbr />dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />d/90-device-<wbr />timeout.<wbr />conf<br />
/run/systemd/<wbr />generator/<wbr />dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />requires<br />
/run/systemd/<wbr />generator&lt;<wbr />email address hidden&gt;<br />
/run&lt;email address hidden&gt;<br />
/run/systemd/<wbr />generator/<wbr />dev-disk-<wbr />by\x2duuid-<wbr />92a5e233\<wbr />x2dc249\<wbr />x2d42df\<wbr />x2d8425\<wbr />&lt;email address hidden&gt;<br />
/&lt;email address hidden&gt;<br />
/run/systemd/<wbr />generator/<wbr />swap.target.<wbr />requires<br />
/run/systemd/<wbr />generator/<wbr />swap.target.<wbr />requires/<wbr />dev-mapper-<wbr />cryptswap1.<wbr />swap<br />
/run/systemd/<wbr />generator/<wbr />dev-mapper-<wbr />cryptswap1.<wbr />swap<br />
/run/systemd/<wbr />generator.<wbr />late/swap.<wbr />target.<wbr />wants<br />
/run/systemd/<wbr />generator.<wbr />late/swap.<wbr />target.<wbr />wants/dev-<wbr />sda3.swap<br />
/run/systemd/<wbr />generator.<wbr />late/dev-<wbr />sda3.swap</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Martin,

Another interesting tidbit is that this pre-lightdm passphrase prompt isn't actually doing anything... you can enter a blank passphrase or the wrong passphrase, and it will still happily proceed to lightdm.

Here's the output you asked for:

$ systemctl --all | grep -i swap
  dev-mapper-cryptswap1.device                                                             loaded    inactive   dead      start dev-mapper-cryptswap1.device
  systemd-cryptsetup@cryptswap1.service                                                    loaded    activating start     start Cryptography Setup for cryptswap1
  dev-disk-by\x2did-ata\x2dCrucial_CT120M500SSD3_14260C6F95F9\x2dpart3.swap                loaded    active     active          /dev/disk/by-id/ata-Crucial_CT120M500SSD3_14260C6F95F9-part3
  dev-disk-by\x2did-wwn\x2d0x10806682451855888394x\x2dpart3.swap                           loaded    active     active          /dev/disk/by-id/wwn-0x10806682451855888394x-part3
  dev-disk-by\x2dpartlabel-primary.swap                                                    loaded    active     active          /dev/disk/by-partlabel/primary
  dev-disk-by\x2dpartuuid-54ce1181\x2d8e2b\x2d456d\x2db679\x2d6a22d25fd361.swap            loaded    active     active          /dev/disk/by-partuuid/54ce1181-8e2b-456d-b679-6a22d25fd361
  dev-disk-by\x2duuid-92a5e233\x2dc249\x2d42df\x2d8425\x2d3d6e8ac3af41.swap                loaded    active     active          /dev/disk/by-uuid/92a5e233-c249-42df-8425-3d6e8ac3af41
  dev-mapper-cryptswap1.swap                                                               loaded    inactive   dead      start /dev/mapper/cryptswap1
  dev-sda3.swap                                                                            loaded    active     active          Swap Partition
  swap.target                                                                              loaded    inactive   dead            Swap

$ find /run/systemd/generator* | grep -i swap
/run/systemd/generator/dev-mapper-cryptswap1.device.d
/run/systemd/generator/dev-mapper-cryptswap1.device.d/90-device-timeout.conf
/run/systemd/generator/dev-mapper-cryptswap1.device.requires
/run/systemd/generator/dev-mapper-cryptswap1.device.requires/systemd-cryptsetup@cryptswap1.service
/run/systemd/generator/cryptsetup.target.requires/systemd-cryptsetup@cryptswap1.service
/run/systemd/generator/dev-disk-by\x2duuid-92a5e233\x2dc249\x2d42df\x2d8425\x2d3d6e8ac3af41.device.wants/systemd-cryptsetup@cryptswap1.service
/run/systemd/generator/systemd-cryptsetup@cryptswap1.service
/run/systemd/generator/swap.target.requires
/run/systemd/generator/swap.target.requires/dev-mapper-cryptswap1.swap
/run/systemd/generator/dev-mapper-cryptswap1.swap
/run/systemd/generator.late/swap.target.wants
/run/systemd/generator.late/swap.target.wants/dev-sda3.swap
/run/systemd/generator.late/dev-sda3.swap</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-23T18:53:38.220632+00:00" title="2015-04-23 18:53:38 UTC">on 2015-04-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>One more interesting tidbit: it seems that when booting with systemd, it&#x27;s never enabling encrypted swap, it&#x27;s just enabling normal swap using the underlying physical swap partition.</p>
<p>After booting with systemd:</p>
<p>$ sudo swapon --summary<br />
Filename				Type		Size	Used	Priority<br />
/dev/sda3                              	partition	4194300	0	-1</p>
<p>After booting with Upstart on the same install:</p>
<p>$ sudo swapon --summary<br />
Filename				Type		Size	Used	Priority<br />
/dev/mapper/<wbr />cryptswap1                 	partition	4193788	0	-1</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">One more interesting tidbit: it seems that when booting with systemd, it's never enabling encrypted swap, it's just enabling normal swap using the underlying physical swap partition.

After booting with systemd:

$ sudo swapon --summary
Filename				Type		Size	Used	Priority
/dev/sda3                              	partition	4194300	0	-1

After booting with Upstart on the same install:

$ sudo swapon --summary
Filename				Type		Size	Used	Priority
/dev/mapper/cryptswap1                 	partition	4193788	0	-1
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-23T20:11:29.680438+00:00" title="2015-04-23 20:11:29 UTC">on 2015-04-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>can you please give me the contents of /run/systemd/<wbr />generator.<wbr />late/dev-<wbr />sda3.swap ?</p>
<p><span class="foldable-quoted">&gt; One more interesting tidbit: it seems that when booting with systemd, it&#x27;s never enabling encrypted swap, it&#x27;s just enabling normal swap using the underlying physical swap partition.
</span></p>
<p>Yes, that&#x27;s expected after the log above. upstart doesn&#x27;t do auto-discovery of swap partitions, systemd-<wbr />gpt-generator does. I figure /run/systemd/<wbr />generator.<wbr />late/dev-<wbr />sda3.swap comes from s-gpt-generator.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">can you please give me the contents of /run/systemd/generator.late/dev-sda3.swap ?

&gt; One more interesting tidbit: it seems that when booting with systemd, it's never enabling encrypted swap, it's just enabling normal swap using the underlying physical swap partition.

Yes, that's expected after the log above. upstart doesn't do auto-discovery of swap partitions, systemd-gpt-generator does. I figure /run/systemd/generator.late/dev-sda3.swap comes from s-gpt-generator.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-23T20:17:10.053335+00:00" title="2015-04-23 20:17:10 UTC">on 2015-04-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Yesterday I didn&#x27;t have access to a UEFI system or a &gt;2TiB drive to test with... but I just did a normal install on a UEFI system, and I&#x27;m experiencing this same bug.</p>
<p>As before, booting with init=/sbin/upstart fixes it.</p>
<p>I just wanted to rule out this being a problem introduced by the System76 imaging system :)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Yesterday I didn't have access to a UEFI system or a &gt;2TiB drive to test with... but I just did a normal install on a UEFI system, and I'm experiencing this same bug.

As before, booting with init=/sbin/upstart fixes it.

I just wanted to rule out this being a problem introduced by the System76 imaging system :)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-23T21:30:37.804178+00:00" title="2015-04-23 21:30:37 UTC">on 2015-04-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4382428/+files/generator.late.tgz">generator.late.tgz</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4382428">Edit</a>
        (1.9 KiB,
        application/x-tar)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I attached a tarball will everything from generator.late/, just in case any other files are useful.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I attached a tarball will everything from generator.late/, just in case any other files are useful.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-23T21:31:12.893244+00:00" title="2015-04-23 21:31:12 UTC">on 2015-04-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4382430/+files/generator.tgz">generator.tgz</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4382430">Edit</a>
        (1.5 KiB,
        application/x-tar)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Also attached a tarball with everything from generator/</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Also attached a tarball with everything from generator/</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-24T08:59:08.489174+00:00" title="2015-04-24 08:59:08 UTC">on 2015-04-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks Jason!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks Jason!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in systemd (Ubuntu Vivid): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Martin Pitt (pitti)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
  
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - Prompted for cryptoswap passphrase when using GPT partitioning +<br />- encrypted home directory (ecryptfs)<br />+ Does not use encrypted swap when using GPT partitioning + encrypted home<br />+ directory (ecryptfs)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-24T09:06:02.163333+00:00" title="2015-04-24 09:06:02 UTC">on 2015-04-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>So it is as I suspected:</p>
<p>&nbsp;* ecryptfs-setup-swap creates cryptswap1 at 512KiB offset of the former real swap partition (vda3), and adds that to /etc/crypttab; as we need/want the UUID, we keep the original swap header<br />
&nbsp;* During boot, systemd-<wbr />gpt-generator sees the apparent unencrypted swap partition on vda3 and creates a .swap unit for this. This doesn&#x27;t happen on classic MBR partitions, as there are no partition type UUIDs and no auto-discovery<br />
&nbsp;* The &quot;real&quot; encrypted swap partition (cryptswap1) gets enabled later, and that fails with &quot;busy&quot; as the unencrypted partition is already active.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">So it is as I suspected:

 * ecryptfs-setup-swap creates cryptswap1 at 512KiB offset of the former real swap partition (vda3), and adds that to /etc/crypttab; as we need/want the UUID, we keep the original swap header
 * During boot, systemd-gpt-generator sees the apparent unencrypted swap partition on vda3 and creates a .swap unit for this. This doesn't happen on classic MBR partitions, as there are no partition type UUIDs and no auto-discovery
 * The "real" encrypted swap partition (cryptswap1) gets enabled later, and that fails with "busy" as the unencrypted partition is already active.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-24T09:07:42.137896+00:00" title="2015-04-24 09:07:42 UTC">on 2015-04-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Two ideas how to fix that:</p>
<p>&nbsp;* ecryptfs-setup-swap should change the partition type UUID to not be &quot;swap&quot; any more so that we don&#x27;t try and auto-activate it. This is my preferred solution if it works.<br />
&nbsp;* ecryptfs-setup-swap creates an override .swap unit which disables the auto-mounting. But as we would again have to refer to real device names, we lose the entire point of keeping the underlying unencrypted swap partition, i. e. so that we can refer to it by UUID.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Two ideas how to fix that:

 * ecryptfs-setup-swap should change the partition type UUID to not be "swap" any more so that we don't try and auto-activate it. This is my preferred solution if it works.
 * ecryptfs-setup-swap creates an override .swap unit which disables the auto-mounting. But as we would again have to refer to real device names, we lose the entire point of keeping the underlying unencrypted swap partition, i. e. so that we can refer to it by UUID.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>affects</b>:
      </td>
      <td>
        systemd (Ubuntu Vivid) &#8594; ecryptfs-utils (Ubuntu Vivid)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-24T11:03:26.361770+00:00" title="2015-04-24 11:03:26 UTC">on 2015-04-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>For w-series and upstream we need to fix this in ecryptfs-setup-swap directly -- either mark the partition as such, or better yet, stop having a swap partition in the first place. This has created an inordinate amount of pain and breakage so far :-(</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">For w-series and upstream we need to fix this in ecryptfs-setup-swap directly -- either mark the partition as such, or better yet, stop having a swap partition in the first place. This has created an inordinate amount of pain and breakage so far :-(</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
    
    <time title="2015-04-24 11:12:57 UTC" datetime="2015-04-24T11:12:57.089101+00:00">on 2015-04-24</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-24T13:01:38.541723+00:00" title="2015-04-24 13:01:38 UTC">on 2015-04-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This is the debdiff I uploaded to the vivid-proposed review queue. WARNING: the code will make your eyes pop out :-(</p>
<p>I tested this under various scenarios to make sure it doesn&#x27;t destroy anything unrelated, and it does fix this issue.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This is the debdiff I uploaded to the vivid-proposed review queue. WARNING: the code will make your eyes pop out :-(

I tested this under various scenarios to make sure it doesn't destroy anything unrelated, and it does fix this issue.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-24T13:03:00.434905+00:00" title="2015-04-24 13:03:00 UTC">on 2015-04-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>For the record, this horrible echo | fstab construction is apparently the only thing (apart from dd) which can change GPT partition flags. I talked to upstream util-linux, and Karel will work on adding support for GPT to sfdisk, so that this will look less hideous.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">For the record, this horrible echo | fstab construction is apparently the only thing (apart from dd) which can change GPT partition flags. I talked to upstream util-linux, and Karel will work on adding support for GPT to sfdisk, so that this will look less hideous.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~crichton" class="sprite person">Ubuntu Foundations Team Bug Bot (crichton)</a>
    
    <time title="2015-04-24 16:19:59 UTC" datetime="2015-04-24T16:19:59.591838+00:00">on 2015-04-24</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: patch
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-24T17:49:46.485702+00:00" title="2015-04-24 17:49:46 UTC">on 2015-04-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Martin,</p>
<p>I just built ecryptfs-utils with your patch, and it fixed the problem! I&#x27;ll beat up on it more through the day, see if I come across any corner cases where there are still issues.</p>
<p>And you&#x27;re right... that&#x27;s some seriously scary looking shell scripting in there. But it works :D</p>
<p>Thanks!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Martin,

I just built ecryptfs-utils with your patch, and it fixed the problem! I'll beat up on it more through the day, see if I come across any corner cases where there are still issues.

And you're right... that's some seriously scary looking shell scripting in there. But it works :D

Thanks!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-28T05:18:06.410412+00:00" title="2015-04-28 05:18:06 UTC">on 2015-04-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4386259/+files/ecryptfs-utils_107-0ubuntu1_107-0ubuntu1.1.diff">vivid debdiff</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4386259">Edit</a>
        (4.8 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fixed debdiff which drops the erroneous sudo (debugging leftover) and uses printf instead of /bin/echo.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fixed debdiff which drops the erroneous sudo (debugging leftover) and uses printf instead of /bin/echo.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
    
    <time title="2015-04-28 14:23:35 UTC" datetime="2015-04-28T14:23:35.927631+00:00">on 2015-04-28</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu Vivid): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Committed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-28T15:25:07.755135+00:00" title="2015-04-28 15:25:07 UTC">on 2015-04-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Martin,</p>
<p>I just built ecryptfs-utils with your updated patch, and it seem solid, no issues found. FYI, I tested in OEM mode where the customer chooses encrypted home directory during the first-run-<wbr />user-config, as that&#x27;s the scenario that&#x27;s most important for System76.</p>
<p>Thanks!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Martin,

I just built ecryptfs-utils with your updated patch, and it seem solid, no issues found. FYI, I tested in OEM mode where the customer chooses encrypted home directory during the first-run-user-config, as that's the scenario that's most important for System76.

Thanks!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~arges" class="sprite person">Chris J Arges (arges)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-29T14:01:54.704147+00:00" title="2015-04-29 14:01:54 UTC">on 2015-04-29</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/20">
                <strong>Please test proposed package</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hello Jason, or anyone else affected,</p>
<p>Accepted ecryptfs-utils into vivid-proposed. The package will build now and be available at <a rel="nofollow" href="http://launchpad.net/ubuntu/+source/ecryptfs-utils/107-0ubuntu1.1">http://<wbr />launchpad.<wbr />net/ubuntu/<wbr />+source/<wbr />ecryptfs-<wbr />utils/107-<wbr />0ubuntu1.<wbr />1</a> in a few hours, and then in the -proposed repository.</p>
<p>Please help us by testing this new package.  See <a rel="nofollow" href="https://wiki.ubuntu.com/Testing/EnableProposed">https:/<wbr />/wiki.ubuntu.<wbr />com/Testing/<wbr />EnableProposed</a> for documentation how to enable and use -proposed.  Your feedback will aid us getting this update out to other Ubuntu users.</p>
<p>If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-needed to verification-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-<wbr />failed.  In either case, details of your testing will help us make a better decision.</p>
<p>Further information regarding the verification process can be found at <a rel="nofollow" href="https://wiki.ubuntu.com/QATeam/PerformingSRUVerification">https:/<wbr />/wiki.ubuntu.<wbr />com/QATeam/<wbr />PerformingSRUVe<wbr />rification</a> .  Thank you in advance!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hello Jason, or anyone else affected,

Accepted ecryptfs-utils into vivid-proposed. The package will build now and be available at http://launchpad.net/ubuntu/+source/ecryptfs-utils/107-0ubuntu1.1 in a few hours, and then in the -proposed repository.

Please help us by testing this new package.  See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed.  Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-needed to verification-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed.  In either case, details of your testing will help us make a better decision.

Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification .  Thank you in advance!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-needed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-29T17:17:14.947921+00:00" title="2015-04-29 17:17:14 UTC">on 2015-04-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The ecryptfs-utils update itself seems fine. However, the systemd update in proposed seems to have problems when encrypted home directory is being used, whether or not you&#x27;ve installed the ecryptfs-utils update first (and even rebooted) prior to installing the other packages in proposed.</p>
<p>I need to experiment a bit more with this...</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The ecryptfs-utils update itself seems fine. However, the systemd update in proposed seems to have problems when encrypted home directory is being used, whether or not you've installed the ecryptfs-utils update first (and even rebooted) prior to installing the other packages in proposed.

I need to experiment a bit more with this...

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gaele" class="sprite person">Gaele Strootman (gaele)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-29T17:29:19.451038+00:00" title="2015-04-29 17:29:19 UTC">on 2015-04-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I just updated ecryptfs-utils to 107-0ubuntu1.1, without the other updates in proposed. This seems to be working fine.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I just updated ecryptfs-utils to 107-0ubuntu1.1, without the other updates in proposed. This seems to be working fine.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-29T18:40:08.239093+00:00" title="2015-04-29 18:40:08 UTC">on 2015-04-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Some more details: I tested 3 scenarios, all starting with an OEM mode install. The first 2 worked fine, the 3rd seems to have some issues:</p>
<p>1) Install all current updates in proposed from the OEM account, then prepare for shipping to user, then create a user account with an encrypted home directory. No issues.</p>
<p>2) Prepare for shipping to user, then create a user account with an encrypted home directory, then install *only* ecryptfs-utils, libecryptfs0 from proposed. No issues.</p>
<p>3) Prepare for shipping to user, then create a user account with an encrypted home directory, then install *all* updates from proposed. The systemd update is prompts for the encrypted swap passphrase twice and results in a package error (an indicator pops up with the error), although after a reboot things seem to probably be fine.</p>
<p>I ran scenario (3) from a terminal, still need to see what happens when I run it from the update-manager. Also, if you don&#x27;t enter your passphrase (or at least press enter, the passphrase seems to be ignored anyway), the prompt will hit a timeout and the update will fail. So my biggest concern in running this from the update manager, will try that now...</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Some more details: I tested 3 scenarios, all starting with an OEM mode install. The first 2 worked fine, the 3rd seems to have some issues:

1) Install all current updates in proposed from the OEM account, then prepare for shipping to user, then create a user account with an encrypted home directory. No issues.

2) Prepare for shipping to user, then create a user account with an encrypted home directory, then install *only* ecryptfs-utils, libecryptfs0 from proposed. No issues.

3) Prepare for shipping to user, then create a user account with an encrypted home directory, then install *all* updates from proposed. The systemd update is prompts for the encrypted swap passphrase twice and results in a package error (an indicator pops up with the error), although after a reboot things seem to probably be fine.

I ran scenario (3) from a terminal, still need to see what happens when I run it from the update-manager. Also, if you don't enter your passphrase (or at least press enter, the passphrase seems to be ignored anyway), the prompt will hit a timeout and the update will fail. So my biggest concern in running this from the update manager, will try that now...</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-29T19:20:37.129965+00:00" title="2015-04-29 19:20:37 UTC">on 2015-04-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4387774/+files/Screenshot%20from%202015-04-29%2013_05_13.png">Screenshot from 2015-04-29 13_05_13.png</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4387774">Edit</a>
        (85.6 KiB,
        image/png)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Okay, if you apply all the updates currently in proposed using update-manger (when you have an encrypted home directory setup), update-manager will hang while configuring udev.</p>
<p>The only way to tell that&#x27;s it&#x27;s prompting for your cryptoswap passphrase (which gets ignored anyway) is to expand the update-manger details (see attached screenshot).</p>
<p>So in total there are still some issues with what&#x27;s currently sitting in proposed. Whether or not this is enough of a problem to block these SRUs, I don&#x27;t know... on the one hand, I&#x27;m keen to see the ecryptfs-utils SRU land as soon as possible. On the other hand, these updates currently need some hand-holding by the user (when encrypted home directory is being used anyway).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Okay, if you apply all the updates currently in proposed using update-manger (when you have an encrypted home directory setup), update-manager will hang while configuring udev.

The only way to tell that's it's prompting for your cryptoswap passphrase (which gets ignored anyway) is to expand the update-manger details (see attached screenshot).

So in total there are still some issues with what's currently sitting in proposed. Whether or not this is enough of a problem to block these SRUs, I don't know... on the one hand, I'm keen to see the ecryptfs-utils SRU land as soon as possible. On the other hand, these updates currently need some hand-holding by the user (when encrypted home directory is being used anyway).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-29T19:23:27.037312+00:00" title="2015-04-29 19:23:27 UTC">on 2015-04-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I suppose one work-around is to just land the ecryptfs-utils SRU first, then wait on the systemd SRU for a few days to minimize the number of users effecting by updating both at the same time. Actually, I&#x27;ll test that scenario now just to double check.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I suppose one work-around is to just land the ecryptfs-utils SRU first, then wait on the systemd SRU for a few days to minimize the number of users effecting by updating both at the same time. Actually, I'll test that scenario now just to double check.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-29T20:37:14+00:00" title="2015-04-29 20:37:14 UTC">on 2015-04-29</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/27">
                <strong>Re: [Bug 1447282] Re: Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Jason Gerard DeRose [2015-04-29 19:23 -0000]:<br />
<span class="foldable-quoted">
&gt; I suppose one work-around is to just land the ecryptfs-utils SRU first,<br />
&gt; then wait on the systemd SRU for a few days to minimize the number of<br />
&gt; users effecting by updating both at the same time. Actually, I&#x27;ll test<br />
&gt; that scenario now just to double check.
</span></p>
<p>Yes, I agree. My concern is that this bug here will cause the udev<br />
prompt for pretty much any package update (from -proposed or<br />
-security) that runs the udev package trigger. So we should get<br />
ecryptfs in ASAP, and postpone the others.</p>
<p>ubiquity can also install updates during installation, so that at<br />
least some new installs will get the correct partitions<br />
right away.</p>
<p>Thanks for your extensive tests!</p>
<p>Martin</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Jason Gerard DeRose [2015-04-29 19:23 -0000]:
&gt; I suppose one work-around is to just land the ecryptfs-utils SRU first,
&gt; then wait on the systemd SRU for a few days to minimize the number of
&gt; users effecting by updating both at the same time. Actually, I'll test
&gt; that scenario now just to double check.

Yes, I agree. My concern is that this bug here will cause the udev
prompt for pretty much any package update (from -proposed or
-security) that runs the udev package trigger. So we should get
ecryptfs in ASAP, and postpone the others.

ubiquity can also install updates during installation, so that at
least some new installs will get the correct partitions
right away.

Thanks for your extensive tests!

Martin
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-29T20:38:39.862254+00:00" title="2015-04-29 20:38:39 UTC">on 2015-04-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Okay, if you update ecryptfs-utils, libecryptfs0 first *and* reboot prior to installing the other updates currently in proposed, then there are no issues.</p>
<p>I&#x27;m removing the &quot;verification-<wbr />needed&quot; tag as from the perspective of this ecryptfs-utils SRU itself, things are all good in my book. But folks should keep in mind the gotchas involved with the systemd SRU combined with encrypted home directory.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Okay, if you update ecryptfs-utils, libecryptfs0 first *and* reboot prior to installing the other updates currently in proposed, then there are no issues.

I'm removing the "verification-needed" tag as from the perspective of this ecryptfs-utils SRU itself, things are all good in my book. But folks should keep in mind the gotchas involved with the systemd SRU combined with encrypted home directory.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-done<br />removed: verification-needed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/28" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~akgrant0710" class="sprite person">Alistair Grant (akgrant0710)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-04T08:45:45.760586+00:00" title="2015-05-04 08:45:45 UTC">on 2015-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/28"> #28</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Just in case anyone else comes across this before the fix is released:</p>
<p>Booting without the normal splash screen, i.e. /etc/default/grub contains:</p>
<p>GRUB_CMDLINE_<wbr />LINUX_DEFAULT=<wbr />&quot;&quot;</p>
<p>and not:</p>
<p>GRUB_CMDLINE_<wbr />LINUX_DEFAULT=<wbr />&quot;quiet splash&quot;</p>
<p>can result in the boot hanging waiting for input without a prompt.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Just in case anyone else comes across this before the fix is released:

Booting without the normal splash screen, i.e. /etc/default/grub contains:

GRUB_CMDLINE_LINUX_DEFAULT=""

and not:

GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"

can result in the boot hanging waiting for input without a prompt.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/29" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-04T16:18:39.277608+00:00" title="2015-05-04 16:18:39 UTC">on 2015-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/29"> #29</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@akgrant0710 - I haven&#x27;t been able to reproduce your issues.</p>
<p>I started with an OEM mode install, installed all the updates currently in Vivid proposed, created a user account with encrypted home directory, confirmed that encrypted swap was working as expected.</p>
<p>Then I changed the /etc/default/grub line to:</p>
<p>GRUB_CMDLINE_<wbr />LINUX_DEFAULT=<wbr />&quot;&quot;</p>
<p>And then ran `sudo update-grub`.</p>
<p>But for me,  I wasn&#x27;t prompted erroneously for the ecrypted swap passphrase, and the swap was correctly initialized, confirmed with:</p>
<p>$ swapon --summary</p>
<p>When you tested, did you have all the updates from proposed installed? The new ecryptfs-utils package hasn&#x27;t yet hit Vivid updates.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@akgrant0710 - I haven't been able to reproduce your issues.

I started with an OEM mode install, installed all the updates currently in Vivid proposed, created a user account with encrypted home directory, confirmed that encrypted swap was working as expected.

Then I changed the /etc/default/grub line to:

GRUB_CMDLINE_LINUX_DEFAULT=""

And then ran `sudo update-grub`.

But for me,  I wasn't prompted erroneously for the ecrypted swap passphrase, and the swap was correctly initialized, confirmed with:

$ swapon --summary

When you tested, did you have all the updates from proposed installed? The new ecryptfs-utils package hasn't yet hit Vivid updates. </textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/30" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-04T16:33:38.124947+00:00" title="2015-05-04 16:33:38 UTC">on 2015-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/30"> #30</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@akgrant0710  - oops, never mind, you were talking about the pre-fix scenario, sorry for the confusion :D</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@akgrant0710  - oops, never mind, you were talking about the pre-fix scenario, sorry for the confusion :D</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/31" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~vorlon" class="sprite person">Steve Langasek (vorlon)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-04T17:51:18.696753+00:00" title="2015-05-04 17:51:18 UTC">on 2015-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/31"> #31</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Martin, you&#x27;ve marked <a href="/bugs/1449555" class="bug-link">bug #1449555</a> as a duplicate of this bug, but this bug is assigned to ecryptfs-utils.  The problem described in <a href="/bugs/1449555" class="bug-link">bug #1449555</a> does *not* require ecryptfs-utils to be installed in order to reproduce.  All that&#x27;s required is to configure a line in /etc/crypttab for /dev/urandom encryption - it doesn&#x27;t even have to be enabled in /etc/fstab.</p>
<p>This is a bug in systemd&#x27;s handling of /etc/crypttab lines with keyfile=<wbr />/dev/urandom, and has *nothing* to do with ecryptfs-utils setup of partitions.  I&#x27;m marking this bug as verification-<wbr />failed.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Martin, you've marked bug #1449555 as a duplicate of this bug, but this bug is assigned to ecryptfs-utils.  The problem described in bug #1449555 does *not* require ecryptfs-utils to be installed in order to reproduce.  All that's required is to configure a line in /etc/crypttab for /dev/urandom encryption - it doesn't even have to be enabled in /etc/fstab.

This is a bug in systemd's handling of /etc/crypttab lines with keyfile=/dev/urandom, and has *nothing* to do with ecryptfs-utils setup of partitions.  I'm marking this bug as verification-failed.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-failed<br />removed: verification-done
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/32" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-05T05:14:25.656384+00:00" title="2015-05-05 05:14:25 UTC">on 2015-05-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/32"> #32</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Steve, given that the original reporter here confirmed that the fix works, I&#x27;m marking this back as v-done. <a href="/bugs/1449555" class="bug-link">Bug 1449555</a> has a description which is exactly the same as here: &quot;where the user selects to encrypt their home directory, they will get a password prompt during boot and at other times on the command-line requesting a password for cryptswap1.&quot;. This is due to the insufficient ecryptfs-setup-swap script, which is the bug here.</p>
<p>Can you please file a new bug about your specific setup? Thanks!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Steve, given that the original reporter here confirmed that the fix works, I'm marking this back as v-done. Bug 1449555 has a description which is exactly the same as here: "where the user selects to encrypt their home directory, they will get a password prompt during boot and at other times on the command-line requesting a password for cryptswap1.". This is due to the insufficient ecryptfs-setup-swap script, which is the bug here.

Can you please file a new bug about your specific setup? Thanks!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-done<br />removed: verification-failed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/33" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~akgrant0710" class="sprite person">Alistair Grant (akgrant0710)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-05T07:19:49.762338+00:00" title="2015-05-05 07:19:49 UTC">on 2015-05-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/33"> #33</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@jderose :-)  Thanks for the follow-up.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@jderose :-)  Thanks for the follow-up.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/34" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-06T18:04:58.524119+00:00" title="2015-05-06 18:04:58 UTC">on 2015-05-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/34"> #34</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package ecryptfs-utils - 107-0ubuntu1.1</p>
<p>---------------<br />
ecryptfs-utils (107-0ubuntu1.1) vivid; urgency=medium</p>
<p>&nbsp;&nbsp;* Add setup-swap-<wbr />mark-gpt-<wbr />noauto.<wbr />patch: In ecryptfs-<wbr />setup-swap, mark the<br />
&nbsp;&nbsp;&nbsp;&nbsp;&quot;fake&quot; underlying unencrypted swap partition as no-auto Without that, the<br />
&nbsp;&nbsp;&nbsp;&nbsp;swap partition gets auto-activated under systemd as it cannot be told<br />
&nbsp;&nbsp;&nbsp;&nbsp;apart from a real unencrypted swap partition.<br />
&nbsp;&nbsp;* debian/<wbr />ecryptfs-<wbr />utils.postinst: Fix existing GPT installations with<br />
&nbsp;&nbsp;&nbsp;&nbsp;cryptswap1 and an offset= for the above issue. (LP: <a href="/bugs/1447282" class="bug-link">#1447282</a>)</p>
<p>&nbsp;-- Martin Pitt &lt;email address hidden&gt;  Fri, 24 Apr 2015 12:15:12 +0100</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package ecryptfs-utils - 107-0ubuntu1.1

---------------
ecryptfs-utils (107-0ubuntu1.1) vivid; urgency=medium

  * Add setup-swap-mark-gpt-noauto.patch: In ecryptfs-setup-swap, mark the
    "fake" underlying unencrypted swap partition as no-auto Without that, the
    swap partition gets auto-activated under systemd as it cannot be told
    apart from a real unencrypted swap partition.
  * debian/ecryptfs-utils.postinst: Fix existing GPT installations with
    cryptswap1 and an offset= for the above issue. (LP: #1447282)

 -- Martin Pitt &lt;martin.pitt@ubuntu.com&gt;  Fri, 24 Apr 2015 12:15:12 +0100</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu Vivid): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/35" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kitterman" class="sprite person">Scott Kitterman (kitterman)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-06T18:05:03.657359+00:00" title="2015-05-06 18:05:03 UTC">on 2015-05-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/35">
                <strong>Update Released</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/35"> #35</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The verification of the Stable Release Update for ecryptfs-utils has completed successfully and the package has now been released to -updates.  Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report.  In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The verification of the Stable Release Update for ecryptfs-utils has completed successfully and the package has now been released to -updates.  Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report.  In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/36" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-07T13:46:15.504105+00:00" title="2015-05-07 13:46:15 UTC">on 2015-05-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/36"> #36</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package ecryptfs-utils - 107-0ubuntu1.1</p>
<p>---------------<br />
ecryptfs-utils (107-0ubuntu1.1) vivid; urgency=medium</p>
<p>&nbsp;&nbsp;* Add setup-swap-<wbr />mark-gpt-<wbr />noauto.<wbr />patch: In ecryptfs-<wbr />setup-swap, mark the<br />
&nbsp;&nbsp;&nbsp;&nbsp;&quot;fake&quot; underlying unencrypted swap partition as no-auto Without that, the<br />
&nbsp;&nbsp;&nbsp;&nbsp;swap partition gets auto-activated under systemd as it cannot be told<br />
&nbsp;&nbsp;&nbsp;&nbsp;apart from a real unencrypted swap partition.<br />
&nbsp;&nbsp;* debian/<wbr />ecryptfs-<wbr />utils.postinst: Fix existing GPT installations with<br />
&nbsp;&nbsp;&nbsp;&nbsp;cryptswap1 and an offset= for the above issue. (LP: <a href="/bugs/1447282" class="bug-link">#1447282</a>)</p>
<p>&nbsp;-- Martin Pitt &lt;email address hidden&gt;  Fri, 24 Apr 2015 12:15:12 +0100</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package ecryptfs-utils - 107-0ubuntu1.1

---------------
ecryptfs-utils (107-0ubuntu1.1) vivid; urgency=medium

  * Add setup-swap-mark-gpt-noauto.patch: In ecryptfs-setup-swap, mark the
    "fake" underlying unencrypted swap partition as no-auto Without that, the
    swap partition gets auto-activated under systemd as it cannot be told
    apart from a real unencrypted swap partition.
  * debian/ecryptfs-utils.postinst: Fix existing GPT installations with
    cryptswap1 and an offset= for the above issue. (LP: #1447282)

 -- Martin Pitt &lt;martin.pitt@ubuntu.com&gt;  Fri, 24 Apr 2015 12:15:12 +0100</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/37" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jun-yang" class="sprite person">JunYang Pink (jun-yang)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-08T05:09:47.523630+00:00" title="2015-05-08 05:09:47 UTC">on 2015-05-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/37"> #37</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hey guys,</p>
<p>I&#x27;m still having trouble with this bug. Perhaps because I&#x27;m still fairly new (~1 year) to linux.</p>
<p>I first noticed the &quot;please enter passphase&quot; error after the initial install however, I didn&#x27;t pay it any mind. Fast forward a few hours and I decided to run the system updater because I did my install of &#x27;vivid&#x27; while offline. It was here when I ran into this cryptoswap1 error again (I got the same screen as Jason in post #24).</p>
<p>Thats when I found this thread. Since then I&#x27;ve tried two things, first was:<br />
$apt-get install --only-upgrade ecryptfs-utils</p>
<p>Every thing seemed to load fine however, when I tried the system update it eventually did the same thing as above. Next after more digging I tired : $bzr branch <a href="/+code/ubuntu/vivid/ecryptfs-utils" class="branch-short-link">lp:ubuntu/vivid/ecryptfs-utils</a>. This time after it had finished I restarted my machine and was greeted with the same &quot;please enter passphase&quot; error.  However, I was able to successfully run the system updater with the cryptoswap1 error.</p>
<p>Any clue on what steps I should take to get rid of this error when starting up my computer?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hey guys,

I'm still having trouble with this bug. Perhaps because I'm still fairly new (~1 year) to linux.

I first noticed the "please enter passphase" error after the initial install however, I didn't pay it any mind. Fast forward a few hours and I decided to run the system updater because I did my install of 'vivid' while offline. It was here when I ran into this cryptoswap1 error again (I got the same screen as Jason in post #24).

Thats when I found this thread. Since then I've tried two things, first was:
$apt-get install --only-upgrade ecryptfs-utils

Every thing seemed to load fine however, when I tried the system update it eventually did the same thing as above. Next after more digging I tired : $bzr branch lp:ubuntu/vivid/ecryptfs-utils. This time after it had finished I restarted my machine and was greeted with the same "please enter passphase" error.  However, I was able to successfully run the system updater with the cryptoswap1 error.

Any clue on what steps I should take to get rid of this error when starting up my computer? </textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/38" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jun-yang" class="sprite person">JunYang Pink (jun-yang)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-08T05:30:29.046197+00:00" title="2015-05-08 05:30:29 UTC">on 2015-05-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/38"> #38</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4393368/+files/error-msg.png">error-msg.png</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4393368">Edit</a>
        (249.6 KiB,
        image/png)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/39" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jun-yang" class="sprite person">JunYang Pink (jun-yang)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-08T05:30:58.668162+00:00" title="2015-05-08 05:30:58 UTC">on 2015-05-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/39"> #39</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>One more thing.</p>
<p>After just now rebooting my system again I&#x27;ve come to realize that my  &quot;please enter passphase&quot; message is slightly different from the one Jason pictured (IMG_7979_01.jpg) in post #1.</p>
<p>Jason&#x27;s message says: &#x27;please enter passphrase for disk primary(cryptswap1) on none!&#x27;</p>
<p>Mines on the other had says:  &#x27;please enter passphrase for disk ubuntu-<wbr />-vg-swap_<wbr />1(cryptswap1) on none!&#x27;</p>
<p>I don&#x27;t know if it matters much, just thought I should mention it. Again, any help will be appreciated as I&#x27;d like to go about setting up the rest of my environment.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">One more thing.

After just now rebooting my system again I've come to realize that my  "please enter passphase" message is slightly different from the one Jason pictured (IMG_7979_01.jpg) in post #1. 

Jason's message says: 'please enter passphrase for disk primary(cryptswap1) on none!'

Mines on the other had says:  'please enter passphrase for disk ubuntu--vg-swap_1(cryptswap1) on none!'

I don't know if it matters much, just thought I should mention it. Again, any help will be appreciated as I'd like to go about setting up the rest of my environment.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/40" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-08T16:12:00.226520+00:00" title="2015-05-08 16:12:00 UTC">on 2015-05-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/40"> #40</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@jun-yang - I haven&#x27;t been able to reproduce your issue. I tried:</p>
<p>1) OEM mode install on an Intel-GPU system<br />
2) OEM mode install on an Nvidia-GPU system</p>
<p>In all cases, encrypted home directory seemed to work fine for me and I was never prompted for a passphrase to unlock the cryptoswap (note that I had installed all the updates prior to running &quot;Prepare for shipping to user&quot;).</p>
<p>Is your 15.04 install completely up-to-date? Also, now that the ecryptfs-<wbr />utils/libecrypt<wbr />fs1 update has landed in vivid-updates, you only need do to this to make sure you have a fully up-to-date system:</p>
<p>sudo apt-get update<br />
sudo apt-get -y dist-upgrade<br />
sudo reboot</p>
<p>Please let us know if you&#x27;re still having issues after running the above 3 commands.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@jun-yang - I haven't been able to reproduce your issue. I tried:

1) OEM mode install on an Intel-GPU system
2) OEM mode install on an Nvidia-GPU system

In all cases, encrypted home directory seemed to work fine for me and I was never prompted for a passphrase to unlock the cryptoswap (note that I had installed all the updates prior to running "Prepare for shipping to user").

Is your 15.04 install completely up-to-date? Also, now that the ecryptfs-utils/libecryptfs1 update has landed in vivid-updates, you only need do to this to make sure you have a fully up-to-date system:

sudo apt-get update
sudo apt-get -y dist-upgrade
sudo reboot

Please let us know if you're still having issues after running the above 3 commands.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/41" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jun-yang" class="sprite person">JunYang Pink (jun-yang)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-10T05:05:03.201261+00:00" title="2015-05-10 05:05:03 UTC">on 2015-05-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/41"> #41</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks for the help Jason but that didn&#x27;t work either.</p>
<p>Upon reboot it still gave the &#x27;please enter passphrase for disk ubuntu-<wbr />-vg-swap_<wbr />1(cryptswap1) on none!&#x27; message.</p>
<p>Since this was a fresh install I don&#x27;t have much on my computer yet so I wont mind redoing it. I want to try again using MBR instead of GPT. However, just wondering what your thoughts are on MBR vs GPT as far as security? From what I&#x27;ve read the main difference is that GPT is much newer. Anything else I should be concerned about before the switch?</p>
<p>Thanks again for the help, I truly appreciate it.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks for the help Jason but that didn't work either.

Upon reboot it still gave the 'please enter passphrase for disk ubuntu--vg-swap_1(cryptswap1) on none!' message.

Since this was a fresh install I don't have much on my computer yet so I wont mind redoing it. I want to try again using MBR instead of GPT. However, just wondering what your thoughts are on MBR vs GPT as far as security? From what I've read the main difference is that GPT is much newer. Anything else I should be concerned about before the switch?

Thanks again for the help, I truly appreciate it.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/42" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~w-martin-h" class="sprite person">Martin (w-martin-h)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-10T15:10:35.725315+00:00" title="2015-05-10 15:10:35 UTC">on 2015-05-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/42"> #42</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I have the same touble, fresh install of 15.04, encrypted home dir, and the message every time I reboot: &quot;please enter passphrase for disk ubuntu-<wbr />-vg-swap_<wbr />1(cryptswap1) on none!&quot;</p>
<p>$ sudo apt-cache policy ecryptfs-utils<br />
ecryptfs-utils:<br />
&nbsp;&nbsp;Installed: 107-0ubuntu1.1<br />
&nbsp;&nbsp;Candidate: 107-0ubuntu1.1<br />
&nbsp;&nbsp;Version table:<br />
&nbsp;*** 107-0ubuntu1.1 0<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;500 <a rel="nofollow" href="http://archive.ubuntu.com/ubuntu/">http://<wbr />archive.<wbr />ubuntu.<wbr />com/ubuntu/</a> vivid-updates/main amd64 Packages<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100 /var/lib/<wbr />dpkg/status<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;107-0ubuntu1 0<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;500 <a rel="nofollow" href="http://archive.ubuntu.com/ubuntu/">http://<wbr />archive.<wbr />ubuntu.<wbr />com/ubuntu/</a> vivid/main amd64 Packages</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I have the same touble, fresh install of 15.04, encrypted home dir, and the message every time I reboot: "please enter passphrase for disk ubuntu--vg-swap_1(cryptswap1) on none!"

$ sudo apt-cache policy ecryptfs-utils
ecryptfs-utils:
  Installed: 107-0ubuntu1.1
  Candidate: 107-0ubuntu1.1
  Version table:
 *** 107-0ubuntu1.1 0
        500 http://archive.ubuntu.com/ubuntu/ vivid-updates/main amd64 Packages
        100 /var/lib/dpkg/status
     107-0ubuntu1 0
        500 http://archive.ubuntu.com/ubuntu/ vivid/main amd64 Packages</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/43" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jun-yang" class="sprite person">JunYang Pink (jun-yang)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-10T19:42:22.872377+00:00" title="2015-05-10 19:42:22 UTC">on 2015-05-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/43"> #43</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@w-martin-h</p>
<p>Yeah, I get the same message as you after running that command.</p>
<p>Must admit, this bug is very frustrating for a newbie like me. I guess I should just get a good Linux book and dive in so things like this are more intuitive.</p>
<p>Until then I hope using MBR will work. I&#x27;ll be back to let you guys know.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@w-martin-h 

Yeah, I get the same message as you after running that command. 

Must admit, this bug is very frustrating for a newbie like me. I guess I should just get a good Linux book and dive in so things like this are more intuitive.

Until then I hope using MBR will work. I'll be back to let you guys know.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/44" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~w-martin-h" class="sprite person">Martin (w-martin-h)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-10T23:37:10.931414+00:00" title="2015-05-10 23:37:10 UTC">on 2015-05-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/44"> #44</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Oh no, stay away from the Linux books. You&#x27;ll just get cranky.<br />
I am quite new myself; roughly 15 years now.</p>
<p>I fixed it by removing the swap partition everywhere ... swapoff -a; cryptsetup remove everything that looks strange to you!</p>
<p>gut out:  /etc/fstab</p>
<p>rm everything with crypt here /dev/mapper/</p>
<p>I think it maybe down to me fixing the partition table  somewhat after wrestling with UEFI.</p>
<p>Anyway, what&#x27;s important is that when it comes to Linux, less is more!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Oh no, stay away from the Linux books. You'll just get cranky.
I am quite new myself; roughly 15 years now.

I fixed it by removing the swap partition everywhere ... swapoff -a; cryptsetup remove everything that looks strange to you!

gut out:  /etc/fstab

rm everything with crypt here /dev/mapper/

I think it maybe down to me fixing the partition table  somewhat after wrestling with UEFI.

Anyway, what's important is that when it comes to Linux, less is more!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/45" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-11T04:43:59.143453+00:00" title="2015-05-11 04:43:59 UTC">on 2015-05-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/45"> #45</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>JuanYang, Martin, etc.: Your situation seems different, as you use LVM. I don&#x27;t know yet whether you also  use GPT, but as it&#x27;s a sufficiently different case, please file a new bug about this. Please include the following:</p>
<p>&nbsp;- output of &quot;sudo blkid&quot;<br />
&nbsp;- attach /etc/fstab and /etc/crypttab<br />
&nbsp;- run &quot;sudo journalctl -b &gt; /tmp/journal.txt&quot; and attach /tmp/journal.txt.</p>
<p>Thanks!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">JuanYang, Martin, etc.: Your situation seems different, as you use LVM. I don't know yet whether you also  use GPT, but as it's a sufficiently different case, please file a new bug about this. Please include the following:

 - output of "sudo blkid"
 - attach /etc/fstab and /etc/crypttab
 - run "sudo journalctl -b &gt; /tmp/journal.txt" and attach /tmp/journal.txt.

Thanks!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/46" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~denny-klessens" class="sprite person">Denny (denny-klessens)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-11T09:52:35.530218+00:00" title="2015-05-11 09:52:35 UTC">on 2015-05-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/46"> #46</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Martin: see <a href="/bugs/1453738" class="bug-link">Bug #1453738</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Martin: see Bug #1453738</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/47" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-05-23T07:31:07.885526+00:00" title="2015-05-23 07:31:07 UTC">on 2015-05-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/47"> #47</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Status changed to &#x27;Confirmed&#x27; because the bug affects multiple users.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Status changed to 'Confirmed' because the bug affects multiple users.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in systemd (Ubuntu Vivid): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Confirmed
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in systemd (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Confirmed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
    
    <time title="2015-05-23 14:28:09 UTC" datetime="2015-05-23T14:28:09.302594+00:00">on 2015-05-23</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>no longer affects</b>:
      </td>
      <td>
        systemd (Ubuntu Vivid)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>no longer affects</b>:
      </td>
      <td>
        systemd (Ubuntu)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/49" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ralph-bariz" class="sprite person">Ralph (ralph-bariz)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-06-30T18:10:53.616867+00:00" title="2015-06-30 18:10:53 UTC">on 2015-06-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/49"> #49</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I didn&#x27;t read the whole thing now, me it affected affected after I activated the swap (not mapper) entry in fstab. I&#x27;ve done because I thought, what the f***, I ran without swap all the time?</p>
<p>Then this entry appeared before lightdm and swapon --summary showed me /dev/sdXX. Disabling the classic swap line gave me a /dev/dm-0 device mapper reference... Jupiee problem solved.<br />
I think cryptswap doesn&#x27;t need a classic entry in fstab, but if there is one systemd gets confused, tries to access the cryptswap, asks for password, gets the wrong and activates classic swap... ouch</p>
<p>Best Regards</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I didn't read the whole thing now, me it affected affected after I activated the swap (not mapper) entry in fstab. I've done because I thought, what the f***, I ran without swap all the time?

Then this entry appeared before lightdm and swapon --summary showed me /dev/sdXX. Disabling the classic swap line gave me a /dev/dm-0 device mapper reference... Jupiee problem solved.
I think cryptswap doesn't need a classic entry in fstab, but if there is one systemd gets confused, tries to access the cryptswap, asks for password, gets the wrong and activates classic swap... ouch

Best Regards</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
    
    <time title="2015-08-04 15:51:30 UTC" datetime="2015-08-04T15:51:30.289878+00:00">on 2015-08-04</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
    
    <time title="2015-08-04 17:59:51 UTC" datetime="2015-08-04T17:59:51.462190+00:00">on 2015-08-04</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>affects</b>:
      </td>
      <td>
        ecryptfs-utils &#8594; ecryptfs
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Confirmed
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; Fix Committed
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Dustin Kirkland  (kirkland)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/51" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~radix" class="sprite person">Christopher Armstrong (radix)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-01-18T18:46:39.281343+00:00" title="2016-01-18 18:46:39 UTC">on 2016-01-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/51"> #51</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I think there may be a regression on this issue: I just got this same exact behavior (asking for a cryptswap passphrase during boot) on a brand new Ubuntu 15.10 system76 laptop with updates applied. I&#x27;ve contacted System76 support to let them know.</p>
<p>I&#x27;m also having some problems with LXC that may be related to this problem, but I haven&#x27;t figured that out yet.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I think there may be a regression on this issue: I just got this same exact behavior (asking for a cryptswap passphrase during boot) on a brand new Ubuntu 15.10 system76 laptop with updates applied. I've contacted System76 support to let them know.

I'm also having some problems with LXC that may be related to this problem, but I haven't figured that out yet.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/52" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dusoft-staznosti" class="sprite person">dusoft (dusoft-staznosti)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-02-17T19:39:26.312217+00:00" title="2016-02-17 19:39:26 UTC">on 2016-02-17</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/52"> #52</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I confirm, brand new laptop installation of Ubuntu 15.10, happens repeatedly during apt-get upgrade etc.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I confirm, brand new laptop installation of Ubuntu 15.10, happens repeatedly during apt-get upgrade etc.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/53" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dusoft-staznosti" class="sprite person">dusoft (dusoft-staznosti)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-02-17T19:42:56.244722+00:00" title="2016-02-17 19:42:56 UTC">on 2016-02-17</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/53"> #53</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Also, affects installation in GUI, when basically nothing indicates a password (or just pressing Enter key) is required ans system waits and waits until user opens console details and see what&#x27;s happening. Quite annoying for users unaware of this as package installation waits for user interaction *without indicating so*.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Also, affects installation in GUI, when basically nothing indicates a password (or just pressing Enter key) is required ans system waits and waits until user opens console details and see what's happening. Quite annoying for users unaware of this as package installation waits for user interaction *without indicating so*.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/54" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ikes73" class="sprite person">Avi Eis (ikes73)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-02-19T19:14:19.951184+00:00" title="2016-02-19 19:14:19 UTC">on 2016-02-19</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/54"> #54</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Same bug on fully updated 15.10 on HP laptop. Are there any good work-arounds?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Same bug on fully updated 15.10 on HP laptop. Are there any good work-arounds?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/55" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andrew-dowden" class="sprite person">david6 (andrew-dowden)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-10T08:14:31.557189+00:00" title="2016-03-10 08:14:31 UTC">on 2016-03-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/55"> #55</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This issue is present for current daily ISO for 16.04 LTS (Xenial Xerus).</p>
<p>Will test further ..</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This issue is present for current daily ISO for 16.04 LTS (Xenial Xerus).

Will test further ..
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/56" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andrew-dowden" class="sprite person">david6 (andrew-dowden)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-10T09:46:38.419161+00:00" title="2016-03-10 09:46:38 UTC">on 2016-03-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/56"> #56</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Re-tested with latest daily (07-Mar), and still occurring.</p>
<p>Also issue at command line, doing update, with halt for &#x27;enter password&#x27; occurs several times.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Re-tested with latest daily (07-Mar), and still occurring.

Also issue at command line, doing update, with halt for 'enter password' occurs several times.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/57" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-15T10:50:56.228744+00:00" title="2016-03-15 10:50:56 UTC">on 2016-03-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/57"> #57</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I just did an installation with today&#x27;s xenial amd64 desktop image with EFI, and things come out alright. I have an encrypted swap partition and the unencrypted fake/stub swap partition is not touched.</p>
<p>Please be more specific how exactly you installed, and give me the output of the following commands:</p>
<p>&nbsp;&nbsp;sudo blkid<br />
&nbsp;&nbsp;swapon -s<br />
&nbsp;&nbsp;printf &quot;x\np\n&quot; | sudo fdisk /dev/sda<br />
&nbsp;&nbsp;ls -l /run/systemd/<wbr />generator/</p>
<p>Thanks!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I just did an installation with today's xenial amd64 desktop image with EFI, and things come out alright. I have an encrypted swap partition and the unencrypted fake/stub swap partition is not touched.

Please be more specific how exactly you installed, and give me the output of the following commands:

  sudo blkid
  swapon -s
  printf "x\np\n" | sudo fdisk /dev/sda
  ls -l /run/systemd/generator/

Thanks!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/58" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dthomas-b" class="sprite person">Dirk Thomas (dthomas-b)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-18T23:38:40.940988+00:00" title="2016-03-18 23:38:40 UTC">on 2016-03-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/58"> #58</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/58/+download">Download full text</a> (3.1 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I just installed todays daily build of Xenial with EFI and ran into the same problem.</p>
<p>$ sudo blkid<br />
/dev/nvme0n1: PTUUID=<wbr />&quot;7b6240b1-<wbr />61b5-4fc7-<wbr />939a-6a78708bda<wbr />ad&quot; PTTYPE=&quot;gpt&quot;<br />
/dev/nvme0n1p1: UUID=&quot;30E3-3A90&quot; TYPE=&quot;vfat&quot; PARTLABEL=&quot;EFI System Partition&quot; PARTUUID=<wbr />&quot;f92f5e37-<wbr />7518-4e1e-<wbr />91e2-f6a39b4b32<wbr />c1&quot;<br />
/dev/nvme0n1p2: UUID=&quot;544fb035-<wbr />9adf-433d-<wbr />a291-47180b2575<wbr />60&quot; TYPE=&quot;ext4&quot; PARTUUID=<wbr />&quot;429cab6f-<wbr />729e-4055-<wbr />903d-dced0f6b65<wbr />29&quot;<br />
/dev/nvme0n1p3: UUID=&quot;f11492fb-<wbr />f9bf-4699-<wbr />80a9-8df106f1ed<wbr />0c&quot; TYPE=&quot;swap&quot; PARTUUID=<wbr />&quot;05a0be8e-<wbr />8a2e-4e94-<wbr />b74a-f3c620534f<wbr />1a&quot;</p>
<p>$ swapon -s<br />
Filename				Type		Size	Used	Priority<br />
/dev/nvme0n1p3                         	partition	33417212	0	-1</p>
<p>$ printf &quot;x\np\n&quot; | sudo fdisk /dev/nvme0n1</p>
<p>Welcome to fdisk (util-linux 2.27.1).<br />
Changes will remain in memory only, until you decide to write them.<br />
Be careful before using the write command.</p>
<p>Command (m for help):<br />
Expert command (m for help): Disk /dev/nvme0n1: 477 GiB, 512110190592 bytes, 1000215216 sectors<br />
Units: sectors of 1 * 512 = 512 bytes<br />
Sector size (logical/physical): 512 bytes / 512 bytes<br />
I/O size (minimum/optimal): 512 bytes / 512 bytes<br />
Disklabel type: gpt<br />
Disk identifier: 7B6240B1-<wbr />61B5-4FC7-<wbr />939A-6A78708BDA<wbr />AD<br />
First LBA: 34<br />
Last LBA: 1000215182<br />
Alternative LBA: 1000215215<br />
Partition entries LBA: 2<br />
Allocated partition entries: 128</p>
<p>Device             Start        End   Sectors Type-UUID                            UUID                                 Name            Attrs<br />
/dev/nvme0n1p1      2048    1050623   1048576 C12A7328-<wbr />F81F-11D2-<wbr />BA4B-00A0C93EC9<wbr />3B F92F5E37-<wbr />7518-4E1E-<wbr />91E2-F6A39B4B32<wbr />C1 EFI System Partition</p>
<p>/dev/nvme0n1p2   1050624  933380095 932329472 0FC63DAF-<wbr />8483-4772-<wbr />8E79-3D69D8477D<wbr />E4 429CAB6F-<wbr />729E-4055-<wbr />903D-DCED0F6B65<wbr />29<br />
/dev/nvme0n1p3 933380096 1000214527  66834432 0657FD6D-<wbr />A4AB-43C4-<wbr />84E5-0933C84B4F<wbr />4F 05A0BE8E-<wbr />8A2E-4E94-<wbr />B74A-F3C620534F<wbr />1A</p>
<p>$ ls -l /run/systemd/<wbr />generator/<br />
total 16<br />
-rw-r--r-- 1 root root 374 Mar 18 16:17 boot-efi.mount<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 cryptsetup.<wbr />target.<wbr />requires<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 dev-disk-<wbr />by\x2duuid-<wbr />f11492fb\<wbr />x2df9bf\<wbr />x2d4699\<wbr />x2d80a9\<wbr />x2d8df106f1ed0c<wbr />.device.<wbr />wants<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />d<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />requires<br />
-rw-r--r-- 1 root root 188 Mar 18 16:17 dev-mapper-<wbr />cryptswap1.<wbr />swap<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 hwclock.service.d<br />
drwxr-xr-x 2 root root  80 Mar 18 16:17 local-fs.<wbr />target.<wbr />requires<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 local-fs.<wbr />target.<wbr />wants<br />
-rw-r--r-- 1 root root 277 Mar 18 16:17 -.mount<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 multi-user.<wbr />target.<wbr />wants<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 networking.<wbr />service.<wbr />d<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 remote-fs.target.d<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 sendsigs.service.d<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 swap.target.<wbr />requires<br />
-rw-r--r-- 1 root root 947 Mar 18 16:17 &lt;email address hidden&gt;<br />
drwxr-xr-x 2 root root  60 Mar 18 16:17 umountfs.service.d<br />
drwxr-xr-x 2 root root  60 Mar 18 16...</p></div>
    
    <p>
      <a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/58">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I just installed todays daily build of Xenial with EFI and ran into the same problem.


$ sudo blkid
/dev/nvme0n1: PTUUID="7b6240b1-61b5-4fc7-939a-6a78708bdaad" PTTYPE="gpt"
/dev/nvme0n1p1: UUID="30E3-3A90" TYPE="vfat" PARTLABEL="EFI System Partition" PARTUUID="f92f5e37-7518-4e1e-91e2-f6a39b4b32c1"
/dev/nvme0n1p2: UUID="544fb035-9adf-433d-a291-47180b257560" TYPE="ext4" PARTUUID="429cab6f-729e-4055-903d-dced0f6b6529"
/dev/nvme0n1p3: UUID="f11492fb-f9bf-4699-80a9-8df106f1ed0c" TYPE="swap" PARTUUID="05a0be8e-8a2e-4e94-b74a-f3c620534f1a"


$ swapon -s
Filename				Type		Size	Used	Priority
/dev/nvme0n1p3                         	partition	33417212	0	-1


$ printf "x\np\n" | sudo fdisk /dev/nvme0n1

Welcome to fdisk (util-linux 2.27.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Expert command (m for help): Disk /dev/nvme0n1: 477 GiB, 512110190592 bytes, 1000215216 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: 7B6240B1-61B5-4FC7-939A-6A78708BDAAD
First LBA: 34
Last LBA: 1000215182
Alternative LBA: 1000215215
Partition entries LBA: 2
Allocated partition entries: 128

Device             Start        End   Sectors Type-UUID                            UUID                                 Name            Attrs
/dev/nvme0n1p1      2048    1050623   1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B F92F5E37-7518-4E1E-91E2-F6A39B4B32C1 EFI System Partition
                                                                                                                                        
/dev/nvme0n1p2   1050624  933380095 932329472 0FC63DAF-8483-4772-8E79-3D69D8477DE4 429CAB6F-729E-4055-903D-DCED0F6B6529                 
/dev/nvme0n1p3 933380096 1000214527  66834432 0657FD6D-A4AB-43C4-84E5-0933C84B4F4F 05A0BE8E-8A2E-4E94-B74A-F3C620534F1A


$ ls -l /run/systemd/generator/
total 16
-rw-r--r-- 1 root root 374 Mar 18 16:17 boot-efi.mount
drwxr-xr-x 2 root root  60 Mar 18 16:17 cryptsetup.target.requires
drwxr-xr-x 2 root root  60 Mar 18 16:17 dev-disk-by\x2duuid-f11492fb\x2df9bf\x2d4699\x2d80a9\x2d8df106f1ed0c.device.wants
drwxr-xr-x 2 root root  60 Mar 18 16:17 dev-mapper-cryptswap1.device.d
drwxr-xr-x 2 root root  60 Mar 18 16:17 dev-mapper-cryptswap1.device.requires
-rw-r--r-- 1 root root 188 Mar 18 16:17 dev-mapper-cryptswap1.swap
drwxr-xr-x 2 root root  60 Mar 18 16:17 hwclock.service.d
drwxr-xr-x 2 root root  80 Mar 18 16:17 local-fs.target.requires
drwxr-xr-x 2 root root  60 Mar 18 16:17 local-fs.target.wants
-rw-r--r-- 1 root root 277 Mar 18 16:17 -.mount
drwxr-xr-x 2 root root  60 Mar 18 16:17 multi-user.target.wants
drwxr-xr-x 2 root root  60 Mar 18 16:17 networking.service.d
drwxr-xr-x 2 root root  60 Mar 18 16:17 remote-fs.target.d
drwxr-xr-x 2 root root  60 Mar 18 16:17 sendsigs.service.d
drwxr-xr-x 2 root root  60 Mar 18 16:17 swap.target.requires
-rw-r--r-- 1 root root 947 Mar 18 16:17 systemd-cryptsetup@cryptswap1.service
drwxr-xr-x 2 root root  60 Mar 18 16:17 umountfs.service.d
drwxr-xr-x 2 root root  60 Mar 18 16:17 umountnfs.service.d
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/59" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dthomas-b" class="sprite person">Dirk Thomas (dthomas-b)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-19T01:56:03.089486+00:00" title="2016-03-19 01:56:03 UTC">on 2016-03-19</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/59"> #59</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The solution describe here (<a rel="nofollow" href="http://zeroset.mnim.org/2015/05/10/ubuntu-15-04-vivid-vervet-please-enter-passphrase-for-disk-cryptswap1-on-none/">http://<wbr />zeroset.<wbr />mnim.org/<wbr />2015/05/<wbr />10/ubuntu-<wbr />15-04-vivid-<wbr />vervet-<wbr />please-<wbr />enter-passphras<wbr />e-for-disk-<wbr />cryptswap1-<wbr />on-none/</a>) which uses the device path instead of the UUID made it work for me.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The solution describe here (http://zeroset.mnim.org/2015/05/10/ubuntu-15-04-vivid-vervet-please-enter-passphrase-for-disk-cryptswap1-on-none/) which uses the device path instead of the UUID made it work for me.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/60" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-22T11:19:11.905252+00:00" title="2016-03-22 11:19:11 UTC">on 2016-03-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/60"> #60</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Dirk: What&#x27;s your /etc/fstab and /etc/crypttab?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Dirk: What's your /etc/fstab and /etc/crypttab?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/61" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dthomas-b" class="sprite person">Dirk Thomas (dthomas-b)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-25T19:08:33.939719+00:00" title="2016-03-25 19:08:33 UTC">on 2016-03-25</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/61"> #61</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I tried it again today with the Beta 2 of Xenial. These are the steps I did:</p>
<p>* Downloaded Beta 2 of Xenial and created bootable USB stick<br />
* Select: Try Ubuntu without installing<br />
&nbsp;&nbsp;* (I tried the option to install directly but that always hangs after selecting &quot;Erase disk and install Ubuntu&quot; and clicking &quot;install&quot;)<br />
* Check: Download updates during installation<br />
* Select: Erase disk and install Ubuntu<br />
* Check: Encrypt my home folder<br />
* After installation finished and a restart it asks for: Please enter passphrase for disk cryptswap1 on none!<br />
&nbsp;&nbsp;* I hit enter without entering anything (same result when entering the password of the user)</p>
<p>The relevant content of the requested files:</p>
<p>* /etc/fstab:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;/dev/<wbr />mapper/<wbr />cryptswap1 none swap sw 0 0</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;(This looks good using the device name instead of the UUID as before.)</p>
<p>* /etc/crypttab</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;cryptswap1 UUID=xxx /dev/urandom swap,offset=<wbr />1024,cipher=<wbr />aes-xts-<wbr />plain64</p>
<p>But the swap is still not enabled. `swapon -s` reports the following:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;/dev/nvme0n1p3 partition 33427212 0 -1</p>
<p>Any help to get this working is highly appreciated.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I tried it again today with the Beta 2 of Xenial. These are the steps I did:

* Downloaded Beta 2 of Xenial and created bootable USB stick
* Select: Try Ubuntu without installing
  * (I tried the option to install directly but that always hangs after selecting "Erase disk and install Ubuntu" and clicking "install")
* Check: Download updates during installation
* Select: Erase disk and install Ubuntu
* Check: Encrypt my home folder
* After installation finished and a restart it asks for: Please enter passphrase for disk cryptswap1 on none!
  * I hit enter without entering anything (same result when entering the password of the user)

The relevant content of the requested files:

* /etc/fstab:

    /dev/mapper/cryptswap1 none swap sw 0 0

    (This looks good using the device name instead of the UUID as before.)

* /etc/crypttab

    cryptswap1 UUID=xxx /dev/urandom swap,offset=1024,cipher=aes-xts-plain64

But the swap is still not enabled. `swapon -s` reports the following:

    /dev/nvme0n1p3 partition 33427212 0 -1

Any help to get this working is highly appreciated.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/62" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-26T18:08:15.128759+00:00" title="2016-03-26 18:08:15 UTC">on 2016-03-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/62"> #62</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Dirk: In comment 61, what&#x27;s the output of &quot;blkid&quot;? Is there any actual partition with UUID=xxx that /etc/crypttab takes as source? I suppose /dev/nvme0n1p3 is the physical swap partition on which the installer was meant to put the encrypted partition. Does that appear in /etc/fstab? Which /run/systemd/<wbr />generator/<wbr />*.swap files exist?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Dirk: In comment 61, what's the output of "blkid"? Is there any actual partition with UUID=xxx that /etc/crypttab takes as source? I suppose /dev/nvme0n1p3 is the physical swap partition on which the installer was meant to put the encrypted partition. Does that appear in /etc/fstab? Which /run/systemd/generator/*.swap files exist?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/63" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-26T18:11:11.259538+00:00" title="2016-03-26 18:11:11 UTC">on 2016-03-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/63"> #63</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>FTR, in comment 57 I pretty much did the same steps as Thomas in comment 61, but it worked for me. :(</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">FTR, in comment 57 I pretty much did the same steps as Thomas in comment 61, but it worked for me. :(</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/64" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dthomas-b" class="sprite person">Dirk Thomas (dthomas-b)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-29T23:08:32.834563+00:00" title="2016-03-29 23:08:32 UTC">on 2016-03-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/64"> #64</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I had to move forward on this topic and went for a reinstallation using full disk encryption so sadly I can&#x27;t provide the requested information anymore. Hopefully it will be reproducible within a VM by anyone.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I had to move forward on this topic and went for a reinstallation using full disk encryption so sadly I can't provide the requested information anymore. Hopefully it will be reproducible within a VM by anyone.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/65" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andrew-dowden" class="sprite person">david6 (andrew-dowden)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-30T22:02:43.850925+00:00" title="2016-03-30 22:02:43 UTC">on 2016-03-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/65"> #65</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Sorry, been busy with work.</p>
<p>--</p>
<p>Re-tested today, with 16.04 LTS beta2, and still occurring. Also repeatedly stop for &lt;Enter&gt; at command line, doing update/upgrade.</p>
<p>I have an HP notebook with 64GB eMMC (SSD) storage, and existing partitions were already deleted.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Sorry, been busy with work.

--

Re-tested today, with 16.04 LTS beta2, and still occurring. Also repeatedly stop for &lt;Enter&gt; at command line, doing update/upgrade.

I have an HP notebook with 64GB eMMC (SSD) storage, and existing partitions were already deleted.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/66" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andrew-dowden" class="sprite person">david6 (andrew-dowden)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-31T02:59:05.870141+00:00" title="2016-03-31 02:59:05 UTC">on 2016-03-31</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/66"> #66</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/66/+download">Download full text</a> (3.4 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Output from following commands:</p>
<p>&nbsp;&nbsp;sudo blkid<br />
&nbsp;&nbsp;swapon -s<br />
&nbsp;&nbsp;printf &quot;x\np\n&quot; | sudo fdisk /dev/sda<br />
&nbsp;&nbsp;ls -l /run/systemd/<wbr />generator/</p>
<p>--</p>
<p>Welcome to Ubuntu Xenial Xerus (development branch) (GNU/Linux 4.4.0-16-generic x86_64)</p>
<p>$ sudo blkid<br />
/dev/mmcblk0: PTUUID=<wbr />&quot;964e28b5-<wbr />d6c2-47c6-<wbr />badd-de7725281f<wbr />53&quot; PTTYPE=&quot;gpt&quot;<br />
/dev/mmcblk0p1: UUID=&quot;8F05-DBA1&quot; TYPE=&quot;vfat&quot; PARTLABEL=&quot;EFI System Partition&quot; PARTUUID=<wbr />&quot;f13ded99-<wbr />6623-4642-<wbr />9319-5c7da84f93<wbr />b4&quot;<br />
/dev/mmcblk0p2: UUID=&quot;040427a5-<wbr />f2c1-481a-<wbr />8cfc-6e9667f948<wbr />55&quot; TYPE=&quot;ext4&quot; PARTUUID=<wbr />&quot;3b78057b-<wbr />58b5-449f-<wbr />9607-ba173cd7f4<wbr />38&quot;<br />
/dev/mmcblk0p3: UUID=&quot;5d1798c3-<wbr />4e4a-4c3c-<wbr />842e-e929fbeceb<wbr />85&quot; TYPE=&quot;swap&quot; PARTUUID=<wbr />&quot;ae598300-<wbr />c995-4ffb-<wbr />a8f6-48a7758015<wbr />ae&quot;</p>
<p>$ swapon -s<br />
Filename                                Type            Size    Used    Priority<br />
/dev/mmcblk0p3                          partition       4046844 0       -1</p>
<p>$ printf &quot;x\np\n&quot; | sudo fdisk /dev/sda<br />
fdisk: cannot open /dev/sda: No such file or directory</p>
<p>$ printf &quot;x\np\n&quot; | sudo fdisk /dev/sdb<br />
fdisk: cannot open /dev/sdb: No such file or directory</p>
<p>$ printf &quot;x\np\n&quot; | sudo fdisk /dev/sdc<br />
fdisk: cannot open /dev/sdc: No such file or directory</p>
<p>$ ls -l /run/systemd/<wbr />generator/<br />
total 16<br />
-rw-r--r-- 1 root root 374 Mar 31 13:47 boot-efi.mount<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 cryptsetup.<wbr />target.<wbr />requires<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 dev-disk-<wbr />by\x2duuid-<wbr />5d1798c3\<wbr />x2d4e4a\<wbr />x2d4c3c\<wbr />x2d842e\<wbr />x2de929fbeceb85<wbr />.device.<wbr />wants<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />d<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />requires<br />
-rw-r--r-- 1 root root 188 Mar 31 13:47 dev-mapper-<wbr />cryptswap1.<wbr />swap<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 hwclock.service.d<br />
drwxr-xr-x 2 root root  80 Mar 31 13:47 local-fs.<wbr />target.<wbr />requires<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 local-fs.<wbr />target.<wbr />wants<br />
-rw-r--r-- 1 root root 277 Mar 31 13:47 -.mount<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 multi-user.<wbr />target.<wbr />wants<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 networking.<wbr />service.<wbr />d<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 remote-fs.target.d<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 sendsigs.service.d<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 swap.target.<wbr />requires<br />
-rw-r--r-- 1 root root 947 Mar 31 13:47 &lt;email address hidden&gt;<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 umountfs.service.d<br />
drwxr-xr-x 2 root root  60 Mar 31 13:47 umountnfs.service.d</p>
<p>$ printf &quot;x\np\n&quot; | sudo fdisk /dev/mmcblk0</p>
<p>Disk /dev/mmcblk0: 58.2 GiB, 62537072640 bytes, 122142720 sectors<br />
Units: sectors of 1 * 512 = 512 bytes<br />
Sector size (logical/physical): 512 bytes / 512 bytes<br />
I/O size (minimum/optimal): 512 bytes / 512 bytes<br />
Disklabel type: gpt<br />
Disk identifier: 964E28B5-<wbr />D6C2-47C6-<wbr />BADD-DE7725281F<wbr />53<br />
First LBA: 34<br />
Last LBA: 122142686<br />
Alternative LBA: 122142719<br />
Partition entries LBA: 2<br />
Allocated partition entries: 128</p>
<p>Device             Start       End   Sectors Type-UUID                            UUID                                 Name            Attrs<br />
/dev/mmcblk0p1      2048   1050623   1048576 C12A7328-<wbr />F81F-11D2-<wbr />BA4B-00A0C93EC9<wbr />3B F13DED99-<wbr />6623-4642-<wbr />9319-5C7DA84F93<wbr />B4 EFI System Partition<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;...</p></div>
    
    <p>
      <a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/66">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Output from following commands:

  sudo blkid
  swapon -s
  printf "x\np\n" | sudo fdisk /dev/sda
  ls -l /run/systemd/generator/

--

Welcome to Ubuntu Xenial Xerus (development branch) (GNU/Linux 4.4.0-16-generic x86_64)

$ sudo blkid
/dev/mmcblk0: PTUUID="964e28b5-d6c2-47c6-badd-de7725281f53" PTTYPE="gpt"
/dev/mmcblk0p1: UUID="8F05-DBA1" TYPE="vfat" PARTLABEL="EFI System Partition" PARTUUID="f13ded99-6623-4642-9319-5c7da84f93b4"
/dev/mmcblk0p2: UUID="040427a5-f2c1-481a-8cfc-6e9667f94855" TYPE="ext4" PARTUUID="3b78057b-58b5-449f-9607-ba173cd7f438"
/dev/mmcblk0p3: UUID="5d1798c3-4e4a-4c3c-842e-e929fbeceb85" TYPE="swap" PARTUUID="ae598300-c995-4ffb-a8f6-48a7758015ae"

$ swapon -s
Filename                                Type            Size    Used    Priority
/dev/mmcblk0p3                          partition       4046844 0       -1

$ printf "x\np\n" | sudo fdisk /dev/sda
fdisk: cannot open /dev/sda: No such file or directory

$ printf "x\np\n" | sudo fdisk /dev/sdb
fdisk: cannot open /dev/sdb: No such file or directory

$ printf "x\np\n" | sudo fdisk /dev/sdc
fdisk: cannot open /dev/sdc: No such file or directory

$ ls -l /run/systemd/generator/
total 16
-rw-r--r-- 1 root root 374 Mar 31 13:47 boot-efi.mount
drwxr-xr-x 2 root root  60 Mar 31 13:47 cryptsetup.target.requires
drwxr-xr-x 2 root root  60 Mar 31 13:47 dev-disk-by\x2duuid-5d1798c3\x2d4e4a\x2d4c3c\x2d842e\x2de929fbeceb85.device.wants
drwxr-xr-x 2 root root  60 Mar 31 13:47 dev-mapper-cryptswap1.device.d
drwxr-xr-x 2 root root  60 Mar 31 13:47 dev-mapper-cryptswap1.device.requires
-rw-r--r-- 1 root root 188 Mar 31 13:47 dev-mapper-cryptswap1.swap
drwxr-xr-x 2 root root  60 Mar 31 13:47 hwclock.service.d
drwxr-xr-x 2 root root  80 Mar 31 13:47 local-fs.target.requires
drwxr-xr-x 2 root root  60 Mar 31 13:47 local-fs.target.wants
-rw-r--r-- 1 root root 277 Mar 31 13:47 -.mount
drwxr-xr-x 2 root root  60 Mar 31 13:47 multi-user.target.wants
drwxr-xr-x 2 root root  60 Mar 31 13:47 networking.service.d
drwxr-xr-x 2 root root  60 Mar 31 13:47 remote-fs.target.d
drwxr-xr-x 2 root root  60 Mar 31 13:47 sendsigs.service.d
drwxr-xr-x 2 root root  60 Mar 31 13:47 swap.target.requires
-rw-r--r-- 1 root root 947 Mar 31 13:47 systemd-cryptsetup@cryptswap1.service
drwxr-xr-x 2 root root  60 Mar 31 13:47 umountfs.service.d
drwxr-xr-x 2 root root  60 Mar 31 13:47 umountnfs.service.d

$ printf "x\np\n" | sudo fdisk /dev/mmcblk0

Disk /dev/mmcblk0: 58.2 GiB, 62537072640 bytes, 122142720 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: 964E28B5-D6C2-47C6-BADD-DE7725281F53
First LBA: 34
Last LBA: 122142686
Alternative LBA: 122142719
Partition entries LBA: 2
Allocated partition entries: 128

Device             Start       End   Sectors Type-UUID                            UUID                                 Name            Attrs
/dev/mmcblk0p1      2048   1050623   1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B F13DED99-6623-4642-9319-5C7DA84F93B4 EFI System Partition
                                                                                                                                       
/dev/mmcblk0p2   1050624 114046975 112996352 0FC63DAF-8483-4772-8E79-3D69D8477DE4 3B78057B-58B5-449F-9607-BA173CD7F438                 
/dev/mmcblk0p3 114046976 122140671   8093696 0657FD6D-A4AB-43C4-84E5-0933C84B4F4F AE598300-C995-4FFB-A8F6-48A7758015AE                 
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/67" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andrew-dowden" class="sprite person">david6 (andrew-dowden)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-03-31T03:07:04.555722+00:00" title="2016-03-31 03:07:04 UTC">on 2016-03-31</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/67"> #67</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Details from /etc/fstab and /etc/crypttab ::</p>
<p>$ cat /etc/fstab<br />
# /etc/fstab: static file system information.<br />
#<br />
# Use &#x27;blkid&#x27; to print the universally unique identifier for a<br />
# device; this may be used with UUID= as a more robust way to name devices<br />
# that works even if disks are added and removed. See fstab(5).<br />
#<br />
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;<br />
# / was on /dev/mmcblk0p2 during installation<br />
UUID=040427a5-<wbr />f2c1-481a-<wbr />8cfc-6e9667f948<wbr />55 /               ext4    errors=remount-ro 0       1<br />
# /boot/efi was on /dev/mmcblk0p1 during installation<br />
UUID=8F05-DBA1  /boot/efi       vfat    umask=0077      0       1<br />
# swap was on /dev/mmcblk0p3 during installation<br />
#UUID=5d1798c3-<wbr />4e4a-4c3c-<wbr />842e-e929fbeceb<wbr />85 none            swap    sw              0       0<br />
/dev/mapper/<wbr />cryptswap1 none swap sw 0 0</p>
<p>$ cat /etc/crypttab<br />
cryptswap1 UUID=5d1798c3-<wbr />4e4a-4c3c-<wbr />842e-e929fbeceb<wbr />85 /dev/urandom swap,offset=<wbr />1024,cipher=<wbr />aes-xts-<wbr />plain64</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Details from /etc/fstab and /etc/crypttab ::

$ cat /etc/fstab
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
# / was on /dev/mmcblk0p2 during installation
UUID=040427a5-f2c1-481a-8cfc-6e9667f94855 /               ext4    errors=remount-ro 0       1
# /boot/efi was on /dev/mmcblk0p1 during installation
UUID=8F05-DBA1  /boot/efi       vfat    umask=0077      0       1
# swap was on /dev/mmcblk0p3 during installation
#UUID=5d1798c3-4e4a-4c3c-842e-e929fbeceb85 none            swap    sw              0       0
/dev/mapper/cryptswap1 none swap sw 0 0

$ cat /etc/crypttab                           
cryptswap1 UUID=5d1798c3-4e4a-4c3c-842e-e929fbeceb85 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64
 </textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/68" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alvaro-aguirre" class="sprite person">lino (alvaro-aguirre)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-01T10:29:17.525016+00:00" title="2016-04-01 10:29:17 UTC">on 2016-04-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/68"> #68</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/68/+download">Download full text</a> (4.6 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Same behavior here with 16.04. On boot and on upgrades the systems ask me for the password. If I use solution from #59 the system don&#x27;t ask for the password anymore but the system takes 2 minutes to boot.</p>
<p>lino@pioneer:~$   sudo blkid<br />
/dev/nvme0n1p6: UUID=&quot;d987f11f-<wbr />51ab-446c-<wbr />9cad-65f27200bd<wbr />1f&quot; TYPE=&quot;swap&quot; PARTUUID=<wbr />&quot;26ba4f5f-<wbr />272f-4b52-<wbr />8c95-fb32a025ba<wbr />da&quot;<br />
/dev/nvme0n1p1: LABEL=&quot;ESP&quot; UUID=&quot;BC3B-4E24&quot; TYPE=&quot;vfat&quot; PARTLABEL=&quot;EFI system partition&quot; PARTUUID=<wbr />&quot;423cce4f-<wbr />51be-4c8f-<wbr />a38c-7f35c4f25a<wbr />d6&quot;<br />
/dev/nvme0n1p3: LABEL=&quot;OS&quot; UUID=&quot;01D186521<wbr />5EBF300&quot; TYPE=&quot;ntfs&quot; PARTLABEL=&quot;Basic data partition&quot; PARTUUID=<wbr />&quot;82f7b959-<wbr />5b3d-4979-<wbr />9ed9-275e7aa271<wbr />35&quot;<br />
/dev/nvme0n1p4: LABEL=&quot;WINRETOOLS&quot; UUID=&quot;44B2596EB<wbr />2596608&quot; TYPE=&quot;ntfs&quot; PARTUUID=<wbr />&quot;bd62ca2b-<wbr />7eb9-47e9-<wbr />a6dd-d7546be31a<wbr />08&quot;<br />
/dev/nvme0n1p5: LABEL=&quot;Image&quot; UUID=&quot;EA9459D89<wbr />459A7B9&quot; TYPE=&quot;ntfs&quot; PARTUUID=<wbr />&quot;814b3f7f-<wbr />53f7-41aa-<wbr />8b1f-bdef9ac649<wbr />32&quot;<br />
/dev/nvme0n1p7: UUID=&quot;3c2d5db4-<wbr />6381-4f81-<wbr />9599-5d29942c91<wbr />7a&quot; TYPE=&quot;ext4&quot; PARTUUID=<wbr />&quot;7b96edbd-<wbr />a17d-4481-<wbr />8cf7-ec31d165e1<wbr />82&quot;<br />
/dev/sda1: LABEL=&quot;CODEMETER&quot; UUID=&quot;002B-D004&quot; TYPE=&quot;vfat&quot; PARTUUID=<wbr />&quot;002bd004-<wbr />01&quot;<br />
/dev/sdb1: SEC_TYPE=&quot;msdos&quot; LABEL=&quot;DellUtility&quot; UUID=&quot;3030-3030&quot; TYPE=&quot;vfat&quot; PARTUUID=<wbr />&quot;07f2837e-<wbr />01&quot;<br />
/dev/sdb2: LABEL=&quot;RECOVERY&quot; UUID=&quot;92D03605D<wbr />035EFD9&quot; TYPE=&quot;ntfs&quot; PARTUUID=<wbr />&quot;07f2837e-<wbr />02&quot;<br />
/dev/sdb3: UUID=&quot;defefa91-<wbr />e453-4f67-<wbr />85e2-8402447ef8<wbr />fb&quot; TYPE=&quot;crypto_LUKS&quot; PARTUUID=<wbr />&quot;07f2837e-<wbr />03&quot;<br />
/dev/mapper/<wbr />luks-defefa91-<wbr />e453-4f67-<wbr />85e2-8402447ef8<wbr />fb: LABEL=&quot;<wbr />Disco_Externo&quot; UUID=&quot;597f766f-<wbr />7dee-478c-<wbr />a512-b49ecdf578<wbr />43&quot; TYPE=&quot;ext4&quot;<br />
/dev/nvme0n1: PTUUID=<wbr />&quot;195d2663-<wbr />e6e9-424d-<wbr />ab66-31ec8f1d10<wbr />a7&quot; PTTYPE=&quot;gpt&quot;<br />
/dev/nvme0n1p2: PARTLABEL=<wbr />&quot;Microsoft reserved partition&quot; PARTUUID=<wbr />&quot;ea83be62-<wbr />bd92-4e6c-<wbr />a98a-d652a9a003<wbr />b1&quot;<br />
lino@pioneer:~$   swapon -s<br />
Filename				Type		Size	Used	Priority<br />
/dev/nvme0n1p6                         	partition	15999996	0	-1<br />
lino@pioneer:~$   printf &quot;x\np\n&quot; | sudo fdisk /dev/sda</p>
<p>Welcome to fdisk (util-linux 2.27.1).<br />
Changes will remain in memory only, until you decide to write them.<br />
Be careful before using the write command.</p>
<p>Command (m for help):<br />
Expert command (m for help): Disk /dev/sda: 39.3 MiB, 41156608 bytes, 80384 sectors<br />
Units: sectors of 1 * 512 = 512 bytes<br />
Sector size (logical/physical): 512 bytes / 512 bytes<br />
I/O size (minimum/optimal): 512 bytes / 512 bytes<br />
Disklabel type: dos<br />
Disk identifier: 0x002bd004</p>
<p>Device     Boot Start   End Sectors Id Type      Start-C/H/S End-C/H/S Attrs<br />
/dev/sda1  *       63 80324   80262  b W95 FAT32       0/1/1  4/63/254    80</p>
<p>lino@pioneer:~$   ls -l /run/systemd/<wbr />generator/<br />
total 16<br />
-rw-r--r-- 1 root root 374 Apr  1 07:21 boot-efi.mount<br />
drwxr-xr-x 2 root root  60 Apr  1 07:21 cryptsetup.<wbr />target.<wbr />requires<br />
drwxr-xr-x 2 root root  60 Apr  1 07:21 dev-disk-<wbr />by\x2duuid-<wbr />d987f11f\<wbr />x2d51ab\<wbr />x2d446c\<wbr />x2d9cad\<wbr />x2d65f27200bd1f<wbr />.device.<wbr />wants<br />
drwxr-xr-x 2 root root  60 Apr  1 07:21 dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />d<br />
drwxr-xr-x 2 root root  60 Apr  1 07:21 dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />requires<br />
-rw-r--r-- 1 root root 188 Apr  1 07:21 dev-mapper-<wbr />cryptswap1.<wbr />swap<br />
drwxr-xr-x 2 root root  60 Apr  1 07:21 hwclock.service.d<br />
drwxr-xr-x 2 root root  80 Apr  1 07:21 local-fs.<wbr />target.<wbr />requires<br />
drwxr-xr-x 2 root root  60 Apr  1 07:21 local-fs.<wbr />target.<wbr />wants<br />
-rw-r--r-- 1 root root 277 Apr  1 07:21 -....</p></div>
    
    <p>
      <a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/68">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Same behavior here with 16.04. On boot and on upgrades the systems ask me for the password. If I use solution from #59 the system don't ask for the password anymore but the system takes 2 minutes to boot.

lino@pioneer:~$   sudo blkid
/dev/nvme0n1p6: UUID="d987f11f-51ab-446c-9cad-65f27200bd1f" TYPE="swap" PARTUUID="26ba4f5f-272f-4b52-8c95-fb32a025bada"
/dev/nvme0n1p1: LABEL="ESP" UUID="BC3B-4E24" TYPE="vfat" PARTLABEL="EFI system partition" PARTUUID="423cce4f-51be-4c8f-a38c-7f35c4f25ad6"
/dev/nvme0n1p3: LABEL="OS" UUID="01D1865215EBF300" TYPE="ntfs" PARTLABEL="Basic data partition" PARTUUID="82f7b959-5b3d-4979-9ed9-275e7aa27135"
/dev/nvme0n1p4: LABEL="WINRETOOLS" UUID="44B2596EB2596608" TYPE="ntfs" PARTUUID="bd62ca2b-7eb9-47e9-a6dd-d7546be31a08"
/dev/nvme0n1p5: LABEL="Image" UUID="EA9459D89459A7B9" TYPE="ntfs" PARTUUID="814b3f7f-53f7-41aa-8b1f-bdef9ac64932"
/dev/nvme0n1p7: UUID="3c2d5db4-6381-4f81-9599-5d29942c917a" TYPE="ext4" PARTUUID="7b96edbd-a17d-4481-8cf7-ec31d165e182"
/dev/sda1: LABEL="CODEMETER" UUID="002B-D004" TYPE="vfat" PARTUUID="002bd004-01"
/dev/sdb1: SEC_TYPE="msdos" LABEL="DellUtility" UUID="3030-3030" TYPE="vfat" PARTUUID="07f2837e-01"
/dev/sdb2: LABEL="RECOVERY" UUID="92D03605D035EFD9" TYPE="ntfs" PARTUUID="07f2837e-02"
/dev/sdb3: UUID="defefa91-e453-4f67-85e2-8402447ef8fb" TYPE="crypto_LUKS" PARTUUID="07f2837e-03"
/dev/mapper/luks-defefa91-e453-4f67-85e2-8402447ef8fb: LABEL="Disco_Externo" UUID="597f766f-7dee-478c-a512-b49ecdf57843" TYPE="ext4"
/dev/nvme0n1: PTUUID="195d2663-e6e9-424d-ab66-31ec8f1d10a7" PTTYPE="gpt"
/dev/nvme0n1p2: PARTLABEL="Microsoft reserved partition" PARTUUID="ea83be62-bd92-4e6c-a98a-d652a9a003b1"
lino@pioneer:~$   swapon -s
Filename				Type		Size	Used	Priority
/dev/nvme0n1p6                         	partition	15999996	0	-1
lino@pioneer:~$   printf "x\np\n" | sudo fdisk /dev/sda

Welcome to fdisk (util-linux 2.27.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Expert command (m for help): Disk /dev/sda: 39.3 MiB, 41156608 bytes, 80384 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x002bd004

Device     Boot Start   End Sectors Id Type      Start-C/H/S End-C/H/S Attrs
/dev/sda1  *       63 80324   80262  b W95 FAT32       0/1/1  4/63/254    80

lino@pioneer:~$   ls -l /run/systemd/generator/
total 16
-rw-r--r-- 1 root root 374 Apr  1 07:21 boot-efi.mount
drwxr-xr-x 2 root root  60 Apr  1 07:21 cryptsetup.target.requires
drwxr-xr-x 2 root root  60 Apr  1 07:21 dev-disk-by\x2duuid-d987f11f\x2d51ab\x2d446c\x2d9cad\x2d65f27200bd1f.device.wants
drwxr-xr-x 2 root root  60 Apr  1 07:21 dev-mapper-cryptswap1.device.d
drwxr-xr-x 2 root root  60 Apr  1 07:21 dev-mapper-cryptswap1.device.requires
-rw-r--r-- 1 root root 188 Apr  1 07:21 dev-mapper-cryptswap1.swap
drwxr-xr-x 2 root root  60 Apr  1 07:21 hwclock.service.d
drwxr-xr-x 2 root root  80 Apr  1 07:21 local-fs.target.requires
drwxr-xr-x 2 root root  60 Apr  1 07:21 local-fs.target.wants
-rw-r--r-- 1 root root 277 Apr  1 07:21 -.mount
drwxr-xr-x 2 root root  60 Apr  1 07:21 multi-user.target.wants
drwxr-xr-x 2 root root  60 Apr  1 07:21 networking.service.d
drwxr-xr-x 2 root root  60 Apr  1 07:21 remote-fs.target.d
drwxr-xr-x 2 root root  60 Apr  1 07:21 sendsigs.service.d
drwxr-xr-x 2 root root  60 Apr  1 07:21 swap.target.requires
-rw-r--r-- 1 root root 947 Apr  1 07:21 systemd-cryptsetup@cryptswap1.service
drwxr-xr-x 2 root root  60 Apr  1 07:21 umountfs.service.d
drwxr-xr-x 2 root root  60 Apr  1 07:21 umountnfs.service.d

lino@pioneer:~$ cat /etc/fstab 
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
# / was on /dev/nvme0n1p7 during installation
UUID=3c2d5db4-6381-4f81-9599-5d29942c917a /               ext4    errors=remount-ro 0       1
# /boot/efi was on /dev/nvme0n1p1 during installation
UUID=BC3B-4E24  /boot/efi       vfat    umask=0077      0       1
# swap was on /dev/nvme0n1p6 during installation
#UUID=d987f11f-51ab-446c-9cad-65f27200bd1f none            swap    sw              0       0
/dev/mapper/cryptswap1 none swap sw 0 0
lino@pioneer:~$ cat /etc/crypttab 
cryptswap1 UUID=d987f11f-51ab-446c-9cad-65f27200bd1f /dev/urandom swap,offset=1024,cipher=aes-xts-plain64
#cryptswap1 /dev/disk/by-uuid/d987f11f-51ab-446c-9cad-65f27200bd1f/dev/urandom swap,cipher=aes-cbc-essiv:sha256

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/69" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-07T20:23:14.676747+00:00" title="2016-04-07 20:23:14 UTC">on 2016-04-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/69"> #69</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/69/+download">Download full text</a> (3.5 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I just did a fresh install, using the 07-Apr-2016 amd64 Desktop ISO, and have an encrypted swap.</p>
<p>$ sudo blkid /dev/sda<br />
/dev/sda: PTUUID=<wbr />&quot;ecd421a6-<wbr />9bf6-40d5-<wbr />a94e-c87ac47a47<wbr />9d&quot; PTTYPE=&quot;gpt&quot;<br />
$ sudo blkid<br />
/dev/sda1: UUID=&quot;50D0-7B1F&quot; TYPE=&quot;vfat&quot; PARTUUID=<wbr />&quot;b2e2fef6-<wbr />36c8-4d66-<wbr />a57f-231672b9d5<wbr />bb&quot;<br />
/dev/sda2: UUID=&quot;4d9e731b-<wbr />bc43-45fc-<wbr />b78e-a62a6fd51e<wbr />37&quot; TYPE=&quot;ext2&quot; PARTUUID=<wbr />&quot;c8e4875d-<wbr />aa7e-4ae1-<wbr />9417-97f8213036<wbr />27&quot;<br />
/dev/sda3: UUID=&quot;4hQqQp-<wbr />MKTj-hPkE-<wbr />DGIZ-2cgy-<wbr />qkwB-PEoM6H&quot; TYPE=&quot;LVM2_member&quot; PARTUUID=<wbr />&quot;624e3ff6-<wbr />303f-4499-<wbr />a5df-38459dd1f4<wbr />06&quot;<br />
/dev/sdb1: LABEL=&quot;OSDisk&quot; UUID=&quot;CA3008593<wbr />0084EBF&quot; TYPE=&quot;ntfs&quot; PARTUUID=<wbr />&quot;82da00cb-<wbr />01&quot;<br />
/dev/sdb2: LABEL=&quot;Recovery&quot; UUID=&quot;B8300A3C3<wbr />00A025C&quot; TYPE=&quot;ntfs&quot; PARTUUID=<wbr />&quot;82da00cb-<wbr />02&quot;<br />
/dev/mapper/<wbr />ubuntu-<wbr />-vg-root: UUID=&quot;91ad536a-<wbr />7427-4271-<wbr />bb61-a9c8bb4853<wbr />16&quot; TYPE=&quot;ext4&quot;<br />
/dev/mapper/<wbr />ubuntu-<wbr />-vg-swap_<wbr />1: UUID=&quot;8a06175f-<wbr />5e69-48ed-<wbr />948a-393fd127b9<wbr />55&quot; TYPE=&quot;swap&quot;<br />
/dev/mapper/<wbr />cryptswap1: UUID=&quot;0b1804c2-<wbr />fb76-430b-<wbr />93d1-63a6729fea<wbr />6d&quot; TYPE=&quot;swap&quot;<br />
$ swapon -s<br />
Filename				Type		Size	Used	Priority<br />
/dev/dm-2                              	partition	16698876	0	-1<br />
$ ls -al /dev/mapper/<wbr />cryptswap1<br />
lrwxrwxrwx 1 root root 7 Apr  7 12:50 /dev/mapper/<wbr />cryptswap1 -&gt; ../dm-2<br />
$ printf &quot;x\np\n&quot; | sudo fdisk /dev/sda</p>
<p>Welcome to fdisk (util-linux 2.27.1).<br />
Changes will remain in memory only, until you decide to write them.<br />
Be careful before using the write command.</p>
<p>Command (m for help):<br />
Expert command (m for help): Disk /dev/sda: 465.8 GiB, 500107862016 bytes, 976773168 sectors<br />
Units: sectors of 1 * 512 = 512 bytes<br />
Sector size (logical/physical): 512 bytes / 512 bytes<br />
I/O size (minimum/optimal): 512 bytes / 512 bytes<br />
Disklabel type: gpt<br />
Disk identifier: ECD421A6-<wbr />9BF6-40D5-<wbr />A94E-C87AC47A47<wbr />9D<br />
First LBA: 34<br />
Last LBA: 976773134<br />
Alternative LBA: 976773167<br />
Partition entries LBA: 2<br />
Allocated partition entries: 128</p>
<p>Device       Start       End   Sectors Type-UUID                            UUID                                 Name Attrs<br />
/dev/sda1     2048   1050623   1048576 C12A7328-<wbr />F81F-11D2-<wbr />BA4B-00A0C93EC9<wbr />3B B2E2FEF6-<wbr />36C8-4D66-<wbr />A57F-231672B9D5<wbr />BB<br />
/dev/sda2  1050624   2050047    999424 0FC63DAF-<wbr />8483-4772-<wbr />8E79-3D69D8477D<wbr />E4 C8E4875D-<wbr />AA7E-4AE1-<wbr />9417-97F8213036<wbr />27<br />
/dev/sda3  2050048 976771071 974721024 E6D6D379-<wbr />F507-44C2-<wbr />A23C-238F2A3DF9<wbr />28 624E3FF6-<wbr />303F-4499-<wbr />A5DF-38459DD1F4<wbr />06</p>
<p>Expert command (m for help):<br />
$ ls -l /run/systemd/<wbr />generator/<br />
total 20<br />
-rw-r--r-- 1 root root 374 Apr  7 15:11 boot-efi.mount<br />
-rw-r--r-- 1 root root 450 Apr  7 15:11 boot.mount<br />
drwxr-xr-x 2 root root  60 Apr  7 15:11 cryptsetup.<wbr />target.<wbr />requires<br />
drwxr-xr-x 2 root root  60 Apr  7 15:11 dev-disk-<wbr />by\x2duuid-<wbr />8a06175f\<wbr />x2d5e69\<wbr />x2d48ed\<wbr />x2d948a\<wbr />x2d393fd127b955<wbr />.device.<wbr />wants<br />
drwxr-xr-x 2 root root  60 Apr  7 15:11 dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />d<br />
drwxr-xr-x 2 root root  60 Apr  7 15:11 dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />requires<br />
-rw-r--r-- 1 root root 188 Apr  7 15:11 dev-mapper-<wbr />cryptswap1.<wbr />swap<br />
drwxr-xr-x 2 root root  60 Apr  7 15:11 hwclock.service.d<br />
drwxr-xr-x 2 root root 100 Apr  7 15:11 local-fs.<wbr />target.<wbr />requires<br />
drwxr-xr-x 2 root root  60 Apr  7 15:11 local-fs.<wbr />target.<wbr />wants<br />
-rw-r--r-- 1 root root 250 Apr  7 15:11 -.mount<br />
drwxr-xr-x 2 root root  60 Apr  7 15:11 multi-user.<wbr />target.<wbr />wants<br />
drwxr-xr-x 2 root root  60...</p></div>
    
    <p>
      <a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/69">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I just did a fresh install, using the 07-Apr-2016 amd64 Desktop ISO, and have an encrypted swap.

$ sudo blkid /dev/sda
/dev/sda: PTUUID="ecd421a6-9bf6-40d5-a94e-c87ac47a479d" PTTYPE="gpt"
$ sudo blkid
/dev/sda1: UUID="50D0-7B1F" TYPE="vfat" PARTUUID="b2e2fef6-36c8-4d66-a57f-231672b9d5bb"
/dev/sda2: UUID="4d9e731b-bc43-45fc-b78e-a62a6fd51e37" TYPE="ext2" PARTUUID="c8e4875d-aa7e-4ae1-9417-97f821303627"
/dev/sda3: UUID="4hQqQp-MKTj-hPkE-DGIZ-2cgy-qkwB-PEoM6H" TYPE="LVM2_member" PARTUUID="624e3ff6-303f-4499-a5df-38459dd1f406"
/dev/sdb1: LABEL="OSDisk" UUID="CA30085930084EBF" TYPE="ntfs" PARTUUID="82da00cb-01"
/dev/sdb2: LABEL="Recovery" UUID="B8300A3C300A025C" TYPE="ntfs" PARTUUID="82da00cb-02"
/dev/mapper/ubuntu--vg-root: UUID="91ad536a-7427-4271-bb61-a9c8bb485316" TYPE="ext4"
/dev/mapper/ubuntu--vg-swap_1: UUID="8a06175f-5e69-48ed-948a-393fd127b955" TYPE="swap"
/dev/mapper/cryptswap1: UUID="0b1804c2-fb76-430b-93d1-63a6729fea6d" TYPE="swap"
$ swapon -s
Filename				Type		Size	Used	Priority
/dev/dm-2                              	partition	16698876	0	-1
$ ls -al /dev/mapper/cryptswap1
lrwxrwxrwx 1 root root 7 Apr  7 12:50 /dev/mapper/cryptswap1 -&gt; ../dm-2
$ printf "x\np\n" | sudo fdisk /dev/sda

Welcome to fdisk (util-linux 2.27.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Expert command (m for help): Disk /dev/sda: 465.8 GiB, 500107862016 bytes, 976773168 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: ECD421A6-9BF6-40D5-A94E-C87AC47A479D
First LBA: 34
Last LBA: 976773134
Alternative LBA: 976773167
Partition entries LBA: 2
Allocated partition entries: 128

Device       Start       End   Sectors Type-UUID                            UUID                                 Name Attrs
/dev/sda1     2048   1050623   1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B B2E2FEF6-36C8-4D66-A57F-231672B9D5BB      
/dev/sda2  1050624   2050047    999424 0FC63DAF-8483-4772-8E79-3D69D8477DE4 C8E4875D-AA7E-4AE1-9417-97F821303627      
/dev/sda3  2050048 976771071 974721024 E6D6D379-F507-44C2-A23C-238F2A3DF928 624E3FF6-303F-4499-A5DF-38459DD1F406      

Expert command (m for help):
$ ls -l /run/systemd/generator/
total 20
-rw-r--r-- 1 root root 374 Apr  7 15:11 boot-efi.mount
-rw-r--r-- 1 root root 450 Apr  7 15:11 boot.mount
drwxr-xr-x 2 root root  60 Apr  7 15:11 cryptsetup.target.requires
drwxr-xr-x 2 root root  60 Apr  7 15:11 dev-disk-by\x2duuid-8a06175f\x2d5e69\x2d48ed\x2d948a\x2d393fd127b955.device.wants
drwxr-xr-x 2 root root  60 Apr  7 15:11 dev-mapper-cryptswap1.device.d
drwxr-xr-x 2 root root  60 Apr  7 15:11 dev-mapper-cryptswap1.device.requires
-rw-r--r-- 1 root root 188 Apr  7 15:11 dev-mapper-cryptswap1.swap
drwxr-xr-x 2 root root  60 Apr  7 15:11 hwclock.service.d
drwxr-xr-x 2 root root 100 Apr  7 15:11 local-fs.target.requires
drwxr-xr-x 2 root root  60 Apr  7 15:11 local-fs.target.wants
-rw-r--r-- 1 root root 250 Apr  7 15:11 -.mount
drwxr-xr-x 2 root root  60 Apr  7 15:11 multi-user.target.wants
drwxr-xr-x 2 root root  60 Apr  7 15:11 networking.service.d
drwxr-xr-x 2 root root  60 Apr  7 15:11 remote-fs.target.d
drwxr-xr-x 2 root root  60 Apr  7 15:11 sendsigs.service.d
drwxr-xr-x 2 root root  60 Apr  7 15:11 swap.target.requires
-rw-r--r-- 1 root root 947 Apr  7 15:11 systemd-cryptsetup@cryptswap1.service
drwxr-xr-x 2 root root  60 Apr  7 15:11 umountfs.service.d
drwxr-xr-x 2 root root  60 Apr  7 15:11 umountnfs.service.d
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/70" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andrew-dowden" class="sprite person">david6 (andrew-dowden)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-07T22:20:06.288800+00:00" title="2016-04-07 22:20:06 UTC">on 2016-04-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/70"> #70</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Re-tested today with 16.04 LTS (xenial-<wbr />desktop-<wbr />amd64, daily-build, 07-Apr), and still occurring.</p>
<p>I have an HP Stream 11 Pro G2 notebook with 64GB eMMC (SSD) storage, and existing partitions were deleted.</p>
<p>Minor issue: Notebook stalled with &#x27;sda&#x27; (USB used for install) cache/pass-thru error, after it prompted that install was complete. This error may have previously occurred (earlier attempts, and during install/load), but did not stop for me to read wording.</p>
<p>This did NOT pause (for &lt;Enter&gt; at command line) doing update/upgrade. However, only a limited number of updates were available.</p>
<p>--</p>
<p>I think this specifically relates to &#x27;NVMe&#x27; and &#x27;eMMC&#x27; SSD media, as this appear to be common feature for those reporting recent issues.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Re-tested today with 16.04 LTS (xenial-desktop-amd64, daily-build, 07-Apr), and still occurring.

I have an HP Stream 11 Pro G2 notebook with 64GB eMMC (SSD) storage, and existing partitions were deleted.

Minor issue: Notebook stalled with 'sda' (USB used for install) cache/pass-thru error, after it prompted that install was complete. This error may have previously occurred (earlier attempts, and during install/load), but did not stop for me to read wording.

This did NOT pause (for &lt;Enter&gt; at command line) doing update/upgrade. However, only a limited number of updates were available.

--

I think this specifically relates to 'NVMe' and 'eMMC' SSD media, as this appear to be common feature for those reporting recent issues.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/71" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andrew-dowden" class="sprite person">david6 (andrew-dowden)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-07T22:28:33.456402+00:00" title="2016-04-07 22:28:33 UTC">on 2016-04-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/71"> #71</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/71/+download">Download full text</a> (4.1 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Output from following commands:</p>
<p>&nbsp;&nbsp;sudo blkid<br />
&nbsp;&nbsp;swapon -s<br />
&nbsp;&nbsp;printf &quot;x\np\n&quot; | sudo fdisk /dev/mmcblk0<br />
&nbsp;&nbsp;ls -l /run/systemd/<wbr />generator/</p>
<p>&nbsp;&nbsp;cat /etc/fstab<br />
&nbsp;&nbsp;cat /etc/crypttab</p>
<p>--</p>
<p>Welcome to Ubuntu Xenial Xerus (development branch) (GNU/Linux 4.4.0-17-generic x86_64)</p>
<p>$ sudo blkid<br />
/dev/mmcblk0: PTUUID=<wbr />&quot;ed15471e-<wbr />2ed3-4d17-<wbr />82f0-2b21b09226<wbr />06&quot; PTTYPE=&quot;gpt&quot;<br />
/dev/mmcblk0p1: UUID=&quot;8F05-DBA1&quot; TYPE=&quot;vfat&quot; PARTLABEL=&quot;EFI System Partition&quot; PARTUUID=<wbr />&quot;3f71d0e0-<wbr />4bd1-4c17-<wbr />9828-63a992fc17<wbr />27&quot;<br />
/dev/mmcblk0p2: UUID=&quot;4fb05929-<wbr />3546-4b7c-<wbr />b4f0-34c4a721c3<wbr />c3&quot; TYPE=&quot;ext4&quot; PARTUUID=<wbr />&quot;ecd9e622-<wbr />8db1-45a1-<wbr />9b7e-0ac5d93a9a<wbr />96&quot;<br />
/dev/mmcblk0p3: UUID=&quot;5d1798c3-<wbr />4e4a-4c3c-<wbr />842e-e929fbeceb<wbr />85&quot; TYPE=&quot;swap&quot; PARTUUID=<wbr />&quot;0df8044d-<wbr />7755-47fd-<wbr />8a80-be2bbc7c87<wbr />ef&quot;</p>
<p>$ swapon -s<br />
Filename                                Type            Size    Used    Priority<br />
/dev/mmcblk0p3                          partition       4046844 0       -1</p>
<p>$ printf &quot;x\np\n&quot; | sudo fdisk /dev/mmcblk0</p>
<p>Disk /dev/mmcblk0: 58.2 GiB, 62537072640 bytes, 122142720 sectors<br />
Units: sectors of 1 * 512 = 512 bytes<br />
Sector size (logical/physical): 512 bytes / 512 bytes<br />
I/O size (minimum/optimal): 512 bytes / 512 bytes<br />
Disklabel type: gpt<br />
Disk identifier: ED15471E-<wbr />2ED3-4D17-<wbr />82F0-2B21B09226<wbr />06<br />
First LBA: 34<br />
Last LBA: 122142686<br />
Alternative LBA: 122142719<br />
Partition entries LBA: 2<br />
Allocated partition entries: 128</p>
<p>Device             Start       End   Sectors Type-UUID                            UUID                                 Name            Attrs<br />
/dev/mmcblk0p1      2048   1050623   1048576 C12A7328-<wbr />F81F-11D2-<wbr />BA4B-00A0C93EC9<wbr />3B 3F71D0E0-<wbr />4BD1-4C17-<wbr />9828-63A992FC17<wbr />27 EFI System Partition</p>
<p>/dev/mmcblk0p2   1050624 114046975 112996352 0FC63DAF-<wbr />8483-4772-<wbr />8E79-3D69D8477D<wbr />E4 ECD9E622-<wbr />8DB1-45A1-<wbr />9B7E-0AC5D93A9A<wbr />96<br />
/dev/mmcblk0p3 114046976 122140671   8093696 0657FD6D-<wbr />A4AB-43C4-<wbr />84E5-0933C84B4F<wbr />4F 0DF8044D-<wbr />7755-47FD-<wbr />8A80-BE2BBC7C87<wbr />EF</p>
<p>$ ls -l /run/systemd/<wbr />generator/<br />
total 16<br />
-rw-r--r-- 1 root root 374 Apr  8 08:21 boot-efi.mount<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 cryptsetup.<wbr />target.<wbr />requires<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 dev-disk-<wbr />by\x2duuid-<wbr />5d1798c3\<wbr />x2d4e4a\<wbr />x2d4c3c\<wbr />x2d842e\<wbr />x2de929fbeceb85<wbr />.device.<wbr />wants<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />d<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 dev-mapper-<wbr />cryptswap1.<wbr />device.<wbr />requires<br />
-rw-r--r-- 1 root root 188 Apr  8 08:21 dev-mapper-<wbr />cryptswap1.<wbr />swap<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 hwclock.service.d<br />
drwxr-xr-x 2 root root  80 Apr  8 08:21 local-fs.<wbr />target.<wbr />requires<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 local-fs.<wbr />target.<wbr />wants<br />
-rw-r--r-- 1 root root 277 Apr  8 08:21 -.mount<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 multi-user.<wbr />target.<wbr />wants<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 networking.<wbr />service.<wbr />d<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 remote-fs.target.d<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 sendsigs.service.d<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 swap.target.<wbr />requires<br />
-rw-r--r-- 1 root root 947 Apr  8 08:21 &lt;email address hidden&gt;<br />
drwxr-xr-x 2 root root  60 Apr  8 08:21 umountfs.service.d<br />
...</p></div>
    
    <p>
      <a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/71">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Output from following commands:

  sudo blkid
  swapon -s
  printf "x\np\n" | sudo fdisk /dev/mmcblk0
  ls -l /run/systemd/generator/

  cat /etc/fstab
  cat /etc/crypttab

--

Welcome to Ubuntu Xenial Xerus (development branch) (GNU/Linux 4.4.0-17-generic x86_64)

$ sudo blkid
/dev/mmcblk0: PTUUID="ed15471e-2ed3-4d17-82f0-2b21b0922606" PTTYPE="gpt"
/dev/mmcblk0p1: UUID="8F05-DBA1" TYPE="vfat" PARTLABEL="EFI System Partition" PARTUUID="3f71d0e0-4bd1-4c17-9828-63a992fc1727"
/dev/mmcblk0p2: UUID="4fb05929-3546-4b7c-b4f0-34c4a721c3c3" TYPE="ext4" PARTUUID="ecd9e622-8db1-45a1-9b7e-0ac5d93a9a96"
/dev/mmcblk0p3: UUID="5d1798c3-4e4a-4c3c-842e-e929fbeceb85" TYPE="swap" PARTUUID="0df8044d-7755-47fd-8a80-be2bbc7c87ef"

$ swapon -s
Filename                                Type            Size    Used    Priority
/dev/mmcblk0p3                          partition       4046844 0       -1

$ printf "x\np\n" | sudo fdisk /dev/mmcblk0

Disk /dev/mmcblk0: 58.2 GiB, 62537072640 bytes, 122142720 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: ED15471E-2ED3-4D17-82F0-2B21B0922606
First LBA: 34
Last LBA: 122142686
Alternative LBA: 122142719
Partition entries LBA: 2
Allocated partition entries: 128

Device             Start       End   Sectors Type-UUID                            UUID                                 Name            Attrs
/dev/mmcblk0p1      2048   1050623   1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B 3F71D0E0-4BD1-4C17-9828-63A992FC1727 EFI System Partition
                                                                                                                                       
/dev/mmcblk0p2   1050624 114046975 112996352 0FC63DAF-8483-4772-8E79-3D69D8477DE4 ECD9E622-8DB1-45A1-9B7E-0AC5D93A9A96                 
/dev/mmcblk0p3 114046976 122140671   8093696 0657FD6D-A4AB-43C4-84E5-0933C84B4F4F 0DF8044D-7755-47FD-8A80-BE2BBC7C87EF                 

$ ls -l /run/systemd/generator/
total 16
-rw-r--r-- 1 root root 374 Apr  8 08:21 boot-efi.mount
drwxr-xr-x 2 root root  60 Apr  8 08:21 cryptsetup.target.requires
drwxr-xr-x 2 root root  60 Apr  8 08:21 dev-disk-by\x2duuid-5d1798c3\x2d4e4a\x2d4c3c\x2d842e\x2de929fbeceb85.device.wants
drwxr-xr-x 2 root root  60 Apr  8 08:21 dev-mapper-cryptswap1.device.d
drwxr-xr-x 2 root root  60 Apr  8 08:21 dev-mapper-cryptswap1.device.requires
-rw-r--r-- 1 root root 188 Apr  8 08:21 dev-mapper-cryptswap1.swap
drwxr-xr-x 2 root root  60 Apr  8 08:21 hwclock.service.d
drwxr-xr-x 2 root root  80 Apr  8 08:21 local-fs.target.requires
drwxr-xr-x 2 root root  60 Apr  8 08:21 local-fs.target.wants
-rw-r--r-- 1 root root 277 Apr  8 08:21 -.mount
drwxr-xr-x 2 root root  60 Apr  8 08:21 multi-user.target.wants
drwxr-xr-x 2 root root  60 Apr  8 08:21 networking.service.d
drwxr-xr-x 2 root root  60 Apr  8 08:21 remote-fs.target.d
drwxr-xr-x 2 root root  60 Apr  8 08:21 sendsigs.service.d
drwxr-xr-x 2 root root  60 Apr  8 08:21 swap.target.requires
-rw-r--r-- 1 root root 947 Apr  8 08:21 systemd-cryptsetup@cryptswap1.service
drwxr-xr-x 2 root root  60 Apr  8 08:21 umountfs.service.d
drwxr-xr-x 2 root root  60 Apr  8 08:21 umountnfs.service.d

$ cat /etc/fstab
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
# / was on /dev/mmcblk0p2 during installation
UUID=4fb05929-3546-4b7c-b4f0-34c4a721c3c3 /               ext4    errors=remount-ro 0       1
# /boot/efi was on /dev/mmcblk0p1 during installation
UUID=8F05-DBA1  /boot/efi       vfat    umask=0077      0       1
# swap was on /dev/mmcblk0p3 during installation
#UUID=5d1798c3-4e4a-4c3c-842e-e929fbeceb85 none            swap    sw              0       0
/dev/mapper/cryptswap1 none swap sw 0 0

$ cat /etc/crypttab
cryptswap1 UUID=5d1798c3-4e4a-4c3c-842e-e929fbeceb85 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/72" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andrew-dowden" class="sprite person">david6 (andrew-dowden)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-12T22:28:41.964215+00:00" title="2016-04-12 22:28:41 UTC">on 2016-04-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/72"> #72</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Re-tested today/yesterday with 16.04 LTS (xenial-<wbr />desktop-<wbr />amd64, daily-build, 11-Apr), with existing partitions deleted, or SSD secure erased.</p>
<p>(a.) HP ProDesk 600 G2 SFF (Skylake, Core i5), with 256GB SSD (SATA 3 interface) storage.</p>
<p>No issue occurred.</p>
<p>(b.) HP Stream 11 Pro G2 notebook (Braswell SoC, Celeron N3050), with 64GB eMMC (SSD) storage.</p>
<p>Issue still occurs, with prompt (black box) on startup. Also has multiple pauses (for &lt;Enter&gt; at command line) doing update/upgrade.</p>
<p>--</p>
<p>This could still be specific to &#x27;NVMe&#x27; and &#x27;eMMC&#x27; SSD media (which use the simple /sda /sdb /sdc for path), as this appear to be a common feature.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Re-tested today/yesterday with 16.04 LTS (xenial-desktop-amd64, daily-build, 11-Apr), with existing partitions deleted, or SSD secure erased.

(a.) HP ProDesk 600 G2 SFF (Skylake, Core i5), with 256GB SSD (SATA 3 interface) storage.

No issue occurred.

(b.) HP Stream 11 Pro G2 notebook (Braswell SoC, Celeron N3050), with 64GB eMMC (SSD) storage.

Issue still occurs, with prompt (black box) on startup. Also has multiple pauses (for &lt;Enter&gt; at command line) doing update/upgrade.

--

This could still be specific to 'NVMe' and 'eMMC' SSD media (which use the simple /sda /sdb /sdc for path), as this appear to be a common feature.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/73" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andrew-dowden" class="sprite person">david6 (andrew-dowden)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-12T22:29:48.018128+00:00" title="2016-04-12 22:29:48 UTC">on 2016-04-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/73"> #73</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Correction:</p>
<p>This could still be specific to &#x27;NVMe&#x27; and &#x27;eMMC&#x27; SSD media (which do NOT use the simple /sda /sdb /sdc for path), as this appear to be a common feature.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Correction:

This could still be specific to 'NVMe' and 'eMMC' SSD media (which do NOT use the simple /sda /sdb /sdc for path), as this appear to be a common feature.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/74" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~zakatellkanda" class="sprite person">Zakatell Kanda (zakatellkanda)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-22T06:11:58.163777+00:00" title="2016-04-22 06:11:58 UTC">on 2016-04-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/74"> #74</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I just installed 16.04 and this issue still persists.</p>
<p>I have NVMe for some info.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I just installed 16.04 and this issue still persists.

I have NVMe for some info.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/75" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~benwhitten" class="sprite person">Ben Whitten (benwhitten)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-22T20:16:15.531519+00:00" title="2016-04-22 20:16:15 UTC">on 2016-04-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/75"> #75</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I believe the issue lies in the line;<br />
drive=&quot;<wbr />${phys_<wbr />dev%[0-<wbr />9]*}&quot;</p>
<p>This matches fine for /dev/sda* type partitions but not /dev/nvme*n*p* or /dev/mmcblk*p* resulting in a device that fdisk doesn&#x27;t know about and cant proceed to set the no-auto flag.</p>
<p>This is what I did to set the flag after installation and stop the prompts, use at your own risk double check your partitions and devices!!<br />
Find out what partition your swap is on, look in /etc/fstab and it says where it was during installation, for me this was /dev/nvme0n1p7.<br />
Set the no-auto flag on this partition with: fsdisk --part-attrs /dev/nvme0n1 7 &quot;63&quot;<br />
Reboot to no prompt.<br />
Check with: swapon -s<br />
I get /dev/dm-0</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I believe the issue lies in the line;
drive="${phys_dev%[0-9]*}"

This matches fine for /dev/sda* type partitions but not /dev/nvme*n*p* or /dev/mmcblk*p* resulting in a device that fdisk doesn't know about and cant proceed to set the no-auto flag.

This is what I did to set the flag after installation and stop the prompts, use at your own risk double check your partitions and devices!!
Find out what partition your swap is on, look in /etc/fstab and it says where it was during installation, for me this was /dev/nvme0n1p7.
Set the no-auto flag on this partition with: fsdisk --part-attrs /dev/nvme0n1 7 "63"
Reboot to no prompt.
Check with: swapon -s
I get /dev/dm-0</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/76" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~benwhitten" class="sprite person">Ben Whitten (benwhitten)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-22T20:17:52.185950+00:00" title="2016-04-22 20:17:52 UTC">on 2016-04-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/76"> #76</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I meant sfdisk in the above message, whoops.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I meant sfdisk in the above message, whoops.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/77" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andrew-dowden" class="sprite person">david6 (andrew-dowden)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-22T21:52:09.684490+00:00" title="2016-04-22 21:52:09 UTC">on 2016-04-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/77"> #77</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Re-tested today/yesterday with 16.04 LTS (official release), with existing partitions deleted.</p>
<p>HP Stream 11 Pro G2 notebook (Braswell SoC, Celeron N3050), with 64GB eMMC (SSD) storage.</p>
<p>Issue still occurs, with prompt (black box) on startup. No pauses (for &lt;Enter&gt; at command line) doing update/upgrade, but also no updates available (at present).</p>
<p>Corrected (per Comment #75, #76), with:</p>
<p>$ cat /etc/fstab<br />
--<br />
# swap was on /dev/mmcblk0p3 during installation<br />
--</p>
<p>$ sudo sfdisk --part-attrs /dev/mmcblk0 3 &quot;63&quot;</p>
<p>(after reboot)<br />
$ swapon -s<br />
--<br />
Filename                                Type            Size    Used    Priority<br />
/dev/dm-0                               partition       4046332 0       -1<br />
--</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Re-tested today/yesterday with 16.04 LTS (official release), with existing partitions deleted.

HP Stream 11 Pro G2 notebook (Braswell SoC, Celeron N3050), with 64GB eMMC (SSD) storage.

Issue still occurs, with prompt (black box) on startup. No pauses (for &lt;Enter&gt; at command line) doing update/upgrade, but also no updates available (at present).

Corrected (per Comment #75, #76), with:

$ cat /etc/fstab
--
# swap was on /dev/mmcblk0p3 during installation
--

$ sudo sfdisk --part-attrs /dev/mmcblk0 3 "63"

(after reboot)
$ swapon -s
--
Filename                                Type            Size    Used    Priority
/dev/dm-0                               partition       4046332 0       -1
--
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/78" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-04-23T07:34:30.346996+00:00" title="2016-04-23 07:34:30 UTC">on 2016-04-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/78"> #78</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Nicely spotted, Ben! Thanks, will prepare an update on Monday.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Nicely spotted, Ben! Thanks, will prepare an update on Monday.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu Yakkety): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Released &#8594; In Progress
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~mhodson" class="sprite person">Mathew Hodson (mhodson)</a>
    
    <time title="2016-05-02 17:00:43 UTC" datetime="2016-05-02T17:00:43.475112+00:00">on 2016-05-02</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/79" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tengasiaiuticonquesto" class="sprite person">landsraad (tengasiaiuticonquesto)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-05-02T19:44:15.620983+00:00" title="2016-05-02 19:44:15 UTC">on 2016-05-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/79"> #79</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thank you Ben, your solution worked like a charm...</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thank you Ben, your solution worked like a charm...</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
    
    <time title="2016-05-12 12:19:27 UTC" datetime="2016-05-12T12:19:27.345147+00:00">on 2016-05-12</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Triaged
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu Yakkety): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Triaged
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/80" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~grossogrossum" class="sprite person">grosso (grossogrossum)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-05-26T19:24:21.453522+00:00" title="2016-05-26 19:24:21 UTC">on 2016-05-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/80"> #80</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;m experiencing this bug too, and my partitions are /dev/sda* type, so the workaround in comment #74 has no effect. With the other issues in boot and upgrade I have notice that my boot last until I stop or restart any service</p>
<p>XX-laptop:~$ systemd-analyze<br />
Bootup is not yet finished. Please try again later.<br />
XX-laptop:~$ systemd-analyze<br />
Bootup is not yet finished. Please try again later.<br />
XX-laptop:~$ systemd-analyze<br />
Bootup is not yet finished. Please try again later.<br />
XX-laptop:~$ systemd-analyze<br />
Bootup is not yet finished. Please try again later.<br />
XX-laptop:~$ systemd-analyze<br />
Bootup is not yet finished. Please try again later.<br />
XX-laptop:~$ sudo systemctl restart bluetooth.service<br />
[sudo] password for XX:<br />
Please enter passphrase for disk XXXXXXXXXXXXXXXXXX (cryptswap1) on none!<br />
XX-laptop:~$ systemd-analyze<br />
Startup finished in 4.593s (firmware) + 6.599s (loader) + 8.935s (kernel) + 1h 2min 54.118s (userspace) = 1h 3min 14.247s</p>
<p>I think it&#x27;s not related with de partition name type.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'm experiencing this bug too, and my partitions are /dev/sda* type, so the workaround in comment #74 has no effect. With the other issues in boot and upgrade I have notice that my boot last until I stop or restart any service

XX-laptop:~$ systemd-analyze
Bootup is not yet finished. Please try again later.
XX-laptop:~$ systemd-analyze
Bootup is not yet finished. Please try again later.
XX-laptop:~$ systemd-analyze
Bootup is not yet finished. Please try again later.
XX-laptop:~$ systemd-analyze
Bootup is not yet finished. Please try again later.
XX-laptop:~$ systemd-analyze
Bootup is not yet finished. Please try again later.
XX-laptop:~$ sudo systemctl restart bluetooth.service
[sudo] password for XX: 
Please enter passphrase for disk XXXXXXXXXXXXXXXXXX (cryptswap1) on none! 
XX-laptop:~$ systemd-analyze
Startup finished in 4.593s (firmware) + 6.599s (loader) + 8.935s (kernel) + 1h 2min 54.118s (userspace) = 1h 3min 14.247s

I think it's not related with de partition name type.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/81" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-06-01T22:26:49.297243+00:00" title="2016-06-01 22:26:49 UTC">on 2016-06-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/81"> #81</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Any chance this can get fixed in Xenial in time for 16.04.1?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Any chance this can get fixed in Xenial in time for 16.04.1?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/82" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~thijsvanseveren" class="sprite person">thijs van severen (thijsvanseveren)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-06-25T12:24:16.374723+00:00" title="2016-06-25 12:24:16 UTC">on 2016-06-25</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/82"> #82</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>still present in 16.04</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">still present in 16.04</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/83" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~diwic" class="sprite person">David Henningsson (diwic)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-06-29T08:41:36.889078+00:00" title="2016-06-29 08:41:36 UTC">on 2016-06-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/83"> #83</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Just in case it helps someone:</p>
<p>This symptom seems to have more than one root cause. For me, I had more than one entry in /etc/crypttab, one being completely wrong. It was probably a left-over from me switching hard drives a while ago, but then the symptom only started to appear after a 14.04 -&gt; 16.04 upgrade.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Just in case it helps someone:

This symptom seems to have more than one root cause. For me, I had more than one entry in /etc/crypttab, one being completely wrong. It was probably a left-over from me switching hard drives a while ago, but then the symptom only started to appear after a 14.04 -&gt; 16.04 upgrade.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/84" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jderose" class="sprite person">Jason Gerard DeRose (jderose)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-06-29T15:06:48.542950+00:00" title="2016-06-29 15:06:48 UTC">on 2016-06-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/84"> #84</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@diwic - I agree, there have been problems in multiple places causing this.</p>
<p>Yesterday I sorted out one of them. If you have swap on a GPT partitioned NVMe or MMC drive, ecryptfs-setup-swap isn&#x27;t correctly marking the partition as non-auto-mounting, which leads the the user erroneously being prompted to enter a passphrase to unlock the swap partition.</p>
<p>I filed a bug about this and have a merge proposal ready for review:<br />
<a rel="nofollow" href="https://bugs.launchpad.net/ecryptfs/+bug/1597154">https:/<wbr />/bugs.launchpad<wbr />.net/ecryptfs/<wbr />+bug/1597154</a></p>
<p>This bug has been present in ecryptfs-utils since the original GPT auto mounting issues was fixed, but not that long ago in 16.04 it didn&#x27;t result in being erroneously being prompted to enter a passphrase to unlock the swap partition. Some some recent-ish behavior change elsewhere has re-exposed this (I&#x27;m guessing a change in systemd).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@diwic - I agree, there have been problems in multiple places causing this.

Yesterday I sorted out one of them. If you have swap on a GPT partitioned NVMe or MMC drive, ecryptfs-setup-swap isn't correctly marking the partition as non-auto-mounting, which leads the the user erroneously being prompted to enter a passphrase to unlock the swap partition.

I filed a bug about this and have a merge proposal ready for review:
https://bugs.launchpad.net/ecryptfs/+bug/1597154

This bug has been present in ecryptfs-utils since the original GPT auto mounting issues was fixed, but not that long ago in 16.04 it didn't result in being erroneously being prompted to enter a passphrase to unlock the swap partition. Some some recent-ish behavior change elsewhere has re-exposed this (I'm guessing a change in systemd).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
    
    <time title="2016-07-14 10:06:06 UTC" datetime="2016-07-14T10:06:06.755454+00:00">on 2016-07-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu Yakkety): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        Martin Pitt (pitti) &#8594; Tyler Hicks (tyhicks)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/85" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-07-14T14:52:59.530950+00:00" title="2016-07-14 14:52:59 UTC">on 2016-07-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/85"> #85</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package ecryptfs-utils - 111-0ubuntu1.1</p>
<p>---------------<br />
ecryptfs-utils (111-0ubuntu1.1) xenial-security; urgency=medium</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: Information exposure via unencrypted swap partitions. The<br />
&nbsp;&nbsp;&nbsp;&nbsp;swap partition was not configured to use encryption when GPT partitioning<br />
&nbsp;&nbsp;&nbsp;&nbsp;was in use on NVMe and MMC drives.<br />
&nbsp;&nbsp;&nbsp;&nbsp;- debian/<wbr />patches/<wbr />set-up-<wbr />encrypted-<wbr />swap-on-<wbr />nvme-and-<wbr />mmc.patch: Properly<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handle the formatting of the path to swap partitions on NVMe and MMC<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drives so that they&#x27;re correctly marked as not to be automatically<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mounted by systemd. Based on upstream patch from Jason Gerard DeRose.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1597154" class="bug-link">#1597154</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- debian/<wbr />ecryptfs-<wbr />utils.postinst: Fix any unencrypted GPT swap partitions<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that have mistakenly remained marked as auto mount. This should only<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modify the swap partitions on systems that ecryptfs-setup-swap has been<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used on. (LP: <a href="/bugs/1447282" class="bug-link">#1447282</a>, LP: <a href="/bugs/1597154" class="bug-link">#1597154</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- CVE not yet assigned</p>
<p>&nbsp;-- Tyler Hicks &lt;email address hidden&gt;  Wed, 13 Jul 2016 00:36:59 -0500</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package ecryptfs-utils - 111-0ubuntu1.1

---------------
ecryptfs-utils (111-0ubuntu1.1) xenial-security; urgency=medium

  * SECURITY UPDATE: Information exposure via unencrypted swap partitions. The
    swap partition was not configured to use encryption when GPT partitioning
    was in use on NVMe and MMC drives.
    - debian/patches/set-up-encrypted-swap-on-nvme-and-mmc.patch: Properly
      handle the formatting of the path to swap partitions on NVMe and MMC
      drives so that they're correctly marked as not to be automatically
      mounted by systemd. Based on upstream patch from Jason Gerard DeRose.
      (LP: #1597154)
    - debian/ecryptfs-utils.postinst: Fix any unencrypted GPT swap partitions
      that have mistakenly remained marked as auto mount. This should only
      modify the swap partitions on systems that ecryptfs-setup-swap has been
      used on. (LP: #1447282, LP: #1597154)
    - CVE not yet assigned

 -- Tyler Hicks &lt;tyhicks@canonical.com&gt;  Wed, 13 Jul 2016 00:36:59 -0500</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
    
    <time title="2016-07-14 14:56:38 UTC" datetime="2016-07-14T14:56:38.078922+00:00">on 2016-07-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/86" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-07-15T01:59:31.279767+00:00" title="2016-07-15 01:59:31 UTC">on 2016-07-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/86"> #86</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package ecryptfs-utils - 111-0ubuntu2</p>
<p>---------------<br />
ecryptfs-utils (111-0ubuntu2) yakkety; urgency=medium</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: Information exposure via unencrypted swap partitions. The<br />
&nbsp;&nbsp;&nbsp;&nbsp;swap partition was not configured to use encryption when GPT partitioning<br />
&nbsp;&nbsp;&nbsp;&nbsp;was in use on NVMe and MMC drives.<br />
&nbsp;&nbsp;&nbsp;&nbsp;- debian/<wbr />patches/<wbr />CVE-2016-<wbr />6224.patch: Properly handle the formatting of<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the path to swap partitions on NVMe and MMC drives so that they&#x27;re<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctly marked as not to be automatically mounted by systemd. Based on<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;upstream patch from Jason Gerard DeRose. (LP: <a href="/bugs/1597154" class="bug-link">#1597154</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- debian/<wbr />ecryptfs-<wbr />utils.postinst: Fix any unencrypted GPT swap partitions<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that have mistakenly remained marked as auto mount. This should only<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modify the swap partitions on systems that ecryptfs-setup-swap has been<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used on. (LP: <a href="/bugs/1447282" class="bug-link">#1447282</a>, LP: <a href="/bugs/1597154" class="bug-link">#1597154</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- CVE-2016-6224</p>
<p>&nbsp;-- Tyler Hicks &lt;email address hidden&gt;  Thu, 14 Jul 2016 18:48:53 -0500</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package ecryptfs-utils - 111-0ubuntu2

---------------
ecryptfs-utils (111-0ubuntu2) yakkety; urgency=medium

  * SECURITY UPDATE: Information exposure via unencrypted swap partitions. The
    swap partition was not configured to use encryption when GPT partitioning
    was in use on NVMe and MMC drives.
    - debian/patches/CVE-2016-6224.patch: Properly handle the formatting of
      the path to swap partitions on NVMe and MMC drives so that they're
      correctly marked as not to be automatically mounted by systemd. Based on
      upstream patch from Jason Gerard DeRose. (LP: #1597154)
    - debian/ecryptfs-utils.postinst: Fix any unencrypted GPT swap partitions
      that have mistakenly remained marked as auto mount. This should only
      modify the swap partitions on systems that ecryptfs-setup-swap has been
      used on. (LP: #1447282, LP: #1597154)
    - CVE-2016-6224

 -- Tyler Hicks &lt;tyhicks@canonical.com&gt;  Thu, 14 Jul 2016 18:48:53 -0500</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs-utils (Ubuntu Yakkety): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/87" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~grossogrossum" class="sprite person">grosso (grossogrossum)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-07-15T19:43:25.941575+00:00" title="2016-07-15 19:43:25 UTC">on 2016-07-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/87"> #87</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This don&#x27;t solve the issue for me, it asks for<br />
Please enter passphrase for disk XXXXXXXXXXXXXXXXXX (cryptswap1) on none!<br />
on boot.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This don't solve the issue for me, it asks for
Please enter passphrase for disk XXXXXXXXXXXXXXXXXX (cryptswap1) on none!
on boot.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/88" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-07-15T19:59:21.926226+00:00" title="2016-07-15 19:59:21 UTC">on 2016-07-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/88"> #88</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Grosso - can you open a new bug and include the following information:</p>
<p>&nbsp;&nbsp;Attach /etc/fstab and /etc/crypttab</p>
<p>&nbsp;&nbsp;Run the following commands and include their output:<br />
&nbsp;&nbsp;$ sudo blkid<br />
&nbsp;&nbsp;$ swapon -s<br />
&nbsp;&nbsp;$ printf &quot;x\np\n&quot; | sudo fdisk /dev/sda<br />
&nbsp;&nbsp;$ ls -l /run/systemd/<wbr />generator/</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Grosso - can you open a new bug and include the following information:

  Attach /etc/fstab and /etc/crypttab

  Run the following commands and include their output:
  $ sudo blkid
  $ swapon -s
  $ printf "x\np\n" | sudo fdisk /dev/sda
  $ ls -l /run/systemd/generator/</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/89" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~grossogrossum" class="sprite person">grosso (grossogrossum)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-07-16T12:33:18.149384+00:00" title="2016-07-16 12:33:18 UTC">on 2016-07-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/89"> #89</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I rebuild my swap and now the &#x27;passphrase&#x27; message is gone; i&#x27;m sorry for the wrong comment.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I rebuild my swap and now the 'passphrase' message is gone; i'm sorry for the wrong comment.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/90" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~helge-jordan" class="sprite person">Helge Jordan (helge-jordan)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-09-28T19:26:35.823806+00:00" title="2016-09-28 19:26:35 UTC">on 2016-09-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/90"> #90</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Bug doesn&#x27;t seem to be fixed. I upgraded to ecryptfs-utils - 111-0ubuntu1 (see post by Launchpad Janitor (janitor) of 2016-07-14 - marking it as fixed).<br />
However, the system keeps asking for a password for cryptswap1.<br />
I rebuilt my swap as grosso did; however no success.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Bug doesn't seem to be fixed. I upgraded to ecryptfs-utils - 111-0ubuntu1 (see post by Launchpad Janitor (janitor) of 2016-07-14 - marking it as fixed).
However, the system keeps asking for a password for cryptswap1.
I rebuilt my swap as grosso did; however no success.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/91" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~shaform" class="sprite person">Shaform (shaform)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-11-12T00:43:49.204339+00:00" title="2016-11-12 00:43:49 UTC">on 2016-11-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/91"> #91</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I encountered the same issue as well on Ubuntu 16.04.<br />
In particular, this seems to occur only after I create a LUKS Encrypted partition by the disk util.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I encountered the same issue as well on Ubuntu 16.04.
In particular, this seems to occur only after I create a LUKS Encrypted partition by the disk util.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/92" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jeukel" class="sprite person">Daniel Jenkins (jeukel)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-01-22T04:58:15.073561+00:00" title="2017-01-22 04:58:15 UTC">on 2017-01-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/92"> #92</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>GPT partition with encrypted /home.</p>
<p>Same error occurs if / gets a label or /home gets resized.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">GPT partition with encrypted /home.

Same error occurs if / gets a label or /home gets resized.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/93" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~daniloaz" class="sprite person">Daniel López Azaña (daniloaz)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-03-14T09:37:24.607071+00:00" title="2017-03-14 09:37:24 UTC">on 2017-03-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/93"> #93</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I renamed a partition other than swap partition from a gpt disk with &quot;parted name 9 xxxx&quot; and in the next reboot I started to be asked to enter a passprase for the swap partition. So this is another way to reproduce this thread&#x27;s issue that I think was not mentioned.</p>
<p>My version of ecryptfs-utils is 111-0ubuntu1.1 (Ubuntu 16.04.2 LTS).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I renamed a partition other than swap partition from a gpt disk with "parted name 9 xxxx" and in the next reboot I started to be asked to enter a passprase for the swap partition. So this is another way to reproduce this thread's issue that I think was not mentioned.

My version of ecryptfs-utils is 111-0ubuntu1.1 (Ubuntu 16.04.2 LTS).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/94" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~boyd-dyob" class="sprite person">Boyd (boyd-dyob)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-07-21T21:36:33.822887+00:00" title="2017-07-21 21:36:33 UTC">on 2017-07-21</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/comments/94"> #94</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Same experience as daniloaz using 111-0ubuntu1.1 (Ubuntu 16.04.2 LTS) and I have the same thing on another laptop running 17.04</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Same experience as daniloaz using 111-0ubuntu1.1 (Ubuntu 16.04.2 LTS) and I have the same thing on another laptop running 17.04</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/ubuntu/+source/ecryptfs-utils/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      <div class="portlet" id="portlet-duplicates">
  <h2>Duplicates of this bug</h2>
  <ul>
    <li>
      <a class="sprite bug" href="https://bugs.launchpad.net/bugs/1450224" title="Ubuntu 15.04: Boot with systemd stops asking for cryptoswap password"> Bug #1450224</a>
    </li>
  </ul>
</div>

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4386259/+files/ecryptfs-utils_107-0ubuntu1_107-0ubuntu1.1.diff">vivid debdiff</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4386259">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381692/+files/IMG_7979_01.jpg">IMG_7979_01.jpg</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381692">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381693/+files/CurrentDmesg.txt">CurrentDmesg.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381693">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381694/+files/Dependencies.txt">Dependencies.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381694">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381695/+files/JournalErrors.txt">JournalErrors.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381695">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381696/+files/Lspci.txt">Lspci.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381696">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381697/+files/Lsusb.txt">Lsusb.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381697">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381698/+files/ProcCpuinfo.txt">ProcCpuinfo.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381698">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381699/+files/ProcEnviron.txt">ProcEnviron.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381699">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381700/+files/ProcInterrupts.txt">ProcInterrupts.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381700">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381701/+files/ProcModules.txt">ProcModules.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381701">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381702/+files/SystemdDelta.txt">SystemdDelta.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381702">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381703/+files/UdevDb.txt">UdevDb.txt</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4381703">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4382428/+files/generator.late.tgz">generator.late.tgz</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4382428">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4382430/+files/generator.tgz">generator.tgz</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4382430">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4387774/+files/Screenshot%20from%202015-04-29%2013_05_13.png">Screenshot from 2015-04-29 13_05_13.png</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4387774">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4393368/+files/error-msg.png">error-msg.png</a>
        <small>
          (<a href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+attachment/4393368">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/ecryptfs-utils/+bug/1447282/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"bug_is_private": false, "information_type_data": {"PUBLICSECURITY": {"name": "Public Security", "description_css_class": "choice-description", "is_private": false, "value": "PUBLICSECURITY", "description": "Everyone can see this security related information.\n", "order": 1}, "PRIVATESECURITY": {"name": "Private Security", "description_css_class": "choice-description", "is_private": true, "value": "PRIVATESECURITY", "description": "Only the security group can see this information.\n ", "order": 2}, "PUBLIC": {"name": "Public", "description_css_class": "choice-description", "is_private": false, "value": "PUBLIC", "description": "Everyone can see this information.\n", "order": 0}, "USERDATA": {"name": "Private", "description_css_class": "choice-description", "is_private": true, "value": "USERDATA", "description": "Only shared with users permitted to see private user information.\n", "order": 3}}, "initial_comment_batch_offset": 41, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/1447282", "self_link": "https://bugs.launchpad.net/api/devel/bugs/1447282"}, "first visible_recent_comment": 54, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1447282", "web_link": "https://bugs.launchpad.net/bugs/1447282", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1447282, "private": false, "information_type": "Public", "name": null, "title": "Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)", "description": "CVE Request: http://openwall.com/lists/oss-security/2016/07/13/2\n\n\nI'm still sorting out the details and eliminating variables, but as far as I can tell:\n\nSteps to reproduce\n===============\n\n1) Install Ubuntu using GPT partitioning for the OS drive[*]\n\n2) Choose \"require my password to login\", and check \"encrypt my home directory\"\n\nExpected behavior\n===============\n\nNo special user interaction should be required to initialized the crytposwap other than normally logging in\n\nActual behavior\n============\n\nPrior to lightdm coming up, you will be prompted to enter your passphrase to unlock the cryptoswap, similar to how you would be prompted to unlock the OS drive when using full disk encryption (see attached photo).\n\nWhen lightdm comes up, you have to enter your password/passphrase again to login.\n\nWork-arounds\n===========\n\n1) This only seems to happen when using GTP partitioning, not MBR... so use MBR if you can\n\n2) Even with GTP partitioning, booting with init=/sbin/upstart seems to reliably fix the problem, so it certainly seems systemd related\n\nNotes\n=====\n\n* As far as I can tell, there isn't a way to force Ubiquity to create a GPT partition table when the OS drive is \u003c 2TB, but it will automatically use GPT partitioning when the OS drive is \u003e= 2TB. My particular test was done using the System76 imaging server, which by default uses GPT partitioning even when the OS drive is \u003c 2TB.\n\nSRU INFORMATION\n================\nRegression potential:\nThis is delicate as we need to fix existing installations with a post-install script. This needs to happen as defensively as possible, but errors in this can still potentially completely break your partition information. Apart from testing that in the above scenario the unencrypted swap partition is marked as \"no-auto\" and thus after a new boot you are actually using the cryptswap1 one, we also need to verify that it does not destroy working systems.\n\nTest case:\n(1) Install an EFI system with \"encrypt my home directory\" (You can do this in QEMU with -bios OVMF.fd); after booting the first time you will be asked to enter a passprase for the swap partition, just press enter. \"sudo swapon -s\" will say something like /dev/sda3, i. e. using unencrypted swap. After installing this update and rebooting, the bogus passphrase prompt on boot should be gone, and \"sudo swapon -s\" should say /dev/dm-0, i. e. using encrypted swap.\n\nIn all these other cases the update should not do anything and booting continues to work:\n(2) In the above system, \"sudo apt-get install --reinstall ecryptfs-utils\" should not change partitions again, but say something like \"is already marked as no-auto\".\n(3) Install an EFI system without home dir encryption\n(4) Install an MBR system with home dir encryption\n(5) Install an MBR system without home dir encryption\n\nProblemType: Bug\nDistroRelease: Ubuntu 15.04\nPackage: systemd 219-7ubuntu3\nProcVersionSignature: Ubuntu 3.19.0-15.15-generic 3.19.3\nUname: Linux 3.19.0-15-generic x86_64\nApportVersion: 2.17.2-0ubuntu1\nArchitecture: amd64\nCurrentDesktop: Unity\nDate: Wed Apr 22 11:40:29 2015\nEcryptfsInUse: Yes\nMachineType: System76, Inc. Kudu Professional\nProcKernelCmdLine: BOOT_IMAGE=/boot/vmlinuz-3.19.0-15-generic root=UUID=e6c5aea5-d57c-410d-abce-66e96175e946 ro quiet splash vt.handoff=7\nSourcePackage: systemd\nUdevLog: Error: [Errno 2] No such file or directory: '/var/log/udev'\nUpgradeStatus: No upgrade log present (probably fresh install)\ndmi.bios.date: 01/15/2014\ndmi.bios.vendor: American Megatrends Inc.\ndmi.bios.version: 1.03.03RS76\ndmi.board.asset.tag: Tag 12345\ndmi.board.name: Kudu Professional\ndmi.board.vendor: System76, Inc.\ndmi.board.version: kudp1\ndmi.chassis.asset.tag: No Asset Tag\ndmi.chassis.type: 9\ndmi.chassis.vendor: System76, Inc.\ndmi.chassis.version: kudp1\ndmi.modalias: dmi:bvnAmericanMegatrendsInc.:bvr1.03.03RS76:bd01/15/2014:svnSystem76,Inc.:pnKuduProfessional:pvrkudp1:rvnSystem76,Inc.:rnKuduProfessional:rvrkudp1:cvnSystem76,Inc.:ct9:cvrkudp1:\ndmi.product.name: Kudu Professional\ndmi.product.version: kudp1\ndmi.sys.vendor: System76, Inc.", "owner_link": "https://bugs.launchpad.net/api/devel/~jderose", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/bug_tasks", "duplicate_of_link": null, "date_created": "2015-04-22T18:13:03.212308+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/subscriptions", "date_last_updated": "2017-07-21T21:36:34.530763+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 300, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/attachments", "security_related": false, "latest_patch_uploaded": "2015-04-28T05:18:06.410412+00:00", "tags": ["amd64", "apport-bug", "ecryptfs", "patch", "systemd-boot", "verification-done", "vivid"], "date_last_message": "2017-07-21T21:36:33.822887+00:00", "number_of_duplicates": 1, "message_count": 95, "users_affected_count": 56, "users_unaffected_count": 2, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/users_unaffected", "users_affected_count_with_dupes": 58, "other_users_affected_count_with_dupes": 58, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1447282/linked_merge_proposals", "http_etag": "\"37b434032cee30f4f78d0cee6321f6ea56837a2c-aa4e411cf1392c1c623f249a87d841954f396990\""}, "total_comments_and_activity": 178, "related_features": {}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/ecryptfs-utils/+bug/1447282", "web_link": "https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1447282", "milestone_link": null, "status": "Fix Released", "importance": "High", "assignee_link": "https://bugs.launchpad.net/api/devel/~tyhicks", "bug_target_display_name": "ecryptfs-utils (Ubuntu)", "bug_target_name": "ecryptfs-utils (Ubuntu)", "bug_watch_link": null, "date_assigned": "2015-04-24T08:59:09.088923+00:00", "date_created": "2015-04-22T18:13:03.212308+00:00", "date_confirmed": "2015-04-24T08:59:09.085036+00:00", "date_incomplete": null, "date_in_progress": "2016-07-15T01:59:32.615814+00:00", "date_closed": "2016-07-15T01:59:32.615814+00:00", "date_left_new": "2015-04-24T08:59:09.085036+00:00", "date_triaged": "2015-04-24T08:59:09.085036+00:00", "date_fix_committed": "2016-07-15T01:59:32.615814+00:00", "date_fix_released": "2016-07-15T01:59:32.615814+00:00", "date_left_closed": "2016-04-23T07:34:08.465097+00:00", "owner_link": "https://bugs.launchpad.net/api/devel/~jderose", "target_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/ecryptfs-utils", "title": "Bug #1447282 in ecryptfs-utils (Ubuntu): \"Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/ecryptfs-utils/+bug/1447282/related_tasks", "is_complete": true, "http_etag": "\"cd80d5df432938082dceac47e0756b1a1b7c917f-2c42692358734f1b81f79e4cd36bb90eb806d5b7\""}, "bugtask_data": {"2047864": {"bugtask_path": "/ubuntu/xenial/+source/ecryptfs-utils/+bug/1447282", "bug_title": "Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "ecryptfs-utils (Ubuntu Xenial)", "hide_assignee_team_selection": true, "assignee_is_team": null, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/xenial/+source/ecryptfs-utils/+bug/1447282/+delete", "row_id": "tasksummary2047864", "target_is_product": false, "id": 2047864, "form_row_id": "task2047864", "assignee_vocabulary_filters": [], "prefix": "ubuntu_xenial_ecryptfs-utils", "importance_value": "High", "status_value": "Fix Released", "assignee_value": null, "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "1813545": {"bugtask_path": "/ubuntu/+source/ecryptfs-utils/+bug/1447282", "bug_title": "Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "ecryptfs-utils (Ubuntu)", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/+source/ecryptfs-utils/+bug/1447282/+delete", "row_id": "tasksummary1813545", "target_is_product": false, "id": 1813545, "form_row_id": "task1813545", "assignee_vocabulary_filters": [], "prefix": "ubuntu_ecryptfs-utils", "importance_value": "High", "status_value": "Fix Released", "assignee_value": "tyhicks", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "1815025": {"bugtask_path": "/ubuntu/vivid/+source/ecryptfs-utils/+bug/1447282", "bug_title": "Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "ecryptfs-utils (Ubuntu Vivid)", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/vivid/+source/ecryptfs-utils/+bug/1447282/+delete", "row_id": "tasksummary1815025", "target_is_product": false, "id": 1815025, "form_row_id": "task1815025", "assignee_vocabulary_filters": [], "prefix": "ubuntu_vivid_ecryptfs-utils", "importance_value": "High", "status_value": "Fix Released", "assignee_value": "pitti", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "1815141": {"bugtask_path": "/ecryptfs/+bug/1447282", "bug_title": "Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "eCryptfs", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ecryptfs/+bug/1447282/+delete", "row_id": "tasksummary1815141", "target_is_product": true, "id": 1815141, "form_row_id": "task1815141", "assignee_vocabulary_filters": [], "prefix": "ecryptfs", "importance_value": "High", "status_value": "Fix Committed", "assignee_value": "kirkland", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "2047863": {"bugtask_path": "/ubuntu/yakkety/+source/ecryptfs-utils/+bug/1447282", "bug_title": "Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "ecryptfs-utils (Ubuntu Yakkety)", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/yakkety/+source/ecryptfs-utils/+bug/1447282/+delete", "row_id": "tasksummary2047863", "target_is_product": false, "id": 2047863, "form_row_id": "task2047863", "assignee_vocabulary_filters": [], "prefix": "ubuntu_yakkety_ecryptfs-utils", "importance_value": "High", "status_value": "Fix Released", "assignee_value": "tyhicks", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}}};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 113 queries/external actions issued in 1.29 seconds

    Features: {'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'bugs.affected_count_includes_dupes.disabled': None, 'baselayout.careers_link.disabled': None, 'js.yui_version': None, 'profiling.enabled': None, 'visible_render_time': None, 'hard_timeout': '9000', 'bugs.nominations.bug_supervisors_can_target': 'on', 'app.maintenance_message': None}

    r0d8de2b

    -->

</html>

