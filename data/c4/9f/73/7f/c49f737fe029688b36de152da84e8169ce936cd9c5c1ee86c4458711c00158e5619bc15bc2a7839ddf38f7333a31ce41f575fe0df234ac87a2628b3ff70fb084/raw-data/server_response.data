<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant - #13 by btotharye - General Discussion - Mycroft Community Forum</title>
    <meta name="description" content="Just run into this; 

 
A whole lot worse than MS taking over github! What are your plans? Assume adding user/passwd is a quick fix.">
    <meta name="generator" content="Discourse 2.8.0.beta7 - https://github.com/discourse/discourse version 436edbb51a15c634e65c0d7cdccdb4ce9aecd8f1">
<link rel="icon" type="image/png" href="https://community.mycroft.ai/uploads/default/optimized/2X/4/4d96d38353dfdcc225c4fd98299ad2a7f53b5a4b_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="https://community.mycroft.ai/uploads/default/optimized/2X/6/68fbf0edf2696d59a3c4da45e14705001f3cb614_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://community.mycroft.ai","potentialAction":{"@type":"SearchAction","target":"https://community.mycroft.ai/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://community.mycroft.ai/opensearch.xml" title="Mycroft Community Forum Search">

      <link href="/stylesheets/desktop_99ecd4c24b9385474cf01047f1c854bc6a76e5f1.css?__ws=community.mycroft.ai" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="/stylesheets/desktop_theme_4_785cf8fe44a68bad3fc765e4a4612be155c7f3d2.css?__ws=community.mycroft.ai" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="material design theme"/>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i&amp;subset=cyrillic,cyrillic-ext,devanagari,greek,greek-ext,latin-ext,vietnamese" rel="stylesheet">

    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant&#39;" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930.rss" />
    <meta property="og:site_name" content="Mycroft Community Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://community.mycroft.ai/uploads/default/original/2X/6/68fbf0edf2696d59a3c4da45e14705001f3cb614.png" />
<meta property="og:image" content="https://community.mycroft.ai/uploads/default/original/2X/6/68fbf0edf2696d59a3c4da45e14705001f3cb614.png" />
<meta property="og:url" content="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930/13" />
<meta name="twitter:url" content="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930/13" />
<meta property="og:title" content="&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant" />
<meta name="twitter:title" content="&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant" />
<meta property="og:description" content="So if I refactored the current mycroft ha skill to accept a url without a port that should fix the skill for those using a reverse proxy or that don’t use a port right?  And yes I own www.geekedoutsolutions.com 🙂" />
<meta name="twitter:description" content="So if I refactored the current mycroft ha skill to accept a url without a port that should fix the skill for those using a reverse proxy or that don’t use a port right?  And yes I own www.geekedoutsolutions.com 🙂" />
<meta property="article:published_time" content="2018-06-12T10:50:04+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    <div id="navmenucontainer">
    <div id="navmenuv">
        <ul class="nav">
          <li><a href="https://mycroft.ai" title="Mycroft AI Home">HOME</a></li>
          <li><a href="https://mycroft.ai/documentation/" title="Mycroft Documentation">DOCS</a></li>
          <li><a href="https://chat.mycroft.ai/" title="Mycroft Chat">CHAT</a></li>
        </ul>
    </div>
</div>

    <header>
      <a href="/">
          <h1>Mycroft Community Forum</h1>
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://community.mycroft.ai/c/general/5" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #BF1E2E'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>General Discussion</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/j1nx'><span itemprop='name'>j1nx</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-09T17:39:34Z' class='post-time'>
                June 9, 2018,  5:39pm
              </time>
              <meta itemprop='dateModified' content='2018-06-09T17:39:34Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Just run into this;<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://assets-cdn.github.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://github.com/Nhoya/MycroftAI-RCE" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars2.githubusercontent.com/u/7293260?s=400&amp;v=4" class="thumbnail onebox-avatar" width="60" height="60">

<h3><a href="https://github.com/Nhoya/MycroftAI-RCE" target="_blank" rel="nofollow noopener">Nhoya/MycroftAI-RCE</a></h3>

<p>MycroftAI-RCE - "Zero Click" Remote Code Execution in Mycroft AI vocal assistant</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>A whole lot worse than MS taking over github! What are your plans? Assume adding user/passwd is a quick fix.</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.mycroft.ai/t/responding-to-our-first-cve-and-developing-our-cve-process/4116" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.mycroft.ai/t/responding-to-our-first-cve-and-developing-our-cve-process/4116'>
                      <span itemprop='name'>Responding to our first CVE and developing our CVE process</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://community.mycroft.ai/t/best-practices-to-secure-mycroft-messagebus/10186/5" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://community.mycroft.ai/t/best-practices-to-secure-mycroft-messagebus/10186/5'>
                      <span itemprop='name'>Best practices to secure mycroft MessageBus</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/Python-Guy'><span itemprop='name'>Python-Guy</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-09T18:57:31Z' class='post-time'>
                June 9, 2018,  6:57pm
              </time>
              <meta itemprop='dateModified' content='2018-06-09T18:57:31Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I seen this on /r/netsec. It works… I was able to push a shell in just a few minutes.</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/steve.penrod'><span itemprop='name'>steve.penrod</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-09T19:10:18Z' class='post-time'>
                June 9, 2018,  7:10pm
              </time>
              <meta itemprop='dateModified' content='2018-06-09T19:10:18Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>That is correct, running what  we call a “GitHub install” has been considered developer mode and currently is focused on functionality.  This exploit does not apply to the “consumer ready” Mark 1 (or the future Mark 2).</p>
<p>However it is important that we keep in mind that we are rapidly approaching a fully consumer-facing product.  I do appreciate Nhoya’s work here and the respectful way he approached me with this concern.  For now, the start-mycroft.sh launch mechanism displays a caution that reminds developers of the potential for mischief and suggests using appropriate firewall rules to minimize risk.  See:  <a href="https://github.com/MycroftAI/mycroft-core/pull/1633">https://github.com/MycroftAI/mycroft-core/pull/1633</a></p>
<p>We do have plans for both moving this to a WebSocket Secure (WSS) implementation with authentication to connect.  I don’t have a specific date yet, but I believe the current risk is minimal with simple precautions by current developers.</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/w00t'><span itemprop='name'>w00t</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-09T19:59:04Z' class='post-time'>
                June 9, 2018,  7:59pm
              </time>
              <meta itemprop='dateModified' content='2018-06-09T20:10:10Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi <img src="https://community.mycroft.ai/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> I’m the guy of the disclosure, as <a class="mention" href="/u/steve.penrod">@steve.penrod</a> pointed out (and as I wrote in the Notes section of my writeup) this is currently not affecting the Mark-I device since the websocket is behind a firewall just remember that if for any case you have to open it, you will incur in this issue Of course this is just a temporary mitigation (e.g. if you want to use the app you need at least to allow for one connection from the IP of your phone or your entire local network but you will be still exposed)</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/Jarbas_Ai'><span itemprop='name'>Jarbas_Ai</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-10T04:48:17Z' class='post-time'>
                June 10, 2018,  4:48am
              </time>
              <meta itemprop='dateModified' content='2018-06-10T04:48:17Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>if you don’t need to connect from the outside at all (most cases) just change the websocket address in config from 0.0.0.0 to 127.0.0.1</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/j1nx'><span itemprop='name'>j1nx</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-12T07:47:14Z' class='post-time'>
                June 12, 2018,  7:47am
              </time>
              <meta itemprop='dateModified' content='2018-06-12T07:47:14Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Going forward I also want to merge Home Assistant together with MyCroft. With the HA Mycroft skill we can use voice to control HA. However with the Home Assistant Mycroft addon, we can use Mycroft as notify platform for any state changes in HA.</p>
<p>For that to work, we need ofcourse to have the websocket open to 0.0.0.0 instead of 127.0.0.1. This open a door for malicious code execution. Now, my mycroft instance and Home Assistent instance are both behind a proper firewall, but still… No websocket should be open without credentials. To me it just sounds like amateuristic beginners mistake, which does not rime with Mycroft as the business it is now. (no offense).</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/KathyReid'><span itemprop='name'>KathyReid</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-12T08:54:30Z' class='post-time'>
                June 12, 2018,  8:54am
              </time>
              <meta itemprop='dateModified' content='2018-06-12T08:54:30Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I know that <a class="mention" href="/u/btotharye">@btotharye</a> has done an enormous amount of work with the <a href="https://github.com/btotharye/mycroft-homeassistant">Home Assistant Skill for Mycroft</a>, and I’d like to just flag this with him so that he’s aware of this conversation - as he may have some thoughts.</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/j1nx'><span itemprop='name'>j1nx</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-12T09:32:32Z' class='post-time'>
                June 12, 2018,  9:32am
              </time>
              <meta itemprop='dateModified' content='2018-06-12T09:32:32Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks <a class="mention" href="/u/kathyreid">@KathyReid</a>!</p>
<p>For current testing; Running Mycroft on my laptop and a Home Assistant install on a small desktop PC (headless debian server). The Home Assistant skill within Mycroft works perfectly, other then with the latest change/commit of using the default port if the port config has been left empty breaks reverse-proxy support. But by the time I get in the final stages I will contact <a class="mention" href="/u/btotharye">@btotharye</a> again myself for a fix. (just removed the whole port in my local code from the url string)</p>
<p>However, MyCroft -&gt; HA is not the issue here. I was more talking about the other way around; HA -&gt; Mycroft.</p>
<p>Checkout this component;<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.home-assistant.io/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.home-assistant.io/components/mycroft/" target="_blank" rel="nofollow noopener">Home Assistant</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:128/67;"><img src="https://www.home-assistant.io/images/default-social.png" class="thumbnail"></div>

<h3><a href="https://www.home-assistant.io/components/mycroft/" target="_blank" rel="nofollow noopener">Mycroft</a></h3>

<p>Instructions on how to setup Mycroft AI within Home Assistant.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>And a (very) quick demo of it in action (not mine);<br>
</p><div class="lazyYT" data-youtube-id="CILERRrT78g" data-youtube-title="Home Assistant Notify via Mycroft Voice AI Home Automation" data-width="480" data-height="270" data-parameters="feature=oembed&amp;wmode=opaque"></div>
<p>Through Home Assistant (and possibly other systems that run in the same network), the vulnerability is open for attack this way. All it needs for configuration is the IP address of Mycroft. Adding a user/passwd and encryption to this is not a big deal. And should be implemented rather sooner than later is you ask me.</p>
<p>However, I personally would like  to vote for making a classification attached to the skill. ONLY system/service skill should be allowed to run code or other skill. Notification type of skill should only be allowed to have Mycroft speak something outload, nothin more, nothin less. (If i make any sense as dutchie writing english)</p>
<p>As addition to above, to what I want to do in the long(er) run. I would like to configure Home Assistent with proper presence detection. During the day that I am not at home, but HA has certain state changes that I would like to know of as soon as I walk in the room, I would like MyCroft to save all the notifications and let HA initiate playback of them all as soon as my presence is triggered. (Most likely changing / alternating <a class="mention" href="/u/forslund">@forslund</a> his events skill)</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/btotharye'><span itemprop='name'>btotharye</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-12T09:46:07Z' class='post-time'>
                June 12, 2018,  9:46am
              </time>
              <meta itemprop='dateModified' content='2018-06-12T09:46:07Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I do have plans to add more updates very shortly to the HA mycroft skill.  I also have always used my own external means to secure this system as I brought up in the general chat about this.</p>
<p>Most of us developers have already been aware of this and have our own ways of securing things.  I have historically used nginx or <a href="https://jwt.io/" rel="nofollow noopener">https://jwt.io/</a> which I think in this case might be the best option.</p>
<p>If no one has already started on this I don’t mind crafting up a PR with some of the code I already have.</p>
<p>As for your last part with the HA presence I believe this will require some work in mycroft as I don’t think it has a way of saving things like this.  The original reason I setup this component in HA (I built it) was initially to get my notifications and such from HA onto my Mark 1 device, I am planning to add a lot more functionality to it as well.</p>
<p>Let me know if you have any specific questions or ask for anything related to HA as I have created both options here to connect Mycroft to Home Assistant and vice versa.</p>
<p>Thanks</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/j1nx'><span itemprop='name'>j1nx</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-12T10:18:41Z' class='post-time'>
                June 12, 2018, 10:18am
              </time>
              <meta itemprop='dateModified' content='2018-06-12T10:18:41Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Great to hear, and indeed let’s open the discussion about it. By all means, initiate the PR then we can move the more technical discussion over to Github.</p>
<p>I’m running my HA also behind a nginx reverse proxy. I have reverse nat translation, so using the “external” https weburl from within the Mycroft skill does get translated to the internal IP. For ease of configuration I doing it like this for most of my stuff. You must be aware that a reverse proxied addres does not allow the port number to be set. (at least not in my setup)</p>
<p>Works: <a href="https://hass.mydomain.com" rel="nofollow noopener">https://hass.mydomain.com</a><br>
Doesn’t work: <a href="https://hass.mydomain.com:80" rel="nofollow noopener">https://hass.mydomain.com:80</a> (or 443)</p>
<p>Didn’t realise you <a class="mention" href="/u/btotharye">@btotharye</a> also made the HA addon. Thank you very much for that. Much appreciated.</p>
<p>To comment on your statement about saving things. Indeed MyCroft needs some work or skill, but I believe by utilizing <a class="mention" href="/u/forslund">@forslund</a> his event skill;<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://assets-cdn.github.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://github.com/forslund/event_skill" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars1.githubusercontent.com/u/804543?s=400&amp;v=4" class="thumbnail onebox-avatar" width="60" height="60">

<h3><a href="https://github.com/forslund/event_skill" target="_blank" rel="nofollow noopener">forslund/event_skill</a></h3>

<p>event_skill - Mycroft skill to chain other skills together</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>This could easily been done. Sending “events” to that skill marked as “to be saved” adjusting the config of it. Then we can start with an utterance such as: Hey Mycroft, what did I miss when I was away" which will trigger the events to be spoken and deleted. Step two, would then be to trigger that same utterance remotely from HA as soon as a certain presence is triggered.</p>
<p>Anyhow, will type out what I am trying to do more over the next few days. Started doing that already on a Dutch technical forum;<br>
<a href="https://gathering.tweakers.net/forum/list_messages/1852711" class="onebox" target="_blank" rel="nofollow noopener">https://gathering.tweakers.net/forum/list_messages/1852711</a></p>
<p>Google translate could probably help out understanding most of it.</p>
<p>Secondly, I made more people aware of MyCroft by creating (yet to be updated again) this global thread about MyCroft on the same website;<br>
<a href="https://gathering.tweakers.net/forum/list_messages/1852743" class="onebox" target="_blank" rel="nofollow noopener">https://gathering.tweakers.net/forum/list_messages/1852743</a></p>
<p>I guess we will be speaking more often to each other in the near future <a class="mention" href="/u/btotharye">@btotharye</a> <img src="https://community.mycroft.ai/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/j1nx'><span itemprop='name'>j1nx</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-12T10:22:36Z' class='post-time'>
                June 12, 2018, 10:22am
              </time>
              <meta itemprop='dateModified' content='2018-06-12T10:22:36Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Holy crap! <a class="mention" href="/u/btotharye">@btotharye</a> you “ARE” geeked-out-solutions! <img src="https://community.mycroft.ai/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/forslund'><span itemprop='name'>forslund</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-12T10:35:21Z' class='post-time'>
                June 12, 2018, 10:35am
              </time>
              <meta itemprop='dateModified' content='2018-06-12T10:35:21Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Glad that my old event skill still finds uses <img src="https://community.mycroft.ai/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>I think some rework will be needed due to the way intents are registered nowadays. The good thing is that the skill id is somewhat static and easy to get hold of now (before it was a hash).</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/btotharye'><span itemprop='name'>btotharye</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-12T10:50:04Z' class='post-time'>
                June 12, 2018, 10:50am
              </time>
              <meta itemprop='dateModified' content='2018-06-12T10:50:04Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>So if I refactored the current mycroft ha skill to accept a url without a port that should fix the skill for those using a reverse proxy or that don’t use a port right?</p>
<p>And yes I own <a href="http://www.geekedoutsolutions.com" rel="nofollow noopener">www.geekedoutsolutions.com</a> <img src="https://community.mycroft.ai/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Mycroft Community Forum'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://community.mycroft.ai/u/j1nx'><span itemprop='name'>j1nx</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://community.mycroft.ai/t/zero-click-remote-code-execution-in-mycroft-ai-vocal-assistant/3930">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-12T11:16:35Z' class='post-time'>
                June 12, 2018, 11:16am
              </time>
              <meta itemprop='dateModified' content='2018-06-12T11:16:35Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="/u/btotharye">@btotharye</a> what I did for now, just testing purposes I chenged;<br>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/btotharye/mycroft-homeassistant/blob/master/ha_client.py#L19" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/btotharye/mycroft-homeassistant/blob/master/ha_client.py#L19" target="_blank" rel="nofollow noopener">btotharye/mycroft-homeassistant/blob/master/ha_client.py#L19</a></h4>
<pre class="onebox"><code class="lang-py"><ol class="start lines" start="9" style="counter-reset: li-counter 8 ;">
<li>
</li>
<li>
</li>
<li>class HomeAssistantClient(object):</li>
<li>def __init__(self, host, password, portnum, ssl=False, verify=True):</li>
<li>    self.ssl = ssl</li>
<li>    self.verify = verify</li>
<li>    if portnum is None or portnum == 0:</li>
<li>        self.portnum = 8123</li>
<li>        portnum = 8123</li>
<li>    if self.ssl:</li>
<li class="selected">        self.url = "https://%s:%d" % (host, portnum)</li>
<li>    else:</li>
<li>        self.url = "http://%s:%d" % (host, portnum)</li>
<li>    self.headers = {</li>
<li>        'x-ha-access': password,</li>
<li>        'Content-Type': 'application/json'</li>
<li>    }</li>
<li>
</li>
<li>def _get_state(self):</li>
<li>    if self.ssl:</li>
<li>        req = get("%s/api/states" %</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>to</p>
<p>self.url = “https://%s” % (host)</p>
<p>However, if we would like to it properly we need to either change the logic on lines; 15 - 17 to allow for “portnum is None” or perhaps, a checkbox next to the SSL one, marking “Behind reverse proxy” is a cleaner solution. Leave that up to you.</p>
        </div>

        <meta itemprop='headline' content='&quot;Zero Click&quot; Remote Code Execution in Mycroft AI vocal assistant'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
