<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <title>ReleaseNotes : Technical Documentation</title> <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"> <meta name="description" content="" lang="en"> <meta name="keywords" content="" lang="en"> <meta name="author" content="open-xchange"> <meta name="robots" content="index, follow"> <meta name="google" value="notranslate"> <meta name="msapplication-tap-highlight" content="no"> <meta name="theme-color" content="#3c73aa"> <meta id="win8TileColor" name="msapplication-TileColor" content="#3c739b"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta name="apple-mobile-web-app-title" content="OXPEDIA"> <meta name="apple-mobile-web-app-status-bar-style" content="black"> <meta name="twitter:card" content="summary" /> <meta name="twitter:site" content="@openexchange" /> <meta name="twitter:title" content="ReleaseNotes" /> <meta name="twitter:description" content="" /> <meta name="twitter:url" content="/release-notes/release-notes.html" /> <link rel="icon shortcut" href="/7.8.4/assets/img/favicons/favicon.ico"> <link rel="icon" sizes="192x192" href="/7.8.4/assets/img/favicons/favicon_blue.png"> <link rel="apple-touch-icon" size="180x180" href="/7.8.4/assets/img/favicons/favicon_blue.png"> <link rel="stylesheet" type="text/css" href="/7.8.4/assets/style.css"> </head> <body class=" release-notes"> <div id="wrapper"> <header class="topbar navbar navbar-default navbar-static-top" role="banner"> <div class="primary navbar-header"> <button type="button" class="navbar-toggle"> <span class="sr-only">Toggle navigation</span> <i class="fa fa-fw fa-bars" aria-hidden="true"></i> </button> <a class="navbar-brand brand" href="/index.html"> <img class="ox-logo" src="/7.8.4/assets/img/ox_logopackage/left/ox_logo_white.png" alt="Open-Xchange"> <div class="ox-version">7.8.4</div> </a> </div> <ul class="secondary nav navbar-top-links navbar-left section" role="navigation"> <li class="target"><a href="/7.8.4/ui" class="link"><i class="link-icon fa fa-fw fa-desktop" aria-hidden="true"></i> UI</a></li> <li class="target"><a href="/7.8.4/middleware" class="link"><i class="link-icon fa fa-fw fa-server" aria-hidden="true"></i> Middleware</a></li> <li class="target"><a href="/7.8.4/release-notes/release-notes.html" class="link"><i class="link-icon fa fa-fw fa-book" aria-hidden="true"></i> Release Notes</a></li> </ul> <div id="search" role="search"> <form method="get" action="https://duckduckgo.com/" class="search-field"> <label class="sr-only" for="search-field">Search</label> <input id="search-field" type="text" name="q" maxlength="255" placeholder="Search..." aria-describedby="search-field-description"> <p class="sr-only sr-description" id="search-field-description">Search documentation with duckduckgo.com</p> <input type="hidden" name="sites" value="https://documentation.open-xchange.com"/> <input type="hidden" name="ka" value="h"/> <input type="hidden" name="k7" value="#fff"/> <input type="hidden" name="kj" value="#052d4b"/> <input type="hidden" name="ky" value="#fafafa"/> <input type="hidden" name="kx" value="#337ab7"/> <input type="hidden" name="kt" value="h"/> <input type="hidden" name="kae" value="c"/> <button type="submit" tabindex="-1"><i class="fa fa-search" aria-hidden="true" title="Start search<"></i></button> </form> </div> </header> <nav class="sidebar navbar-default" role="navigation"> <div class="sidebar-nav navbar-collapse collapse"> <ul class="navigation nav nav-list" id="menu"> <li class="target level-1 active" data-title="ReleaseNotes" data-description=""> <a class="link" href="/7.8.4/release-notes/release-notes.html"> <i class="link-icon fa fa-fw fa-book" aria-hidden="true"></i> <span class="link-title"> ReleaseNotes </span> </a> </li> </ul> </div> </nav> <main class="article"> <div class="row"> <div class="col-lg-12"> <h1 class="article-header">ReleaseNotes <span class="deprecated badge">deprecated</span></h1> </div> </div> <div class="row"> <div class="col-lg-12"> </div> </div> <div class="row"> <div class="col-lg-12 divider"></div> </div> <div class="row"> <div class="col-lg-12 content-container"> <!--- generated automatically - don not change --> <h1 id="aggregated-release-notes-for-7-8-4">Aggregated Release Notes for 7.8.4</h1> <p>Last Update: 2017-11-06</p> <ul> <li><a href="#4437">Patch Release 4437 (2017-10-26)</a></li> <li><a href="#4425">Patch Release 4425 (2017-10-24)</a></li> <li><a href="#4425">Patch Release 4425 (2017-10-24)</a></li> <li><a href="#4415">Patch Release 4415 (2017-10-30)</a></li> <li><a href="#4394">Patch Release 4394 (2017-10-17)</a></li> <li><a href="#4377">Patch Release 4377 (2017-10-20)</a></li> <li><a href="#4354">Patch Release 4354 (2017-09-18)</a></li> <li><a href="#4328">Patch Release 4328 (2017-09-05)</a></li> <li><a href="#4318">Patch Release 4318 (2017-08-21)</a></li> <li><a href="#4304">Patch Release 4304 (2017-08-07)</a></li> <li><a href="#4285">Patch Release 4285 (2017-07-24)</a></li> <li><a href="#4257">Patch Release 4257 (2017-07-10)</a></li> <li><a href="#4233">Patch Release 4233 (2017-06-26)</a></li> <li><a href="#4180">Patch Release 4180 (2017-06-14)</a></li> <li><a href="#2147483647">Release 7.8.4 (2017-05-23)</a></li> </ul> <h2 id="patch-release-4437-2017-10-26"><a name="4437"></a>Patch Release 4437 (2017-10-26)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Custom univleiden 7.8.4-rev3</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="55932-l3-tls-issue-custom-authentication-module"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55932">55932</a> [L3] TLS issue custom authentication module</h4> <p>allign custom implementation of imap auth to support same options as the core implementation regarding security settings</p> <h2 id="patch-release-4425-2017-10-24"><a name="4425"></a>Patch Release 4425 (2017-10-24)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev15</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="55881-inbox-not-loading"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55881">55881</a> Inbox not loading</h4> <p>The yielded &#39;javax.mail.internet.AddressException&#39; in case of a parsing error may return &#39;null&#39; when invoking its &#39;getRef()&#39; method.<para>This has been fixed by orderly passing parsed address string to fall-back address instance in case of parsing error.</p> <h2 id="patch-release-4425-2017-10-24"><a name="4425"></a>Patch Release 4425 (2017-10-24)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev15</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="55881-inbox-not-loading"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55881">55881</a> Inbox not loading</h4> <p>The yielded &#39;javax.mail.internet.AddressException&#39; in case of a parsing error may return &#39;null&#39; when invoking its &#39;getRef()&#39; method.<para>This has been fixed by orderly passing parsed address string to fall-back address instance in case of parsing error.</p> <h2 id="patch-release-4415-2017-10-30"><a name="4415"></a>Patch Release 4415 (2017-10-30)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev16</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev15</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="555692-mobile-ui-changes-layout-in-jslob"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=555692">555692</a> Mobile UI changes layout in jslob</h4> <p>Jslob saves also stores fixed settings that are applied for smartphones only.<para>This has been fixed by not saving &#39;layout&#39;, &#39;showContactPictures&#39; and &#39;showCheckboxes&#39; for mobile devices.</p> <h4 id="55788-save-in-drive-for-webmail-user-not-usable"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55788">55788</a> Save in drive for webmail user not usable</h4> <p>General problem that might occur if an action gets chained.<para>Once an undefined list element was present the check always returned true now(&quot;draw it&quot;).</p> <h4 id="55776-spamexperts-not-working-with-https"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55776">55776</a> Spamexperts not working with https</h4> <p>Basic-auth information only provided in &quot;Authorization&quot; header for HTTP protocol, but not for HTTPS.<para>This has been solved by always providing basic-auth information in &quot;Authorization&quot; header regardless of used protocol and refactored to use newer HttpClient library.</p> <h4 id="55748-wrong-sieve-rule-written-when-using-start-end-with"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55748">55748</a> Wrong sieve rule written when using &quot;start/end with&quot;</h4> <p>The &#39;starts with&#39; and &#39;ends with&#39; simplified rules got mixed up.<para>Properly parse starts- and ends with match types to solve this issue.</p> <h4 id="55583-ox-help-docs-language-error-on-calendar-module-header"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55583">55583</a> OX Help Docs language error on Calendar module header</h4> <p>The header of the respective file was adjusted to get the right translation.</p> <h4 id="55574-wrong-sort-order-when-using-flag-as-sort-option"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55574">55574</a> Wrong sort order when using flag as sort option</h4> <p>Sortorder was adjusted. Note: Selecting a specific sort field (other than &quot;date&quot;) when mails are grouped by conversations might still yield &quot;strange&quot; results since a conversation&#39;s mails are statically sorted by &quot;date&quot; and only the top mail of each conversations is considered for sorting the conversation groups. Having a flagged mail in the midst of a conversation does not sort that mail to the top since only conversation&#39;s newest mail is considered.</p> <h4 id="55362-translation-missing-on-upload-timeout-error"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55362">55362</a> Translation missing on upload timeout error</h4> <p>Added missing translation.</p> <h4 id="55298-maximum-configured-sized-needs-to-be-fixed-for-japanese-error-message"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55298">55298</a> Maximum configured sized needs to be fixed for Japanese Error message</h4> <p>Fixed translation for &quot;Maximum configured sized&quot;.</p> <h4 id="55284-possible-to-change-threadsupport-if-protected"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55284">55284</a> Possible to change threadSupport if protected</h4> <p>We had no consistently check if threadSupport was enabled.<para>in case &#39;threadSupport&#39; is disabled also a potentially active folder viewoption &#39;thread&#39; is ignored to oslve this issue.</p> <h2 id="patch-release-4394-2017-10-17"><a name="4394"></a>Patch Release 4394 (2017-10-17)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev14</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev14</li> <li>Open-Xchange AppSuite Office 7.8.4-rev5</li> <li>Open-Xchange AppSuite Office-Web 7.8.4-rev6</li> </ul> <h3 id="fixed-vulnerabilities">Fixed Vulnerabilities</h3> <h4 id="55703-cve-2017-15029"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55703">55703</a> CVE-2017-15029</h4> <p>CVSS: 3.1 (CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:N/I:L/A:N)</p> <h4 id="55651-cve-2017-15030"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55651">55651</a> CVE-2017-15030</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h4 id="55603-cve-2017-15030"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55603">55603</a> CVE-2017-15030</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h4 id="55602-cve-2017-15030"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55602">55602</a> CVE-2017-15030</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h4 id="55601-cve-2017-15030"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55601">55601</a> CVE-2017-15030</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h4 id="55600-cve-2017-15030"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55600">55600</a> CVE-2017-15030</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h4 id="55090-cve-2017-13667"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55090">55090</a> CVE-2017-13667</h4> <p>CVSS: 6.4 (CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:N/A:L)</p> <h4 id="55068-cve-2017-13668"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55068">55068</a> CVE-2017-13668</h4> <p>CVSS: 3.7 (CVSS:3.0/AV:N/AC:H/PR:L/UI:R/S:U/C:L/I:L/A:N)</p> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="55694-html-signature-images-within-the-signature-did-not-get-saved-into-dedicated-signature-storage"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55694">55694</a> Html signature - images within the signature did not get saved into dedicated signature storage</h4> <p>Sometimes it was not possible to upload pictures into the dedicated signature storage.<para>Fixed a racecondition to solve this issue.</p> <h4 id="55679-create-a-new-signature-with-image-alone-save-button-at-the-bottom-should-be-disabled-till-the-image-is-saved"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55679">55679</a> Create a new signature with image alone - Save button at the bottom should be disabled till the image is saved</h4> <p>Missing handling for pending images.<para>This has been fixed by introducing cascade.</p> <h4 id="55606-undocumented-imap4flags-extension-is-a-requirement-not-only-for-mail-categorization-but-also-for-custom-sieve-filter-rules"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55606">55606</a> Undocumented: imap4flags extension is a requirement not only for &quot;mail categorization&quot; but also for custom sieve filter rules</h4> <p>Support for &#39;imapflags&#39; was removed for the new v2 api in 7.8.4.<para>This has been fixed by re-adding the support for the &#39;imapflags&#39; capability.</p> <h4 id="55574-wrong-sort-order-when-using-flag-as-sort-option"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55574">55574</a> Wrong sort order when using flag as sort option</h4> <p>Wrong sort order returned for &quot;flagged&quot; sort field (660).<para>This has been solved by returning proper sort order for &quot;flagged&quot; sort field (660).</p> <h4 id="55487-contacts-dont-add-correctly-when-choosing-distribution-list"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55487">55487</a> Contacts don&#39;t add correctly when choosing distribution list</h4> <p>This was caused by a missing check for contacts without mail address.<para>Now those contacts are filtered.</p> <h4 id="55413-ox-calendar-print-preview-issue"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55413">55413</a> OX Calendar Print Preview Issue</h4> <p>This was solved by dropping support for browsers built-in printing and give users a hint to use AppSuites print instead.</p> <h4 id="55409-contact-sort-orders-are-inconsistent-between-address-book-and-select-address-dialog"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55409">55409</a> Contact sort orders are inconsistent between &quot;address book&quot; and &quot;select address dialog&quot;</h4> <p>It was just sorted by the first character.<para>This has been fixed by adding recursion when letters are equal.</p> <h4 id="55362-translation-missing-on-upload-timeout-error"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55362">55362</a> Translation missing on upload timeout error</h4> <p>Missing string in i18n.<para>Added missing string to i18n, this is only the new string, the string itself is still not translated, the translation will be available with the next public patch.</p> <h4 id="55360-potential-xss-bug-while-handling-mail-from"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55360">55360</a> Potential XSS-Bug while handling Mail From</h4> <p>Possible control and/or white-space characters returned to clients.<para>This has been fixed by dropping control and/or white-space characters from E-Mail addresses.</p> <h4 id="55301-mail-filter-json-v2-certain-rules-created-with-not-conditions-including-not-exists-header-existstestcommandparser-are-shown-in-the-ui-as-the-positive-condition"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55301">55301</a> mail.filter.json.v2 - Certain rules created with &quot;not&quot; conditions, including &quot;not exists&quot; (header) ExistsTestCommandParser, are shown in the UI as the positive condition</h4> <p>Certain rules created with -not- conditions, including -not exists- could not be parsed correctly.<para>This has been solved by adjusting the parsing and added backend support for this behaviour.</p> <h4 id="55288-pdf-js-progressive-rendering-floods-ox-logs-with-connection-reset-by-peer-errors-on-chrome"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55288">55288</a> pdf.js progressive rendering floods OX logs with &quot;Connection reset by peer&quot; errors on Chrome</h4> <p>Superfluous error logging for common case when client/end-user abruptly aborts the HTTP connection.<para>This has been fixed by adjusting logging for common case when client/end-user abruptly aborts the HTTP connection.</p> <h4 id="55271-file-name-incorrect-japanese-characters"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55271">55271</a> File name incorrect Japanese characters</h4> <p>Fullwidth digits were replaced in file names.<para>This has been solved by allowing fullwidth digits in file names.</p> <h4 id="55044-oxtender-for-outlook-destroys-smime-signature"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55044">55044</a> OXTender for Outlook destroys SMIME signature</h4> <p>Possible empty line after multipart preamble was not maintained.<para>Force a blank line before start boundary when writing out multipart content to solve this issue.</p> <h4 id="54802-duplicate-entry-for-key-primary-error-on-update-7-8-2-to-7-8-4"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54802">54802</a> Duplicate entry for key PRIMARY Error on Update 7.8.2 to 7.8.4</h4> <p>Names were written to user attributes table with possible leading and/or trailing whitespaces.<para>This has been fixed by checking for duplicate user attributes after any leading and trailing whitespaces were removed.</p> <h2 id="patch-release-4377-2017-10-20"><a name="4377"></a>Patch Release 4377 (2017-10-20)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev13</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev13</li> <li>Open-Xchange Office-web 7.8.4-rev5</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="55551-expires-drop-down-in-share-link-dialog-not-displayed-in-ie11"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55551">55551</a> &quot;Expires&quot; drop-down in share link dialog not displayed in IE11</h4> <p>MS Internet Explorer 11 has problems with auto height when bottom css attribute is set to 100%.<para>This has been solved by setting bottom to auto if the browser is IE 11.</p> <h4 id="55455-contacts-export-and-have-eol"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55455">55455</a> Contacts export and have EOL</h4> <p>LF character was used as line terminator in exported CSV files. Outlook was not able to handle those files.<para>This has been solved by using CRLF sequence as line terminator in exported CSV files.</p> <h4 id="55453-open-xchange-cluster-upgrade-package-not-seen-for-7-8-3-to-7-8-4-upgrade"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55453">55453</a> Open-xchange-cluster-upgrade package not seen for 7.8.3 to 7.8.4 upgrade</h4> <p>Added missing Hazelcast invalidation packages and accompanying bundles for v7.8.3 and v7.8.4 to solve this issue.</p> <h4 id="55425-unclear-behaviour-on-versioning-when-uploading-files-upper-lower-case"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55425">55425</a> Unclear behaviour on versioning when uploading files upper/lower case</h4> <p>File name check was case-sensitive.<para>Now file names check ignoring case to have a standardized procedure.</p> <h4 id="55363-default-text-style-are-not-retained-in-compose-page-after-pressing-backspace"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55363">55363</a> Default text style are not retained in compose page after pressing backspace</h4> <p>Styles were applied manually and get cleared after deleting the last letter in mailcompose.<para>This has been fixed by using tinymce option &#39;forced_root_block_attrs&#39; and apply custom style and identifier class.</p> <h4 id="55345-dovecot-allows-to-add-more-rules-than-configured-for-redirect-in-sieve_max_redirects"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55345">55345</a> Dovecot allows to add more rules than configured for redirect in sieve_max_redirects</h4> <p>Middleware ignored MAXREDIRECTS.<para>Now Middleware limits redirect commands and &quot;redirect&quot; actions are limited according to the MAXREDIRECTS setting.</p> <h4 id="55285-wrong-sender-account-when-replying-to-email-addresses-with-upper-case-letters"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55285">55285</a> Wrong sender account when replying to email addresses with upper-case letters</h4> <p>Check was case sensitive.<para>This has been fixed by comparing case insensitive and fix the sync-async problem for the fallback.</p> <h4 id="55273-logout-ends-up-in-a-white-page"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55273">55273</a> Logout ends up in a white page</h4> <p>Was caused by a problem with deleted files of running OX Documents when logging out.<para>This has been solved by rejecting promise in this error case in the quit handler.</p> <h4 id="54750-to-with-idn-scrambled-after-reply"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54750">54750</a> TO: with IDN scrambled after reply</h4> <p>The mail sent by thunderbird does not contain the ASCII representation of the mail address. Instead it contains the unexpected IDN representation.<para> This was fixed in javax.mail as it deals with unexpected mail content. Try to parse with the default java charset. If ASCII is provided (as expected) nothing will change.</p> <h2 id="patch-release-4354-2017-09-18"><a name="4354"></a>Patch Release 4354 (2017-09-18)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev11</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev11</li> <li>Open-Xchange AppSuite documentconverter 7.8.4-rev5</li> <li>Open-Xchange Mailapp 1.4.1-rev2</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="55380-standalone-document-converter-doesn-t-start-anymore-after-last-upgrade"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55380">55380</a> Standalone Document Converter doesn’t start anymore after last upgrade</h4> <p>After upgrading a standalone document converter node, the open-xchange-documentconverter-server daemon doesn’t start anymore. This has been fixed by adding new bundles to launcher.</p> <h4 id="55265-high-load-on-configdb-db-readslave"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55265">55265</a> High load on configdb DB ReadSlave</h4> <p>Excessive querying of all context identifiers, likely caused by unnecessarily &quot;per node&quot; initialization of default attachment storage cleaner. Solution: Efficient retrieval of distinct context identifiers per schema and refactored default attach- ment storage cleaner to be managed as cluster task (runs only once, no more per node).</p> <h4 id="55254-rename-delete-folders-in-ox-drive-not-possible"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55254">55254</a> Rename / delete folders in OX Drive not possible</h4> <p>Creation of trash and public folders on demand was removed. This has been solved by reenabling the creation of trash and public folder on demand.</p> <h4 id="55240-sharing-link-can-not-selected-on-a-mobile-device"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55240">55240</a> Sharing link can not selected on a mobile device</h4> <p>Copy button was disabled for Safari because of API limitations. This has been solved by enabling the button for Safari again, meanwhile Safari supports the required API.</p> <h4 id="55229-japanese-text-is-garbled-in-app-suite"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55229">55229</a> Japanese text is garbled in App Suite</h4> <p>Some Japanese characters are not display correctly (garbled) in emails. This has been fixed by using &quot;x-windows-iso2022jp&quot; charset in case Javas &quot;iso-2022-jp&quot; charset yields unmapped characters.</p> <h4 id="55200-capabilities-checks-performed-against-mailfilter-instead-of-mailfilter-v2"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55200">55200</a> Capabilities checks performed against &quot;mailfilter&quot; instead of &quot;mailfilter v2&quot;</h4> <p>Even though the <code>mailfilter.v2</code> API is the one being used, capability checks were done against the legacy to <code>mailfilter</code> API. This has been solved by setting capability check to <code>mailfilter v2</code>.</p> <h4 id="55175-mail-module-does-not-render-thumbnails-for-txt"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55175">55175</a> Mail Module does not render thumbnails for .txt</h4> <p>This has been solved by adding <code>txt</code> to regex of supported file extensions for preview.</p> <h4 id="54956-post-install-script-not-uses-com-openexchange-mail-filter-prefergssapi-true"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54956">54956</a> Post install script not uses <code>com.openexchange.mail.filter.preferGSSAPI=true</code></h4> <p>When updating from 7.8.3 consider the case where users preferred GSSAPI as SASL mech and set the new <code>c.o.mail.filter.preferredSaslMech</code> accordingly to solve this issue.</p> <h4 id="54468-status-of-a-multi-file-incorrect"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54468">54468</a> Status of a multi-file incorrect</h4> <p>If a file uplaod was running and a second file upload is started, the upload time were not calculated new. Fixed time estimation as increased collection size was not taken into account during calculation.</p> <h4 id="51093-switch-to-parent-folder-leads-to-hidden-root-for-external-storages"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51093">51093</a> &quot;Switch to parent folder&quot; leads to hidden root for external storages</h4> <p>The root folder is &quot;9&quot; for Drive, but for external storages it is &quot;1&quot;. When the root is reached, the overview is shown. The check if the root is reached only considered &quot;9&quot; and therfor did not work when using external storage accounts. This has been fixed by checking also for folder id &quot;1&quot; for external storages.</p> <h2 id="patch-release-4328-2017-09-05"><a name="4328"></a>Patch Release 4328 (2017-09-05)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev10</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev10</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="55251-unused-libraries-were-shipped"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55251">55251</a> Unused libraries were shipped</h4> <p>Removed unused libraries from <code>com.openexchange.preview</code> bundle.</p> <h4 id="55199-custom-mail-filters-break-due-to-changes-in-com-openexchange-mail-filter-json-v2"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55199">55199</a> Custom mail filters break due to changes in <code>com.openexchange.mail.filter.json.v2</code></h4> <p>Command registries are not properly registered as services. Properly register comand registries for new v2 API to solve this.</p> <h4 id="55171-mail-modules-does-not-render-thumbnails-for-tiff-and-psd"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55171">55171</a> Mail Modules does not render thumbnails for TIFF and PSD</h4> <p>Missing handling for .psd and .tiff in mail preview. This has been solved by adding PSD and TIFF support to preview list.</p> <h4 id="55100-errors-regarding-logback-mbean-after-update-to-7-8-3"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55100">55100</a> Errors regarding logback mbean after update to 7.8.3</h4> <p>In case the <code>com.openexchange.java-commons.logback-extensions</code> bundle has not been started an attempt to register its MBean failed. Await availability of Logstash Socket Appender instance prior to attempting to register its MBean to solve this issue.</p> <h4 id="55096-dragging-a-folder-into-drive-in-app-suite-ui-results-in-unspecific-error"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55096">55096</a> Dragging a folder into Drive in App Suite UI results in unspecific error</h4> <p>Wrong folders detection on MS Windows. Improved detection to solve this issue.</p> <h4 id="55084-onboarding-shows-eas-configuration-without-permissions"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55084">55084</a> Onboarding shows EAS configuration without permissions</h4> <p>Missing implementation for mobile view. This has been solved by adding missing implementation.</p> <h4 id="55082-burger-menu-back-to-login-not-working"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55082">55082</a> Burger menu &quot;Back to login&quot; not working</h4> <p>Was caused by a missing extension. Added missing extension to solve this problem.</p> <h4 id="55075-attendent-can-change-the-participant-status-of-appointment-creator-in-shared-calendar"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55075">55075</a> Attendent can change the participant status of appointment creator in shared calendar</h4> <p>UI changed response so it looked like the currently logged in user confirmed the appointment. This has been fixed by using the actual user that confirmed instead of the currently logged in user.</p> <h4 id="55057-folder-structure-order-for-the-default-folders-are-changed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55057">55057</a> Folder structure order for the default folders are changed</h4> <p>This was caused by a wrong client side order of the folder. This has been fixed by changing client side order to: inbox, drafts, sent, spam, trash, archive.</p> <h4 id="55042-inconsistency-when-selecting-an-empty-folder-in-the-mail-tab"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=55042">55042</a> Inconsistency when selecting an empty folder in the Mail tab</h4> <p>The text &quot;Empty&quot; is shown initially when selecting a empty mail folder but not when the user did tap on other folders and then returns back. Second visit calls busy twice that breaks the &quot;visibile-invisible-chain&quot;. This has been fixed by using a robust implementation that utilizes busy and idle.</p> <h4 id="54879-quotes-in-email-local-part-not-allowed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54879">54879</a> Quotes in email local part not allowed</h4> <p>Possible quotes (&quot;) in local part of an E-Mail address were handled as special characters. Now orderly handle quotes in local part of an E-Mail address to solve this issue.</p> <h4 id="54232-file-names-are-case-sensitive"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54232">54232</a> File names are case sensitive</h4> <p>The filename reservation logic recorded possibly conflicting filenames in a map using case-sensitive keys. This has been solved by tracking possibly conflicting filenames ignoring case.</p> <h2 id="patch-release-4318-2017-08-21"><a name="4318"></a>Patch Release 4318 (2017-08-21)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev9</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev9</li> <li>Open-Xchange Documentconverter-API 7.8.4-rev4</li> </ul> <h3 id="fixed-vulnerabilities">Fixed Vulnerabilities</h3> <h4 id="54915-cve-2017-12885"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54915">54915</a> CVE-2017-12885</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h4 id="54838-cve-2017-12885"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54838">54838</a> CVE-2017-12885</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h4 id="54592-cve-2017-12885"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54592">54592</a> CVE-2017-12885</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h4 id="54579-cve-2017-12884"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54579">54579</a> CVE-2017-12884</h4> <p>CVSS: 3.6 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:N/A:N)</p> <h4 id="54578-cve-2017-12885"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54578">54578</a> CVE-2017-12885</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="54955-no-scrollbar-for-signature-list"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54955">54955</a> No scrollbar for signature list</h4> <p>Smart dropdown uses &quot;auto&quot; as height parameter, but numeric calculations with strings are impossible. Error in calculation where &quot;auto&quot; was assumed to be a number.</p> <h4 id="54944-subject-line-with-utf-8-characters-are-jumbled-up"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54944">54944</a> Subject line with UTF-8 characters are jumbled up</h4> <p>Mixed encoded values are not properly combined. Properly combine mixed encoded values to solve this issue.</p> <h4 id="54894-e-mail-gets-only-displayed-partly"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54894">54894</a> E-mail gets only displayed partly</h4> <p>Mail uses absolute positioning. Email exceeded internal limit (32KB) for specific post-processing. Raise size limit for that particular post-processing to 128KB for Chrome, 64KB for other browsers to display those emails.</p> <h4 id="54877-tasks-cannot-be-deleted"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54877">54877</a> Tasks cannot be deleted</h4> <p>Duplicate entries were written to the <code>del_task</code> folder table. This has been fixed by only writing the most current ones.</p> <h4 id="54863-restart-of-more-than-one-middleware-nodes-take-a-long-time"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54863">54863</a> Restart of more than one middleware nodes take a long time</h4> <p>This has been solved by avoiding too many request to all possible DB-Schemas and improving start-up of middleware nodes for setups holding millions of contexts.</p> <h4 id="54820-datetime-in-calendar-page-is-partially-hidden"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54820">54820</a> Datetime in Calendar page is partially hidden</h4> <p>With this fix the Japanese date format were changed to the shorter hh:mm version.</p> <h4 id="54802-duplicate-entry-for-key-primary-error-on-update"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54802">54802</a> Duplicate entry for key PRIMARY Error on update</h4> <p>Inexact SQL expression to remove duplicate entries from <code>user_attribute</code> table. This has been fixed by deleting duplicate entries by their UUID association.</p> <h4 id="54797-csv-import-wrong-birthday"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54797">54797</a> CSV import wrong birthday</h4> <p>Added dynamic date format for user locale to solve this issue.</p> <h4 id="54796-photo-taken-by-ipad-with-ox-drive-does-not-show-up-in-app-suite"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54796">54796</a> Photo taken by iPad with OX Drive does not show up in App Suite</h4> <p>Consider proper image dimension when performing auto-rotate of JPEG images to solve this issue.</p> <h4 id="53959-an-i-o-error-occurred-connection-reset-by-peer"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53959">53959</a> An I/O error occurred: Connection reset by peer</h4> <p>Client/end-user abruptly aborts the HTTP connection while writing out the content of a ZIP archive. This has been solved by adjusting logging for common case when client/end-user abruptly aborts the HTTP connection.</p> <h4 id="53947-monthly-calendar-view-does-not-scroll-to-previous-month"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53947">53947</a> Monthly calendar view does not scroll to previous month</h4> <p>Previous month scrollposition was unreachable due to endless scrolling. This has been fixed by drawing an additional month if trying to scroll to the first drawn month.</p> <h4 id="53454-a-imap-folder-called-user-is-visible"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53454">53454</a> A IMAP folder called &quot;user&quot; is visible</h4> <p>&quot;user&quot; folder remained in child listing of root folder. Orderly drop single namespace folders from LSUB collection to solve this issue.</p> <h4 id="52719-prefetched-documents-are-not-used-by-the-viewer"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52719">52719</a> Prefetched documents are not used by the viewer</h4> <p>In some cases like PDF source content or previously rendered files, a ManagedFile was returned although the request contained an <code>async</code> flag. This has been solved by ignorring ManagedFiles at all whenever <code>async</code> flag is set at request and return a JSON Object with element <code>{&quot;async&quot;:true}</code> in such cases.</p> <h2 id="patch-release-4304-2017-08-07"><a name="4304"></a>Patch Release 4304 (2017-08-07)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev8</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev8</li> <li>Open-Xchange Guard 2.8.0-rev8</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="54790-getting-quota-does-not-work-anymore"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54790">54790</a> Getting quota does not work anymore</h4> <p>When requesting quota information for non-existing file storage accounts a runtime exception was thrown instead of properly handling the case. This has now been corrected.</p> <h4 id="54774-sending-user-feedback-fails-with-empty-smtp-auth-values"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54774">54774</a> Sending user feedback fails with empty SMTP auth values</h4> <p>When sending user feedback as CSV file via mail, empty SMTP authentication configuration settings would prevent sending the mail. We added a potential solution for this, however did not have nec- essary information to reproduce the original problem. Therefor this fix has to be validated by the requesting customer.</p> <h4 id="54702-rename-folder-pop-up-not-closing"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54702">54702</a> Rename folder pop-up not closing</h4> <p>The dialog to rename a folder in App Suite would not close under very special conditions. This has been researched and a potential workaround got applied. The effectiveness of this solutions needs to be validated for the environment in question.</p> <h4 id="54701-unable-to-copy-raw-image-content-to-mail-compose-with-ie11"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54701">54701</a> Unable to copy raw image content to mail compose with IE11</h4> <p>When copying raw image content from apps like MS Paint to mail compose, rather than just adding that image via drag&amp;drop or the provided composer options, its content did not get pasted when using IE11. This has been corrected for this particular case, however note that copy&amp;paste is implemented very inconsistently across browsers and operating systems, other cases will potentially not work as expected since the browser does not provide necessary information to web applications.</p> <h4 id="54673-same-timestamp-shown-for-drafts-in-multiple-composers"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54673">54673</a> Same timestamp shown for drafts in multiple composers</h4> <p>When composing multiple mails at the same time, the date/time information when the mail has been saved as draft was added to all open composer windows and did overwrite the actual date. This has been solved so that each composer window shows the correct saving date.</p> <h4 id="54580-issues-with-parsing-plain-text-links-in-mail"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54580">54580</a> Issues with parsing plain-text links in mail</h4> <p>Certain E-Mails did contain combinations of text that led to incorrect hyperlink detection. This got solved by parsing links at plain-text mails less greedy.</p> <h4 id="54534-socket-monitoring-support"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54534">54534</a> Socket monitoring support</h4> <p>To allow debugging potential network and remote service issues more efficiently, we added sup- port to log connection status and usage metrics for each socket that gets opened to an external system (e.g. Database, IMAP). See Change SCR-24 for more information.</p> <h4 id="54453-account-help-page-missing"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54453">54453</a> Account help page missing</h4> <p>A particular help page for external accounts was incorrectly linked, this has been corrected.</p> <h4 id="54437-contact-collector-not-working"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54437">54437</a> Contact collector not working</h4> <p>Collecting contact information while reading mail was not working when combining specific mail handling (seen/unseen) in combination with contact collection. This has been solved.</p> <h4 id="52637-unable-to-print-encrypted-mails"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52637">52637</a> Unable to print encrypted mails</h4> <p>Encrypted mails could not be printed after decrypting. This has been fixed.</p> <h4 id="51194-ability-to-disable-adding-attachments-to-pim-apps-via-configuration"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51194">51194</a> Ability to disable adding attachments to PIM apps via configuration</h4> <p>A new frontend-side configuration option has been added to disable the &quot;add attachment&quot; area when creating or editing PIM objects. Note that this is purely cosmetic and does not affect other clients than OX App Suite. See Change #4301 for more information.</p> <h2 id="patch-release-4285-2017-07-24"><a name="4285"></a>Patch Release 4285 (2017-07-24)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev7</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev7</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="54723-busy-circle-never-stops-on-attachment-uploads"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54723">54723</a> Busy circle never stops on attachment uploads</h4> <p>Tried to create previews for documents for local files. This has been solved by not trying to create previews for documents for local files.</p> <h4 id="54593-no-error-message-if-import-limit-is-reached"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54593">54593</a> No error message if import limit is reached</h4> <p>No warning given in case number of imported items were truncated. This has been fixed by adding warning if number of imported objects were truncated.</p> <h4 id="54529-drive-mail-drive-attachment-counting-filesize-against-upload-limit"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54529">54529</a> Drive mail drive attachment counting filesize against upload limit</h4> <p>Any mail attachment appended to the new message has been checked against upload quota limitation. Only consider uploaded file (mail attachments) when checking upload quota limitation to solve this issue.</p> <h2 id="patch-release-4257-2017-07-10"><a name="4257"></a>Patch Release 4257 (2017-07-10)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev6</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev6</li> <li>Open-Xchange EAS 7.8.4-rev5</li> <li>Open-Xchange Office 7.8.4-rev4</li> <li>Open-Xchange Office-Web 7.8.4-rev4</li> </ul> <h3 id="fixed-vulnerabilities">Fixed Vulnerabilities</h3> <h4 id="54403-cve-2017-9809"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54403">54403</a> CVE-2017-9809</h4> <p>CVSS: 3.1 (CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)</p> <h4 id="54402-cve-2017-9808"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54402">54402</a> CVE-2017-9808</h4> <p>CVSS: 3.3 (CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N)</p> <h4 id="54321-cve-2017-9808"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54321">54321</a> CVE-2017-9808</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h4 id="54320-cve-2017-9808"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54320">54320</a> CVE-2017-9808</h4> <p>CVSS: 5.4 (CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:N)</p> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="54532-confusing-error-message-folder-inbox-has-been-closed-on-mail-server"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54532">54532</a> Confusing error message &quot;Folder INBOX has been closed on mail server&quot;</h4> <p>Confusing displayed error message. Solution: Rephrased error messages dealing about connectivity issues to mail server to have a more user-friendly information. Moreover added the &quot;Please try again later.&quot; suffix to hint to a possibly temporary nature of the issue.</p> <h4 id="54454-multiple-contact-selection-works-only-on-2nd-try"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54454">54454</a> Multiple contact selection works only on 2nd try</h4> <p>No previous selection when there actually was an item selected. This has been solved by using the correct selection.</p> <h4 id="54377-generating-missing-md5-sums-on-filestore-objects-causes-high-read-load"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54377">54377</a> Generating missing MD5 sums on filestore Objects causes high read load</h4> <p>There might be situations where the metadata for stored infostore documents does not indicate the referenced files MD5 checksum. This may be the case for files that were stored more than 4 years ago, or for files that have been uploaded in chunks, e.g. during a migration. When synchronizing via OX Drive, the missing checksums for those files are calculated on demand, which requires the files to be retrieved from the underlying storage. When having many or very large files where the checksum needs to be calculated for, this may lead to an increased read load which may impact other processes and systems in the installation. This has been fixed by providing functionality to calculate missing file checksums on demand.</p> <h4 id="54349-edge-crashes-on-large-attachments"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54349">54349</a> Edge crashes on large attachments</h4> <p>Too much memory and CPU usage by canvas resize. Integrate canvas resize into our lazyload mechanism so not every picture is processed simultaniously to solve this issue.</p> <h4 id="54348-attachment-filename-wrong-when-forward-email"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54348">54348</a> Attachment filename wrong when forward email</h4> <p>Building the forwarded mail calling setHeader erased the header information about file name. This has been solved by calling <code>setHeader</code> first and set the file name header afterwards.</p> <h4 id="54311-unable-to-send-mail-with-onboard-external-account-as-sender"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54311">54311</a> Unable to send mail with onboard external account as sender</h4> <p>A SMTP server which responds with non standards-compliant multi-line greeting on socket connect messed up parsing of server’s capabilities. This has been solved by dealing with multi-line greetings from SMTP server.</p> <h4 id="54262-no-timeout-message-if-loading-modules-fails"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54262">54262</a> No timeout message if loading modules fails</h4> <p>No error message on require timeout. This has been fixed by adding timeout message and reload option with longer timeout (30 seconds).</p> <h4 id="54177-creating-folders-or-renaming-folders-to-prefix-a-or-b-does-not-show"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54177">54177</a> Creating folders or renaming folders to prefix A- or B- does not show</h4> <p>The folder title gets not re-rendered after a title change. Now after a title change also the folder title gets re-rendered.</p> <h4 id="53965-incorrect-japanese-translation-for-unread-which-appears-in-the-sort-by-menu"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53965">53965</a> Incorrect Japanese translation for &quot;Unread&quot; which appears in the &quot;Sort by&quot; menu</h4> <p>Adjusted the translation to solve this.</p> <h4 id="53964-incorrect-translation-for-unread-messages-in-japanese-translation"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53964">53964</a> Incorrect translation for &quot;Unread messages&quot; in Japanese translation</h4> <p>Adjusted the translation to solve this.</p> <h4 id="53963-filter-rule-description-text-in-the-folder-picker-with-language-japanese"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53963">53963</a> Filter rule description text in the Folder picker with Language: Japanese</h4> <p>Adjusted the translation to solve this.</p> <h4 id="53962-japanese-translation-issues-in-address-picker"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53962">53962</a> Japanese translation issues in Address Picker</h4> <p>Adjusted one translation and added a new translation to the Address Picker.</p> <h4 id="53961-bcc-is-incorrectly-translated-as-bbc-in-japanese-translation"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53961">53961</a> BCC is incorrectly translated as BBC in Japanese translation</h4> <p>Adjusted the translation to solve this.</p> <h4 id="53454-a-imap-folder-called-user-is-visible"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53454">53454</a> A IMAP folder called &quot;user&quot; is visible</h4> <p>Leftover namespace folder remains in LIST/LSUB collection. This has been fixed by adding a special check that cares about dropping leftover namespace folders.</p> <h2 id="patch-release-4233-2017-06-26"><a name="4233"></a>Patch Release 4233 (2017-06-26)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev5</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev5</li> <li>Open-Xchange documentconverter 7.8.4-rev4</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="54315-incompatibility-with-sieve-rules"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54315">54315</a> Incompatibility with SIEVE rules</h4> <p>When running OX App Suite 7.8.3 and 7.8.4 against a shared mail environment, SIEVE filter rules could unintentionally affect each other, for example auto-forward and vacation notice. This got fixed by retaining commented script content which is unknown to the 7.8.4 implementation.</p> <h4 id="54181-config-cascade-inconsistency-for-value-pairs"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54181">54181</a> Config-cascade inconsistency for value pairs</h4> <p>Certain value pairs where not correctly distributed by the config cascade mechanism, especially those related to services that use oAuth for authentication. We solved this by making those properties config-cascade aware.</p> <h4 id="54136-incorrect-permission-restriction-when-moving-folders-in-drive"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54136">54136</a> Incorrect permission restriction when moving folders in Drive</h4> <p>When moving/copying a folder from a external storage service to folder of the primary OX Drive storage service, a permission related error was thrown. This got solved by properly setting administrator privileges to the creator of a OX Drive folder while copying/moving in folders from external services.</p> <h4 id="54133-sharing-dialog-stuck-when-sharing-locked-file"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54133">54133</a> Sharing dialog stuck when sharing locked file</h4> <p>When attempting to share a file which is locked, the sharing dialog did not close when canceling the operation. This got solved by handling potential errors related to locks when trying to share a file.</p> <h4 id="54069-fuzzy-fallback-for-unsupported-languages"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54069">54069</a> Fuzzy fallback for unsupported languages</h4> <p>In certain cases the frontend language did fall back to german instead of english. This got fixed by setting a explicit fallback to en_US if the browser provides a unsupported language and no previously set OX language cookie.</p> <h4 id="54067-outdated-unsupported-browsers-message"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54067">54067</a> Outdated &quot;unsupported browsers&quot; message</h4> <p>OX App Suite UI did display incorrect recommendations for mobile browsers when using such as a desktop browser. This has been solved and we&#39;re now showing recommendations for mobile browsers only when using a mobile device.</p> <h4 id="54042-unable-to-update-dates-with-japanese-locale"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54042">54042</a> Unable to update dates with Japanese locale</h4> <p>When defining start/end dates at the calendar on mobile browsers, the supplied data did not get taken over to the appointment. This was caused by incompatibility of a date/time format library with specific languages and has been fixed by making sure the same date/time format is used at all related components.</p> <h4 id="54041-missing-schema-information-for-database-timeout-errors"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54041">54041</a> Missing schema information for database timeout errors</h4> <p>In case a database connection reported a communication failure or timeout, the specific database schema was not part of the exception. This has now been added to allow simple debugging of affected database clusters.</p> <h4 id="54034-missing-recipient-when-removing-and-modifying-recipients"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=54034">54034</a> Missing recipient when removing and modifying recipients</h4> <p>In cases where the original recipients (To, Cc) of a mail got removed during compose and re-added later, the resulting mail was sent without recipient information. This got fixed by properly handling events related to tokens that display participants.</p> <h4 id="53980-high-cpu-load-caused-by-documentconverter"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53980">53980</a> High CPU load caused by documentconverter</h4> <p>Changes to documentconverter led to higher than usual base CPU load. This impact got reduced by lowering a queue polling time to a value which offers a good compromise between queue responsiveness and &quot;idle&quot; CPU load.</p> <h4 id="53958-more-debug-background-for-exceptions-related-to-closed-imap-folders"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53958">53958</a> More debug background for exceptions related to closed IMAP folders</h4> <p>In case a IMAP backend did close a connection due to technical issues or timeouts, the resulting stack-trace at OX App Suite middleware was rather generic. This has been improved in a way that we now show the related IMAP command to allow better debugging. This issue has to be validated in production environments that show such unexpected behavior.</p> <h4 id="53923-quick-reply-disappears-after-the-first-reply"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53923">53923</a> Quick reply disappears after the first reply</h4> <p>When using &quot;quick reply&quot; to answer a mail, this option will disappear. We changed the behavior in a way that the option stays available after using it.</p> <h4 id="53916-adding-local-files-opens-camera-app-on-ios"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53916">53916</a> Adding local files opens camera App on iOS</h4> <p>When using OX App Suite UI with Safari on iOS, the action to add a local attachment resulted in immediate launch of the camera App. We now trigger a selection menu which offers to either use the camera or access existing photos on the device.</p> <h4 id="53913-vacation-notices-could-not-be-activated-for-aliases"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53913">53913</a> Vacation notices could not be activated for aliases</h4> <p>When setting a vacation notice, it was not possible to define a alias address for the notice instead of the primary address. This got fixed by more consistent checks for mail aliases.</p> <h4 id="53688-contacts-with-katakana-yomi-fields-were-sorted-as-other"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53688">53688</a> Contacts with Katakana &quot;yomi&quot; fields were sorted as &quot;other&quot;</h4> <p>When using Japanese language settings and subsequently &quot;yomi&quot; contact fields, those contacts were sorted incorrectly as &quot;other&quot;, which got solved.</p> <h4 id="53671-specific-mails-produced-empty-printouts"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53671">53671</a> Specific mails produced empty printouts</h4> <p>When printing specific mails that define CSS, the created print version did not show substantial content. This got fixed by dropping certain CSS elements from our whitelist that could lead to broken layouts. See Change #4204.</p> <h4 id="53649-folder-ids-were-shown-in-pim-objects-attachment-details"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53649">53649</a> Folder IDs were shown in PIM objects attachment details</h4> <p>For PIM objects with attachments we did show the hyperlinks pointing to OX Drive instead of the corresponding App. To avoid confusion we did visually remove those links as they provide almost no functionality.</p> <h4 id="53474-duplicate-recipients-when-sending-mail"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53474">53474</a> Duplicate recipients when sending mail</h4> <p>When sending a mail to all appointment participants the resulting mail compose did contain duplicates of the expected recipients. This got solved by detecting and removing the currently logged in user from that list.</p> <h4 id="53437-inconsistency-for-thumbnails-and-image-preview"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53437">53437</a> Inconsistency for thumbnails and image preview</h4> <p>Certain file formats (tiff, psd, pbm) were shown as thumbnail preview while not being supported in image preview. To ensure consistency we added support for tiff and psd files to image preview.</p> <h4 id="53313-unable-to-edit-name-used-for-mail-on-mobile"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53313">53313</a> Unable to edit name used for mail on mobile</h4> <p>When using OX App Suite UI on a mobile browser, updates to a E-Mail addresses &quot;personal part&quot; at mail compose were not reflected to the selected mail address. This got solved by updating the corresponding element after the change has happened.</p> <h2 id="patch-release-4180-2017-06-14"><a name="4180"></a>Patch Release 4180 (2017-06-14)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite backend 7.8.4-rev4</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev4</li> <li>Open-Xchange EAS 7.8.4-rev4</li> </ul> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="53900-1st-out-of-two-google-mail-account-does-not-work-after-adding-2nd-out-of-two-google-calender-abo"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53900">53900</a> 1st (out of two) Google Mail Account does not work after adding 2nd (out of two) Google Calender Abo</h4> <p>When updating an OAuth account (applying a new name), the enabled scopes was accidentally reseted.<para>This has been solved by not touching OAuth account&#39;s enabled scopes when updating its name.</p> <h4 id="53795-pop3-external-account-messages-retrieved-are-duplicated"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53795">53795</a> POP3 External account: messages retrieved are duplicated</h4> <p>Certain POP3 server&#39;s do not obey to advertise UIDLs with at max. 70 characters.<para>This has been fixed by extending the &quot;uidl&quot; column in &quot;pop3_storage_ids&quot; and &quot;pop3_storage_deleted&quot; tables from 70 to 128 characters as some POP3 server advertise bigger UIDL values. An Updatetask will be triggered with this fix.</p> <h4 id="53690-fields-considered-for-sorting-categorizing-contacts-inconsistent"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53690">53690</a> Fields considered for sorting / categorizing contacts inconsistent</h4> <p>A contact&#39;s (yomi-) firstname was not taken into account during sort name generation in case no (yomi-) lastname was set.<para>This has been solved by using combination of (yomi-) last- and firstname per default as sort name.</p> <h4 id="53689-yomi-fields-not-available-visible-with-non-japanese-language-setting"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53689">53689</a> Yomi fields not available / visible with non-Japanese language setting</h4> <p>Missing feature for other languages.<para>Added new setting and feature to make yomi fields with other languages.</p> <h4 id="53688-contacts-with-katakana-yomi-fields-are-sorted-and-categorized-as-other"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53688">53688</a> Contacts with Katakana &quot;yomi&quot; fields are sorted and categorized as &quot;other&quot;</h4> <p>Only hiragana in sorting table.<para>Extend table with katakana to solve the first part. When yomi was given with Half-width Katakana it is still not sorted correctly, this will be fixed with an upcomming patch.</p> <h4 id="53340-appointment-status-of-participant-not-updated-via-eas"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53340">53340</a> Appointment status of participant not updated via EAS</h4> <p>The list of confirmations was not part of the USM sync-state.<para>USM syncs now the list of confirmations from the backend to solve this issue.</p> <h4 id="53233-no-appropriate-folder-storage-for-tree-identifier-0-and-folder-identifier-label"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53233">53233</a> No appropriate folder storage for tree identifier &quot;0&quot; and folder identifier &quot;label&quot;</h4> <p>Used dummy folder_id &#39;label&#39;.<para>This has been fixed by using &#39;virtual/label&#39; now to avoid that an invalid ID is used in server requests.</p> <h2 id="release-7-8-4-2017-05-23"><a name="2147483647"></a>Release 7.8.4 (2017-05-23)</h2> <h3 id="shipped-components-and-versions">Shipped Components and Versions</h3> <ul> <li>Open-Xchange AppSuite middleware 7.8.4-rev3</li> <li>Open-Xchange AppSuite frontend 7.8.4-rev3</li> <li>Open-Xchange USM 7.8.4-rev3</li> <li>Open-Xchange EAS 7.8.4-rev3</li> <li>Open-Xchange Updater 7.8.4-rev3 (6.18.33)</li> <li>Open-Xchange Drive restricted 7.8.4-rev3</li> <li>Open-Xchange Documents 7.8.4-rev3</li> <li>Open-Xchange Documents Frontend 7.8.4-rev3</li> <li>Open-Xchange Readerengine 7.8.4-rev3 (5.2.3)</li> <li>Open-Xchange Documentconverter 7.8.4-rev3</li> <li>Open-Xchange Documentconverter API 7.8.4-rev3</li> <li>Open-Xchange OXtender for Microsoft Outlook 7.2.25</li> <li>Open-Xchange Notifer 1.0.6</li> </ul> <h3 id="fixed-vulnerabilities">Fixed Vulnerabilities</h3> <h4 id="53077-cve-2017-8340"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53077">53077</a> CVE-2017-8340</h4> <p>CVSS: 3.1 (CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N)</p> <h4 id="53073-cve-2017-8340"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53073">53073</a> CVE-2017-8340</h4> <p>CVSS: 3.1 (CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N)</p> <h4 id="52843-cve-2017-8340"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52843">52843</a> CVE-2017-8340</h4> <p>CVSS: 3.1 (CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:N/I:L/A:N)</p> <h4 id="52255-cve-2017-6912"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52255">52255</a> CVE-2017-6912</h4> <p>CVSS: 4.3 (CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)</p> <h4 id="52066-cve-2017-8341"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52066">52066</a> CVE-2017-8341</h4> <p>CVSS: 3.1 (CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:N/I:L/A:N)</p> <h4 id="52040-cve-2017-6913"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52040">52040</a> CVE-2017-6913</h4> <p>CVSS: 5.3 (CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N)</p> <h4 id="51863-script-code-execution-for-text-comments"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51863">51863</a> Script code execution for text comments</h4> <p>Replacing single quotes in fast load string of OX Text. CVE-2017-6913.</p> <h4 id="51667-task-folder-names-exposed-in-error-cases"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51667">51667</a> Task folder names exposed in error cases</h4> <p>Adjusting error messages to avoid exposing folder names when triggering errors based on folder IDs. CVE-2016-10078.</p> <h4 id="51622-pim-attachment-permissions-are-not-evaluated-on-saveas"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51622">51622</a> PIM attachment permissions are not evaluated on saveAs</h4> <p>Fixed folder/object permission plausibility checks when using certain API calls to move data internally. CVE-2017-6912, credits to Iordache Cosmin.</p> <h4 id="51480-xss-filter-bypass-using-html-comments"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51480">51480</a> XSS filter bypass using HTML comments</h4> <p>Improved detection for corrupt HTML with regards to HTML comments. CVE-2017-5864, credits to Zoczus.</p> <h4 id="51474-import-style-references-are-not-sanitized-from-html-mail"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51474">51474</a> @import style references are not sanitized from HTML mail</h4> <p>Allow only valid CSS elements at HTML mail and removing external references. CVE-2017-5864, credits to Secator.</p> <h4 id="51464-bypass-for-safe-file-detection-using-multipart-mimetypes"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51464">51464</a> Bypass for &quot;safe file&quot; detection using multipart mimetypes</h4> <p>Disallow to manually specify a file&#39;s MIME type when uploading such content. CVE-2017-5864, credits to Secator.</p> <h4 id="51407-stored-xss-for-custom-calendar-timezones"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51407">51407</a> Stored XSS for custom calendar timezones</h4> <p>We&#39;re handling timezone information more carefully now since it&#39;s potentially user-provided data. CVE-2017-5864, credits to R00trus.</p> <h4 id="51219-xss-filter-bypass-using-multiple-levels-of-open-tags"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51219">51219</a> XSS filter bypass using multiple levels of open tags</h4> <p>Hard error in case HTML cannot be parsed to its individual segments/tags. Content which cannot be parsed and sanitized will no longer be delivered to the client. This might affect broken/malformed legitimate mails but also attempts to bypass HTML filters. CVE-2017-5864, credits to ZeeShan.</p> <h4 id="51202-xss-filter-bypass-using-html-comments"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51202">51202</a> XSS filter bypass using HTML comments</h4> <p>Hard error in case HTML cannot be parsed to its individual segments/tags. Content which cannot be parsed and sanitized will no longer be delivered to the client. This might affect broken/malformed legitimate mails but also attempts to bypass HTML filters. CVE-2017-5864, credits to Zoczus.</p> <h4 id="51164-external-image-protection-bypass-via-css"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51164">51164</a> External image protection bypass via CSS</h4> <p>Disallow &#39;list-style-image&#39; style element which can be used to include external content and track users. CVE-2017-5210, credits to Iordache Cosmin.</p> <h4 id="51069-missing-permission-checks-for-snippets"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51069">51069</a> Missing permission checks for snippets</h4> <p>Check if snippet/signature is either shared or owned by the user that attempts to delete/modify it. Deny operation if condition is not satisfied and return with an error. CVE-2017-5863, credits to Iordache Cosmin.</p> <h4 id="51058-folder-names-exposed-via-ical-import"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51058">51058</a> Folder names exposed via ical import</h4> <p>Sanitized error message by dropping folder name from user-visible error message and replaced name by numeric identifier for the technical log message. CVE-2016-10078, credits to Iordache Cosmin.</p> <h4 id="51039-xss-at-rss-feed-content"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51039">51039</a> XSS at RSS feed content</h4> <p>RSS &quot;text/xhtml&quot; content is now being pre-processed by sanitizer. CVE-2017-5864, credits to Iordache Cosmin.</p> <h4 id="51038-missing-permission-check-when-deleting-reminders"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51038">51038</a> Missing permission check when deleting reminders</h4> <p>Added an additional layer for reminders between JSON and SQL which performs permission checks. CVE-2017-5863, credits to Iordache Cosmin.</p> <h4 id="50943-xss-at-e-mail"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50943">50943</a> XSS at E-Mail</h4> <p>We&#39;re now handling global event handlers (onerror, onabort, etc.) as unsafe and remove them during sanitizing. CVE-2016-10077, credits to Zoczus.</p> <h4 id="50940-html-map-element-can-be-used-for-tabnabbing"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50940">50940</a> HTML &quot;map&quot; element can be used for tabnabbing</h4> <p>Added area elements to &quot;noopener&quot; mechanism. CVE-2017-5211, credits to Zoczus.</p> <h4 id="50893-reflected-content-for-api-account"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50893">50893</a> Reflected content for /api/account</h4> <p>Removed user input at the response of the Accounts API which could be used for content spoofing. CVE-2017-5211, credits to Ahmed Abdalla.</p> <h4 id="50849-self-xss-at-mail-signature-editor"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50849">50849</a> Self-XSS at mail signature editor</h4> <p>We added client-side sanitizers at the mail signature editor to avoid self-XSS in addition to server-side filters that remove malicious code at persistent data. CVE-2017-5213.</p> <h4 id="50764-autofill-on-form-areas-can-be-used-to-steal-credentials"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50764">50764</a> Autofill on &quot;form&quot; areas can be used to steal credentials</h4> <p>We removed &quot;form&quot; and &quot;input&quot; elements from the HTML sanitizing white-list. Note that this will remove such kind of content in legitimate mails. CVE-2017-5210, credits to Zoczus.</p> <h4 id="50760-tabnabbing-using-form-tags"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50760">50760</a> Tabnabbing using &quot;form&quot; tags</h4> <p>We now prevent form submit, open a new window manually, nulling window.opener, redirect the form to the new window and then manually submit the form. In addition we removed &quot;form&quot; and &quot;input&quot; elements from the HTML sanitizing white-list. Note that this will remove such kind of content in legitimate mails. CVE-2017-5211, credits to Zoczus.</p> <h4 id="50748-svg-can-be-used-to-set-cookies"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50748">50748</a> SVG can be used to set cookies</h4> <p>Perform sanitizing on SVG files to remove meta tags that can be used to set/overwrite cookies. CVE-2017-5213, credits to Abiral Shrestha.</p> <h4 id="50739-permissions-for-task-attachments-not-correctly-evaluated"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50739">50739</a> Permissions for task attachments not correctly evaluated</h4> <p>Check if underlying task is accessible in the parent folder when accessing attachments. CVE-2017-5212, credits to Iordache Cosmin.</p> <h4 id="50737-xss-with-snippets"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50737">50737</a> XSS with Snippets</h4> <p>We&#39;re now considering Javascript content from personal &quot;snippets&quot; as potentially harmful and reject &quot;inline&quot; use. CVE-2017-5213, credits to Secator.</p> <h4 id="50734-xss-via-isindex-tags"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50734">50734</a> XSS via &quot;isindex&quot; tags</h4> <p>Proper handling of combined characters during HTML sanitizing. CVE-2016-10077, credits to Zoczus.</p> <h4 id="50733-task-folder-names-leaked-to-arbitrary-users"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50733">50733</a> Task folder names leaked to arbitrary users</h4> <p>Removed the task folder name at error responses when calling a folder by its ID. CVE-2016-10078, credits to Iordache Cosmin.</p> <h4 id="50723-xss-at-mail-body"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50723">50723</a> XSS at mail body</h4> <p>Proper handling of combined characters during HTML sanitizing. CVE-2016-10077, credits to Zoczus.</p> <h4 id="50721-reflected-content-for-api-apps-load"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50721">50721</a> Reflected content for /api/apps/load</h4> <p>Removed user input at the response of the Apps API which could be used for content spoofing. CVE-2017-5211, credits to Ahmed Abdalla.</p> <h4 id="50715-uploaded-images-are-available-to-all-users"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50715">50715</a> Uploaded images are available to all users</h4> <p>Adding user-based permission checks in addition to UUIDs to avoid access to foreign images at OX Documents. CVE-2016-10078, credits to Secator.</p> <h4 id="50382-xss-filter-bypass-at-mail"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50382">50382</a> XSS filter bypass at mail</h4> <p>Added greedy/repetitive detection of possibly malformed HTML-tags to avoid follow-up issues with HTML sanitizing. CVE-2016-10077, credits to ZeeShan.</p> <h3 id="fixed-bugs">Fixed Bugs</h3> <h4 id="53674-broken-filenames-for-certain-japanese-file-attachments"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53674">53674</a> Broken filenames for certain Japanese file attachments</h4> <p>The &quot;name&quot; and &quot;filename&quot; attributes of Content-Type were incorrectly parsed, which led to broken attachment file names when using certain encodings. This got solved.</p> <h4 id="53457-unread-counter-not-updating-correctly"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53457">53457</a> Unread counter not updating correctly</h4> <p>When moving a mail to the &quot;Trash&quot; folder, in some cases the unread counter was incorrectly updated. This has been solved by making such &quot;move&quot; operations more robust for the counter.</p> <h4 id="53456-unable-to-parse-certain-broken-mails"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53456">53456</a> Unable to parse certain broken mails</h4> <p>Mails with broken Content-Type headers at their MIME part could not always be rendered. We added some workarounds in order to attempt parsing and displaying such mails.</p> <h4 id="53451-errors-when-importing-specific-csv"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53451">53451</a> Errors when importing specific CSV</h4> <p>Some CSV data did trigger errors during import, caused by incorrect mappings for &quot;Marital status&quot; and &quot;Employee ID&quot; and the attempt to import read-only values like &quot;Object ID&quot;. This got solved by adjusting the mapping and skip list.</p> <h4 id="53434-database-timeouts-when-executing-logincounter-clt"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53434">53434</a> Database timeouts when executing &quot;logincounter&quot; CLT</h4> <p>The &quot;logincounter&quot; CLT did use excessive and unoptimized queries when generating statistics. In combination with millions of data sets this could lead to database timeouts and subsequently unusable output. We enhanced that function to use chunk-wise querying and processing of such kind of data.</p> <h4 id="53368-ui-does-not-load-but-also-not-redirect-to-unsupported-html-for-msie-9-0"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53368">53368</a> UI does not load but also not redirect to unsupported.html for MSIE 9.0</h4> <p>Latest code changes make IE9 unusable.<para>Now sending MSIE 9 users to the unsupported HTML file.</p> <h4 id="53282"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53282">53282</a></h4> <h4 id="53267-folder-inconsistencies-when-changing-a-users-password"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53267">53267</a> Folder inconsistencies when changing a users password</h4> <p>Parts of the folder representation is cached and in cases where the users password got changed without terminating its session this cache was outdated and led to problems with standard folders like &quot;Sent&quot;. This got solved by looking up those folders via mail accounts API rather than using a cache.</p> <h4 id="53249-unable-to-remove-pop3-accounts"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53249">53249</a> Unable to remove POP3 accounts</h4> <p>In special cases where the corresponding IMAP folder of a POP3 account got manually deleted, there were issues removing the associated POP3 account. Other issues were related to the attempt of deleting the same account multiple times. Those got fixed.</p> <h4 id="53216-slow-rendering-when-composing-mails-to-many-recipients"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53216">53216</a> Slow rendering when composing mails to many recipients</h4> <p>In case of more than 50 recipients for a mail, the mail compose dialog became a bit unresponsive. This was caused by unnecessary requests to contact images and got solved by allowing to asynchronously load such images as well as reducing the amount of requests.</p> <h4 id="53158-missing-documentation-for-oauth-scope-configuration"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53158">53158</a> Missing documentation for oAuth scope configuration</h4> <p>Configuration description about oAuth and related scopes got added at <url><a href="https://documentation.open-xchange.com">https://documentation.open-xchange.com</a></url>.</p> <h4 id="53139-google-oauth-subscriptions-were-not-assigned"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53139">53139</a> Google oAuth subscriptions were not assigned</h4> <p>In some cases the assignment of a Google oAuth account did break, usually when adding multiple accounts. In such cases the reference was made to the default Google account rather than the account associated to a subscription. This got fixed and the correct account is referenced now.</p> <h4 id="53127-dav-links-for-tasks-and-maybe-for-others-too-are-displayed-although-they-are-not-accessible-at-all"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53127">53127</a> DAV Links for Tasks (and maybe for others too) are displayed although they are not accessible at all</h4> <p>Missing check if task folder is private.<para>Added missing check to solve this issue.</p> <h4 id="53100-mail-is-not-being-displayed-blocking-other-from-being-displayed-in-inbox"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53100">53100</a> Mail is not being displayed, blocking other from being displayed in INBOX</h4> <p>This was due to missing recovery for an unsupported character-encoding.<para>This has been solved by handling possible unsupported character-encoding.</p> <h4 id="53095-unable-to-use-oauth-accounts-after-permission-downgrade"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53095">53095</a> Unable to use oAuth accounts after permission downgrade</h4> <p>If a scope for a oAuth account got defined (e.g. to access a external calendar) and the corresponding OX account got downgraded to lose access to calendar, accessing the oAuth account was not possible anymore. This got improved by handling unexpected absence of scope and corresponding Apps.</p> <h4 id="53087-second-google-calendar-subscription-does-not-show-calendar-contents"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53087">53087</a> Second Google calendar subscription does not show calendar contents</h4> <p>The actual OAuth account associated with a subscription has not been considered, but always the default Google OAuth account was referenced.<para>Solution: Consider the actual OAuth account that is associated with a subscription. Info: Popup Blocker may not be active.</p> <h4 id="53023-message-with-truncated-subject"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53023">53023</a> Message with truncated subject</h4> <p>Subsequent base64-encoded strings are not combinable if individual values end with padding &#39;=&#39; character.<para>This has been fixed by not combine padded base64-encoded values, but decode them separately.</p> <h4 id="53008-html-content-is-invalid-and-cannot-be-displayed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=53008">53008</a> HTML content is invalid and cannot be displayed</h4> <p>Weird start tag segments in real-world HTML messes-up HTML parser refusing to process the content any further.<para>Solution: Better deal with malformed start tags in real-world HTML content.</p> <h4 id="52959-layout-issue-with-sharing-on-mobile"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52959">52959</a> Layout issue with sharing on mobile</h4> <p>When sharing a link on smartphone devices, the dialog was displayed in a way that the input field for recipients of the link was not shown. This has been solved by allowing to scroll that section into the viewport on small screens.</p> <h4 id="52928-attachment-not-shown"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52928">52928</a> Attachment not shown</h4> <p>In email with attachments which have different cid and id it was not possible to show all attachments.<para>Make sure attachments do not have a cid attribute when added to a collection to solve this issue.</p> <h4 id="52798-missing-appointments-in-outlook"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52798">52798</a> Missing appointments in Outlook</h4> <p>In special cases, a list of deleted change exceptions for recurring appointments was provided by Outlook to USM, which led to an exception and subsequently incomplete sync. This got fixed by considering this case.</p> <h4 id="52797-autoconfiguration-fails-for-hotmail-yahoo-live-domains"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52797">52797</a> Autoconfiguration fails for hotmail/yahoo/live domains</h4> <p>Thunderbird&#39;s ISPDB for auto-configuration changed.<para>Changed default value for property &quot;com.openexchange.mail.autoconfig.ispdb&quot; in file &#39;autoconfig.properties&#39; from &quot;<a href="https://live.mozillamessaging.com/autoconfig/v1.1/">https://live.mozillamessaging.com/autoconfig/v1.1/</a>&quot; to<br>&quot;<a href="https://autoconfig.thunderbird.net/v1.1/">https://autoconfig.thunderbird.net/v1.1/</a>&quot;.</p> <h4 id="52764-document-conversion-triggered-without-capability"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52764">52764</a> Document conversion triggered without capability</h4> <p>Even though a users did not have the &quot;document_preview&quot; capability assigned, calls to the Documentconverter API were made. This got solved by considering the users capability before executing such requests, for example when generating thumbnail previews for mail attachments.</p> <h4 id="52756-twitter-can-not-be-configured-anymore-case-sensitive-look-up-for-an-oauth-api-twitter-is-not-equal-to-twitter"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52756">52756</a> Twitter can not be configured anymore;Case-sensitive look-up for an OAuth API: &quot;Twitter&quot; is not equal to &quot;twitter&quot;</h4> <p>Case-sensitive look-up for an OAuth API: &quot;Twitter&quot; is not equal to &quot;twitter&quot;.<para>Perform ignore-case look-up by OAuth API identifier to solve this issue.</p> <h4 id="52751-creating-external-accounts-does-not-work-anymore"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52751">52751</a> Creating external accounts does not work anymore</h4> <p>Wrong detection if a mail account action was targeted for primary mail account.<para>Reliably check specified account identifier to determine primary account to solve this problem.</p> <h4 id="52730-misleading-indication-that-imap-folder-is-shared"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52730">52730</a> Misleading indication that IMAP folder is shared</h4> <p>In case IMAP ACLs just for &quot;see folder&quot; are granted, the &quot;this folder is shared&quot; indicator was displayed. While technically correct this is misleading to users since no content is actually shared. The handling has been changed to avoid displaying the indicator for this kind of ACL.</p> <h4 id="52729-missing-reload-when-clearing-trash-manually"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52729">52729</a> Missing reload when clearing Trash manually</h4> <p>When removing all mails within the Trash folder manually (select all, delete) instead of using the explicit function, the folder list was not reloaded. This got fixed by triggering a reload in such cases.</p> <h4 id="52727-ui-browser-blocked-stalled-when-dealing-with-huge-amounts-of-appointments"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52727">52727</a> UI/Browser blocked / stalled when dealing with huge amounts of appointments</h4> <p>To many operations in DOM-tree if having much appointments.<para>This has been fixed by disabling some functionality for a large Number of appointments.</p> <h4 id="52712-twitter-stream-not-shown-after-configuration"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52712">52712</a> Twitter stream not shown after configuration</h4> <p>Missing event in Keychain API led to this issue.<para>This has been fixed by adding an additional event, so portal plugins update correctly.</p> <h4 id="52675-html-mail-not-displayed-at-all"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52675">52675</a> HTML mail not displayed at all</h4> <p>Some mails were not displayed because <lt>style<gt> tag does not get closed while sanitizing mail&#39;s HTML content.<para>This has been fixed by orderly closing the <lt>style<gt> tag while sanitizing HTML content.</p> <h4 id="52633-drag-drop-of-a-huge-picture-into-a-html-mail-will-cause-the-jvm-to-oom-up-until-os-swapped"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52633">52633</a> Drag &amp; drop of a huge picture into a HTML-Mail will cause the JVM to OOM/ up until OS swapped</h4> <p>Configured image limitations were not tested when checking for validity of an uploaded image.<para>This has been solved by testing for image limitations when checking for validity of an uploaded image.</p> <h4 id="52607-inconsistent-naming-of-recurring-appointment-dialogs"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52607">52607</a> Inconsistent naming of recurring appointment dialogs</h4> <p>When changing or editing a recurring appointment, different dialogs with different naming were displayed. This got unified and changed to shorter naming in favor of small screen devices.</p> <h4 id="52606-show-hidden-files-setting-does-not-work-at-all"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52606">52606</a> Show hidden files setting does not work at all</h4> <p>Hidden files were not displayed because filter extensions for files were never called.<para>Invoked filter extension point to post process file list to solve this issue.</p> <h4 id="52534-disableschema-sessiondservice-is-used-but-not-registered-in-the-activator"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52534">52534</a> Disableschema: SessiondService is used but not registered in the activator</h4> <p>Required SessionD service was not orderly tracked.<para>This has been solved by properly tracking needed SessionD service.</p> <h4 id="52530-pop3-access-to-external-account-is-not-logged-by-auditlog"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52530">52530</a> POP3 access to external account is not logged by AuditLog</h4> <p>The tracked instance of AuditLogService was not orderly put into utilized service registry.<para>This has been fixed by properly putting tracked service into service registry.</p> <h4 id="52478-duplicate-registration-of-obfuscatorservice"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52478">52478</a> Duplicate registration of ObfuscatorService</h4> <p>Even though ObfuscatorService is implemented as a singleton, it got registered multiple times which led to error messages. Those did not affect functionality but led to higher log traffic than necessary. The problem got fixed by making sure ObfuscatorService gets registered just once.</p> <h4 id="52470-incorrect-detection-of-users-usm-capabilities"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52470">52470</a> Incorrect detection of users USM capabilities</h4> <p>In certain cases a users capabilities to use USM and related sync implementations got incorrectly detected. We solved that by sticking to the advertised module access permissions instead of dynamically resolving it.</p> <h4 id="52435-running-processes-instances-after-the-open-xchange-documentconverter-server-stop-script-on-rhel6"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52435">52435</a> running processes/instances after the open-xchange-documentconverter-server stop script on RHEL6</h4> <p>init script problems according to title / shutdown of ReaderEngine instances not reliable during DC server bundle shutdown, fixed init scripts, cleanup after migration for 7.8.2 / catching spurious exception during RE instance kill in Java bundle shut.</p> <h4 id="52433-incomplete-parsing-of-mailto-handler-at-mails"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52433">52433</a> Incomplete parsing of &quot;mailto&quot; handler at mails</h4> <p>In cases where a regular HTTP/HTTPS resource contains the subtring &quot;mailto&quot; like <br>&quot;<a href="http://www.mailtool.invalid">www.mailtool.invalid</a>&quot;, that link was incorrectly detected as mailto: handler and mail compose got opened rather than the URL. This got solved by just looking for mailto: at the beginning of a URL.</p> <h4 id="52391-empty-page-in-ui-settings-section-after-update"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52391">52391</a> Empty Page in UI settings section after update</h4> <p>JS error in yell function and only a empty settings page were displayed.<para>Made yell function more robust, so Settings do not break anymore.</p> <h4 id="52314-unicode-decoding-fails-for-multi-line-mail-subjects"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52314">52314</a> Unicode decoding fails for multi-line mail subjects</h4> <p>In case a E-Mail subject spans multiple lines where each consists of UTF-8 mail-safe base64 encoded characters, decoding partly failed and Unicode characters were displayed in a scrambled way. This has been solved by properly handling such split subjects and encoding each part independently.</p> <h4 id="52280-read-timeout-log-entries-when-using-folders-that-were-already-closed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52280">52280</a> Read timeout log entries when using folders that were already closed</h4> <p>Several log messages referred to a situation where access to a IMAP folder is attempted which got closed already. We added optimizations to lower the probability of such cases and handle them correctly instead of throwing an error.</p> <h4 id="52277-wrong-log-level-for-concurrent-updates-to-last-login"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52277">52277</a> Wrong log level for concurrent updates to last-login</h4> <p>In case two threads update a users &quot;last login&quot; information, a log message of level &quot;ERROR&quot; was logged. Since this is rather a temporary issue and can&#39;t be solved in retrospect we lowered its log level. Further optimizations made it less likely that this kind of issue would happen at all.</p> <h4 id="52238-typo-at-nrfiles-property-at-startscript"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52238">52238</a> Typo at NRFILES property at startscript</h4> <p>A typo at the <code>/opt/open-xchange/sbin/open-xchange</code> script led to a situation where custom configured &quot;nofiles&quot; limits where not correctly applied to the process. This has been solved by correcting the properties name and adding a log message to <code>open-xchange-console.log</code> in case the process fails to set this limit.</p> <h4 id="52231-open-xchange-documentconverter-jolokia-needs-open-xchange-documentconverter-client-package-to-be-installed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52231">52231</a> open-xchange-documentconverter-jolokia needs open-xchange-documentconverter-client package to be installed</h4> <p>Changed required packages from open-xchange-documentconverter to open-xchange-documentconverter-server in spec file</p> <h4 id="52161-missing-mails-on-mobile-devices-when-using-mail-categories"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52161">52161</a> Missing mails on mobile devices when using mail categories</h4> <p>When using mail categories with a desktop browser and moving mails to specific categories, those mails would not be displayed at Inbox anymore when using the same account using a mobile browser. We solved this by avoiding categorization Inbox if the corresponding feature set is not available on the currently used platforms.</p> <h4 id="52157-imap-master-auth-user-name-provided-to-client"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52157">52157</a> IMAP master-auth user name provided to client</h4> <p>In case of specific IMAP errors related to <code>EXPUNGE</code> commands, a detailed error message was returned to the user, which could contain a user-name for IMAP master authentication. This was solved by removing detailed error message contents for that IMAP command.</p> <h4 id="52156-imap-folder-names-shown-different-after-update"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52156">52156</a> IMAP folder names shown different after update</h4> <p>Due to external account refactoring in 7.8.3, the &quot;default0&quot; prefix for &quot;standard&quot; IMAP folders was shown at the frontend. This got fixed by stripping that prefix in places where users would expect just the folder name.</p> <h4 id="52151-drop-zone-for-eml-not-disappearing-if-a-file-is-not-dropped-with-firefox-on-windows"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52151">52151</a> Drop zone for .eml not disappearing if a file is not dropped with firefox on Windows</h4> <p>Firefox does not trigger <code>dragleave</code> or <code>mouseout</code> correctly.<para>This has been fixed by using <code>mouseenter</code> to remove the dropzone when the mouse enter the window without dragged files.</p> <h4 id="52123-unable-to-change-mail-account-name-with-certain-mail-configurations"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52123">52123</a> Unable to change mail account name with certain mail configurations</h4> <p>If a user was changing its mail account displayname while the middleware uses a &quot;global&quot;<br> <code>mailServerSource</code> setting, incorrect host names were applied. As a result the displayname could not be changed. We solved this by applying the appropriate host name to avoid erroneous responses during the operation.</p> <h4 id="52119-technical-messages-if-html-mail-exceeds-limits"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52119">52119</a> Technical messages if HTML mail exceeds limits</h4> <p>If a HTML mail exceeds pre-defined limits, a rather harsh message is displayed at the frontend. This got polished in order to show a user friendly representation.</p> <h4 id="52114-empty-page-printed-by-browser-in-thread-view"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52114">52114</a> Empty page printed by browser in thread view</h4> <p>Single mails are printed correctly when using native browser printing (CTRL+p) but mail threads were not printed. This got fixed by handling mail threads in a more compatible way and allowing native functions to get their relevant content.</p> <h4 id="52107-inconsistency-in-naming-order-for-external-accounts"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52107">52107</a> Inconsistency in naming order for external accounts</h4> <p>When changing the account name syntax of an external mail account, this change is not reflected to mail lists when reading mail sent and received by the same user. This got fixed by honoring a naming scheme which uses commas to separate last and firstname.</p> <h4 id="52104-untraceable-database-timeouts-during-share-cleanup"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52104">52104</a> Untraceable database timeouts during share cleanup</h4> <p>Once the <code>PeriodicCleaner</code> task for shares was executed, potential SQL errors could not be traced since the related schema name was unknown. To allow further debugging we added<para><code>com.openexchange.database.schema</code> as parameter for this cleanup run. It will highlight which database schema triggered timeouts or other errors.</p> <h4 id="52101-folder-9-is-not-visible-to-user-x-in-context-yy"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52101">52101</a> &#39;Folder &quot;9&quot; is not visible to user &quot;X&quot; in context &quot;YY&quot;</h4> <p>Caused by the changes for favorite folders, where favorite folders for every module were added to the collection pool. The favorite folder for drive has the parent with id &quot;9&quot;. When the UI is refreshed, all parents of all folders are listed. That causes every refresh to request the folder with id &quot;9&quot;.<para>This has been fixed by only adding favorite folders for modules with granted permission.</p> <h4 id="52100-permission-checks-avoid-changing-corrupt-users-signatures"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52100">52100</a> Permission checks avoid changing corrupt users signatures</h4> <p>In case a users signature contains a faulty &quot;createdby&quot; header on file-level, subsequent changes to that signature were rejected based on a permission evaluation. In order to accept inconsistent data within in the system, the permission check has been removed.</p> <h4 id="52095-missing-private-appointments-in-shared-folders-via-caldav"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52095">52095</a> Missing private appointments in shared folders via CalDAV</h4> <p>When sharing calendar folders and accessing them via CalDAV, appointments marked as &quot;private&quot; were not correctly synced. The same use-case works fine when using the HTTP API. This got fixed for CalDAV by considering this kind of appointment when creating responses.</p> <h4 id="52067-enter-a-text-in-the-search-bar-click-on-the-close-option-but-still-the-pop-up-with-the-text-is-not-closed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52067">52067</a> Enter a text in the Search bar. Click on the close option but still the pop up with the text is not closed</h4> <p>Now clear and close dropdown on cancel to solve this issue.</p> <h4 id="52022-incorrect-app-launched-from-external-accounts-page"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52022">52022</a> Incorrect App launched from external accounts page</h4> <p>When using the hyperlink for a external storage account at the Settings-<gt>Accounts page, no or the wrong App is launched. This has been corrected and a fallback to Drive was added.</p> <h4 id="52013-enhancements-to-imap-host-detection-and-logging"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=52013">52013</a> Enhancements to IMAP host detection and logging</h4> <p>To allow better debugging and monitoring of interaction between OX App Suite and IMAP backends, a new parameter was added to parse the IMAP backends &quot;greeting&quot; and provide it as part of the OX App Suite log. This behavior is configurable and described within release notes. When rolling out this Patch Release.</p> <h4 id="51967-missing-distribution-lists-in-outlook"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51967">51967</a> Missing distribution lists in Outlook</h4> <p>When syncing Outlook using USM, certain amounts and combinations of contacts and distribution lists could lead to a situation where only a subset of contacts but not all distribution lists got synced. This has been solved by sorting the type of object (contact, distribution list) prior to performing the sync operation. This way the kind of objects retrieved at the client side stays consistent in case the total amount of objects exceeds the chunk size for one sync operation.</p> <h4 id="51960-incorrect-font-for-mail-attachment-on-mobile"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51960">51960</a> Incorrect font for mail attachment on mobile</h4> <p>When using OX App Suite UI on a smartphone, the &quot;Attachments&quot; link within mail compose has been shown with incorrect font and color. This got fixed by applying proper mobile styles to this link.</p> <h4 id="51918-calendar-conflicts-with-utc-12-timezones"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51918">51918</a> Calendar conflicts with UTC+12 timezones</h4> <p>During conflict detection, the floating time-span of full-day appointments was calculated using the servers timezone (usually UTC) while other appointments used the timezone configured by the user. In cases where a large offset to UTC is present, there has been a 50/50 chance that appointments would conflict with full-day appointments at the previous or next day. We&#39;re now calculating both values using the users specific timezone for conflict handling. This should bring down the probability of incorrect conflicts considerably.</p> <h4 id="51910-huge-amount-of-threads-stops-ox"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51910">51910</a> Huge amount of threads stops OX</h4> <p>Did some improvements to avoid a crashing OX. Utilize a user-scoped lock mechanism to avoid having a global lock that might affect unrelated threads unnecessarily. Avoid duplicate remote session look-up.</p> <h4 id="51859-changed-api-behavior-leads-to-issues-with-file-uploads"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51859">51859</a> Changed API behavior leads to issues with file uploads</h4> <p>An earlier bugfix introduced a significant change to HTTP API behavior, any change to the MIME-Type parameter has been rejected as a result. While OX clients were unaffected, this led to an incompatibility with third-party clients when using the &quot;infostore&quot; API for uploading and modifying files. We reduced the scope of the change to block MIME-Types that start with &quot;multipart&quot; instead, this should not affect the vast majority of use-cases for this API.</p> <h4 id="51839-certain-serious-non-uce-ube-html-mail-is-not-displayed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51839">51839</a> Certain serious (non UCE/UBE) HTML mail is not displayed</h4> <p>Too greedy check for possibly malicious content led to this issue.<para>This has been solved by allowing properly parsed start tag.</p> <h4 id="51772-unable-to-modify-users-own-data"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51772">51772</a> Unable to modify users own data</h4> <p>In cases where the contact associated to the user account was created by the &quot;oxadmin&quot; account rather than the user itself, the user was unable to change its own contact data. Such situations may arise in specific provisioning implementations. Changing the contacts data is now possible again by correcting the mechanism to look up the oxadmin account as potential creator for the own contact.</p> <h4 id="51755-long-running-script-warnings-when-sending-mail-to-huge-recipient-list"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51755">51755</a> Long-running script warnings when sending mail to huge recipient list</h4> <p>When composing a mail to a list of several hundreds of recipients, browser warnings about unresponsive scripts occurred when trying to parse and tokenize the recipient list. The handling has been improved by 2-3x to allow a larger number of recipients.</p> <h4 id="51727-mail-icon-stills-appears-in-ui-even-though-mail-is-not-enabled"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51727">51727</a> Mail icon stills appears in UI even though mail is not enabled</h4> <p>Caused by missing capability check for disabling and hiding.This has been fixed by adding the missing check.</p> <h4 id="51700-guided-tours-showing-for-users-even-though-the-package-was-not-installed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51700">51700</a> Guided tours showing for users even though the package was not installed</h4> <p>Document tours are contained in documents-ui package, existence of standard tours package was not checked there.This has been solved by adding check for existence of standard tours package, do not show tours automatically if missing, hide settings menu entry.</p> <h4 id="51610-desktop-notifications-are-not-shown-for-negative-timezone-offsets"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51610">51610</a> Desktop notifications are not shown for negative timezone offsets</h4> <p>When configuring a negative timezone offset (e.g. UTC-5), desktop notifications would not be shown since the timestamp of newly received mails was checked against UTC rather than the users timezone.</p> <h4 id="51602-incorrect-encoding-when-using-imap-plain-authentication"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51602">51602</a> Incorrect encoding when using IMAP &quot;plain&quot; authentication</h4> <p>In case mailbox login names allow multi-byte Unicode characters, the login process would fail when using OX App Suite. This has been solved by applying the correct charset when performing the login procedure for mailboxes.</p> <h4 id="51594-drive-opens-wrong-files-directly-after-upload-wrong-link-in-ui"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51594">51594</a> Drive opens wrong files directly after upload - wrong link in UI</h4> <p>indexing mismatch between the DOM nodes representing the file items and the model entries holding the file data.<para>This has been solved by fixing the sort method.</p> <h4 id="51572-moving-files-with-and-without-description-not-working-in-drive"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51572">51572</a> Moving files with and without description not working in drive</h4> <p>App Suite UI just redid the same operation.<para>Solution: App Suite UI checks which files caused conflicts and only tries to redo those.</p> <h4 id="51570-only-one-warning-for-copy-multiple-files-with-description-in-drive"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51570">51570</a> Only one warning for copy multiple files with description in drive</h4> <p>Multiple response was not fully processed.<para>This has been fixed by processing full array.</p> <h4 id="51569-primary-mail-address-and-aliases-cannot-be-changed-at-the-same-time-if-the-old-primary-mail-address-should-be-an-alias"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51569">51569</a> Primary mail address and aliases cannot be changed at the same time if the old primary mail address should be an alias</h4> <p>During the createuser command an alias for the primary mail account is already added. This alias is equal to the upper case notation used in the create command. The change command now tries to add the same alias but with only lower case letters. This isn&#39;t recognized and therefore the middleware tries to insert this alias to the db again which results in the duplicate entry error.<para>Solution: Do a case independent check when comparing the old with the new aliases.</p> <h4 id="51548-moving-files-which-already-exist-result-in-duplicate-files-with-google-drive"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51548">51548</a> Moving files which already exist result in duplicate files with Google Drive</h4> <p>There was no name check performed for the move operations.<para>This has been fixed by adding the name check to the move operation.</p> <h4 id="51468-failing-to-parse-pre-auth-from-configuration"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51468">51468</a> Failing to parse pre-auth from configuration</h4> <p>Inappropriate invocation of &#39;MailConfig.doCustomParsing()&#39; lets Zimbra MAL connector fail to perform its own parsing of access information.<para>Solution: Do call &#39;MailConfig.doCustomParsing()&#39; regardless of passed parameters.</p> <h4 id="51462-full-day-appointments-could-not-be-converted-with-lightning"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51462">51462</a> Full-day appointments could not be converted with Lightning</h4> <p>When using Thunderbird/Lightning and CalDAV of OX App Suite, full-day appointments could not be converted back to normal appointments using the CalDAV client. The reason for this was a client-specific CalDAV header used to indicate full-day appointments which caused issues with Lightning. We removed this header if the associated user-agent does not expect it.</p> <h4 id="51399-repeated-mail-sending-when-using-outlook"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51399">51399</a> Repeated mail sending when using Outlook</h4> <p>In case a backend error did occur, like downtime of the mail storage, there could be situations where Outlook clients using USM get into a sending-loop, resulting to duplicated E-Mail. Those kind of errors are now handled by the USM API in accordance to the OX App Suite middleware error code.</p> <h4 id="51388-if-email-is-disabled-ox-docs-tour-should-not-show-send-as-email-icon"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51388">51388</a> If email is disabled, OX Docs tour should not show &quot;Send as email&quot; icon</h4> <p>Guided tour for OX Text does not display info about mail,if mail is not available</p> <h4 id="51368-bursts-of-warn-messages-filemanagement-internal-managedfilemanagementimpl-temporary-file-could-not-be-deleted-about-800-1000-day"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51368">51368</a> Bursts of WARN Messages: filemanagement.internal.ManagedFileManagementImpl ..Temporary file could not be deleted about 800-1000/day</h4> <p>Delete attempt does not check whether file is non-existing.<para>This has been fixed by properly checking if attempt is made to delete a non-existing file changed logging appropriately.</p> <h4 id="51357-no-participants-can-be-added-in-scheduling-with-ie11-after-an-update"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51357">51357</a> No participants can be added in Scheduling with IE11 after an update</h4> <p>IE has problems with flexbox styles.<para>This has been fixed by changing styles to fix the problem.</p> <h4 id="51356-missing-support-for-custom-login-sources-for-onboarding"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51356">51356</a> Missing support for custom login sources for onboarding</h4> <p>When using the &quot;onboarding wizard&quot; while having a custom login implementation running, some configuration templates could not be properly created since access to the correct credentials (e.g. mail address, login name) is not possible. This has been solved by offering the ability to integrate custom login sources.</p> <h4 id="51313-errors-when-adding-invitations-to-calendar-while-tasks-are-disabled"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51313">51313</a> Errors when adding invitations to calendar while tasks are disabled</h4> <p>There has been a dependency between the calendar and tasks App with regards to handling iCal files, which led to a situation that appointments could not be imported if tasks are disabled. This dependency has been relaxed to allow cases where either App is disabled.</p> <h4 id="51263-missing-function-returned-in-case-requested-files-could-not-be-found"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51263">51263</a> Missing function returned in case requested files could not be found</h4> <p>A earlier fix changed the response content when requesting a frontend related file. Instead of a function and a error message, just a error message was returned. As a result the web frontend could get stuck in case a file was not found. This has been solved by providing a similar response than earlier, just with obfuscated payload.</p> <h4 id="51222-big-text-file-load-endless-with-the-ui"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51222">51222</a> Big text file load endless with the UI</h4> <p>The client request didn&#39;t get a response.<para>With these changes the Viewer displays an error message if the file is too big to be loaded.</p> <h4 id="51207-error-message-shown-if-default-app-setting-is-empty"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51207">51207</a> Error message shown if &quot;default app&quot; setting is empty</h4> <p>In cases where a users configuration was damaged and the default App &quot;none&quot; has been selected, subsequent logins led to error messages. We&#39;re now falling back to the global default App if the provided App cannot be found.</p> <h4 id="51101-showruntimestats-a-errors-no-such-cache-oximapconcache"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51101">51101</a> <code>showruntimestats -a</code> errors: No such cache: OXIMAPConCache</h4> <p>OXIMAPConCache is an obsolete JCS cache. The StatisticTools was querying the JCSCacheInformation for that particular non existing cache. The same applies for MailConnectionCache and SessionCache.<para>This has been solved by removing the obsolete calls and corrected the error message.</p> <h4 id="51091-upload-to-external-filestorage-account-folder-does-not-abort-if-overquota-and-fails"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51091">51091</a> Upload to external filestorage account folder does not abort if overquota and fails</h4> <p>Missing error handling for overquota in multiple file upload.<para>This has been solved by checking error FLS-0024 and stop queue if this error appears. Also check for rate limit error. If one of those errors appear, the upload queue stops and removes all files from the queue.</p> <h4 id="51075-missing-translation-for-upload-progress-bar"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51075">51075</a> Missing translation for upload progress bar</h4> <p>When uploading files as Mail attachment or Drive object, the corresponding progress bar offered a &quot;Cancel&quot; button that was not translated.</p> <h4 id="51074-encoding-issues-with-passwords"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51074">51074</a> Encoding issues with passwords</h4> <p>In case certain operating systems got configured incorrectly, specifically RHEL6 and SLES11, usage of the <code>open-xchange-passwordchange-script</code> plugin could lead to incorrectly encoded passwords passed over to a script. This has been solved by adding an optional parameter as described by Change #4022 to allow base64 encoded transfer. Additionally, unexpected encoding configurations will get logged to <code>open-xchange-console.log</code> to alert operators about potential follow-up issues.</p> <h4 id="51053-appointment-invitations-get-duplicated-by-adding-attachments"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51053">51053</a> Appointment invitations get duplicated by adding attachments</h4> <p>Deactivated Notification pool combined with multiple uploads of attachments result in a single notification mail for each attachment.<para>Solution: Keep track of a batch of attachment uploads during the whole stack.</p> <h4 id="51018-munin-warning-updating-config_ox_java_heap"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51018">51018</a> Munin warning updating config_ox_java_heap</h4> <p>Non-existing mbean raised an error.<para>This has been fixed by removing mbean.</p> <h4 id="51017-munin-error-updating-last-error-in-ox_grizzly_tcpniotransport"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=51017">51017</a> Munin error updating last-error in ox_grizzly_TCPNIOTransport</h4> <p>Last error value was not a simple signed integer.<para>Check for &quot;N/A&quot;, will return 0 instead of &quot;N/A&quot; with this fix and will only fix<para> the problem for ox_grizzly_TCPNIOTransport.</p> <h4 id="50997-searching-inside-of-sent-mail-folder-always-shows-senders-name-in-results-column"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50997">50997</a> Searching inside of sent mail folder always shows senders name in results column</h4> <p>This has been solved by adding special handling in find App.</p> <h4 id="50991-exception-generating-imap-uri"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50991">50991</a> Exception generating IMAP URI</h4> <p>A possible scheme/port information in &quot;com.openexchange.mail.mailServer&quot; or<para>&quot;com.openexchange.mail.transportServer&quot; property was not properly handled.<para>This has been solved by using a structured object for the global mail/transport server configuration setting to also apply protocol, port, etc. (if specified).</p> <h4 id="50987-autostart-is-not-working-with-io-ox-settings-or-portal"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50987">50987</a> AutoStart is not working with io.ox/settings or portal</h4> <p>Settings is not a favorite App and is therefore ignored as autolaunch.<para>This has been solved by adding a special case for settings. Settings will not appear in the dropdown but can be set by the provider as default autoStart App.</p> <h4 id="50982-external-cloud-storage-number-of-items-in-folder-not-displayed-0-all-the-time"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50982">50982</a> External Cloud Storage: number of Items in folder not displayed - &#39;0&#39; all the time</h4> <p>Some file storage implementations are not returning a file count.<para>With this fix the file count is not displayed if the external storage returns no value for file count.</p> <h4 id="50965-restore-compose-application-pop-up-not-loading-with-7-8-3-upgrade"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50965">50965</a> Restore compose application pop up not loading with 7.8.3 upgrade</h4> <p>Introduced new value for ox.serverConfig.persistence: &quot;always&quot;. Only works with adjustment in custom bundles.</p> <h4 id="50964-enable-notification-sounds-play-sound-on-incoming-mail-not-working"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50964">50964</a> Enable Notification sounds - Play sound on incoming mail not working</h4> <p>Settings pane for message sound was displayed when no websocket support was available.<para>This has been solved by adding missing capability check.</p> <h4 id="50951-in-a-drive-with-documents-environment-drive-offers-to-send-by-mail"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50951">50951</a> In a &#39;Drive with Documents&#39; environment drive offers to send by mail</h4> <p>OXGuard extends &quot;send as mail&quot; ext.point, but the capabilities are NOT extended – now with manual check for capabilities.</p> <h4 id="50947-ox-documents-portals-dont-work-for-users-without-default-folders"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50947">50947</a> OX Documents Portals don&#39;t work for users without default folders</h4> <p>The implementation now checks the default template folder and use the user&#39;s default folder as a fallback.</p> <h4 id="50939-missing-context-menu-for-conversation-thread-view"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50939">50939</a> Missing context menu for conversation thread view</h4> <p>When using conversation (thread) view, the context menu was not added for each individual mail but for the whole thread and the first mail. This makes it hard to handle individual mails and got solved.</p> <h4 id="50918-timezone-issues-with-task-start-due-dates-on-negative-timezone-offsets"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50918">50918</a> Timezone issues with task start/due dates on negative timezone offsets</h4> <p>When defining a start or due date for tasks while using a negative UTC offset, the selected date would be reported incorrectly. This has been solved by adjusting the full-day handling for tasks to the calendar implementation which uses UTC.</p> <h4 id="50868-missing-translation-for-external-accounts"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50868">50868</a> Missing translation for external accounts</h4> <p>The &quot;My accounts&quot; page at &quot;Settings&quot; did contain untranslated strings for external account names, this got solved by making use of existing translation strings.</p> <h4 id="50837-birthday-on-1-1-1970-not-displayed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50837">50837</a> Birthday on 1.1.1970 not displayed</h4> <p>Timestamp for 1.1.1970 were interpreted as timestamp 0. Adjusted calculation from Birth Dates to solve this issue.</p> <h4 id="50835-report-doesnt-terminate-if-contexts-are-broken"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50835">50835</a> Report doesn&#39;t terminate if contexts are broken</h4> <p>In case of a context that never existed on the system, a lookup for all contexts in the same schema lead to endless attempts to get those contexts.<para>This has been fixed by adding the initial context to context list, if the database returns no values for the given context id. Add potential errors to output report.</p> <h4 id="50804-attached-vcards-could-not-be-removed-again"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50804">50804</a> Attached vCards could not be removed again</h4> <p>When adding own contact information to a Mail as vCard, that virtual attachment could not be removed afterwards. This was caused by an API change which is now reflected to mail compose.</p> <h4 id="50798-renaming-a-root-level-folder-which-contains-a-favorite-folder-will-lead-to-mailfolder-not-found-on-imap-server"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50798">50798</a> Renaming a root level folder which contains a Favorite Folder will lead to &quot;Mailfolder not found on IMAP Server&quot;</h4> <p>Missing checks if parent folders get renamed or removed.<para>This has been solved by looking for rename or removal of parent folders. On rename: anticipate changed path and keep folder. On remove: immediately remove affected favorites. This doesn&#39;t work if triggered by another client.</p> <h4 id="50738-not-possible-to-import-multiple-mappings-with-csv-file"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50738">50738</a> Not possible to import multiple mappings with CSV file</h4> <p>&quot;Addmapping&quot; value was not split by comma when supplying multiple login mappings via csv file at create context.<para>Now split multiple login mappings by comma during context creation from CSV file to solve this issue.</p> <h4 id="50714-oxtender-synchronization-fails-with-couldnt-determine-extra-fields-in-object-with-errors"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50714">50714</a> OXtender synchronization fails with Couldn&#39;t determine extra fields in object with errors</h4> <p>The ical analysis of an external invitation delivers an JSON object &quot;users&quot; without sub fields, especially without confirmation. This was unexpected by USM and produced an error, which led to a general sync error with OLOX.<para>Now the missing confirmation is accepted and initialized by USM with 0.</p> <h4 id="50706-ox-app-creates-too-many-imap-connections-and-not-closing-them"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50706">50706</a> OX APP Creates too many IMAP connections and not closing them</h4> <p>Unnecessary global lock that leads to stacking up threads.<para>This has been solved by removing unnecessary global lock from<para>&#39;com.openexchange.jslob.storage.db.DBJSlobStorage&#39; class for improved throughput.</p> <h4 id="50693-content-pane-folder-name-not-refreshed-when-renamed-on-external-storage"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50693">50693</a> Content pane folder name not refreshed when renamed on external storage</h4> <p>Error handling is now done inside the apps. If errors with external storages (or other folder errors) appear and that folder is currently selected, the App will change to the default folder and reload the parent folder.</p> <h4 id="50691-shared-links-to-external-storage-accounts-dont-work"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50691">50691</a> Shared links to external storage accounts don&#39;t work</h4> <p>It was possible to share folders of an external storage account as link to other internal users. Since those accounts are per-account, that link would not work though. Therefor we removed the option to send a link to such folders to other internal users.</p> <h4 id="50689-possible-to-lock-files-in-external-storages-when-not-supported"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50689">50689</a> Possible to lock files in external storages when not supported</h4> <p>The &#39;locks&#39; capability was not correct for some external storages.<para>Changed behavior: The file lock feature is disabled for every external storage. Lock does only work in the internal ox fileStore now.</p> <h4 id="50674-deleting-2-users-at-a-time-via-soap-results-in-a-database-deadlock"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50674">50674</a> Deleting 2 Users at a time via SOAP results in a database deadlock</h4> <p>Possible database deadlock on concurrent delete attempts for users in the same context.<para>Solution: Acquire a lock on user deletion to enforce queuing of concurrent delete calls.</p> <h4 id="50627-mail-content-not-displayed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50627">50627</a> Mail content not displayed</h4> <p>Malformed conditional comment (CC) causes to greedy detection of such a CC pattern in HTML content during sanitizing.<para>This has been fixed by dealing with malformed conditional comments.</p> <h4 id="50621-ox-crashed-one-node-jvm-permanently-on-gc-100-cpu-after-creating-an-heap-dump-error-looked-different-but-ox-still-does-not-react"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50621">50621</a> OX crashed - one node/JVM permanently on GC/100% CPU - after creating an heap dump error looked different but OX still does not react</h4> <p>Really weird HTML content inside a mail containing over 700 nested <lt>body<gt> start tag segments renders the routine running mad that tries to replace <lt>body<gt> tags with <lt>div<gt> tags for embedded display inside App Suite UI.<para>This has been fixed by avoiding excessive replacements of <lt>body<gt> tags inside such a really weird HTML content.</p> <h4 id="50598-missing-warnings-for-account-failures-at-unified-mail"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50598">50598</a> Missing warnings for account failures at unified mail</h4> <p>In case a external mail account cannot be used (e.g. because the password changed), there has not been a notification to the user in order to resolve the situation. This has been changed to provide warning messages when trying to accessing a unavailable account.</p> <h4 id="50574-expiry-dates-for-shares-cannot-be-changed-directly"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50574">50574</a> Expiry dates for shares cannot be changed directly</h4> <p>When sharing a object with expiry date, that expiry date was set to &quot;one month&quot; when editing the share afterwards. We solved that by no longer applying the default value when editing a share.</p> <h4 id="50570-not-possible-to-change-name-in-email-settings-if-global-configuration-is-used"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50570">50570</a> Not possible to change name in email settings if global configuration is used</h4> <p>MailConfig values were overwritten with wrong values.<para>This has been fixed by preventing overwriting in specific situations.</p> <h4 id="50527-mysql-databases-refuses-connection-because-of-too-many-connections-from-single-groupware-servers"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50527">50527</a> MySQL databases refuses connection because of Too Many connections from single groupware servers</h4> <p>Incrementing use-count for a lot of contacts associated with a certain E-Mail address causes too many INSERT statements to be issued, that do flood the MySQL service.<para>This has been solved by accumulating use-count incrementation through a batch statement and limit the number of updated contacts that are associated with the same address. That limit is configurable through property &quot;com.openexchange.contactcollector.searchLimit&quot; and defaults to &quot;5&quot;.</p> <h4 id="50519-not-possible-to-find-group-in-calendar-permissions-dialog"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50519">50519</a> Not possible to find group in calendar permissions dialog</h4> <p>Groups where not drawn due to a limit.<para>Now applying limit by result type so groups are drawn.</p> <h4 id="50518-email-module-burger-menu-create-filter-rule-is-not-responding"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50518">50518</a> Email module - Burger Menu - Create filter rule is not responding</h4> <p>Due to the deactivation of the &quot;address&quot; mailfilter the default values were not available.<para>This has been fixed by introducing a fall-back to the former &quot;header&quot; filter if &quot;address&quot; is not available.</p> <h4 id="50495-adjust-hover-color-in-ox-text-and-ox-spreadsheet"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50495">50495</a> Adjust “hover” color in OX Text and OX Spreadsheet.</h4> <p>Use the actual hover fade value as defined in current UI theme.</p> <h4 id="50478-impossible-to-add-two-or-more-different-gmail-accounts"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50478">50478</a> Impossible to add two or more different Gmail accounts</h4> <p>Initial assumption to re-use OAuth credentials was wrong.<para>Now OAuth credentials are not re-use when adding mail accounts.</p> <h4 id="50461-httpclientactivator-never-calls-services-setserviceregistry"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50461">50461</a> HTTPClientActivator never calls Services#setServiceRegistry</h4> <p>Services class was not initialized.<para>This has been solved by properly initialize the Services class.</p> <h4 id="50414-birthdays-in-the-portal-widget-side-popup-are-sometimes-a-day-off"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50414">50414</a> Birthdays in the portal widget/side-popup are sometimes a day off</h4> <p>Birthday calculation was slightly different in both views and apart from that even not correct for all cases.<para>This has been solved by using the same code for both views and also using a correct approach.</p> <h4 id="50412-edit-incorrect-email-address-in-to-or-cc-generates-duplicate-entries-and-phantom-entries"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50412">50412</a> Edit incorrect email address in to or cc generates duplicate entries and phantom entries</h4> <p>Collection and token field state gets messed up cause models ‘token’ attribute get updated within the ‘tokenfield:createtoken’ handler.<para>This has been fixed by redrawing Tokens only when the display name has changed.</p> <h4 id="50407-missing-hints-for-incorrect-server-startup"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50407">50407</a> Missing hints for incorrect server startup</h4> <p>In case syntax errors are present at YAML-style configuration files, the middleware did start up partly but apparently was not logging this situation clear enough for some operators. We improved error messages that are thrown once this happens to make it more clear.</p> <h4 id="50404-if-sharing-is-disabled-the-sharing-button-is-still-available-in-ox-documents"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50404">50404</a> If Sharing is disabled, the sharing button is still available in OX Documents</h4> <p>linked caps and implemented &quot;hide disabled elements&quot; feature</p> <h4 id="50381-further-e-mail-fields-not-shown-in-case-primary-mail-is-missing"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50381">50381</a> Further E-Mail fields not shown in case primary mail is missing</h4> <p>If multiple E-Mail addresses are stored for a contact but not &quot;E-Mail 1&quot; and neither Company nor Position are available a blank second line at the contacts list was displayed. This has been adjusted to fall back to &quot;E-Mail 2&quot; and &quot;E-Mail 3&quot; in case &quot;E-Mail 1&quot; is unavailable.</p> <h4 id="50342-calendar-colors-get-lost-on-printouts"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50342">50342</a> Calendar colors get lost on printouts</h4> <p>No custom label colors applied to template.<para>This has been solved by passing colorLabel identifier to html output.</p> <h4 id="50328-incorrect-cursor-placement-for-plain-text-signatures"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50328">50328</a> Incorrect cursor placement for plain-text signatures</h4> <p>When using default plain-text signatures and navigating with the TAB key, the cursor would be set at the end of the signature. This has been solved in a way that the cursor will be set to the beginning of the message.</p> <h4 id="50307-incorrect-translation-for-maximum-upload-size"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50307">50307</a> Incorrect translation for maximum upload size</h4> <p>When uploading several files which combined size exceed the maximum upload size, the related error message was related to the last file which got added. However, in such cases the error is related to the combined file size, therefor the wording has been adjusted.</p> <h4 id="50303-no-error-message-regarding-no-such-snippet-found-for-identifier-when-filestore-not-available-on-login"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50303">50303</a> No error message regarding &quot;No such snippet found for identifier:&quot; when filestore not available on login</h4> <p>This was caused by a missing hint that a file associated with a snippet/signature is (temporary) not available.<para>Restored logging in case the file associated with a snippet/signature is (temporary) not available: &quot;Missing file for snippet 1 for user X in context ctx_ID. Maybe file storage is (temporary) not available.&quot;</p> <h4 id="50258-categories-select-all-in-one-of-the-tabs-info-message-that-no-all-mails-all-selected-is-missing"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50258">50258</a> Categories - select all in one of the tabs - info message that no all mails all selected is missing</h4> <p>Added new message for &quot;select all&quot; in tabbed inbox, some translation will be provided with the next patch.</p> <h4 id="50244-task-title-truncated-does-not-use-all-available-space"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50244">50244</a> Task title truncated / does not use all available space</h4> <p>Media queries were not flexible enough.<para>This has been solved by using flex layout to use available space better (private and due time appear in this row too if set).</p> <h4 id="50232-renaming-a-folder-which-is-present-in-favorites-removes-it-from-favorites"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50232">50232</a> Renaming a folder which is present in Favorites removes it from Favorites</h4> <p>The folder ID changes, therefore the folder was lost on page reload.<para>This has been fixed by listening to ID changes and update and store favorites.</p> <h4 id="50230-connection-losses-to-logstash-go-unnoticed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50230">50230</a> Connection losses to Logstash go unnoticed</h4> <p>In case connection to a Logstash server gets interrupted, log messages will be lost. We introduced a buffer for such messages that gets filled in case the connection is temporarily unavailable.</p> <h4 id="50213-edit-draft-loads-endlessly"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50213">50213</a> Edit draft loads endlessly</h4> <p>Recognizing HTML input was not working correctly in all cases.<para>Now wrapping content with <lt>div<gt>...<lt>/div<gt> in those cases to solve this issue.</p> <h4 id="50176-dragging-an-email-from-desktop-to-mail-category-tab-is-not-working"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50176">50176</a> Dragging an email from desktop to mail-category tab is not working</h4> <p>No Handling for Drag &amp; Drop in mail-categories.<para>Added the missing Handling, first the mail is imported to the inbox and then moved to the category.</p> <h4 id="50135-help-not-context-sensitive-in-settings"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50135">50135</a> Help not context sensitive in settings</h4> <p>The app did not contain any information about contextual help.<para>This has been solved by showing context sensitive help in settings. External apps can also register their help pages on the extension point &#39;io.ox/settings/help/mapping&#39; in the function list.</p> <h4 id="50093-date-or-size-where-not-shown-as-column-headers-for-mail-attachment-view"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50093">50093</a> Date or size where not shown as column headers for mail attachment view</h4> <p>When sorting mail attachments by Size or Date, the corresponding column header was not show, this is now the case.</p> <h4 id="50043-possible-to-add-version-info-to-external-storage-files"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50043">50043</a> Possible to add version info to external storage files</h4> <p>Was caused by missing capability check for version comments.<para>This has been fixed by adding capability check for version comments.</p> <h4 id="50041-moving-files-with-description-to-external-storage-not-working"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50041">50041</a> Moving files with description to external storage not working</h4> <p>Missing translations were added.</p> <h4 id="50040-content-pane-not-refreshed"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50040">50040</a> Content pane not refreshed</h4> <p>After deleting a folder in a external storage account the view was not updated.<para>With this fix the view is updated after deleting a folder.</p> <h4 id="50039-problem-with-folder-rename-of-external-storage-providers"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50039">50039</a> Problem with folder rename of external storage providers</h4> <p>Dropbox identifies the folder through the path. New Files create all folders in their path by default. This is a special Dropbox behavior.<para>This has been solved by checking for folder existence before storing a file and return default &quot;folder does not exist exception&quot;.</p> <h4 id="50016-when-composing-an-email-the-signatures-do-not-get-refreshed-when-adding-initial-new-one"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=50016">50016</a> When composing an email, the signatures do not get refreshed, when adding initial/new one</h4> <p>This has been fixed by using standard listener.</p> <h4 id="49989-onboarding-wizard-connect-device-tile-does-not-fit-into-frame"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=49989">49989</a> Onboarding Wizard Connect Device Tile does not fit into frame</h4> <p>Max-width were applied on whole container.<para>This has solved by applying max-width for description only.</p> <h4 id="49979-guest-users-dont-get-deleted"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=49979">49979</a> Guest users don&#39;t get deleted</h4> <p>Guest user deletion triggers push listener removal for guests even if they might not have any push listener registered.<para>Solution: Consider webmail permission before removing push listeners within the user deletion process.</p> <h4 id="49864-full-day-appointment-will-be-displayed-as-a-regular-24h-appointment-on-android"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=49864">49864</a> Full-day appointment will be displayed as a regular 24h appointment on Android</h4> <p>Specific clients rely on a certain order of the EAS protocol elements. <lt>AllDayEvent<gt> shall be sent after <lt>StartTime<gt>,<lt>EndTime<gt>. Microsoft Exchange Server for example does this.<para>Sending <lt>AllDayEvent<gt> after <lt>StartTime<gt>,<lt>EndTime<gt>.</p> <h4 id="49781-email-list-email-address-displayed-instead-of-display-name-when-displayfrom-is-enabled"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=49781">49781</a> Email list: email address displayed instead of display name when DISPLAYFROM is enabled</h4> <p>Now show display name if DISPLAYFROM is set.</p> <h4 id="49731-missing-event-data-when-deleting-an-appointment-after-accepting-it"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=49731">49731</a> Missing event data when deleting an appointment after accepting it</h4> <p>The <code>Appointment</code> object at the <code>deleteDateFromNotoficationQueue</code> event was missing some typically unused data in cases where a participant deletes the appointment after accepting it. To allow compatibility with certain calendaring implementations, we now add a full <code>Appointment</code> object to the queue in such cases.</p> <h4 id="49236-huge-amount-of-mail-folder-could-not-be-found-on-mail-server-messages-for-non-existing-folders"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=49236">49236</a> Huge amount of Mail folder could not be found on mail server messages for non-existing folders</h4> <p>The message for &quot;Mail folder could not be found on mail server&quot; were known, actually by design, but not expected to happen that often.<para>The fix just excludes the inbox from the obfuscation, to reduce the amount of error messages.</p> <h4 id="49099-sporadic-crashes-in-uno-bridge-when-loading-csv-files-via-uno-with-format-string-given-via-filteroptions-string-property"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=49099">49099</a> sporadic crashes in UNO bridge when loading CSV files via UNO with format string given via FilterOptions string property</h4> <p>setting field delimter and text separators in RE SC code instead via UNO on DC server side</p> <h4 id="49083-e-mail-folder-action-delete-all-messages-ignores-overquota"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=49083">49083</a> E-Mail-Folder Action &#39;delete all messages&#39; ignores OVERQUOTA</h4> <p>Copy command was able to run into over-quota.<para>This has been fixed by using move operation for clear folder command in case move operation is supported by IMAP server.</p> <h4 id="48361-login-not-possible-if-folder-limit-is-reached"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=48361">48361</a> Login not possible if folder limit is reached</h4> <p>Adjusted login- and error-handling to solve this issue.<para>Special error code &quot;MSG-0113&quot; in case creation of default/standard folders fails with an &quot;over quota&quot; error was added. This Error will be displayed after login to the end-user.</p> <h4 id="47616-interval-setting-in-calendar-not-used"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=47616">47616</a> Interval setting in calendar not used</h4> <p>When setting a interval for calendar time scales, that interval was applied for time pickers and drag-lasso. Now this interval is also used for the calendar views time scale.</p> <h4 id="47229-mail-folder-menu-contains-sharing-and-permissions"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=47229">47229</a> Mail folder menu contains &quot;Sharing&quot; and &quot;Permissions&quot;</h4> <p>Capabilities of mail folders were incorrectly checked in case the mail system did not support permissions. As a result the context menu contained permission related actions which were not working as expected. We added a explicit check for environment where permission handling of own mailbox folders is disabled.</p> <h4 id="40632-collected-addresses-does-not-work-for-users-from-the-same-context"><a href="https://bugs.open-xchange.com/show_bug.cgi?id=40632">40632</a> Collected addresses does not work for users from the same context</h4> <p>In cases where multiple users are provisioned to the same context with the Global Address Book disabled, automatic contact collection of addresses that are present at the Global Address Book has not been performed. We changed the behavior to consider cases where the Global Address Book exists but cannot be accessed.</p> </div> </div> </main> <div class="scrollspy"> <ul id="affix-nav" class="nav hidden-xs" data-spy="affix"></ul> </div> <footer class="footer"> <div class="row"> <ul class="col-lg-12 main"> <li class="timestamp">Generated: 2017-11-06</li> <li class="target">© Open-Xchange 2017 - <a href="/7.8.4/docs-general/99_disclaimer.html" class="link">Impressum</a></li> </ul> </div> </footer> </div> <script src="/7.8.4/assets/main.js"></script> </body> </html>
