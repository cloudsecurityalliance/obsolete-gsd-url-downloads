<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="1198435 - (CVE-2015-4509) HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=1198435">
<meta property="og:description"
      content="VERIFIED (gsquelart) in Core - Audio/Video. Last updated 2016-07-02.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="defect">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="P1">

    <meta name="viewport" content="width=1024">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20211025.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;},&quot;string&quot;:{&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;is_new&quot;:1,&quot;login&quot;:&quot;&quot;}}">
    <title>1198435 - (CVE-2015-4509) HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=1198435&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="/showdependencygraph.cgi?id=1198435">

      <link rel="Show" title="Bug Activity"
            href="/show_activity.cgi?id=1198435">

<link href="/static/v20211025.1/skins/yui.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/EditComments/web/styles/inline-editor.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css">



    
<script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/jquery/jquery-min.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/yui.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/global.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/util.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/dropdown.js"></script>

      <script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"comments\":{\"cf_tracking_firefox41\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_sumo\":{\"none-needed\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox_esr38\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox42\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox43\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr78\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_relnote\":{\"?\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox_esr91\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox94\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox95\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox93\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_a11y_review_project_flag\":{\"requested\":\"Description:\\nPlease provide an explanation of the feature or change. Include a description of the user scenario in which it would be used and how the user would complete the task(s).\\nScreenshots and visual UI specs are welcome, but please include sufficient accompanying explanation so that blind members of the accessibility team are able to understand the feature\/change.\\n\\nHow do we test this?\\nIf there is an implementation to test, please provide instructions for testing it; e.g. setting preferences, other preparation, how to trigger the UI, etc.\\n\\nWhen will this ship?\\nTracking bug\/issue:\\nDesign documents (e.g. Product Requirements Document, UI spec):\\nEngineering lead:\\nProduct manager:\\n\\nThe accessibility team has developed the Mozilla Accessibility Release Guidelines which outline what is needed to make user interfaces accessible:\\nhttps:\/\/wiki.mozilla.org\/Accessibility\/Guidelines\\nPlease describe the accessibility guidelines you considered and what steps you\'ve taken to address them:\\n\\nDescribe any areas of concern to which you want the accessibility team to give special attention:\"}},\"types\":[\"tracking\"],\"flags\":{\"project\":{\"cf_a11y_review_project_flag\":\"---\",\"cf_webcompat_priority\":\"---\",\"cf_fission_milestone\":\"---\",\"cf_root_cause\":\"---\",\"cf_tracking_firefox_sumo\":\"---\"},\"tracking\":{\"cf_status_thunderbird_esr78\":\"---\",\"cf_status_thunderbird_esr91\":\"---\",\"cf_tracking_firefox_esr78\":\"---\",\"cf_tracking_firefox42\":\"+\",\"cf_tracking_thunderbird_esr91\":\"---\",\"cf_tracking_firefox_esr38\":\"41+\",\"cf_status_firefox93\":\"---\",\"cf_status_firefox95\":\"---\",\"cf_tracking_firefox94\":\"---\",\"cf_status_firefox43\":\"verified\",\"cf_status_firefox40\":\"wontfix\",\"cf_tracking_firefox_relnote\":\"---\",\"cf_tracking_firefox_esr91\":\"---\",\"cf_status_firefox_esr78\":\"---\",\"cf_status_firefox42\":\"verified\",\"cf_tracking_firefox43\":\"+\",\"cf_status_firefox_esr38\":\"verified\",\"cf_tracking_firefox41\":\"+\",\"cf_tracking_firefox95\":\"---\",\"cf_tracking_firefox93\":\"---\",\"cf_status_b2g_master\":\"fixed\",\"cf_status_firefox41\":\"verified\",\"cf_status_firefox94\":\"---\",\"cf_tracking_thunderbird_esr78\":\"---\",\"cf_status_firefox_esr91\":\"---\"}}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 1198435;
  BUGZILLA.bug_title = '1198435 - (CVE-2015-4509) HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)';
  BUGZILLA.bug_summary = 'HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)';
  BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=1198435';
  BUGZILLA.bug_keywords = 'csectype-uaf, sec-critical',
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/BugModal/web/comments.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/bugzilla-readable-status-min.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/field.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/comments.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/MozChangeField/web/js/severity-s1-priority-p1.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/MozChangeField/web/js/clear-tracking-priority-s1.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/MozChangeField/web/js/set-tracking-severity-s1.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/lib/prism.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/GoogleAnalytics/web/js/analytics.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/js/lib/md5.min.js"></script><script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh" src="/static/v20211025.1/extensions/Review/web/js/badge.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1198435">
<link rel="shorturl" href="https://bugzilla.mozilla.org/1198435"><meta name="google-analytics" content="UA-36116321-3" data-location="https://bugzilla.mozilla.org/bug/show-modal" data-title="1198435 - (CVE-2015-4509) HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)">
<script async src="https://www.google-analytics.com/analytics.js"></script><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="wrapper">

<header id="header" role="banner">
  <div class="inner">
    <h1 id="header-title" class="title"><a href="https://bugzilla.mozilla.org/home" title="Go to home page">Bugzilla</a></h1>
    <form role="search" id="header-search" class="quicksearch" action="/buglist.cgi" data-no-csrf>
      <section class="searchbox-outer dropdown" role="combobox" aria-expanded="false" aria-haspopup="listbox"
               aria-labelledby="header-search-label" aria-owns="header-search-dropdown">
        <h2 id="header-search-label">Quick Search</h2>
        <span class="icon" aria-hidden="true"></span>
        <input role="searchbox" id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" placeholder="Search Bugs"
               title="Enter a bug number or some search terms" aria-controls="header-search-dropdown"
               aria-label="Quick Search"><div id="header-search-dropdown" class="dropdown-content right" role="listbox" style="display: none;">
  <div id="header-search-dropdown-wrapper">
  </div>
</div>
      </section>
    </form>
    <nav id="header-nav">
      <ul class="links">
        <li class="link-browse">
          <a href="/describecomponents.cgi" title="Browse bugs by component">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Browse</span>
          </a>
        </li>
        <li class="link-search">
          <a href="/query.cgi?format=advanced" title="Search bugs using various criteria">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Advanced Search</span>
          </a>
        </li>
      </ul>
      <div class="dropdown">
        <button type="button" id="header-tools-menu-button" class="dropdown-button minor" title="More tools…"
                aria-label="More tools…" aria-expanded="false" aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a href="/report.cgi" role="menuitem" tabindex="-1">Reports</a>
          </li>
            <li role="separator"></li>
            <li role="presentation">
              <a href="https://bmo.readthedocs.io/en/latest/" role="menuitem" tabindex="-1">Documentation</a>
            </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links">
          <li id="moz_new_account_container_top"><a href="/createaccount.cgi">New Account</a></li><li id="mini_login_container_top">
  <a id="login_link_top" href="/index.cgi?GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden"><span id="github_mini_login_top" class="mini_login_top">
    <form method="post" action="/github.cgi">
      <input type="hidden" name="github_secret" value="enrn2A9RzPAUwY1uhEsqh62ITwIqthMogFOGaJ2AylxCkOHFlq7YkTLtKGwNNK97ryWJAloUaA4nC7MnGRba0hQmxOxGr4gYi5ABDyunpSrNu5FwCc9VQYmuimJMfslBi54MdsJLt8NmEms0A2wzHJyt886FrUglZLS6vaiS7CzaK77MpPbZpjvR9ZkKT0HqYxru5caCCiWDDofNkXpaSUKLck5DOszw6JZTyZccHf9QAflqLg01nbAa2xeaJhcE">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi">
      <input type="image" src="/extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>

  <form action="/show_bug.cgi?id=1198435" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top"
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
<li id="forgot_container_top">
  <a id="forgot_link_top" href="/index.cgi?GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1635622750-ijbMipvnjkyiFc1B4C8JEkkQNGG_CbTYtXXqOPnejJ4">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul><div id="header-external-links" class="dropdown first">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor" title="Mozilla"
          aria-label="Mozilla" aria-expanded="false" aria-haspopup="true" aria-controls="header-external-menu">
    <img src="/static/v20211025.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg" width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" style="display:none;">
    <li role="presentation">
      <a href="https://www.mozilla.org/" role="menuitem" tabindex="-1">Mozilla Home</a>
    </li>
    <li role="separator"></li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem" tabindex="-1">Privacy</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem" tabindex="-1">Cookies</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem" tabindex="-1">Legal</a>
    </li>
  </ul>
</div>
  </div>
</header> 


<main id="bugzilla-body" tabindex="-1">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary"
      title="Copy bug number and summary to your clipboard">Copy Summary</button>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/1198435" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=1198435" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent" id="field-status_summary"
>


  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=1198435">Bug 1198435</a>
          <span class="edit-hide">(CVE-2015-4509)</span>
      </span>
      <span>
        <span class="bug-time-label">Opened <span class="rel-time" title="2015-08-25 12:26 PDT" data-time="1440530775">6 years ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2015-09-11 07:46 PDT" data-time="1441982781">6 years ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field indent edit-hide"
>


  
    <div class=" container">
      

      <h1 id="field-value-short_desc">HTMLVideo<wbr>Element Use-After-Free Remote Code Execution (ZDI-CAN-3176)</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-short_desc">
            HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (Core :: Audio/Video, defect, P1)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core" id="product-help-link" class="help">Product:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">Core
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">Core</div>
            <div class="description">Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the <a href="https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox">Firefox</a> product. (<a href="https://wiki.mozilla.org/Modules/All#Core">More info</a>)</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=Core"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core&component=Audio%2FVideo#Audio%2FVideo" id="component-help-link" class="help">Component:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">Audio/Video
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">Core :: Audio/Video</div>
            <div class="description">For problems related to media (video/audio) -- especially when the reporter is not sure which area of the media stack the problem is in.  This category will mostly be for untriaged video/audio issues.  Bugs in this category will typically be moved to another media category during the triage process.</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;component=Audio%2FVideo&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=Core&amp;component=Audio%2FVideo&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=Core&amp;component=Audio%2FVideo"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core" data-component="Audio/Video"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-version" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-version">
            unspecified

        </span>
    </div>

  
</div>

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>


  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>


  
    <div class="value">
        <span id="field-value-rep_platform">
            x86

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>


  
    <div class="value">
        <span id="field-value-op_sys">
            Windows 8.1

        </span>
    </div>

  
</div><div class="field indent inline"
>


  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field contains-buttons" id="field-bug_type"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="defect">
        <span class="icon" aria-hidden="true"></span>defect</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-importance"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="importance-help-link" class="help">Priority:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-importance"><div class="field inline" id="field-priority"
>


  
    <div class="value">
        <span id="field-value-priority">P1
        </span>
    </div>

  
</div><div class="field inline" id="field-bug_severity"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_severity">
            critical

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_points" style="display:none"
>
    <div class="name">Points:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_points">
            ---

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (<span id="readable-bug-status" data-readable-bug-status="{&quot;cf_status_firefox41&quot;:&quot;verified&quot;,&quot;cf_status_firefox94&quot;:&quot;---&quot;,&quot;cf_tracking_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_status_firefox_esr91&quot;:&quot;---&quot;,&quot;flags&quot;:[{&quot;name&quot;:&quot;in-testsuite&quot;,&quot;status&quot;:&quot;?&quot;},{&quot;name&quot;:&quot;qe-verify&quot;,&quot;status&quot;:&quot;+&quot;}],&quot;cf_a11y_review_project_flag&quot;:&quot;---&quot;,&quot;cf_tracking_firefox95&quot;:&quot;---&quot;,&quot;cf_tracking_firefox93&quot;:&quot;---&quot;,&quot;cf_status_b2g_master&quot;:&quot;fixed&quot;,&quot;id&quot;:1198435,&quot;cf_tracking_firefox43&quot;:&quot;+&quot;,&quot;cf_webcompat_priority&quot;:&quot;---&quot;,&quot;cf_status_firefox_esr38&quot;:&quot;verified&quot;,&quot;cf_tracking_firefox_sumo&quot;:&quot;---&quot;,&quot;cf_tracking_firefox41&quot;:&quot;+&quot;,&quot;resolution&quot;:&quot;FIXED&quot;,&quot;priority&quot;:&quot;P1&quot;,&quot;cf_status_firefox42&quot;:&quot;verified&quot;,&quot;cf_status_firefox40&quot;:&quot;wontfix&quot;,&quot;cf_status_firefox_esr78&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr91&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_relnote&quot;:&quot;---&quot;,&quot;cf_status_firefox95&quot;:&quot;---&quot;,&quot;cf_fission_milestone&quot;:&quot;---&quot;,&quot;dupe_of&quot;:null,&quot;cf_tracking_firefox94&quot;:&quot;---&quot;,&quot;cf_status_firefox43&quot;:&quot;verified&quot;,&quot;cf_tracking_thunderbird_esr91&quot;:&quot;---&quot;,&quot;target_milestone&quot;:&quot;mozilla43&quot;,&quot;cf_tracking_firefox42&quot;:&quot;+&quot;,&quot;keywords&quot;:[&quot;csectype-uaf&quot;,&quot;sec-critical&quot;],&quot;cf_tracking_firefox_esr38&quot;:&quot;41+&quot;,&quot;cf_root_cause&quot;:&quot;---&quot;,&quot;status&quot;:&quot;VERIFIED&quot;,&quot;cf_status_firefox93&quot;:&quot;---&quot;,&quot;cf_status_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_status_thunderbird_esr91&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr78&quot;:&quot;---&quot;}"></span>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-view">VERIFIED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>


  
    <div class="value">
        <span id="field-value-bug_status">
            VERIFIED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>


  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-target_milestone"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-target_milestone">
            mozilla43

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_iteration" style="display:none"
>
    <div class="name">Iteration:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_iteration">
            ---

        </span>
    </div>

  
</div>


      <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Project Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <td class="tracking-flag-name">Root Cause</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_root_cause-dirty">
  <select id="cf_root_cause" name="cf_root_cause">
        <option value="---"
          id="v4701_cf_root_cause" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Webcompat Priority</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_webcompat_priority-dirty">
  <select id="cf_webcompat_priority" name="cf_webcompat_priority">
        <option value="---"
          id="v4274_cf_webcompat_priority" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">a11y-review</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_a11y_review_project_flag-dirty">
  <select id="cf_a11y_review_project_flag" name="cf_a11y_review_project_flag">
        <option value="---"
          id="v4876_cf_a11y_review_project_flag" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">user-doc-firefox</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_sumo-dirty">
  <select id="cf_tracking_firefox_sumo" name="cf_tracking_firefox_sumo">
        <option value="---"
          id="v4660_cf_tracking_firefox_sumo" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Fission Milestone</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_fission_milestone-dirty">
  <select id="cf_fission_milestone" name="cf_fission_milestone">
        <option value="---"
          id="v4222_cf_fission_milestone" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

      <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-hide">
    <table class="layout-table tracking-flags">
        <tr>
          <th></th>
          <th>Tracking</th>
          <th>Status</th>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox40</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox40&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox41</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox41&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox41&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox42</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox42&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox42&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox43</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox43&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox43&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox-esr38</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox_esr38&amp;o1=equals&amp;v1=41%2B">41+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-master</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_master&amp;o1=equals&amp;v1=fixed">fixed</a>
          </td>
        </tr>
    </table>
  </div>


<div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox40</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox40-dirty">
  <select id="cf_status_firefox40" name="cf_status_firefox40">
        <option value="wontfix"
          id="v2201_cf_status_firefox40" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox41</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox41-dirty">
  <select id="cf_tracking_firefox41" name="cf_tracking_firefox41">
        <option value="+"
          id="v2253_cf_tracking_firefox41" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox41-dirty">
  <select id="cf_status_firefox41" name="cf_status_firefox41">
        <option value="verified"
          id="v2261_cf_status_firefox41" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox42</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox42-dirty">
  <select id="cf_tracking_firefox42" name="cf_tracking_firefox42">
        <option value="+"
          id="v2305_cf_tracking_firefox42" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox42-dirty">
  <select id="cf_status_firefox42" name="cf_status_firefox42">
        <option value="verified"
          id="v2313_cf_status_firefox42" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox43</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox43-dirty">
  <select id="cf_tracking_firefox43" name="cf_tracking_firefox43">
        <option value="+"
          id="v2365_cf_tracking_firefox43" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox43-dirty">
  <select id="cf_status_firefox43" name="cf_status_firefox43">
        <option value="verified"
          id="v2373_cf_status_firefox43" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr38</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr38-dirty">
  <select id="cf_tracking_firefox_esr38" name="cf_tracking_firefox_esr38">
        <option value="41+"
          id="v2398_cf_tracking_firefox_esr38" selected
        >41+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr38-dirty">
  <select id="cf_status_firefox_esr38" name="cf_status_firefox_esr38">
        <option value="verified"
          id="v2150_cf_status_firefox_esr38" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-master</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_master-dirty">
  <select id="cf_status_b2g_master" name="cf_status_b2g_master">
        <option value="fixed"
          id="v2078_cf_status_b2g_master" selected
        >fixed
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">relnote-firefox</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_relnote-dirty">
  <select id="cf_tracking_firefox_relnote" name="cf_tracking_firefox_relnote">
        <option value="---"
          id="v539_cf_tracking_firefox_relnote" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr78-dirty">
  <select id="cf_tracking_thunderbird_esr78" name="cf_tracking_thunderbird_esr78">
        <option value="---"
          id="v4823_cf_tracking_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr78-dirty">
  <select id="cf_status_thunderbird_esr78" name="cf_status_thunderbird_esr78">
        <option value="---"
          id="v4829_cf_status_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr91</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr91-dirty">
  <select id="cf_tracking_thunderbird_esr91" name="cf_tracking_thunderbird_esr91">
        <option value="---"
          id="v5236_cf_tracking_thunderbird_esr91" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr91-dirty">
  <select id="cf_status_thunderbird_esr91" name="cf_status_thunderbird_esr91">
        <option value="---"
          id="v5242_cf_status_thunderbird_esr91" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr78-dirty">
  <select id="cf_tracking_firefox_esr78" name="cf_tracking_firefox_esr78">
        <option value="---"
          id="v4808_cf_tracking_firefox_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr78-dirty">
  <select id="cf_status_firefox_esr78" name="cf_status_firefox_esr78">
        <option value="---"
          id="v4813_cf_status_firefox_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr91</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr91-dirty">
  <select id="cf_tracking_firefox_esr91" name="cf_tracking_firefox_esr91">
        <option value="---"
          id="v5194_cf_tracking_firefox_esr91" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr91-dirty">
  <select id="cf_status_firefox_esr91" name="cf_status_firefox_esr91">
        <option value="---"
          id="v5199_cf_status_firefox_esr91" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox93</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox93-dirty">
  <select id="cf_tracking_firefox93" name="cf_tracking_firefox93">
        <option value="---"
          id="v5266_cf_tracking_firefox93" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox93-dirty">
  <select id="cf_status_firefox93" name="cf_status_firefox93">
        <option value="---"
          id="v5271_cf_status_firefox93" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox94</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox94-dirty">
  <select id="cf_tracking_firefox94" name="cf_tracking_firefox94">
        <option value="---"
          id="v5284_cf_tracking_firefox94" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox94-dirty">
  <select id="cf_status_firefox94" name="cf_status_firefox94">
        <option value="---"
          id="v5289_cf_status_firefox94" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox95</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox95-dirty">
  <select id="cf_tracking_firefox95" name="cf_tracking_firefox95">
        <option value="---"
          id="v5311_cf_tracking_firefox95" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox95-dirty">
  <select id="cf_status_firefox95" name="cf_status_firefox95">
        <option value="---"
          id="v5316_cf_status_firefox95" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>

</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: dveditz, Assigned: gerald)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_515575" ><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=515575" > <span class="fna">gerald</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_1689" ><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=1689" > <span class="fna">dveditz</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field" id="field-triage_owner"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-triage_owner">
            <div class="vcard vcard_560379" ><img src="https://secure.gravatar.com/avatar/fbbefa88b143d58a3cf27ef076448de9?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=560379" > <span class="fna">bryce</span></a>
</div>

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>


  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="19">19 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug-list edit-show" id="field-dependson" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-dependson">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-blocked" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-blocked">
        ---
        </span>
    </div>

  
</div>

    <div class="field bug-list edit-show" id="field-regresses" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-regressed_by" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_file_loc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="" target="_blank"
      rel="noreferrer" title=""
      class="bug-url" data-safe="0"></a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-see_also" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-see_also">
        ---
        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Keywords: csectype-uaf, sec-critical, Whiteboard: [adv-main41+][adv-esr38.3+])
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-alias">
            CVE-2015-4509

        </span>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=csectype-uaf&amp;resolution=---">csectype-uaf</a>, 
          <a href="/buglist.cgi?keywords=sec-critical&amp;resolution=---">sec-critical</a>
        </span>
    </div>

  
</div>

    <div class="field" id="field-status_whiteboard"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-status_whiteboard">[adv-main41+][adv-esr38.3+]
        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_qa_whiteboard" style="display:none"
>
    <div class="name">QA Whiteboard:
    </div>


  
    <div class="value">
        <span id="field-value-cf_qa_whiteboard">
        ---
        </span>
    </div>

  
</div>

    

    <div class="field edit-show" id="field-cf_has_regression_range" style="display:none"
>
    <div class="name">Has Regression Range:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_regression_range">
            ---

        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_has_str" style="display:none"
>
    <div class="name">Has STR:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_str">
            ---

        </span>
    </div>

  
</div>

    <div class="field" id="field-votes"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-votes">0
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-bug_flags"
>
    <div class="name">Bug Flags:
    </div>


  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_277293" ><a class="email disabled" href="/user_profile?user_id=277293" > <span class="fna">cbook</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#c37"
            class="rel-time-title activity-ref"
            title="6 years ago"
        data-time="1441982781"
      >in-testsuite</a>
    </td>

    <td class="flag-value">?
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_277293" ><a class="email disabled" href="/user_profile?user_id=277293" > <span class="fna">cbook</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag-1250627">in-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1250627-dirty">
      <select id="flag-1250627" name="flag-1250627"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" selected>?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr>
          </tbody>
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_488993" ><a class="email " href="/user_profile?user_id=488993" > <span class="fna">avaida</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a1766849_488993"
            class="rel-time-title activity-ref"
            title="6 years ago"
        data-time="1442297624"
      >qe-verify</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_488993" ><a class="email " href="/user_profile?user_id=488993" > <span class="fna">avaida</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually" for="flag-1252406">qe-verify</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1252406-dirty">
      <select id="flag-1252406" name="flag-1252406"
        title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually"
          disabled
        class="bug-flag">
            <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?" for="flag_type-930">behind-pref</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-930-dirty">
      <select id="flag_type-930" name="flag_type-930"
        title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?"
        class="bug-flag">
          <option value="X"></option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag tracking inclusion in the desktop Firefox product backlog." for="flag_type-846">firefox-backlog</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-846-dirty">
      <select id="flag_type-846" name="flag_type-846"
        title="Flag tracking inclusion in the desktop Firefox product backlog."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag_type-803">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-803-dirty">
      <select id="flag_type-803" name="flag_type-803"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in-qa-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Signature:
    </div>


  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (3 files, 3 obsolete files)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8655829">1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch</a>
        </div>
        <div>
            <a href="#c8" class="attach-time activity-ref"><span class="rel-time" title="2015-09-02 00:30 PDT" data-time="1441179011">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_515575" ><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">3.59 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_170965" ><span class="fn">rillian</span>
</div>:
              <a href="#c12"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441179011"
            >
              review+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_5038" ><span class="fn">roc</span>
</div>:
              <a href="#c16"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441215907"
            >
              feedback+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8655829&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8655829&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8655829">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8655875">1198435-better-MediaElementTableCount.patch</a>
        </div>
        <div>
            <a href="#c10" class="attach-time activity-ref"><span class="rel-time" title="2015-09-02 02:07 PDT" data-time="1441184877">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_515575" ><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">2.47 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_170965" ><span class="fn">rillian</span>
</div>:
              <a href="#a696926_170965"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441227701"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8655875&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8655875&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8655875">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8655933">1198435-blindly-remove-self-from-URITable.patch</a>
        </div>
        <div>
            <a href="#c11" class="attach-time activity-ref"><span class="rel-time" title="2015-09-02 04:19 PDT" data-time="1441192773">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_515575" ><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">2.33 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_170965" ><span class="fn">rillian</span>
</div>:
              <a href="#c14"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441192773"
            >
              review-</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8655933&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8655933&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8655933">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8656340">1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2</a>
        </div>
        <div>
            <a href="#c17" class="attach-time activity-ref"><span class="rel-time" title="2015-09-02 18:44 PDT" data-time="1441244646">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_515575" ><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">5.71 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_515575" ><span class="fn">gerald</span>
</div>:
              <a href="#c17"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441244646"
            >
              review+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_495955" ><span class="fn">Sylvestre</span>
</div>:
              <a href="#c39"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441929093"
            >
              approval-mozilla-aurora+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_538805" ><span class="fn">ritu</span>
</div>:
              <a href="#c41"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1442252389"
            >
              approval-mozilla-release+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_280903" ><span class="fn">abillings</span>
</div>:
              <a href="#a788217_280903"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441247327"
            >
              sec-approval+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8656340&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8656340&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8656340">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8656342">1198435-better-MediaElementTableCount.patch v2</a>
        </div>
        <div>
            <a href="#c18" class="attach-time activity-ref"><span class="rel-time" title="2015-09-02 18:49 PDT" data-time="1441244969">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_515575" ><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">2.42 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_515575" ><span class="fn">gerald</span>
</div>:
              <a href="#c18"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441244969"
            >
              review+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_280903" ><span class="fn">abillings</span>
</div>:
              <a href="#a788225_280903"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441247980"
            >
              sec-approval+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8656342&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8656342&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8656342">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8656962">1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch</a>
        </div>
        <div>
            <a href="#c22" class="attach-time activity-ref"><span class="rel-time" title="2015-09-03 21:59 PDT" data-time="1441342792">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_515575" ><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">5.60 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_515575" ><span class="fn">gerald</span>
</div>:
              <a href="#c22"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441342792"
            >
              review+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_451704" ><span class="fn">lizzard</span>
</div>:
              <a href="#c40"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1441929350"
            >
              approval-mozilla-esr38+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8656962&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8656962&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8656962">Splinter Review</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
      <button type="button" id="attachments-obsolete-btn" class="secondary">Show Obsolete</button>
  </div>
  
</footer>
  </div>
</section>



<script nonce="92tWp93vxOHd3H1VkPXyLbkCV5o1WGcPppET5LhptfiFSRfh">
  init_module_visibility();
</script>



<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;94.0b9&quot;,&quot;FIREFOX_ESR&quot;:&quot;78.15.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;91.2.0esr&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;95.0a1&quot;,&quot;FIREFOX_PINEBUILD&quot;:&quot;&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2021-10-04&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2021-10-05&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2021-09-30&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;93.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2021-11-01&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2021-11-02&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2021-10-28&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="10657116" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" ><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" ><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-25 12:26 PDT" data-time="1440530775">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8652496"
         class="attachment"
         data-id="8652496" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="ZDI-CAN-3176.zip">
      <meta itemprop="contentSize" content="7650">
      <meta itemprop="encodingFormat" content="application/java-archive">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8652496" itemprop="contentUrl">
        <span id="att-8652496-description" itemprop="description">ZDI-CAN-3176.zip (pw: ZDI-CAN-3176)</span></a>
        — <a href="attachment.cgi?id=8652496&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-0" data-comment-id="10657116">ZDI sent this vulnerability to our security reporting address. Have not yet confirmed it (need to fire up the windows machine) bug eip=41414141 is a pretty reliable sign of exploitability.

-- VULNERABILITY DETAILS ------------------------

Tested against Firefox 40.0.2 and a nightly build from August 17th on Windows 8.1

Crash info against the release build:

```
[JavaScript Error: &quot;Win error 2 during operation open on file C:\Users\ZDI\AppData\Local\Mozilla\Firefox\Profiles\sg8qwckf.default\directoryLinks.json (The system cannot find the file specified.
)&quot; {file: &quot;resource:///modules/DirectoryLinksProvider.jsm&quot; line: 558}]
[JavaScript Warning: &quot;Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at <a rel="nofollow" href="https://snippets.cdn.mozilla.net/4/Firefox/40.0.2/20150812163655/WINNT_x86-msvc/en-US/release/Windows_NT%206.3/default/default/">https://snippets.cdn.mozilla.net/4/Firefox/40.0.2/20150812163655/WINNT_x86-msvc/en-US/release/Windows_NT%206.3/default/default/</a>. (Reason: CORS request failed).&quot;]
[JavaScript Warning: &quot;An IndexedDB transaction that was not yet complete has been aborted due to page navigation.&quot; {file: &quot;chrome://browser/content/abouthome/aboutHome.js&quot; line: 228}]
[JavaScript Warning: &quot;An IndexedDB transaction that was not yet complete has been aborted due to page navigation.&quot; {file: &quot;chrome://browser/content/abouthome/aboutHome.js&quot; line: 278}]
[JavaScript Warning: &quot;An IndexedDB transaction that was not yet complete has been aborted due to page navigation.&quot; {file: &quot;chrome://browser/content/abouthome/aboutHome.js&quot; line: 289}]
1439870619576   Browser.SelfSupportBackend  WARN    onLocationChange - There was a problem fetching the SelfSupport URL (attempt 0).
[JavaScript Warning: &quot;Key event not available on some keyboard layouts: key=&quot;r&quot; modifiers=&quot;accel,alt&quot;&quot; {file: &quot;chrome://browser/content/browser.xul&quot; line: 0}]
[JavaScript Warning: &quot;Key event not available on some keyboard layouts: key=&quot;c&quot; modifiers=&quot;accel,alt&quot;&quot; {file: &quot;chrome://browser/content/browser.xul&quot; line: 0}]
[JavaScript Warning: &quot;Key event not available on some keyboard layouts: key=&quot;i&quot; modifiers=&quot;accel,alt,shift&quot;&quot; {file: &quot;chrome://browser/content/browser.xul&quot; line: 0}]
[JavaScript Error: &quot;TelemetryStopwatch: key &quot;PLACES_AUTOCOMPLETE_URLINLINE_DOMAIN_QUERY_TIME_MS&quot; was already initialized&quot; {file: &quot;resource://gre/modules/TelemetryStopwatch.jsm&quot; line: 52}]
[JavaScript Warning: &quot;&lt;source&gt; element has no &quot;src&quot; attribute. Media resource load failed.&quot; {file: &quot;<a rel="nofollow" href="http://172.16.208.3/PoC-EIP-0x41414141/poc.html">http://172.16.208.3/PoC-EIP-0x41414141/poc.html</a>&quot; line: 0}]
[JavaScript Warning: &quot;All candidate resources failed to load. Media load paused.&quot; {file: &quot;<a rel="nofollow" href="http://172.16.208.3/PoC-EIP-0x41414141/poc.html">http://172.16.208.3/PoC-EIP-0x41414141/poc.html</a>&quot; line: 0}]
[JavaScript Error: &quot;The character encoding of the HTML document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the page must be declared in the document or in the transfer protocol.&quot; {file: &quot;<a rel="nofollow" href="http://172.16.208.3/PoC-EIP-0x41414141/poc.html">http://172.16.208.3/PoC-EIP-0x41414141/poc.html</a>&quot; line: 0}]
[JavaScript Warning: &quot;HTTP load failed with status 404. Load of media resource <a rel="nofollow" href="http://172.16.208.3/PoC-EIP-0x41414141/nothing">http://172.16.208.3/PoC-EIP-0x41414141/nothing</a> failed.&quot; {file: &quot;<a rel="nofollow" href="http://172.16.208.3/PoC-EIP-0x41414141/poc.html">http://172.16.208.3/PoC-EIP-0x41414141/poc.html</a>&quot; line: 0}]
[JavaScript Warning: &quot;All candidate resources failed to load. Media load paused.&quot; {file: &quot;<a rel="nofollow" href="http://172.16.208.3/PoC-EIP-0x41414141/poc.html">http://172.16.208.3/PoC-EIP-0x41414141/poc.html</a>&quot; line: 0}]
1439870649798   Browser.SelfSupportBackend  WARN    onLocationChange - There was a problem fetching the SelfSupport URL (attempt 1).
(b38.fcc): Access violation - code c0000005 (first chance)
First chance exceptions are reported before any exception handling.
This exception may be expected and handled.
eax=0c1626d0 ebx=11a1f400 ecx=41414141 edx=41414141 esi=00000000 edi=0078eec4
eip=41414141 esp=0078ee98 ebp=00000008 iopl=0         nv up ei ng nz ac pe cy
cs=001b  ss=0023  ds=0023  es=0023  fs=003b  gs=0000             efl=00210297
41414141 41              inc     ecx
0:000&gt; kv
ChildEBP RetAddr  Args to Child              
WARNING: Frame IP not in any known module. Following frames may be wrong.
0078ee94 5cc0453f 41414141 0c164ca0 0078eec4 0x41414141
0078eebc 5cc03d6e 0befa8a0 12530ccc 0c1651a0 xul!mozilla::dom::HTMLMediaElement::LookupMediaElementURITable+0x8e (FPO: [1,2,0]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\dom\html\htmlmediaelement.cpp &#64; 2034]
0078efb0 5cc03b8d 00000000 12530c00 02142cf0 xul!mozilla::dom::HTMLMediaElement::LoadResource+0x11f (FPO: [0,55,0]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\dom\html\htmlmediaelement.cpp &#64; 1190]
0078f2b8 5cc09ebd 02142cf0 0be18c40 12530c00 xul!mozilla::dom::HTMLMediaElement::LoadFromSourceChildren+0x27b (FPO: [Non-Fpo]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\dom\html\htmlmediaelement.cpp &#64; 1028]
0078f3cc 5cc09edf 0a8abd00 5bc7d922 5cc096f3 xul!mozilla::dom::HTMLMediaElement::SelectResource+0x197 (FPO: [Non-Fpo]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\dom\html\htmlmediaelement.cpp &#64; 903]
0078f3d4 5bc7d922 5cc096f3 0a8abc40 00000010 xul!mozilla::dom::HTMLMediaElement::SelectResourceWrapper+0x8 (FPO: [0,0,4]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\dom\html\htmlmediaelement.cpp &#64; 841]
0078f3d8 5cc096f3 0a8abc40 00000010 5bda58b8 xul!nsRunnableMethodImpl&lt;void (__thiscall mozilla::dom::quota::QuotaManager::*)(void),1&gt;::Run+0x15 (FPO: [1,0,0]) (CONV: stdcall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\obj-firefox\dist\include\nsthreadutils.h &#64; 811]
0078f3e4 5bda58b8 0a8abd00 021411d0 02142cf4 xul!mozilla::dom::nsSyncSection::Run+0x19 (FPO: [1,0,4]) (CONV: stdcall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\dom\html\htmlmediaelement.cpp &#64; 764]
0078f400 5bda584e 00000001 00000000 5d6814e0 xul!nsBaseAppShell::RunSyncSectionsInternal+0x68 (FPO: [2,1,0]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\widget\nsbaseappshell.cpp &#64; 370]
0078f410 5bda4ee6 02142cf4 021411d0 00000000 xul!nsBaseAppShell::AfterProcessNextEvent+0x21 (FPO: [4,1,0]) (CONV: stdcall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\widget\nsbaseappshell.cpp &#64; 434]
0078f534 5bfcceac 021411d0 00000001 0078f54f xul!nsThread::ProcessNextEvent+0x6f6 (FPO: [Non-Fpo]) (CONV: stdcall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\xpcom\threads\nsthread.cpp &#64; 904]
0078f550 5bda848d 02161300 02161300 0078f5ac xul!NS_ProcessNextEvent+0x1a (FPO: [Non-Fpo]) (CONV: cdecl) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\xpcom\glue\nsthreadutils.cpp &#64; 265]
0078f574 5bda75b5 02161300 3a3eb85d 02142cf0 xul!mozilla::ipc::MessagePump::Run+0xb7 (FPO: [1,4,0]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\ipc\glue\messagepump.cpp &#64; 128]
0078f5ac 5bda7747 021411d0 00000001 5bf32b00 xul!MessageLoop::RunHandler+0x20 (FPO: [SEH]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\ipc\chromium\src\base\message_loop.cc &#64; 227]
0078f5cc 5bda5bfb 0a8488c0 00000000 5bda677e xul!MessageLoop::Run+0x19 (FPO: [Non-Fpo]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\ipc\chromium\src\base\message_loop.cc &#64; 201]
0078f5d8 5bda677e 02142cf0 0a8488c0 5bdcf0af xul!nsBaseAppShell::Run+0x32 (FPO: [1,0,0]) (CONV: stdcall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\widget\nsbaseappshell.cpp &#64; 167]
0078f5e4 5bdcf0af 02142cf0 0078f85d 0fa26260 xul!nsAppShell::Run+0x1b (FPO: [1,0,4]) (CONV: stdcall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\widget\windows\nsappshell.cpp &#64; 178]
0078f5f4 5c0118fc 0a8488c0 0078f764 0078f780 xul!nsAppStartup::Run+0x20 (FPO: [1,0,0]) (CONV: stdcall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\toolkit\components\startup\nsappstartup.cpp &#64; 281]
0078f6d0 5c0127ee 00000001 0078f8a8 0211c160 xul!XREMain::XRE_mainRun+0x499 (FPO: [Non-Fpo]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\toolkit\xre\nsapprunner.cpp &#64; 4079]
0078f6ec 5c137e6c 00000000 018a5ff8 0078f800 xul!XREMain::XRE_main+0x1b2 (FPO: [3,2,0]) (CONV: thiscall) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\toolkit\xre\nsapprunner.cpp &#64; 4170]
0078f860 000a1635 00000001 018a5ff8 0078f8a8 xul!XRE_main+0x3e (FPO: [4,87,0]) (CONV: cdecl) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\toolkit\xre\nsapprunner.cpp &#64; 4260]
0078f9f4 000a12dc 0211c160 018a9ff8 ffffc000 firefox!do_main+0x125 (FPO: [1,92,0]) (CONV: cdecl) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\browser\app\nsbrowserapp.cpp &#64; 214]
0078fa88 000a10dc 000a2521 000a2521 0078fae4 firefox!NS_internal_main+0xec (FPO: [Non-Fpo]) (CONV: cdecl) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\browser\app\nsbrowserapp.cpp &#64; 480]
0078fa9c 000a24a4 018a5ff8 0184ff98 01851f70 firefox!wmain+0xbc (FPO: [2,0,0]) (CONV: cdecl) [c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\toolkit\xre\nswindowswmain.cpp &#64; 138]
0078fae4 758b4198 7f7df000 758b4170 1a81bdec firefox!__tmainCRTStartup+0xfe (FPO: [Non-Fpo]) (CONV: cdecl) [f:\dd\vctools\crt\crtw32\startup\crt0.c &#64; 255]
0078faf8 779132d1 7f7df000 9a3e1a74 00000000 KERNEL32!BaseThreadInitThunk+0x24 (FPO: [Non-Fpo])
0078fb40 7791329f ffffffff 7793f054 00000000 ntdll!__RtlUserThreadStart+0x2b (FPO: [SEH])
0078fb50 00000000 000a2521 7f7df000 00000000 ntdll!_RtlUserThreadStart+0x1b (FPO: [Non-Fpo])
0:000&gt; !lmi xul
Loaded Module Info: [xul]
         Module: xul
   Base Address: 5bb60000
     Image Name: C:\Program Files\Mozilla Firefox\xul.dll
   Machine Type: 332 (I386)
     Time Stamp: 55cc02db Wed Aug 12 19:37:15 2015
           Size: 2401000
       CheckSum: 2368004
Characteristics: 2122  
Debug Data Dirs: Type  Size     VA  Pointer
             CODEVIEW    76, 1d9ea98, 1d9d498 RSDS - GUID: {B89D751B-2F9D-420E-AAEE-FD53D90CF5BF}
               Age: 2, Pdb: c:\builds\moz2_slave\rel-m-rel-w32_bld-000000000000\build\obj-firefox\toolkit\library\xul.pdb
                   ??    14, 1d9eb10, 1d9d510 [Data not mapped]
                CLSID     4, 1d9eb24, 1d9d524 [Data not mapped]
     Image Type: FILE     - Image read successfully from debugger.
                 C:\Program Files\Mozilla Firefox\xul.dll
    Symbol Type: PDB      - Symbols loaded successfully from image path.
                 z:\export\symbols\xul.pdb\B89D751B2F9D420EAAEEFD53D90CF5BF2\xul.pdb
       Compiler: Linker - front end [0.0 bld 0] - back end [12.0 bld 30723]
    Load Report: private symbols &amp; lines, source indexed
                 z:\export\symbols\xul.pdb\B89D751B2F9D420EAAEEFD53D90CF5BF2\xul.pdb
0:000&gt; lmvm xul
start    end        module name
5bb60000 5df61000   xul        (private pdb symbols)  z:\export\symbols\xul.pdb\B89D751B2F9D420EAAEEFD53D90CF5BF2\xul.pdb
    Loaded symbol image file: C:\Program Files\Mozilla Firefox\xul.dll
    Image path: C:\Program Files\Mozilla Firefox\xul.dll
    Image name: xul.dll
    Timestamp:        Wed Aug 12 19:37:15 2015 (55CC02DB)
    CheckSum:         02368004
    ImageSize:        02401000
    File version:     40.0.2.5702
    Product version:  40.0.2.5702
    File flags:       0 (Mask 3F)
    File OS:          4 Unknown Win32
    File type:        2.0 Dll
    File date:        00000000.00000000
    Translations:     0000.04b0
    CompanyName:      Mozilla Foundation
    ProductName:      Firefox
    InternalName:     Firefox
    OriginalFilename: xul.dll
    ProductVersion:   40.0.2
    FileVersion:      40.0.2
    FileDescription:  40.0.2
    LegalCopyright:   License: MPL 2
    LegalTrademarks:  Mozilla
    Comments:         Mozilla
0:000&gt; vertarget
Windows 8 Version 9600 UP Free x86 compatible
Product: WinNt, suite: SingleUserTS
kernel32.dll version: 6.3.9600.17415 (winblue_r4.141028-1500)
Machine Name:
Debug session time: Mon Aug 17 21:05:17.968 2015 (UTC - 7:00)
System Uptime: 0 days 0:05:00.332
Process Uptime: 0 days 0:02:02.507
  Kernel time: 0 days 0:00:19.718
  User time: 0 days 0:00:02.234
```


-- CREDIT ---------------------------------------

This vulnerability was discovered by:

   Anonymous working with HP's Zero Day Initiative

-- FURTHER DETAILS ------------------------------

If supporting files were contained with this report they are provided within a password protected ZIP file. The password is the ZDI candidate number in the form: ZDI-CAN-XXXX where XXXX is the ID number.

Please confirm receipt of this report. We expect all vendors to remediate ZDI vulnerabilities within 120 days of the reported date. If you are ready to release a patch at any point leading up the the deadline please coordinate with us so that we may release our advisory detailing the issue. If the 120 day deadline is reached and no patch has been made available we will release a limited public advisory with our own mitigations so that the public can protect themselves in the absence of a patch. Please keep us updated regarding the status of this issue and feel free to contact us at any time:

Zero Day Initiative
<a href="mailto:zdi-disclosures&#64;hp.com">zdi-disclosures&#64;hp.com</a></pre></div><div class="change-set" id="c1"><div class="comment" data-id="10661697" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-1" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" ><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" ><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-26 10:11 PDT" data-time="1440609106">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-1" data-comment-id="10661697">padenot, is this something you can look at? Thanks.</pre><div class="activity"><div class="change">Flags: needinfo?(padenot)</div></div></div><div class="change-set" id="a78374_280903"><div class="change" id="aa78374_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a78374_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a78374_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a78374_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a78374_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a78374_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-26 10:12 PDT" data-time="1440609149">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox40&amp;o1=isnotempty">status-firefox40</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox40&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox41&amp;o1=isnotempty">status-firefox41</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox41&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox42&amp;o1=isnotempty">status-firefox42</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox42&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox43&amp;o1=isnotempty">status-firefox43</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox43&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=isnotempty">status-firefox-esr38</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=equals&amp;v1=%3F">?</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox41&amp;o1=isnotempty">tracking-firefox41</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox41&amp;o1=equals&amp;v1=%2B">+</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox42&amp;o1=isnotempty">tracking-firefox42</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox42&amp;o1=equals&amp;v1=%2B">+</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox43&amp;o1=isnotempty">tracking-firefox43</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox43&amp;o1=equals&amp;v1=%2B">+</a></div></div></div><div class="change-set" id="c2"><div class="comment" data-id="10665110" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-2" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_404637" id="a78374_280903"><img src="https://secure.gravatar.com/avatar/26d5e4c31bc56896f13d7ae0fbb24e96?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_404637" id="a78374_280903"><a class="email " href="/user_profile?user_id=404637" > <span class="fna">Paul Adenot (:padenot)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-27 02:45 PDT" data-time="1440668735">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-2" data-comment-id="10665110">302 to Anthony, HTMLMediaElement is on the stack, he'll know who's best to fix this.</pre><div class="activity"><div class="change">Flags: needinfo?(padenot) &rarr; needinfo?(ajones)</div></div></div><div class="change-set" id="c3"><div class="comment" data-id="10669096" data-no="3"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-3" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_443088" id="a78374_280903"><img src="https://secure.gravatar.com/avatar/c511186c5469f5f88538c42f94c71a65?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_443088" id="a78374_280903"><a class="email disabled" href="/user_profile?user_id=443088" > <span class="fna">Anthony Jones (:ajones, :kentuckyfriedtakahe, :k17e)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-3"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-3" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-27 18:55 PDT" data-time="1440726906">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-3" data-comment-id="10669096">Ralph?</pre><div class="activity"><div class="change">Flags: needinfo?(ajones) &rarr; needinfo?(giles)</div></div></div><div class="change-set" id="c4"><div class="comment" data-id="10675298" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-4" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11539" id="a78374_280903"><img src="https://secure.gravatar.com/avatar/ae002109ba1cfbb7f5ad990cc5d9fbaf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_11539" id="a78374_280903"><a class="email " href="/user_profile?user_id=11539" > <span class="fna">Randell Jesup [:jesup] (needinfo me)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-30 13:28 PDT" data-time="1440966519">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-4" data-comment-id="10675298">Adding cpearce (though he may be on PTO)</pre></div><div class="change-set" id="a531814_170965"><div class="change" id="aa531814_170965">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_170965" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/b13b00660f5b6351c2fbafb414f7a180?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_170965" id="a531814_170965"><a class="email " href="/user_profile?user_id=170965" > <span class="fna">Ralph Giles (:rillian)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a531814_170965"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a531814_170965">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a531814_170965">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-31 16:09 PDT" data-time="1441062589">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Assignee: nobody &rarr; giles</div><div class="change">Flags: <span class="activity-deleted">needinfo?(giles)</span></div><div class="change">Priority: -- &rarr; P1</div></div></div><div class="change-set" id="c5"><div class="comment" data-id="10684570" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-5" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_170965" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/b13b00660f5b6351c2fbafb414f7a180?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_170965" id="a531814_170965"><a class="email " href="/user_profile?user_id=170965" > <span class="fna">Ralph Giles (:rillian)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-01 16:28 PDT" data-time="1441150106">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-5" data-comment-id="10684570">I could use some help with this one too; my vm seems to be borked. Gerald, please pass this on to Edwin if you get stuck.</pre><div class="activity"><div class="change">Assignee: giles &rarr; gsquelart</div></div></div><div class="change-set" id="c6"><div class="comment" data-id="10685574" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-6" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a531814_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-01 23:33 PDT" data-time="1441175587">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-6" data-comment-id="10685574">I could reproduce this on Mac. I believe it should in fact affect all platforms.

Debugging shows this sequence of interesting events:
0. HTMLMediaElements 'video' and 'vid' are created.
1. vid.LoadFromSourceChildren() sets vid.mLoadingSrc to &quot;poc.wav&quot;
2. vid.AddMediaElementToURITable() adds a gElementTable entry associating the object pointer (&amp;vid) to &quot;poc.wav&quot;
3. vid.LoadFromSourceChildren() changes vid.mLoadingSrc to &quot;nothing&quot;
4? This step does *not* exist! I.e., the gElementTable is not modified, and therefore &quot;poc.wav&quot; still points to our object, and &quot;nothing&quot; is not added to the list!
Time passes...
5. vid.~HTMLMediaElement() calls vid.RemoveMediaElementFromURITable(), but because vid.mLoadingSrc==&quot;nothing&quot;, our entry associated with &quot;poc.wav&quot; is *not* removed from the table!
6. 'video' (which is also pointing to &quot;poc.wav&quot;) does a video.LookupMediaElementURITable(), which goes through all elements associated with &quot;poc.wav&quot; and calls the NodePrincipal() method on them, at which point our object 'vid' destroyed at step 5 is used.

I don't know enough to be sure, but I'm thinking that the missing step 4 is important.
Maybe at step 3 when mLoadingSrc is modified, the associated gElementTable entry should at least be removed.
And a catch-all fix would be to just remove *all* entries pointing to the object-to-be-destroyed from the destructor.

I'll prepare a patch soon, with my best attempt.
In the meantime, if someone (with better knowledge of HTMLMediaElement) reading this can provide feedback, please do so.</pre></div><div class="change-set" id="c7"><div class="comment" data-id="10685605" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-7" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a531814_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-01 23:46 PDT" data-time="1441176368">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-7" data-comment-id="10685605">Funnily enough, the documentation for RemoveMediaElementFromURITable() reads &quot;Call this before clearing mLoadingSrc&quot;!
So I guess we should enforce that.</pre></div><div class="change-set" id="c8"><div class="comment" data-id="10685684" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-8" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a531814_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 00:30 PDT" data-time="1441179011">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8655829"
         class="attachment patch obsolete"
         data-id="8655829" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">
      <meta itemprop="contentSize" content="3675">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8655829">
          <a class="link" href="attachment.cgi?id=8655829&amp;action=diff">
        <span id="att-8655829-description" itemprop="description">1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch</span></a> (obsolete)
        — <a href="attachment.cgi?id=8655829&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8655829">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-8" data-comment-id="10685684">This patch simply calls RemoveMediaElementFromURITable() at the two locations where mLoadingSrc is overwritten with a new value.

Some notes:
- I've updated the documentation for RemoveMediaElementFromURITable to clarify that it should be called before any modification of mLoadingSrc (not just when &quot;clearing&quot; it).
- I've removed an assertion in RemoveMediaElementFromURITable, because it is now possible to be in a situation where it is called again when the element has already been removed from the table -- It actually happens when running the ZDI proof-of-concept; but at least it doesn't crash anymore.
- The two other locations where mLoadingSrc is actually cleared (set to nullptr) are preceded by a ShutdownDecoder() when needed, which takes care of calling RemoveMediaElementFromURITable, so we don't need to explicitly add it there.

For the upcoming sec-approval (and assuming r+), I believe this is a safe patch to approve and uplift as far as we want, as all it does is add a safe bit of extra work in two spots where mLoadingSrc is modified.

Do we need an actual test based on the ZDI proof-of-concept? (though if made public, the test would more likely reveal the issue than just this patch.)</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8655829&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch"
           class=""
        >Attachment #8655829</a> -
        Flags: review?(giles)</div></div></div><div class="change-set" id="c9"><div class="comment" data-id="10685713" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-9" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a531814_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 00:40 PDT" data-time="1441179646">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-9" data-comment-id="10685713">If this patch is approved, I would suggest opening a separate bug related to the allegedly-missing step 4 in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c6">comment 6</a>, as I would think the decoder should probably be shutdown after setting &lt;source&gt; to the non-existent file &quot;nothing&quot;; or maybe mLoadingSrc should revert to the source that the decoder is actually working with; or something else?</pre></div><div class="change-set" id="c10"><div class="comment" data-id="10685965" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-10" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a531814_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 02:07 PDT" data-time="1441184877">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8655875"
         class="attachment patch obsolete"
         data-id="8655875" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="1198435-better-MediaElementTableCount.patch">
      <meta itemprop="contentSize" content="2533">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8655875">
          <a class="link" href="attachment.cgi?id=8655875&amp;action=diff">
        <span id="att-8655875-description" itemprop="description">1198435-better-MediaElementTableCount.patch</span></a> (obsolete)
        — <a href="attachment.cgi?id=8655875&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8655875">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-10" data-comment-id="10685965">This is an optional patch that adds a sanity check to the DEBUG-only function MediaElementTableCount().

The current function only returns the number of times an element is associated with a given URI (which should be only 0 or 1).
This patch also verifies that the element is not lurking under other URIs, which would be a bad thing indeed, as evidenced by the current ZDI.

It's not necessary to fix this issue, but would help in finding other situations that could result in similar crashes; hence the feedback request.
Please advise whether you think we should ship this patch here, and/or uplift, or move it to another bug later on.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8655875&amp;action=edit"
           title="1198435-better-MediaElementTableCount.patch"
           class=""
        >Attachment #8655875</a> -
        Flags: feedback?(giles)</div></div></div><div class="change-set" id="c11"><div class="comment" data-id="10686371" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-11" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a531814_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 04:19 PDT" data-time="1441192773">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8655933"
         class="attachment patch obsolete"
         data-id="8655933" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="1198435-blindly-remove-self-from-URITable.patch">
      <meta itemprop="contentSize" content="2382">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8655933">
          <a class="link" href="attachment.cgi?id=8655933&amp;action=diff">
        <span id="att-8655933-description" itemprop="description">1198435-blindly-remove-self-from-URITable.patch</span></a> (obsolete)
        — <a href="attachment.cgi?id=8655933&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8655933">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-11" data-comment-id="10686371">Another patch!
This is more of a shotgun-style fix: RemoveMediaElementFromURITable() removes the element from the table regardless of the expected URI; and AddMediaElementToURITable() does a RemoveMediaElementFromURITable() to ensure we only have at most one pointer to the element.

It has the advantage of potentially catching other situations that could lead to the same crash.

The disadvantage is that such cases would be hidden by this patch, and so would not get caught and fixed; except that the &quot;better MediaElementTableCount&quot; in the previous patch could reveal these cases.
It also adds quite a bit of redundant work during each add&amp;remove. But I think these occurrences are rare enough in real life that it shouldn't matter -- right?


Now that we (maybe) have too many choices:
- I think the 1st patch (&quot;remove...&quot;) is better-targeted fix.
- The 3rd patch (&quot;blindly...&quot;) is a broader fix and could potentially prevent more issues (but hide them).
- The 2nd patch (&quot;better...&quot;) is not a fix, but could help with finding further issues, in combination with the 1st and/or 3rd patch/es.

And as per my <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c9">comment 9</a>, I still think the actual cause of this issue needs to be investigated.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8655933&amp;action=edit"
           title="1198435-blindly-remove-self-from-URITable.patch"
           class=""
        >Attachment #8655933</a> -
        Flags: review?(giles)</div></div></div><div class="change-set" id="c12"><div class="comment" data-id="10687990" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-12" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_170965" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/b13b00660f5b6351c2fbafb414f7a180?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_170965" id="a531814_170965"><a class="email " href="/user_profile?user_id=170965" > <span class="fna">Ralph Giles (:rillian)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 10:45 PDT" data-time="1441215907">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-12" data-comment-id="10687990">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=8655829" name="attach_8655829" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">attachment 8655829</a> <a href="/attachment.cgi?id=8655829&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[details]</a> <a href="/attachment.cgi?id=8655829&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8655829'>[review]</a>
1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=8655829" name="attach_8655829" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">attachment 8655829</a> <a href="/attachment.cgi?id=8655829&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[details]</a> <a href="/attachment.cgi?id=8655829&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8655829'>[review]</a>:
-----------------------------------------------------------------

r=me. I think this and the diagnostic patch are a better approach, with a follow-up bug to resolve the missing step 4.

What about HTMLMediaElement::AbortExistingLoads()? It looks like mDecoder can be set there.

Roc, does this seem a good approach to you?</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8655829&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch"
           class=""
        >Attachment #8655829</a> -
        Flags: <span class="activity-deleted">review?(giles)</span></div><div class="change">
        <a href="/attachment.cgi?id=8655829&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch"
           class=""
        >Attachment #8655829</a> -
        Flags: review+</div><div class="change">
        <a href="/attachment.cgi?id=8655829&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch"
           class=""
        >Attachment #8655829</a> -
        Flags: feedback?(roc)</div></div></div><div class="change-set" id="c13"><div class="comment" data-id="10688162" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-13" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_170965" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/b13b00660f5b6351c2fbafb414f7a180?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_170965" id="a531814_170965"><a class="email " href="/user_profile?user_id=170965" > <span class="fna">Ralph Giles (:rillian)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 11:20 PDT" data-time="1441218050">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-13" data-comment-id="10688162">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=8655875" name="attach_8655875" title="1198435-better-MediaElementTableCount.patch">attachment 8655875</a> <a href="/attachment.cgi?id=8655875&amp;action=edit" title="1198435-better-MediaElementTableCount.patch">[details]</a> <a href="/attachment.cgi?id=8655875&amp;action=diff" title="1198435-better-MediaElementTableCount.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8655875'>[review]</a>
1198435-better-MediaElementTableCount.patch

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=8655875" name="attach_8655875" title="1198435-better-MediaElementTableCount.patch">attachment 8655875</a> <a href="/attachment.cgi?id=8655875&amp;action=edit" title="1198435-better-MediaElementTableCount.patch">[details]</a> <a href="/attachment.cgi?id=8655875&amp;action=diff" title="1198435-better-MediaElementTableCount.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8655875'>[review]</a>:
-----------------------------------------------------------------

r=me seems like a good idea regardless.

::: dom/html/HTMLMediaElement.cpp
&#64;&#64; +1969,5 &#64;&#64;
<span class="quote">&gt; +  for (auto it = gElementTable-&gt;ConstIter(); !it.Done(); it.Next()) {
&gt; +    MediaElementSetForURI* entry = it.Get();
&gt; +    uint32_t count = 0;
&gt; +    for (uint32_t i = 0; i &lt; entry-&gt;mElements.Length(); ++i) {
&gt; +      HTMLMediaElement* elem = entry-&gt;mElements[i];</span >

I think you can

for (auto elem = entry-&gt;mElements.begin(); elem != entry-&gt;mElements.end(); ++elem)

&#64;&#64; +1977,2 &#64;&#64;
<span class="quote">&gt;      }
&gt; +    if (URIEquals(aURI, entry-&gt;GetKey())) {</span >

I'd avoid unnecessary worry by saying `if (aURI &amp;&amp; URIEquals(aURI...))` here, just so people don't have to worry about the call being safe with a nullptr. Or call it aURISafeEquals() maybe.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8655875&amp;action=edit"
           title="1198435-better-MediaElementTableCount.patch"
           class=""
        >Attachment #8655875</a> -
        Flags: feedback?(giles) &rarr; feedback+</div></div></div><div class="change-set" id="c14"><div class="comment" data-id="10689048" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-14" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_170965" id="a531814_170965"><img src="https://secure.gravatar.com/avatar/b13b00660f5b6351c2fbafb414f7a180?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_170965" id="a531814_170965"><a class="email " href="/user_profile?user_id=170965" > <span class="fna">Ralph Giles (:rillian)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 13:52 PDT" data-time="1441227131">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-14" data-comment-id="10689048">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=8655933" name="attach_8655933" title="1198435-blindly-remove-self-from-URITable.patch">attachment 8655933</a> <a href="/attachment.cgi?id=8655933&amp;action=edit" title="1198435-blindly-remove-self-from-URITable.patch">[details]</a> <a href="/attachment.cgi?id=8655933&amp;action=diff" title="1198435-blindly-remove-self-from-URITable.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8655933'>[review]</a>
1198435-blindly-remove-self-from-URITable.patch

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=8655933" name="attach_8655933" title="1198435-blindly-remove-self-from-URITable.patch">attachment 8655933</a> <a href="/attachment.cgi?id=8655933&amp;action=edit" title="1198435-blindly-remove-self-from-URITable.patch">[details]</a> <a href="/attachment.cgi?id=8655933&amp;action=diff" title="1198435-blindly-remove-self-from-URITable.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8655933'>[review]</a>:
-----------------------------------------------------------------

Patch does what it says, but as I said before, I think patches 1+2 are a better way to go. This seems like it could be more brittle in the future.

::: dom/html/HTMLMediaElement.cpp
&#64;&#64; +1990,2 &#64;&#64;
<span class="quote">&gt;    if (!gElementTable)
&gt;      return;</span >

Would be good to wrap this return in { } while you're here.

&#64;&#64; +1990,5 &#64;&#64;
<span class="quote">&gt;    if (!gElementTable)
&gt;      return;
&gt; +  for (auto it = gElementTable-&gt;Iter(); !it.Done(); it.Next()) {
&gt; +    MediaElementSetForURI* entry = it.Get();
&gt; +    entry-&gt;mElements.RemoveElement(this);</span >

I worried about duplicate entries here, but it looksl ike MediaElementSetForURI is correct that it's a set, not a vector.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8655933&amp;action=edit"
           title="1198435-blindly-remove-self-from-URITable.patch"
           class=""
        >Attachment #8655933</a> -
        Flags: review?(giles) &rarr; review-</div></div></div><div class="change-set" id="a696926_170965"><div class="change" id="aa696926_170965">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_170965" id="a696926_170965"><img src="https://secure.gravatar.com/avatar/b13b00660f5b6351c2fbafb414f7a180?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_170965" id="a696926_170965"><a class="email " href="/user_profile?user_id=170965" > <span class="fna">Ralph Giles (:rillian)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a696926_170965"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a696926_170965">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a696926_170965">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 14:01 PDT" data-time="1441227701">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8655875&amp;action=edit"
           title="1198435-better-MediaElementTableCount.patch"
           class=""
        >Attachment #8655875</a> -
        Flags: feedback+ &rarr; review+</div></div></div><div class="change-set" id="c15"><div class="comment" data-id="10689577" data-no="15"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-15" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a696926_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a696926_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-15"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-15" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 15:33 PDT" data-time="1441233236">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-15" data-comment-id="10689577">(In reply to Ralph Giles (:rillian) from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c12">comment #12</a>)
<span class="quote">&gt; Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=8655829" name="attach_8655829" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">attachment 8655829</a> <a href="/attachment.cgi?id=8655829&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[details]</a> <a href="/attachment.cgi?id=8655829&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8655829'>[review]</a>
&gt; 1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch
&gt; Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=8655829" name="attach_8655829" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">attachment 8655829</a> <a href="/attachment.cgi?id=8655829&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[details]</a> <a href="/attachment.cgi?id=8655829&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8655829'>[review]</a>:
&gt; -----------------------------------------------------------------
&gt; 
&gt; r=me. I think this and the diagnostic patch are a better approach, with a
&gt; follow-up bug to resolve the missing step 4.</span >

Alright, will do.

<span class="quote">&gt; What about HTMLMediaElement::AbortExistingLoads()? It looks like mDecoder
&gt; can be set there.</span >

Assuming you meant 'mLoadingSrc', yes it's reset there, but just before that there's an |if (mDecoder) { ... ShutdownDecoder(); }|, which does the appropriate RemoveMediaElementFromURITable(). Please see my notes in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c8">comment 8</a>.</pre></div><div class="change-set" id="c16"><div class="comment" data-id="10689710" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-16" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a696926_170965"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_5038" id="a696926_170965"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 16:06 PDT" data-time="1441235170">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-16" data-comment-id="10689710">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=8655829" name="attach_8655829" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">attachment 8655829</a> <a href="/attachment.cgi?id=8655829&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[details]</a> <a href="/attachment.cgi?id=8655829&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8655829'>[review]</a>
1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=8655829" name="attach_8655829" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">attachment 8655829</a> <a href="/attachment.cgi?id=8655829&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[details]</a> <a href="/attachment.cgi?id=8655829&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8655829'>[review]</a>:
-----------------------------------------------------------------

::: dom/html/HTMLMediaElement.cpp
&#64;&#64; +1072,5 &#64;&#64;
<span class="quote">&gt;      }
&gt;  
&gt; +    if (mLoadingSrc &amp;&amp; mDecoder) {
&gt; +      RemoveMediaElementFromURITable();
&gt; +    }</span >

I suggest just moving these mLoadingSrc and mDecoder checks into RemoveMediaElementFromURITable.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8655829&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch"
           class=""
        >Attachment #8655829</a> -
        Flags: feedback?(roc) &rarr; feedback+</div></div></div><div class="change-set" id="c17"><div class="comment" data-id="10690113" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-17" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a696926_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a696926_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 18:44 PDT" data-time="1441244646">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8656340"
         class="attachment patch"
         data-id="8656340" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch">
      <meta itemprop="contentSize" content="5848">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8656340">
          <a class="link" href="attachment.cgi?id=8656340&amp;action=diff">
        <span id="att-8656340-description" itemprop="description">1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2</span></a>
        — <a href="attachment.cgi?id=8656340&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8656340">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-17" data-comment-id="10690113">Updated as per review/feedback
- from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c12">comment 12</a>: Added call to RemoveMediaElementFromURITable before *all* modifications of mLoadingSrc, even when a previous ShutdownDecoder would have done it. It's safer in the long run (if ShutdownDecoder becomes 'too' clever), and cheap enough.
- from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c14">comment 14</a>: Added some missing { }.
- from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c16">comment 16</a>: Moved mLoadingSrc&amp;mDecoder checks into RemoveMediaElementFromURITable.

Carrying r+ from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c12">comment 12</a>.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8655829&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch"
           class=""
        >Attachment #8655829</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=8655933&amp;action=edit"
           title="1198435-blindly-remove-self-from-URITable.patch"
           class=""
        >Attachment #8655933</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=8656340&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2"
           class=""
        >Attachment #8656340</a> -
        Flags: review+</div></div></div><div class="change-set" id="c18"><div class="comment" data-id="10690122" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-18" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a696926_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a696926_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 18:49 PDT" data-time="1441244969">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8656342"
         class="attachment patch"
         data-id="8656342" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="1198435-better-MediaElementTableCount.patch">
      <meta itemprop="contentSize" content="2473">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8656342">
          <a class="link" href="attachment.cgi?id=8656342&amp;action=diff">
        <span id="att-8656342-description" itemprop="description">1198435-better-MediaElementTableCount.patch v2</span></a>
        — <a href="attachment.cgi?id=8656342&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8656342">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-18" data-comment-id="10690122">Updated as per review from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c13">comment 13</a>: Using range-for to loop through nsTArray; Renamed URIEquals to URISafeEquals.
Carrying r+ from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c13">comment 13</a>.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8655875&amp;action=edit"
           title="1198435-better-MediaElementTableCount.patch"
           class=""
        >Attachment #8655875</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=8656342&amp;action=edit"
           title="1198435-better-MediaElementTableCount.patch v2"
           class=""
        >Attachment #8656342</a> -
        Flags: review+</div></div></div><div class="change-set" id="c19"><div class="comment" data-id="10690198" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-19" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a696926_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a696926_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 19:28 PDT" data-time="1441247327">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-19" data-comment-id="10690198">Comment on <span class=""><a href="/attachment.cgi?id=8656340" name="attach_8656340" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">attachment 8656340</a> <a href="/attachment.cgi?id=8656340&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">[details]</a> <a href="/attachment.cgi?id=8656340&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8656340'>[review]</a>
1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2

[Security approval request comment]
How easily could an exploit be constructed based on the patch?
- The patch shows that we were not removing the element from gElementTable when modifying mLoadingSrc, I think it would be fairly easy to build a script that does that. Then exploiting this (reusing the dangling pointer after the element is destroyed) is of course harder but evidently possible as shown in the POC.

Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
- The header comment change from &quot;clearing&quot; to &quot;modifying&quot; may be a small clue.
- The check-in comment does mention &quot;so that a future LookupMediaElementURITable won't access this element anymore&quot;, this could be made more obscure.
- No tests.

Which older supported branches are affected by this flaw?
- Not sure how to determine that, earliest affected release would be 11 (based on <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Share media resources automatically when playing the same URL"
   href="/show_bug.cgi?id=703379">bug 703379</a>'s &quot;Target Milestone&quot;) when the element table was first introduced. This could be verified by opening the POC pages on older releases -- Please let me know if I should do that, and on which versions.

If not all supported branches, which bug introduced the flaw?
- <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Share media resources automatically when playing the same URL"
   href="/show_bug.cgi?id=703379">Bug 703379</a> in November 2011.

Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
- The patch is simple and could be backported as far as needed, with very low risk. Please let me know which versions we want to backport to, and I can prepare updated patches (if necessary).

How likely is this patch to cause regressions; how much testing does it need?
- Very unlikely I believe: The main method RemoveMediaElementFromURITable() is pretty much the same (assertions have become simple returns), it is just called from a few more places.
- Testing can be done by opening the POC pages before and after applying the patch. DOM tests may also be run for extra confidence that no regression has been introduced.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656340&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2"
           class=""
        >Attachment #8656340</a> -
        Flags: sec-approval?</div></div></div><div class="change-set" id="c20"><div class="comment" data-id="10690215" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-20" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a696926_170965"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a696926_170965"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-02 19:39 PDT" data-time="1441247980">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-20" data-comment-id="10690215">Comment on <span class=""><a href="/attachment.cgi?id=8656342" name="attach_8656342" title="1198435-better-MediaElementTableCount.patch v2">attachment 8656342</a> <a href="/attachment.cgi?id=8656342&amp;action=edit" title="1198435-better-MediaElementTableCount.patch v2">[details]</a> <a href="/attachment.cgi?id=8656342&amp;action=diff" title="1198435-better-MediaElementTableCount.patch v2">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8656342'>[review]</a>
1198435-better-MediaElementTableCount.patch v2

[Security approval request comment]
How easily could an exploit be constructed based on the patch?
- Much harder than with the first patch.

Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
- The extra assertion is a small clue as to the problem, but once again it's not as obvious as with the first patch.

Which older supported branches are affected by this flaw?
If not all supported branches, which bug introduced the flaw?
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
- This patch is not a fix, so I wouldn't worry about backporting it. It is mainly useful in finding similar issues in future development.

How likely is this patch to cause regressions; how much testing does it need?
- Very unlikely: This patch only touches DEBUG-only code. It does a similar job as before (going through a list and incrementing counters), but gives more information at the end.
- Running existing tests in debug mode should be enough to ensure its quality. Also, applying this patch alone (without the actual fix in the other patch) exercises the extra assertion and shows its usefulness.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656342&amp;action=edit"
           title="1198435-better-MediaElementTableCount.patch v2"
           class=""
        >Attachment #8656342</a> -
        Flags: sec-approval?</div></div></div><div class="change-set" id="c21"><div class="comment" data-id="10694544" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-21" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a696926_170965"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_280903" id="a696926_170965"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-03 15:22 PDT" data-time="1441318978">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-21" data-comment-id="10694544">sec-approval+ for trunk for this. We'll want ESR38, Aurora, and Beta patches made and nominated after it lands on trunk.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=isnotempty">status-firefox-esr38</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=equals&amp;v1=%3F">?</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox_esr38&amp;o1=isnotempty">tracking-firefox-esr38</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox_esr38&amp;o1=equals&amp;v1=41%2B">41+</a></div></div></div><div class="change-set" id="a788217_280903"><div class="change" id="aa788217_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a788217_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a788217_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a788217_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a788217_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a788217_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-03 15:23 PDT" data-time="1441318992">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656340&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2"
           class=""
        >Attachment #8656340</a> -
        Flags: sec-approval? &rarr; sec-approval+</div></div></div><div class="change-set" id="a788225_280903"><div class="change" id="aa788225_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a788225_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a788225_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a788225_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a788225_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a788225_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-03 15:23 PDT" data-time="1441319000">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656342&amp;action=edit"
           title="1198435-better-MediaElementTableCount.patch v2"
           class=""
        >Attachment #8656342</a> -
        Flags: sec-approval? &rarr; sec-approval+</div></div></div><div class="change-set" id="c22"><div class="comment" data-id="10695457" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-22" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a788225_280903"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a788225_280903"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-03 21:59 PDT" data-time="1441342792">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8656962"
         class="attachment patch"
         data-id="8656962" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch">
      <meta itemprop="contentSize" content="5739">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8656962">
          <a class="link" href="attachment.cgi?id=8656962&amp;action=diff">
        <span id="att-8656962-description" itemprop="description">1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch</span></a>
        — <a href="attachment.cgi?id=8656962&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1198435&attachment=8656962">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-22" data-comment-id="10695457">(In reply to Al Billings [:abillings] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c21">comment #21</a>)
<span class="quote">&gt; sec-approval+ for trunk for this.</span >

Thank you.

<span class="quote">&gt; We'll want ESR38, Aurora, and Beta patches
&gt; made and nominated after it lands on trunk.</span >

I confirm that ESR38, Aurora and Beta had the same issue, and that the patch &quot;1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2&quot; fixes it.

The patch applies cleanly to Aurora and Beta.

ESR38 needs a rebased patch, attached here, requesting sec-approval.
No actual code changes; carrying r+ from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c12">comment 12</a>.

Please note that I don't think we need &quot;1198435-better-MediaElementTableCount.patch v2&quot; uplifted, as it's not fixing anything, and only of real use to developers and testers to catch similar issues in the future.


Do I need to do anything else?
(It's my first sec patch; and I don't have push privileges yet)</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656962&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch"
           class=""
        >Attachment #8656962</a> -
        Flags: sec-approval?</div><div class="change">
        <a href="/attachment.cgi?id=8656962&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch"
           class=""
        >Attachment #8656962</a> -
        Flags: review+</div></div></div><div class="change-set" id="a846476_406194"><div class="change" id="aa846476_406194">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_406194" id="a846476_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a846476_406194"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a846476_406194">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a846476_406194">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-04 07:34 PDT" data-time="1441377251">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=checkin-needed&amp;resolution=---">checkin-needed</a></div></div></div><div class="change-set" id="c23"><div class="comment" data-id="10697027" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-23" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a846476_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-04 07:34 PDT" data-time="1441377287">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-23" data-comment-id="10697027">Comment on <span class=""><a href="/attachment.cgi?id=8656962" name="attach_8656962" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch">attachment 8656962</a> <a href="/attachment.cgi?id=8656962&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch">[details]</a> <a href="/attachment.cgi?id=8656962&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8656962'>[review]</a>
1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch

<span class="quote">&gt; Do I need to do anything else?</span >

No, this is fine, it should be ready to be checked in now. (You also don't need sec-approval on different versions of the patch.)</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656962&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch"
           class=""
        >Attachment #8656962</a> -
        Flags: <span class="activity-deleted">sec-approval?</span></div></div></div><div class="change-set" id="c24"><div class="comment" data-id="10704334" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-24" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_277293" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/8378311bf1bd5e9eddc7896a07688876?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_277293" id="a846476_406194"><a class="email disabled" href="/user_profile?user_id=277293" > <span class="fna">Carsten Book [:Tomcat]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-08 01:07 PDT" data-time="1441699668">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-24" data-comment-id="10704334">gerald: is there a try run for this changes ?</pre><div class="activity"><div class="change">Flags: needinfo?(gsquelart)</div><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=checkin-needed&amp;resolution=---">checkin-needed</a></span></div></div></div><div class="change-set" id="c25"><div class="comment" data-id="10704548" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-25" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a846476_406194"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-08 02:33 PDT" data-time="1441704790">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-25" data-comment-id="10704548">(In reply to Carsten Book [:Tomcat] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c24">comment #24</a>)
<span class="quote">&gt; gerald: is there a try run for this changes ?</span >

No, I thought try runs were not advisable for sec-critical bugs?

I could sneak an uncommented patch into a try for another uninteresting bug.
Andrew, what would you recommend?</pre><div class="activity"><div class="change">Flags: needinfo?(gsquelart) &rarr; needinfo?(continuation)</div></div></div><div class="change-set" id="c26"><div class="comment" data-id="10705518" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-26" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a846476_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-08 07:42 PDT" data-time="1441723357">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-26" data-comment-id="10705518">(In reply to Gerald Squelart [:gerald] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c25">comment #25</a>)
<span class="quote">&gt; No, I thought try runs were not advisable for sec-critical bugs?
&gt; 
&gt; I could sneak an uncommented patch into a try for another uninteresting bug.</span >

In general, you are right that you don't want to do a try push with the bug number in it, and something like this would be the right thing to do. In this particular case, you've been approved for landing on trunk, so it doesn't matter quite as much. It would still be good to not include the bug number in your try push.

(There's some kind of vague plan for a more secure try server, but I'm not sure what the time line for that is.)</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(continuation)</span></div></div></div><div class="change-set" id="c27"><div class="comment" data-id="10712464" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-27" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a846476_406194"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-09 14:26 PDT" data-time="1441833985">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-27" data-comment-id="10712464">The two patches are buried in this try run:
<a rel="nofollow" href="https://treeherder.mozilla.org/#/jobs?repo=try&amp;revision=dceca7a77500">https://treeherder.mozilla.org/#/jobs?repo=try&amp;revision=dceca7a77500</a></pre><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=checkin-needed&amp;resolution=---">checkin-needed</a></div></div></div><div class="change-set" id="c28"><div class="comment" data-id="10714009" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-28" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_277293" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/8378311bf1bd5e9eddc7896a07688876?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_277293" id="a846476_406194"><a class="email disabled" href="/user_profile?user_id=277293" > <span class="fna">Carsten Book [:Tomcat]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-10 00:13 PDT" data-time="1441869180">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-28" data-comment-id="10714009"><a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/08d1defbf501">https://hg.mozilla.org/integration/mozilla-inbound/rev/08d1defbf501</a>
<a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/cb16e1ad62ea">https://hg.mozilla.org/integration/mozilla-inbound/rev/cb16e1ad62ea</a></pre><div class="activity"><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=checkin-needed&amp;resolution=---">checkin-needed</a></span></div></div></div><div class="change-set" id="c29"><div class="comment" data-id="10717977" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-29" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_538805" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/9bd092443d615af36b31b04e81ad7806?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_538805" id="a846476_406194"><a class="email disabled" href="/user_profile?user_id=538805" > <span class="fna">Ritu Kothari (:ritu) (Inactive, please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-10 15:12 PDT" data-time="1441923171">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-29" data-comment-id="10717977">Andrew, do you think this fix is safe to uplift to Beta41? We gtb 41 RC on Monday and given that this is sec-critical, we might be able to take a fix if it is low risk.</pre><div class="activity"><div class="change">Flags: needinfo?(continuation)</div></div></div><div class="change-set" id="c30"><div class="comment" data-id="10717982" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-30" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a846476_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-10 15:14 PDT" data-time="1441923278">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-30" data-comment-id="10717982">I don't know. That would be a question for the patch author or reviewer.</pre><div class="activity"><div class="change">Flags: needinfo?(continuation) &rarr; needinfo?(gsquelart)</div></div></div><div class="change-set" id="c31"><div class="comment" data-id="10718136" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-31" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a846476_406194"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-10 15:39 PDT" data-time="1441924759">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-31" data-comment-id="10718136">(In reply to Ritu Kothari (:ritu) from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c29">comment #29</a>)
<span class="quote">&gt; Andrew, do you think this fix is safe to uplift to Beta41? We gtb 41 RC on
&gt; Monday and given that this is sec-critical, we might be able to take a fix
&gt; if it is low risk.</span >

First, only the first patch &quot;1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2&quot; needs to be uplifted.

I believe it is very low risk:
- The existing method RemoveMediaElementFromURITable() was only changed to replace a few assertions into return statements, e.g. instead of asserting that some pointer should be null and then dereferencing it anyway, we just don't do anything with it (which is fine in this case).
- That method, which was already used, is now called in four more places where it should have been called anyway.
- The patch applies as-is to 42 and 41, and I've locally tested that it does fix the bug -- but only on one platform (Mac OS X 10.10). I could prepare try-runs if preferred.

Back to you Ritu.</pre><div class="activity"><div class="change">Flags: needinfo?(gsquelart) &rarr; needinfo?(rkothari)</div></div></div><div class="change-set" id="c32"><div class="comment" data-id="10718361" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-32" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_538805" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/9bd092443d615af36b31b04e81ad7806?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_538805" id="a846476_406194"><a class="email disabled" href="/user_profile?user_id=538805" > <span class="fna">Ritu Kothari (:ritu) (Inactive, please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-10 16:42 PDT" data-time="1441928570">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-32" data-comment-id="10718361">Thanks Gerald for a quick follow up. Based on your assessment and a review of the patch it does seem straightforward. I discussed a bit with DVeditz and he believes it is low risk as well. 

Could you please nominate only &quot;1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2&quot; patch for beta uplift? I will discuss it with Sylvestre/Lawrence before making a call sometime tomorrow am PST. Thanks!</pre><div class="activity"><div class="change">Flags: needinfo?(rkothari) &rarr; needinfo?(gsquelart)</div></div></div><div class="change-set" id="c33"><div class="comment" data-id="10718372" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-33" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_538805" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/9bd092443d615af36b31b04e81ad7806?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_538805" id="a846476_406194"><a class="email disabled" href="/user_profile?user_id=538805" > <span class="fna">Ritu Kothari (:ritu) (Inactive, please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-10 16:46 PDT" data-time="1441928777">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-33" data-comment-id="10718372">Actually, please nominate uplifts for Aurora and ESR38 too.</pre></div><div class="change-set" id="c34"><div class="comment" data-id="10718393" data-no="34"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-34" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a846476_406194"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-10 16:51 PDT" data-time="1441929093">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-34" data-comment-id="10718393">Comment on <span class=""><a href="/attachment.cgi?id=8656340" name="attach_8656340" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">attachment 8656340</a> <a href="/attachment.cgi?id=8656340&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">[details]</a> <a href="/attachment.cgi?id=8656340&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8656340'>[review]</a>
1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2

Approval Request Comment
[Feature/regressing bug #]: <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435">Bug 1198435</a>
[User impact if declined]: Possible remote code execution in 42.
[Describe test coverage new/current, TreeHerder]: Only local testing! I could prepare try runs, as the risk of exposing this issue.
[Risks and why]: Very low, see <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c31">comment 31</a>.
[String/UUID change made/needed]: N/A</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656340&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2"
           class=""
        >Attachment #8656340</a> -
        Flags: approval-mozilla-aurora?</div></div></div><div class="change-set" id="c35"><div class="comment" data-id="10718404" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-35" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a846476_406194"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-10 16:52 PDT" data-time="1441929141">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-35" data-comment-id="10718404">Comment on <span class=""><a href="/attachment.cgi?id=8656340" name="attach_8656340" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">attachment 8656340</a> <a href="/attachment.cgi?id=8656340&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">[details]</a> <a href="/attachment.cgi?id=8656340&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8656340'>[review]</a>
1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2

Approval Request Comment
[Feature/regressing bug #]: <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435">Bug 1198435</a>
[User impact if declined]: Possible remote code execution in 42.
[Describe test coverage new/current, TreeHerder]: Only local testing! I could prepare try runs, as the risk of exposing this issue.
[Risks and why]: Very low, see <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c31">comment 31</a>.
[String/UUID change made/needed]: N/A</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656340&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2"
           class=""
        >Attachment #8656340</a> -
        Flags: approval-mozilla-beta?</div></div></div><div class="change-set" id="c36"><div class="comment" data-id="10718428" data-no="36"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-36" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a846476_406194"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-36"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-36" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-10 16:55 PDT" data-time="1441929350">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-36" data-comment-id="10718428">Comment on <span class=""><a href="/attachment.cgi?id=8656962" name="attach_8656962" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch">attachment 8656962</a> <a href="/attachment.cgi?id=8656962&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch">[details]</a> <a href="/attachment.cgi?id=8656962&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8656962'>[review]</a>
1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch

[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration: sec-critical
User impact if declined: Possible remote code execution in 38.
Fix Landed on Version: 43; also requested beta-42 and aurora-41.
Risk to taking this patch (and alternatives if risky): Very low, see <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c31">comment 31</a>. (The only difference with the other patch for 41/42/43 is rebased context.)
String or UUID changes made by this patch: N/A.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(gsquelart)</span></div><div class="change">
        <a href="/attachment.cgi?id=8656962&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch"
           class=""
        >Attachment #8656962</a> -
        Flags: approval-mozilla-esr38?</div></div></div><div class="change-set" id="c37"><div class="comment" data-id="10720852" data-no="37"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-37" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_277293" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/8378311bf1bd5e9eddc7896a07688876?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_277293" id="a846476_406194"><a class="email disabled" href="/user_profile?user_id=277293" > <span class="fna">Carsten Book [:Tomcat]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-11 07:46 PDT" data-time="1441982781">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-37" data-comment-id="10720852"><a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/08d1defbf501">https://hg.mozilla.org/mozilla-central/rev/08d1defbf501</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/cb16e1ad62ea">https://hg.mozilla.org/mozilla-central/rev/cb16e1ad62ea</a></pre><div class="activity"><div class="change">Status: NEW &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2015-09-11 07:46 PDT" data-time="1441982781">6 years ago</span></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_master&amp;o1=isnotempty">status-b2g-master</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_master&amp;o1=equals&amp;v1=fixed">fixed</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox43&amp;o1=isnotempty">status-firefox43</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox43&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox43&amp;o1=equals&amp;v1=fixed">fixed</a></div><div class="change">Flags: in-testsuite?</div><div class="change">Resolution: --- &rarr; FIXED</div><div class="change">Target Milestone: --- &rarr; mozilla43</div></div></div><div class="change-set" id="c38"><div class="comment" data-id="10721639" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-38" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_451704" id="a846476_406194"><img src="https://secure.gravatar.com/avatar/6168ea97fda0cefa449331e59b24e8f7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_451704" id="a846476_406194"><a class="email " href="/user_profile?user_id=451704" > <span class="fna">Liz Henry (:lizzard Please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-11 10:36 PDT" data-time="1441992964">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-38" data-comment-id="10721639">I'd like this for ESR as well if it is uplifted to beta. Ritu can you mark it for ESR if you take it this weekend?  Thanks!</pre></div><div class="change-set" id="a1469906_1689"><div class="change" id="aa1469906_1689">
    <table class="layout-table change-head reporter" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a1469906_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1469906_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1469906_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a1469906_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-11 12:44 PDT" data-time="1442000681">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: media-core-security &rarr; core-security-release</div></div></div><div class="change-set" id="c39"><div class="comment" data-id="10726568" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-39" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_495955" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/5aa2e382197a147b42d020b6878f8623?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_495955" id="a1469906_1689"><a class="email " href="/user_profile?user_id=495955" > <span class="fna">Sylvestre Ledru [:Sylvestre]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 01:45 PDT" data-time="1442220340">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-39" data-comment-id="10726568">Comment on <span class=""><a href="/attachment.cgi?id=8656340" name="attach_8656340" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">attachment 8656340</a> <a href="/attachment.cgi?id=8656340&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">[details]</a> <a href="/attachment.cgi?id=8656340&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8656340'>[review]</a>
1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2

Let's take it for aurora at least.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656340&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2"
           class=""
        >Attachment #8656340</a> -
        Flags: approval-mozilla-aurora? &rarr; approval-mozilla-aurora+</div></div></div><div class="change-set" id="c40"><div class="comment" data-id="10728569" data-no="40"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-40" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_451704" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/6168ea97fda0cefa449331e59b24e8f7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_451704" id="a1469906_1689"><a class="email " href="/user_profile?user_id=451704" > <span class="fna">Liz Henry (:lizzard Please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-40"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-40" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 10:31 PDT" data-time="1442251915">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-40" data-comment-id="10728569">Comment on <span class=""><a href="/attachment.cgi?id=8656962" name="attach_8656962" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch">attachment 8656962</a> <a href="/attachment.cgi?id=8656962&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch">[details]</a> <a href="/attachment.cgi?id=8656962&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8656962'>[review]</a>
1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch

Approved for uplift to ESR38.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656962&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc_esr38.patch"
           class=""
        >Attachment #8656962</a> -
        Flags: approval-mozilla-esr38? &rarr; approval-mozilla-esr38+</div></div></div><div class="change-set" id="c41"><div class="comment" data-id="10728607" data-no="41"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-41" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_538805" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/9bd092443d615af36b31b04e81ad7806?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_538805" id="a1469906_1689"><a class="email disabled" href="/user_profile?user_id=538805" > <span class="fna">Ritu Kothari (:ritu) (Inactive, please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-41"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-41" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 10:39 PDT" data-time="1442252389">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-41" data-comment-id="10728607">Comment on <span class=""><a href="/attachment.cgi?id=8656340" name="attach_8656340" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">attachment 8656340</a> <a href="/attachment.cgi?id=8656340&amp;action=edit" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">[details]</a> <a href="/attachment.cgi?id=8656340&amp;action=diff" title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1198435&amp;attachment=8656340'>[review]</a>
1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2

[Triage Comment] Approving for uplift to m-r so it makes it into 41 RC build. I have discussed this fix with DVeditz and it is deemed safe to uplift to 41 RC.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8656340&amp;action=edit"
           title="1198435-remove-self-from-URITable-when-modifying-mLoadingSrc.patch v2"
           class=""
        >Attachment #8656340</a> -
        Flags: approval-mozilla-beta? &rarr; approval-mozilla-release+</div></div></div><div class="change-set" id="c42"><div class="comment" data-id="10729422" data-no="42"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-42" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_308534" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/bb55b2a8c34fd29f570ca139f13d46b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_308534" id="a1469906_1689"><a class="email " href="/user_profile?user_id=308534" > <span class="fna">Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-42"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-42" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 13:20 PDT" data-time="1442262058">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-42" data-comment-id="10729422"><a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-release/rev/df2dea566188">https://hg.mozilla.org/releases/mozilla-release/rev/df2dea566188</a>
<a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-release/rev/0bfe8c7362cb">https://hg.mozilla.org/releases/mozilla-release/rev/0bfe8c7362cb</a></pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox41&amp;o1=isnotempty">status-firefox41</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox41&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox41&amp;o1=equals&amp;v1=fixed">fixed</a></div></div></div><div class="change-set" id="c43"><div class="comment" data-id="10729595" data-no="43"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-43" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_538805" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/9bd092443d615af36b31b04e81ad7806?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_538805" id="a1469906_1689"><a class="email disabled" href="/user_profile?user_id=538805" > <span class="fna">Ritu Kothari (:ritu) (Inactive, please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-43"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-43" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 13:53 PDT" data-time="1442264015">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-43" data-comment-id="10729595">Gerald, KWierso mentioned that your patch has caused a bustage in mozilla-release branch. He said Fennec builds are impacted. I believe we will need to back out unless you can quickly determine the cause and fix it. Thanks!</pre><div class="activity"><div class="change">Flags: needinfo?(gsquelart)</div></div></div><div class="change-set" id="c44"><div class="comment" data-id="10729630" data-no="44"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-44" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_308534" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/bb55b2a8c34fd29f570ca139f13d46b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_308534" id="a1469906_1689"><a class="email " href="/user_profile?user_id=308534" > <span class="fna">Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-44"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-44" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 14:01 PDT" data-time="1442264507">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-44" data-comment-id="10729630">Backed out from release (41) in <a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-release/rev/ab4526a8de9c">https://hg.mozilla.org/releases/mozilla-release/rev/ab4526a8de9c</a> and putting off uplifting to esr38 until this gets sorted out.</pre></div><div class="change-set" id="c45"><div class="comment" data-id="10729649" data-no="45"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-45" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_308534" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/bb55b2a8c34fd29f570ca139f13d46b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_308534" id="a1469906_1689"><a class="email " href="/user_profile?user_id=308534" > <span class="fna">Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-45"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-45" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 14:09 PDT" data-time="1442264971">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-45" data-comment-id="10729649">Was informed only one of those patches should have been uplifted, so relanded that one to see if it's still broken: <a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-release/rev/3662a8ec90d1">https://hg.mozilla.org/releases/mozilla-release/rev/3662a8ec90d1</a></pre></div><div class="change-set" id="c46"><div class="comment" data-id="10729711" data-no="46"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-46" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_538805" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/9bd092443d615af36b31b04e81ad7806?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_538805" id="a1469906_1689"><a class="email disabled" href="/user_profile?user_id=538805" > <span class="fna">Ritu Kothari (:ritu) (Inactive, please n-i to RyanVM, jcristau, or pascal)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-46"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-46" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 14:26 PDT" data-time="1442266005">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-46" data-comment-id="10729711">Clearing the n-i on Gerald as things look good so far.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(gsquelart)</span></div></div></div><div class="change-set" id="c47"><div class="comment" data-id="10729843" data-no="47"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-47" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_515575" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/91fe89bb30a0d2b5671d37d930d22b1d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_515575" id="a1469906_1689"><a class="email " href="/user_profile?user_id=515575" > <span class="fna">Gerald Squelart [:gerald] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-47"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-47" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 14:48 PDT" data-time="1442267314">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-47" data-comment-id="10729843">(In reply to Wes Kocher (:KWierso) from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c45">comment #45</a>)
<span class="quote">&gt; Was informed only one of those patches should have been uplifted, so
&gt; relanded that one to see if it's still broken:
&gt; <a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-release/rev/3662a8ec90d1">https://hg.mozilla.org/releases/mozilla-release/rev/3662a8ec90d1</a></span >

Thank you Wes for relanding just the one needed patch. Pfew!
I just did a local build of m-r, it did compile, and survived the POC test.</pre></div><div class="change-set" id="c48"><div class="comment" data-id="10729935" data-no="48"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-48" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_308534" id="a1469906_1689"><img src="https://secure.gravatar.com/avatar/bb55b2a8c34fd29f570ca139f13d46b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_308534" id="a1469906_1689"><a class="email " href="/user_profile?user_id=308534" > <span class="fna">Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-48"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-48" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 15:12 PDT" data-time="1442268776">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-48" data-comment-id="10729935"><a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-beta/rev/13d8c5e90f0c">https://hg.mozilla.org/releases/mozilla-beta/rev/13d8c5e90f0c</a>
<a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-esr38/rev/606c3f14c0fd">https://hg.mozilla.org/releases/mozilla-esr38/rev/606c3f14c0fd</a></pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=isnotempty">status-firefox-esr38</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=equals&amp;v1=fixed">fixed</a></div></div></div><div class="change-set" id="a1766849_488993"><div class="change" id="aa1766849_488993">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_488993" id="a1766849_488993"><img src="https://secure.gravatar.com/avatar/42f2a9436bbaefa7e0028e214f2b9350?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_488993" id="a1766849_488993"><a class="email " href="/user_profile?user_id=488993" > <span class="fna">Andrei Vaida [:avaida]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1766849_488993"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1766849_488993">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a1766849_488993">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-14 23:13 PDT" data-time="1442297624">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: qe-verify+</div></div></div><div class="change-set" id="c49"><div class="comment" data-id="10731538" data-no="49"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-49" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_277293" id="a1766849_488993"><img src="https://secure.gravatar.com/avatar/8378311bf1bd5e9eddc7896a07688876?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_277293" id="a1766849_488993"><a class="email disabled" href="/user_profile?user_id=277293" > <span class="fna">Carsten Book [:Tomcat]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-49"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-49" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c49">Comment 49</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-15 01:05 PDT" data-time="1442304311">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-49">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-49" data-comment-id="10731538"><a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-aurora/rev/5f0db999ec7d">https://hg.mozilla.org/releases/mozilla-aurora/rev/5f0db999ec7d</a></pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox42&amp;o1=isnotempty">status-firefox42</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox42&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox42&amp;o1=equals&amp;v1=fixed">fixed</a></div></div></div><div class="change-set" id="a1899696_280903"><div class="change" id="aa1899696_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a1899696_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a1899696_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1899696_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1899696_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a1899696_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-16 12:07 PDT" data-time="1442430471">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: [adv-main41+][adv-esr38.3+]</div></div></div><div class="change-set" id="a1905504_280903"><div class="change" id="aa1905504_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a1905504_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a1905504_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1905504_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1905504_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a1905504_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-16 13:44 PDT" data-time="1442436279">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Alias: CVE-2015-4509</div></div></div><div class="change-set" id="c50"><div class="comment" data-id="10744359" data-no="50"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-50" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_455785" id="a1905504_280903"><img src="https://secure.gravatar.com/avatar/f8267efedda3c2e24d5829ef3a9d124e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_455785" id="a1905504_280903"><a class="email " href="/user_profile?user_id=455785" > <span class="fna">Kamil Jozwiak [:kjozwiak]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-50"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-50" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#c50">Comment 50</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-09-17 13:02 PDT" data-time="1442520165">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-50">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-50" data-comment-id="10744359">Reproduced the original crash using the poc from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c0">comment #0</a> with Win 7 x64 and Win 10 x64 VM's:

* <a rel="nofollow" href="http://archive.mozilla.org/pub/firefox/releases/40.0.2/win32/en-US/">http://archive.mozilla.org/pub/firefox/releases/40.0.2/win32/en-US/</a>
** <a rel="nofollow" href="https://crash-stats.mozilla.com/report/index/110a745d-5150-445e-ad21-4fb7a2150917">https://crash-stats.mozilla.com/report/index/110a745d-5150-445e-ad21-4fb7a2150917</a>
** <a rel="nofollow" href="https://crash-stats.mozilla.com/report/index/b30e3e31-5a70-435f-aa9a-253a12150917">https://crash-stats.mozilla.com/report/index/b30e3e31-5a70-435f-aa9a-253a12150917</a>
** <a rel="nofollow" href="https://crash-stats.mozilla.com/report/index/acffc48d-759a-416a-be8d-074c42150917">https://crash-stats.mozilla.com/report/index/acffc48d-759a-416a-be8d-074c42150917</a>

Crash address appears as 0x41414141 as in the crash reports as per <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - HTMLVideoElement Use-After-Free Remote Code Execution (ZDI-CAN-3176)"
   href="/show_bug.cgi?id=1198435#c0">comment #0</a>

OS's used:

- Win 7 x64 VM -&gt; reproduced
- Win 10 x64 VM -&gt; reproduced
- OSX 10.10.5 -&gt; reproduced

Went through verification using the following builds:
- <a rel="nofollow" href="https://archive.mozilla.org/pub/firefox/nightly/2015-09-17-03-02-29-mozilla-central/">https://archive.mozilla.org/pub/firefox/nightly/2015-09-17-03-02-29-mozilla-central/</a>
- <a rel="nofollow" href="https://archive.mozilla.org/pub/firefox/nightly/2015-09-17-00-40-25-mozilla-aurora/">https://archive.mozilla.org/pub/firefox/nightly/2015-09-17-00-40-25-mozilla-aurora/</a>
- <a rel="nofollow" href="https://archive.mozilla.org/pub/firefox/candidates/41.0-candidates/build2/">https://archive.mozilla.org/pub/firefox/candidates/41.0-candidates/build2/</a>
- <a rel="nofollow" href="https://archive.mozilla.org/pub/firefox/candidates/38.3.0esr-candidates/build2/">https://archive.mozilla.org/pub/firefox/candidates/38.3.0esr-candidates/build2/</a>

OS's Used:

* Win 10 x64 VM -&gt; PASSED
** fx43 -&gt; PASS
** fx42 -&gt; PASS
** fx41 -&gt; PASS
** fx38esr -&gt; PASS

* Win 7 x64 VM -&gt; PASSED
** fx43 -&gt; PASS
** fx42 -&gt; PASS
** fx41 -&gt; PASS
** fx38esr -&gt; PASS

* Ubuntu 14.04.3 x64 VM -&gt; PASSED
** fx43 -&gt; PASS
** fx42 -&gt; PASS
** fx41 -&gt; PASS
** fx38esr -&gt; PASS

* OSX 10.10.5 x64 -&gt; PASSED
** fx43 -&gt; PASS
** fx42 -&gt; PASS
** fx41 -&gt; PASS
** fx38esr -&gt; PASS

However, under Ubuntu.. I did get the following crash once but couldn't reproduce it again.. Most likely not related to this issue:
- <a rel="nofollow" href="https://crash-stats.mozilla.com/report/index/a23b517f-48c9-4a26-8de3-2c18e2150917">https://crash-stats.mozilla.com/report/index/a23b517f-48c9-4a26-8de3-2c18e2150917</a></pre><div class="activity"><div class="change">Status: RESOLVED &rarr; VERIFIED</div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox41&amp;o1=isnotempty">status-firefox41</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox41&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox41&amp;o1=equals&amp;v1=verified">verified</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox42&amp;o1=isnotempty">status-firefox42</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox42&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox42&amp;o1=equals&amp;v1=verified">verified</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox43&amp;o1=isnotempty">status-firefox43</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox43&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox43&amp;o1=equals&amp;v1=verified">verified</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=isnotempty">status-firefox-esr38</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr38&amp;o1=equals&amp;v1=verified">verified</a></div></div></div><div class="change-set" id="a26952754_1689"><div class="change" id="aa26952754_1689">
    <table class="layout-table change-head reporter" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a26952754_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a26952754_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a26952754_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a26952754_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1198435#a26952754_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-07-02 11:18 PDT" data-time="1467483529">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: <span class="activity-deleted">core-security-release</span></div></div></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=1198435&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div></div> 
</main> 
</div> 


</body>
</html>