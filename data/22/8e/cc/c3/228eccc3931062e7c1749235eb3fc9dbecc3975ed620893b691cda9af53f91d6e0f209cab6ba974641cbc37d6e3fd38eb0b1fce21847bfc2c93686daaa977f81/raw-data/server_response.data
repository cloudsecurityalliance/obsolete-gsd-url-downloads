<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>Bug 713247 – TLS certificate error window missing</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<link href="https://bugzilla.gnome.org/" rel="Top"/>
<link href="showdependencytree.cgi?id=713247&amp;hide_resolved=1" rel="Show" title="Dependency Tree"/>
<link href="show_bug.cgi?format=multiple&amp;id=713247" rel="Show" title="Printer-Friendly Version"/>
<link href="skins/standard/global.css" rel="alternate stylesheet" title="Classic"/><link href="js/yui/assets/skins/sam/autocomplete.css" rel="stylesheet" type="text/css"/><link href="js/yui/assets/skins/sam/calendar.css" rel="stylesheet" type="text/css"/><link href="skins/standard/global.css" rel="stylesheet" type="text/css"/><link href="skins/standard/show_bug.css" rel="stylesheet" type="text/css"/><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css" rel="stylesheet"
        type="text/css" >
<![endif]-->
<link href="skins/contrib/Gnome/global.css" rel="stylesheet" title="Gnome" type="text/css"/>
<script src="js/yui/yahoo-dom-event/yahoo-dom-event.js" type="text/javascript"></script><script src="js/yui/cookie/cookie-min.js" type="text/javascript"></script><script src="js/yui/datasource/datasource-min.js" type="text/javascript"></script><script src="js/yui/connection/connection-min.js" type="text/javascript"></script><script src="js/yui/json/json-min.js" type="text/javascript"></script><script src="js/yui/autocomplete/autocomplete-min.js" type="text/javascript"></script><script src="js/yui/calendar/calendar-min.js" type="text/javascript"></script><script src="js/global.js" type="text/javascript"></script>
<script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 50
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 713247 – TLS certificate error window missing",  
                             "show_bug.cgi?id=713247" );
        document.title = "Bug 713247 – TLS certificate error window missing";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 713247 – TLS certificate error window missing", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script src="js/util.js" type="text/javascript"></script><script src="js/field.js" type="text/javascript"></script>
<link href="./search_plugin.cgi" rel="search" title="GNOME Bugzilla" type="application/opensearchdescription+xml"/>
<link href="images/favicon.ico" rel="shortcut icon"/><link href="extensions/TraceParser/web/style.css" rel="stylesheet" type="text/css"/>
</head>
<body class="bugzilla-gnome-org bz_bug bz_status_RESOLVED bz_product_geary bz_component_client+engine bz_bug_713247 yui-skin-sam" onload="">
<div id="header">
<div id="banner">
</div>
<table border="0" cellpadding="0" cellspacing="0" id="titles">
<tr>
<td id="title">
<p>GNOME Bugzilla – Bug 713247</p>
</td>
<td id="subtitle">
<p class="subheader">TLS certificate error window missing</p>
</td>
<td id="information">
<p class="header_addl_info">Last modified: 2014-09-03 00:11:52 UTC</p>
</td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" class="bz_default_hidden" id="lang_links_container"><tr><td>
</td></tr></table>
<ul class="links"><li><a href="./">Home</a></li></ul>
</div>
<div id="bugzilla-body">
<div style="margin-bottom: 50px; margin-top: 50px; padding: 40px; text-align: center; background-color: rgb(74,134,207); border: rgb(57,104,161); color: rgb(255,255,255); line-height: 300%;">After an <a href="https://wiki.gnome.org/Initiatives/DevelopmentInfrastructure" style="color: rgb(255,255,255);">evaluation</a>, GNOME has moved from Bugzilla to <a href="https://gitlab.gnome.org/" style="color: rgb(255,255,255);">GitLab</a>. <a href="https://wiki.gnome.org/GitLab" style="color: rgb(255,255,255);">Learn more about GitLab</a>. <br/><span style="background-color: #EE0000; font-size: xx-large;"><b>No new issues can be reported in GNOME Bugzilla anymore.</b></span>
<br/><span style="background-color: #EE0000; font-size: xx-large;"><b>To report an issue in a GNOME project, <a href="https://gitlab.gnome.org/GNOME" style="color: rgb(255,255,255);">go to GNOME GitLab</a></b>.</span><br/>Do <b>not</b> go to GNOME Gitlab for: <a href="https://sourceforge.net/p/bluefish/tickets" style="color: rgb(255,255,255);">Bluefish</a>, <a href="https://github.com/doxygen/doxygen/issues" style="color: rgb(255,255,255);">Doxygen</a>, <a href="https://bugs.gnucash.org/" style="color: rgb(255,255,255);">GnuCash</a>, <a href="https://gitlab.freedesktop.org/gstreamer/" style="color: rgb(255,255,255);">GStreamer</a>, <a href="https://github.com/afcowie/java-gnome/issues" style="color: rgb(255,255,255);">java-gnome</a>, <a href="https://github.com/ldtp/ldtp2/issues" style="color: rgb(255,255,255);">LDTP</a>, <a href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/issues" style="color: rgb(255,255,255);">NetworkManager</a>, <a href="https://github.com/tomboy-notes/tomboy/issues" style="color: rgb(255,255,255);">Tomboy</a>.</div>
<script type="text/javascript">
<!--

//-->
</script>
<form action="process_bug.cgi" id="changeform" method="post" name="changeform">
<input name="delta_ts" type="hidden" value="2014-09-03 00:11:52"/>
<input name="longdesclength" type="hidden" value="10"/>
<input name="id" type="hidden" value="713247"/>
<input name="token" type="hidden" value="1626123001-ikeEUEijEvJxcrpmtwzbNi5mDpEH8qdp8vDlumsIXes"/>
<div class="bz_alias_short_desc_container edit_form">
<a href="show_bug.cgi?id=713247"><b>Bug 713247</b></a> -<span class="bz_default_hidden" id="summary_alias_container">
<span id="short_desc_nonedit_display">TLS certificate error window missing</span>
</span>
<div id="summary_alias_input">
<table id="summary">
<tr>
<td colspan="2">
</td>
</tr>
<tr><th class="field_label" id="field_label_short_desc">
<label accesskey="s" for="short_desc">
<a class="field_help_link" href="page.cgi?id=fields.html#short_desc" title="The bug summary is a short sentence which succinctly describes what the bug is about.">Summary:</a>
</label>
</th>
<td>TLS certificate error window missing
          </td>
</tr>
</table>
</div>
</div>
<script type="text/javascript">
    hideAliasAndSummary('TLS certificate error window missing', '');
  </script>
<table class="edit_form">
<tr>
<td class="bz_show_bug_column" id="bz_show_bug_column_1">
<table>
<tr>
<th class="field_label">
<a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
<td id="bz_field_status">
<span id="static_bug_status">RESOLVED
          FIXED
      </span>
</td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_product">
<a class="field_help_link" href="describecomponents.cgi" title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list.">Product:</a>
</th>
<td class="field_value" id="field_container_product">geary</td>
</tr>
<tr class="bz_default_hidden"><th class="field_label" id="field_label_classification">
<a class="field_help_link" href="page.cgi?id=fields.html#classification" title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.">Classification:</a>
</th>
<td class="field_value" id="field_container_classification">Other</td>
</tr>
<tr><th class="field_label" id="field_label_component">
<a class="field_help_link" href="describecomponents.cgi?product=geary" title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.">Component:</a>
</th>
<td class="field_value" id="field_container_component">client+engine</td>
</tr>
<tr><th class="field_label" id="field_label_version">
<label for="version">
<a class="field_help_link" href="page.cgi?id=fields.html#version" title="The version field defines the version of the software the bug was found in.">Version:</a>
</label>
</th>
<td>master
  </td>
</tr>
<tr><th class="field_label" id="field_label_rep_platform">
<label accesskey="h" for="rep_platform">
<a class="field_help_link" href="page.cgi?id=fields.html#rep_platform" title='The hardware platform the bug was observed on. Note: When searching, selecting the option "All" only finds bugs whose value for this field is literally the word "All".'>Hardware:</a>
</label>
</th>
<td class="field_value">Other
       All
      </td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr>
<th class="field_label">
<label accesskey="i" for="priority">
<a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
<td>High
       normal
      </td>
</tr>
<tr>
<th class="field_label">
<label for="target_milestone">
<a href="page.cgi?id=fields.html#target_milestone">
            Target Milestone</a></label>:
        </th><td>0.6.3
  </td>
</tr>
<tr>
<th class="field_label">
<a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
<td><span class="vcard"><span class="fn">Geary Maintainers</span>
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_qa_contact">
<label accesskey="q" for="qa_contact">
<a class="field_help_link" href="page.cgi?id=fields.html#qa_contact" title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.">QA Contact:</a>
</label>
</th>
<td><span class="vcard"><span class="fn">Geary Maintainers</span>
</span>
</td>
</tr>
<script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'geary-maint\x40gnome.bugs',
        'geary-maint\x40gnome.bugs');
    </script>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_bug_file_loc">
<label accesskey="u" for="bug_file_loc">
<a class="field_help_link" href="page.cgi?id=fields.html#bug_file_loc" title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.">URL:</a>
</label>
</th>
<td>
<span id="bz_url_input_area">
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_status_whiteboard">
<label accesskey="w" for="status_whiteboard">
<a class="field_help_link" href="page.cgi?id=fields.html#status_whiteboard" title="Each bug has a free-form single line text entry box for adding tags and status information.">Whiteboard:</a>
</label>
</th><td colspan="2">
</td>
</tr>

<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_dependson">
<a class="field_help_link" href="page.cgi?id=fields.html#dependson" title="The bugs listed here must be resolved before this bug can be resolved.">Depends on:</a>
</th>
<td>
<span id="dependson_input_area">
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_blocked">
<a class="field_help_link" href="page.cgi?id=fields.html#blocked" title="This bug must be resolved before the bugs listed in this field can be resolved.">Blocks:</a>
</th>
<td>
<span id="blocked_input_area">
</span>
</td>
</tr>
<tr>
<th> </th>

</tr>
</table>
</td>
<td>
<div class="bz_column_spacer"> </div>
</td>
<td class="bz_show_bug_column" id="bz_show_bug_column_2">
<table cellpadding="3" cellspacing="1">
<tr>
<th class="field_label">
      Reported:
    </th>
<td>2012-05-06 11:55 UTC by <span class="vcard"><span class="fn">Geary Maintainers</span>
</span>
</td>
</tr>
<tr>
<th class="field_label">
      Modified:
    </th>
<td>2014-09-03 00:11 UTC 
    </td>
</tr>

<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_see_also">
<a class="field_help_link" href="page.cgi?id=fields.html#see_also" title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.">See Also:</a>
</th>
<td class="field_value" id="field_container_see_also"></td>
</tr>
<tr><th class="field_label" id="field_label_cf_gnome_target">
<a class="field_help_link" href="page.cgi?id=fields.html#cf_gnome_target" title="A custom Drop Down field in this installation of GNOME Bugzilla.">GNOME target:</a>
</th>
<td class="field_value" colspan="2" id="field_container_cf_gnome_target">---</td>
</tr>
<tr><th class="field_label" id="field_label_cf_gnome_version">
<a class="field_help_link" href="page.cgi?id=fields.html#cf_gnome_version" title="A custom Drop Down field in this installation of GNOME Bugzilla.">GNOME version:</a>
</th>
<td class="field_value" colspan="2" id="field_container_cf_gnome_version">---</td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="3">
<hr id="bz_top_half_spacer"/>
</td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" id="bz_big_form_parts"><tr>
<td>
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>
<br/>
<table cellpadding="4" cellspacing="0" id="attachment_table">
<tr id="a0">
<th align="left" colspan="2">
      Attachments
    </th>
</tr>
<tr class="bz_contenttype_image_png" id="a1">
<td valign="top">
<a href="attachment.cgi?id=260631" title="View the content of the attachment">
<b>cert.png</b></a>
<span class="bz_attach_extra_info">
              (26.12 KB,
                image/png)

            <br/>
<a href="#attach_260631" title="Go to the comment associated with the attachment">2012-07-18 22:41 UTC</a>,

            <span class="vcard"><span class="fn">Geary Maintainers</span>
</span>
</span>
</td>
<td valign="top">
<a href="attachment.cgi?id=260631&amp;action=edit">Details</a>
</td>
</tr>

</table>
<br/>
</td>
<td>
</td>
</tr></table>
<div id="comments"><script src="js/comments.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>
<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table cellpadding="0" cellspacing="0" class="bz_comment_table"><tr>
<td>
<div class="bz_comment bz_first_comment" id="c0">
<div class="bz_first_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=713247#c0">Description</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Charles Lindsay</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-11-21 20:20:06 UTC
        </span>
</div>
<pre class="bz_comment_text">


---- Reported by <a href="mailto:geary-maint@gnome.bugs">geary-maint@gnome.bugs</a> 2012-05-06 04:55:00 -0700 ----

Original Redmine bug id: 5209
Original URL: <a href="http://redmine.yorba.org/issues/5209">http://redmine.yorba.org/issues/5209</a>
Searchable id: yorba-bug-5209
Original author: Jannis F
Original description:

When geary gets a certificate error (self-signed certificate), it'll log that
to console when starting with --debug, but the window will just continue
loading without getting an error.

Geary should open a window with the error, certificate information (checksum
etc) and the possibility to permanently accept the certificate. There should
also be the possibility to remove the permanently accepted certificates.

Related issues:
related to geary - 5224: Dovecot (and other open-source servers) work
poorly (Fixed)
related to geary - 5805: Unacceptable TLS certificate error (Fixed)
related to geary - Feature #6634: Specify folder for Sent Mail (Duplicate)



---- Additional Comments From <a href="mailto:geary-maint@gnome.bugs">geary-maint@gnome.bugs</a> 2013-07-11 15:17:00 -0700 ----

### History

####

#1

Updated by Christian Dywan over 1 year ago

I'd like to propose to use "gcr-3", the certificate GUI used by Seahorse and
GNOME keyring notably, natively built on GTlsCertificate API. I added it to
Midori to display certificate details and I'd love to push for a unified UI.

At minimum, Geary should be able to show the certificate if it's unverified.
On top of that, a simple way to import a certificate file, would be the most
robust option.

####

#2

Updated by Christian Dywan over 1 year ago

  * **File** cert.png added

####

#3

Updated by Adam Dingle about 1 year ago

  * **Target version** set to _0.2_

####

#4

Updated by Jim Nelson about 1 year ago

It's possible this will introduce new strings.

####

#5

Updated by Adam Dingle about 1 year ago

  * **Target version** deleted (&lt;strike&gt;_0.2_&lt;/strike&gt;)

Too late for 0.2, unfortunately. We should look at this for 0.3.

####

#6

Updated by Jim Nelson about 1 year ago

  * **Target version** set to _0.3.0_

Reported downstream at <a href="https://bugs.launchpad.net/geary/+bug/1071289">https://bugs.launchpad.net/geary/+bug/1071289</a>

####

#7

Updated by Chris Lee 11 months ago

Until this is fixed in geary, how do I work around it? There's gotta be some
way to download/trust the cert as my user, right?

####

#8

Updated by Jim Nelson 11 months ago

With the patch for #5805, Geary will accept all certificates and log TLS
errors and warnings. This is not the best situation, however, hence we'd like
to implement this for 0.3. To get this version of Geary, you'll need to build
and install from our git server or use our Daily PPA:
<a href="https://launchpad.net/~yorba/+archive/daily-builds/">https://launchpad.net/~yorba/+archive/daily-builds/</a>

####

#9

Updated by Jim Nelson 10 months ago

  * **Category** set to _client+engine_

####

#10

Updated by Jim Nelson 10 months ago

  * **Tracker** changed from _Bug_ to _Feature_

####

#11

Updated by Jim Nelson 9 months ago

  * **Target version** changed from _0.3.0_ to _0.4.0_

####

#12

Updated by Jim Nelson 8 months ago

Also ticketed at Launchpad here, but requesting a different aspect of this
ticket: <a href="https://bugs.launchpad.net/ubuntu/+source/geary/+bug/1158859">https://bugs.launchpad.net/ubuntu/+source/geary/+bug/1158859</a>

####

#13

Updated by Jim Nelson 4 months ago

  * **Target version** changed from _0.4.0_ to _0.5.0_



--- Bug imported by <a href="mailto:chaz@yorba.org">chaz@yorba.org</a> 2013-11-21 20:20 UTC  ---

This bug was previously known as _bug_ 5209 at <a href="http://redmine.yorba.org/show_bug.cgi?id=5209">http://redmine.yorba.org/show_bug.cgi?id=5209</a>
Imported an attachment (id=260631)

Unknown milestone "unknown in product geary. 
   Setting to default milestone for this product, "---".
Setting qa contact to the default for this product.
   This bug either had no qa contact or an invalid one.
Resolution set on an open status.
   Dropping resolution 

</pre>
</div><div class="bz_comment" id="c1">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=713247#c1">Comment 1</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Olaf Leidinger</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2014-01-28 14:56:07 UTC
        </span>
</div>
<pre class="bz_comment_text">What's the current state of this bug? Today, I built geary from git and got this messages:

$ geary --debug

[msg] 15:50:47 0,059068 geary-application.vala:167: Geary 0.5.0 prefix=/usr exec_dir=/usr/bin is_installed=true
 [deb] 15:50:47 0,118062 null-indicator.vala:13: No messaging menu support in this build
 [deb] 15:50:47 0,007689 geary-controller.vala:1153: No accounts found.
 [deb] 15:50:47 0,062921 conversation-web-view.vala:179: Loading new message viewer style from /home/oleid/.config/geary/user-message.css...
 [msg] 15:51:31 44,012233 geary-endpoint.vala:126: SSL TLS warnings connecting to mescharet.de/default:993: 1h (UNKNOWN_CA)
 [deb] 15:51:31 0,000241 imap-client-session.vala:1428: [0000/mescharet.de/default:993 GEARY_IMAP_CLIENT_SESSION_STATE_CONNECTING] Connected to mescharet.de/default:993
 [deb] 15:51:31 0,000014 imap-client-session.vala:604: [0000/mescharet.de/default:993 GEARY_IMAP_CLIENT_SESSION_STATE_CONNECTING] Connected
 [deb] 15:51:31 0,003299 imap-client-session.vala:1464: [0000/mescharet.de/default:993 GEARY_IMAP_CLIENT_SESSION_STATE_CONNECTING] ok #1: ID "AUTH=PLAIN" SASL-IR LITERAL+ LOGIN-REFERRALS IMAP4rev1 ENABLE IDLE
 [deb] 15:51:31 0,000348 imap-client-session.vala:698: [0000/mescharet.de/default:993 GEARY_IMAP_CLIENT_SESSION_STATE_NOAUTH] use_starttls=false is_ssl=true starttls=false
 [deb] 15:51:31 0,000009 imap-client-session.vala:726: [0000/mescharet.de/default:993 GEARY_IMAP_CLIENT_SESSION_STATE_NOAUTH] No STARTTLS attempted
 [deb] 15:51:31 0,088159 imap-client-session.vala:1464: [0000/mescharet.de/default:993 GEARY_IMAP_CLIENT_SESSION_STATE_AUTHORIZING] ok #2: URL-PARTIAL UNSELECT NAMESPACE UIDPLUS LIST-STATUS ID SORT "SORT=DISPLAY" "I18NLEVEL=1" SASL-IR CONDSTORE WITHIN "CONTEXT=SEARCH" "THREAD=ORDEREDSUBJECT" "THREAD=REFS" "THREAD=REFERENCES" LITERAL+ LIST-EXTENDED LOGIN-REFERRALS BINARY IMAP4rev1 MULTIAPPEND ESORT ENABLE IDLE CATENATE ESEARCH MOVE CHILDREN QRESYNC SEARCHRES SPECIAL-USE
 [deb] 15:51:31 0,000519 imap-client-session.vala:762: [0000/mescharet.de/default:993 GEARY_IMAP_CLIENT_SESSION_STATE_AUTHORIZED] No compression available
 [deb] 15:51:31 0,000110 imap-deserializer.vala:247: [des:0000/192.168.0.1:993/GEARY_IMAP_CLIENT_CONNECTION_STATE_CONNECTED/GEARY_IMAP_DESERIALIZER_STATE_TAG] Waiting for deserializer to close...
 [deb] 15:51:31 0,000094 imap-deserializer.vala:799: [des:0000/192.168.0.1:993/GEARY_IMAP_CLIENT_CONNECTION_STATE_CONNECTED/GEARY_IMAP_DESERIALIZER_STATE_TAG] input error: Vorgang wurde abgebrochen
 [deb] 15:51:31 0,000732 imap-deserializer.vala:249: [des:0000/192.168.0.1:993/GEARY_IMAP_CLIENT_CONNECTION_STATE_CONNECTED/GEARY_IMAP_DESERIALIZER_STATE_CLOSED] Deserializer closed
 [deb] 15:51:31 0,000040 imap-client-connection.vala:406: [0000/mescharet.de/default:993/GEARY_IMAP_CLIENT_CONNECTION_STATE_CONNECTED] Disconnecting...
 [deb] 15:51:31 0,001022 imap-client-connection.vala:408: [0000/mescharet.de/default:993/GEARY_IMAP_CLIENT_CONNECTION_STATE_CONNECTED] Disconnected
 [deb] 15:51:31 0,000015 imap-client-session.vala:1434: [0000/mescharet.de/default:993 GEARY_IMAP_CLIENT_SESSION_STATE_DISCONNECTING] Disconnected from mescharet.de/default:993
 [deb] 15:51:31 0,000266 imap-client-session.vala:395: DTOR: ClientSession mescharet.de/default:993 GEARY_IMAP_CLIENT_SESSION_STATE_BROKEN


Please note that I also tried importing my CA into seahore -- in case that changes something.</pre>
</div><div class="bz_comment" id="c2">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=713247#c2">Comment 2</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jim Nelson</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2014-01-28 21:30:49 UTC
        </span>
</div>
<pre class="bz_comment_text">I don't believe the CA is the problem here.  I'm not exactly sure what the issue is from the above, although it's interesting that your server doesn't support compression.

Can you run Geary like this:

$ geary --debug --log-serializer --log-deserializer &gt; geary.log

and send that to <a href="mailto:geary@yorba.org">geary@yorba.org</a>?  Note that your username and password will be in this log file.  Please remove before sending them to us, along with any other personal data you don't want to share.</pre>
</div><div class="bz_comment" id="c3">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=713247#c3">Comment 3</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Olaf Leidinger</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2014-01-28 22:40:51 UTC
        </span>
</div>
<pre class="bz_comment_text">I just ran this command, configured the mail settings and initiated the serer test via the "add" button (or whatever it is called in the non-locale version). Yet, the log file only contained the following lines - which I consider irrelevant:

 [msg] 23:16:23 1,269090 geary-application.vala:167: Geary 0.5.0 prefix=/usr exec_dir=/usr/bin is_installed=true
 [deb] 23:16:26 2,909808 null-indicator.vala:13: No messaging menu support in this build
 [deb] 23:16:26 0,029253 geary-controller.vala:1153: No accounts found.
 [deb] 23:16:26 0,274925 conversation-web-view.vala:179: Loading new message viewer style from /home/oleid/.config/geary/user-message.css...

Enabling auth debug in my dovecot IMAP server didn't reveal anything of importance - the log looks exactly the same as for claws mail. The one and only difference is that geary closes the connection (while the spinner of the GUI is still running).

FYI: I use dovecot 2.2.10 on my gentoo server and geary-git on arch linux (built via PKGBUILD script from <a href="https://aur.archlinux.org/packages/geary-git/">https://aur.archlinux.org/packages/geary-git/</a>). Version 0.5.0 from the package manager behaves exactly the same.

Any idea why the log file is (mostly) empty?</pre>
</div><div class="bz_comment" id="c4">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=713247#c4">Comment 4</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Olaf Leidinger</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2014-01-28 23:00:06 UTC
        </span>
</div>
<pre class="bz_comment_text">Please ignore the part about the empty log, the rest of the contents where buffered and appeared when closing the app. You'll find a mail in your box.</pre>
</div><div class="bz_comment" id="c5">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=713247#c5">Comment 5</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Olaf Leidinger</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2014-01-28 23:20:45 UTC
        </span>
</div>
<pre class="bz_comment_text">Wow... and suddenly things started working. The problem wasn't the IMAP server but the smtp server. It worked if I switched off any encryption. But as I'm not really using the home smtp server for outside mails this is okay. Also, I'm currently not sure if SSL is properly configured for this very server... will check that. I'm sorry for the noise.</pre>
</div><div class="bz_comment" id="c6">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=713247#c6">Comment 6</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jim Nelson</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2014-01-29 00:01:08 UTC
        </span>
</div>
<pre class="bz_comment_text">The dialog box should've said the problem was with your SMTP server and not IMAP, is that the case?  If not, please file a bug about it.  Thanks!</pre>
</div><div class="bz_comment" id="c7">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=713247#c7">Comment 7</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Olaf Leidinger</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2014-01-29 10:01:48 UTC
        </span>
</div>
<pre class="bz_comment_text">It turned out to be a bug in the german translation.

#: ../../src/client/accounts/add-edit-page.vala:634
msgid "        &amp;#8226; SMTP connection error.\n"
msgstr "&amp;#8226; IMAP-Verbindungsfehler.\n"

I will report that one.</pre>
</div><div class="bz_comment" id="c8">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=713247#c8">Comment 8</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jim Nelson</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2014-08-29 00:32:49 UTC
        </span>
</div>
<pre class="bz_comment_text">Pushed to master, commit 809128</pre>
</div><div class="bz_comment" id="c9">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=713247#c9">Comment 9</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jim Nelson</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2014-09-03 00:11:52 UTC
        </span>
</div>
<pre class="bz_comment_text">Now available in Geary 0.6.3.</pre>
</div>
<script type="text/javascript">
  function traceparser_toggle_trace(link, trace_id) {
    var trace = document.getElementById('trace_' + trace_id);
    bz_toggleClass(trace, 'bz_default_hidden');
    if (link.innerHTML == '+') { link.innerHTML = '&mdash;'; }
    else { link.innerHTML = '+'; }
  }
</script>
</td>
<td>
</td>
</tr></table>
</div>
<hr/>
</form>
<hr/>

<br/>
</div>
<div id="footer">
<div class="intro"></div>
<ul id="useful-links">
<li id="links-actions"><ul class="links">
<li><a href="./">Home</a></li>
<li><span class="separator">| </span><span style="text-decoration:line-through"><a href="">New</a></span></li>
<li><span class="separator">| </span><a href="page.cgi?id=browse.html&amp;product=geary">Browse</a></li>
<li><span class="separator">| </span><a href="query.cgi">Search</a></li>
<li class="form">
<span class="separator">| </span>
<form action="buglist.cgi" method="get" onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
<input id="no_redirect_bottom" name="no_redirect" type="hidden" value="0"/>
<script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
<input class="txt" id="quicksearch_bottom" name="quicksearch" title="Quick Search" type="text" value=""/>
<input class="btn" id="find_bottom" type="submit" value="Search"/></form>
<a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>
<li><span class="separator">| </span><a href="page.cgi?id=reports.html">Reports</a></li>
<li>
<span class="separator">| </span>
<a href="http://www.bugzilla.org/docs/4.4/en/html/bug_page.html" target="_blank">Help</a>
</li>
<li id="mini_login_container_bottom">
<span class="separator">| </span>
<a href="show_bug.cgi?id=713247&amp;GoAheadAndLogIn=1" id="login_link_bottom" onclick="return show_mini_login_form('_bottom')">Log In</a>
<form action="show_bug.cgi?id=713247" class="mini_login bz_default_hidden" id="mini_login_bottom" method="POST" onsubmit="return check_mini_login_fields( '_bottom' );">
<input class="bz_login" id="Bugzilla_login_bottom" name="Bugzilla_login" onfocus="mini_login_on_focus('_bottom')" title="Login"/>
<input class="bz_password" id="Bugzilla_password_bottom" name="Bugzilla_password" title="Password" type="password"/>
<input class="bz_password bz_default_hidden bz_mini_login_help" id="Bugzilla_password_dummy_bottom" onfocus="mini_login_on_focus('_bottom')" title="Password" type="text" value="password"/>
<input checked="" class="bz_remember" id="Bugzilla_remember_bottom" name="Bugzilla_remember" type="checkbox" value="on"/>
<label for="Bugzilla_remember_bottom">Remember</label>
<input name="Bugzilla_login_token" type="hidden" value=""/>
<input id="log_in_bottom" name="GoAheadAndLogIn" type="submit" value="Log in"/>
<script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_bottom');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_bottom');
              }, 200);
          });
    }
    </script>
<a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
</form>
</li>
<li id="forgot_container_bottom">
<span class="separator">| </span>
<a href="show_bug.cgi?id=713247&amp;GoAheadAndLogIn=1#forgot" id="forgot_link_bottom" onclick="return show_forgot_form('_bottom')">Forgot Password</a>
<form action="token.cgi" class="mini_forgot bz_default_hidden" id="forgot_form_bottom" method="post">
<label for="login_bottom">Login:</label>
<input id="login_bottom" name="loginname" size="20" type="text"/>
<input id="forgot_button_bottom" type="submit" value="Reset Password"/>
<input name="a" type="hidden" value="reqpw"/>
<input id="token_bottom" name="token" type="hidden" value="1626123001-Xrwu6rIPfPGM2QrNjyP_Qp2_RfeqXeULQcy6Fu9SC8Y"/>
<a href="#" onclick="return hide_forgot_form('_bottom')">[x]</a>
</form>
</li>
</ul>
</li>
</ul>
<div class="outro"></div>
</div>
</body>
</html>