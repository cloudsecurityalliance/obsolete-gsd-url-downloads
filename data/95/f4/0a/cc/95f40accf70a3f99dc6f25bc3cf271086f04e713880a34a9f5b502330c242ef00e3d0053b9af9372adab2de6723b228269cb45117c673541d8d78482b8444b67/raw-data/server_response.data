<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#991971 - lynx: [CVE-2021-38165] SSL certificate validation fails with URLs containing user name or user name and password, i.e. https://user:password@host/ and https://user@host/\; leaks password in clear text via SNI - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=991971&quot;&gt;991971&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:991971@bugs.debian.org">#991971</a><br>
lynx: [CVE-2021-38165] SSL certificate validation fails with URLs containing user name or user name and password, i.e. https://user:password@host/ and https://user@host/\; leaks password in clear text via SNI</h1>
<div class="versiongraph"><a href="version.cgi?found=lynx-cur%2F2.8.9dev1-2%2Bdeb8u1;found=lynx%2F2.8.9rel.1-3;found=lynx%2F2.8.9dev11-1;found=lynx%2F2.9.0dev.8-1;found=lynx%2F2.9.0dev.6-2;absolute=0;package=lynx;info=1;collapse=1;fixed=lynx%2F2.9.0dev.9-1;fixed=lynx%2F2.9.0dev.6-3;fixed=lynx%2F2.9.0dev.6-3~deb11u1;fixed=lynx%2F2.8.9rel.1-3%2Bdeb10u1"><img alt="version graph" src="version.cgi?fixed=lynx%2F2.9.0dev.9-1;fixed=lynx%2F2.9.0dev.6-3;fixed=lynx%2F2.9.0dev.6-3~deb11u1;fixed=lynx%2F2.8.9rel.1-3%2Bdeb10u1;width=2;height=2;absolute=0;package=lynx;collapse=1;found=lynx-cur%2F2.8.9dev1-2%2Bdeb8u1;found=lynx%2F2.8.9rel.1-3;found=lynx%2F2.8.9dev11-1;found=lynx%2F2.9.0dev.8-1;found=lynx%2F2.9.0dev.6-2"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=lynx">lynx</a>;
Maintainer for <a href="pkgreport.cgi?package=lynx">lynx</a> is <a href="pkgreport.cgi?maint=pkg-lynx-maint%40lists.alioth.debian.org">Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</a>; Source for <a href="pkgreport.cgi?package=lynx">lynx</a> is <a href="pkgreport.cgi?src=lynx">src:lynx</a> (<a href="https://tracker.debian.org/pkg/lynx">PTS</a>, <a href="https://buildd.debian.org/lynx">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=lynx">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=abe%40debian.org">Axel Beckert &lt;abe@debian.org&gt;</a></p>
  <p>Date: Fri,  6 Aug 2021 21:45:01 UTC</p>

<p>Severity: <em class="severity">serious</em></p>
<p>Tags: confirmed, fixed-upstream, security, upstream</p>

<p>Found in versions lynx-cur/2.8.9dev1-2+deb8u1, lynx/2.8.9rel.1-3, lynx/2.8.9dev11-1, lynx/2.9.0dev.8-1, lynx/2.9.0dev.6-2</p>
<p>Fixed in versions lynx/2.9.0dev.9-1, lynx/2.9.0dev.6-3, lynx/2.9.0dev.6-3~deb11u1, lynx/2.8.9rel.1-3+deb10u1</p>

<p><strong>Done:</strong> Axel Beckert &lt;abe@debian.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p><p>Forwarded to <a href="https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html">https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html</a></p>
</div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=991971;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, abe@debian.org, tg@debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628286303 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, abe@debian.org, tg@debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Fri, 06 Aug 2021 21:45:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=2">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628286303 -->
<strong>Acknowledgement sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>abe@debian.org, tg@debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Fri, 06 Aug 2021 21:45:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=4">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=5">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=5">mbox</a>, <a href="mailto:991971@bugs.debian.org?References=%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E&amp;In-Reply-To=%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E&amp;body=On%20Fri%2C%2006%20Aug%202021%2023%3A43%3A13%20%2B0200%20Axel%20Beckert%20%3Cabe%40debian.org%3E%20wrote%3A%0A%3E%20Package%3A%20lynx%0A%3E%20Version%3A%202.9.0dev.8-1%0A%3E%20Severity%3A%20important%0A%3E%20Tags%3A%20upstream%2C%20confirmed%0A%3E%20Control%3A%20forwarded%20-1%20https%3A%2F%2Flists.nongnu.org%2Farchive%2Fhtml%2Flynx-dev%2F2021-08%2Fmsg00000.html%0A%3E%20Control%3A%20found%20-1%202.8.9dev1-2%2Bdeb8u1%0A%3E%20Control%3A%20found%20-1%202.8.9dev11-1%0A%3E%20Control%3A%20found%20-1%202.8.9rel.1-3%0A%3E%20Control%3A%20found%20-1%202.9.0dev.6-2%0A%3E%20%0A%3E%20Thorsten%20Glaser%20reported%20the%20following%20on%20the%20upstream%20dev%20mailing%20list%0A%3E%20at%20https%3A%2F%2Flists.nongnu.org%2Farchive%2Fhtml%2Flynx-dev%2F2021-08%2Fmsg00000.html%0A%3E%20%28citing%20the%20parts%20that%20affect%20Debian%2C%20i.e.%20those%20when%20compiled%20against%0A%3E%20GnuTLS%20and%20not%20OpenSSL%29%3A%0A%3E%20%0A%3E%20%3E%20this%20affects%20both%20OpenSSL%20and%20Debian%E2%80%99s%20nonGNUtls%20builds%3A%0A%3E%20%3E%20%0A%3E%20%3E%20lynx%20https%3A%2F%2Fuser%3Apass%40host%2F%0A%3E%20%3E%0A%3E%20%3E%20%E2%80%A6%20will%20lead%20to%E2%80%A6%0A%3E%20%5B%E2%80%A6%5D%0A%3E%20%3E%20SSL%20error%3Ahost%28user%3Apass%40host%29%21%3Dcert%28CN%3Cmainhost%3E%29-Continue%3F%20%28n%29%0A%3E%20%3E%0A%3E%20%3E%20%E2%80%A6%20for%20nonGNUtls%20lynx.%0A%3E%20%3E%20%0A%3E%20%3E%20Obviously%2C%20user%3Apass%40%20need%20to%20be%20stripped%20before%20comparing.%20The%0A%3E%20%3E%20nonGNUtls%20version%20could%20also%20be%20changed%20to%20display%20the%0A%3E%20%3E%20subjectAltName%27%27s%20the%20certificate%20has%20like%20the%20OpenSSL%20one%20does%20%28after%0A%3E%20%3E%20my%20patch%20from%20ages%20ago%3B%20%5B%E2%80%A6%5D%0A%3E%20%0A%3E%20https%3A%2F%2Fuser%40host%2F%20is%20affected%20as%20well.%0A%3E%20%0A%3E%20I%20was%20able%20to%20reproduce%20this%20issue%20in%20Lynx%20in%20all%20currently%20%28in%20some%0A%3E%20way%29%20supported%20releases%20of%20Debian%20back%20to%20Debian%208%20Jessie%20with%20ELTS%0A%3E%20support%20and%20also%20in%20the%20most%20recent%20version%20in%20Debian%20Experimental.%0A%3E%20%0A%3E%20P.S.%20to%20Thorsten%3A%20Feel%20free%20to%20set%20yourself%20as%20submitter%20of%20this%20bug%0A%3E%20report.%20%E2%98%BA%0A%3E%20%0A%3E%20--%20System%20Information%3A%0A%3E%20Debian%20Release%3A%2011.0%0A%3E%20%20%20APT%20prefers%20unstable%0A%3E%20%20%20APT%20policy%3A%20%28990%2C%20%27unstable%27%29%2C%20%28600%2C%20%27testing%27%29%2C%20%28500%2C%20%27unstable-debug%27%29%2C%20%28500%2C%20%27testing-security%27%29%2C%20%28500%2C%20%27buildd-unstable%27%29%2C%20%28110%2C%20%27experimental%27%29%2C%20%281%2C%20%27experimental-debug%27%29%2C%20%281%2C%20%27buildd-experimental%27%29%0A%3E%20Architecture%3A%20amd64%20%28x86_64%29%0A%3E%20Foreign%20Architectures%3A%20i386%0A%3E%20%0A%3E%20Kernel%3A%20Linux%205.10.0-8-amd64%20%28SMP%20w%2F4%20CPU%20threads%29%0A%3E%20Locale%3A%20LANG%3DC.UTF-8%2C%20LC_CTYPE%3DC.UTF-8%20%28charmap%3DUTF-8%29%2C%20LANGUAGE%20not%20set%0A%3E%20Shell%3A%20%2Fbin%2Fsh%20linked%20to%20%2Fbin%2Fdash%0A%3E%20Init%3A%20sysvinit%20%28via%20%2Fsbin%2Finit%29%0A%3E%20LSM%3A%20AppArmor%3A%20enabled%0A%3E%20%0A%3E%20Versions%20of%20packages%20lynx%20depends%20on%3A%0A%3E%20ii%20%20libbsd0%20%20%20%20%20%20%200.11.3-1%0A%3E%20ii%20%20libbz2-1.0%20%20%20%201.0.8-4%0A%3E%20ii%20%20libc6%20%20%20%20%20%20%20%20%202.31-13%0A%3E%20ii%20%20libgnutls30%20%20%203.7.1-5%0A%3E%20ii%20%20libidn2-0%20%20%20%20%202.3.0-5%0A%3E%20ii%20%20libncursesw6%20%206.2%2B20201114-2%0A%3E%20ii%20%20libtinfo6%20%20%20%20%206.2%2B20201114-2%0A&amp;subject=Re%3A%20lynx%3A%20SSL%20certificate%20validation%20fails%20with%20URLs%20containing%20user%0A%20name%20or%20user%20name%20and%20password%2C%20i.e.%20https%3A%2F%2Fuser%3Apassword%40host%2F%20and%0A%20https%3A%2F%2Fuser%40host%2F">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=abe%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> lynx: SSL certificate validation fails with URLs containing user
 name or user name and password, i.e. https://user:password@host/ and
 https://user@host/</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 06 Aug 2021 23:43:13 +0200</div>
</div>
<pre class="message">Package: lynx
Version: 2.9.0dev.8-1
Severity: important
Tags: upstream, confirmed
Control: forwarded -1 <a href="https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html">https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html</a>
Control: found -1 2.8.9dev1-2+deb8u1
Control: found -1 2.8.9dev11-1
Control: found -1 2.8.9rel.1-3
Control: found -1 2.9.0dev.6-2

Thorsten Glaser reported the following on the upstream dev mailing list
at <a href="https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html">https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html</a>
(citing the parts that affect Debian, i.e. those when compiled against
GnuTLS and not OpenSSL):

&gt; this affects both OpenSSL and Debian’s nonGNUtls builds:
&gt; 
&gt; lynx <a href="https://user:pass@host/">https://user:pass@host/</a>
&gt;
&gt; … will lead to…
[…]
&gt; SSL error:host(user:pass@host)!=cert(CN&lt;mainhost&gt;)-Continue? (n)
&gt;
&gt; … for nonGNUtls lynx.
&gt; 
&gt; Obviously, user:pass@ need to be stripped before comparing. The
&gt; nonGNUtls version could also be changed to display the
&gt; subjectAltName&#39;&#39;s the certificate has like the OpenSSL one does (after
&gt; my patch from ages ago; […]

<a href="https://user@host/">https://user@host/</a> is affected as well.

I was able to reproduce this issue in Lynx in all currently (in some
way) supported releases of Debian back to Debian 8 Jessie with ELTS
support and also in the most recent version in Debian Experimental.

P.S. to Thorsten: Feel free to set yourself as submitter of this bug
report. ☺

-- System Information:
Debian Release: 11.0
  APT prefers unstable
  APT policy: (990, &#39;unstable&#39;), (600, &#39;testing&#39;), (500, &#39;unstable-debug&#39;), (500, &#39;testing-security&#39;), (500, &#39;buildd-unstable&#39;), (110, &#39;experimental&#39;), (1, &#39;experimental-debug&#39;), (1, &#39;buildd-experimental&#39;)
Architecture: amd64 (x86_64)
Foreign Architectures: i386

Kernel: Linux 5.10.0-8-amd64 (SMP w/4 CPU threads)
Locale: LANG=C.UTF-8, LC_CTYPE=C.UTF-8 (charmap=UTF-8), LANGUAGE not set
Shell: /bin/sh linked to /bin/dash
Init: sysvinit (via /sbin/init)
LSM: AppArmor: enabled

Versions of packages lynx depends on:
ii  libbsd0       0.11.3-1
ii  libbz2-1.0    1.0.8-4
ii  libc6         2.31-13
ii  libgnutls30   3.7.1-5
ii  libidn2-0     2.3.0-5
ii  libncursesw6  6.2+20201114-2
ii  libtinfo6     6.2+20201114-2
ii  lynx-common   2.9.0dev.6-2
ii  zlib1g        1:1.2.11.dfsg-2

Versions of packages lynx recommends:
ii  mime-support  3.66

lynx suggests no packages.

-- no debconf information


</pre>

<div class="msgreceived"><hr><p>
<a name="6"></a>
<!-- command:forwarded -->
<!-- requester: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- request_addr: submit@bugs.debian.org -->
<!-- time:1628286303 -->
<!-- new_data:
$new_data = {
              &#39;forwarded&#39; =&gt; &#39;<a href="https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html">https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html</a>&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;forwarded&#39; =&gt; &#39;&#39;
            };
-->
<strong>Set Bug forwarded-to-address to &#39;<a href="https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html">https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html</a>&#39;.</strong>
Request was from <code>Axel Beckert &lt;abe@debian.org&gt;</code>
to <code>submit@bugs.debian.org</code>.
 (Fri, 06 Aug 2021 21:45:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=7">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="8"></a>
<!-- command:found -->
<!-- requester: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- request_addr: submit@bugs.debian.org -->
<!-- time:1628286304 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;lynx-cur/2.8.9dev1-2+deb8u1&#39;,
                                    &#39;lynx/2.9.0dev.8-1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;lynx/2.9.0dev.8-1&#39;
                                  ]
            };
-->
<strong>Marked as found in versions lynx-cur/2.8.9dev1-2+deb8u1.</strong>
Request was from <code>Axel Beckert &lt;abe@debian.org&gt;</code>
to <code>submit@bugs.debian.org</code>.
 (Fri, 06 Aug 2021 21:45:04 GMT) (<a href="bugreport.cgi?bug=991971;msg=9">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="10"></a>
<!-- command:found -->
<!-- requester: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- request_addr: submit@bugs.debian.org -->
<!-- time:1628286304 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;lynx/2.8.9dev11-1&#39;,
                                    &#39;lynx-cur/2.8.9dev1-2+deb8u1&#39;,
                                    &#39;lynx/2.9.0dev.8-1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;lynx-cur/2.8.9dev1-2+deb8u1&#39;,
                                    &#39;lynx/2.9.0dev.8-1&#39;
                                  ]
            };
-->
<strong>Marked as found in versions lynx/2.8.9dev11-1.</strong>
Request was from <code>Axel Beckert &lt;abe@debian.org&gt;</code>
to <code>submit@bugs.debian.org</code>.
 (Fri, 06 Aug 2021 21:45:04 GMT) (<a href="bugreport.cgi?bug=991971;msg=11">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=11">mbox</a>, <a href="#10">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="12"></a>
<!-- command:found -->
<!-- requester: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- request_addr: submit@bugs.debian.org -->
<!-- time:1628286304 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;lynx/2.9.0dev.8-1&#39;,
                                    &#39;lynx/2.8.9rel.1-3&#39;,
                                    &#39;lynx/2.8.9dev11-1&#39;,
                                    &#39;lynx-cur/2.8.9dev1-2+deb8u1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;lynx/2.8.9dev11-1&#39;,
                                    &#39;lynx-cur/2.8.9dev1-2+deb8u1&#39;,
                                    &#39;lynx/2.9.0dev.8-1&#39;
                                  ]
            };
-->
<strong>Marked as found in versions lynx/2.8.9rel.1-3.</strong>
Request was from <code>Axel Beckert &lt;abe@debian.org&gt;</code>
to <code>submit@bugs.debian.org</code>.
 (Fri, 06 Aug 2021 21:45:04 GMT) (<a href="bugreport.cgi?bug=991971;msg=13">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=13">mbox</a>, <a href="#12">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="14"></a>
<!-- command:found -->
<!-- requester: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- request_addr: submit@bugs.debian.org -->
<!-- time:1628286305 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;lynx-cur/2.8.9dev1-2+deb8u1&#39;,
                                    &#39;lynx/2.8.9rel.1-3&#39;,
                                    &#39;lynx/2.8.9dev11-1&#39;,
                                    &#39;lynx/2.9.0dev.8-1&#39;,
                                    &#39;lynx/2.9.0dev.6-2&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;lynx/2.9.0dev.8-1&#39;,
                                    &#39;lynx/2.8.9rel.1-3&#39;,
                                    &#39;lynx/2.8.9dev11-1&#39;,
                                    &#39;lynx-cur/2.8.9dev1-2+deb8u1&#39;
                                  ]
            };
-->
<strong>Marked as found in versions lynx/2.9.0dev.6-2.</strong>
Request was from <code>Axel Beckert &lt;abe@debian.org&gt;</code>
to <code>submit@bugs.debian.org</code>.
 (Fri, 06 Aug 2021 21:45:05 GMT) (<a href="bugreport.cgi?bug=991971;msg=15">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=15">mbox</a>, <a href="#14">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="16"></a>
<!-- command:tag -->
<!-- requester: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1628299262 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;upstream confirmed security&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;confirmed upstream&#39;
            };
-->
<strong>Added tag(s) security.</strong>
Request was from <code>Axel Beckert &lt;abe@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 07 Aug 2021 01:21:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=17">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=17">mbox</a>, <a href="#16">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="18"></a>
<!-- command:title -->
<!-- requester: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1628299263 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;lynx: SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/;">https://user@host/;</a> leaks password in clear text via SNI&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;lynx: SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/">https://user@host/</a>&#39;
            };
-->
<strong>Changed Bug title to &#39;lynx: SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/;">https://user@host/;</a> leaks password in clear text via SNI&#39; from &#39;lynx: SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/">https://user@host/</a>&#39;.</strong>
Request was from <code>Axel Beckert &lt;abe@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 07 Aug 2021 01:21:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=19">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=19">mbox</a>, <a href="#18">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="20"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628301243 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 01:54:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=21">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=21">mbox</a>, <a href="#20">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="22"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628301243 -->
<strong>Acknowledgement sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 01:54:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=23">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=23">mbox</a>, <a href="#22">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="24"></a><a name="msg24"></a><a href="#24">Message #24</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=24">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=24">mbox</a>, <a href="mailto:991971@bugs.debian.org?References=%3CPine.BSM.4.64L.2108061711590.28219%40herc.mirbsd.org%3E%0A%20%3C20210807015102.ea4f5immh2l5ku4n%40sym.noone.org%3E&amp;In-Reply-To=%3C20210807015102.ea4f5immh2l5ku4n%40sym.noone.org%3E&amp;body=On%20Sat%2C%207%20Aug%202021%2003%3A51%3A07%20%2B0200%20Axel%20Beckert%20%3Cabe%40debian.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20On%20Fri%2C%20Aug%2006%2C%202021%20at%2005%3A14%3A32PM%20%2B0000%2C%20Thorsten%20Glaser%0A%3E%20%3Ctg%40mirbsd.de%3E%20wrote%20in%0A%3E%20https%3A%2F%2Flists.nongnu.org%2Farchive%2Fhtml%2Flynx-dev%2F2021-08%2Fmsg00000.html%3A%0A%3E%20%3E%20this%20affects%20both%20OpenSSL%20and%20Debian%E2%80%99s%20nonGNUtls%20builds%3A%0A%3E%20%3E%20%0A%3E%20%3E%20lynx%20https%3A%2F%2Fuser%3Apass%40host%2F%0A%3E%20%3E%20%0A%3E%20%3E%20%E2%80%A6%20will%20lead%20to%E2%80%A6%0A%3E%20%3E%20%0A%3E%20%3E%20SSL%20error%3Ahost%28user%3Apass%40host%29%21%3Dcert%28CN%3Cmainhost%3E%3ASAN%3CDNS%3Dhost%3E%3ASAN%3CDNS%3Dotherhost%3E%0A%3E%20%3E%20%0A%3E%20%3E%20%E2%80%A6%20for%20OpenSSL%20lynx%20and%E2%80%A6%0A%3E%20%3E%20%0A%3E%20%3E%20SSL%20error%3Ahost%28user%3Apass%40host%29%21%3Dcert%28CN%3Cmainhost%3E%29-Continue%3F%20%28n%29%0A%3E%20%3E%20%0A%3E%20%3E%20%E2%80%A6%20for%20nonGNUtls%20lynx.%0A%3E%20%3E%20%0A%3E%20%3E%20Obviously%2C%20user%3Apass%40%20need%20to%20be%20stripped%20before%20comparing.%0A%3E%20%0A%3E%20This%20is%20more%20severe%20than%20it%20initially%20looked%20like%3A%20Due%20to%20TLS%20Server%0A%3E%20Name%20Indication%20%28SNI%29%20the%20hostname%20as%20parsed%20by%20Lynx%20%28i.e%20with%0A%3E%20%22user%3Apass%40%22%20included%29%20is%20sent%20in%20_clear_%20text%20over%20the%20wire%20even%0A%3E%20_before_%20I%20can%20even%20said%20%22n%22%20for%20%22no%2C%20don%27t%20continue%20to%20talk%20with%20this%0A%3E%20server%22%20in%20Lynx%27s%20prompt%20as%20shown%20above.%0A%3E%20%0A%3E%20I%20was%20able%20to%20capture%20the%20password%20given%20on%20the%20commandline%20in%20traffic%0A%3E%20of%20an%20TLS%20handshake%20using%20tcpdump%20and%20analysing%20it%20with%20Wireshark%3A%0A%3E%20%0A%3E%20From%20Wiresharks%20TLS%20dissector%3A%0A%3E%20%0A%3E%20Server%20Name%20Indication%20extension%0A%3E%20%20%20%20%20Server%20Name%20list%20length%3A%2028%0A%3E%20%20%20%20%20Server%20Name%20Type%3A%20host_name%20%280%29%0A%3E%20%20%20%20%20Server%20Name%20length%3A%2025%0A%3E%20%20%20%20%20Server%20Name%3A%20user%3Apass%40www.example.org%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%0A%3E%20%0A%3E%20From%20Wiresharks%20%22Follow%20TCP%20stream%22%3A%0A%3E%20%0A%3E%20...........a%0A%3E%20....jV..%20........%2F.......D.%26....R.%2B.%2C.....%09.%0A%3E%20...%2F.0...............z.%7B.%2F.5.A...%0A%3E%20.....%7C.%7D.3.9.E.............2.8.D.......p............%24.%22...user%3Apass%40www.example.org......%23...%0A%3E%20...%0A%3E%20.................%0A%3E%20..............................%0A%3E%20%0A%3E%20%28PCAPs%20available%20on%20request.%20Actually%20did%20the%20test%20with%20a%20local%20server%0A%3E%20of%20mine.%20But%20it%20should%20be%20easy%20to%20reproduce%2C%20be%20it%20with%20any%20Linux%0A%3E%20distribution.%29%0A%3E%20%0A%3E%20I%20did%20this%20test%20with%20Lynx%20from%20Debian%20Experimental%20%28which%20has%20the%0A%3E%20current%20Lynx%20upstream%20release%202.9.0dev.8%29%20as%20well%20as%20with%20Lynx%20from%0A%3E%20Debian%208%20Jessie%20ELTS%20%28which%20has%20Lynx%202.8.9dev.1%29%20and%20both%20leak%20the%0A%3E%20password%20via%20SNI.%20I%20though%20assume%20that%20older%20releases%20of%20Lynx%20are%0A%3E%20probably%20also%20affected%20as%20well%2C%20at%20least%20if%20they%20or%20the%20according%0A%3E%20crypto%20libraries%20support%20SNI.%0A%3E%20%0A&amp;subject=Re%3A%20%5BLynx-dev%5D%20bug%20in%20Lynx%27%20SSL%20certificate%20validation%20-%3E%20leaks%0A%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%20circumstances%29">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=abe%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> lynx-dev@nongnu.org</div>
<div class="header"><span class="headerfield">Cc:</span> oss-security@lists.openwall.com, security@debian.org,
	991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [Lynx-dev] bug in Lynx&#39; SSL certificate validation -&gt; leaks
 password in clear text via SNI (under some circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 03:51:07 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=991971;msg=24">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi,

On Fri, Aug 06, 2021 at 05:14:32PM +0000, Thorsten Glaser
&lt;tg@mirbsd.de&gt; wrote in
<a href="https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html">https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html</a>:
&gt; this affects both OpenSSL and Debian’s nonGNUtls builds:
&gt; 
&gt; lynx <a href="https://user:pass@host/">https://user:pass@host/</a>
&gt; 
&gt; … will lead to…
&gt; 
&gt; SSL error:host(user:pass@host)!=cert(CN&lt;mainhost&gt;:SAN&lt;DNS=host&gt;:SAN&lt;DNS=otherhost&gt;
&gt; 
&gt; … for OpenSSL lynx and…
&gt; 
&gt; SSL error:host(user:pass@host)!=cert(CN&lt;mainhost&gt;)-Continue? (n)
&gt; 
&gt; … for nonGNUtls lynx.
&gt; 
&gt; Obviously, user:pass@ need to be stripped before comparing.

This is more severe than it initially looked like: Due to TLS Server
Name Indication (SNI) the hostname as parsed by Lynx (i.e with
&quot;user:pass@&quot; included) is sent in _clear_ text over the wire even
_before_ I can even said &quot;n&quot; for &quot;no, don&#39;t continue to talk with this
server&quot; in Lynx&#39;s prompt as shown above.

I was able to capture the password given on the commandline in traffic
of an TLS handshake using tcpdump and analysing it with Wireshark:

From Wiresharks TLS dissector:

Server Name Indication extension
    Server Name list length: 28
    Server Name Type: host_name (0)
    Server Name length: 25
    Server Name: user:pass@www.example.org
                 ^^^^^^^^^^

From Wiresharks &quot;Follow TCP stream&quot;:

...........a
....jV.. ......../.......D.&amp;....R.+.,.....	.
.../.0...............z.{./.5.A...
.....|.}.3.9.E.............2.8.D.......p............$.&quot;...user:pass@www.example.org......#...
...
.................
..............................

(PCAPs available on request. Actually did the test with a local server
of mine. But it should be easy to reproduce, be it with any Linux
distribution.)

I did this test with Lynx from Debian Experimental (which has the
current Lynx upstream release 2.9.0dev.8) as well as with Lynx from
Debian 8 Jessie ELTS (which has Lynx 2.8.9dev.1) and both leak the
password via SNI. I though assume that older releases of Lynx are
probably also affected as well, at least if they or the according
crypto libraries support SNI.

But given that the symptoms Thorsten discovered stayed unreported for
quite some years, I assume that this use case is a rather seldom one.
Nevertheless only trying to use Lynx that way (and seeing it fail)
already leaks the used password.

IMHO this nevertheless needs a CVE-ID.

Cc&#39;ing Debian Security Team as well as the OSS Security mailing list
for making them aware of this issue. I also updated the subject of
this thread to make it less ambigous on other mailing lists.

And I&#39;m also Cc&#39;ing the according Debian bug report which I created
for tracking this issue in Debian: <a href="https://bugs.debian.org/991971">https://bugs.debian.org/991971</a>

		Kind regards, Axel
-- 
 ,&#39;&#39;`.  |  Axel Beckert &lt;abe@debian.org&gt;, <a href="https://people.debian.org/~abe/">https://people.debian.org/~abe/</a>
: :&#39; :  |  Debian Developer, ftp.ch.debian.org Admin
`. `&#39;   |  4096R: 2517 B724 C5F6 CA99 5329  6E61 2FF9 CD59 6126 16B5
  `-    |  1024D: F067 EA27 26B9 C3FC 1486  202E C09E 1D89 9593 0EDE
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=991971;filename=signature.asc;msg=24">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="25"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628302683 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 02:18:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=26">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=26">mbox</a>, <a href="#25">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="27"></a>
<!-- request_addr: Thorsten Glaser &lt;tg@mirbsd.de&gt; -->
<!-- time:1628302683 -->
<strong>Acknowledgement sent</strong>
to <code>Thorsten Glaser &lt;tg@mirbsd.de&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 02:18:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=28">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=28">mbox</a>, <a href="#27">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="29"></a><a name="msg29"></a><a href="#29">Message #29</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=29">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=29">mbox</a>, <a href="mailto:991971@bugs.debian.org?subject=Re%3A%20%5BLynx-dev%5D%20bug%20in%20Lynx%27%20SSL%20certificate%20validation%20-%3E%20leaks%0A%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%20circumstances%29&amp;body=On%20Sat%2C%207%20Aug%202021%2002%3A14%3A12%20%2B0000%20%28UTC%29%20Thorsten%20Glaser%20%3Ctg%40mirbsd.de%3E%20wrote%3A%0A%3E%20Axel%20Beckert%20dixit%3A%0A%3E%20%0A%3E%20%3EThis%20is%20more%20severe%20than%20it%20initially%20looked%20like%3A%20Due%20to%20TLS%20Server%0A%3E%20%3EName%20Indication%20%28SNI%29%20the%20hostname%20as%20parsed%20by%20Lynx%20%28i.e%20with%0A%3E%20%3E%22user%3Apass%40%22%20included%29%20is%20sent%20in%20_clear_%20text%20over%20the%20wire%20even%0A%3E%20%0A%3E%20I%20%2AALWAYS%2A%20SAID%20SNI%20IS%20A%20SHIT%20THING%20ONLY%20USED%20AS%20BAD%20EXCUSE%20FOR%20NAT%0A%3E%20BY%20PEOPLE%20WHO%20ARE%20TOO%20STUPID%20TO%20CONFIGURE%20THEIR%20SERVERS%20RIGHT%20AND%20AS%0A%3E%20BAD%20EXCUSE%20FOR%20LACKING%20IPv6%20SUPPORT%2C%20AND%20THEN%20THE%20FUCKING%20IDIOTS%20WENT%0A%3E%20AND%20MADE%20SNI%20%2AMANDATORY%2A%20FOR%20TLSv1.3%2C%20AND%20I%20FEEL%20%2ASO%2A%20VINDICATED%20RIGHT%0A%3E%20NOW%21%20IDIOTS%20IN%20CHARGE%20OF%20SECURITY%2C%20FUCKING%20IDIOTS%E2%80%A6%0A%3E%20%0A%3E%20%3EBut%20given%20that%20the%20symptoms%20Thorsten%20discovered%20stayed%20unreported%20for%0A%3E%20%3Equite%20some%20years%2C%20I%20assume%20that%20this%20use%20case%20is%20a%20rather%20seldom%20one.%0A%3E%20%0A%3E%20Nah%2C%20SNI%20is%20a%20rather%20recent%20thing.%20But%E2%80%A6%0A%3E%20%0A%3E%20%3EIMHO%20this%20nevertheless%20needs%20a%20CVE-ID.%0A%3E%20%0A%3E%20%E2%80%A6%20it%20probably%20does.%20Other%20browsers%20also%20need%20checking.%0A%3E%20%0A%3E%20Thanks%20for%20the%20detective%20work%2C%0A%3E%20%2F%2Fmirabilos%0A%3E%20--%20%0A%3E%20%3Cdiogenese%3E%20Beware%20of%20ritual%20lest%20you%20forget%20the%20meaning%20behind%20it.%0A%3E%20%3Cigli%3E%20yeah%20but%20it%20means%20if%20you%20really%20care%20about%20something%2C%20don%27t%0A%3E%20%20%20%20%20ritualise%20it%2C%20or%20you%20will%20lose%20it.%20don%27t%20fetishise%20it%2C%20don%27t%0A%3E%20%20%20%20%20obsess.%20or%20you%27ll%20forget%20why%20you%20love%20it%20in%20the%20first%20place.%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3CPine.BSM.4.64L.2108070210210.904%40herc.mirbsd.org%3E&amp;References=%3CPine.BSM.4.64L.2108061711590.28219%40herc.mirbsd.org%3E%0A%20%3C20210807015102.ea4f5immh2l5ku4n%40sym.noone.org%3E%0A%20%3CPine.BSM.4.64L.2108070210210.904%40herc.mirbsd.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=tg%40mirbsd.de" alt="">
<div class="header"><span class="headerfield">From:</span> Thorsten Glaser &lt;tg@mirbsd.de&gt;</div>
<div class="header"><span class="headerfield">To:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> lynx-dev@nongnu.org, oss-security@lists.openwall.com, security@debian.org,
        991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [Lynx-dev] bug in Lynx&#39; SSL certificate validation -&gt; leaks
 password in clear text via SNI (under some circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 02:14:12 +0000 (UTC)</div>
</div>
<pre class="message">Axel Beckert dixit:

&gt;This is more severe than it initially looked like: Due to TLS Server
&gt;Name Indication (SNI) the hostname as parsed by Lynx (i.e with
&gt;&quot;user:pass@&quot; included) is sent in _clear_ text over the wire even

I *ALWAYS* SAID SNI IS A SHIT THING ONLY USED AS BAD EXCUSE FOR NAT
BY PEOPLE WHO ARE TOO STUPID TO CONFIGURE THEIR SERVERS RIGHT AND AS
BAD EXCUSE FOR LACKING IPv6 SUPPORT, AND THEN THE FUCKING IDIOTS WENT
AND MADE SNI *MANDATORY* FOR TLSv1.3, AND I FEEL *SO* VINDICATED RIGHT
NOW! IDIOTS IN CHARGE OF SECURITY, FUCKING IDIOTS…

&gt;But given that the symptoms Thorsten discovered stayed unreported for
&gt;quite some years, I assume that this use case is a rather seldom one.

Nah, SNI is a rather recent thing. But…

&gt;IMHO this nevertheless needs a CVE-ID.

… it probably does. Other browsers also need checking.

Thanks for the detective work,
//mirabilos
-- 
&lt;diogenese&gt; Beware of ritual lest you forget the meaning behind it.
&lt;igli&gt; yeah but it means if you really care about something, don&#39;t
    ritualise it, or you will lose it. don&#39;t fetishise it, don&#39;t
    obsess. or you&#39;ll forget why you love it in the first place.


</pre>

<div class="infmessage"><hr><p>
<a name="30"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628304842 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 02:54:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=31">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=31">mbox</a>, <a href="#30">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="32"></a>
<!-- request_addr: Thorsten Glaser &lt;tg@mirbsd.de&gt; -->
<!-- time:1628304842 -->
<strong>Acknowledgement sent</strong>
to <code>Thorsten Glaser &lt;tg@mirbsd.de&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 02:54:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=33">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=33">mbox</a>, <a href="#32">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="34"></a><a name="msg34"></a><a href="#34">Message #34</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=34">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=34">mbox</a>, <a href="mailto:991971@bugs.debian.org?References=%3CPine.BSM.4.64L.2108061711590.28219%40herc.mirbsd.org%3E%0A%20%3C20210807015102.ea4f5immh2l5ku4n%40sym.noone.org%3E%20%3CPine.BSM.4.64L.2108070210210.904%40herc.mirbsd.org%3E%0A%20%3CPine.BSM.4.64L.2108070246110.904%40herc.mirbsd.org%3E&amp;In-Reply-To=%3CPine.BSM.4.64L.2108070246110.904%40herc.mirbsd.org%3E&amp;subject=SNI%20is%20a%20security%20vulnerability%20all%20by%20itself%20%28was%20Re%3A%20%5BLynx-dev%5D%0A%20bug%20in%20Lynx%27%20SSL%20certificate%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%0A%20SNI%20%28under%20some%20circumstances%29%29&amp;body=On%20Sat%2C%207%20Aug%202021%2002%3A50%3A16%20%2B0000%20%28UTC%29%20Thorsten%20Glaser%20%3Ctg%40mirbsd.de%3E%20wrote%3A%0A%3E%20%3EAxel%20Beckert%20dixit%3A%0A%3E%20%0A%3E%20%3E%3EIMHO%20this%20nevertheless%20needs%20a%20CVE-ID.%0A%3E%20%0A%3E%20I%20wonder%E2%80%A6%20perhaps%20the%20use%20of%20SNI%2C%20both%20in%20the%20TLSv1.3%20standard%0A%3E%20and%20in%20some%20TLSv1.2%20implementations%2C%20should%20receive%20CVEs%20as%20well%3F%0A%3E%20%0A%3E%20It%20certainly%20ought%20to%20be%20disabled%20by%20default.%20Perhaps%20add%20some%0A%3E%20environment%20variable%20to%20enable%20SNI%20in%20the%20SSL%20library%2C%20and%20if%0A%3E%20it%E2%80%99s%20not%20present%20or%20explicitly%20set%20to%200%2C%20disable%20SNI%20%28which%20also%0A%3E%20would%20disable%20TLSv1.3%20as%20it%20requires%20SNI%29.%20Hmm%2C%20yes%2C%20this%20sounds%0A%3E%20completely%20like%20a%20good%20idea.%0A%3E%20%0A%3E%20%28Considering%20SNI%20also%20leaks%20the%20vhost%20addressed%20by%20the%20end%20user%2C%0A%3E%20which%20is%20otherwise%20hidden%20with%20wildcard%20certificates%20or%20grouped%0A%3E%20with%20tone%20others%20in%20multi-subjectAltName%20certificates%2C%20it%20ought%0A%3E%20to%20have%20been%20anyway.%29%0A%3E%20%0A%3E%20bye%2C%0A%3E%20%2F%2Fmirabilos%0A%3E%20--%20%0A%3E%20%E2%80%9CIt%20is%20inappropriate%20to%20require%20that%20a%20time%20represented%20as%0A%3E%20%20seconds%20since%20the%20Epoch%20precisely%20represent%20the%20number%20of%0A%3E%20%20seconds%20between%20the%20referenced%20time%20and%20the%20Epoch.%E2%80%9D%0A%3E%20%09--%20IEEE%20Std%201003.1b-1993%20%28POSIX%29%20Section%20B.2.2.2%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=tg%40mirbsd.de" alt="">
<div class="header"><span class="headerfield">From:</span> Thorsten Glaser &lt;tg@mirbsd.de&gt;</div>
<div class="header"><span class="headerfield">To:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> lynx-dev@nongnu.org, oss-security@lists.openwall.com, security@debian.org,
        991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> SNI is a security vulnerability all by itself (was Re: [Lynx-dev]
 bug in Lynx&#39; SSL certificate validation -&gt; leaks password in clear text via
 SNI (under some circumstances))</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 02:50:16 +0000 (UTC)</div>
</div>
<pre class="message">&gt;Axel Beckert dixit:

&gt;&gt;IMHO this nevertheless needs a CVE-ID.

I wonder… perhaps the use of SNI, both in the TLSv1.3 standard
and in some TLSv1.2 implementations, should receive CVEs as well?

It certainly ought to be disabled by default. Perhaps add some
environment variable to enable SNI in the SSL library, and if
it’s not present or explicitly set to 0, disable SNI (which also
would disable TLSv1.3 as it requires SNI). Hmm, yes, this sounds
completely like a good idea.

(Considering SNI also leaks the vhost addressed by the end user,
which is otherwise hidden with wildcard certificates or grouped
with tone others in multi-subjectAltName certificates, it ought
to have been anyway.)

bye,
//mirabilos
-- 
“It is inappropriate to require that a time represented as
 seconds since the Epoch precisely represent the number of
 seconds between the referenced time and the Epoch.”
	-- IEEE Std 1003.1b-1993 (POSIX) Section B.2.2.2


</pre>

<div class="infmessage"><hr><p>
<a name="35"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628346603 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 14:30:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=36">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=36">mbox</a>, <a href="#35">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="37"></a>
<!-- request_addr: Ariadne Conill &lt;ariadne@dereferenced.org&gt; -->
<!-- time:1628346603 -->
<strong>Acknowledgement sent</strong>
to <code>Ariadne Conill &lt;ariadne@dereferenced.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 14:30:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=38">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=38">mbox</a>, <a href="#37">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="39"></a><a name="msg39"></a><a href="#39">Message #39</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=39">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=39">mbox</a>, <a href="mailto:991971@bugs.debian.org?In-Reply-To=%3Cab519dc0-7354-8e5-8855-ffea2534ea34%40dereferenced.org%3E&amp;References=%3CPine.BSM.4.64L.2108061711590.28219%40herc.mirbsd.org%3E%20%3C20210807015102.ea4f5immh2l5ku4n%40sym.noone.org%3E%20%3CPine.BSM.4.64L.2108070210210.904%40herc.mirbsd.org%3E%0A%20%3Cab519dc0-7354-8e5-8855-ffea2534ea34%40dereferenced.org%3E&amp;subject=Re%3A%20%5Boss-security%5D%20Re%3A%20%5BLynx-dev%5D%20bug%20in%20Lynx%27%20SSL%20certificate%0A%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%0A%20circumstances%29&amp;body=On%20Sat%2C%207%20Aug%202021%2009%3A17%3A55%20-0500%20%28CDT%29%20Ariadne%20Conill%20%3Cariadne%40dereferenced.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20On%20Sat%2C%207%20Aug%202021%2C%20Thorsten%20Glaser%20wrote%3A%0A%3E%20%0A%3E%20%3E%20Axel%20Beckert%20dixit%3A%0A%3E%20%3E%0A%3E%20%3E%3E%20This%20is%20more%20severe%20than%20it%20initially%20looked%20like%3A%20Due%20to%20TLS%20Server%0A%3E%20%3E%3E%20Name%20Indication%20%28SNI%29%20the%20hostname%20as%20parsed%20by%20Lynx%20%28i.e%20with%0A%3E%20%3E%3E%20%22user%3Apass%40%22%20included%29%20is%20sent%20in%20_clear_%20text%20over%20the%20wire%20even%0A%3E%20%3E%0A%3E%20%3E%20I%20%2AALWAYS%2A%20SAID%20SNI%20IS%20A%20SHIT%20THING%20ONLY%20USED%20AS%20BAD%20EXCUSE%20FOR%20NAT%0A%3E%20%3E%20BY%20PEOPLE%20WHO%20ARE%20TOO%20STUPID%20TO%20CONFIGURE%20THEIR%20SERVERS%20RIGHT%20AND%20AS%0A%3E%20%3E%20BAD%20EXCUSE%20FOR%20LACKING%20IPv6%20SUPPORT%2C%20AND%20THEN%20THE%20FUCKING%20IDIOTS%20WENT%0A%3E%20%3E%20AND%20MADE%20SNI%20%2AMANDATORY%2A%20FOR%20TLSv1.3%2C%20AND%20I%20FEEL%20%2ASO%2A%20VINDICATED%20RIGHT%0A%3E%20%3E%20NOW%21%20IDIOTS%20IN%20CHARGE%20OF%20SECURITY%2C%20FUCKING%20IDIOTS%E2%80%A6%0A%3E%20%0A%3E%20It%20turns%20out%20SNI%20is%20only%20marginally%20related%20to%20this%20issue.%20%20The%20issue%20%0A%3E%20itself%20is%20far%20more%20severe%3A%20HTParse%28%29%20does%20not%20understand%20the%20authn%20part%20of%20%0A%3E%20the%20URI%20at%20all.%20%20And%20so%2C%20when%20you%20call%3A%0A%3E%20%0A%3E%20%20%20%20HTParse%28%22https%3A%2F%2Ffoo%3Abar%40example.com%22%2C%20%22%22%2C%20PARSE_HOST%29%0A%3E%20%0A%3E%20It%20returns%3A%0A%3E%20%0A%3E%20%20%20%20foo%3Abar%40example.com%0A%3E%20%0A%3E%20Which%20is%20then%20handed%20directly%20to%20SSL_set_tlsext_host_name%28%29%20or%20%0A%3E%20gnutls_server_name_set%28%29.%20%20But%20it%20will%20also%20leak%20in%20the%20Host%3A%20header%20on%20%0A%3E%20unencrypted%20connections%2C%20and%20also%20probably%20SSL%20ones%20too.%0A%3E%20%0A%3E%20As%20a%20workaround%2C%20I%20taught%20HTParse%28%29%20how%20to%20parse%20the%20authn%20part%20of%20URIs%2C%20%0A%3E%20but%20Lynx%20itself%20needs%20to%20actually%20properly%20support%20the%20authn%20part%20really.%0A%3E%20%0A%3E%20I%20have%20attached%20the%20patch%20Alpine%20is%20using%20to%20work%20around%20this%20infoleak.%0A%3E%20%0A%3E%20Ariadne">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ariadne%40dereferenced.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ariadne Conill &lt;ariadne@dereferenced.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> oss-security@lists.openwall.com</div>
<div class="header"><span class="headerfield">Cc:</span> Axel Beckert &lt;abe@debian.org&gt;, lynx-dev@nongnu.org, security@debian.org, 
    991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [oss-security] Re: [Lynx-dev] bug in Lynx&#39; SSL certificate
 validation -&gt; leaks password in clear text via SNI (under some
 circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 09:17:55 -0500 (CDT)</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=991971;msg=39">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message flowed">Hi,

On Sat, 7 Aug 2021, Thorsten Glaser wrote:

&gt; Axel Beckert dixit:
&gt;
&gt;&gt; This is more severe than it initially looked like: Due to TLS Server
&gt;&gt; Name Indication (SNI) the hostname as parsed by Lynx (i.e with
&gt;&gt; &quot;user:pass@&quot; included) is sent in _clear_ text over the wire even
&gt;
&gt; I *ALWAYS* SAID SNI IS A SHIT THING ONLY USED AS BAD EXCUSE FOR NAT
&gt; BY PEOPLE WHO ARE TOO STUPID TO CONFIGURE THEIR SERVERS RIGHT AND AS
&gt; BAD EXCUSE FOR LACKING IPv6 SUPPORT, AND THEN THE FUCKING IDIOTS WENT
&gt; AND MADE SNI *MANDATORY* FOR TLSv1.3, AND I FEEL *SO* VINDICATED RIGHT
&gt; NOW! IDIOTS IN CHARGE OF SECURITY, FUCKING IDIOTS…

It turns out SNI is only marginally related to this issue.  The issue 
itself is far more severe: HTParse() does not understand the authn part of 
the URI at all.  And so, when you call:

  HTParse(&quot;<a href="https://foo:bar@example.com">https://foo:bar@example.com</a>&quot;, &quot;&quot;, PARSE_HOST)

It returns:

  foo:bar@example.com

Which is then handed directly to SSL_set_tlsext_host_name() or 
gnutls_server_name_set().  But it will also leak in the Host: header on 
unencrypted connections, and also probably SSL ones too.

As a workaround, I taught HTParse() how to parse the authn part of URIs, 
but Lynx itself needs to actually properly support the authn part really.

I have attached the patch Alpine is using to work around this infoleak.

Ariadne</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=991971;filename=fix-auth-data-leaks.patch;msg=39">fix-auth-data-leaks.patch</a> (text/plain, attachment)]</pre>

<div class="msgreceived"><hr><p>
<a name="40"></a>
<!-- command:tag -->
<!-- requester: Thomas Dickey &lt;dickey@his.com&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1628349483 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;confirmed upstream fixed-upstream security&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;upstream confirmed security&#39;
            };
-->
<strong>Added tag(s) fixed-upstream.</strong>
Request was from <code>Thomas Dickey &lt;dickey@his.com&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 07 Aug 2021 15:18:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=41">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=41">mbox</a>, <a href="#40">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="42"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628352183 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 16:03:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=43">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=43">mbox</a>, <a href="#42">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="44"></a>
<!-- request_addr: Andreas Metzler &lt;ametzler@bebt.de&gt; -->
<!-- time:1628352183 -->
<strong>Acknowledgement sent</strong>
to <code>Andreas Metzler &lt;ametzler@bebt.de&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 16:03:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=45">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=45">mbox</a>, <a href="#44">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="46"></a><a name="msg46"></a><a href="#46">Message #46</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=46">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=46">mbox</a>, <a href="mailto:991971@bugs.debian.org?In-Reply-To=%3CYQ6uE5Vhzpttu7jw%40argenau.bebt.de%3E&amp;References=%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3Chandler.s.C.162834935021240.transcript%40bugs.debian.org%3E%0A%20%3CYQ6uE5Vhzpttu7jw%40argenau.bebt.de%3E&amp;subject=Re%3A%20Processed%3A%20Re%3A%20Bug%23991971%3A%20%5BLynx-dev%5D%20bug%20in%20Lynx%27%20SSL%0A%20certificate%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%0A%20circumstances%29&amp;body=On%20Sat%2C%207%20Aug%202021%2018%3A00%3A19%20%2B0200%20Andreas%20Metzler%20%3Cametzler%40bebt.de%3E%20wrote%3A%0A%3E%20On%202021-08-07%20Debian%20Bug%20Tracking%20System%20%3Cowner%40bugs.debian.org%3E%20wrote%3A%0A%3E%20%3E%20Processing%20commands%20for%20control%40bugs.debian.org%3A%0A%3E%20%0A%3E%20%3E%20%3E%20tags%20991971%20fixed-upstream%0A%3E%20%3E%20Bug%20%23991971%20%5Blynx%5D%20lynx%3A%20SSL%20certificate%20validation%20fails%20with%20URLs%20containing%20user%20name%20or%20user%20name%20and%20password%2C%20i.e.%20https%3A%2F%2Fuser%3Apassword%40host%2F%20and%20https%3A%2F%2Fuser%40host%2F%3B%20leaks%20password%20in%20clear%20text%20via%20SNI%0A%3E%20%3E%20Added%20tag%28s%29%20fixed-upstream.%0A%3E%20%0A%3E%20Hello%2C%0A%3E%20%0A%3E%20I%20have%20just%20uploaded%20.9%20to%20experimental.%20The%20deadline%20for%20bulleye%0A%3E%20unblock%20requests%20has%20passed%2C%20so%20we%20will%20need%20to%20fix%20this%20by%0A%3E%20security%2Fpoint%20release.%0A%3E%20%0A%3E%20%40Fellow%20lynx-maintainers%3A%20Do%20you%20have%20a%20preferred%20branch%20name%20for%0A%3E%20bullseye%3F%20I%20would%20go%20for%20%2211_bullseye%22.%0A%3E%20%0A%3E%20cu%20Andreas%0A%3E%20--%20%0A%3E%20%60What%20a%20good%20friend%20you%20are%20to%20him%2C%20Dr.%20Maturin.%20His%20other%20friends%20are%0A%3E%20so%20grateful%20to%20you.%27%0A%3E%20%60I%20sew%20his%20ears%20on%20from%20time%20to%20time%2C%20sure%27%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ametzler%40bebt.de" alt="">
<div class="header"><span class="headerfield">From:</span> Andreas Metzler &lt;ametzler@bebt.de&gt;</div>
<div class="header"><span class="headerfield">To:</span> 991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Processed: Re: Bug#991971: [Lynx-dev] bug in Lynx&#39; SSL
 certificate validation -&gt; leaks password in clear text via SNI (under some
 circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 18:00:19 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=991971;msg=46">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On 2021-08-07 Debian Bug Tracking System &lt;owner@bugs.debian.org&gt; wrote:
&gt; Processing commands for control@bugs.debian.org:

&gt; &gt; tags 991971 fixed-upstream
&gt; Bug #991971 [lynx] lynx: SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/;">https://user@host/;</a> leaks password in clear text via SNI
&gt; Added tag(s) fixed-upstream.

Hello,

I have just uploaded .9 to experimental. The deadline for bulleye
unblock requests has passed, so we will need to fix this by
security/point release.

@Fellow lynx-maintainers: Do you have a preferred branch name for
bullseye? I would go for &quot;11_bullseye&quot;.

cu Andreas
-- 
`What a good friend you are to him, Dr. Maturin. His other friends are
so grateful to you.&#39;
`I sew his ears on from time to time, sure&#39;
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=991971;filename=signature.asc;msg=46">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="47"></a>
<!-- request_addr: Andreas Metzler &lt;ametzler@debian.org&gt; -->
<!-- time:1628352365 -->
<strong>Reply sent</strong>
to <code>Andreas Metzler &lt;ametzler@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Sat, 07 Aug 2021 16:06:05 GMT) (<a href="bugreport.cgi?bug=991971;msg=48">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=48">mbox</a>, <a href="#47">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="49"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628352365 -->
<strong>Notification sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Sat, 07 Aug 2021 16:06:05 GMT) (<a href="bugreport.cgi?bug=991971;msg=50">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=50">mbox</a>, <a href="#49">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="51"></a><a name="msg51"></a><a href="#51">Message #51</a> received at 991971-close@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=51">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=51">mbox</a>, <a href="mailto:991971@bugs.debian.org?body=On%20Sat%2C%2007%20Aug%202021%2016%3A03%3A35%20%2B0000%20Debian%20FTP%20Masters%20%3Cftpmaster%40ftp-master.debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20lynx%0A%3E%20Source-Version%3A%202.9.0dev.9-1%0A%3E%20Done%3A%20Andreas%20Metzler%20%3Cametzler%40debian.org%3E%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20lynx%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20991971%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Andreas%20Metzler%20%3Cametzler%40debian.org%3E%20%28supplier%20of%20updated%20lynx%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Sat%2C%2007%20Aug%202021%2017%3A45%3A43%20%2B0200%0A%3E%20Source%3A%20lynx%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%202.9.0dev.9-1%0A%3E%20Distribution%3A%20experimental%0A%3E%20Urgency%3A%20high%0A%3E%20Maintainer%3A%20Debian%20Lynx%20Packaging%20Team%20%3Cpkg-lynx-maint%40lists.alioth.debian.org%3E%0A%3E%20Changed-By%3A%20Andreas%20Metzler%20%3Cametzler%40debian.org%3E%0A%3E%20Closes%3A%20991971%0A%3E%20Changes%3A%0A%3E%20%20lynx%20%282.9.0dev.9-1%29%20experimental%3B%20urgency%3Dhigh%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20New%20upstream%20version.%0A%3E%20%20%20%20%20%20%2B%20Strip%20user%2Fpassword%20from%20ssl_host%20in%20HTLoadHTTP%2C%20incorrectly%20passed%0A%3E%20%20%20%20%20%20%20%20as%20part%20of%20the%20server%20name%20indicator%20%28Debian%20%23991971%29%20-TDDoes%20not%0A%3E%20%20%20%20%20%20%20%20pass%20user%2Fpasswd.%20Closes%3A%20%23991971%0A%3E%20%20%20%20%2A%20Add%20b-d%20on%20pkg-config.%0A%3E%20Checksums-Sha1%3A%20%0A%3E%20%20936c46ae16375956d85fcc63d01e68e0cac376f7%202539%20lynx_2.9.0dev.9-1.dsc%0A%3E%20%20c87542a4b9f7d81f11f005a3a34c646061c13dc6%202746988%20lynx_2.9.0dev.9.orig.tar.bz2%0A%3E%20%202cbf25603ec60b350e38c4beebcf87bb13aa855e%20729%20lynx_2.9.0dev.9.orig.tar.bz2.asc%0A%3E%20%20e55d151e6acd62344e945ed8bf4df255ef5881b0%2032572%20lynx_2.9.0dev.9-1.debian.tar.xz%0A%3E%20Checksums-Sha256%3A%20%0A%3E%20%20de26f6e49a33ca7d4f2711c6d1f5661d611212308013a2c3cb810e469b06ba18%202539%20lynx_2.9.0dev.9-1.dsc%0A%3E%20%206fd6dd3f57681ad58d3397c273b430a411ae049b367fd4909b3d70b722da501a%202746988%20lynx_2.9.0dev.9.orig.tar.bz2%0A%3E%20%20561a23b38d7a4bb9f6f07d059cac3e49b5e282921fbd7c6185987d210054d917%20729%20lynx_2.9.0dev.9.orig.tar.bz2.asc%0A%3E%20%2036d8eb27dee8c6c3ffa2e37c06220f32983f144207dfa802c3ee627420c01b13%2032572%20lynx_2.9.0dev.9-1.debian.tar.xz%0A%3E%20Files%3A%20%0A%3E%20%2041dbb1222cc364cf37a808a143dfacea%202539%20web%20optional%20lynx_2.9.0dev.9-1.dsc%0A%3E%20%206599a118a5f993bd7a27f62c7b660c33%202746988%20web%20optional%20lynx_2.9.0dev.9.orig.tar.bz2%0A%3E%20%2069cff165cc2878d2f0b957aa58cd39fb%20729%20web%20optional%20lynx_2.9.0dev.9.orig.tar.bz2.asc%0A%3E%20%209f088216ed650873a362f848b95319a7%2032572%20web%20optional%20lynx_2.9.0dev.9-1.debian.tar.xz%0A%3E%20%0A&amp;subject=Re%3A%20Bug%23991971%3A%20fixed%20in%20lynx%202.9.0dev.9-1&amp;In-Reply-To=%3CE1mCOnP-0007G6-QQ%40fasolo.debian.org%3E&amp;References=%3CE1mCOnP-0007G6-QQ%40fasolo.debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ftpmaster%40ftp-master.debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Debian FTP Masters &lt;ftpmaster@ftp-master.debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 991971-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#991971: fixed in lynx 2.9.0dev.9-1</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 07 Aug 2021 16:03:35 +0000</div>
</div>
<pre class="message">Source: lynx
Source-Version: 2.9.0dev.9-1
Done: Andreas Metzler &lt;ametzler@debian.org&gt;

We believe that the bug you reported is fixed in the latest version of
lynx, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 991971@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Andreas Metzler &lt;ametzler@debian.org&gt; (supplier of updated lynx package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Sat, 07 Aug 2021 17:45:43 +0200
Source: lynx
Architecture: source
Version: 2.9.0dev.9-1
Distribution: experimental
Urgency: high
Maintainer: Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;
Changed-By: Andreas Metzler &lt;ametzler@debian.org&gt;
Closes: <a href="bugreport.cgi?bug=991971">991971</a>
Changes:
 lynx (2.9.0dev.9-1) experimental; urgency=high
 .
   * New upstream version.
     + Strip user/password from ssl_host in HTLoadHTTP, incorrectly passed
       as part of the server name indicator (Debian #991971) -TDDoes not
       pass user/passwd. Closes: #<a href="bugreport.cgi?bug=991971">991971</a>
   * Add b-d on pkg-config.
Checksums-Sha1: 
 936c46ae16375956d85fcc63d01e68e0cac376f7 2539 lynx_2.9.0dev.9-1.dsc
 c87542a4b9f7d81f11f005a3a34c646061c13dc6 2746988 lynx_2.9.0dev.9.orig.tar.bz2
 2cbf25603ec60b350e38c4beebcf87bb13aa855e 729 lynx_2.9.0dev.9.orig.tar.bz2.asc
 e55d151e6acd62344e945ed8bf4df255ef5881b0 32572 lynx_2.9.0dev.9-1.debian.tar.xz
Checksums-Sha256: 
 de26f6e49a33ca7d4f2711c6d1f5661d611212308013a2c3cb810e469b06ba18 2539 lynx_2.9.0dev.9-1.dsc
 6fd6dd3f57681ad58d3397c273b430a411ae049b367fd4909b3d70b722da501a 2746988 lynx_2.9.0dev.9.orig.tar.bz2
 561a23b38d7a4bb9f6f07d059cac3e49b5e282921fbd7c6185987d210054d917 729 lynx_2.9.0dev.9.orig.tar.bz2.asc
 36d8eb27dee8c6c3ffa2e37c06220f32983f144207dfa802c3ee627420c01b13 32572 lynx_2.9.0dev.9-1.debian.tar.xz
Files: 
 41dbb1222cc364cf37a808a143dfacea 2539 web optional lynx_2.9.0dev.9-1.dsc
 6599a118a5f993bd7a27f62c7b660c33 2746988 web optional lynx_2.9.0dev.9.orig.tar.bz2
 69cff165cc2878d2f0b957aa58cd39fb 729 web optional lynx_2.9.0dev.9.orig.tar.bz2.asc
 9f088216ed650873a362f848b95319a7 32572 web optional lynx_2.9.0dev.9-1.debian.tar.xz

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEE0uCSA5741Jbt9PpepU8BhUOCFIQFAmEOrB4ACgkQpU8BhUOC
FISCIA/6AnR+wqQzrjBopMEmBnFB7Ygxt1JZzFMyOFrNG+4xH+HPUsyvLs0XDM60
35XsgA6RQFvgcPr5OBirtkwFvHCq90rQInoZGriT/pS0XXiKWh1js9Gbx0C+Pp5W
7W/YBcUmJ5Y1kCArIFtnLNXmHspCwrqohqosOZNrMY08BRCopAVFbfbD24wFzpnl
DOfuVS/vQr5d1JaxVNfA3nlYEVouTEsJSa1mfYYKH9R97slOSEUJPusJsXDpGPF3
e0OvghEVC7oNdAsPvdTeiCEL+x3VcSIIeT13r1FTNIb09wMG8EoIlk8dtKyMnkMB
krLDQufca/JJ3F235558kz5NGBMoXnQhlrb4HXQeespm0t1zmxZYbmjkpS5O5WEw
gO0wfIAGkhQCvwf14H7mShU6OOhwMUblDE/UQAAP3B3ZlDv+C/1PGasul1586+Bd
vCdoCgzNMNddAwW/59pgmOtmfucYJAOBDoY6jSyn+8yvMBitXMeOlHY2KWNcJ6t9
XcsLaeII4yrAVMd5Tpc78hVhG9v93l29jcX6dsbGTFXD128FlIbRHUuTZs/6YKp+
W9XWcKmEC5yFdNvcmz9LPe0t3kh0t8L2X9aYT3by8k7kw6S3iwftliy7Xbm0y/ks
rWlmYsyKZuAFeVXLqVL6+z+S1STFnIAHBxYXAm6UwfD/QxMiHqs=
=Ods1
-----END PGP SIGNATURE-----



</pre>

<div class="infmessage"><hr><p>
<a name="52"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628352905 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 16:15:05 GMT) (<a href="bugreport.cgi?bug=991971;msg=53">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=53">mbox</a>, <a href="#52">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="54"></a>
<!-- request_addr: noloader@gmail.com -->
<!-- time:1628352905 -->
<strong>Acknowledgement sent</strong>
to <code>noloader@gmail.com</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 16:15:05 GMT) (<a href="bugreport.cgi?bug=991971;msg=55">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=55">mbox</a>, <a href="#54">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="56"></a><a name="msg56"></a><a href="#56">Message #56</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=56">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=56">mbox</a>, <a href="mailto:991971@bugs.debian.org?References=%3CPine.BSM.4.64L.2108061711590.28219%40herc.mirbsd.org%3E%0A%20%3C20210807015102.ea4f5immh2l5ku4n%40sym.noone.org%3E%20%3CPine.BSM.4.64L.2108070210210.904%40herc.mirbsd.org%3E%0A%20%3CPine.BSM.4.64L.2108070246110.904%40herc.mirbsd.org%3E%0A%20%3CCAH8yC8nTm%3Dupoz34jXs5cXnQBTZzQHKx-nUrsacD0%3DGEUZ9f_g%40mail.gmail.com%3E&amp;In-Reply-To=%3CCAH8yC8nTm%3Dupoz34jXs5cXnQBTZzQHKx-nUrsacD0%3DGEUZ9f_g%40mail.gmail.com%3E&amp;body=On%20Sat%2C%207%20Aug%202021%2012%3A08%3A25%20-0400%20Jeffrey%20Walton%20%3Cnoloader%40gmail.com%3E%20wrote%3A%0A%3E%20On%20Sat%2C%20Aug%207%2C%202021%20at%208%3A29%20AM%20Thorsten%20Glaser%20%3Ctg%40mirbsd.de%3E%20wrote%3A%0A%3E%20%3E%0A%3E%20%3E%20%3EAxel%20Beckert%20dixit%3A%0A%3E%20%3E%0A%3E%20%3E%20%3E%3EIMHO%20this%20nevertheless%20needs%20a%20CVE-ID.%0A%3E%20%3E%0A%3E%20%3E%20I%20wonder%E2%80%A6%20perhaps%20the%20use%20of%20SNI%2C%20both%20in%20the%20TLSv1.3%20standard%0A%3E%20%3E%20and%20in%20some%20TLSv1.2%20implementations%2C%20should%20receive%20CVEs%20as%20well%3F%0A%3E%20%0A%3E%20As%20far%20as%20I%20know%2C%20the%20only%20problem%20associated%20with%20SNI%20is%20leaking%20the%0A%3E%20server%20name%20to%20a%20passive%20adversary%20in%20TLS%201.2%20and%20below.%20TLS%201.3%20and%0A%3E%20above%20provide%20for%20encrypted%20server%20names.%0A%3E%20%0A%3E%20%3E%20It%20certainly%20ought%20to%20be%20disabled%20by%20default.%20Perhaps%20add%20some%0A%3E%20%3E%20environment%20variable%20to%20enable%20SNI%20in%20the%20SSL%20library%2C%20and%20if%0A%3E%20%3E%20it%E2%80%99s%20not%20present%20or%20explicitly%20set%20to%200%2C%20disable%20SNI%20%28which%20also%0A%3E%20%3E%20would%20disable%20TLSv1.3%20as%20it%20requires%20SNI%29.%20Hmm%2C%20yes%2C%20this%20sounds%0A%3E%20%3E%20completely%20like%20a%20good%20idea.%0A%3E%20%0A%3E%20If%20you%20disable%20SNI%2C%20then%20you%20won%27t%20be%20able%20to%20setup%20an%20encrypted%0A%3E%20channel.%20SNI%20is%20needed%20to%20setup%20the%20encrypted%20channel.%20During%20the%0A%3E%20client_hello%2C%20the%20server%20needs%20to%20know%20which%20server%2Fvirtual%20host%20to%0A%3E%20route%20the%20client_hello%20to.%0A%3E%20%0A%3E%20The%20user%3Apassword%40%20is%20for%20the%20application%20layer%20or%20HTTP%2FHTTPS.%20It%0A%3E%20should%20not%20be%20present%20in%20the%20transport%20layer.%20It%20is%20a%20bug%20in%20the%0A%3E%20application%20layer%2C%20not%20the%20transport%20layer.%0A%3E%20%0A%3E%20The%20transport%20layer%20does%20have%20a%20password%20based%20authentication%20scheme%2C%0A%3E%20but%20it%20is%20going%20to%20be%20either%20Thomas%20Wu%27s%20Secure%20Remote%20Password%20%28SRP%29%0A%3E%20or%20Preshared%20Key%20%28PSK%29.%20SRP%20is%20based%20on%20Diffie-Hellman%20%28something%20like%0A%3E%20a%5Epassword%29%2C%20while%20PSK%20uses%20a%20symmetric%20cipher%20%28something%20like%0A%3E%20enc_k%28password%29%29.%0A%3E%20%0A%3E%20%3E%20%28Considering%20SNI%20also%20leaks%20the%20vhost%20addressed%20by%20the%20end%20user%2C%0A%3E%20%3E%20which%20is%20otherwise%20hidden%20with%20wildcard%20certificates%20or%20grouped%0A%3E%20%3E%20with%20tone%20others%20in%20multi-subjectAltName%20certificates%2C%20it%20ought%0A%3E%20%3E%20to%20have%20been%20anyway.%29%0A%3E%20%0A%3E%20Yes%2C%20the%20client%20will%20learn%20the%20server%27s%20IP%20address.%20That%20is%20not%0A%3E%20related%20to%20SNI.%20That%27s%20just%20how%20TLS%20works%20under%20the%20IETF%27s%20threat%0A%3E%20model.%0A%3E%20%0A%3E%20Maybe%20you%20are%20thinking%20of%20%28or%20need%29%20something%20like%20a%20Tor%20hidden%0A%3E%20service.%20Transport%20Layer%20Security%20does%20not%20provide%20a%20guarantee%20like%20a%0A%3E%20hidden%20service.%0A%3E%20%0A%3E%20Wildcards%20are%20garbage.%20You%20should%20be%20wary%20of%20an%20operator%20that%20uses%0A%3E%20them%20nowadays.%20A%20wildcard%20certificate%20could%20be%20used%20by%20an%20attacker%20to%0A%3E%20have%20you%20connect%20to%20the%20receptionist%27s%20machine%20in%20the%20lobby%20running%20a%0A%3E%20fake%20site%20rather%20than%20the%20organization%27s%20web%20server.%0A%3E%20%0A%3E%20Jeff%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20%5Boss-security%5D%20SNI%20is%20a%20security%20vulnerability%20all%20by%20itself%20%28was%0A%20Re%3A%20%5BLynx-dev%5D%20bug%20in%20Lynx%27%20SSL%20certificate%20validation%20-%3E%20leaks%20password%20in%0A%20clear%20text%20via%20SNI%20%28under%20some%20circumstances%29%29">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=noloader%40gmail.com" alt="">
<div class="header"><span class="headerfield">From:</span> Jeffrey Walton &lt;noloader@gmail.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> oss-security@lists.openwall.com</div>
<div class="header"><span class="headerfield">Cc:</span> Axel Beckert &lt;abe@debian.org&gt;, lynx-dev@nongnu.org, 
	Debian Security Team &lt;security@debian.org&gt;, 991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [oss-security] SNI is a security vulnerability all by itself (was
 Re: [Lynx-dev] bug in Lynx&#39; SSL certificate validation -&gt; leaks password in
 clear text via SNI (under some circumstances))</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 12:08:25 -0400</div>
</div>
<pre class="message">On Sat, Aug 7, 2021 at 8:29 AM Thorsten Glaser &lt;tg@mirbsd.de&gt; wrote:
&gt;
&gt; &gt;Axel Beckert dixit:
&gt;
&gt; &gt;&gt;IMHO this nevertheless needs a CVE-ID.
&gt;
&gt; I wonder… perhaps the use of SNI, both in the TLSv1.3 standard
&gt; and in some TLSv1.2 implementations, should receive CVEs as well?

As far as I know, the only problem associated with SNI is leaking the
server name to a passive adversary in TLS 1.2 and below. TLS 1.3 and
above provide for encrypted server names.

&gt; It certainly ought to be disabled by default. Perhaps add some
&gt; environment variable to enable SNI in the SSL library, and if
&gt; it’s not present or explicitly set to 0, disable SNI (which also
&gt; would disable TLSv1.3 as it requires SNI). Hmm, yes, this sounds
&gt; completely like a good idea.

If you disable SNI, then you won&#39;t be able to setup an encrypted
channel. SNI is needed to setup the encrypted channel. During the
client_hello, the server needs to know which server/virtual host to
route the client_hello to.

The user:password@ is for the application layer or HTTP/HTTPS. It
should not be present in the transport layer. It is a bug in the
application layer, not the transport layer.

The transport layer does have a password based authentication scheme,
but it is going to be either Thomas Wu&#39;s Secure Remote Password (SRP)
or Preshared Key (PSK). SRP is based on Diffie-Hellman (something like
a^password), while PSK uses a symmetric cipher (something like
enc_k(password)).

&gt; (Considering SNI also leaks the vhost addressed by the end user,
&gt; which is otherwise hidden with wildcard certificates or grouped
&gt; with tone others in multi-subjectAltName certificates, it ought
&gt; to have been anyway.)

Yes, the client will learn the server&#39;s IP address. That is not
related to SNI. That&#39;s just how TLS works under the IETF&#39;s threat
model.

Maybe you are thinking of (or need) something like a Tor hidden
service. Transport Layer Security does not provide a guarantee like a
hidden service.

Wildcards are garbage. You should be wary of an operator that uses
them nowadays. A wildcard certificate could be used by an attacker to
have you connect to the receptionist&#39;s machine in the lobby running a
fake site rather than the organization&#39;s web server.

Jeff


</pre>

<div class="infmessage"><hr><p>
<a name="57"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628360462 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 18:21:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=58">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=58">mbox</a>, <a href="#57">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="59"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1628360462 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 18:21:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=60">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=60">mbox</a>, <a href="#59">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="61"></a><a name="msg61"></a><a href="#61">Message #61</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=61">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=61">mbox</a>, <a href="mailto:991971@bugs.debian.org?subject=Re%3A%20Bug%23991971%3A%20%5BLynx-dev%5D%20bug%20in%20Lynx%27%20SSL%20certificate%20validation%0A%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%20circumstances%29&amp;body=On%20Sat%2C%207%20Aug%202021%2020%3A17%3A31%20%2B0200%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20Axel%2C%0A%3E%20%0A%3E%20On%20Sat%2C%20Aug%2007%2C%202021%20at%2003%3A51%3A07AM%20%2B0200%2C%20Axel%20Beckert%20wrote%3A%0A%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%0A%3E%20%3E%20On%20Fri%2C%20Aug%2006%2C%202021%20at%2005%3A14%3A32PM%20%2B0000%2C%20Thorsten%20Glaser%0A%3E%20%3E%20%3Ctg%40mirbsd.de%3E%20wrote%20in%0A%3E%20%3E%20https%3A%2F%2Flists.nongnu.org%2Farchive%2Fhtml%2Flynx-dev%2F2021-08%2Fmsg00000.html%3A%0A%3E%20%3E%20%3E%20this%20affects%20both%20OpenSSL%20and%20Debian%E2%80%99s%20nonGNUtls%20builds%3A%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20lynx%20https%3A%2F%2Fuser%3Apass%40host%2F%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20%E2%80%A6%20will%20lead%20to%E2%80%A6%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20SSL%20error%3Ahost%28user%3Apass%40host%29%21%3Dcert%28CN%3Cmainhost%3E%3ASAN%3CDNS%3Dhost%3E%3ASAN%3CDNS%3Dotherhost%3E%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20%E2%80%A6%20for%20OpenSSL%20lynx%20and%E2%80%A6%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20SSL%20error%3Ahost%28user%3Apass%40host%29%21%3Dcert%28CN%3Cmainhost%3E%29-Continue%3F%20%28n%29%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20%E2%80%A6%20for%20nonGNUtls%20lynx.%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20Obviously%2C%20user%3Apass%40%20need%20to%20be%20stripped%20before%20comparing.%0A%3E%20%3E%20%0A%3E%20%3E%20This%20is%20more%20severe%20than%20it%20initially%20looked%20like%3A%20Due%20to%20TLS%20Server%0A%3E%20%3E%20Name%20Indication%20%28SNI%29%20the%20hostname%20as%20parsed%20by%20Lynx%20%28i.e%20with%0A%3E%20%3E%20%22user%3Apass%40%22%20included%29%20is%20sent%20in%20_clear_%20text%20over%20the%20wire%20even%0A%3E%20%3E%20_before_%20I%20can%20even%20said%20%22n%22%20for%20%22no%2C%20don%27t%20continue%20to%20talk%20with%20this%0A%3E%20%3E%20server%22%20in%20Lynx%27s%20prompt%20as%20shown%20above.%0A%3E%20%3E%20%0A%3E%20%3E%20I%20was%20able%20to%20capture%20the%20password%20given%20on%20the%20commandline%20in%20traffic%0A%3E%20%3E%20of%20an%20TLS%20handshake%20using%20tcpdump%20and%20analysing%20it%20with%20Wireshark%3A%0A%3E%20%3E%20%0A%3E%20%3E%20From%20Wiresharks%20TLS%20dissector%3A%0A%3E%20%3E%20%0A%3E%20%3E%20Server%20Name%20Indication%20extension%0A%3E%20%3E%20%20%20%20%20Server%20Name%20list%20length%3A%2028%0A%3E%20%3E%20%20%20%20%20Server%20Name%20Type%3A%20host_name%20%280%29%0A%3E%20%3E%20%20%20%20%20Server%20Name%20length%3A%2025%0A%3E%20%3E%20%20%20%20%20Server%20Name%3A%20user%3Apass%40www.example.org%0A%3E%20%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%0A%3E%20%3E%20%0A%3E%20%3E%20From%20Wiresharks%20%22Follow%20TCP%20stream%22%3A%0A%3E%20%3E%20%0A%3E%20%3E%20...........a%0A%3E%20%3E%20....jV..%20........%2F.......D.%26....R.%2B.%2C.....%09.%0A%3E%20%3E%20...%2F.0...............z.%7B.%2F.5.A...%0A%3E%20%3E%20.....%7C.%7D.3.9.E.............2.8.D.......p............%24.%22...user%3Apass%40www.example.org......%23...%0A%3E%20%3E%20...%0A%3E%20%3E%20.................%0A%3E%20%3E%20..............................%0A%3E%20%3E%20%0A%3E%20%3E%20%28PCAPs%20available%20on%20request.%20Actually%20did%20the%20test%20with%20a%20local%20server%0A%3E%20%3E%20of%20mine.%20But%20it%20should%20be%20easy%20to%20reproduce%2C%20be%20it%20with%20any%20Linux%0A%3E%20%3E%20distribution.%29%0A%3E%20%3E%20%0A%3E%20%3E%20I%20did%20this%20test%20with%20Lynx%20from%20Debian%20Experimental%20%28which%20has%20the%0A%3E%20%3E%20current%20Lynx%20upstream%20release%202.9.0dev.8%29%20as%20well%20as%20with%20Lynx%20from%0A%3E%20%3E%20Debian%208%20Jessie%20ELTS%20%28which%20has%20Lynx%202.8.9dev.1%29%20and%20both%20leak%20the%0A%3E%20%3E%20password%20via%20SNI.%20I%20though%20assume%20that%20older%20releases%20of%20Lynx%20are%0A&amp;References=%3CPine.BSM.4.64L.2108061711590.28219%40herc.mirbsd.org%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3C20210807015102.ea4f5immh2l5ku4n%40sym.noone.org%3E%0A%20%3CYQ7OO1DgWDwm7vvy%40eldamar.lan%3E&amp;In-Reply-To=%3CYQ7OO1DgWDwm7vvy%40eldamar.lan%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=carnil%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Axel Beckert &lt;abe@debian.org&gt;, 991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> lynx-dev@nongnu.org, oss-security@lists.openwall.com,
	security@debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#991971: [Lynx-dev] bug in Lynx&#39; SSL certificate validation
 -&gt; leaks password in clear text via SNI (under some circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 20:17:31 +0200</div>
</div>
<pre class="message">Hi Axel,

On Sat, Aug 07, 2021 at 03:51:07AM +0200, Axel Beckert wrote:
&gt; Hi,
&gt; 
&gt; On Fri, Aug 06, 2021 at 05:14:32PM +0000, Thorsten Glaser
&gt; &lt;tg@mirbsd.de&gt; wrote in
&gt; <a href="https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html">https://lists.nongnu.org/archive/html/lynx-dev/2021-08/msg00000.html</a>:
&gt; &gt; this affects both OpenSSL and Debian’s nonGNUtls builds:
&gt; &gt; 
&gt; &gt; lynx <a href="https://user:pass@host/">https://user:pass@host/</a>
&gt; &gt; 
&gt; &gt; … will lead to…
&gt; &gt; 
&gt; &gt; SSL error:host(user:pass@host)!=cert(CN&lt;mainhost&gt;:SAN&lt;DNS=host&gt;:SAN&lt;DNS=otherhost&gt;
&gt; &gt; 
&gt; &gt; … for OpenSSL lynx and…
&gt; &gt; 
&gt; &gt; SSL error:host(user:pass@host)!=cert(CN&lt;mainhost&gt;)-Continue? (n)
&gt; &gt; 
&gt; &gt; … for nonGNUtls lynx.
&gt; &gt; 
&gt; &gt; Obviously, user:pass@ need to be stripped before comparing.
&gt; 
&gt; This is more severe than it initially looked like: Due to TLS Server
&gt; Name Indication (SNI) the hostname as parsed by Lynx (i.e with
&gt; &quot;user:pass@&quot; included) is sent in _clear_ text over the wire even
&gt; _before_ I can even said &quot;n&quot; for &quot;no, don&#39;t continue to talk with this
&gt; server&quot; in Lynx&#39;s prompt as shown above.
&gt; 
&gt; I was able to capture the password given on the commandline in traffic
&gt; of an TLS handshake using tcpdump and analysing it with Wireshark:
&gt; 
&gt; From Wiresharks TLS dissector:
&gt; 
&gt; Server Name Indication extension
&gt;     Server Name list length: 28
&gt;     Server Name Type: host_name (0)
&gt;     Server Name length: 25
&gt;     Server Name: user:pass@www.example.org
&gt;                  ^^^^^^^^^^
&gt; 
&gt; From Wiresharks &quot;Follow TCP stream&quot;:
&gt; 
&gt; ...........a
&gt; ....jV.. ......../.......D.&amp;....R.+.,.....	.
&gt; .../.0...............z.{./.5.A...
&gt; .....|.}.3.9.E.............2.8.D.......p............$.&quot;...user:pass@www.example.org......#...
&gt; ...
&gt; .................
&gt; ..............................
&gt; 
&gt; (PCAPs available on request. Actually did the test with a local server
&gt; of mine. But it should be easy to reproduce, be it with any Linux
&gt; distribution.)
&gt; 
&gt; I did this test with Lynx from Debian Experimental (which has the
&gt; current Lynx upstream release 2.9.0dev.8) as well as with Lynx from
&gt; Debian 8 Jessie ELTS (which has Lynx 2.8.9dev.1) and both leak the
&gt; password via SNI. I though assume that older releases of Lynx are
&gt; probably also affected as well, at least if they or the according
&gt; crypto libraries support SNI.
&gt; 
&gt; But given that the symptoms Thorsten discovered stayed unreported for
&gt; quite some years, I assume that this use case is a rather seldom one.
&gt; Nevertheless only trying to use Lynx that way (and seeing it fail)
&gt; already leaks the used password.
&gt; 
&gt; IMHO this nevertheless needs a CVE-ID.

MITRE did assign <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a>. MITRE raised the question: Does
2.9.0dev.9 (mentioned on the
<a href="https://lynx.invisible-island.net/current/CHANGES.html">https://lynx.invisible-island.net/current/CHANGES.html</a> page) fix the
entire problem?
<a href="https://www.openwall.com/lists/oss-security/2021/08/07/7">https://www.openwall.com/lists/oss-security/2021/08/07/7</a> claims that
credentials appear in the HTTP Host header to an http:// (i.e.,
non-SSL) website. 

Regards,
Salvatore


</pre>

<div class="infmessage"><hr><p>
<a name="62"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628362622 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 18:57:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=63">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=63">mbox</a>, <a href="#62">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="64"></a>
<!-- request_addr: Thorsten Glaser &lt;tg@mirbsd.de&gt; -->
<!-- time:1628362622 -->
<strong>Acknowledgement sent</strong>
to <code>Thorsten Glaser &lt;tg@mirbsd.de&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 18:57:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=65">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=65">mbox</a>, <a href="#64">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="66"></a><a name="msg66"></a><a href="#66">Message #66</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=66">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=66">mbox</a>, <a href="mailto:991971@bugs.debian.org?subject=Re%3A%20%5BLynx-dev%5D%20%5Boss-security%5D%20Re%3A%20bug%20in%20Lynx%27%20SSL%20certificate%0A%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%20circumstances%29&amp;body=On%20Sat%2C%207%20Aug%202021%2018%3A49%3A57%20%2B0000%20%28UTC%29%20Thorsten%20Glaser%20%3Ctg%40mirbsd.de%3E%20wrote%3A%0A%3E%20Ariadne%20Conill%20dixit%3A%0A%3E%20%0A%3E%20%3E%20It%20turns%20out%20SNI%20is%20only%20marginally%20related%20to%20this%20issue.%20%20The%20issue%0A%3E%20%3E%20itself%20is%20far%20more%20severe%3A%20HTParse%28%29%20does%20not%20understand%20the%20authn%0A%3E%20%3E%20part%20of%20the%20URI%20at%20all.%0A%3E%20%0A%3E%20Yes%2C%20of%20course.%20But%20without%20SNI%2C%20nothing%20would%20have%20been%20sent%20%2Ain%0A%3E%20plaintext%2A%20at%20all.%20The%20certificate%20validation%20fails%C2%B9%2C%20the%20connection%0A%3E%20stops%20and%20the%20user%20is%20asked%20whether%20to%20continue.%0A%3E%20%0A%3E%20%E2%91%A0%20Tested%20on%20an%20OS%20without%20SNI%20in%20its%20libssl.%0A%3E%20%0A%3E%20%3E%20As%20a%20workaround%2C%20I%20taught%20HTParse%28%29%20how%20to%20parse%20the%20authn%20part%20of%20URIs%2C%20but%0A%3E%20%3E%20Lynx%20itself%20needs%20to%20actually%20properly%20support%20the%20authn%20part%20really.%0A%3E%20%3E%0A%3E%20%3E%20I%20have%20attached%20the%20patch%20Alpine%20is%20using%20to%20work%20around%20this%20infoleak.%0A%3E%20%0A%3E%20Thanks%21%0A%3E%20%0A%3E%20I%20recall%20having%20to%20work%20manually%20to%20strip%20the%20port%20from%20the%20hostname%0A%3E%20for%20SSL%20certificate%20validation%2C%20ages%20ago%2C%20but%20I%20had%20not%20tested%20with%0A%3E%20HTTP%20Auth%20sites%20back%20then.%0A%3E%20%0A%3E%20bye%2C%0A%3E%20%2F%2Fmirabilos%0A%3E%20--%20%0A%3E%20Gestern%20Nacht%20ist%20mein%20IRC-Netzwerk%20explodiert.%20Ich%20hatte%20nicht%20damit%0A%3E%20gerechnet%2C%20darum%20bin%20ich%20blutverschmiert%E2%80%A6%20wer%20konnte%20ahnen%2C%20da%C3%9F%20SIE%20so%0A%3E%20reagier%E2%80%99n%E2%80%A6%20gestern%20Nacht%20ist%20mein%20IRC-Netzwerk%20explodiert~~~%0A%3E%20%09%28as%20of%202021-06-15%20The%20MirOS%20Project%20temporarily%20reconvenes%20on%20OFTC%29%0A%3E%20%0A%3E%20%0A&amp;References=%3CPine.BSM.4.64L.2108061711590.28219%40herc.mirbsd.org%3E%0A%20%3C20210807015102.ea4f5immh2l5ku4n%40sym.noone.org%3E%20%3CPine.BSM.4.64L.2108070210210.904%40herc.mirbsd.org%3E%0A%20%3Cab519dc0-7354-8e5-8855-ffea2534ea34%40dereferenced.org%3E%0A%20%3CPine.BSM.4.64L.2108071847450.4154%40herc.mirbsd.org%3E&amp;In-Reply-To=%3CPine.BSM.4.64L.2108071847450.4154%40herc.mirbsd.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=tg%40mirbsd.de" alt="">
<div class="header"><span class="headerfield">From:</span> Thorsten Glaser &lt;tg@mirbsd.de&gt;</div>
<div class="header"><span class="headerfield">To:</span> Ariadne Conill &lt;ariadne@dereferenced.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> oss-security@lists.openwall.com, Axel Beckert &lt;abe@debian.org&gt;,
        lynx-dev@nongnu.org, security@debian.org, 991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [Lynx-dev] [oss-security] Re: bug in Lynx&#39; SSL certificate
 validation -&gt; leaks password in clear text via SNI (under some circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 18:49:57 +0000 (UTC)</div>
</div>
<pre class="message">Ariadne Conill dixit:

&gt; It turns out SNI is only marginally related to this issue.  The issue
&gt; itself is far more severe: HTParse() does not understand the authn
&gt; part of the URI at all.

Yes, of course. But without SNI, nothing would have been sent *in
plaintext* at all. The certificate validation fails¹, the connection
stops and the user is asked whether to continue.

① Tested on an OS without SNI in its libssl.

&gt; As a workaround, I taught HTParse() how to parse the authn part of URIs, but
&gt; Lynx itself needs to actually properly support the authn part really.
&gt;
&gt; I have attached the patch Alpine is using to work around this infoleak.

Thanks!

I recall having to work manually to strip the port from the hostname
for SSL certificate validation, ages ago, but I had not tested with
HTTP Auth sites back then.

bye,
//mirabilos
-- 
Gestern Nacht ist mein IRC-Netzwerk explodiert. Ich hatte nicht damit
gerechnet, darum bin ich blutverschmiert… wer konnte ahnen, daß SIE so
reagier’n… gestern Nacht ist mein IRC-Netzwerk explodiert~~~
	(as of 2021-06-15 The MirOS Project temporarily reconvenes on OFTC)


</pre>

<div class="msgreceived"><hr><p>
<a name="67"></a>
<!-- command:title -->
<!-- requester: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1628363882 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;lynx: [CVE-2021-38165] SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/\\;">https://user@host/\\;</a> leaks password in clear text via SNI&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;lynx: SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/;">https://user@host/;</a> leaks password in clear text via SNI&#39;
            };
-->
<strong>Changed Bug title to &#39;lynx: [CVE-2021-38165] SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/\;">https://user@host/\;</a> leaks password in clear text via SNI&#39; from &#39;lynx: SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/;">https://user@host/;</a> leaks password in clear text via SNI&#39;.</strong>
Request was from <code>Axel Beckert &lt;abe@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 07 Aug 2021 19:18:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=68">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=68">mbox</a>, <a href="#67">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="69"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628366585 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 20:03:05 GMT) (<a href="bugreport.cgi?bug=991971;msg=70">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=70">mbox</a>, <a href="#69">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="71"></a>
<!-- request_addr: dickey@his.com -->
<!-- time:1628366585 -->
<strong>Acknowledgement sent</strong>
to <code>dickey@his.com</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 20:03:05 GMT) (<a href="bugreport.cgi?bug=991971;msg=72">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=72">mbox</a>, <a href="#71">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="73"></a><a name="msg73"></a><a href="#73">Message #73</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=73">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=73">mbox</a>, <a href="mailto:991971@bugs.debian.org?In-Reply-To=%3C20210807195311.GA2934%40prl-debianold-64.jexium-island.net%3E&amp;References=%3CPine.BSM.4.64L.2108061711590.28219%40herc.mirbsd.org%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3C20210807015102.ea4f5immh2l5ku4n%40sym.noone.org%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3CYQ7OO1DgWDwm7vvy%40eldamar.lan%3E%0A%20%3C20210807195311.GA2934%40prl-debianold-64.jexium-island.net%3E&amp;body=On%20Sat%2C%207%20Aug%202021%2015%3A53%3A11%20-0400%20Thomas%20Dickey%20%3Cdickey%40his.com%3E%20wrote%3A%0A%3E%20On%20Sat%2C%20Aug%2007%2C%202021%20at%2008%3A17%3A31PM%20%2B0200%2C%20Salvatore%20Bonaccorso%20wrote%3A%0A%3E%20%3E%20Hi%20Axel%2C%0A%3E%20...%0A%3E%20%3E%20MITRE%20did%20assign%20CVE-2021-38165.%20MITRE%20raised%20the%20question%3A%20Does%0A%3E%20%3E%202.9.0dev.9%20%28mentioned%20on%20the%0A%3E%20%3E%20https%3A%2F%2Flynx.invisible-island.net%2Fcurrent%2FCHANGES.html%20page%29%20fix%20the%0A%3E%20%3E%20entire%20problem%3F%0A%3E%20%3E%20https%3A%2F%2Fwww.openwall.com%2Flists%2Foss-security%2F2021%2F08%2F07%2F7%20claims%20that%0A%3E%20%3E%20credentials%20appear%20in%20the%20HTTP%20Host%20header%20to%20an%20http%3A%2F%2F%20%28i.e.%2C%0A%3E%20%3E%20non-SSL%29%20website.%20%0A%3E%20%0A%3E%20I%20considered%20that%20possibility%2C%20but%20%28using%20Axel%27s%20hint%20on%20how%20he%20tested%29%0A%3E%20found%20nothing%20in%20the%20data%20shown%20in%20%22Follow%20TCP%20Stream%22%20for%20this%20case.%0A%3E%20%0A%3E%20Perhaps%20you%20could%20explain%20how%20you%27ve%20tested%20this%20case%2C%20and%20how%20to%20repeat%0A%3E%20the%20results.%0A%3E%20%0A%3E%20%28the%20suggested%20patch%20by%20the%20way%20is%20unsuitable%20because%20it%20breaks%20the%0A%3E%20known-to-be-insecure%20use%20of%20user%20credentials%20in%20a%20non-HTTPS%20URL%29%0A%3E%20%0A%3E%20--%20%0A%3E%20Thomas%20E.%20Dickey%20%3Cdickey%40invisible-island.net%3E%0A%3E%20https%3A%2F%2Finvisible-island.net%0A%3E%20ftp%3A%2F%2Fftp.invisible-island.net%0A&amp;subject=Re%3A%20Bug%23991971%3A%20%5BLynx-dev%5D%20bug%20in%20Lynx%27%20SSL%20certificate%20validation%0A%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%20circumstances%29">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=dickey%40his.com" alt="">
<div class="header"><span class="headerfield">From:</span> Thomas Dickey &lt;dickey@his.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;, 991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#991971: [Lynx-dev] bug in Lynx&#39; SSL certificate validation
 -&gt; leaks password in clear text via SNI (under some circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 15:53:11 -0400</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=991971;msg=73">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On Sat, Aug 07, 2021 at 08:17:31PM +0200, Salvatore Bonaccorso wrote:
&gt; Hi Axel,
...
&gt; MITRE did assign <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a>. MITRE raised the question: Does
&gt; 2.9.0dev.9 (mentioned on the
&gt; <a href="https://lynx.invisible-island.net/current/CHANGES.html">https://lynx.invisible-island.net/current/CHANGES.html</a> page) fix the
&gt; entire problem?
&gt; <a href="https://www.openwall.com/lists/oss-security/2021/08/07/7">https://www.openwall.com/lists/oss-security/2021/08/07/7</a> claims that
&gt; credentials appear in the HTTP Host header to an http:// (i.e.,
&gt; non-SSL) website. 

I considered that possibility, but (using Axel&#39;s hint on how he tested)
found nothing in the data shown in &quot;Follow TCP Stream&quot; for this case.

Perhaps you could explain how you&#39;ve tested this case, and how to repeat
the results.

(the suggested patch by the way is unsuitable because it breaks the
known-to-be-insecure use of user credentials in a non-HTTPS URL)

-- 
Thomas E. Dickey &lt;dickey@invisible-island.net&gt;
<a href="https://invisible-island.net">https://invisible-island.net</a>
<a href="ftp://ftp.invisible-island.net">ftp://ftp.invisible-island.net</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=991971;filename=signature.asc;msg=73">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="74"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628367302 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 20:15:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=75">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=75">mbox</a>, <a href="#74">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="76"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628367302 -->
<strong>Acknowledgement sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 20:15:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=77">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=77">mbox</a>, <a href="#76">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="78"></a><a name="msg78"></a><a href="#78">Message #78</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=78">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=78">mbox</a>, <a href="mailto:991971@bugs.debian.org?References=%3C20210807201317.ow27rxtpcdkgsxuj%40sym.noone.org%3E&amp;In-Reply-To=%3C20210807201317.ow27rxtpcdkgsxuj%40sym.noone.org%3E&amp;subject=Re%3A%20%5Boss-security%5D%20Re%3A%20Bug%23991971%3A%20%5BLynx-dev%5D%20bug%20in%20Lynx%27%20SSL%0A%20certificate%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%0A%20circumstances%29&amp;body=On%20Sat%2C%207%20Aug%202021%2022%3A13%3A18%20%2B0200%20Axel%20Beckert%20%3Cabe%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20Salvatore%2C%20Dear%20Ariadne%2C%0A%3E%20%0A%3E%20Salvatore%20Bonaccorso%20wrote%3A%0A%3E%20%3E%20%3E%20This%20is%20more%20severe%20than%20it%20initially%20looked%20like%3A%20Due%20to%20TLS%20Server%0A%3E%20%3E%20%3E%20Name%20Indication%20%28SNI%29%20the%20hostname%20as%20parsed%20by%20Lynx%20%28i.e%20with%0A%3E%20%3E%20%3E%20%22user%3Apass%40%22%20included%29%20is%20sent%20in%20_clear_%20text%20over%20the%20wire%20even%0A%3E%20%3E%20%3E%20_before_%20I%20can%20even%20said%20%22n%22%20for%20%22no%2C%20don%27t%20continue%20to%20talk%20with%20this%0A%3E%20%3E%20%3E%20server%22%20in%20Lynx%27s%20prompt%20as%20shown%20above.%0A%3E%20%5B%E2%80%A6%5D%0A%3E%20%3E%20%3E%20IMHO%20this%20nevertheless%20needs%20a%20CVE-ID.%0A%3E%20%3E%0A%3E%20%3E%20MITRE%20did%20assign%20CVE-2021-38165.%0A%3E%20%0A%3E%20Thanks%20Salvatore.%20I%20updated%20the%20debian%2Fchangelog%20entry%20for%20the%20next%0A%3E%20upload%20as%20well%20as%20the%20title%20of%20the%20Debian%20bug%20report.%0A%3E%20%0A%3E%20%3E%20MITRE%20raised%20the%20question%3A%20Does%202.9.0dev.9%20%28mentioned%20on%20the%0A%3E%20%3E%20https%3A%2F%2Flynx.invisible-island.net%2Fcurrent%2FCHANGES.html%20page%29%20fix%20the%0A%3E%20%3E%20entire%20problem%3F%0A%3E%20%0A%3E%20At%20this%20point%20a%20huge%20thanks%20to%20Thomas%20Dickey%20%28Lynx%20upstream%29%20for%0A%3E%20providing%20a%20fixed%20version%20so%20quickly%21%0A%3E%20%0A%3E%20%3E%20https%3A%2F%2Fwww.openwall.com%2Flists%2Foss-security%2F2021%2F08%2F07%2F7%20claims%20that%0A%3E%20%3E%20credentials%20appear%20in%20the%20HTTP%20Host%20header%20to%20an%20http%3A%2F%2F%20%28i.e.%2C%0A%3E%20%3E%20non-SSL%29%20website.%20%0A%3E%20%0A%3E%20Indeed%20and%20a%20good%20point.%0A%3E%20%0A%3E%20Citing%20from%20Ariadne%27s%20mail%3A%0A%3E%20%3E%20The%20issue%20itself%20is%20far%20more%20severe%3A%20HTParse%28%29%20does%20not%20understand%0A%3E%20%3E%20the%20authn%20part%20of%20the%20URI%20at%20all.%0A%3E%20%5B%E2%80%A6%5D%0A%3E%20%3E%20But%20it%20will%20also%20leak%20in%20the%20Host%3A%20header%20on%20unencrypted%0A%3E%20%3E%20connections%2C%20and%20also%20probably%20SSL%20ones%20too.%0A%3E%20%0A%3E%20But%20that%20looks%20to%20me%20as%20if%20Ariadne%20just%20refers%20to%20the%20code%20and%20hasn%27t%0A%3E%20actually%20checked%20it%20by%20trying%20it.%20Nevertheless%20thanks%20to%20Ariadne%20for%0A%3E%20having%20had%20a%20look%20and%20proposing%20a%20patch%21%0A%3E%20%0A%3E%20To%20be%20on%20the%20safe%20side%20I%20tested%20Lynx%202.9.0dev.6-2%20as%20in%20Debian%0A%3E%20Unstable%2FTesting%20%28yet%20unpatched%20for%20CVE-2021-38165%29%20and%20the%20%28claimed%0A%3E%20to%20be%20fixed%29%20Lynx%202.9.0dev.9-1%20as%20uploaded%20to%20Debian%20Experimental%20by%0A%3E%20Andreas%20Metzler%20very%20recently%20%28still%20only%20on%20incoming.debian.org%2C%0A%3E%20fetched%20it%20from%20there%29.%20And%20I%20also%20tested%20Lynx%202.8.9dev1%20from%20Debian%208%0A%3E%20Jessie%20ELTS%2C%20the%20oldest%20compiled%20version%20of%20Lynx%20I%20could%20easily%20get%20my%0A%3E%20hands%20on.%0A%3E%20%0A%3E%20Neither%20of%20them%20leaked%20the%20user%20name%20or%20password%20in%20Host%20header%20of%20a%0A%3E%20plain%20HTTP%20request.%20%28So%20I%20assume%20that%20the%20versions%20inbetween%20don%27t%20do%0A%3E%20that%20either.%29%0A%3E%20%0A%3E%20I%20also%20kinda%20would%20have%20expected%20that%20if%20this%20would%20have%20been%20the%20case%0A%3E%20in%20the%20plain%20HTTP%20Host%20header%2C%20it%20would%20have%20been%20noticed%20way%20earlier%0A%3E%20than%20with%20the%20TLS%20SNI%20extension%2C%20namely%20before%20the%20HTTPS%20era.%20Then%0A%3E%20again%2C%20the%20much%20more%20obvious%20facet%20of%20this%20issue%20which%20Thorsten%0A%3E%20initially%20found%20was%20reported%20way%20later%20than%20I%27d%20expected%2C%20so%20maybe%20my%0A%3E%20gut%20feeling%20is%20wrong%20here%2C%20too.%20%3A-%29%0A%3E%20%0A%3E%20So%20I%20also%20looked%20in%20the%20code%20%28of%20the%20unpatched%202.9.0dev.8%29.%20The%20patch%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=abe%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;,
	oss-security@lists.openwall.com,
	Ariadne Conill &lt;ariadne@dereferenced.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 991971@bugs.debian.org, lynx-dev@nongnu.org, security@debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [oss-security] Re: Bug#991971: [Lynx-dev] bug in Lynx&#39; SSL
 certificate validation -&gt; leaks password in clear text via SNI (under some
 circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 22:13:18 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=991971;msg=78">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi Salvatore, Dear Ariadne,

Salvatore Bonaccorso wrote:
&gt; &gt; This is more severe than it initially looked like: Due to TLS Server
&gt; &gt; Name Indication (SNI) the hostname as parsed by Lynx (i.e with
&gt; &gt; &quot;user:pass@&quot; included) is sent in _clear_ text over the wire even
&gt; &gt; _before_ I can even said &quot;n&quot; for &quot;no, don&#39;t continue to talk with this
&gt; &gt; server&quot; in Lynx&#39;s prompt as shown above.
[…]
&gt; &gt; IMHO this nevertheless needs a CVE-ID.
&gt;
&gt; MITRE did assign <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a>.

Thanks Salvatore. I updated the debian/changelog entry for the next
upload as well as the title of the Debian bug report.

&gt; MITRE raised the question: Does 2.9.0dev.9 (mentioned on the
&gt; <a href="https://lynx.invisible-island.net/current/CHANGES.html">https://lynx.invisible-island.net/current/CHANGES.html</a> page) fix the
&gt; entire problem?

At this point a huge thanks to Thomas Dickey (Lynx upstream) for
providing a fixed version so quickly!

&gt; <a href="https://www.openwall.com/lists/oss-security/2021/08/07/7">https://www.openwall.com/lists/oss-security/2021/08/07/7</a> claims that
&gt; credentials appear in the HTTP Host header to an http:// (i.e.,
&gt; non-SSL) website. 

Indeed and a good point.

Citing from Ariadne&#39;s mail:
&gt; The issue itself is far more severe: HTParse() does not understand
&gt; the authn part of the URI at all.
[…]
&gt; But it will also leak in the Host: header on unencrypted
&gt; connections, and also probably SSL ones too.

But that looks to me as if Ariadne just refers to the code and hasn&#39;t
actually checked it by trying it. Nevertheless thanks to Ariadne for
having had a look and proposing a patch!

To be on the safe side I tested Lynx 2.9.0dev.6-2 as in Debian
Unstable/Testing (yet unpatched for <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a>) and the (claimed
to be fixed) Lynx 2.9.0dev.9-1 as uploaded to Debian Experimental by
Andreas Metzler very recently (still only on incoming.debian.org,
fetched it from there). And I also tested Lynx 2.8.9dev1 from Debian 8
Jessie ELTS, the oldest compiled version of Lynx I could easily get my
hands on.

Neither of them leaked the user name or password in Host header of a
plain HTTP request. (So I assume that the versions inbetween don&#39;t do
that either.)

I also kinda would have expected that if this would have been the case
in the plain HTTP Host header, it would have been noticed way earlier
than with the TLS SNI extension, namely before the HTTPS era. Then
again, the much more obvious facet of this issue which Thorsten
initially found was reported way later than I&#39;d expected, so maybe my
gut feeling is wrong here, too. :-)

So I also looked in the code (of the unpatched 2.9.0dev.8). The patch
for 2.9.0dev.9 added a function StripUserAuthents and added it only
into the HTTPS code path. So I looked for &quot;strip&quot; and &quot;Strip&quot; in the
HTTP code path and found this code in WWW/Library/Implementation/HTTP.c
(which also has the HTTPS code btw.):

   1353         if ((host = HTParse(anAnchor-&gt;address, &quot;&quot;, PARSE_HOST)) != NULL) {
-&gt; 1354             strip_userid(host, TRUE);
-&gt; 1355             HTBprintf(&amp;command, &quot;Host: %s%c%c&quot;, host, CR, LF);
   1356             FREE(host);
   1357         }

So from my point of view, this also invalidates that claim that the
HTTP Host header contains username or password. HTParse (as mentioned
by Ariadne occurs quite often in the code and its exact workings are
unclear to me from just looking at how it is called as it seems very
variable in what it parses and it appears before and after the above
mentioned code snippet for printing the Host header.

$ fgrep -n &#39;HTParse(&#39; WWW/Library/Implementation/HTTP.c
891:        connect_host = HTParse(connect_url, &quot;https&quot;, PARSE_HOST);
900:        connect_host = HTParse(connect_url, &quot;snews&quot;, PARSE_HOST);
977:    ssl_host = HTParse(url, &quot;&quot;, PARSE_HOST);
1319:   char *p1 = (HTParse(url, &quot;&quot;, PARSE_PATH | PARSE_PUNCTUATION));
1371:   if ((host = HTParse(anAnchor-&gt;address, &quot;&quot;, PARSE_HOST)) != NULL) {
1564:       abspath = HTParse(arg, &quot;&quot;, PARSE_PATH | PARSE_PUNCTUATION);
1565:       docname = HTParse(arg, &quot;&quot;, PARSE_PATH);
1566:       hostname = HTParse(arg, &quot;&quot;, PARSE_HOST);
1590:           host2 = HTParse(docname, &quot;&quot;, PARSE_HOST);
1591:           path2 = HTParse(docname, &quot;&quot;, PARSE_PATH | PARSE_PUNCTUATION);
2370:                       !HTAA_HaveUserinfo(HTParse(arg, &quot;&quot;, PARSE_HOST)) &amp;&amp;

So from my point of view the user and password are stripped only once
(in 2.9.0dev8), namely directly before printing the Host header (in
both HTTP and HTTPS code paths). Which also seems the reason why it
got forgotten for SNI and why Thomas added a new, way less complex
function for stripping them of the SNI header. Calling strip_userid
again would extract the credentials again which likely isn&#39;t wanted.
(The same IMHO applies to the often called HTParse function.)

I assume that Ariadne just oversaw that call to strip_userid just
before printing the HTTP Host header when looking at the code. (And I
clearly had the advantage of having looked at the code _after_ the
official upstream patch has been published, so I clearly had an
advantage when looking at the code, too.)

I though didn&#39;t check the strip_userid function in detail as it&#39;s way
more complex than the rather simple StripUserAuthents function added
in 2.9.0dev.9. This likely because strip_userid does not only strip
those credentials, it also seems to extract them. And it clearly looks
for an &quot;@&quot; as delimiter. Together with the PCAPs of Lynx HTTP traffic
I analysed, I&#39;m quite confident, that it&#39;s fine.

		Regards, Axel
-- 
 ,&#39;&#39;`.  |  Axel Beckert &lt;abe@debian.org&gt;, <a href="https://people.debian.org/~abe/">https://people.debian.org/~abe/</a>
: :&#39; :  |  Debian Developer, ftp.ch.debian.org Admin
`. `&#39;   |  4096R: 2517 B724 C5F6 CA99 5329  6E61 2FF9 CD59 6126 16B5
  `-    |  1024D: F067 EA27 26B9 C3FC 1486  202E C09E 1D89 9593 0EDE
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=991971;filename=signature.asc;msg=78">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="79"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628368202 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 20:30:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=80">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=80">mbox</a>, <a href="#79">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="81"></a>
<!-- request_addr: Ariadne Conill &lt;ariadne@dereferenced.org&gt; -->
<!-- time:1628368202 -->
<strong>Acknowledgement sent</strong>
to <code>Ariadne Conill &lt;ariadne@dereferenced.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 20:30:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=82">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=82">mbox</a>, <a href="#81">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="83"></a><a name="msg83"></a><a href="#83">Message #83</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=83">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=83">mbox</a>, <a href="mailto:991971@bugs.debian.org?In-Reply-To=%3Cbd75b23c-3e7d-a52d-7df8-501d5e30a7f3%40dereferenced.org%3E&amp;References=%3C20210807201317.ow27rxtpcdkgsxuj%40sym.noone.org%3E%0A%20%3Cbd75b23c-3e7d-a52d-7df8-501d5e30a7f3%40dereferenced.org%3E&amp;body=On%20Sat%2C%207%20Aug%202021%2015%3A26%3A09%20-0500%20%28CDT%29%20Ariadne%20Conill%20%3Cariadne%40dereferenced.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20On%20Sat%2C%207%20Aug%202021%2C%20Axel%20Beckert%20wrote%3A%0A%3E%20%0A%3E%20%3E%20Hi%20Salvatore%2C%20Dear%20Ariadne%2C%0A%3E%20%3E%0A%3E%20%3E%20Salvatore%20Bonaccorso%20wrote%3A%0A%3E%20%3E%3E%3E%20This%20is%20more%20severe%20than%20it%20initially%20looked%20like%3A%20Due%20to%20TLS%20Server%0A%3E%20%3E%3E%3E%20Name%20Indication%20%28SNI%29%20the%20hostname%20as%20parsed%20by%20Lynx%20%28i.e%20with%0A%3E%20%3E%3E%3E%20%22user%3Apass%40%22%20included%29%20is%20sent%20in%20_clear_%20text%20over%20the%20wire%20even%0A%3E%20%3E%3E%3E%20_before_%20I%20can%20even%20said%20%22n%22%20for%20%22no%2C%20don%27t%20continue%20to%20talk%20with%20this%0A%3E%20%3E%3E%3E%20server%22%20in%20Lynx%27s%20prompt%20as%20shown%20above.%0A%3E%20%3E%20%5B%E2%80%A6%5D%0A%3E%20%3E%3E%3E%20IMHO%20this%20nevertheless%20needs%20a%20CVE-ID.%0A%3E%20%3E%3E%0A%3E%20%3E%3E%20MITRE%20did%20assign%20CVE-2021-38165.%0A%3E%20%3E%0A%3E%20%3E%20Thanks%20Salvatore.%20I%20updated%20the%20debian%2Fchangelog%20entry%20for%20the%20next%0A%3E%20%3E%20upload%20as%20well%20as%20the%20title%20of%20the%20Debian%20bug%20report.%0A%3E%20%0A%3E%20%2B1%2C%20thanks%20for%20getting%20a%20CVE%20for%20this.%0A%3E%20%0A%3E%20%3E%3E%20MITRE%20raised%20the%20question%3A%20Does%202.9.0dev.9%20%28mentioned%20on%20the%0A%3E%20%3E%3E%20https%3A%2F%2Flynx.invisible-island.net%2Fcurrent%2FCHANGES.html%20page%29%20fix%20the%0A%3E%20%3E%3E%20entire%20problem%3F%0A%3E%20%3E%0A%3E%20%3E%20At%20this%20point%20a%20huge%20thanks%20to%20Thomas%20Dickey%20%28Lynx%20upstream%29%20for%0A%3E%20%3E%20providing%20a%20fixed%20version%20so%20quickly%21%0A%3E%20%0A%3E%20I%20think%202.9.0dev.9%20fixes%20the%20problem%2C%20even%20if%20the%20fix%20is%2C%20well%2C%20not%20the%20%0A%3E%20way%20I%20would%20do%20it.%0A%3E%20%0A%3E%20%3E%0A%3E%20%3E%3E%20https%3A%2F%2Fwww.openwall.com%2Flists%2Foss-security%2F2021%2F08%2F07%2F7%20claims%20that%0A%3E%20%3E%3E%20credentials%20appear%20in%20the%20HTTP%20Host%20header%20to%20an%20http%3A%2F%2F%20%28i.e.%2C%0A%3E%20%3E%3E%20non-SSL%29%20website.%0A%3E%20%3E%0A%3E%20%3E%20Indeed%20and%20a%20good%20point.%0A%3E%20%3E%0A%3E%20%3E%20Citing%20from%20Ariadne%27s%20mail%3A%0A%3E%20%3E%3E%20The%20issue%20itself%20is%20far%20more%20severe%3A%20HTParse%28%29%20does%20not%20understand%0A%3E%20%3E%3E%20the%20authn%20part%20of%20the%20URI%20at%20all.%0A%3E%20%3E%20%5B%E2%80%A6%5D%0A%3E%20%3E%3E%20But%20it%20will%20also%20leak%20in%20the%20Host%3A%20header%20on%20unencrypted%0A%3E%20%3E%3E%20connections%2C%20and%20also%20probably%20SSL%20ones%20too.%0A%3E%20%3E%0A%3E%20%3E%20But%20that%20looks%20to%20me%20as%20if%20Ariadne%20just%20refers%20to%20the%20code%20and%20hasn%27t%0A%3E%20%3E%20actually%20checked%20it%20by%20trying%20it.%20Nevertheless%20thanks%20to%20Ariadne%20for%0A%3E%20%3E%20having%20had%20a%20look%20and%20proposing%20a%20patch%21%0A%3E%20%0A%3E%20Yes%2C%20this%20was%20my%20guess%20since%20HTParse%28%29%20doesn%27t%20understand%20the%20authn%20part.%20%0A%3E%20But%20this%20seems%20like%20a%20rather%20unfortunate%20design%3A%20parse%20the%20URI%20wrong%2C%20and%20%0A%3E%20then%20%22fix%22%20it%20later%3F%20%20Why%20not%20just%20parse%20the%20URI%20right%2C%20to%20begin%20with%3F%0A%3E%20%0A%3E%20So%20strange...%0A%3E%20%0A%3E%20Ariadne&amp;subject=Re%3A%20%5Boss-security%5D%20Re%3A%20Bug%23991971%3A%20%5BLynx-dev%5D%20bug%20in%20Lynx%27%20SSL%0A%20certificate%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%0A%20circumstances%29">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ariadne%40dereferenced.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ariadne Conill &lt;ariadne@dereferenced.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;, oss-security@lists.openwall.com, 
    Ariadne Conill &lt;ariadne@dereferenced.org&gt;, 991971@bugs.debian.org, 
    lynx-dev@nongnu.org, security@debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [oss-security] Re: Bug#991971: [Lynx-dev] bug in Lynx&#39; SSL
 certificate validation -&gt; leaks password in clear text via SNI (under some
 circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 7 Aug 2021 15:26:09 -0500 (CDT)</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=991971;msg=83">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message flowed">Hi,

On Sat, 7 Aug 2021, Axel Beckert wrote:

&gt; Hi Salvatore, Dear Ariadne,
&gt;
&gt; Salvatore Bonaccorso wrote:
&gt;&gt;&gt; This is more severe than it initially looked like: Due to TLS Server
&gt;&gt;&gt; Name Indication (SNI) the hostname as parsed by Lynx (i.e with
&gt;&gt;&gt; &quot;user:pass@&quot; included) is sent in _clear_ text over the wire even
&gt;&gt;&gt; _before_ I can even said &quot;n&quot; for &quot;no, don&#39;t continue to talk with this
&gt;&gt;&gt; server&quot; in Lynx&#39;s prompt as shown above.
&gt; […]
&gt;&gt;&gt; IMHO this nevertheless needs a CVE-ID.
&gt;&gt;
&gt;&gt; MITRE did assign <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a>.
&gt;
&gt; Thanks Salvatore. I updated the debian/changelog entry for the next
&gt; upload as well as the title of the Debian bug report.

+1, thanks for getting a CVE for this.

&gt;&gt; MITRE raised the question: Does 2.9.0dev.9 (mentioned on the
&gt;&gt; <a href="https://lynx.invisible-island.net/current/CHANGES.html">https://lynx.invisible-island.net/current/CHANGES.html</a> page) fix the
&gt;&gt; entire problem?
&gt;
&gt; At this point a huge thanks to Thomas Dickey (Lynx upstream) for
&gt; providing a fixed version so quickly!

I think 2.9.0dev.9 fixes the problem, even if the fix is, well, not the 
way I would do it.

&gt;
&gt;&gt; <a href="https://www.openwall.com/lists/oss-security/2021/08/07/7">https://www.openwall.com/lists/oss-security/2021/08/07/7</a> claims that
&gt;&gt; credentials appear in the HTTP Host header to an http:// (i.e.,
&gt;&gt; non-SSL) website.
&gt;
&gt; Indeed and a good point.
&gt;
&gt; Citing from Ariadne&#39;s mail:
&gt;&gt; The issue itself is far more severe: HTParse() does not understand
&gt;&gt; the authn part of the URI at all.
&gt; […]
&gt;&gt; But it will also leak in the Host: header on unencrypted
&gt;&gt; connections, and also probably SSL ones too.
&gt;
&gt; But that looks to me as if Ariadne just refers to the code and hasn&#39;t
&gt; actually checked it by trying it. Nevertheless thanks to Ariadne for
&gt; having had a look and proposing a patch!

Yes, this was my guess since HTParse() doesn&#39;t understand the authn part. 
But this seems like a rather unfortunate design: parse the URI wrong, and 
then &quot;fix&quot; it later?  Why not just parse the URI right, to begin with?

So strange...

Ariadne</pre>

<div class="msgreceived"><hr><p>
<a name="84"></a>
<!-- requester: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1628379182 -->
<strong>Severity set to &#39;serious&#39; from &#39;important&#39;</strong>
Request was from <code>Axel Beckert &lt;abe@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 07 Aug 2021 23:33:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=85">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=85">mbox</a>, <a href="#84">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="86"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628380623 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sat, 07 Aug 2021 23:57:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=87">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=87">mbox</a>, <a href="#86">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="88"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628380623 -->
<strong>Acknowledgement sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sat, 07 Aug 2021 23:57:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=89">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=89">mbox</a>, <a href="#88">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="90"></a><a name="msg90"></a><a href="#90">Message #90</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=90">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=90">mbox</a>, <a href="mailto:991971@bugs.debian.org?body=On%20Sun%2C%208%20Aug%202021%2001%3A54%3A56%20%2B0200%20Axel%20Beckert%20%3Cabe%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20Andreas%2C%0A%3E%20%0A%3E%20Andreas%20Metzler%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20tags%20991971%20fixed-upstream%0A%3E%20%3E%20%3E%20Bug%20%23991971%20%5Blynx%5D%20lynx%3A%20SSL%20certificate%20validation%20fails%20with%20URLs%20containing%20user%20name%20or%20user%20name%20and%20password%2C%20i.e.%20https%3A%2F%2Fuser%3Apassword%40host%2F%20and%20https%3A%2F%2Fuser%40host%2F%3B%20leaks%20password%20in%20clear%20text%20via%20SNI%0A%3E%20%3E%20%3E%20Added%20tag%28s%29%20fixed-upstream.%0A%3E%20%3E%20%0A%3E%20%3E%20Hello%2C%0A%3E%20%3E%20%0A%3E%20%3E%20I%20have%20just%20uploaded%20.9%20to%20experimental.%0A%3E%20%0A%3E%20Thanks%20a%20lot%21%20Went%20to%20bed%20in%20the%20morning%20last%20night%2C%20so%20I%20was%20really%0A%3E%20happy%20to%20see%20at%20least%20Experimental%20already%20being%20fixed%20when%20I%20woke%20up%0A%3E%20again.%0A%3E%20%0A%3E%20%3E%20The%20deadline%20for%20bulleye%20unblock%20requests%20has%20passed%2C%20so%20we%20will%0A%3E%20%3E%20need%20to%20fix%20this%20by%20security%2Fpoint%20release.%0A%3E%20%0A%3E%20Hrm%2C%20right%2C%20thanks%20for%20the%20reminder.%0A%3E%20%0A%3E%20I%20nevertheless%20will%20update%20Unstable%20with%20a%20fix.%20It%20might%20be%20helpful%0A%3E%20for%20the%20Security%20Team%20%28Cc%27ed%29%20or%20us%20to%20prepare%20a%20stable-update%20for%0A%3E%20Bullseye.%0A%3E%20%0A%3E%20Security%20Team%3A%20Do%20you%20think%20the%20fix%20for%20CVE-2021-38165%20should%20get%20a%0A%3E%20DSA%3F%20Or%20do%20you%20think%20it%27s%20not%20important%20enough%20and%20we%20should%20target%20a%0A%3E%20minor%20stable%20update%20for%20it%3F%0A%3E%20%0A%3E%20%3E%20%40Fellow%20lynx-maintainers%3A%20Do%20you%20have%20a%20preferred%20branch%20name%20for%0A%3E%20%3E%20bullseye%3F%20I%20would%20go%20for%20%2211_bullseye%22.%0A%3E%20%0A%3E%20I%27d%20just%20have%20said%20%22bullseye%22%20to%20keep%20things%20simple.%20But%20%2211_bullseye%22%0A%3E%20isn%27t%20really%20bad%20either.%20At%20least%20the%20stable%20fix%20branches%20then%20would%0A%3E%20be%20properly%20ordered.%20%28I%20don%27t%20see%20much%20other%20gain%20from%20the%20%2211_%22%20in%0A%3E%20front%2C%20though.%29%0A%3E%20%0A%3E%20The%20other%20option%20which%20came%20to%20my%20mind%20was%20%22debian%2Fbullseye%22%20which%20I%0A%3E%20thought%20would%20be%20according%20to%20DEP14%2C%20but%20then%20I%20noticed%20that%20it%20would%0A%3E%20have%20to%20be%20%22debian%2Fbullseye-security%22%20or%20%22debian%2Fbullseye-updates%22%0A%3E%20%2Asigh%2A%20according%20to%20DEP14.%0A%3E%20%0A%3E%20But%20I%20must%20admit%20that%20I%27m%20anything%20but%20a%20fan%20of%20DEP14.%20So%20I%27ll%20use%0A%3E%20%2211_bullseye%22.%0A%3E%20%0A%3E%20Then%20again%2C%20this%20opens%20the%20question%20if%20I%20should%20put%20that%20upload%20to%0A%3E%20Unstable%20into%20the%2011_bullseye%20branch%20despite%20the%20later%20stable%20or%0A%3E%20security%20update%20will%20not%20be%20a%20direct%20successor%20of%20that%20upload%2C%20at%0A%3E%20least%20not%20in%20the%20debian%2Fchangelog.%20Meh.%20But%20then%20again%2C%20nothing%20speaks%0A%3E%20against%20making%20it%20a%20predecessor%20in%20git%20only%2C%20i.e.%20just%20rewriting%20the%0A%3E%20debian%2Fchangelog%20entry%20with%20the%20entry%20for%20the%20stable%20or%20security%0A%3E%20update%20as%20the%20remainder%20will%20be%20the%20same%20anyways.%20And%20in%20the%20worst%0A%3E%20case%20we%20can%20always%20rename%20branches%20or%20rewrite%20history%20in%20git.%20%3A-P%0A%3E%20%0A%3E%20%09%09Regards%2C%20Axel%0A%3E%20--%20%0A%3E%20%20%2C%27%27%60.%20%20%7C%20%20Axel%20Beckert%20%3Cabe%40debian.org%3E%2C%20https%3A%2F%2Fpeople.debian.org%2F~abe%2F%0A%3E%20%3A%20%3A%27%20%3A%20%20%7C%20%20Debian%20Developer%2C%20ftp.ch.debian.org%20Admin%0A%3E%20%60.%20%60%27%20%20%20%7C%20%204096R%3A%202517%20B724%20C5F6%20CA99%205329%20%206E61%202FF9%20CD59%206126%2016B5%0A%3E%20%20%20%60-%20%20%20%20%7C%20%201024D%3A%20F067%20EA27%2026B9%20C3FC%201486%20%20202E%20C09E%201D89%209593%200EDE%0A&amp;subject=Re%3A%20%5Bpkg-lynx-maint%5D%20Bug%23991971%3A%20%5BCVE-2021-38165%5D%20lynx%3A%20bug%20in%20SSL%0A%20certificate%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%0A%20circumstances%29&amp;References=%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3Chandler.s.C.162834935021240.transcript%40bugs.debian.org%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3CYQ6uE5Vhzpttu7jw%40argenau.bebt.de%3E%0A%20%3C20210807235455.cwgmfniilguwglar%40sym.noone.org%3E&amp;In-Reply-To=%3C20210807235455.cwgmfniilguwglar%40sym.noone.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=abe%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Andreas Metzler &lt;ametzler@bebt.de&gt;, 991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> security@debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [pkg-lynx-maint] Bug#991971: [CVE-2021-38165] lynx: bug in SSL
 certificate validation -&gt; leaks password in clear text via SNI (under some
 circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 8 Aug 2021 01:54:56 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=991971;msg=90">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi Andreas,

Andreas Metzler wrote:
&gt; &gt; &gt; tags 991971 fixed-upstream
&gt; &gt; Bug #991971 [lynx] lynx: SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/;">https://user@host/;</a> leaks password in clear text via SNI
&gt; &gt; Added tag(s) fixed-upstream.
&gt; 
&gt; Hello,
&gt; 
&gt; I have just uploaded .9 to experimental.

Thanks a lot! Went to bed in the morning last night, so I was really
happy to see at least Experimental already being fixed when I woke up
again.

&gt; The deadline for bulleye unblock requests has passed, so we will
&gt; need to fix this by security/point release.

Hrm, right, thanks for the reminder.

I nevertheless will update Unstable with a fix. It might be helpful
for the Security Team (Cc&#39;ed) or us to prepare a stable-update for
Bullseye.

Security Team: Do you think the fix for <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a> should get a
DSA? Or do you think it&#39;s not important enough and we should target a
minor stable update for it?

&gt; @Fellow lynx-maintainers: Do you have a preferred branch name for
&gt; bullseye? I would go for &quot;11_bullseye&quot;.

I&#39;d just have said &quot;bullseye&quot; to keep things simple. But &quot;11_bullseye&quot;
isn&#39;t really bad either. At least the stable fix branches then would
be properly ordered. (I don&#39;t see much other gain from the &quot;11_&quot; in
front, though.)

The other option which came to my mind was &quot;debian/bullseye&quot; which I
thought would be according to DEP14, but then I noticed that it would
have to be &quot;debian/bullseye-security&quot; or &quot;debian/bullseye-updates&quot;
*sigh* according to DEP14.

But I must admit that I&#39;m anything but a fan of DEP14. So I&#39;ll use
&quot;11_bullseye&quot;.

Then again, this opens the question if I should put that upload to
Unstable into the 11_bullseye branch despite the later stable or
security update will not be a direct successor of that upload, at
least not in the debian/changelog. Meh. But then again, nothing speaks
against making it a predecessor in git only, i.e. just rewriting the
debian/changelog entry with the entry for the stable or security
update as the remainder will be the same anyways. And in the worst
case we can always rename branches or rewrite history in git. :-P

		Regards, Axel
-- 
 ,&#39;&#39;`.  |  Axel Beckert &lt;abe@debian.org&gt;, <a href="https://people.debian.org/~abe/">https://people.debian.org/~abe/</a>
: :&#39; :  |  Debian Developer, ftp.ch.debian.org Admin
`. `&#39;   |  4096R: 2517 B724 C5F6 CA99 5329  6E61 2FF9 CD59 6126 16B5
  `-    |  1024D: F067 EA27 26B9 C3FC 1486  202E C09E 1D89 9593 0EDE
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=991971;filename=signature.asc;msg=90">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="91"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628385843 -->
<strong>Reply sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Sun, 08 Aug 2021 01:24:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=92">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=92">mbox</a>, <a href="#91">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="93"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628385843 -->
<strong>Notification sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Sun, 08 Aug 2021 01:24:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=94">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=94">mbox</a>, <a href="#93">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="95"></a><a name="msg95"></a><a href="#95">Message #95</a> received at 991971-close@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=95">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=95">mbox</a>, <a href="mailto:991971@bugs.debian.org?subject=Re%3A%20Bug%23991971%3A%20fixed%20in%20lynx%202.9.0dev.6-3&amp;body=On%20Sun%2C%2008%20Aug%202021%2001%3A21%3A30%20%2B0000%20Debian%20FTP%20Masters%20%3Cftpmaster%40ftp-master.debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20lynx%0A%3E%20Source-Version%3A%202.9.0dev.6-3%0A%3E%20Done%3A%20Axel%20Beckert%20%3Cabe%40debian.org%3E%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20lynx%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20991971%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Axel%20Beckert%20%3Cabe%40debian.org%3E%20%28supplier%20of%20updated%20lynx%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Sun%2C%2008%20Aug%202021%2002%3A27%3A54%20%2B0200%0A%3E%20Source%3A%20lynx%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%202.9.0dev.6-3%0A%3E%20Distribution%3A%20unstable%0A%3E%20Urgency%3A%20high%0A%3E%20Maintainer%3A%20Debian%20Lynx%20Packaging%20Team%20%3Cpkg-lynx-maint%40lists.alioth.debian.org%3E%0A%3E%20Changed-By%3A%20Axel%20Beckert%20%3Cabe%40debian.org%3E%0A%3E%20Closes%3A%20991971%0A%3E%20Changes%3A%0A%3E%20%20lynx%20%282.9.0dev.6-3%29%20unstable%3B%20urgency%3Dhigh%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20Apply%20fix%20from%20Lynx%202.9.0dev.9%20for%20CVE-2021-38165%20to%20fix%20leakage%20of%0A%3E%20%20%20%20%20%20username%20and%20password%20in%20the%20TLS%201.2%20SNI%20Extension%20if%20username%20and%0A%3E%20%20%20%20%20%20password%20were%20given%20in%20the%20URL%2C%20i.e.%20as%20https%3A%2F%2Fuser%3Apass%40example.org%2F%0A%3E%20%20%20%20%20%20%28Closes%3A%20%23991971%29%0A%3E%20Checksums-Sha1%3A%0A%3E%20%205f937346d99e0d01de955a829f751e4b6871175c%202528%20lynx_2.9.0dev.6-3.dsc%0A%3E%20%206afae746bcf520c0804b2157225e4a249b3fddb4%2030108%20lynx_2.9.0dev.6-3.debian.tar.xz%0A%3E%20%20c218df88acf8db06ba8a5fcfe389b976229dd12b%207461%20lynx_2.9.0dev.6-3_amd64.buildinfo%0A%3E%20Checksums-Sha256%3A%0A%3E%20%20095581d1a918999debdd30b9f992e3a35c3f56ca38e1f73b897296024defa7c2%202528%20lynx_2.9.0dev.6-3.dsc%0A%3E%20%2045f6c27005c91b8cda7ac842718e94f91e94d634d8e900b725dbfa485fec64aa%2030108%20lynx_2.9.0dev.6-3.debian.tar.xz%0A%3E%20%20767503cfcb00e5b44c860bd76d7404fdaf11cb217f41150627ccc143ef2a6871%207461%20lynx_2.9.0dev.6-3_amd64.buildinfo%0A%3E%20Files%3A%0A%3E%20%20b10cfed6b228f4a3fef7ae3054cd6ab2%202528%20web%20optional%20lynx_2.9.0dev.6-3.dsc%0A%3E%20%20c98f545749c1dde4de8c6563103029c8%2030108%20web%20optional%20lynx_2.9.0dev.6-3.debian.tar.xz%0A%3E%20%20114a847958642854386d66b0808e5903%207461%20web%20optional%20lynx_2.9.0dev.6-3_amd64.buildinfo%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNATURE-----%0A%3E%20%0A%3E%20iQIzBAEBCgAdFiEERoyJeTtCmBnp12Ema%2BZjx1o1yXUFAmEPLNcACgkQa%2BZjx1o1%0A%3E%20yXXskg%2F8CepC8oblzdBpFpQq94gQ9dYhSs2uweGcR3h7dTl0jWnU6yJMviHdRDM5%0A&amp;In-Reply-To=%3CE1mCXVK-000Dft-UU%40fasolo.debian.org%3E&amp;References=%3CE1mCXVK-000Dft-UU%40fasolo.debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ftpmaster%40ftp-master.debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Debian FTP Masters &lt;ftpmaster@ftp-master.debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 991971-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#991971: fixed in lynx 2.9.0dev.6-3</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 08 Aug 2021 01:21:30 +0000</div>
</div>
<pre class="message">Source: lynx
Source-Version: 2.9.0dev.6-3
Done: Axel Beckert &lt;abe@debian.org&gt;

We believe that the bug you reported is fixed in the latest version of
lynx, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 991971@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Axel Beckert &lt;abe@debian.org&gt; (supplier of updated lynx package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Sun, 08 Aug 2021 02:27:54 +0200
Source: lynx
Architecture: source
Version: 2.9.0dev.6-3
Distribution: unstable
Urgency: high
Maintainer: Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;
Changed-By: Axel Beckert &lt;abe@debian.org&gt;
Closes: <a href="bugreport.cgi?bug=991971">991971</a>
Changes:
 lynx (2.9.0dev.6-3) unstable; urgency=high
 .
   * Apply fix from Lynx 2.9.0dev.9 for <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a> to fix leakage of
     username and password in the TLS 1.2 SNI Extension if username and
     password were given in the URL, i.e. as <a href="https://user:pass@example.org/">https://user:pass@example.org/</a>
     (Closes: #<a href="bugreport.cgi?bug=991971">991971</a>)
Checksums-Sha1:
 5f937346d99e0d01de955a829f751e4b6871175c 2528 lynx_2.9.0dev.6-3.dsc
 6afae746bcf520c0804b2157225e4a249b3fddb4 30108 lynx_2.9.0dev.6-3.debian.tar.xz
 c218df88acf8db06ba8a5fcfe389b976229dd12b 7461 lynx_2.9.0dev.6-3_amd64.buildinfo
Checksums-Sha256:
 095581d1a918999debdd30b9f992e3a35c3f56ca38e1f73b897296024defa7c2 2528 lynx_2.9.0dev.6-3.dsc
 45f6c27005c91b8cda7ac842718e94f91e94d634d8e900b725dbfa485fec64aa 30108 lynx_2.9.0dev.6-3.debian.tar.xz
 767503cfcb00e5b44c860bd76d7404fdaf11cb217f41150627ccc143ef2a6871 7461 lynx_2.9.0dev.6-3_amd64.buildinfo
Files:
 b10cfed6b228f4a3fef7ae3054cd6ab2 2528 web optional lynx_2.9.0dev.6-3.dsc
 c98f545749c1dde4de8c6563103029c8 30108 web optional lynx_2.9.0dev.6-3.debian.tar.xz
 114a847958642854386d66b0808e5903 7461 web optional lynx_2.9.0dev.6-3_amd64.buildinfo

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEERoyJeTtCmBnp12Ema+Zjx1o1yXUFAmEPLNcACgkQa+Zjx1o1
yXXskg/8CepC8oblzdBpFpQq94gQ9dYhSs2uweGcR3h7dTl0jWnU6yJMviHdRDM5
craRLo6boB5YsySFROwy2DqVa4il3M6bjzLFvTTMAz3+f7o5r89HgQuweq1HM7DJ
A1HPZFXXPRxbDK0fm/pzzzmOsjQ9XyCuBS/QgWiDLkZ0pcHB7cIET2snmkubd1gu
hfOeAw9ZXBwsM1zP+4p5RmzV+j4sMKy6pnQ1Rf5NMSo5/6OtYwseRNxWz3i0LqyC
VL0HCOaY7+LlZ3PgM1msHhjUG/utZhd/dqsDgEesEARpsR18ld+lm6nOlktSmMv4
MDrbZgBTkvbibhqIrWHfuwUYHmxFeDVeSy12BNMq06PaVRAx+fgblWKh4hf/1WNb
QCFg43HAXm1NjfrWx0upo2HXLrSb6/H2NbIh5dLv8Rmd2d2UbpW+ewv9B2Oy3B7Q
loG9ada5XxNIVUCa+/w3RIpy/0MWuxF2YVGqDJkEMdBM/g9jkINJyQ8tr9mWlOgG
G4wvP1S/W5nimisf5hx59H6lGlCmIz2LRDebBSd9DD3rKG51cPN8NrqD1G8mBy6+
DDFEGyknpAtku2haxJ5kvhbsytu+xVBM488Wo5svrsDehzhRwZFX8FCf/HG12xDc
hJlB75U7k9L1rYjKqDjGd13rLRMIX91wP0kGwXurDHDqHoo9YGg=
=OCyx
-----END PGP SIGNATURE-----



</pre>

<div class="infmessage"><hr><p>
<a name="96"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628416983 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sun, 08 Aug 2021 10:03:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=97">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=97">mbox</a>, <a href="#96">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="98"></a>
<!-- request_addr: Moritz Mühlenhoff &lt;jmm@inutil.org&gt; -->
<!-- time:1628416983 -->
<strong>Acknowledgement sent</strong>
to <code>Moritz Mühlenhoff &lt;jmm@inutil.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sun, 08 Aug 2021 10:03:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=99">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=99">mbox</a>, <a href="#98">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="100"></a><a name="msg100"></a><a href="#100">Message #100</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=100">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=100">mbox</a>, <a href="mailto:991971@bugs.debian.org?subject=Re%3A%20%5Bpkg-lynx-maint%5D%20Bug%23991971%3A%20%5BCVE-2021-38165%5D%20lynx%3A%20bug%20in%20SSL%0A%20certificate%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%0A%20circumstances%29&amp;body=On%20Sun%2C%208%20Aug%202021%2011%3A58%3A52%20%2B0200%20%3D%3FUTF-8%3FQ%3FMoritz_M%3DC3%3DBChlenhoff%3F%3D%20%3Cjmm%40inutil.org%3E%20wrote%3A%0A%3E%20Am%20Sun%2C%20Aug%2008%2C%202021%20at%2001%3A54%3A56AM%20%2B0200%20schrieb%20Axel%20Beckert%3A%0A%3E%20%3E%20Hi%20Andreas%2C%0A%3E%20%3E%20%0A%3E%20%3E%20Andreas%20Metzler%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20%3E%20tags%20991971%20fixed-upstream%0A%3E%20%3E%20%3E%20%3E%20Bug%20%23991971%20%5Blynx%5D%20lynx%3A%20SSL%20certificate%20validation%20fails%20with%20URLs%20containing%20user%20name%20or%20user%20name%20and%20password%2C%20i.e.%20https%3A%2F%2Fuser%3Apassword%40host%2F%20and%20https%3A%2F%2Fuser%40host%2F%3B%20leaks%20password%20in%20clear%20text%20via%20SNI%0A%3E%20%3E%20%3E%20%3E%20Added%20tag%28s%29%20fixed-upstream.%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20Hello%2C%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20I%20have%20just%20uploaded%20.9%20to%20experimental.%0A%3E%20%3E%20%0A%3E%20%3E%20Thanks%20a%20lot%21%20Went%20to%20bed%20in%20the%20morning%20last%20night%2C%20so%20I%20was%20really%0A%3E%20%3E%20happy%20to%20see%20at%20least%20Experimental%20already%20being%20fixed%20when%20I%20woke%20up%0A%3E%20%3E%20again.%0A%3E%20%3E%20%0A%3E%20%3E%20%3E%20The%20deadline%20for%20bulleye%20unblock%20requests%20has%20passed%2C%20so%20we%20will%0A%3E%20%3E%20%3E%20need%20to%20fix%20this%20by%20security%2Fpoint%20release.%0A%3E%20%3E%20%0A%3E%20%3E%20Hrm%2C%20right%2C%20thanks%20for%20the%20reminder.%0A%3E%20%3E%20%0A%3E%20%3E%20I%20nevertheless%20will%20update%20Unstable%20with%20a%20fix.%20It%20might%20be%20helpful%0A%3E%20%3E%20for%20the%20Security%20Team%20%28Cc%27ed%29%20or%20us%20to%20prepare%20a%20stable-update%20for%0A%3E%20%3E%20Bullseye.%0A%3E%20%3E%20%0A%3E%20%3E%20Security%20Team%3A%20Do%20you%20think%20the%20fix%20for%20CVE-2021-38165%20should%20get%20a%0A%3E%20%3E%20DSA%3F%20Or%20do%20you%20think%20it%27s%20not%20important%20enough%20and%20we%20should%20target%20a%0A%3E%20%3E%20minor%20stable%20update%20for%20it%3F%0A%3E%20%0A%3E%20This%20breaks%20a%20pretty%20fundamental%20security%20assumption%20for%20a%20browser%2C%20so%0A%3E%20we%20should%20fix%20it%20via%20-security%2C%20even%20though%20lynx%20is%20a%20fringe%20browser.%0A%3E%20%0A%3E%20bullseye-security%20is%20operational%2C%20so%20we%20can%20do%20both%20at%20the%20same%20time%0A%3E%20so%20that%20bullseye%20will%20be%20fixed%20from%20day%20one.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20%20%20%20%20%20%20%20%20Moritz%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3CYQ%2Bq3GoNQXDig%2FNv%40pisco.westfalen.local%3E&amp;References=%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3Chandler.s.C.162834935021240.transcript%40bugs.debian.org%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3CYQ6uE5Vhzpttu7jw%40argenau.bebt.de%3E%0A%20%3C20210807235455.cwgmfniilguwglar%40sym.noone.org%3E%0A%20%3CYQ%2Bq3GoNQXDig%2FNv%40pisco.westfalen.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jmm%40inutil.org" alt="">
<div class="header"><span class="headerfield">From:</span> Moritz Mühlenhoff &lt;jmm@inutil.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> Andreas Metzler &lt;ametzler@bebt.de&gt;, 991971@bugs.debian.org,
	security@debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [pkg-lynx-maint] Bug#991971: [CVE-2021-38165] lynx: bug in SSL
 certificate validation -&gt; leaks password in clear text via SNI (under some
 circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 8 Aug 2021 11:58:52 +0200</div>
</div>
<pre class="message">Am Sun, Aug 08, 2021 at 01:54:56AM +0200 schrieb Axel Beckert:
&gt; Hi Andreas,
&gt; 
&gt; Andreas Metzler wrote:
&gt; &gt; &gt; &gt; tags 991971 fixed-upstream
&gt; &gt; &gt; Bug #991971 [lynx] lynx: SSL certificate validation fails with URLs containing user name or user name and password, i.e. <a href="https://user:password@host/">https://user:password@host/</a> and <a href="https://user@host/;">https://user@host/;</a> leaks password in clear text via SNI
&gt; &gt; &gt; Added tag(s) fixed-upstream.
&gt; &gt; 
&gt; &gt; Hello,
&gt; &gt; 
&gt; &gt; I have just uploaded .9 to experimental.
&gt; 
&gt; Thanks a lot! Went to bed in the morning last night, so I was really
&gt; happy to see at least Experimental already being fixed when I woke up
&gt; again.
&gt; 
&gt; &gt; The deadline for bulleye unblock requests has passed, so we will
&gt; &gt; need to fix this by security/point release.
&gt; 
&gt; Hrm, right, thanks for the reminder.
&gt; 
&gt; I nevertheless will update Unstable with a fix. It might be helpful
&gt; for the Security Team (Cc&#39;ed) or us to prepare a stable-update for
&gt; Bullseye.
&gt; 
&gt; Security Team: Do you think the fix for <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a> should get a
&gt; DSA? Or do you think it&#39;s not important enough and we should target a
&gt; minor stable update for it?

This breaks a pretty fundamental security assumption for a browser, so
we should fix it via -security, even though lynx is a fringe browser.

bullseye-security is operational, so we can do both at the same time
so that bullseye will be fixed from day one.

Cheers,
        Moritz


</pre>

<div class="infmessage"><hr><p>
<a name="101"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628417882 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sun, 08 Aug 2021 10:18:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=102">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=102">mbox</a>, <a href="#101">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="103"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628417882 -->
<strong>Acknowledgement sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sun, 08 Aug 2021 10:18:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=104">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=104">mbox</a>, <a href="#103">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="105"></a><a name="msg105"></a><a href="#105">Message #105</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=105">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=105">mbox</a>, <a href="mailto:991971@bugs.debian.org?subject=Re%3A%20%5Bpkg-lynx-maint%5D%20Bug%23991971%3A%20%5BCVE-2021-38165%5D%20lynx%3A%20bug%20in%20SSL%0A%20certificate%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%0A%20circumstances%29&amp;body=On%20Sun%2C%208%20Aug%202021%2012%3A14%3A16%20%2B0200%20Axel%20Beckert%20%3Cabe%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20Moritz%2C%0A%3E%20%0A%3E%20Moritz%20M%C3%BChlenhoff%20wrote%3A%0A%3E%20%3E%20%3E%20Security%20Team%3A%20Do%20you%20think%20the%20fix%20for%20CVE-2021-38165%20should%20get%20a%0A%3E%20%3E%20%3E%20DSA%3F%20Or%20do%20you%20think%20it%27s%20not%20important%20enough%20and%20we%20should%20target%20a%0A%3E%20%3E%20%3E%20minor%20stable%20update%20for%20it%3F%0A%3E%20%3E%20%0A%3E%20%3E%20This%20breaks%20a%20pretty%20fundamental%20security%20assumption%20for%20a%20browser%2C%0A%3E%20%0A%3E%20Ack.%0A%3E%20%0A%3E%20%3E%20so%20we%20should%20fix%20it%20via%20-security%2C%20even%20though%20lynx%20is%20a%20fringe%0A%3E%20%3E%20browser.%0A%3E%20%0A%3E%20Good.%20Anything%20which%20gets%20the%20fix%20into%20bullseye%20%28and%20preferably%20also%0A%3E%20buster%29%20rather%20sooner%20than%20later%20is%20fine%20for%20me.%0A%3E%20%0A%3E%20%3E%20bullseye-security%20is%20operational%2C%20so%20we%20can%20do%20both%20at%20the%20same%20time%0A%3E%20%3E%20so%20that%20bullseye%20will%20be%20fixed%20from%20day%20one.%0A%3E%20%0A%3E%20That%27d%20be%20great%2C%20thanks%21%0A%3E%20%0A%3E%20Feel%20free%20to%20base%20the%20security%20upload%20upon%202.9.0dev.6-3%20which%20I%0A%3E%20uploaded%20just%20recently.%20From%20my%20point%20of%20view%20nothing%20except%20the%20first%0A%3E%20and%20last%20line%20of%20the%20debian%2Fchangelog%20entry%20needs%20to%20be%20changed%20for%0A%3E%20bullseye-security.%0A%3E%20%0A%3E%20I%20can%20also%20look%20into%20how%20well%20the%20patch%20applies%20to%20buster%27s%20version%20of%0A%3E%20Lynx%2C%20but%20it%20might%20take%20until%20Monday.%0A%3E%20%0A%3E%20%09%09Regards%2C%20Axel%0A%3E%20--%20%0A%3E%20%20%2C%27%27%60.%20%20%7C%20%20Axel%20Beckert%20%3Cabe%40debian.org%3E%2C%20https%3A%2F%2Fpeople.debian.org%2F~abe%2F%0A%3E%20%3A%20%3A%27%20%3A%20%20%7C%20%20Debian%20Developer%2C%20ftp.ch.debian.org%20Admin%0A%3E%20%60.%20%60%27%20%20%20%7C%20%204096R%3A%202517%20B724%20C5F6%20CA99%205329%20%206E61%202FF9%20CD59%206126%2016B5%0A%3E%20%20%20%60-%20%20%20%20%7C%20%201024D%3A%20F067%20EA27%2026B9%20C3FC%201486%20%20202E%20C09E%201D89%209593%200EDE%0A&amp;In-Reply-To=%3C20210808101416.hzp4dghapunssfm2%40sym.noone.org%3E&amp;References=%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3Chandler.s.C.162834935021240.transcript%40bugs.debian.org%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3CYQ6uE5Vhzpttu7jw%40argenau.bebt.de%3E%0A%20%3C20210807235455.cwgmfniilguwglar%40sym.noone.org%3E%0A%20%3CYQ%2Bq3GoNQXDig%2FNv%40pisco.westfalen.local%3E%0A%20%3C20210808101416.hzp4dghapunssfm2%40sym.noone.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=abe%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Moritz Mühlenhoff &lt;jmm@inutil.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> Andreas Metzler &lt;ametzler@bebt.de&gt;, 991971@bugs.debian.org,
	security@debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [pkg-lynx-maint] Bug#991971: [CVE-2021-38165] lynx: bug in SSL
 certificate validation -&gt; leaks password in clear text via SNI (under some
 circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 8 Aug 2021 12:14:16 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=991971;msg=105">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi Moritz,

Moritz Mühlenhoff wrote:
&gt; &gt; Security Team: Do you think the fix for <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a> should get a
&gt; &gt; DSA? Or do you think it&#39;s not important enough and we should target a
&gt; &gt; minor stable update for it?
&gt; 
&gt; This breaks a pretty fundamental security assumption for a browser,

Ack.

&gt; so we should fix it via -security, even though lynx is a fringe
&gt; browser.

Good. Anything which gets the fix into bullseye (and preferably also
buster) rather sooner than later is fine for me.

&gt; bullseye-security is operational, so we can do both at the same time
&gt; so that bullseye will be fixed from day one.

That&#39;d be great, thanks!

Feel free to base the security upload upon 2.9.0dev.6-3 which I
uploaded just recently. From my point of view nothing except the first
and last line of the debian/changelog entry needs to be changed for
bullseye-security.

I can also look into how well the patch applies to buster&#39;s version of
Lynx, but it might take until Monday.

		Regards, Axel
-- 
 ,&#39;&#39;`.  |  Axel Beckert &lt;abe@debian.org&gt;, <a href="https://people.debian.org/~abe/">https://people.debian.org/~abe/</a>
: :&#39; :  |  Debian Developer, ftp.ch.debian.org Admin
`. `&#39;   |  4096R: 2517 B724 C5F6 CA99 5329  6E61 2FF9 CD59 6126 16B5
  `-    |  1024D: F067 EA27 26B9 C3FC 1486  202E C09E 1D89 9593 0EDE
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=991971;filename=signature.asc;msg=105">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="106"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628418066 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sun, 08 Aug 2021 10:21:06 GMT) (<a href="bugreport.cgi?bug=991971;msg=107">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=107">mbox</a>, <a href="#106">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="108"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1628418066 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sun, 08 Aug 2021 10:21:06 GMT) (<a href="bugreport.cgi?bug=991971;msg=109">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=109">mbox</a>, <a href="#108">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="110"></a><a name="msg110"></a><a href="#110">Message #110</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=110">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=110">mbox</a>, <a href="mailto:991971@bugs.debian.org?subject=Re%3A%20%5Bpkg-lynx-maint%5D%20Bug%23991971%3A%20%5BCVE-2021-38165%5D%20lynx%3A%20bug%20in%20SSL%0A%20certificate%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%20%28under%20some%0A%20circumstances%29&amp;body=On%20Sun%2C%208%20Aug%202021%2012%3A20%3A29%20%2B0200%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Axel%2C%0A%3E%20%0A%3E%20On%20Sun%2C%20Aug%2008%2C%202021%20at%2012%3A14%3A16PM%20%2B0200%2C%20Axel%20Beckert%20wrote%3A%0A%3E%20%3E%20Hi%20Moritz%2C%0A%3E%20%3E%20%0A%3E%20%3E%20Moritz%20M%C3%BChlenhoff%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20Security%20Team%3A%20Do%20you%20think%20the%20fix%20for%20CVE-2021-38165%20should%20get%20a%0A%3E%20%3E%20%3E%20%3E%20DSA%3F%20Or%20do%20you%20think%20it%27s%20not%20important%20enough%20and%20we%20should%20target%20a%0A%3E%20%3E%20%3E%20%3E%20minor%20stable%20update%20for%20it%3F%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20This%20breaks%20a%20pretty%20fundamental%20security%20assumption%20for%20a%20browser%2C%0A%3E%20%3E%20%0A%3E%20%3E%20Ack.%0A%3E%20%3E%20%0A%3E%20%3E%20%3E%20so%20we%20should%20fix%20it%20via%20-security%2C%20even%20though%20lynx%20is%20a%20fringe%0A%3E%20%3E%20%3E%20browser.%0A%3E%20%3E%20%0A%3E%20%3E%20Good.%20Anything%20which%20gets%20the%20fix%20into%20bullseye%20%28and%20preferably%20also%0A%3E%20%3E%20buster%29%20rather%20sooner%20than%20later%20is%20fine%20for%20me.%0A%3E%20%3E%20%0A%3E%20%3E%20%3E%20bullseye-security%20is%20operational%2C%20so%20we%20can%20do%20both%20at%20the%20same%20time%0A%3E%20%3E%20%3E%20so%20that%20bullseye%20will%20be%20fixed%20from%20day%20one.%0A%3E%20%3E%20%0A%3E%20%3E%20That%27d%20be%20great%2C%20thanks%21%0A%3E%20%3E%20%0A%3E%20%3E%20Feel%20free%20to%20base%20the%20security%20upload%20upon%202.9.0dev.6-3%20which%20I%0A%3E%20%3E%20uploaded%20just%20recently.%20From%20my%20point%20of%20view%20nothing%20except%20the%20first%0A%3E%20%3E%20and%20last%20line%20of%20the%20debian%2Fchangelog%20entry%20needs%20to%20be%20changed%20for%0A%3E%20%3E%20bullseye-security.%0A%3E%20%0A%3E%20Do%20I%20understand%20correctly%20you%20currently%20have%20not%20capactity%20to%20prepare%0A%3E%20that%20upload%3F%20If%20so%20I%20can%20happily%20chime%20in%2C%20but%20if%20you%20as%20maintainr%0A%3E%20will%20that%20will%20be%20perfectly%20preferable.%20If%20so%3A%20I%20suggest%3A%20just%20do%20a%0A%3E%20~deb11u1%20on%20top%20of%20the%20current%20unstable%20upload%2C%20with%20changelog%20entry%0A%3E%20%22Rebuild%20for%20bullseye-security%22%2C%20then%20pass%20-v2.9.0dev.6-2%20to%0A%3E%20dpkg-genchanges%20invocation%2C%20to%20include%20all%20changelog%20entries%20from%0A%3E%202.9.0dev.6-3%20up%20to%202.9.0dev.6-3~deb11u1%20in%20to%20changes%20file.%20Make%20sure%0A%3E%20to%20build%20with%20-sa%2C%20as%20lynx%2F2.9.0dev.6%20is%20new%20for%20dak%20on%0A%3E%20security-master.%0A%3E%20%0A%3E%20%3E%20%0A%3E%20%3E%20I%20can%20also%20look%20into%20how%20well%20the%20patch%20applies%20to%20buster%27s%20version%20of%0A%3E%20%3E%20Lynx%2C%20but%20it%20might%20take%20until%20Monday.%0A%3E%20%0A%3E%20Thank%20you%21%0A%3E%20%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3CYQ%2Bv7c6T8N0wMJON%40eldamar.lan%3E&amp;References=%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3Chandler.s.C.162834935021240.transcript%40bugs.debian.org%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3CYQ6uE5Vhzpttu7jw%40argenau.bebt.de%3E%0A%20%3C20210807235455.cwgmfniilguwglar%40sym.noone.org%3E%0A%20%3CYQ%2Bq3GoNQXDig%2FNv%40pisco.westfalen.local%3E%0A%20%3C20210808101416.hzp4dghapunssfm2%40sym.noone.org%3E%0A%20%3CYQ%2Bv7c6T8N0wMJON%40eldamar.lan%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=carnil%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> Moritz Mühlenhoff &lt;jmm@inutil.org&gt;,
	Andreas Metzler &lt;ametzler@bebt.de&gt;, 991971@bugs.debian.org,
	security@debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [pkg-lynx-maint] Bug#991971: [CVE-2021-38165] lynx: bug in SSL
 certificate validation -&gt; leaks password in clear text via SNI (under some
 circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 8 Aug 2021 12:20:29 +0200</div>
</div>
<pre class="message">Axel,

On Sun, Aug 08, 2021 at 12:14:16PM +0200, Axel Beckert wrote:
&gt; Hi Moritz,
&gt; 
&gt; Moritz Mühlenhoff wrote:
&gt; &gt; &gt; Security Team: Do you think the fix for <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a> should get a
&gt; &gt; &gt; DSA? Or do you think it&#39;s not important enough and we should target a
&gt; &gt; &gt; minor stable update for it?
&gt; &gt; 
&gt; &gt; This breaks a pretty fundamental security assumption for a browser,
&gt; 
&gt; Ack.
&gt; 
&gt; &gt; so we should fix it via -security, even though lynx is a fringe
&gt; &gt; browser.
&gt; 
&gt; Good. Anything which gets the fix into bullseye (and preferably also
&gt; buster) rather sooner than later is fine for me.
&gt; 
&gt; &gt; bullseye-security is operational, so we can do both at the same time
&gt; &gt; so that bullseye will be fixed from day one.
&gt; 
&gt; That&#39;d be great, thanks!
&gt; 
&gt; Feel free to base the security upload upon 2.9.0dev.6-3 which I
&gt; uploaded just recently. From my point of view nothing except the first
&gt; and last line of the debian/changelog entry needs to be changed for
&gt; bullseye-security.

Do I understand correctly you currently have not capactity to prepare
that upload? If so I can happily chime in, but if you as maintainr
will that will be perfectly preferable. If so: I suggest: just do a
~deb11u1 on top of the current unstable upload, with changelog entry
&quot;Rebuild for bullseye-security&quot;, then pass -v2.9.0dev.6-2 to
dpkg-genchanges invocation, to include all changelog entries from
2.9.0dev.6-3 up to 2.9.0dev.6-3~deb11u1 in to changes file. Make sure
to build with -sa, as lynx/2.9.0dev.6 is new for dak on
security-master.

&gt; 
&gt; I can also look into how well the patch applies to buster&#39;s version of
&gt; Lynx, but it might take until Monday.

Thank you!

Salvatore


</pre>

<div class="infmessage"><hr><p>
<a name="111"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628418783 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Sun, 08 Aug 2021 10:33:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=112">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=112">mbox</a>, <a href="#111">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="113"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628418783 -->
<strong>Acknowledgement sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Sun, 08 Aug 2021 10:33:03 GMT) (<a href="bugreport.cgi?bug=991971;msg=114">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=114">mbox</a>, <a href="#113">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="115"></a><a name="msg115"></a><a href="#115">Message #115</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=115">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=115">mbox</a>, <a href="mailto:991971@bugs.debian.org?subject=Re%3A%20%5Bpkg-lynx-maint%5D%20Bug%23991971%3A%20Bug%23991971%3A%20%5BCVE-2021-38165%5D%20lynx%3A%0A%20bug%20in%20SSL%20certificate%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%0A%20%28under%20some%20circumstances%29&amp;body=On%20Sun%2C%208%20Aug%202021%2012%3A30%3A49%20%2B0200%20Axel%20Beckert%20%3Cabe%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20Salvatore%2C%0A%3E%20%0A%3E%20Salvatore%20Bonaccorso%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20bullseye-security%20is%20operational%2C%20so%20we%20can%20do%20both%20at%20the%20same%20time%0A%3E%20%3E%20%3E%20%3E%20so%20that%20bullseye%20will%20be%20fixed%20from%20day%20one.%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20That%27d%20be%20great%2C%20thanks%21%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20Feel%20free%20to%20base%20the%20security%20upload%20upon%202.9.0dev.6-3%20which%20I%0A%3E%20%3E%20%3E%20uploaded%20just%20recently.%20From%20my%20point%20of%20view%20nothing%20except%20the%20first%0A%3E%20%3E%20%3E%20and%20last%20line%20of%20the%20debian%2Fchangelog%20entry%20needs%20to%20be%20changed%20for%0A%3E%20%3E%20%3E%20bullseye-security.%0A%3E%20%3E%20%0A%3E%20%3E%20Do%20I%20understand%20correctly%20you%20currently%20have%20not%20capactity%20to%20prepare%0A%3E%20%3E%20that%20upload%3F%0A%3E%20%0A%3E%20Yes%2C%20but%20I%20also%20wasn%27t%20aware%20that%20I%20could%20do%20that%20upload.%0A%3E%20%0A%3E%20%3E%20If%20so%20I%20can%20happily%20chime%20in%2C%20but%20if%20you%20as%20maintainr%0A%3E%20%3E%20will%20that%20will%20be%20perfectly%20preferable.%0A%3E%20%0A%3E%20I%27m%20bit%20short%20of%20time%20for%20the%20rest%20of%20the%20day%2C%20so%20it%27d%20be%20nice%20if%0A%3E%20someone%20else%20could%20do%20that%20upload.%0A%3E%20%0A%3E%20%3E%20If%20so%3A%20I%20suggest%3A%20just%20do%20a%20~deb11u1%20on%20top%20of%20the%20current%20unstable%0A%3E%20%3E%20upload%2C%20with%20changelog%20entry%20%22Rebuild%20for%20bullseye-security%22%2C%20then%0A%3E%20%3E%20pass%20-v2.9.0dev.6-2%20to%20dpkg-genchanges%20invocation%2C%20to%20include%20all%0A%3E%20%3E%20changelog%20entries%20from%202.9.0dev.6-3%20up%20to%202.9.0dev.6-3~deb11u1%20in%20to%0A%3E%20%3E%20changes%20file.%20Make%20sure%20to%20build%20with%20-sa%2C%20as%20lynx%2F2.9.0dev.6%20is%20new%0A%3E%20%3E%20for%20dak%20on%20security-master.%0A%3E%20%0A%3E%20Interesting.%20I%27d%20have%20done%20a%202.9.0dev.6-2%2Bdeb11u1%20by%20reusing%20the%0A%3E%202.9.0dev.6-3%20upload%20and%20just%20modifying%20the%20changelog%20entry.%20I%20thought%0A%3E%20that%20would%20be%20cleaner.%20But%20I%27m%20fine%20with%20both%20variants.%0A%3E%20%0A%3E%20%3E%20%3E%20I%20can%20also%20look%20into%20how%20well%20the%20patch%20applies%20to%20buster%27s%20version%20of%0A%3E%20%3E%20%3E%20Lynx%2C%20but%20it%20might%20take%20until%20Monday.%0A%3E%20%3E%20%0A%3E%20%3E%20Thank%20you%21%0A%3E%20%0A%3E%20Do%20they%20need%20to%20go%20into%20the%20same%20DSA%3F%0A%3E%20%0A%3E%20%09%09Regards%2C%20Axel%0A%3E%20--%20%0A%3E%20%20%2C%27%27%60.%20%20%7C%20%20Axel%20Beckert%20%3Cabe%40debian.org%3E%2C%20https%3A%2F%2Fpeople.debian.org%2F~abe%2F%0A%3E%20%3A%20%3A%27%20%3A%20%20%7C%20%20Debian%20Developer%2C%20ftp.ch.debian.org%20Admin%0A%3E%20%60.%20%60%27%20%20%20%7C%20%204096R%3A%202517%20B724%20C5F6%20CA99%205329%20%206E61%202FF9%20CD59%206126%2016B5%0A%3E%20%20%20%60-%20%20%20%20%7C%20%201024D%3A%20F067%20EA27%2026B9%20C3FC%201486%20%20202E%20C09E%201D89%209593%200EDE%0A&amp;References=%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3Chandler.s.C.162834935021240.transcript%40bugs.debian.org%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3CYQ6uE5Vhzpttu7jw%40argenau.bebt.de%3E%0A%20%3C20210807235455.cwgmfniilguwglar%40sym.noone.org%3E%0A%20%3CYQ%2Bq3GoNQXDig%2FNv%40pisco.westfalen.local%3E%0A%20%3C20210808101416.hzp4dghapunssfm2%40sym.noone.org%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3CYQ%2Bv7c6T8N0wMJON%40eldamar.lan%3E%0A%20%3C20210808103049.i4o335ywslfpsqz2%40sym.noone.org%3E&amp;In-Reply-To=%3C20210808103049.i4o335ywslfpsqz2%40sym.noone.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=abe%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;, 991971@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Moritz Mühlenhoff &lt;jmm@inutil.org&gt;,
	Andreas Metzler &lt;ametzler@bebt.de&gt;, security@debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [pkg-lynx-maint] Bug#991971: Bug#991971: [CVE-2021-38165] lynx:
 bug in SSL certificate validation -&gt; leaks password in clear text via SNI
 (under some circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 8 Aug 2021 12:30:49 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=991971;msg=115">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi Salvatore,

Salvatore Bonaccorso wrote:
&gt; &gt; &gt; bullseye-security is operational, so we can do both at the same time
&gt; &gt; &gt; so that bullseye will be fixed from day one.
&gt; &gt; 
&gt; &gt; That&#39;d be great, thanks!
&gt; &gt; 
&gt; &gt; Feel free to base the security upload upon 2.9.0dev.6-3 which I
&gt; &gt; uploaded just recently. From my point of view nothing except the first
&gt; &gt; and last line of the debian/changelog entry needs to be changed for
&gt; &gt; bullseye-security.
&gt; 
&gt; Do I understand correctly you currently have not capactity to prepare
&gt; that upload?

Yes, but I also wasn&#39;t aware that I could do that upload.

&gt; If so I can happily chime in, but if you as maintainr
&gt; will that will be perfectly preferable.

I&#39;m bit short of time for the rest of the day, so it&#39;d be nice if
someone else could do that upload.

&gt; If so: I suggest: just do a ~deb11u1 on top of the current unstable
&gt; upload, with changelog entry &quot;Rebuild for bullseye-security&quot;, then
&gt; pass -v2.9.0dev.6-2 to dpkg-genchanges invocation, to include all
&gt; changelog entries from 2.9.0dev.6-3 up to 2.9.0dev.6-3~deb11u1 in to
&gt; changes file. Make sure to build with -sa, as lynx/2.9.0dev.6 is new
&gt; for dak on security-master.

Interesting. I&#39;d have done a 2.9.0dev.6-2+deb11u1 by reusing the
2.9.0dev.6-3 upload and just modifying the changelog entry. I thought
that would be cleaner. But I&#39;m fine with both variants.

&gt; &gt; I can also look into how well the patch applies to buster&#39;s version of
&gt; &gt; Lynx, but it might take until Monday.
&gt; 
&gt; Thank you!

Do they need to go into the same DSA?

		Regards, Axel
-- 
 ,&#39;&#39;`.  |  Axel Beckert &lt;abe@debian.org&gt;, <a href="https://people.debian.org/~abe/">https://people.debian.org/~abe/</a>
: :&#39; :  |  Debian Developer, ftp.ch.debian.org Admin
`. `&#39;   |  4096R: 2517 B724 C5F6 CA99 5329  6E61 2FF9 CD59 6126 16B5
  `-    |  1024D: F067 EA27 26B9 C3FC 1486  202E C09E 1D89 9593 0EDE
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=991971;filename=signature.asc;msg=115">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="116"></a>
<!-- request_addr: Andreas Metzler &lt;ametzler@debian.org&gt; -->
<!-- time:1628544067 -->
<strong>Reply sent</strong>
to <code>Andreas Metzler &lt;ametzler@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Mon, 09 Aug 2021 21:21:07 GMT) (<a href="bugreport.cgi?bug=991971;msg=117">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=117">mbox</a>, <a href="#116">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="118"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628544067 -->
<strong>Notification sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Mon, 09 Aug 2021 21:21:07 GMT) (<a href="bugreport.cgi?bug=991971;msg=119">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=119">mbox</a>, <a href="#118">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="120"></a><a name="msg120"></a><a href="#120">Message #120</a> received at 991971-close@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=120">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=120">mbox</a>, <a href="mailto:991971@bugs.debian.org?body=On%20Mon%2C%2009%20Aug%202021%2021%3A18%3A51%20%2B0000%20Debian%20FTP%20Masters%20%3Cftpmaster%40ftp-master.debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20lynx%0A%3E%20Source-Version%3A%202.9.0dev.6-3~deb11u1%0A%3E%20Done%3A%20Andreas%20Metzler%20%3Cametzler%40debian.org%3E%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20lynx%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20991971%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Andreas%20Metzler%20%3Cametzler%40debian.org%3E%20%28supplier%20of%20updated%20lynx%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Sun%2C%2008%20Aug%202021%2013%3A36%3A32%20%2B0200%0A%3E%20Source%3A%20lynx%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%202.9.0dev.6-3~deb11u1%0A%3E%20Distribution%3A%20bullseye-security%0A%3E%20Urgency%3A%20high%0A%3E%20Maintainer%3A%20Debian%20Lynx%20Packaging%20Team%20%3Cpkg-lynx-maint%40lists.alioth.debian.org%3E%0A%3E%20Changed-By%3A%20Andreas%20Metzler%20%3Cametzler%40debian.org%3E%0A%3E%20Closes%3A%20991971%0A%3E%20Changes%3A%0A%3E%20%20lynx%20%282.9.0dev.6-3~deb11u1%29%20bullseye-security%3B%20urgency%3Dhigh%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20Rebuild%20for%20bullseye-security.%0A%3E%20%20.%0A%3E%20%20lynx%20%282.9.0dev.6-3%29%20unstable%3B%20urgency%3Dhigh%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20Apply%20fix%20from%20Lynx%202.9.0dev.9%20for%20CVE-2021-38165%20to%20fix%20leakage%20of%0A%3E%20%20%20%20%20%20username%20and%20password%20in%20the%20TLS%201.2%20SNI%20Extension%20if%20username%20and%0A%3E%20%20%20%20%20%20password%20were%20given%20in%20the%20URL%2C%20i.e.%20as%20https%3A%2F%2Fuser%3Apass%40example.org%2F%0A%3E%20%20%20%20%20%20%28Closes%3A%20%23991971%29%0A%3E%20Checksums-Sha1%3A%20%0A%3E%20%20d5ba3abe6c59ef3dc85557c37de7798222642cc3%202560%20lynx_2.9.0dev.6-3~deb11u1.dsc%0A%3E%20%20bc62d8915a0083c2fe4fa0dc5cf48fd9f83fd9b2%202730690%20lynx_2.9.0dev.6.orig.tar.bz2%0A%3E%20%200517d1a5630ed147597fd350c68c4689ec2c12d2%20265%20lynx_2.9.0dev.6.orig.tar.bz2.asc%0A%3E%20%2056d4346e26db3235a67ff934e1aab9c45a2929d8%2030124%20lynx_2.9.0dev.6-3~deb11u1.debian.tar.xz%0A%3E%20Checksums-Sha256%3A%20%0A%3E%20%20fb8cf8cfe9dbe879c25002fc670c8ca355f3ec37a91a66b5455e78f7fe344390%202560%20lynx_2.9.0dev.6-3~deb11u1.dsc%0A%3E%20%2078f0be7f81f4b84d8d33b45a05145f015e35355109be350e461de5c03abf53b2%202730690%20lynx_2.9.0dev.6.orig.tar.bz2%0A%3E%20%2022e3b7394187aef75c7a783f4f789ef8d68b9266a15e747d92bd914563a93180%20265%20lynx_2.9.0dev.6.orig.tar.bz2.asc%0A%3E%20%201086daa008f96775df5964341c77b1069b5233eeefbb7b577e49f45763918610%2030124%20lynx_2.9.0dev.6-3~deb11u1.debian.tar.xz%0A%3E%20Files%3A%20%0A%3E%20%20668fe9e0c5933c238db04d72a47d4cb2%202560%20web%20optional%20lynx_2.9.0dev.6-3~deb11u1.dsc%0A%3E%20%2086fa225340422f40a9a1a5c4243d8c91%202730690%20web%20optional%20lynx_2.9.0dev.6.orig.tar.bz2%0A&amp;subject=Re%3A%20Bug%23991971%3A%20fixed%20in%20lynx%202.9.0dev.6-3~deb11u1&amp;In-Reply-To=%3CE1mDCfb-0002X4-8D%40fasolo.debian.org%3E&amp;References=%3CE1mDCfb-0002X4-8D%40fasolo.debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ftpmaster%40ftp-master.debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Debian FTP Masters &lt;ftpmaster@ftp-master.debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 991971-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#991971: fixed in lynx 2.9.0dev.6-3~deb11u1</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 09 Aug 2021 21:18:51 +0000</div>
</div>
<pre class="message">Source: lynx
Source-Version: 2.9.0dev.6-3~deb11u1
Done: Andreas Metzler &lt;ametzler@debian.org&gt;

We believe that the bug you reported is fixed in the latest version of
lynx, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 991971@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Andreas Metzler &lt;ametzler@debian.org&gt; (supplier of updated lynx package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Sun, 08 Aug 2021 13:36:32 +0200
Source: lynx
Architecture: source
Version: 2.9.0dev.6-3~deb11u1
Distribution: bullseye-security
Urgency: high
Maintainer: Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;
Changed-By: Andreas Metzler &lt;ametzler@debian.org&gt;
Closes: <a href="bugreport.cgi?bug=991971">991971</a>
Changes:
 lynx (2.9.0dev.6-3~deb11u1) bullseye-security; urgency=high
 .
   * Rebuild for bullseye-security.
 .
 lynx (2.9.0dev.6-3) unstable; urgency=high
 .
   * Apply fix from Lynx 2.9.0dev.9 for <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a> to fix leakage of
     username and password in the TLS 1.2 SNI Extension if username and
     password were given in the URL, i.e. as <a href="https://user:pass@example.org/">https://user:pass@example.org/</a>
     (Closes: #<a href="bugreport.cgi?bug=991971">991971</a>)
Checksums-Sha1: 
 d5ba3abe6c59ef3dc85557c37de7798222642cc3 2560 lynx_2.9.0dev.6-3~deb11u1.dsc
 bc62d8915a0083c2fe4fa0dc5cf48fd9f83fd9b2 2730690 lynx_2.9.0dev.6.orig.tar.bz2
 0517d1a5630ed147597fd350c68c4689ec2c12d2 265 lynx_2.9.0dev.6.orig.tar.bz2.asc
 56d4346e26db3235a67ff934e1aab9c45a2929d8 30124 lynx_2.9.0dev.6-3~deb11u1.debian.tar.xz
Checksums-Sha256: 
 fb8cf8cfe9dbe879c25002fc670c8ca355f3ec37a91a66b5455e78f7fe344390 2560 lynx_2.9.0dev.6-3~deb11u1.dsc
 78f0be7f81f4b84d8d33b45a05145f015e35355109be350e461de5c03abf53b2 2730690 lynx_2.9.0dev.6.orig.tar.bz2
 22e3b7394187aef75c7a783f4f789ef8d68b9266a15e747d92bd914563a93180 265 lynx_2.9.0dev.6.orig.tar.bz2.asc
 1086daa008f96775df5964341c77b1069b5233eeefbb7b577e49f45763918610 30124 lynx_2.9.0dev.6-3~deb11u1.debian.tar.xz
Files: 
 668fe9e0c5933c238db04d72a47d4cb2 2560 web optional lynx_2.9.0dev.6-3~deb11u1.dsc
 86fa225340422f40a9a1a5c4243d8c91 2730690 web optional lynx_2.9.0dev.6.orig.tar.bz2
 e56d1480fe48dbd3c39338038ba2430a 265 web optional lynx_2.9.0dev.6.orig.tar.bz2.asc
 1bc51a1c4dc71f1ba7fba593df2e0505 30124 web optional lynx_2.9.0dev.6-3~deb11u1.debian.tar.xz

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEE0uCSA5741Jbt9PpepU8BhUOCFIQFAmEPxH0ACgkQpU8BhUOC
FIRM2w/+L0+Hz6dPyBsIVVL0PUnZoZUHCm05TUT1RB6NJsZ0mMOQbvEJwjzsnVbN
1wwZwUXJa5UgpCvhAfiXeGH2+zVn7S8UfVNQBTRzS8DiTdcrQMk4kjLsiJEac1TV
ih13c2XA9H7GYfXfYx6dqMBivERNH63O0XlwV0tESTyoy1++pPPhuETgFzs5KxUK
SXox1s9eVD0Ujj7dx4jaLtwlJfqqsYJuyGi+rkRR6UE5WR2S0jWtcEDWqCh0QdWP
lwPwC4pGxy6tzWkwbWaEetcI8qhzweQGkp1rUsfBoRczznrParlwWb7VwmCRxxF7
muiGG4OSZ2lWE1H1dV6yIKR314ds0xrYtPJ3LXNvXik4ZLp9zI3Ze+hZ6uc5RF2p
t7ax7Tn9dYy2JRRBYXZknKjMbwUpPo1fhRy/eIYz7zCo2CzpSmbhGWBIsYj8VZ8f
7Utg7YakxO2s0rsPcPy/W9f2ZfyrzMKB33MYDmE2lePhL0jYOzmpgbLJnDzKThHe
ai5mHthYycnVVPqiAA+XTh155im0DaHfeQcwXZ5BZ+37y0X0QwCMcjRdZ9evA6Tc
EcZV6Wbq63qULy1xaY2wB8uXJHXy2I6zU9IHpqIHID//IO2rDAFn7sMaAvmwN54/
/CvH4I1X4mIko34p6aFHu+yBMYzHHfsNfxRlaBdJdBTm7/LFDTg=
=ECuf
-----END PGP SIGNATURE-----



</pre>

<div class="infmessage"><hr><p>
<a name="121"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt; -->
<!-- time:1628558642 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#991971</code>; Package <code>lynx</code>.
 (Tue, 10 Aug 2021 01:24:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=122">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=122">mbox</a>, <a href="#121">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="123"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1628558642 -->
<strong>Acknowledgement sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;</code>.
 (Tue, 10 Aug 2021 01:24:02 GMT) (<a href="bugreport.cgi?bug=991971;msg=124">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=124">mbox</a>, <a href="#123">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="125"></a><a name="msg125"></a><a href="#125">Message #125</a> received at 991971@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=125">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=125">mbox</a>, <a href="mailto:991971@bugs.debian.org?subject=Re%3A%20Bug%23991971%3A%20%5Bpkg-lynx-maint%5D%20Bug%23991971%3A%20%5BCVE-2021-38165%5D%20lynx%3A%0A%20bug%20in%20SSL%20certificate%20validation%20-%3E%20leaks%20password%20in%20clear%20text%20via%20SNI%0A%20%28under%20some%20circumstances%29&amp;body=On%20Tue%2C%2010%20Aug%202021%2003%3A20%3A59%20%2B0200%20Axel%20Beckert%20%3Cabe%40debian.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20Axel%20Beckert%20wrote%3A%0A%3E%20%3E%20I%20can%20also%20look%20into%20how%20well%20the%20patch%20applies%20to%20buster%27s%20version%20of%0A%3E%20%3E%20Lynx%2C%20but%20it%20might%20take%20until%20Monday.%0A%3E%20%0A%3E%20Done%20now%2C%20built%20with%20-sa%2C%20did%20a%20source-only%20uploaded%20to%0A%3E%20security-master%20and%20pushed%20it%20into%20the%20branch%2010_buster%20on%20Salsa%0A%3E%20including%20the%20according%20git%20tag.%0A%3E%20%0A%3E%20%09%09Regards%2C%20Axel%0A%3E%20--%20%0A%3E%20%20%2C%27%27%60.%20%20%7C%20%20Axel%20Beckert%20%3Cabe%40debian.org%3E%2C%20https%3A%2F%2Fpeople.debian.org%2F~abe%2F%0A%3E%20%3A%20%3A%27%20%3A%20%20%7C%20%20Debian%20Developer%2C%20ftp.ch.debian.org%20Admin%0A%3E%20%60.%20%60%27%20%20%20%7C%20%204096R%3A%202517%20B724%20C5F6%20CA99%205329%20%206E61%202FF9%20CD59%206126%2016B5%0A%3E%20%20%20%60-%20%20%20%20%7C%20%201024D%3A%20F067%20EA27%2026B9%20C3FC%201486%20%20202E%20C09E%201D89%209593%200EDE%0A&amp;References=%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3Chandler.s.C.162834935021240.transcript%40bugs.debian.org%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3CYQ6uE5Vhzpttu7jw%40argenau.bebt.de%3E%0A%20%3C20210807235455.cwgmfniilguwglar%40sym.noone.org%3E%0A%20%3CYQ%2Bq3GoNQXDig%2FNv%40pisco.westfalen.local%3E%0A%20%3C875ywii70u.fsf%40c6.deuxchevaux.org%3E%0A%20%3C20210808101416.hzp4dghapunssfm2%40sym.noone.org%3E%0A%20%3C20210810012057.i3x7ccp73jmlvpkx%40sym.noone.org%3E&amp;In-Reply-To=%3C20210810012057.i3x7ccp73jmlvpkx%40sym.noone.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=abe%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Axel Beckert &lt;abe@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Moritz Mühlenhoff &lt;jmm@inutil.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> Andreas Metzler &lt;ametzler@bebt.de&gt;, 991971@bugs.debian.org,
	security@debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#991971: [pkg-lynx-maint] Bug#991971: [CVE-2021-38165] lynx:
 bug in SSL certificate validation -&gt; leaks password in clear text via SNI
 (under some circumstances)</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 10 Aug 2021 03:20:59 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=991971;msg=125">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi,

Axel Beckert wrote:
&gt; I can also look into how well the patch applies to buster&#39;s version of
&gt; Lynx, but it might take until Monday.

Done now, built with -sa, did a source-only uploaded to
security-master and pushed it into the branch 10_buster on Salsa
including the according git tag.

		Regards, Axel
-- 
 ,&#39;&#39;`.  |  Axel Beckert &lt;abe@debian.org&gt;, <a href="https://people.debian.org/~abe/">https://people.debian.org/~abe/</a>
: :&#39; :  |  Debian Developer, ftp.ch.debian.org Admin
`. `&#39;   |  4096R: 2517 B724 C5F6 CA99 5329  6E61 2FF9 CD59 6126 16B5
  `-    |  1024D: F067 EA27 26B9 C3FC 1486  202E C09E 1D89 9593 0EDE
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=991971;filename=signature.asc;msg=125">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="126"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1630063276 -->
<strong>Reply sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Fri, 27 Aug 2021 11:21:16 GMT) (<a href="bugreport.cgi?bug=991971;msg=127">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=127">mbox</a>, <a href="#126">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="128"></a>
<!-- request_addr: Axel Beckert &lt;abe@debian.org&gt; -->
<!-- time:1630063276 -->
<strong>Notification sent</strong>
to <code>Axel Beckert &lt;abe@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Fri, 27 Aug 2021 11:21:16 GMT) (<a href="bugreport.cgi?bug=991971;msg=129">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=129">mbox</a>, <a href="#128">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="130"></a><a name="msg130"></a><a href="#130">Message #130</a> received at 991971-close@bugs.debian.org (<a href="bugreport.cgi?bug=991971;msg=130">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=130">mbox</a>, <a href="mailto:991971@bugs.debian.org?In-Reply-To=%3CE1mJZtf-000FmB-MM%40fasolo.debian.org%3E&amp;References=%3CE1mJZtf-000FmB-MM%40fasolo.debian.org%3E&amp;subject=Re%3A%20Bug%23991971%3A%20fixed%20in%20lynx%202.8.9rel.1-3%2Bdeb10u1&amp;body=On%20Fri%2C%2027%20Aug%202021%2011%3A19%3A43%20%2B0000%20Debian%20FTP%20Masters%20%3Cftpmaster%40ftp-master.debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20lynx%0A%3E%20Source-Version%3A%202.8.9rel.1-3%2Bdeb10u1%0A%3E%20Done%3A%20Axel%20Beckert%20%3Cabe%40debian.org%3E%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20lynx%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20991971%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Axel%20Beckert%20%3Cabe%40debian.org%3E%20%28supplier%20of%20updated%20lynx%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA256%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Tue%2C%2010%20Aug%202021%2001%3A54%3A10%20%2B0200%0A%3E%20Source%3A%20lynx%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%202.8.9rel.1-3%2Bdeb10u1%0A%3E%20Distribution%3A%20buster-security%0A%3E%20Urgency%3A%20high%0A%3E%20Maintainer%3A%20Debian%20Lynx%20Packaging%20Team%20%3Cpkg-lynx-maint%40lists.alioth.debian.org%3E%0A%3E%20Changed-By%3A%20Axel%20Beckert%20%3Cabe%40debian.org%3E%0A%3E%20Closes%3A%20991971%0A%3E%20Changes%3A%0A%3E%20%20lynx%20%282.8.9rel.1-3%2Bdeb10u1%29%20buster-security%3B%20urgency%3Dhigh%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20Apply%20fix%20from%20Lynx%202.9.0dev.9%20for%20CVE-2021-38165%20to%20fix%20leakage%20of%0A%3E%20%20%20%20%20%20username%20and%20password%20in%20the%20TLS%201.2%20SNI%20Extension%20if%20username%20and%0A%3E%20%20%20%20%20%20password%20were%20given%20in%20the%20URL%2C%20i.e.%20as%20https%3A%2F%2Fuser%3Apass%40example.org%2F%0A%3E%20%20%20%20%20%20%28Closes%3A%20%23991971%29%0A%3E%20Checksums-Sha1%3A%0A%3E%20%20f8c7f55657011b3a391a4b2a03bab682e3f7497f%202560%20lynx_2.8.9rel.1-3%2Bdeb10u1.dsc%0A%3E%20%203e00ac30d008e0aa879bfd037abcfd9c0dd2faec%202689171%20lynx_2.8.9rel.1.orig.tar.bz2%0A%3E%20%2060ad87a45201396c291931d86411f35a8a4af97f%20251%20lynx_2.8.9rel.1.orig.tar.bz2.asc%0A%3E%20%20e2f097c682aa263db6b72094ebc60f17e0c06811%2029404%20lynx_2.8.9rel.1-3%2Bdeb10u1.debian.tar.xz%0A%3E%20%204e3a35e0dbb518150f6890c33fde4ba77ea63566%207143%20lynx_2.8.9rel.1-3%2Bdeb10u1_source.buildinfo%0A%3E%20Checksums-Sha256%3A%0A%3E%20%20bbab09e6482a4f433fc6063cc34f0353882b9fb4dfc10c8987959e58db00b312%202560%20lynx_2.8.9rel.1-3%2Bdeb10u1.dsc%0A%3E%20%20387f193d7792f9cfada14c60b0e5c0bff18f227d9257a39483e14fa1aaf79595%202689171%20lynx_2.8.9rel.1.orig.tar.bz2%0A%3E%20%202cb6cf09763d58ec6951bc0bf4cf2836983756fb168f486d30f0a3921304408b%20251%20lynx_2.8.9rel.1.orig.tar.bz2.asc%0A%3E%20%200578691571d26b702748845e0acf2436e04b9c75b9e7d643465c23a1170bb8f4%2029404%20lynx_2.8.9rel.1-3%2Bdeb10u1.debian.tar.xz%0A%3E%20%20fb0a2488cc3ad65e194f2fd9a74d74a6c517deac5808a72b9631c8001ee762d2%207143%20lynx_2.8.9rel.1-3%2Bdeb10u1_source.buildinfo%0A%3E%20Files%3A%0A%3E%20%20ac5876d02e4878400ebbea60e6481107%202560%20web%20optional%20lynx_2.8.9rel.1-3%2Bdeb10u1.dsc%0A%3E%20%2044316f1b8a857b59099927edc26bef79%202689171%20web%20optional%20lynx_2.8.9rel.1.orig.tar.bz2%0A%3E%20%20d0cd3214b950926ddfc88a7c6d35cec8%20251%20web%20optional%20lynx_2.8.9rel.1.orig.tar.bz2.asc%0A%3E%20%20e45c95752470dc4a06b9d9e4f0e865f6%2029404%20web%20optional%20lynx_2.8.9rel.1-3%2Bdeb10u1.debian.tar.xz%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ftpmaster%40ftp-master.debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Debian FTP Masters &lt;ftpmaster@ftp-master.debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 991971-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#991971: fixed in lynx 2.8.9rel.1-3+deb10u1</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 27 Aug 2021 11:19:43 +0000</div>
</div>
<pre class="message">Source: lynx
Source-Version: 2.8.9rel.1-3+deb10u1
Done: Axel Beckert &lt;abe@debian.org&gt;

We believe that the bug you reported is fixed in the latest version of
lynx, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 991971@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Axel Beckert &lt;abe@debian.org&gt; (supplier of updated lynx package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Tue, 10 Aug 2021 01:54:10 +0200
Source: lynx
Architecture: source
Version: 2.8.9rel.1-3+deb10u1
Distribution: buster-security
Urgency: high
Maintainer: Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.alioth.debian.org&gt;
Changed-By: Axel Beckert &lt;abe@debian.org&gt;
Closes: <a href="bugreport.cgi?bug=991971">991971</a>
Changes:
 lynx (2.8.9rel.1-3+deb10u1) buster-security; urgency=high
 .
   * Apply fix from Lynx 2.9.0dev.9 for <a href="https://security-tracker.debian.org/tracker/CVE-2021-38165">CVE-2021-38165</a> to fix leakage of
     username and password in the TLS 1.2 SNI Extension if username and
     password were given in the URL, i.e. as <a href="https://user:pass@example.org/">https://user:pass@example.org/</a>
     (Closes: #<a href="bugreport.cgi?bug=991971">991971</a>)
Checksums-Sha1:
 f8c7f55657011b3a391a4b2a03bab682e3f7497f 2560 lynx_2.8.9rel.1-3+deb10u1.dsc
 3e00ac30d008e0aa879bfd037abcfd9c0dd2faec 2689171 lynx_2.8.9rel.1.orig.tar.bz2
 60ad87a45201396c291931d86411f35a8a4af97f 251 lynx_2.8.9rel.1.orig.tar.bz2.asc
 e2f097c682aa263db6b72094ebc60f17e0c06811 29404 lynx_2.8.9rel.1-3+deb10u1.debian.tar.xz
 4e3a35e0dbb518150f6890c33fde4ba77ea63566 7143 lynx_2.8.9rel.1-3+deb10u1_source.buildinfo
Checksums-Sha256:
 bbab09e6482a4f433fc6063cc34f0353882b9fb4dfc10c8987959e58db00b312 2560 lynx_2.8.9rel.1-3+deb10u1.dsc
 387f193d7792f9cfada14c60b0e5c0bff18f227d9257a39483e14fa1aaf79595 2689171 lynx_2.8.9rel.1.orig.tar.bz2
 2cb6cf09763d58ec6951bc0bf4cf2836983756fb168f486d30f0a3921304408b 251 lynx_2.8.9rel.1.orig.tar.bz2.asc
 0578691571d26b702748845e0acf2436e04b9c75b9e7d643465c23a1170bb8f4 29404 lynx_2.8.9rel.1-3+deb10u1.debian.tar.xz
 fb0a2488cc3ad65e194f2fd9a74d74a6c517deac5808a72b9631c8001ee762d2 7143 lynx_2.8.9rel.1-3+deb10u1_source.buildinfo
Files:
 ac5876d02e4878400ebbea60e6481107 2560 web optional lynx_2.8.9rel.1-3+deb10u1.dsc
 44316f1b8a857b59099927edc26bef79 2689171 web optional lynx_2.8.9rel.1.orig.tar.bz2
 d0cd3214b950926ddfc88a7c6d35cec8 251 web optional lynx_2.8.9rel.1.orig.tar.bz2.asc
 e45c95752470dc4a06b9d9e4f0e865f6 29404 web optional lynx_2.8.9rel.1-3+deb10u1.debian.tar.xz
 12020315232c68b3b4e1b58948e4ffb0 7143 web optional lynx_2.8.9rel.1-3+deb10u1_source.buildinfo

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEERoyJeTtCmBnp12Ema+Zjx1o1yXUFAmERzU8ACgkQa+Zjx1o1
yXV+Eg/9HZMmVHM0424x4CN8idgGlTD82sO9Ht/5yyaa5TAkstQ35WS488Gr2SKU
GRUPiRQG3RIQ/1ae9hWKCB+BvQuhLkafFFoxiuQ+I5Z/scmyPkYqcc4IUgBgla/i
e+Q/zMhN62BxJyGKNRWR2Vty52dtOSlmkUFd/klynNGFehghLBWFSxnTRLbx3aer
EshAoW+MlnxbLoDMzCP4jfePzz6UWi/uG5LjZZ4N5GWzd4H6tEn4nwpkxOT2T/uy
9XqBaCwG7tIw34eZ3hgBRIHawV6aXvgeZPUAqI+unrbzeH2COkrTjhlem1ra1w+n
9HxbIyDlvKIuYMqjgL3kRQtUTHV9XA1/s0HgKmSOdiuEynm/ofvWhhIYdi+1AYQ/
E0zEFwVgQmPfGXzlnt0moFNWm+f5NijdHd//1vfUsH5RQCBn63FW+IfenTlzra6j
Q6n0NogzRu8nCdePrnstGRe2SXQUdzpGJjdNTTmZiW8DGqcwKy7OwgLkp+pqTJQq
Y3ruCsi37qaueAGI2RFU0WLvvOuqa2obF+APblzVcUeuLk5krL8ZDfk8cOP77Y7z
OTz6Lk+faDir9i782Zo2hg/bDXSMiSlrgNMhkQqW8684yRCzb2jCg4JapK73CcXs
ezXZ2PQYL8fm51sAIbBtskE/N0kQa/yBmg6t3zlio2pI/la8t4I=
=okwX
-----END PGP SIGNATURE-----



</pre>

<div class="msgreceived"><hr><p>
<a name="131"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1633850875 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Sun, 10 Oct 2021 07:27:55 GMT) (<a href="bugreport.cgi?bug=991971;msg=132">full text</a>, <a href="bugreport.cgi?bug=991971;mbox=yes;msg=132">mbox</a>, <a href="#131">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=991971">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:22:20 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->bembo<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
