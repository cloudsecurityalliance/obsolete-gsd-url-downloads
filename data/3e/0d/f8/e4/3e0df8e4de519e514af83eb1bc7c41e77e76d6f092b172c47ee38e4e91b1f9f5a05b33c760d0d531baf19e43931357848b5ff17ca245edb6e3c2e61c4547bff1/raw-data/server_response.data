<!DOCTYPE html>
<html lang="en">
<head>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-52993790-7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-52993790-7');
</script>

<title>
		
			
				 Search Guard 6.x-21.0 | Elasticsearch Security | Search Guard
			
		
	</title>

<meta property="og:title" content=" Security for Elasticsearch | Search Guard 6.x-21.0 | Search Guard " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://docs.search-guard.com/6.x-21/changelog-searchguard-6-x-21_0" />
<meta property="og:description" content="Changelog for Search Guard 6.x-21.0" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@searchguard" />

<meta name="description" content="Changelog for Search Guard 6.x-21.0">

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="apple-touch-icon" href="https://search-guard.com/wp-content/uploads/2018/02/SG_Fav-57px.png" />
<link rel="apple-touch-icon" href="https://search-guard.com/wp-content/uploads/2018/02/SG_Fav-114px.png" sizes="114x114" />
<link rel="apple-touch-icon" href="https://search-guard.com/wp-content/uploads/2018/02/SG_Fav-172px.png" sizes="72x72" />
<link rel="icon" href="https://search-guard.com/wp-content/uploads/2018/02/SG_Fav-32px.png" sizes="32x32" />
<link rel="icon" href="https://search-guard.com/wp-content/uploads/2018/02/SG_Fav-144px.png" sizes="144x144" />
<link rel="canonical" href="https://docs.search-guard.com/latest/changelog-searchguard-6-x-21_0">
<meta name="robots" content="index, follow">

<link rel="stylesheet" href="css/style.min.css">
<link rel="stylesheet" href="css/custom.min.css">
</head>
<body class="">
<!--[if lt IE 8]>
	    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
	<![endif]-->
<div class="page js-page ">

<div class="header background ">
<div class="container-fluid container-spaced">
<div class="row">
<div class="col-md-3 col-sm-6 col-xs-6">

<a href="https://docs.search-guard.com/6.x-21/" class="logo-image">
<img src="img/logos/search-guard-logo.png" alt="Search Guard - Enterprise Security for Elasticsearch">
</a>

</div>
<div class="col-md-9 col-sm-6 col-xs-6">

<nav class="right helper">
<ul class="menu sf-menu js-menu">
<li>
<a href="#" class="main-nav-level-1">Documentation</a>
<ul>
<li>
<a href="/6.x-21/main-concepts" class="main-nav-level-2">Quickstart</a>
</li>
<li>
<a href="/6.x-21/first-steps-user-configuration" class="main-nav-level-2">First Steps</a>
</li>
<li>
<a href="/6.x-21/search-guard-versions" class="main-nav-level-2">Installing Search Guard</a>
</li>
<li>
<a href="/6.x-21/upgrading" class="main-nav-level-2">Upgrading Search Guard</a>
</li>
<li>
<a href="/6.x-21/generating-tls-certificates" class="main-nav-level-2">TLS Setup</a>
</li>
<li>
<a href="/6.x-21/sgadmin" class="main-nav-level-2">Applying Configuration Changes</a>
</li>
<li>
<a href="/6.x-21/authentication-authorization" class="main-nav-level-2">Authentication and Authorization</a>
</li>
<li>
<a href="/6.x-21/internal-users-database" class="main-nav-level-2">Users, Roles and Permissions</a>
</li>
<li>
<a href="/6.x-21/document-level-security" class="main-nav-level-2">Document- and Field-Level Security</a>
</li>
<li>
<a href="/6.x-21/audit-logging-compliance" class="main-nav-level-2">Audit Logging</a>
</li>
<li>
<a href="/6.x-21/compliance-read-history" class="main-nav-level-2">Compliance</a>
</li>
<li>
<a href="/6.x-21/rest-api-access-control" class="main-nav-level-2">REST API</a>
</li>
<li>
<a href="/6.x-21/kibana-plugin-installation" class="main-nav-level-2">Kibana</a>
</li>
<li>
<a href="/6.x-21/elasticsearch-logstash-search-guard" class="main-nav-level-2">Elasticsearch clients</a>
</li>
<li>
<a href="/6.x-21/search-guard-xpack-monitoring" class="main-nav-level-2">X-Pack Integration</a>
</li>
<li>
<a href="/6.x-21/cross-cluster-tribe" class="main-nav-level-2">Cross Cluster Search and Tribe</a>
</li>
</ul>
</li>
<li>
<a href="#" class="main-nav-level-1">Troubleshooting</a>
<ul>
<li>
<a href="/6.x-21/troubleshooting-setting-log-level" class="main-nav-level-2">Search Guard logging</a>
<a href="/6.x-21/troubleshooting-tls" class="main-nav-level-2">TLS troubleshooting</a>
<a href="/6.x-21/troubleshooting-openssl" class="main-nav-level-2">OpenSSL Troubleshooting</a>
<a href="/6.x-21/troubleshooting-sgadmin" class="main-nav-level-2">sgadmin Troubleshooting</a>
<a href="/6.x-21/troubleshooting-search-guard-user-roles" class="main-nav-level-2">User and roles troubleshooting</a>
<a href="/6.x-21/troubleshooting-search-guard-permission" class="main-nav-level-2">Permissions troubleshooting</a>
<a href="/6.x-21/troubleshooting-kibana" class="main-nav-level-2">Kibana Troubleshooting</a>
<a href="/6.x-21/troubleshooting-multitenancy" class="main-nav-level-2">Multitenancy Troubleshooting</a>
</li>
</ul>
</li>
<li>
<a href="#" class="main-nav-level-1">Resources</a>
<ul>
<li>
<a href="/6.x-21/search-guard-presentations" class="main-nav-level-2">Search Guard Presentations</a>
<a href="/6.x-21/search-guard-security-presentations" class="main-nav-level-2">Security Presentations</a>
<a href="/6.x-21/tls-demo-certificates" class="main-nav-level-2">TLS Demo Certificates</a>
</li>
</ul>
</li>
<li>
<a href="#" class="main-nav-level-1">Changelogs</a>
<ul>
<li>
<a href="/6.x-21/changelogs-searchguard" class="main-nav-level-2">Search Guard</a>
<a href="/6.x-21/changelogs-kibana" class="main-nav-level-2">Kibana</a>
<a href="/6.x-21/changelogs-tlstool" class="main-nav-level-2">TLS Tool</a>
</li>
</ul>
</li>
<li>
<a href="#" class="main-nav-level-1">Versions</a>
<ul>
<li>
<a href="/latest/">Search Guard 7.x-42</a>
</li>
<li>
<a href="/7.x-41/">Search Guard 7.x-41</a>
</li>
<li>
<a href="/7.x-40/">Search Guard 7.x-40</a>
</li>
<li>
<a href="/7.x-38/">Search Guard 7.x-38</a>
</li>
<li>
<a href="/7.x-37/">Search Guard 7.x-37</a>
</li>
<li>
<a href="/7.x-36/">Search Guard 7.x-36</a>
</li>
<li>
<a href="/7.x-35/">Search Guard 7.x-35</a>
</li>
<li>
<a href="/6.x-25/">Search Guard 6.x-25</a>
</li>
<li>
<a href="/6.x-24/">Search Guard 6.x-24</a>
</li>
<li>
<a href="/6.x-23/">Search Guard 6.x-23</a>
 </li>
<li>
<a href="/6.x-22/">Search Guard 6.x-22</a>
</li>
<li>
<a href="/6.x-21/">Search Guard 6.x-21</a>
</li>
<li>
<a href="/6.x-20/">Search Guard 6.x-20</a>
</li>
<li>
<a href="/v5/">Search Guard 5</a>
</li>
<li>
<a href="/v2/">Search Guard 2</a>
</li>
</ul>
</li>
<li>
<a href="https://forum.search-guard.com" target="_blank" class="main-nav-level-1" style="font-weight: 500">Forum</a>
</li>
</ul>
</nav>

</div>
</div>
</div>
</div>

<div id="content">
<div class="container-fluid container-spaced">
<div class="layout with-left-sidebar js-layout">
<div class="row">
<div class="col-md-3 hidden-sm hidden-xs">
<div class="sidebar">
<div class="widget">
<div class="search">
<form action="/6.x-21/search" method="GET">
<input type="text" name="q" class="search-input form-control" placeholder="search" id="search-box">
<i class="fa fa-search search-icon"></i>
</form>
</div>
</div>

<nav class="menu-vertical-wrapper">
<ul class="menu-vertical  js-menu-vertical" data-prepend-to=".js-layout" data-select="Menu">
<li>
<a href="#" class="left-nav-level-1">
Changelogs
</a>
<ul style="list-style-type: none;">
<li>
<a href="/6.x-21/changelogs-searchguard" class="left-nav-level-2">
Search Guard
</a>
<ul style="display:block;">
<li>
<a href="/6.x-21/changelogs-searchguard" class="left-nav-level-3">
Overview
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-25-6" class="left-nav-level-3">
Search Guard 6.x-25.6
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-25_1" class="left-nav-level-3">
Search Guard 6.x-25.1
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-25_3" class="left-nav-level-3">
Search Guard 6.x-25.3
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-25_4" class="left-nav-level-3">
Search Guard 6.x-25.4
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-25_5" class="left-nav-level-3">
Search Guard 6.x-25.5
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-25_0" class="left-nav-level-3">
Search Guard 6.x-25.0
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-24_3" class="left-nav-level-3">
Search Guard 6.x-24.3
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-24_2" class="left-nav-level-3">
Search Guard 6.x-24.2
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-24_1" class="left-nav-level-3">
Search Guard 6.x-24.1
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-24_0" class="left-nav-level-3">
Search Guard 6.x-24.0
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-23_2" class="left-nav-level-3">
Search Guard 6.x-23.2
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-23_1" class="left-nav-level-3">
Search Guard 6.x-23.1
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-23_0" class="left-nav-level-3">
Search Guard 6.x-23.0
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-22_3" class="left-nav-level-3">
Search Guard 6.x-22.3
</a>
</li>
<li>
<a href="/6.x-21/changelog-6-x-22_2" class="left-nav-level-3">
Search Guard 6.x-22.2
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-22_0" class="left-nav-level-3">
Search Guard 6.x-22.0
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-21_0" class="selected left-nav-level-3">
Search Guard 6.x-21.0
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-20_1" class="left-nav-level-3">
Search Guard 6.x-20.1
</a>
</li>
<li>
<a href="/6.x-21/changelog-searchguard-6-x-20_0" class="left-nav-level-3">
Search Guard 6.x-20.0
</a>
</li>
</ul>
</li>
<li>
<a href="/6.x-21/changelogs-kibana" class="left-nav-level-2">
Kibana
</a>
<ul style="display:block;">
<li>
<a href="/6.x-21/changelogs-kibana" class="left-nav-level-3">
Overview
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-19.2" class="left-nav-level-3">
Kibana 6.x-19.2
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-19.1" class="left-nav-level-3">
Kibana 6.x-19.1
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-19" class="left-nav-level-3">
Kibana 6.x-19
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-18.5" class="left-nav-level-3">
Kibana 6.x-18.5
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-18.4" class="left-nav-level-3">
Kibana 6.x-18.4
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-18.3" class="left-nav-level-3">
Kibana 6.x-18.3
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-18.1" class="left-nav-level-3">
Kibana 6.x-18.1
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-18" class="left-nav-level-3">
Kibana 6.x-18
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-17" class="left-nav-level-3">
Kibana 6.x-17
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-16" class="left-nav-level-3">
Kibana 6.x-16
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-15" class="left-nav-level-3">
Kibana 6.x-15
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-14" class="left-nav-level-3">
Kibana 6.x-14
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-13" class="left-nav-level-3">
Kibana 6.x-13
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-12" class="left-nav-level-3">
Kibana 6.x-12
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-11" class="left-nav-level-3">
Kibana 6.x-11
</a>
</li>
<li>
<a href="/6.x-21/changelogs-kibana-6.x-10" class="left-nav-level-3">
Kibana 6.x-10
</a>
</li>
<li>
<a href="/6.x-21/changelog-kibana-6.x-8" class="left-nav-level-3">
Kibana 6.x-8
</a>
</li>
</ul>
</li>
<li>
<a href="/6.x-21/changelogs-tlstool" class="left-nav-level-2">
TLS Tool
</a>
<ul style="display:block;">

<li>
<a href="/6.x-21/changelogs-tlstool" class="left-nav-level-3">
Overview
</a>
</li>
<li>
<a href="/6.x-21/changelog-tlstool_1_7" class="left-nav-level-3">
TLS Tool 1.7
</a>
</li>
<li>
<a href="/6.x-21/changelog-tlstool_1_6" class="left-nav-level-3">
TLS Tool 1.6
</a>
</li>
<li>
<a href="/6.x-21/changelog-tlstool_1_5" class="left-nav-level-3">
TLS Tool 1.5
</a>
</li>
<li>
<a href="/6.x-21/changelog-tlstool_1_4" class="left-nav-level-3">
TLS Tool 1.4
</a>
</li>
<li>
<a href="/6.x-21/changelog-tlstool_1_3" class="left-nav-level-3">
TLS Tool 1.3
</a>
</li>
<li>
<a href="/6.x-21/changelog-tlstool_1_2" class="left-nav-level-3">
TLS Tool 1.2
</a>
</li>
<li>
<a href="/6.x-21/changelog-tlstool_1_1" class="left-nav-level-3">
TLS Tool 1.1
</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
<div class="col-md-9">

<h1 id="search-guard-6x-210">Search Guard 6.x-21.0</h1>
<p>Release Date: 07.02.2018</p>
<p><a href="/6.x-21/upgrading-5-6">Upgrade Guide from 5.x to 6.x</a></p>
<p><strong>Note: This version of Search Guard requires at least <a href="https://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.floragunn%22%20AND%20a%3A%22search-guard-kibana-plugin%22" target="_blank">v10 of the Kibana plugin</a></strong></p>
<h2 id="fixes">Fixes</h2>
<h3 id="search-guard">Search Guard</h3>
<ul>
<li>Password dependent timing side channel in AuthCredentials
<ul>
<li>When checking if credentials are present in cache, use MessageDigest.isEqual() instead of Arrays.equals()</li>
<li><a href="https://github.com/floragunncom/search-guard/issues/439" target="_blank">https://github.com/floragunncom/search-guard/issues/439</a></li>
</ul>
</li>
<li>DLS: Inner hits/nested results not shown
<ul>
<li>When a document contained nested objects they were not present in the search results under certain conditions</li>
<li><a href="https://groups.google.com/forum/#!searchin/search-guard/nested/search-guard/-9JTfDbJS4U/474EfzOUBAAJ" target="_blank">https://groups.google.com/forum/#!searchin/search-guard/nested/search-guard/-9JTfDbJS4U/474EfzOUBAAJ</a></li>
</ul>
</li>
<li>Multi tenancy: Do not upgrade Kibana index in ES/KI &gt;= 6.1.0
<ul>
<li>Due to changes in Kibana it is not necessary anymore to upgrade the tenant indices in the multi tenancy module</li>
<li><a href="https://github.com/floragunncom/search-guard/issues/444" target="_blank">https://github.com/floragunncom/search-guard/issues/444</a></li>
</ul>
</li>
<li>Improved error messages if wrong certificate is used
<ul>
<li><a href="https://github.com/floragunncom/search-guard/issues/429" target="_blank">https://github.com/floragunncom/search-guard/issues/429</a></li>
</ul>
</li>
<li>Audit Logging: request body on Transport layer cut off
<ul>
<li>In some cases the request body for events on the transport layer was cut off and contained too many escape signs</li>
</ul>
</li>
<li>sgadmin: add ability to prompt for passwords
<ul>
<li>Instead of providing passwords on the command line sgadmin can now prompt for them to avoid storing them in the bash historx</li>
</ul>
</li>
<li>sgadmin: warn when cluster consists of nodes with different versions
<ul>
<li>When running a cluster where the nodes have different versions sgadmin now issues a warning</li>
</ul>
</li>
<li>sgadmin: warn when admin certificate is also a node certificate (fails if fast fail is given)</li>
</ul>
<h2 id="features">Features</h2>
<ul>
<li>LDAP: Make connect timeout and response timeout configurable
<ul>
<li>add connect_timeout and response_timeout which maps to com.sun.jndi.ldap.connect.timeout and com.sun.jndi.ldap.read.timeout</li>
</ul>
</li>
<li>Make custom attributes available for the internal user database</li>
</ul>
</div>
</div>
</div>
</div>
</div>

<footer class="js-footer-is-fixed">

<div class="footer">
<div class="container">
<div class="row">
<div class="col-md-6 col-sm-6 col-xs-12">
<div class="footer-menu helper">
Search Guard is a trademark of floragunn GmbH, registered in the U.S. and in other countries.
<br /><br />
Elasticsearch, Kibana, Logstash, and Beats are trademarks of Elasticsearch BV, registered in the U.S. and in other countries.
<br /><br />
Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the Apache Software Foundation in the United States and/or other countries.
</div>
</div>
<div class="col-md-6 col-sm-6 col-xs-12">
<div class="footer-wrapper">

<span class="scroll-top js-scroll-top">
<i class="fa fa-angle-up"></i>
</span>





<ul class="footer-menu helper right">
<li>
<a href="https://search-guard.com/blog/" target="_blank"> Blog </a>
</li>
<li>
<a href="https://forum.search-guard.com/" target="_blank"> Forum</a>
</li>
<li>
<a href="https://search-guard.com/partners/" target="_blank"> Partners</a>
</li>
<li>
<a href="https://search-guard.com/integrators/" target="_blank"> Integrators</a>
</li>
<li>
<a href="https://search-guard.com/tls-certificate-generator/" target="_blank"> Certificate Generator </a>
</li>
<li>
<a href="https://search-guard.com/licensing/" target="_blank"> Licensing </a>
</li>
</ul>


<p class="copyright helper right">
<a href="https://search-guard.com" target="_blank">© 2017-2019 floragunn GmbH - All Rights Reserved </p>

</div>
</div>
</div>
</div>
</div>

</footer>

</div>
<script src="js/modernizr.js"></script>
<script src="js/all.js"></script>
<script src="js/prism.js"></script><script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"rayId":"6a685cd7aa51420e","token":"70c521ac7aa841d1978d54a5e5c0a91e","version":"2021.10.0","si":100}'></script>
</body>
</html>