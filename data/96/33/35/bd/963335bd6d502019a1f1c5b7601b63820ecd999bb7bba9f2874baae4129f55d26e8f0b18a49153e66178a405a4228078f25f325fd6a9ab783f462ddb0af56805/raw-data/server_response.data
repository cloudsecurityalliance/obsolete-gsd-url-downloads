<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#840014 - webcheckout: CVE-2018-7032: missing URL sanitization - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=840014&quot;&gt;840014&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:840014@bugs.debian.org">#840014</a><br>
webcheckout: CVE-2018-7032: missing URL sanitization</h1>
<div class="versiongraph"><a href="version.cgi?absolute=0;fixed=myrepos%2F1.20180726;found=myrepos%2F1.20160123;collapse=1;package=myrepos;info=1"><img alt="version graph" src="version.cgi?width=2;collapse=1;found=myrepos%2F1.20160123;fixed=myrepos%2F1.20180726;absolute=0;package=myrepos;height=2"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=myrepos">myrepos</a>;
Maintainer for <a href="pkgreport.cgi?package=myrepos">myrepos</a> is <a href="pkgreport.cgi?maint=richih%40debian.org">Richard Hartmann &lt;richih@debian.org&gt;</a>; Source for <a href="pkgreport.cgi?package=myrepos">myrepos</a> is <a href="pkgreport.cgi?src=myrepos">src:myrepos</a> (<a href="https://tracker.debian.org/pkg/myrepos">PTS</a>, <a href="https://buildd.debian.org/myrepos">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=myrepos">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=jwilk%40debian.org">Jakub Wilk &lt;jwilk@debian.org&gt;</a></p>
  <p>Date: Fri,  7 Oct 2016 16:36:04 UTC</p>

<p>Severity: normal</p>
<p>Tags: fixed-upstream, patch, security, upstream</p>

<p>Found in version myrepos/1.20160123</p>
<p>Fixed in version myrepos/1.20180726</p>

<p><strong>Done:</strong> Paul Wise &lt;pabs@debian.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p><p>Forwarded to <a href="http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=40a3df21c73f1bb1b6915cc6fa503f50814664c8">http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=40a3df21c73f1bb1b6915cc6fa503f50814664c8</a></p>
</div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=840014;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, jwilk@debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1475858166 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, jwilk@debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Fri, 07 Oct 2016 16:36:06 GMT) (<a href="bugreport.cgi?bug=840014;msg=2">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="3"></a><a name="msg3"></a><a href="#3">Message #3</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=3">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=3">mbox</a>, <a href="mailto:840014@bugs.debian.org?subject=Re%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;In-Reply-To=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E&amp;References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E&amp;body=On%20Fri%2C%207%20Oct%202016%2018%3A27%3A12%20%2B0200%20Jakub%20Wilk%20%3Cjwilk%40debian.org%3E%20wrote%3A%0A%3E%20Package%3A%20myrepos%0A%3E%20Version%3A%201.20160123%0A%3E%20Tags%3A%20security%0A%3E%20%0A%3E%20webcheckout%20passes%20the%20extracted%20URL%20to%20%22git%20clone%22%2C%20without%20any%20sanitization.%20%0A%3E%20Malicious%20website%20operators%20or%20MitM%20attackers%20could%20exploit%20it%20for%20arbitrary%20%0A%3E%20code%20execution.%0A%3E%20%0A%3E%20PoC%3A%0A%3E%20%0A%3E%20%20%20%24%20webcheckout%20%2Fpath%2Fto%2Fbadgit.html%0A%3E%20%20%20git%20clone%20ext%3A%3Ash%20-c%20cowsay%25%20pwned%25%20%3E%25%20%2Fdev%2Ftty%0A%3E%20%20%20Cloning%20into%20%27tty%27...%0A%3E%20%20%20%20_______%0A%3E%20%20%20%3C%20pwned%20%3E%0A%3E%20%20%20%20-------%0A%3E%20%20%20%20%20%20%20%20%20%20%20%5C%20%20%20%5E__%5E%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%5C%20%20%28oo%29%5C_______%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28__%29%5C%20%20%20%20%20%20%20%29%5C%2F%5C%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%7C----w%20%7C%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%7C%20%20%20%20%20%7C%7C%0A%3E%20%20%20fatal%3A%20Could%20not%20read%20from%20remote%20repository.%0A%3E%20%0A%3E%20%0A%3E%20--%20System%20Information%3A%0A%3E%20Debian%20Release%3A%20stretch%2Fsid%0A%3E%20%20%20APT%20prefers%20unstable%0A%3E%20%20%20APT%20policy%3A%20%28990%2C%20%27unstable%27%29%2C%20%28500%2C%20%27experimental%27%29%0A%3E%20Architecture%3A%20i386%20%28x86_64%29%0A%3E%20Foreign%20Architectures%3A%20amd64%0A%3E%20%0A%3E%20Kernel%3A%20Linux%204.7.0-1-amd64%20%28SMP%20w%2F2%20CPU%20cores%29%0A%3E%20Locale%3A%20LANG%3DC%2C%20LC_CTYPE%3Dpl_PL.UTF-8%20%28charmap%3DUTF-8%29%0A%3E%20Shell%3A%20%2Fbin%2Fsh%20linked%20to%20%2Fbin%2Fdash%0A%3E%20Init%3A%20sysvinit%20%28via%20%2Fsbin%2Finit%29%0A%3E%20%0A%3E%20myrepos%20depends%20on%20no%20packages.%0A%3E%20%0A%3E%20Versions%20of%20packages%20myrepos%20recommends%3A%0A%3E%20ii%20%20libhtml-parser-perl%20%203.72-2%2Bb1%0A%3E%20ii%20%20libio-pty-easy-perl%20%200.09-2%0A%3E%20ii%20%20libwww-perl%20%20%20%20%20%20%20%20%20%206.15-1%0A%3E%20ii%20%20perl%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%205.24.1~rc3-3%0A%3E%20%0A%3E%20Versions%20of%20packages%20myrepos%20suggests%3A%0A%3E%20pn%20%20ack-grep%20%20%20%20%20%20%20%20%20%20%3Cnone%3E%0A%3E%20ii%20%20bzr%20%20%20%20%20%20%20%20%20%20%20%20%20%20%202.7.0%2Bbzr6619-2%0A%3E%20ii%20%20curl%20%20%20%20%20%20%20%20%20%20%20%20%20%207.50.1-1%0A%3E%20pn%20%20cvs%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cnone%3E%0A%3E%20pn%20%20darcs%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cnone%3E%0A%3E%20pn%20%20fossil%20%20%20%20%20%20%20%20%20%20%20%20%3Cnone%3E%0A%3E%20ii%20%20git%20%5Bgit-core%5D%20%20%20%201%3A2.9.3-1%0A%3E%20pn%20%20kdesdk-scripts%20%20%20%20%3Cnone%3E%0A%3E%20ii%20%20liburi-perl%20%20%20%20%20%20%201.71-1%0A%3E%20ii%20%20mercurial%20%20%20%20%20%20%20%20%203.9.1-1%0A%3E%20ii%20%20subversion%20%20%20%20%20%20%20%201.9.4-3%2Bb1%0A%3E%20pn%20%20subversion-tools%20%20%3Cnone%3E%0A%3E%20pn%20%20vcsh%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cnone%3E%0A%3E%20%0A%3E%20--%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jwilk%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Jakub Wilk &lt;jwilk@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 7 Oct 2016 18:27:12 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=840014;msg=3">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message flowed">Package: myrepos
Version: 1.20160123
Tags: security

webcheckout passes the extracted URL to &quot;git clone&quot;, without any sanitization. 
Malicious website operators or MitM attackers could exploit it for arbitrary 
code execution.

PoC:

 $ webcheckout /path/to/badgit.html
 git clone ext::sh -c cowsay% pwned% &gt;% /dev/tty
 Cloning into &#39;tty&#39;...
  _______
 &lt; pwned &gt;
  -------
         \   ^__^
          \  (oo)\_______
             (__)\       )\/\
                 ||----w |
                 ||     ||
 fatal: Could not read from remote repository.


-- System Information:
Debian Release: stretch/sid
 APT prefers unstable
 APT policy: (990, &#39;unstable&#39;), (500, &#39;experimental&#39;)
Architecture: i386 (x86_64)
Foreign Architectures: amd64

Kernel: Linux 4.7.0-1-amd64 (SMP w/2 CPU cores)
Locale: LANG=C, LC_CTYPE=pl_PL.UTF-8 (charmap=UTF-8)
Shell: /bin/sh linked to /bin/dash
Init: sysvinit (via /sbin/init)

myrepos depends on no packages.

Versions of packages myrepos recommends:
ii  libhtml-parser-perl  3.72-2+b1
ii  libio-pty-easy-perl  0.09-2
ii  libwww-perl          6.15-1
ii  perl                 5.24.1~rc3-3

Versions of packages myrepos suggests:
pn  ack-grep          &lt;none&gt;
ii  bzr               2.7.0+bzr6619-2
ii  curl              7.50.1-1
pn  cvs               &lt;none&gt;
pn  darcs             &lt;none&gt;
pn  fossil            &lt;none&gt;
ii  git [git-core]    1:2.9.3-1
pn  kdesdk-scripts    &lt;none&gt;
ii  liburi-perl       1.71-1
ii  mercurial         3.9.1-1
ii  subversion        1.9.4-3+b1
pn  subversion-tools  &lt;none&gt;
pn  vcsh              &lt;none&gt;

-- 
Jakub Wilk
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=840014;filename=badgit.html;msg=3">badgit.html</a> (text/html, attachment)]</pre>

<div class="infmessage"><hr><p>
<a name="4"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1517994183 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Wed, 07 Feb 2018 09:03:03 GMT) (<a href="bugreport.cgi?bug=840014;msg=5">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=5">mbox</a>, <a href="#4">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="6"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1517994183 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Richard Hartmann &lt;richih@debian.org&gt;</code>.
 (Wed, 07 Feb 2018 09:03:03 GMT) (<a href="bugreport.cgi?bug=840014;msg=7">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="8"></a><a name="msg8"></a><a href="#8">Message #8</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=8">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=8">mbox</a>, <a href="mailto:840014@bugs.debian.org?body=On%20Wed%2C%2007%20Feb%202018%2016%3A59%3A26%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20On%20Fri%2C%207%20Oct%202016%2018%3A27%3A12%20%2B0200%20Jakub%20Wilk%20wrote%3A%0A%3E%20%0A%3E%20%3E%20%20%24%20webcheckout%20%2Fpath%2Fto%2Fbadgit.html%0A%3E%20%3E%20%20git%20clone%20ext%3A%3Ash%20-c%20cowsay%25%20pwned%25%20%3E%25%20%2Fdev%2Ftty%0A%3E%20%0A%3E%20I%20consider%20this%20particular%20attack%20to%20be%20a%20bug%20in%20git%20and%20the%0A%3E%20git%20authors%20seem%20to%20agree%20with%20me%20because%20it%20is%20blocked%20in%20sid.%0A%3E%20%0A%3E%20Do%20you%20think%20this%20should%20be%20fixed%20in%20git%20or%20in%20webcheckout%20or%20both%3F%0A%3E%20%0A%3E%20%24%20webcheckout%20.%2Fbadgit.html%0A%3E%20git%20clone%20--%20ext%3A%3Ash%20-c%20cowsay%25%20pwned%25%20%3E%25%20%2Fdev%2Ftty%0A%3E%20Cloning%20into%20%27tty%27...%0A%3E%20fatal%3A%20transport%20%27ext%27%20not%20allowed%0A%3E%20failed%20to%20checkout%20ext%3A%3Ash%20-c%20cowsay%25%20pwned%25%20%3E%25%20%2Fdev%2Ftty%0A%3E%20%0A%3E%20%24%20grep%20-riA6%20git-remote-ext%20%2Fusr%2Fshare%2Fdoc%2Fgit%2FRelNotes%2F%20%7C%20head%20-n6%0A%3E%20%2Fusr%2Fshare%2Fdoc%2Fgit%2FRelNotes%2F2.4.10.txt%3A%20%2A%20Some%20protocols%20%28like%20git-remote-ext%29%20can%20execute%20arbitrary%20code%0A%3E%20%2Fusr%2Fshare%2Fdoc%2Fgit%2FRelNotes%2F2.4.10.txt-%20%20%20found%20in%20the%20URL.%20%20The%20URLs%20that%20submodules%20use%20may%20come%20from%0A%3E%20%2Fusr%2Fshare%2Fdoc%2Fgit%2FRelNotes%2F2.4.10.txt-%20%20%20arbitrary%20sources%20%28e.g.%2C%20.gitmodules%20files%20in%20a%20remote%0A%3E%20%2Fusr%2Fshare%2Fdoc%2Fgit%2FRelNotes%2F2.4.10.txt-%20%20%20repository%29%2C%20and%20can%20hurt%20those%20who%20blindly%20enable%20recursive%0A%3E%20%2Fusr%2Fshare%2Fdoc%2Fgit%2FRelNotes%2F2.4.10.txt-%20%20%20fetch.%20%20Restrict%20the%20allowed%20protocols%20to%20well%20known%20and%20safe%0A%3E%20%2Fusr%2Fshare%2Fdoc%2Fgit%2FRelNotes%2F2.4.10.txt-%20%20%20ones.%0A%3E%20%0A%3E%20--%20%0A%3E%20bye%2C%0A%3E%20pabs%0A%3E%20%0A%3E%20https%3A%2F%2Fwiki.debian.org%2FPaulWise%0A&amp;subject=Re%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;In-Reply-To=%3C1517993966.5742.11.camel%40debian.org%3E&amp;References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%20%3C1517993966.5742.11.camel%40debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 840014@bugs.debian.org, 840014-submitter@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 07 Feb 2018 16:59:26 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=840014;msg=8">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On Fri, 7 Oct 2016 18:27:12 +0200 Jakub Wilk wrote:

&gt;  $ webcheckout /path/to/badgit.html
&gt;  git clone ext::sh -c cowsay% pwned% &gt;% /dev/tty

I consider this particular attack to be a bug in git and the
git authors seem to agree with me because it is blocked in sid.

Do you think this should be fixed in git or in webcheckout or both?

$ webcheckout ./badgit.html
git clone -- ext::sh -c cowsay% pwned% &gt;% /dev/tty
Cloning into &#39;tty&#39;...
fatal: transport &#39;ext&#39; not allowed
failed to checkout ext::sh -c cowsay% pwned% &gt;% /dev/tty

$ grep -riA6 git-remote-ext /usr/share/doc/git/RelNotes/ | head -n6
/usr/share/doc/git/RelNotes/2.4.10.txt: * Some protocols (like git-remote-ext) can execute arbitrary code
/usr/share/doc/git/RelNotes/2.4.10.txt-   found in the URL.  The URLs that submodules use may come from
/usr/share/doc/git/RelNotes/2.4.10.txt-   arbitrary sources (e.g., .gitmodules files in a remote
/usr/share/doc/git/RelNotes/2.4.10.txt-   repository), and can hurt those who blindly enable recursive
/usr/share/doc/git/RelNotes/2.4.10.txt-   fetch.  Restrict the allowed protocols to well known and safe
/usr/share/doc/git/RelNotes/2.4.10.txt-   ones.

-- 
bye,
pabs

<a href="https://wiki.debian.org/PaulWise">https://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=840014;filename=signature.asc;msg=8">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="9"></a>
<!-- request_addr: Jakub Wilk &lt;jwilk@debian.org&gt; -->
<!-- time:1517994186 -->
<strong>Message sent on</strong>
to <code>Jakub Wilk &lt;jwilk@debian.org&gt;</code>:<br>
Bug#840014.
 (Wed, 07 Feb 2018 09:03:06 GMT) (<a href="bugreport.cgi?bug=840014;msg=10">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=10">mbox</a>, <a href="#9">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="12"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1518122882 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Thu, 08 Feb 2018 20:48:02 GMT) (<a href="bugreport.cgi?bug=840014;msg=13">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=13">mbox</a>, <a href="#12">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="14"></a><a name="msg14"></a><a href="#14">Message #14</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=14">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=14">mbox</a>, <a href="mailto:840014@bugs.debian.org?References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%20%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%20%3C1517993966.5742.11.camel%40debian.org%3E%0A%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E&amp;In-Reply-To=%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E&amp;subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;body=On%20Thu%2C%208%20Feb%202018%2021%3A44%3A14%20%2B0100%20Jakub%20Wilk%20%3Cjwilk%40jwilk.net%3E%20wrote%3A%0A%3E%20%2A%20Paul%20Wise%20%3Cpabs%40debian.org%3E%2C%202018-02-07%2C%2016%3A59%3A%0A%3E%20%3E%3E%20%20%24%20webcheckout%20%2Fpath%2Fto%2Fbadgit.html%0A%3E%20%3E%3E%20%20git%20clone%20ext%3A%3Ash%20-c%20cowsay%25%20pwned%25%20%3E%25%20%2Fdev%2Ftty%0A%3E%20%3E%0A%3E%20%3EI%20consider%20this%20particular%20attack%20to%20be%20a%20bug%20in%20git%20and%20the%20git%20%0A%3E%20%3Eauthors%20seem%20to%20agree%20with%20me%20because%20it%20is%20blocked%20in%20sid.%0A%3E%20%0A%3E%20It%27s%20hard%20to%20tell%20whether%20they%20agree%2C%20because%20disabling%20git-remote-ext%20%0A%3E%20by%20default%20is%20not%20documented%20AFAICT.%20See%20bug%20%23867699.%0A%3E%20%0A%3E%20Users%20might%20need%20to%20re-enable%20git-remote-ext%20for%20their%20own%20purposes%2C%20so%20%0A%3E%20this%20needs%20to%20be%20fixed%20in%20webcheckout.%0A%3E%20%0A%3E%20webcheckout%20is%20also%20susceptible%20to%20option%20injection%2C%20but%20I%20couldn%27t%20find%20%0A%3E%20a%20way%20to%20exploit%20it%20for%20anything%20nefarious.%0A%3E%20%0A%3E%20--%20%0A%3E%20Jakub%20Wilk%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jwilk%40jwilk.net" alt="">
<div class="header"><span class="headerfield">From:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Paul Wise &lt;pabs@debian.org&gt;, Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 8 Feb 2018 21:44:14 +0100</div>
</div>
<pre class="message flowed">* Paul Wise &lt;pabs@debian.org&gt;, 2018-02-07, 16:59:
&gt;&gt;  $ webcheckout /path/to/badgit.html
&gt;&gt;  git clone ext::sh -c cowsay% pwned% &gt;% /dev/tty
&gt;
&gt;I consider this particular attack to be a bug in git and the git 
&gt;authors seem to agree with me because it is blocked in sid.

It&#39;s hard to tell whether they agree, because disabling git-remote-ext 
by default is not documented AFAICT. See bug #867699.

Users might need to re-enable git-remote-ext for their own purposes, so 
this needs to be fixed in webcheckout.

webcheckout is also susceptible to option injection, but I couldn&#39;t find 
a way to exploit it for anything nefarious.

-- 
Jakub Wilk


</pre>

<div class="infmessage"><hr><p>
<a name="15"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1518141604 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Fri, 09 Feb 2018 02:00:04 GMT) (<a href="bugreport.cgi?bug=840014;msg=16">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="17"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1518141604 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Richard Hartmann &lt;richih@debian.org&gt;</code>.
 (Fri, 09 Feb 2018 02:00:04 GMT) (<a href="bugreport.cgi?bug=840014;msg=18">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=18">mbox</a>, <a href="#17">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="19"></a><a name="msg19"></a><a href="#19">Message #19</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=19">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=19">mbox</a>, <a href="mailto:840014@bugs.debian.org?body=On%20Fri%2C%2009%20Feb%202018%2009%3A56%3A56%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20On%20Thu%2C%202018-02-08%20at%2021%3A44%20%2B0100%2C%20Jakub%20Wilk%20wrote%3A%0A%3E%20%0A%3E%20%3E%20It%27s%20hard%20to%20tell%20whether%20they%20agree%2C%20because%20disabling%20git-remote-ext%20%0A%3E%20%3E%20by%20default%20is%20not%20documented%20AFAICT.%20See%20bug%20%23867699.%0A%3E%20%0A%3E%20Thanks%20for%20the%20pointer.%0A%3E%20%0A%3E%20%3E%20Users%20might%20need%20to%20re-enable%20git-remote-ext%20for%20their%20own%20purposes%2C%20so%20%0A%3E%20%3E%20this%20needs%20to%20be%20fixed%20in%20webcheckout.%0A%3E%20%0A%3E%20How%20would%20you%20suggest%20doing%20that%3F%0A%3E%20%0A%3E%20%20%2A%20Blacklist%20ext%3A%3A%0A%3E%20%20%2A%20Whitelist%20good%20remote%20protocols%0A%3E%20%0A%3E%20How%20should%20it%20handle%20the%20bad%20remotes%3F%0A%3E%20%0A%3E%20%2A%20Fail%20with%20%22potentially%20unsafe%20git%20remote%22%0A%3E%20%2A%20Fail%20with%20%22potentially%20unsafe%20git%20URL%2C%20may%20execute%20code%3A%20ext%3A%3A%2A%22%0A%3E%20%2A%20Fail%20with%20%22potentially%20unsafe%20git%20URL%2C%20may%20execute%20code%3A%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20git%20clone%20ext%3A%3A%2A%22%0A%3E%20%0A%3E%20%3E%20webcheckout%20is%20also%20susceptible%20to%20option%20injection%2C%20but%20I%20couldn%27t%20find%20%0A%3E%20%3E%20a%20way%20to%20exploit%20it%20for%20anything%20nefarious.%0A%3E%20%0A%3E%20I%20made%20a%20patch%20for%20that%20locally%2C%20but%20I%20wanted%20the%20commit%20to%20link%20to%20the%0A%3E%20canonical%20document%20about%20option%20injection%20but%20I%20cannot%20find%20a%20link.%0A%3E%20IIRC%20it%20includes%20how%20to%20get%20RCE%20with%20tar%2Fcpio%2Fetc%20option%20injection.%0A%3E%20Do%20you%20remember%20where%20that%20can%20be%20found%3F%0A%3E%20%0A%3E%20--%20%0A%3E%20bye%2C%0A%3E%20pabs%0A%3E%20%0A%3E%20https%3A%2F%2Fwiki.debian.org%2FPaulWise%0A&amp;In-Reply-To=%3C1518141416.20834.15.camel%40debian.org%3E&amp;References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C1517993966.5742.11.camel%40debian.org%3E%0A%09%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%20%3C1518141416.20834.15.camel%40debian.org%3E&amp;subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;, 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 09 Feb 2018 09:56:56 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=840014;msg=19">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On Thu, 2018-02-08 at 21:44 +0100, Jakub Wilk wrote:

&gt; It&#39;s hard to tell whether they agree, because disabling git-remote-ext 
&gt; by default is not documented AFAICT. See bug #867699.

Thanks for the pointer.

&gt; Users might need to re-enable git-remote-ext for their own purposes, so 
&gt; this needs to be fixed in webcheckout.

How would you suggest doing that?

 * Blacklist ext::
 * Whitelist good remote protocols

How should it handle the bad remotes?

* Fail with &quot;potentially unsafe git remote&quot;
* Fail with &quot;potentially unsafe git URL, may execute code: ext::*&quot;
* Fail with &quot;potentially unsafe git URL, may execute code:
             git clone ext::*&quot;

&gt; webcheckout is also susceptible to option injection, but I couldn&#39;t find 
&gt; a way to exploit it for anything nefarious.

I made a patch for that locally, but I wanted the commit to link to the
canonical document about option injection but I cannot find a link.
IIRC it includes how to get RCE with tar/cpio/etc option injection.
Do you remember where that can be found?

-- 
bye,
pabs

<a href="https://wiki.debian.org/PaulWise">https://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=840014;filename=signature.asc;msg=19">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="20"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1518354723 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Sun, 11 Feb 2018 13:12:03 GMT) (<a href="bugreport.cgi?bug=840014;msg=21">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=21">mbox</a>, <a href="#20">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="22"></a><a name="msg22"></a><a href="#22">Message #22</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=22">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=22">mbox</a>, <a href="mailto:840014@bugs.debian.org?In-Reply-To=%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E&amp;References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%20%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%20%3C1517993966.5742.11.camel%40debian.org%3E%0A%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%20%3C1518141416.20834.15.camel%40debian.org%3E%0A%20%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E&amp;subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;body=On%20Sun%2C%2011%20Feb%202018%2014%3A09%3A01%20%2B0100%20Jakub%20Wilk%20%3Cjwilk%40jwilk.net%3E%20wrote%3A%0A%3E%20%2A%20Paul%20Wise%20%3Cpabs%40debian.org%3E%2C%202018-02-09%2C%2009%3A56%3A%0A%3E%20%3E%3EUsers%20might%20need%20to%20re-enable%20git-remote-ext%20for%20their%20own%20purposes%2C%20%0A%3E%20%3E%3Eso%20this%20needs%20to%20be%20fixed%20in%20webcheckout.%0A%3E%20%3EHow%20would%20you%20suggest%20doing%20that%3F%0A%3E%20%3E%0A%3E%20%3E%20%2A%20Blacklist%20ext%3A%3A%0A%3E%20%3E%20%2A%20Whitelist%20good%20remote%20protocols%0A%3E%20%0A%3E%20For%20Git%20%28%3E%3D%202.12%29%2C%20you%20can%20set%20GIT_PROTOCOL_FROM_USER%3D0%20in%20environment.%20%0A%3E%20Quoting%20git%281%29%3A%20%22this%20is%20useful%20%5B...%5D%20for%20programs%20which%20feed%20%0A%3E%20potentially-untrusted%20URLS%20to%20git%20commands%22.%0A%3E%20%0A%3E%20If%20you%20want%20to%20support%20older%20versions%20of%20Git%2C%20I%20guess%20you%20should%20mimic%20%0A%3E%20what%20GIT_PROTOCOL_FROM_USER%3D0%20does%20by%20default%2C%20i.e.%20whitelist%20known-good%20%0A%3E%20protocols.%0A%3E%20%0A%3E%20%3EHow%20should%20it%20handle%20the%20bad%20remotes%3F%0A%3E%20%0A%3E%20I%20think%20printing%20the%20whole%20suspicious%20URL%20would%20make%20sense.%0A%3E%20%0A%3E%20%3E%3Ewebcheckout%20is%20also%20susceptible%20to%20option%20injection%2C%20but%20I%20couldn%27t%20%0A%3E%20%3E%3Efind%20a%20way%20to%20exploit%20it%20for%20anything%20nefarious.%0A%3E%20%3EI%20made%20a%20patch%20for%20that%20locally%2C%20but%20I%20wanted%20the%20commit%20to%20link%20to%20the%20%0A%3E%20%3Ecanonical%20document%20about%20option%20injection%20but%20I%20cannot%20find%20a%20link.%20%0A%3E%20%3EIIRC%20it%20includes%20how%20to%20get%20RCE%20with%20tar%2Fcpio%2Fetc%20option%20injection.%20Do%20%0A%3E%20%3Eyou%20remember%20where%20that%20can%20be%20found%3F%0A%3E%20%0A%3E%20I%20haven%27t%20heard%20about%20it.%0A%3E%20%0A%3E%20--%20%0A%3E%20Jakub%20Wilk%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jwilk%40jwilk.net" alt="">
<div class="header"><span class="headerfield">From:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Paul Wise &lt;pabs@debian.org&gt;, Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 11 Feb 2018 14:09:01 +0100</div>
</div>
<pre class="message flowed">* Paul Wise &lt;pabs@debian.org&gt;, 2018-02-09, 09:56:
&gt;&gt;Users might need to re-enable git-remote-ext for their own purposes, 
&gt;&gt;so this needs to be fixed in webcheckout.
&gt;How would you suggest doing that?
&gt;
&gt; * Blacklist ext::
&gt; * Whitelist good remote protocols

For Git (&gt;= 2.12), you can set GIT_PROTOCOL_FROM_USER=0 in environment. 
Quoting git(1): &quot;this is useful [...] for programs which feed 
potentially-untrusted URLS to git commands&quot;.

If you want to support older versions of Git, I guess you should mimic 
what GIT_PROTOCOL_FROM_USER=0 does by default, i.e. whitelist known-good 
protocols.

&gt;How should it handle the bad remotes?

I think printing the whole suspicious URL would make sense.

&gt;&gt;webcheckout is also susceptible to option injection, but I couldn&#39;t 
&gt;&gt;find a way to exploit it for anything nefarious.
&gt;I made a patch for that locally, but I wanted the commit to link to the 
&gt;canonical document about option injection but I cannot find a link. 
&gt;IIRC it includes how to get RCE with tar/cpio/etc option injection. Do 
&gt;you remember where that can be found?

I haven&#39;t heard about it.

-- 
Jakub Wilk


</pre>

<div class="infmessage"><hr><p>
<a name="23"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1518357963 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Sun, 11 Feb 2018 14:06:03 GMT) (<a href="bugreport.cgi?bug=840014;msg=24">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=24">mbox</a>, <a href="#23">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="25"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1518357963 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Richard Hartmann &lt;richih@debian.org&gt;</code>.
 (Sun, 11 Feb 2018 14:06:03 GMT) (<a href="bugreport.cgi?bug=840014;msg=26">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=26">mbox</a>, <a href="#25">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="27"></a><a name="msg27"></a><a href="#27">Message #27</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=27">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=27">mbox</a>, <a href="mailto:840014@bugs.debian.org?References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C1517993966.5742.11.camel%40debian.org%3E%0A%09%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%09%20%3C1518141416.20834.15.camel%40debian.org%3E%0A%09%20%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E%0A%20%3C1518357851.10848.9.camel%40debian.org%3E&amp;In-Reply-To=%3C1518357851.10848.9.camel%40debian.org%3E&amp;subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;body=On%20Sun%2C%2011%20Feb%202018%2022%3A04%3A11%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20On%20Sun%2C%202018-02-11%20at%2014%3A09%20%2B0100%2C%20Jakub%20Wilk%20wrote%3A%0A%3E%20%0A%3E%20%3E%20For%20Git%20%28%3E%3D%202.12%29%2C%20you%20can%20set%20GIT_PROTOCOL_FROM_USER%3D0%20in%0A%3E%20%3E%20environment.%20%0A%3E%20%3E%20Quoting%20git%281%29%3A%20%22this%20is%20useful%20%5B...%5D%20for%20programs%20which%20feed%20%0A%3E%20%3E%20potentially-untrusted%20URLS%20to%20git%20commands%22.%0A%3E%20%0A%3E%20Ah%2C%20I%20missed%20that%20addition.%0A%3E%20%0A%3E%20%3E%20If%20you%20want%20to%20support%20older%20versions%20of%20Git%2C%20I%20guess%20you%20should%20mimic%20%0A%3E%20%3E%20what%20GIT_PROTOCOL_FROM_USER%3D0%20does%20by%20default%2C%20i.e.%20whitelist%20known-good%20%0A%3E%20%3E%20protocols.%0A%3E%20%0A%3E%20I%20think%20I%20will%20check%20the%20git%20version%20and%20apply%20the%20manual%20whitelisting%0A%3E%20only%20for%20versions%20of%20git%20older%20than%202.12.%0A%3E%20%0A%3E%20%3E%20I%20think%20printing%20the%20whole%20suspicious%20URL%20would%20make%20sense.%0A%3E%20%0A%3E%20OK.%0A%3E%20%0A%3E%20%3E%20I%20haven%27t%20heard%20about%20it.%0A%3E%20%0A%3E%20OK%2C%20pushed%20my%20patch%20for%20that.%0A%3E%20%0A%3E%20http%3A%2F%2Fsource.myrepos.branchable.com%2F%3Fp%3Dsource.git%3Ba%3Dcommitdiff%3Bh%3Df8b5baf18928544ce5c3575641fe852a86e93254%0A%3E%20%0A%3E%20I%20also%20made%20webcheckout%20prefer%20https%3A%0A%3E%20%0A%3E%20http%3A%2F%2Fsource.myrepos.branchable.com%2F%3Fp%3Dsource.git%3Ba%3Dcommitdiff%3Bh%3D57b5fa2b85c6285c2f88de242016fdbeb112b91e%0A%3E%20%0A%3E%20--%20%0A%3E%20bye%2C%0A%3E%20pabs%0A%3E%20%0A%3E%20https%3A%2F%2Fwiki.debian.org%2FPaulWise%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;, 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 11 Feb 2018 22:04:11 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=840014;msg=27">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On Sun, 2018-02-11 at 14:09 +0100, Jakub Wilk wrote:

&gt; For Git (&gt;= 2.12), you can set GIT_PROTOCOL_FROM_USER=0 in
&gt; environment. 
&gt; Quoting git(1): &quot;this is useful [...] for programs which feed 
&gt; potentially-untrusted URLS to git commands&quot;.

Ah, I missed that addition.

&gt; If you want to support older versions of Git, I guess you should mimic 
&gt; what GIT_PROTOCOL_FROM_USER=0 does by default, i.e. whitelist known-good 
&gt; protocols.

I think I will check the git version and apply the manual whitelisting
only for versions of git older than 2.12.

&gt; I think printing the whole suspicious URL would make sense.

OK.

&gt; I haven&#39;t heard about it.

OK, pushed my patch for that.

<a href="http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=f8b5baf18928544ce5c3575641fe852a86e93254">http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=f8b5baf18928544ce5c3575641fe852a86e93254</a>

I also made webcheckout prefer https:

<a href="http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=57b5fa2b85c6285c2f88de242016fdbeb112b91e">http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=57b5fa2b85c6285c2f88de242016fdbeb112b91e</a>

-- 
bye,
pabs

<a href="https://wiki.debian.org/PaulWise">https://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=840014;filename=signature.asc;msg=27">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="28"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1518361025 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Sun, 11 Feb 2018 14:57:05 GMT) (<a href="bugreport.cgi?bug=840014;msg=29">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=29">mbox</a>, <a href="#28">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="30"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1518361025 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Richard Hartmann &lt;richih@debian.org&gt;</code>.
 (Sun, 11 Feb 2018 14:57:05 GMT) (<a href="bugreport.cgi?bug=840014;msg=31">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=31">mbox</a>, <a href="#30">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="32"></a><a name="msg32"></a><a href="#32">Message #32</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=32">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=32">mbox</a>, <a href="mailto:840014@bugs.debian.org?subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;In-Reply-To=%3C1518360898.15823.1.camel%40debian.org%3E&amp;References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C1517993966.5742.11.camel%40debian.org%3E%0A%09%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%09%20%3C1518141416.20834.15.camel%40debian.org%3E%0A%09%20%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E%0A%09%20%3C1518357851.10848.9.camel%40debian.org%3E%0A%20%3C1518360898.15823.1.camel%40debian.org%3E&amp;body=On%20Sun%2C%2011%20Feb%202018%2022%3A54%3A58%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20On%20Sun%2C%202018-02-11%20at%2022%3A04%20%2B0800%2C%20Paul%20Wise%20wrote%3A%0A%3E%20%0A%3E%20%3E%20I%20think%20I%20will%20check%20the%20git%20version%20and%20apply%20the%20manual%0A%3E%20%3E%20whitelisting%20only%20for%20versions%20of%20git%20older%20than%202.12.%0A%3E%20%0A%3E%20Attached%20my%20proposed%20patch%20for%20the%20git%20issue.%0A%3E%20%0A%3E%20--%20%0A%3E%20bye%2C%0A%3E%20pabs%0A%3E%20%0A%3E%20https%3A%2F%2Fwiki.debian.org%2FPaulWise%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;, 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 11 Feb 2018 22:54:58 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=840014;msg=32">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On Sun, 2018-02-11 at 22:04 +0800, Paul Wise wrote:

&gt; I think I will check the git version and apply the manual
&gt; whitelisting only for versions of git older than 2.12.

Attached my proposed patch for the git issue.

-- 
bye,
pabs

<a href="https://wiki.debian.org/PaulWise">https://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=840014;filename=0001-Mitigate-vulnerabilities-caused-by-some-git-remotes-.patch;msg=32">0001-Mitigate-vulnerabilities-caused-by-some-git-remotes-.patch</a> (text/x-patch, attachment)]</pre>
<pre class="mime">[<a href="bugreport.cgi?att=2;bug=840014;filename=signature.asc;msg=32">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="33"></a>
<!-- command:title -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1518638225 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;webcheckout: CVE-2018-7032: missing URL sanitization&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;webcheckout: missing URL sanitization&#39;
            };
-->
<strong>Changed Bug title to &#39;webcheckout: CVE-2018-7032: missing URL sanitization&#39; from &#39;webcheckout: missing URL sanitization&#39;.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 14 Feb 2018 19:57:05 GMT) (<a href="bugreport.cgi?bug=840014;msg=34">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=34">mbox</a>, <a href="#33">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="35"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1518989404 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Sun, 18 Feb 2018 21:30:04 GMT) (<a href="bugreport.cgi?bug=840014;msg=36">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=36">mbox</a>, <a href="#35">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="37"></a><a name="msg37"></a><a href="#37">Message #37</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=37">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=37">mbox</a>, <a href="mailto:840014@bugs.debian.org?References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%20%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%20%3C1517993966.5742.11.camel%40debian.org%3E%0A%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%20%3C1518141416.20834.15.camel%40debian.org%3E%0A%20%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E%0A%20%3C1518357851.10848.9.camel%40debian.org%3E%0A%20%3C1518360898.15823.1.camel%40debian.org%3E%0A%20%3C20180218212739.2hjf6ydk2iixe55z%40jwilk.net%3E&amp;In-Reply-To=%3C20180218212739.2hjf6ydk2iixe55z%40jwilk.net%3E&amp;subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;body=On%20Sun%2C%2018%20Feb%202018%2022%3A27%3A39%20%2B0100%20Jakub%20Wilk%20%3Cjwilk%40jwilk.net%3E%20wrote%3A%0A%3E%20%3E%2Bmy%20%28%24major%2C%20%24minor%2C%20undef%29%20%3D%20split%28%2F%5C.%2F%2C%20%24git_version%29%3B%0A%3E%20%0A%3E%20You%20don%27t%20need%20trailing%20undef%20here.%20%28The%20number%20of%20components%20is%20a%20git%20%0A%3E%20version%20varies%20between%203%20and%204%2C%20so%20you%20can%27t%20make%20the%20number%20of%20items%20of%20%0A%3E%20the%20left%20side%20always%20match%20anyway.%29%0A%3E%20%0A%3E%20%3E%2B%09%09if%20%28%24git_unsafe%20%26%26%20%24git_url%20%21~%20%2F%5E%28%3F%3Ahttps%3F%7Cgit%7Cssh%7Cfile%29%3A%5B%5E%3A%5D%2F%29%20%7B%0A%3E%20%0A%3E%20SSH%20protocol%20has%20an%20alternative%20%28and%20I%20guess%20more%20popular%29%20scp-like%20%0A%3E%20syntax%3A%0A%3E%20%0A%3E%20%20%20%20%20%5Buser%40%5Dexample.org%3Apath%2Fto%2Frepo%0A%3E%20%0A%3E%20There%20are%20also%20two%20syntaxes%20for%20local%20repositories%2C%20although%20I%20think%20%0A%3E%20neither%20should%20be%20allowed.%20It%27s%20%2Aweb%2Acheckout%20after%20all...%0A%3E%20%0A%3E%20--%20%0A%3E%20Jakub%20Wilk%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jwilk%40jwilk.net" alt="">
<div class="header"><span class="headerfield">From:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Paul Wise &lt;pabs@debian.org&gt;, Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 18 Feb 2018 22:27:39 +0100</div>
</div>
<pre class="message flowed">&gt;+my ($major, $minor, undef) = split(/\./, $git_version);

You don&#39;t need trailing undef here. (The number of components is a git 
version varies between 3 and 4, so you can&#39;t make the number of items of 
the left side always match anyway.)

&gt;+		if ($git_unsafe &amp;&amp; $git_url !~ /^(?:https?|git|ssh|file):[^:]/) {

SSH protocol has an alternative (and I guess more popular) scp-like 
syntax:

   [user@]example.org:path/to/repo

There are also two syntaxes for local repositories, although I think 
neither should be allowed. It&#39;s *web*checkout after all...

-- 
Jakub Wilk


</pre>

<div class="infmessage"><hr><p>
<a name="38"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1519018743 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Mon, 19 Feb 2018 05:39:03 GMT) (<a href="bugreport.cgi?bug=840014;msg=39">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=39">mbox</a>, <a href="#38">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="40"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1519018744 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Richard Hartmann &lt;richih@debian.org&gt;</code>.
 (Mon, 19 Feb 2018 05:39:04 GMT) (<a href="bugreport.cgi?bug=840014;msg=41">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=41">mbox</a>, <a href="#40">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="42"></a><a name="msg42"></a><a href="#42">Message #42</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=42">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=42">mbox</a>, <a href="mailto:840014@bugs.debian.org?body=On%20Mon%2C%2019%20Feb%202018%2013%3A37%3A05%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20On%20Sun%2C%202018-02-18%20at%2022%3A27%20%2B0100%2C%20Jakub%20Wilk%20wrote%3A%0A%3E%20%0A%3E%20%3E%20You%20don%27t%20need%20trailing%20undef%20here.%0A%3E%20%0A%3E%20Tested%2C%20removed%0A%3E%20%0A%3E%20%3E%20SSH%20protocol%20has%20an%20alternative%20scp-like%20syntax%3A%0A%3E%20%0A%3E%20Added%2C%20hope%20I%20got%20the%20regex%20right.%0A%3E%20%0A%3E%20%3E%20There%20are%20also%20two%20syntaxes%20for%20local%20repositories%2C%20although%20I%20think%20%0A%3E%20%3E%20neither%20should%20be%20allowed.%20It%27s%20%2Aweb%2Acheckout%20after%20all...%0A%3E%20%0A%3E%20Blocked%20those.%0A%3E%20%0A%3E%20Updated%20patch%20attached.%0A%3E%20%0A%3E%20--%20%0A%3E%20bye%2C%0A%3E%20pabs%0A%3E%20%0A%3E%20https%3A%2F%2Fwiki.debian.org%2FPaulWise%0A&amp;subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C1517993966.5742.11.camel%40debian.org%3E%0A%09%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%09%20%3C1518141416.20834.15.camel%40debian.org%3E%0A%09%20%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E%0A%09%20%3C1518357851.10848.9.camel%40debian.org%3E%20%3C1518360898.15823.1.camel%40debian.org%3E%0A%09%20%3C20180218212739.2hjf6ydk2iixe55z%40jwilk.net%3E%0A%20%3C1519018625.31687.18.camel%40debian.org%3E&amp;In-Reply-To=%3C1519018625.31687.18.camel%40debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;, 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 19 Feb 2018 13:37:05 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=840014;msg=42">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On Sun, 2018-02-18 at 22:27 +0100, Jakub Wilk wrote:

&gt; You don&#39;t need trailing undef here.

Tested, removed

&gt; SSH protocol has an alternative scp-like syntax:

Added, hope I got the regex right.

&gt; There are also two syntaxes for local repositories, although I think 
&gt; neither should be allowed. It&#39;s *web*checkout after all...

Blocked those.

Updated patch attached.

-- 
bye,
pabs

<a href="https://wiki.debian.org/PaulWise">https://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=840014;filename=0001-Mitigate-vulnerabilities-caused-by-some-git-remotes-.patch;msg=42">0001-Mitigate-vulnerabilities-caused-by-some-git-remotes-.patch</a> (text/x-patch, attachment)]</pre>
<pre class="mime">[<a href="bugreport.cgi?att=2;bug=840014;filename=signature.asc;msg=42">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="43"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1519018745 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Mon, 19 Feb 2018 05:39:05 GMT) (<a href="bugreport.cgi?bug=840014;msg=44">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=44">mbox</a>, <a href="#43">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="45"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1519018745 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Richard Hartmann &lt;richih@debian.org&gt;</code>.
 (Mon, 19 Feb 2018 05:39:05 GMT) (<a href="bugreport.cgi?bug=840014;msg=46">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=46">mbox</a>, <a href="#45">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="47"></a><a name="msg47"></a><a href="#47">Message #47</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=47">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=47">mbox</a>, <a href="mailto:840014@bugs.debian.org?body=On%20Mon%2C%2019%20Feb%202018%2013%3A37%3A38%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20On%20Sun%2C%202018-02-18%20at%2022%3A27%20%2B0100%2C%20Jakub%20Wilk%20wrote%3A%0A%3E%20%0A%3E%20%3E%20You%20don%27t%20need%20trailing%20undef%20here.%0A%3E%20%0A%3E%20Tested%2C%20removed.%0A%3E%20%0A%3E%20%3E%20SSH%20protocol%20has%20an%20alternative%20scp-like%20syntax%3A%0A%3E%20%0A%3E%20Added%2C%20hope%20I%20got%20the%20regex%20right.%0A%3E%20%0A%3E%20%3E%20There%20are%20also%20two%20syntaxes%20for%20local%20repositories%2C%20although%20I%20think%20%0A%3E%20%3E%20neither%20should%20be%20allowed.%20It%27s%20%2Aweb%2Acheckout%20after%20all...%0A%3E%20%0A%3E%20Blocked%20those.%0A%3E%20%0A%3E%20Updated%20patch%20attached.%0A%3E%20%0A%3E%20--%20%0A%3E%20bye%2C%0A%3E%20pabs%0A%3E%20%0A%3E%20https%3A%2F%2Fwiki.debian.org%2FPaulWise%0A&amp;subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C1517993966.5742.11.camel%40debian.org%3E%0A%09%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%09%20%3C1518141416.20834.15.camel%40debian.org%3E%0A%09%20%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E%0A%09%20%3C1518357851.10848.9.camel%40debian.org%3E%20%3C1518360898.15823.1.camel%40debian.org%3E%0A%09%20%3C20180218212739.2hjf6ydk2iixe55z%40jwilk.net%3E%0A%20%3C1519018658.31687.20.camel%40debian.org%3E&amp;In-Reply-To=%3C1519018658.31687.20.camel%40debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;, 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 19 Feb 2018 13:37:38 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=840014;msg=47">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On Sun, 2018-02-18 at 22:27 +0100, Jakub Wilk wrote:

&gt; You don&#39;t need trailing undef here.

Tested, removed.

&gt; SSH protocol has an alternative scp-like syntax:

Added, hope I got the regex right.

&gt; There are also two syntaxes for local repositories, although I think 
&gt; neither should be allowed. It&#39;s *web*checkout after all...

Blocked those.

Updated patch attached.

-- 
bye,
pabs

<a href="https://wiki.debian.org/PaulWise">https://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=840014;filename=0001-Mitigate-vulnerabilities-caused-by-some-git-remotes-.patch;msg=47">0001-Mitigate-vulnerabilities-caused-by-some-git-remotes-.patch</a> (text/x-patch, attachment)]</pre>
<pre class="mime">[<a href="bugreport.cgi?att=2;bug=840014;filename=signature.asc;msg=47">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="48"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1519333923 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Thu, 22 Feb 2018 21:12:03 GMT) (<a href="bugreport.cgi?bug=840014;msg=49">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=49">mbox</a>, <a href="#48">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="50"></a><a name="msg50"></a><a href="#50">Message #50</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=50">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=50">mbox</a>, <a href="mailto:840014@bugs.debian.org?body=On%20Thu%2C%2022%20Feb%202018%2022%3A09%3A04%20%2B0100%20Jakub%20Wilk%20%3Cjwilk%40jwilk.net%3E%20wrote%3A%0A%3E%20%3E%24git_url%20%21~%20m%7B%5E%28%3F%3A%28%3F%3Ahttps%3F%7Cgit%7Cssh%29%3A%5B%5E%3A%5D%7C%28%3F%3A%5B-_.a-z0-9%5D%2B%40%29%3F%5B-_.a-z0-9%5D%2B%3A%28%3F%3A%5B%5E%3A%5D%7C%24%29%29%7D%29%20%7B%0A%3E%20%0A%3E%20Uppercase%20letter%20should%20be%20allowed%20in%20usernames%20and%20domains%2C%20I%20guess%3F%0A%3E%20%0A%3E%20This%20regexp%20matches%20%22foo%3A%2F%2Fbar%22%3B%20but%20this%20URL%20would%20make%20git%20execute%20%0A%3E%20remote%20helper%20%22foo%22%2C%20which%20might%20be%20unsafe.%20I%20suggest%20replacing%0A%3E%20%0A%3E%20%20%20%20%28%3F%3A%5B%5E%3A%5D%7C%24%29%0A%3E%20%0A%3E%20with%0A%3E%20%0A%3E%20%20%20%20%28%3F%21%3A%7C%2F%2F%29%0A%3E%20%0A%3E%20%3Eqw%28git%20clone%20-c%20protocol.file.allow%3Duser%20--%29%0A%3E%20%0A%3E%20qw%28git%20-c%20protocol.file.allow%3Duser%20clone%20--%29%20would%20be%20better%20here.%20%0A%3E%20The%20difference%20is%20that%20the%20former%20unnecessarily%20puts%20%0A%3E%20protocol.file.allow%3Duser%20in%20the%20repo%27s%20.git%2Fconfig.%0A%3E%20%0A%3E%20--%20%0A%3E%20Jakub%20Wilk%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20180222210904.2jrg6l3v7b7kv2z7%40jwilk.net%3E&amp;References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%20%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%20%3C1517993966.5742.11.camel%40debian.org%3E%0A%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%20%3C1518141416.20834.15.camel%40debian.org%3E%0A%20%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E%0A%20%3C1518357851.10848.9.camel%40debian.org%3E%0A%20%3C1518360898.15823.1.camel%40debian.org%3E%0A%20%3C20180218212739.2hjf6ydk2iixe55z%40jwilk.net%3E%0A%20%3C1519018658.31687.20.camel%40debian.org%3E%0A%20%3C20180222210904.2jrg6l3v7b7kv2z7%40jwilk.net%3E&amp;subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jwilk%40jwilk.net" alt="">
<div class="header"><span class="headerfield">From:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Paul Wise &lt;pabs@debian.org&gt;, Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 22 Feb 2018 22:09:04 +0100</div>
</div>
<pre class="message flowed">&gt;$git_url !~ m{^(?:(?:https?|git|ssh):[^:]|(?:[-_.a-z0-9]+@)?[-_.a-z0-9]+:(?:[^:]|$))}) {

Uppercase letter should be allowed in usernames and domains, I guess?

This regexp matches &quot;foo://bar&quot;; but this URL would make git execute 
remote helper &quot;foo&quot;, which might be unsafe. I suggest replacing

  (?:[^:]|$)

with

  (?!:|//)

&gt;qw(git clone -c protocol.file.allow=user --)

qw(git -c protocol.file.allow=user clone --) would be better here. 
The difference is that the former unnecessarily puts 
protocol.file.allow=user in the repo&#39;s .git/config.

-- 
Jakub Wilk


</pre>

<div class="infmessage"><hr><p>
<a name="51"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1519346345 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Fri, 23 Feb 2018 00:39:05 GMT) (<a href="bugreport.cgi?bug=840014;msg=52">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=52">mbox</a>, <a href="#51">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="53"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1519346345 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Richard Hartmann &lt;richih@debian.org&gt;</code>.
 (Fri, 23 Feb 2018 00:39:05 GMT) (<a href="bugreport.cgi?bug=840014;msg=54">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=54">mbox</a>, <a href="#53">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="55"></a><a name="msg55"></a><a href="#55">Message #55</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=55">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=55">mbox</a>, <a href="mailto:840014@bugs.debian.org?subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;References=%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C20161007162521.zxkqg3my6vtmojqm%40jwilk.net%3E%0A%09%20%3C1517993966.5742.11.camel%40debian.org%3E%0A%09%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%09%20%3C1518141416.20834.15.camel%40debian.org%3E%0A%09%20%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E%0A%09%20%3C1518357851.10848.9.camel%40debian.org%3E%20%3C1518360898.15823.1.camel%40debian.org%3E%0A%09%20%3C20180218212739.2hjf6ydk2iixe55z%40jwilk.net%3E%0A%09%20%3C1519018658.31687.20.camel%40debian.org%3E%0A%09%20%3C20180222210904.2jrg6l3v7b7kv2z7%40jwilk.net%3E%0A%20%3C1519346301.19616.32.camel%40debian.org%3E&amp;In-Reply-To=%3C1519346301.19616.32.camel%40debian.org%3E&amp;body=On%20Fri%2C%2023%20Feb%202018%2008%3A38%3A21%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20Control%3A%20tags%20-1%20%2B%20fixed-upstream%20patch%20upstream%0A%3E%20Control%3A%20forwarded%20-1%20http%3A%2F%2Fsource.myrepos.branchable.com%2F%3Fp%3Dsource.git%3Ba%3Dcommitdiff%3Bh%3D40a3df21c73f1bb1b6915cc6fa503f50814664c8%0A%3E%20%0A%3E%20On%20Thu%2C%202018-02-22%20at%2022%3A09%20%2B0100%2C%20Jakub%20Wilk%20wrote%3A%0A%3E%20%0A%3E%20%3E%20Uppercase%20letter%20should%20be%20allowed%20in%20usernames%20and%20domains%2C%20I%20guess%3F%0A%3E%20%0A%3E%20Added.%0A%3E%20%0A%3E%20%3E%20This%20regexp%20matches%20%22foo%3A%2F%2Fbar%22%3B%20but%20this%20URL%20would%20make%20git%20execute%20%0A%3E%20%3E%20remote%20helper%20%22foo%22%2C%20which%20might%20be%20unsafe.%20I%20suggest%20replacing%0A%3E%20%3E%20%0A%3E%20%3E%20%20%20%20%28%3F%3A%5B%5E%3A%5D%7C%24%29%0A%3E%20%3E%20%0A%3E%20%3E%20with%0A%3E%20%3E%20%0A%3E%20%3E%20%20%20%20%28%3F%21%3A%7C%2F%2F%29%0A%3E%20%0A%3E%20Replaced.%0A%3E%20%0A%3E%20%3E%20qw%28git%20-c%20protocol.file.allow%3Duser%20clone%20--%29%20would%20be%20better%20here.%20%0A%3E%20%3E%20The%20difference%20is%20that%20the%20former%20unnecessarily%20puts%20%0A%3E%20%3E%20protocol.file.allow%3Duser%20in%20the%20repo%27s%20.git%2Fconfig.%0A%3E%20%0A%3E%20Used%20that%20instead.%0A%3E%20%0A%3E%20I%27ve%20pushed%20the%20commit%20upstream%20to%20the%20URL%20above.%0A%3E%20%0A%3E%20--%20%0A%3E%20bye%2C%0A%3E%20pabs%0A%3E%20%0A%3E%20https%3A%2F%2Fwiki.debian.org%2FPaulWise%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;, 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 23 Feb 2018 08:38:21 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=840014;msg=55">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Control: tags -1 + fixed-upstream patch upstream
Control: forwarded -1 <a href="http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=40a3df21c73f1bb1b6915cc6fa503f50814664c8">http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=40a3df21c73f1bb1b6915cc6fa503f50814664c8</a>

On Thu, 2018-02-22 at 22:09 +0100, Jakub Wilk wrote:

&gt; Uppercase letter should be allowed in usernames and domains, I guess?

Added.

&gt; This regexp matches &quot;foo://bar&quot;; but this URL would make git execute 
&gt; remote helper &quot;foo&quot;, which might be unsafe. I suggest replacing
&gt; 
&gt;    (?:[^:]|$)
&gt; 
&gt; with
&gt; 
&gt;    (?!:|//)

Replaced.

&gt; qw(git -c protocol.file.allow=user clone --) would be better here. 
&gt; The difference is that the former unnecessarily puts 
&gt; protocol.file.allow=user in the repo&#39;s .git/config.

Used that instead.

I&#39;ve pushed the commit upstream to the URL above.

-- 
bye,
pabs

<a href="https://wiki.debian.org/PaulWise">https://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=840014;filename=signature.asc;msg=55">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="56"></a>
<!-- command:tag -->
<!-- requester: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- request_addr: 840014-submit@bugs.debian.org -->
<!-- time:1519346346 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;fixed-upstream patch security upstream&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;security&#39;
            };
-->
<strong>Added tag(s) fixed-upstream, patch, and upstream.</strong>
Request was from <code>Paul Wise &lt;pabs@debian.org&gt;</code>
to <code>840014-submit@bugs.debian.org</code>.
 (Fri, 23 Feb 2018 00:39:06 GMT) (<a href="bugreport.cgi?bug=840014;msg=57">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=57">mbox</a>, <a href="#56">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="58"></a>
<!-- command:forwarded -->
<!-- requester: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- request_addr: 840014-submit@bugs.debian.org -->
<!-- time:1519346346 -->
<!-- new_data:
$new_data = {
              &#39;forwarded&#39; =&gt; &#39;<a href="http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=40a3df21c73f1bb1b6915cc6fa503f50814664c8">http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=40a3df21c73f1bb1b6915cc6fa503f50814664c8</a>&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;forwarded&#39; =&gt; &#39;&#39;
            };
-->
<strong>Set Bug forwarded-to-address to &#39;<a href="http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=40a3df21c73f1bb1b6915cc6fa503f50814664c8">http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=40a3df21c73f1bb1b6915cc6fa503f50814664c8</a>&#39;.</strong>
Request was from <code>Paul Wise &lt;pabs@debian.org&gt;</code>
to <code>840014-submit@bugs.debian.org</code>.
 (Fri, 23 Feb 2018 00:39:06 GMT) (<a href="bugreport.cgi?bug=840014;msg=59">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=59">mbox</a>, <a href="#58">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="60"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1519494663 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Sat, 24 Feb 2018 17:51:03 GMT) (<a href="bugreport.cgi?bug=840014;msg=61">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=61">mbox</a>, <a href="#60">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="62"></a><a name="msg62"></a><a href="#62">Message #62</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=62">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=62">mbox</a>, <a href="mailto:840014@bugs.debian.org?body=On%20Sat%2C%2024%20Feb%202018%2018%3A46%3A36%20%2B0100%20Jakub%20Wilk%20%3Cjwilk%40jwilk.net%3E%20wrote%3A%0A%3E%20%3Eif%20%28int%28%24major%29%20%3E%3D%202%20%26%26%20int%28%24minor%29%20%3E%3D%2012%29%20%7B%0A%3E%20%0A%3E%20%22%3E%3D%22%20compares%20numerically%20even%20when%20arguments%20are%20strings%2C%20so%20the%20int%28%29%20%0A%3E%20calls%20aren%27t%20needed%20here.%0A%3E%20%0A%3E%20More%20importantly%2C%20this%20will%20break%20when%20Git%203.0%20is%20released%2C%20because%20%0A%3E%20int%28%24minor%29%20%3E%3D%2012%20will%20be%20no%20longer%20true.%0A%3E%20%0A%3E%20--%20%0A%3E%20Jakub%20Wilk%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization&amp;References=%3C1517993966.5742.11.camel%40debian.org%3E%0A%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%20%3C1518141416.20834.15.camel%40debian.org%3E%0A%20%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E%0A%20%3C1518357851.10848.9.camel%40debian.org%3E%0A%20%3C1518360898.15823.1.camel%40debian.org%3E%0A%20%3C20180218212739.2hjf6ydk2iixe55z%40jwilk.net%3E%0A%20%3C1519018658.31687.20.camel%40debian.org%3E%0A%20%3C20180222210904.2jrg6l3v7b7kv2z7%40jwilk.net%3E%0A%20%3C1519346301.19616.32.camel%40debian.org%3E%0A%20%3C20180224174636.44bootspe673befx%40jwilk.net%3E&amp;In-Reply-To=%3C20180224174636.44bootspe673befx%40jwilk.net%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jwilk%40jwilk.net" alt="">
<div class="header"><span class="headerfield">From:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Paul Wise &lt;pabs@debian.org&gt;, Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 24 Feb 2018 18:46:36 +0100</div>
</div>
<pre class="message flowed">&gt;if (int($major) &gt;= 2 &amp;&amp; int($minor) &gt;= 12) {

&quot;&gt;=&quot; compares numerically even when arguments are strings, so the int() 
calls aren&#39;t needed here.

More importantly, this will break when Git 3.0 is released, because 
int($minor) &gt;= 12 will be no longer true.

-- 
Jakub Wilk


</pre>

<div class="infmessage"><hr><p>
<a name="63"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt; -->
<!-- time:1519520942 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Richard Hartmann &lt;richih@debian.org&gt;</code>:<br>
<code>Bug#840014</code>; Package <code>myrepos</code>.
 (Sun, 25 Feb 2018 01:09:02 GMT) (<a href="bugreport.cgi?bug=840014;msg=64">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=64">mbox</a>, <a href="#63">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="65"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1519520942 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Richard Hartmann &lt;richih@debian.org&gt;</code>.
 (Sun, 25 Feb 2018 01:09:02 GMT) (<a href="bugreport.cgi?bug=840014;msg=66">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=66">mbox</a>, <a href="#65">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="67"></a><a name="msg67"></a><a href="#67">Message #67</a> received at 840014@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=67">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=67">mbox</a>, <a href="mailto:840014@bugs.debian.org?body=On%20Sun%2C%2025%20Feb%202018%2009%3A05%3A17%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20On%20Sat%2C%202018-02-24%20at%2018%3A46%20%2B0100%2C%20Jakub%20Wilk%20wrote%3A%0A%3E%20%0A%3E%20%3E%20%22%3E%3D%22%20compares%20numerically%20even%20when%20arguments%20are%20strings%2C%20so%20the%20int%28%29%20%0A%3E%20%3E%20calls%20aren%27t%20needed%20here.%0A%3E%20%3E%20%0A%3E%20%3E%20More%20importantly%2C%20this%20will%20break%20when%20Git%203.0%20is%20released%2C%20because%20%0A%3E%20%3E%20int%28%24minor%29%20%3E%3D%2012%20will%20be%20no%20longer%20true.%0A%3E%20%0A%3E%20Fixed%20in%20git%3A%0A%3E%20%0A%3E%20http%3A%2F%2Fsource.myrepos.branchable.com%2F%3Fp%3Dsource.git%3Ba%3Dcommitdiff%3Bh%3D6808ec71ba7ae13f3cf755561aa4165e4f623f0d%0A%3E%20%0A%3E%20--%20%0A%3E%20bye%2C%0A%3E%20pabs%0A%3E%20%0A%3E%20https%3A%2F%2Fwiki.debian.org%2FPaulWise%0A&amp;In-Reply-To=%3C1519520717.12832.8.camel%40debian.org%3E&amp;References=%3C1517993966.5742.11.camel%40debian.org%3E%0A%09%20%3C20180208204414.m4gddk32gag3qxly%40jwilk.net%3E%0A%09%20%3C1518141416.20834.15.camel%40debian.org%3E%0A%09%20%3C20180211130901.5xzqxcmjlxrjm7py%40jwilk.net%3E%0A%09%20%3C1518357851.10848.9.camel%40debian.org%3E%20%3C1518360898.15823.1.camel%40debian.org%3E%0A%09%20%3C20180218212739.2hjf6ydk2iixe55z%40jwilk.net%3E%0A%09%20%3C1519018658.31687.20.camel%40debian.org%3E%0A%09%20%3C20180222210904.2jrg6l3v7b7kv2z7%40jwilk.net%3E%0A%09%20%3C1519346301.19616.32.camel%40debian.org%3E%0A%09%20%3C20180224174636.44bootspe673befx%40jwilk.net%3E%0A%20%3C1519520717.12832.8.camel%40debian.org%3E&amp;subject=Re%3A%20Bug%23840014%3A%20webcheckout%3A%20missing%20URL%20sanitization">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;, 840014@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Debian Security Team &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#840014: webcheckout: missing URL sanitization</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 25 Feb 2018 09:05:17 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=840014;msg=67">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On Sat, 2018-02-24 at 18:46 +0100, Jakub Wilk wrote:

&gt; &quot;&gt;=&quot; compares numerically even when arguments are strings, so the int() 
&gt; calls aren&#39;t needed here.
&gt; 
&gt; More importantly, this will break when Git 3.0 is released, because 
&gt; int($minor) &gt;= 12 will be no longer true.

Fixed in git:

<a href="http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=6808ec71ba7ae13f3cf755561aa4165e4f623f0d">http://source.myrepos.branchable.com/?p=source.git;a=commitdiff;h=6808ec71ba7ae13f3cf755561aa4165e4f623f0d</a>

-- 
bye,
pabs

<a href="https://wiki.debian.org/PaulWise">https://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=840014;filename=signature.asc;msg=67">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="68"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1532587149 -->
<strong>Reply sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Thu, 26 Jul 2018 06:39:09 GMT) (<a href="bugreport.cgi?bug=840014;msg=69">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=69">mbox</a>, <a href="#68">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="70"></a>
<!-- request_addr: Jakub Wilk &lt;jwilk@debian.org&gt; -->
<!-- time:1532587149 -->
<strong>Notification sent</strong>
to <code>Jakub Wilk &lt;jwilk@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Thu, 26 Jul 2018 06:39:09 GMT) (<a href="bugreport.cgi?bug=840014;msg=71">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=71">mbox</a>, <a href="#70">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="72"></a><a name="msg72"></a><a href="#72">Message #72</a> received at 840014-close@bugs.debian.org (<a href="bugreport.cgi?bug=840014;msg=72">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=72">mbox</a>, <a href="mailto:840014@bugs.debian.org?In-Reply-To=%3CE1fiZsw-0007t3-2q%40fasolo.debian.org%3E&amp;References=%3CE1fiZsw-0007t3-2q%40fasolo.debian.org%3E&amp;subject=Re%3A%20Bug%23840014%3A%20fixed%20in%20myrepos%201.20180726&amp;body=On%20Thu%2C%2026%20Jul%202018%2006%3A36%3A26%20%2B0000%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20myrepos%0A%3E%20Source-Version%3A%201.20180726%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20myrepos%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20840014%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20%28supplier%20of%20updated%20myrepos%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Thu%2C%2026%20Jul%202018%2014%3A14%3A21%20%2B0800%0A%3E%20Source%3A%20myrepos%0A%3E%20Binary%3A%20myrepos%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%201.20180726%0A%3E%20Distribution%3A%20unstable%0A%3E%20Urgency%3A%20medium%0A%3E%20Maintainer%3A%20Richard%20Hartmann%20%3Crichih%40debian.org%3E%0A%3E%20Changed-By%3A%20Paul%20Wise%20%3Cpabs%40debian.org%3E%0A%3E%20Description%3A%0A%3E%20%20myrepos%20%20%20%20-%20tool%20to%20manage%20all%20your%20version%20control%20repos%0A%3E%20Closes%3A%20813738%20828827%20840014%20849600%0A%3E%20Changes%3A%0A%3E%20%20myrepos%20%281.20180726%29%20unstable%3B%20urgency%3Dmedium%0A%3E%20%20.%0A%3E%20%20%20%20%5B%20Andrew%20Bradford%20%5D%0A%3E%20%20%20%20%2A%20Suggest%20perl-doc%20%28Closes%3A%20%23813738%29%0A%3E%20%20.%0A%3E%20%20%20%20%5B%20Mark%20Haber%20%5D%0A%3E%20%20%20%20%2A%20Fix%20hours_since%20for%20git%20fake%20bare%20repos%20%28Closes%3A%20%23828827%29%0A%3E%20%20.%0A%3E%20%20%20%20%5B%20Tom%20Hoover%20%5D%0A%3E%20%20%20%20%2A%20Fix%20%27no%20defined%20update%20command%20error%27%20in%20example%20config%0A%3E%20%20.%0A%3E%20%20%20%20%5B%20Pavel%20Nakonechnyi%20%5D%0A%3E%20%20%20%20%2A%20More%20meaningful%20names%20for%20temporary%20files%0A%3E%20%20.%0A%3E%20%20%20%20%5B%20Paul%20Wise%20%5D%0A%3E%20%20%20%20%2A%20Mitigate%20vulns%20caused%20by%20git%20code%20execution%20%28Closes%3A%20%23840014%2C%20CVE-2018-7032%29%0A%3E%20%20%20%20%2A%20Migrate%20from%20ack-grep%20to%20ack%20%28Closes%3A%20%23849600%29%0A%3E%20%20%20%20%2A%20More%20reliable%20output%20supervision%0A%3E%20%20%20%20%2A%20Allow%20prepending%20commands%20to%20existing%20commands%0A%3E%20%20%20%20%2A%20Allow%20for%20fallback%20to%20default%20commands%0A%3E%20%20%20%20%2A%20Add%20support%20for%20caching%20command%20output%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 840014-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#840014: fixed in myrepos 1.20180726</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 26 Jul 2018 06:36:26 +0000</div>
</div>
<pre class="message">Source: myrepos
Source-Version: 1.20180726

We believe that the bug you reported is fixed in the latest version of
myrepos, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 840014@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Paul Wise &lt;pabs@debian.org&gt; (supplier of updated myrepos package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Thu, 26 Jul 2018 14:14:21 +0800
Source: myrepos
Binary: myrepos
Architecture: source
Version: 1.20180726
Distribution: unstable
Urgency: medium
Maintainer: Richard Hartmann &lt;richih@debian.org&gt;
Changed-By: Paul Wise &lt;pabs@debian.org&gt;
Description:
 myrepos    - tool to manage all your version control repos
Closes: <a href="bugreport.cgi?bug=813738">813738</a> <a href="bugreport.cgi?bug=828827">828827</a> <a href="bugreport.cgi?bug=840014">840014</a> <a href="bugreport.cgi?bug=849600">849600</a>
Changes:
 myrepos (1.20180726) unstable; urgency=medium
 .
   [ Andrew Bradford ]
   * Suggest perl-doc (Closes: #<a href="bugreport.cgi?bug=813738">813738</a>)
 .
   [ Mark Haber ]
   * Fix hours_since for git fake bare repos (Closes: #<a href="bugreport.cgi?bug=828827">828827</a>)
 .
   [ Tom Hoover ]
   * Fix &#39;no defined update command error&#39; in example config
 .
   [ Pavel Nakonechnyi ]
   * More meaningful names for temporary files
 .
   [ Paul Wise ]
   * Mitigate vulns caused by git code execution (Closes: #<a href="bugreport.cgi?bug=840014">840014</a>, <a href="https://security-tracker.debian.org/tracker/CVE-2018-7032">CVE-2018-7032</a>)
   * Migrate from ack-grep to ack (Closes: #<a href="bugreport.cgi?bug=849600">849600</a>)
   * More reliable output supervision
   * Allow prepending commands to existing commands
   * Allow for fallback to default commands
   * Add support for caching command output
   * Add graph, remote, upgrade extensions
   * Improve the status output for CVS
   * Improve the git-cvs extension
   * Add shell extension to maintain a repo status cache
   * git registration improvements
   * webcheckout: prefer https transport
   * Suggest more tools that are used
   * Various packaging cleanups
Checksums-Sha1:
 2cb324a1b82512a055643b61888a5356505930bb 1650 myrepos_1.20180726.dsc
 179b646fceef652af959a31f819ca5e5e484d7cb 60388 myrepos_1.20180726.tar.xz
 f2e3ab43ce953ea75704b71ec862bb3fe9993b95 6223 myrepos_1.20180726_amd64.buildinfo
Checksums-Sha256:
 6ec574242cd45cbda0b60f82a75f7aa9550142a975a3ed019f13c923ee2a643e 1650 myrepos_1.20180726.dsc
 9e9e4c114aae22e0aac51ecbc8d84ae617a5e5dfa979fab0d3bc42945f603f1e 60388 myrepos_1.20180726.tar.xz
 6b1691d8b882aa4eacc7ec866b5b7cfabbb858e04f276415715a6668138f4014 6223 myrepos_1.20180726_amd64.buildinfo
Files:
 4d4ba1c413dead5cf1953e11712484d6 1650 vcs optional myrepos_1.20180726.dsc
 901589ef6535ab00584784e38126c6ab 60388 vcs optional myrepos_1.20180726.tar.xz
 7223ce17f3369d6983333dbb92fbbf19 6223 vcs optional myrepos_1.20180726_amd64.buildinfo

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEYQsotVz8/kXqG1Y7MRa6Xp/6aaMFAltZafcACgkQMRa6Xp/6
aaP+mRAApuFpSBasvDegxfFIL2iTq2YrbW8cLCk/6IuqXIWBSfio2YMvCaRp7Bz0
us09SZpYC6v+k56879g1gum0QvZ7bkJQT2wNf+lk0H2HDTB+pBSflsQrUp3YqyXv
yvuFoakXemya5z3NwUQJ+zsRaVV9Ja9QEI6SnYcKCyy+f2kFrIUi1urEugAe67tQ
x64u2KCTYkcrlr8CDiT+oJt+CHbElHNozsOgOC2K8UWe5ep7JhKxRxIPK9mVtiBb
lCN6Q5/zz+01DoXkrqq7v+PsB+UAu+ZipGzOQ1FNoich5XSXlnTMdb4zNwGH7EPD
dO+cVNiwzsKFbXWKAgZO9iSdv3LXn5aZRxAYKEGC5oaLTlB+Cj2h3u1Uito3KDJ8
jB5wtkW/W9fU7eOpbqVO0zz4vosBa+MC/6SDWFFy9imDeGabenfNbZ1jpZygaQs6
wOITuw9ENw2DCLuVEnVdGgA56rC330Sak9vNcAz1VgsDzdno5Pa6lzsxUmh5mkAn
MNok4Kb/AYNGiZsglD5OwT5ZYlFtuNyypun5zHht07Lat67IUhw34HrHUwhtVBLG
ZZi07u53np+Xw70piZ+gaHSl2JGWyXyP1ycXT8y7Bgaix/7iVOjKSBCcKbfi6/Sa
ewIw3zWIDV2CGSkyFdY11Tjy2Vl230jtA6beJTQ7iD28UzUzDMY=
=vksk
-----END PGP SIGNATURE-----



</pre>

<div class="msgreceived"><hr><p>
<a name="73"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1535181958 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Sat, 25 Aug 2018 07:25:58 GMT) (<a href="bugreport.cgi?bug=840014;msg=74">full text</a>, <a href="bugreport.cgi?bug=840014;mbox=yes;msg=74">mbox</a>, <a href="#73">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=840014">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:13:20 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->bembo<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
