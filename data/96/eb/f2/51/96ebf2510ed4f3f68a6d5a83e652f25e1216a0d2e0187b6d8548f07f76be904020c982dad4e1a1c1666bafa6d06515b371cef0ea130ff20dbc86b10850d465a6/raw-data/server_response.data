<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dovecot-news] CVE-2019-10691: JSON encoder in Dovecot 2.3 incorrecty assert-crashes when encountering invalid UTF-8 characters.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:dovecot-news%40dovecot.org?Subject=Re:%20Re%3A%20%5BDovecot-news%5D%20CVE-2019-10691%3A%20JSON%20encoder%20in%20Dovecot%202.3%0A%20incorrecty%20assert-crashes%20when%20encountering%20invalid%20UTF-8%20characters.&In-Reply-To=%3C4462d8a6-37c2-9125-924e-68e5e792adb4%40open-xchange.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000407.html">
   <LINK REL="Next"  HREF="000408.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dovecot-news] CVE-2019-10691: JSON encoder in Dovecot 2.3 incorrecty assert-crashes when encountering invalid UTF-8 characters.</H1>
    <B>Aki Tuomi</B> 
    <A HREF="mailto:dovecot-news%40dovecot.org?Subject=Re:%20Re%3A%20%5BDovecot-news%5D%20CVE-2019-10691%3A%20JSON%20encoder%20in%20Dovecot%202.3%0A%20incorrecty%20assert-crashes%20when%20encountering%20invalid%20UTF-8%20characters.&In-Reply-To=%3C4462d8a6-37c2-9125-924e-68e5e792adb4%40open-xchange.com%3E"
       TITLE="[Dovecot-news] CVE-2019-10691: JSON encoder in Dovecot 2.3 incorrecty assert-crashes when encountering invalid UTF-8 characters.">aki.tuomi at open-xchange.com
       </A><BR>
    <I>Thu Apr 18 12:06:06 EEST 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="000407.html">[Dovecot-news] v2.3.5.2 released
</A></li>
        <LI>Next message: <A HREF="000408.html">[Dovecot-news] Dovecot release v2.3.6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#406">[ date ]</a>
              <a href="thread.html#406">[ thread ]</a>
              <a href="subject.html#406">[ subject ]</a>
              <a href="author.html#406">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear subscribers,

we're sharing our latest advisory with you and would like to thank
everyone who contributed in finding and solving those vulnerabilities.
Feel free to join our bug bounty programs (open-xchange, dovecot,
powerdns) at HackerOne.

You can find binary packages at <A HREF="https://repo.dovecot.org/">https://repo.dovecot.org/</A>

Yours sincerely,
Aki Tuomi
Open-Xchange Oy

Open-Xchange Security Advisory 2019-04-18
Product: Dovecot
Vendor: OX Software GmbH

Internal reference: DOV-3173 (Bug ID)
Vulnerability type: CWE-176
Vulnerable version: 2.3.0 - 2.3.5.1
Vulnerable component: json encoder
Report confidence: Confirmed
Researcher credits: cPanel L.L.C.
Solution status: Fixed by Vendor
Fixed version: 2.3.5.2
Vendor notification: 2019-04-02
Solution date: 2019-04-11
Public disclosure: 2019-04-18
CVE reference: CVE-2019-10691
CVSS: 7.5 (CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H)
&#160;
Vulnerability Details:
JSON encoder in Dovecot 2.3 incorrecty assert-crashes when encountering
invalid UTF-8 characters. This can be used to crash dovecot in two ways.
Attacker can repeatedly crash Dovecot authentication process by logging
in using invalid UTF-8 sequence in username. This requires that auth
policy is enabled.
Crash can also occur if OX push notification driver is enabled and an
email is delivered with invalid UTF-8 sequence in From or Subject header.
In 2.2, malformed UTF-8 sequences are forwarded &quot;as-is&quot;, and thus do not
cause problems in Dovecot itself. Target systems should be checked for
possible problems in dealing with such sequences.
See <A HREF="https://wiki.dovecot.org/Authentication/Policy">https://wiki.dovecot.org/Authentication/Policy</A> for details on auth
policy support.

Risk:
Determined attacker can prevent authentication process from staying up
by keeping on attempting to log in with username containing invalid
UTF-8 sequence.
Steps to reproduce:
Configure dovecot with auth_policy_server_url and auth_policy_hash_nonce
set.
Attempt to log in with username containing an invalid UTF-8 sequence
Observe assert-crash in dovecot logs.

Solution:
Operators should update to the latest Patch Release or disable auth
policy support.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://dovecot.org/pipermail/dovecot-news/attachments/20190418/e9d98b71/attachment.sig">https://dovecot.org/pipermail/dovecot-news/attachments/20190418/e9d98b71/attachment.sig</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000407.html">[Dovecot-news] v2.3.5.2 released
</A></li>
	<LI>Next message: <A HREF="000408.html">[Dovecot-news] Dovecot release v2.3.6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#406">[ date ]</a>
              <a href="thread.html#406">[ thread ]</a>
              <a href="subject.html#406">[ subject ]</a>
              <a href="author.html#406">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://dovecot.org/mailman/listinfo/dovecot-news">More information about the Dovecot-news
mailing list</a><br>
</body></html>
