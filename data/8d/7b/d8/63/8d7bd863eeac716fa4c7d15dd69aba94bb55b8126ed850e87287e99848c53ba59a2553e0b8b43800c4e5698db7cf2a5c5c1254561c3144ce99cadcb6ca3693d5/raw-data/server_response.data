<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1682368 “refcount underflow / kernel NULL dereference after...” : Bugs : linux package : Ubuntu</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1682368" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1682368/bug.atom" title="Bug 1682368 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="== SRU Justification ==

Impact: adding a tc filter sometimes fails, potentially followed by kernel hangs and kernel NULL pointer dereference

Fix: proposed upstream by Wolfgang Bumiller [1,2]

Regression Potential: Since nobody else noticed this issue in 4.11 &gt;= rc1 or Ubuntu 4.10 &gt;= 15.17, and the fix only touches the broken code, the regression potential should be minimal ;)

1: http://marc.info/?l=linux-netdev&amp;m=149200746116365
2: http://marc.info/?l=linux-netdev&amp;m=149200742616349

---

C..." />
      <meta property="og:description" content="== SRU Justification ==

Impact: adding a tc filter sometimes fails, potentially followed by kernel hangs and kernel NULL pointer dereference

Fix: proposed upstream by Wolfgang Bumiller [1,2]

Regression Potential: Since nobody else noticed this issue in 4.11 &gt;= rc1 or Ubuntu 4.10 &gt;= 15.17, and the fix only touches the broken code, the regression potential should be minimal ;)

1: http://marc.info/?l=linux-netdev&amp;m=149200746116365
2: http://marc.info/?l=linux-netdev&amp;m=149200742616349

---

C..." />
    

    
    
      <meta property="og:title" content="Bug #1682368 “refcount underflow / kernel NULL dereference after...” : Bugs : linux package : Ubuntu" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1682368" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["a11y", "appstream", "bionic", "bisect-done", "bitesize", "cherry-pick", "community-security", "desktop-file", "disco", "dist-upgrade", "focal", "ftbfs", "groovy", "hirsute", "hw-specific", "impish", "jammy", "kernel-bug", "manpage", "metabug", "multiarch", "needs-bisect", "needs-design", "needs-packaging", "needs-reassignment", "package-conflict", "packaging", "patch", "patch-accepted-debian", "patch-accepted-upstream", "patch-forwarded-debian", "patch-forwarded-upstream", "patch-needswork", "patch-rejected", "patch-rejected-debian", "patch-rejected-upstream", "performing-bisect", "py2-removal", "qt4-removal", "regression-proposed", "regression-release", "regression-update", "string-fix", "suspend-resume", "systemd-boot", "testcase", "touch", "unmetdeps", "upgrade-software-version", "verification-done-bionic", "verification-done-focal", "verification-done-groovy", "verification-done-hirsute", "verification-done-impish", "verification-done-xenial", "verification-failed-bionic", "verification-failed-groovy", "verification-failed-impish", "verification-failed-xenial", "verification-needed-bionic", "verification-needed-focal", "verification-needed-groovy", "verification-needed-hirsute", "verification-needed-impish", "verification-needed-trusty", "verification-needed-xenial", "wayland", "xenial"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/ubuntu"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/49558155/64_logo.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/ubuntu">Ubuntu</a><br /><a href="https://launchpad.net/ubuntu/+source/linux">linux package</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/ubuntu/+source/linux">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/ubuntu/+source/linux">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/ubuntu/+source/linux">Bugs</a></li>
      
      
    
    
      
      
      <li class="specifications disabled-tab"><span>Blueprints</span></li>
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/ubuntu/+source/linux">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/ubuntu/+source/linux">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    refcount underflow / kernel NULL dereference after attempting to add basic tc filter
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1682368 reported by
      <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler</a>
      <time title="2017-04-13 08:37:05 UTC" datetime="2017-04-13T08:37:05.697537+00:00">on 2017-04-13</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">258</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary2231002">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2231002">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/linux" title="Latest release: 5.11.0-40.44, uploaded to main on 2021-10-20 14:31:33.255814+00:00 by Stefan Bader (smb), maintained by Ubuntu Kernel Team (kernel-team)">linux (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceMEDIUM">Medium</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2231002">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~f-gruenbichler">Fabian Grünbichler</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2231002">
     <td colspan="7"><form action="/ubuntu/+source/linux/+bug/1682368/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/+source/linux">linux (Ubuntu)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2017-04-13 08:37:05 UTC" datetime="2017-04-13T08:37:05.697537+00:00">2017-04-13</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2017-04-13 09:21:58 UTC" datetime="2017-04-13T09:21:58.737652+00:00">2017-04-13</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2017-04-13 10:48:36 UTC" datetime="2017-04-13T10:48:36.847801+00:00">2017-04-13</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2017-04-13 10:48:10 UTC" datetime="2017-04-13T10:48:10.382933+00:00">2017-04-13</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2017-06-01 20:50:02 UTC" datetime="2017-06-01T20:50:02.267699+00:00">2017-06-01</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ubuntu_linux.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ubuntu_linux.target.option.package" name="ubuntu_linux.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ubuntu_linux.target.distribution" name="ubuntu_linux.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ubuntu_linux.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ubuntu_linux.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="linux" id="ubuntu_linux.target.package"
                         name="ubuntu_linux.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_linux.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_linux.target.package');
              var select_menu = Y.DOM.byId('ubuntu_linux.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_linux-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_team_text": "Remove team", "header": "Select a package", "show_remove_button": false, "selected_value": "linux", "step_title": "Search by name", "show_assign_me_button": false, "vocabulary_filters": [], "vocabulary_name": "DistributionPackage", "input_element": "ubuntu_linux.target.package", "show_widget_id": "show-widget-ubuntu_linux-target-package", "assign_me_text": "Pick me", "show_create_team": false, "remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "selected_value_metadata": null};
        var show_widget_id = 'show-widget-ubuntu_linux-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" id="ubuntu_linux.target.option.product" name="ubuntu_linux.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ubuntu_linux.target.product"
                         name="ubuntu_linux.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_linux.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_linux.target.product');
              var select_menu = Y.DOM.byId('ubuntu_linux.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_linux-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_team_text": "Remove team", "header": "Select a project", "show_remove_button": false, "selected_value": null, "step_title": "Search", "show_assign_me_button": false, "vocabulary_filters": [], "vocabulary_name": "Product", "input_element": "ubuntu_linux.target.product", "show_widget_id": "show-widget-ubuntu_linux-target-product", "assign_me_text": "Pick me", "show_create_team": false, "remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "selected_value_metadata": null};
        var show_widget_id = 'show-widget-ubuntu_linux-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_linux.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_linux.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_linux.status" name="ubuntu_linux.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_linux.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceMEDIUM">Medium</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_linux.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_linux.assignee.assign_to_me" name="ubuntu_linux.assignee.option" value="ubuntu_linux.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_linux.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_linux.assignee.assigned_to" name="ubuntu_linux.assignee.option" value="ubuntu_linux.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_linux.assignee.assigned_to">
              Fabian Grünbichler (f-gruenbichler)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_linux.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_linux.comment_on_change" name="ubuntu_linux.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2231033">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/zesty/+source/linux/+bug/1682368/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/zesty/+source/linux">Zesty</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/zesty/+source/linux/+bug/1682368/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/zesty/+source/linux/+bug/1682368/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceMEDIUM">Medium</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2231033">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~f-gruenbichler">Fabian Grünbichler</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2231033">
     <td colspan="7"><form action="/ubuntu/zesty/+source/linux/+bug/1682368/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/zesty/+source/linux">linux (Ubuntu Zesty)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~jsalisbury" class="sprite person">Joseph Salisbury</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2017-04-13 10:48:01 UTC" datetime="2017-04-13T10:48:01.512616+00:00">2017-04-13</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2017-04-13 09:21:58 UTC" datetime="2017-04-13T09:21:58.737652+00:00">2017-04-13</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2017-04-13 10:48:36 UTC" datetime="2017-04-13T10:48:36.847801+00:00">2017-04-13</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2017-04-13 10:48:10 UTC" datetime="2017-04-13T10:48:10.382933+00:00">2017-04-13</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2017-06-06 13:14:06 UTC" datetime="2017-06-06T13:14:06.420489+00:00">2017-06-06</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_zesty_linux.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="linux" id="ubuntu_zesty_linux.sourcepackagename"
                         name="ubuntu_zesty_linux.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_zesty_linux.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_zesty_linux.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_zesty_linux-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"remove_team_text": "Remove team", "header": "Select a package", "show_remove_button": false, "selected_value": "linux", "step_title": "Search by name", "show_assign_me_button": false, "vocabulary_filters": [], "vocabulary_name": "DistributionSourcePackage", "input_element": "ubuntu_zesty_linux.sourcepackagename", "show_widget_id": "show-widget-ubuntu_zesty_linux-sourcepackagename", "assign_me_text": "Pick me", "show_create_team": false, "remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "selected_value_metadata": null};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_zesty_linux-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_zesty_linux.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_zesty_linux.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_zesty_linux.status" name="ubuntu_zesty_linux.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_zesty_linux.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceMEDIUM">Medium</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_zesty_linux.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_zesty_linux.assignee.assign_to_me" name="ubuntu_zesty_linux.assignee.option" value="ubuntu_zesty_linux.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_zesty_linux.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_zesty_linux.assignee.assigned_to" name="ubuntu_zesty_linux.assignee.option" value="ubuntu_zesty_linux.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_zesty_linux.assignee.assigned_to">
              Fabian Grünbichler (f-gruenbichler)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_zesty_linux.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_zesty_linux.comment_on_change" name="ubuntu_zesty_linux.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>== SRU Justification ==</p>
<p>Impact: adding a tc filter sometimes fails, potentially followed by kernel hangs and kernel NULL pointer dereference</p>
<p>Fix: proposed upstream by Wolfgang Bumiller [1,2]</p>
<p>Regression Potential: Since nobody else noticed this issue in 4.11 &gt;= rc1 or Ubuntu 4.10 &gt;= 15.17, and the fix only touches the broken code, the regression potential should be minimal ;)</p>
<p>1: <a rel="nofollow" href="http://marc.info/?l=linux-netdev&amp;m=149200746116365">http://<wbr />marc.info/<wbr />?l=linux-<wbr />netdev&amp;<wbr />m=1492007461163<wbr />65</a><br />
2: <a rel="nofollow" href="http://marc.info/?l=linux-netdev&amp;m=149200742616349">http://<wbr />marc.info/<wbr />?l=linux-<wbr />netdev&amp;<wbr />m=1492007426163<wbr />49</a></p>
<p>---</p>
<p>Commit 1045ba77a which was backported for #1674087 in fc0cef7a8ec1e63<wbr />ee3405f642983dd<wbr />86e04ab6cc (first released with Ubuntu-<wbr />4.10.0-<wbr />15.17) introduces the problematic code. Note that while the traces below were generated using a custom patched kernel, the same issue is reproducible using Ubuntu Zesty&#x27;s 4.10.0-15.17 (and later) kernels.</p>
<p>The full cover letter of the proposed fix by my colleague Wolfgang Bumiller follows:</p>
<p>Commit 1045ba77a (&quot;net sched actions: Add support for user cookies&quot;)<br />
added code to net/sched/<wbr />act_api.<wbr />c&#x27;s tcf_action_init_1 using the `tb`<br />
nlattr array unconditionally, while it was otherwise used as well as<br />
initialized only when `name == NULL`:</p>
<p>&nbsp;if (name == NULL) {<br />
&nbsp;&nbsp;err = nla_parse_<wbr />nested(<wbr />tb, TCA_ACT_MAX, nla, NULL);</p>
<p>In the other case `nla` is instead passed over to -&gt;init to be parsed<br />
there (using a different set of TCA_ enum values, iow. TCA_ACT_COOKIE<br />
then &quot;clashes&quot; with some other value). This lead to the following three<br />
example commands resulting in errors (sometimes followed by more traces<br />
and hangups some time later (although the hangups happened seconds or<br />
sometimes minutes later, sometimes not at all - results differed between<br />
different kernel versions (linux git-master vs ubuntu&#x27;s mainline 4.11<br />
rc6 vs. pve 4.10.5 (based off ubuntu&#x27;s zesty kernel where the commit is<br />
cherry-<wbr />picked)<wbr />...))):</p>
<p>&nbsp;# ip link add ve0 type veth peer name ve0b<br />
&nbsp;# tc qdisc add dev ve0 handle ffff: ingress<br />
&nbsp;# tc filter add dev ve0 parent ffff: prio 50 basic police rate 1000bps burst 1000b drop</p>
<p>The 3rd command would sometimes succeed, sometimes error with:</p>
<p>&nbsp;RTNETLINK answers: Invalid argument<br />
&nbsp;We have an error talking to the kernel</p>
<p>and sometimes error with:</p>
<p>&nbsp;RTNETLINK answers: Cannot allocate memory<br />
&nbsp;We have an error talking to the kernel</p>
<p>In the latter case I assume `cklen` became negative, which passes the<br />
TC_COOKIE_MAX_SIZE check since it is signed but becomes unsigned later<br />
in kmemdup() (see the crash dump below)</p>
<p>When the `tc filter add` command fails a backtrace shows up in dmesg,<br />
added below.</p>
<p>I&#x27;m not sure why the TC_ACT_COOKIE code was added to tcf_action_init_1<br />
where it is now. It makes me think that it&#x27;s supposed to be available<br />
universally, but the `name == NULL` check for how nla is used or passed<br />
to -&gt;init() shows that the there are various different TC_ACT_* enums in<br />
use at this point, hence the &#x27;RFC&#x27; part of the patches, I&#x27;m not that<br />
familiar with the code yet.</p>
<p>Backtrace when running `tc filter add`:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: ------------[ cut here ]------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: WARNING: CPU: 7 PID: 16596 at mm/page_<wbr />alloc.c:<wbr />3541 __alloc_<wbr />pages_slowpath+<wbr />0x9fe/0xba0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: Modules linked in: act_police cls_basic sch_ingress veth nfsv3 nfs_acl nfs lockd grace ip6t_REJECT nf_reject_ipv6 nf_conntrack_ipv6 nf_defrag_ipv6 ip6table_filter ip6_tables xt_mac ipt_REJECT nf_reject_ipv4 xt_physdev xt_comment nf_conntrack_ipv4 nf_defrag_ipv4 xt_tcpudp xt_mark xt_set xt_addrtype xt_multiport xt_conntrack nf_conntrack ip_set_hash_net ip_set arc4 md4 nls_utf8 cifs ccm fscache ipta<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  snd_hda_<wbr />codec_realtek snd_hda_<wbr />codec_generic aesni_intel aes_x86_64 crypto_simd drm_kms_helper glue_helper cryptd drm snd_hda_intel intel_cstate snd_hda_codec i2c_algo_bit fb_sys_fops snd_hda_core joydev syscopyarea snd_hwdep sysfillrect input_leds sysimgblt intel_rapl_perf snd_pcm snd_timer snd pcspkr soundcore mei_me lpc_ich mei shpchp tpm_infineon mac_hid wmi acpi_pad video vhost_net vhost macv<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: CPU: 7 PID: 16596 Comm: tc Tainted: P           O    4.10.5-1-pve #1<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: Hardware name: ASUS All Series/Z97-A, BIOS 2801 11/11/2015<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: Call Trace:<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  dump_stack+<wbr />0x63/0x81<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  __warn+0xcb/0xf0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  warn_slowpath_<wbr />null+0x1d/<wbr />0x20<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  __alloc_<wbr />pages_slowpath+<wbr />0x9fe/0xba0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ? get_page_<wbr />from_freelist+<wbr />0x46a/0xb20<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ? schedule+0x36/0x80<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ? schedule_<wbr />timeout+<wbr />0x22a/0x3f0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  __alloc_<wbr />pages_nodemask+<wbr />0x209/0x260<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  alloc_pages_<wbr />current+<wbr />0x95/0x140<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  kmalloc_<wbr />order+0x18/<wbr />0x40<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  kmalloc_<wbr />order_trace+<wbr />0x24/0xa0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  __kmalloc_<wbr />track_caller+<wbr />0x1e5/0x200<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  kmemdup+0x20/0x50<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  nla_memdup_<wbr />cookie+<wbr />0x55/0x90<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  tcf_action_<wbr />init_1+<wbr />0xcc/0x230<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  tcf_exts_<wbr />validate+<wbr />0x52/0x110<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  basic_change+<wbr />0x194/0x4d2 [cls_basic]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  tc_ctl_<wbr />tfilter+<wbr />0x54d/0x9a0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  rtnetlink_<wbr />rcv_msg+<wbr />0xe6/0x210<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ? __kmalloc_<wbr />node_track_<wbr />caller+<wbr />0x1f0/0x2a0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ? __alloc_<wbr />skb+0x87/<wbr />0x1e0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ? rtnl_newlink+<wbr />0x860/0x860<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  netlink_<wbr />rcv_skb+<wbr />0xa4/0xc0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  rtnetlink_<wbr />rcv+0x28/<wbr />0x30<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  netlink_<wbr />unicast+<wbr />0x18c/0x220<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  netlink_<wbr />sendmsg+<wbr />0x2f7/0x3b0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ? aa_sock_<wbr />msg_perm+<wbr />0x61/0x150<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  sock_sendmsg+<wbr />0x38/0x50<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ___sys_<wbr />sendmsg+<wbr />0x2c2/0x2d0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ? schedule+0x36/0x80<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ? ptrace_<wbr />stop+0x20a/<wbr />0x2a0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  ? ptrace_<wbr />do_notify+<wbr />0x98/0xc0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  __sys_sendmsg+<wbr />0x54/0x90<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  SyS_sendmsg+<wbr />0x12/0x20<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  do_syscall_<wbr />64+0x5b/<wbr />0xc0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel:  entry_SYSCALL64<wbr />_slow_path+<wbr />0x25/0x25<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: RIP: 0033:0x7f0aef7d0a77<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: RSP: 002b:00007ffe88<wbr />627568 EFLAGS: 00000246 ORIG_RAX: 000000000000002e<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: RAX: ffffffffffffffda RBX: 0000000058edf3fc RCX: 00007f0aef7d0a77<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: RDX: 0000000000000000 RSI: 00007ffe886275b0 RDI: 0000000000000003<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: RBP: 00007ffe886275b0 R08: 0000000000000001 R09: 0000000000000050<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: R10: 00000000000005e9 R11: 0000000000000246 R12: 00007ffe886275f0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: R13: 00005619ea31ee00 R14: 00007ffe8862f690 R15: 0000000000000000<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:31:38 testmachine kernel: ---[ end trace be009b606808485e ]---</p>
<p>Which would later on be followed by different kinds of hangups,<br />
sometimes with more seemingly unrelated crash dumps such as:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: general protection fault: 0000 [#1] SMP<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: Modules linked in: act_police cls_basic sch_ingress veth nfsv3 nfs_acl nfs lockd grace ip6t_REJECT nf_reject_ipv6 nf_conntrack_ipv6 nf_defrag_ipv6 ip6table_filter ip6_tables xt_mac ipt_REJECT nf_reject_ipv4 xt_physdev xt_comment nf_conntrack_ipv4 nf_defrag_ipv4 xt_tcpudp xt_mark xt_set xt_addrtype xt_multiport xt_conntrack nf_conntrack ip_set_hash_net ip_set arc4 md4 nls_utf8 cifs ccm fscache ipta<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  snd_hda_<wbr />codec_realtek snd_hda_<wbr />codec_generic aesni_intel aes_x86_64 crypto_simd drm_kms_helper glue_helper cryptd drm snd_hda_intel intel_cstate snd_hda_codec i2c_algo_bit fb_sys_fops snd_hda_core joydev syscopyarea snd_hwdep sysfillrect input_leds sysimgblt intel_rapl_perf snd_pcm snd_timer snd pcspkr soundcore mei_me lpc_ich mei shpchp tpm_infineon mac_hid wmi acpi_pad video vhost_net vhost macv<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: CPU: 7 PID: 4829 Comm: chromium Tainted: P        W  O    4.10.5-1-pve #1<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: Hardware name: ASUS All Series/Z97-A, BIOS 2801 11/11/2015<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: task: ffff93679b132d00 task.stack: ffffa479a0e00000<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RIP: 0010:kmem_<wbr />cache_alloc_<wbr />trace+0x7b/<wbr />0x190<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RSP: 0018:ffffa479a0<wbr />e03ad0 EFLAGS: 00010202<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RAX: 0000000000000000 RBX: 00000000014000c0 RCX: 0000000000005291<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RDX: 0000000000005290 RSI: 00000000014000c0 RDI: 000000000001c5c0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RBP: ffffa479a0e03b00 R08: ffff9367bfbdc5c0 R09: ffff936724698580<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: R10: 0017ffffc0040038 R11: 0000000000000007 R12: 00000000014000c0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: R13: ffff93679f003b80 R14: ffffffffc0b9090f R15: ffff93679f003b80<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: FS:  00007f5a069c404<wbr />0(0000) GS:ffff9367bfbc<wbr />0000(0000) knlGS:000000000<wbr />0000000<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: CR2: 00007f5a068de000 CR3: 00000007ccb8b000 CR4: 00000000001426e0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: Call Trace:<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  i915_gem_<wbr />object_<wbr />get_pages_<wbr />internal+<wbr />0x6f/0x250 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  ? kmem_cache_<wbr />alloc+0x185/<wbr />0x1a0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  ____i915_<wbr />gem_object_<wbr />get_pages+<wbr />0x20/0x60 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  __i915_<wbr />gem_object_<wbr />get_pages+<wbr />0x52/0x60 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  i915_gem_<wbr />batch_pool_<wbr />get+0x11d/<wbr />0x180 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  i915_gem_<wbr />do_execbuffer.<wbr />isra.38+<wbr />0x1027/<wbr />0x1790 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  ? shmem_getpage_<wbr />gfp+0xf9/<wbr />0xc20<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  i915_gem_<wbr />execbuffer2+<wbr />0xc5/0x240 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  drm_ioctl+<wbr />0x21b/0x4c0 [drm]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  ? i915_gem_<wbr />execbuffer+<wbr />0x310/0x310 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  ? __seccomp_<wbr />filter+<wbr />0x67/0x250<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  do_vfs_<wbr />ioctl+0xa3/<wbr />0x610<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  ? __secure_<wbr />computing+<wbr />0x3f/0xd0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  ? syscall_<wbr />trace_enter+<wbr />0xcd/0x2e0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  SyS_ioctl+0x79/0x90<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  do_syscall_<wbr />64+0x5b/<wbr />0xc0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel:  entry_SYSCALL64<wbr />_slow_path+<wbr />0x25/0x25<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RIP: 0033:0x7f59fba67ca7<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RSP: 002b:00007ffd39<wbr />778868 EFLAGS: 00000246 ORIG_RAX: 0000000000000010<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RAX: ffffffffffffffda RBX: 000024e398f52800 RCX: 00007f59fba67ca7<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RDX: 00007ffd397788b0 RSI: 0000000040406469 RDI: 00000000000000a4<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RBP: 00007ffd397788b0 R08: 0000000000000000 R09: 0000000000000000<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: R10: 0000000000000000 R11: 0000000000000246 R12: 0000000040406469<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: R13: 00000000000000a4 R14: 000024e399dd82c0 R15: 0000000000000070<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: Code: 08 65 4c 03 05 e7 de 9e 68 49 83 78 10 00 4d 8b 10 0f 84 e0 00 00 00 4d 85 d2 0f 84 d7 00 00 00 49 63 47 20 49 8b 3f 48 8d 4a 01 &lt;49&gt; 8b 1c 02 4c 89 d0 65 48 0f c7 0f 0f 94 c0 84 c0 74 bb 49 63<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: RIP: kmem_cache_<wbr />alloc_trace+<wbr />0x7b/0x190 RSP: ffffa479a0e03ad0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: general protection fault: 0000 [#2] SMP<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 11:38:50 testmachine kernel: general protection fault: 0000 [#3] SMP</p>
<p>or:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: BUG: unable to handle kernel NULL pointer dereference at 000000000000019c<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: IP: __free_<wbr />pages+0x5/<wbr />0x30<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: PGD 0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: Oops: 0002 [#1] SMP<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: Modules linked in: act_police cls_basic sch_ingress veth nfsv3 nfs_acl nfs lockd grace ip6t_REJECT nf_reject_ipv6 nf_conntrack_ipv6 nf_defrag_ipv6 ip6table_filter ip6_tables xt_mac ipt_REJECT nf_reject_ipv4 xt_physdev xt_comment nf_conntrack_ipv4 nf_defrag_ipv4 xt_tcpudp xt_mark xt_set xt_addrtype xt_multiport xt_conntrack nf_conntrack ip_set_hash_net ip_set arc4 md4 nls_utf8 cifs ccm fscache ipta<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  aes_x86_64 crypto_simd glue_helper cryptd intel_cstate snd_hda_<wbr />codec_realtek snd_hda_<wbr />codec_generic i915 intel_rapl_perf snd_hda_intel drm_kms_helper input_leds joydev snd_hda_codec drm snd_hda_core snd_hwdep i2c_algo_bit fb_sys_fops snd_pcm syscopyarea snd_timer sysfillrect sysimgblt snd soundcore mei_me shpchp lpc_ich mei pcspkr tpm_infineon wmi video mac_hid acpi_pad vhost_net vhost macvtap mac<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: CPU: 2 PID: 69 Comm: kworker/2:1 Tainted: P        W  O    4.10.5-1-pve #1<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: Hardware name: ASUS All Series/Z97-A, BIOS 2801 11/11/2015<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: Workqueue: events __i915_<wbr />gem_free_<wbr />work [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: task: ffff88885b134380 task.stack: ffffa7e243410000<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: RIP: 0010:__<wbr />free_pages+<wbr />0x5/0x30<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: RSP: 0018:ffffa7e243<wbr />413d18 EFLAGS: 00010206<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: RAX: 00000000000ffff8 RBX: ffff888762473460 RCX: ffff888762473470<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: RDX: ffff888762473460 RSI: 0000000000000014 RDI: 0000000000000180<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: RBP: ffffa7e243413d38 R08: 0000000000000000 R09: 0000000000000000<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: R10: ffff8887dd8c1080 R11: 0000000000000000 R12: ffff8887624738f0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: R13: 00000000ffffffff R14: ffff8887dd8c0440 R15: 0000000000000000<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: FS:  000000000000000<wbr />0(0000) GS:ffff88887fa8<wbr />0000(0000) knlGS:000000000<wbr />0000000<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: CR2: 000000000000019c CR3: 0000000476e09000 CR4: 00000000001426e0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: Call Trace:<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  ? internal_<wbr />free_pages+<wbr />0x40/0x80 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  i915_gem_<wbr />object_<wbr />put_pages_<wbr />internal+<wbr />0x1f/0x30 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  __i915_<wbr />gem_object_<wbr />put_pages.<wbr />part.62+<wbr />0x11d/0x180 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  ? dma_fence_<wbr />context_<wbr />alloc+0x20/<wbr />0x20<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  __i915_<wbr />gem_free_<wbr />objects+<wbr />0x161/0x330 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  __i915_<wbr />gem_free_<wbr />work+0x33/<wbr />0x50 [i915]<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  process_<wbr />one_work+<wbr />0x1fc/0x4b0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  worker_<wbr />thread+<wbr />0x4b/0x500<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  kthread+0x101/0x140<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  ? process_<wbr />one_work+<wbr />0x4b0/0x4b0<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  ? kthread_<wbr />create_<wbr />on_node+<wbr />0x60/0x60<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel:  ret_from_<wbr />fork+0x2c/<wbr />0x40<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: Code: ff 41 b8 05 00 00 00 31 c9 4c 89 ea 4c 89 fe e8 a2 e0 ff ff e9 1e ff ff ff 0f 1f 00 66 2e 0f 1f 84 00 00 00 00 00 0f 1f 44 00 00 &lt;f0&gt; ff 4f 1c 75 0e 55 85 f6 48 89 e5 74 08 e8 48 e4 ff ff 5d f3<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: RIP: __free_<wbr />pages+0x5/<wbr />0x30 RSP: ffffa7e243413d18<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: CR2: 000000000000019c<br />
&nbsp;&nbsp;&nbsp;&nbsp;Apr 12 09:19:35 testmachine kernel: ---[ end trace 89cb022ec57f7bd1 ]---</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="unofficial-tag" href="/ubuntu/+source/linux/+bugs?field.tag=verification-done-zesty">verification-done-zesty</a>
            <a class="unofficial-tag" href="/ubuntu/+source/linux/+bugs?field.tag=zesty">zesty</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2017-0605" title="** REJECT **  DO NOT USE THIS CANDIDA...">2017-0605</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2017-7979" title="The cookie feature in the packet acti...">2017-7979</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-13T08:57:42.000982+00:00" title="2017-04-13 08:57:42 UTC">on 2017-04-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>SRU request sent to kernel-team list.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">SRU request sent to kernel-team list.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~brad-figg" class="sprite person">Brad Figg (brad-figg)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-13T09:00:58.919618+00:00" title="2017-04-13 09:00:58 UTC">on 2017-04-13</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/linux/+bug/1682368/comments/2">
                <strong>Missing required logs.</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:</p>
<p>apport-collect 1682368</p>
<p>and then change the status of the bug to &#x27;Confirmed&#x27;.</p>
<p>If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to &#x27;Confirmed&#x27;.</p>
<p>This change has been made by an automated script, maintained by the Ubuntu Kernel Team.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:

apport-collect 1682368

and then change the status of the bug to 'Confirmed'.

If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.

This change has been made by an automated script, maintained by the Ubuntu Kernel Team.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Incomplete
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
    
    <time title="2017-04-13 09:21:58 UTC" datetime="2017-04-13T09:21:58.244737+00:00">on 2017-04-13</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Incomplete &#8594; Confirmed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-13T09:32:28.604379+00:00" title="2017-04-13 09:32:28 UTC">on 2017-04-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>See <a rel="nofollow" href="https://bugzilla.proxmox.com/show_bug.cgi?id=1351">https:/<wbr />/bugzilla.<wbr />proxmox.<wbr />com/show_<wbr />bug.cgi?<wbr />id=1351</a> and <a rel="nofollow" href="https://forum.proxmox.com/threads/proxmox-ve-5-0-beta1-released.33731/page-4#post-167127">https:/<wbr />/forum.<wbr />proxmox.<wbr />com/threads/<wbr />proxmox-<wbr />ve-5-0-<wbr />beta1-released.<wbr />33731/page-<wbr />4#post-<wbr />167127</a> for downstream reports by users.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">See https://bugzilla.proxmox.com/show_bug.cgi?id=1351 and https://forum.proxmox.com/threads/proxmox-ve-5-0-beta1-released.33731/page-4#post-167127 for downstream reports by users.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~jsalisbury" class="sprite person">Joseph Salisbury (jsalisbury)</a>
    
    <time title="2017-04-13 10:47:49 UTC" datetime="2017-04-13T10:47:49.126985+00:00">on 2017-04-13</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Medium
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Zesty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; In Progress
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Fabian Grünbichler (f-gruenbichler)
      </td>
    </tr>
  
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: kernel-da-key zesty
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-14T09:22:52.316012+00:00" title="2017-04-14 09:22:52 UTC">on 2017-04-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>this is easily reproducible and triggers at least a DoS on a freshly installed 17.04 system, from within an unprivileged LXD container. see the transcript for the executed commands, and journal-1 and journal-2 for the first and second kernel traces (caused by the second to last and last &quot;tc&quot; commands executed in the container).</p>
<p>the end result is a complete hang/crash of the system.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">this is easily reproducible and triggers at least a DoS on a freshly installed 17.04 system, from within an unprivileged LXD container. see the transcript for the executed commands, and journal-1 and journal-2 for the first and second kernel traces (caused by the second to last and last "tc" commands executed in the container).

the end result is a complete hang/crash of the system.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-14T09:23:01.304964+00:00" title="2017-04-14 09:23:01 UTC">on 2017-04-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+attachment/4861893/+files/transcript">transcript</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/linux/+bug/1682368/+attachment/4861893">Edit</a>
        (3.1 KiB,
        text/plain)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-14T09:23:09.164290+00:00" title="2017-04-14 09:23:09 UTC">on 2017-04-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+attachment/4861894/+files/journal-1">journal-1</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/linux/+bug/1682368/+attachment/4861894">Edit</a>
        (3.7 KiB,
        text/plain)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-14T09:23:17.827640+00:00" title="2017-04-14 09:23:17 UTC">on 2017-04-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+attachment/4861895/+files/journal-2">journal-2</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/linux/+bug/1682368/+attachment/4861895">Edit</a>
        (5.2 KiB,
        text/plain)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Public &#8594; Public Security
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~seth-arnold" class="sprite person">Seth Arnold (seth-arnold)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-19T00:16:19.650443+00:00" title="2017-04-19 00:16:19 UTC">on 2017-04-19</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>New threads at<br />
<a rel="nofollow" href="http://marc.info/?l=linux-netdev&amp;m=149251041420195&amp;w=2">http://<wbr />marc.info/<wbr />?l=linux-<wbr />netdev&amp;<wbr />m=1492510414201<wbr />95&amp;w=2</a><br />
<a rel="nofollow" href="http://marc.info/?l=linux-netdev&amp;m=149251041420194&amp;w=2">http://<wbr />marc.info/<wbr />?l=linux-<wbr />netdev&amp;<wbr />m=1492510414201<wbr />94&amp;w=2</a></p>
<p>Does this issue have a CVE number or numbers yet?</p>
<p>Thanks</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">New threads at
http://marc.info/?l=linux-netdev&amp;m=149251041420195&amp;w=2
http://marc.info/?l=linux-netdev&amp;m=149251041420194&amp;w=2

Does this issue have a CVE number or numbers yet?

Thanks</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-19T06:23:29.851539+00:00" title="2017-04-19 06:23:29 UTC">on 2017-04-19</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@seth-arnold: no, not yet. shall we request one from Mitre or does Ubuntu/Canonical have a pool to assign one?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@seth-arnold: no, not yet. shall we request one from Mitre or does Ubuntu/Canonical have a pool to assign one?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~jsalisbury" class="sprite person">Joseph Salisbury (jsalisbury)</a>
    
    <time title="2017-04-19 15:51:40 UTC" datetime="2017-04-19T15:51:40.981796+00:00">on 2017-04-19</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        removed: kernel-da-key
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~seth-arnold" class="sprite person">Seth Arnold (seth-arnold)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-19T19:28:15.149537+00:00" title="2017-04-19 19:28:15 UTC">on 2017-04-19</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi Fabian, Ubuntu is currently not assigning CVE numbers; MITRE can be best contacted at <a rel="nofollow" href="https://cveform.mitre.org/">https:/<wbr />/cveform.<wbr />mitre.org/</a></p>
<p>Thanks</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi Fabian, Ubuntu is currently not assigning CVE numbers; MITRE can be best contacted at https://cveform.mitre.org/

Thanks</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-19T20:19:09.465478+00:00" title="2017-04-19 20:19:09 UTC">on 2017-04-19</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>CVE requested, will include once I get a reply.</p>
<p>Note that Canonical is listed as CNA for &quot;Ubuntu/Linux issues&quot; at <a rel="nofollow" href="http://cve.mitre.org/cve/cna.html">http://<wbr />cve.mitre.<wbr />org/cve/<wbr />cna.html</a> - maybe that list needs an update then?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">CVE requested, will include once I get a reply.

Note that Canonical is listed as CNA for "Ubuntu/Linux issues" at http://cve.mitre.org/cve/cna.html - maybe that list needs an update then?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-20T07:08:24.784157+00:00" title="2017-04-20 07:08:24 UTC">on 2017-04-20</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>2017-7979 was assigned (<a rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-7979">http://<wbr />cve.mitre.<wbr />org/cgi-<wbr />bin/cvename.<wbr />cgi?name=<wbr />CVE-2017-<wbr />7979</a>), but is not yet known to LP it seems..</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">2017-7979 was assigned (http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-7979), but is not yet known to LP it seems..</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-21T07:27:52.027680+00:00" title="2017-04-21 07:27:52 UTC">on 2017-04-21</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>the proposed fix has been queue for -stable in v3, now as a single patch:<br />
<a rel="nofollow" href="http://marc.info/?t=149269023200005">http://<wbr />marc.info/<wbr />?t=149269023200<wbr />005</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">the proposed fix has been queue for -stable in v3, now as a single patch:
http://marc.info/?t=149269023200005</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-04-24T14:10:35.836615+00:00" title="2017-04-24 14:10:35 UTC">on 2017-04-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>and applied in v4.11-rc8:</p>
<p><a rel="nofollow" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e0535ce58b92d7baf0b33284a6c4f8f0338f943e">https:/<wbr />/git.kernel.<wbr />org/pub/<wbr />scm/linux/<wbr />kernel/<wbr />git/torvalds/<wbr />linux.git/<wbr />commit/<wbr />?id=e0535ce58b9<wbr />2d7baf0b33284a6<wbr />c4f8f0338f943e</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">and applied in v4.11-rc8:

https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e0535ce58b92d7baf0b33284a6c4f8f0338f943e</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~sforshee" class="sprite person">Seth Forshee (sforshee)</a>
    
    <time title="2017-04-25 12:18:41 UTC" datetime="2017-04-25T12:18:41.909090+00:00">on 2017-04-25</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Committed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~smb" class="sprite person">Stefan Bader (smb)</a>
    
    <time title="2017-05-04 07:31:53 UTC" datetime="2017-05-04T07:31:53.301796+00:00">on 2017-05-04</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Zesty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Committed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cascardo" class="sprite person">Thadeu Lima de Souza Cascardo (cascardo)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-05-26T02:57:24.088630+00:00" title="2017-05-26 02:57:24 UTC">on 2017-05-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag &#x27;verification-<wbr />needed-<wbr />zesty&#x27; to &#x27;verification-<wbr />done-zesty&#x27;<wbr />. If the problem still exists, change the tag &#x27;verification-<wbr />needed-<wbr />zesty&#x27; to &#x27;verification-<wbr />failed-<wbr />zesty&#x27;.</p>
<p>If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.</p>
<p>See <a rel="nofollow" href="https://wiki.ubuntu.com/Testing/EnableProposed">https:/<wbr />/wiki.ubuntu.<wbr />com/Testing/<wbr />EnableProposed</a> for documentation how to enable and use -proposed. Thank you!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-zesty' to 'verification-done-zesty'. If the problem still exists, change the tag 'verification-needed-zesty' to 'verification-failed-zesty'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-needed-zesty
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~f-gruenbichler" class="sprite person">Fabian Grünbichler (f-gruenbichler)</a>
    
    <time title="2017-05-26 06:44:37 UTC" datetime="2017-05-26T06:44:37.633499+00:00">on 2017-05-26</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-done-zesty<br />removed: verification-needed-zesty
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/linux/+bug/1682368/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-06-01T20:49:51.500859+00:00" title="2017-06-01 20:49:51 UTC">on 2017-06-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/linux/+bug/1682368/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/comments/16/+download">Download full text</a> (16.0 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package linux - 4.10.0-22.24</p>
<p>---------------<br />
linux (4.10.0-22.24) zesty; urgency=low</p>
<p>&nbsp;&nbsp;* linux: 4.10.0-22.24 -proposed tracker (LP: <a href="/bugs/1691146" class="bug-link">#1691146</a>)</p>
<p>&nbsp;&nbsp;* Fix NVLINK2 TCE route (LP: <a href="/bugs/1690155" class="bug-link">#1690155</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- powerpc/powernv: Fix TCE kill on NVLink2</p>
<p>&nbsp;&nbsp;* CVE-2017-0605<br />
&nbsp;&nbsp;&nbsp;&nbsp;- tracing: Use strlcpy() instead of strcpy() in __trace_<wbr />find_cmdline(<wbr />)</p>
<p>&nbsp;&nbsp;* perf: qcom: Add L3 cache PMU driver (LP: <a href="/bugs/1689856" class="bug-link">#1689856</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] CONFIG_<wbr />QCOM_L3_<wbr />PMU=y<br />
&nbsp;&nbsp;&nbsp;&nbsp;- perf: qcom: Add L3 cache PMU driver</p>
<p>&nbsp;&nbsp;* No PMU support for ACPI-based arm64 systems (LP: <a href="/bugs/1689661" class="bug-link">#1689661</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: rework per-cpu allocation<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: manage interrupts per-cpu<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: split irq request from enable<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: remove pointless PMU disabling<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: define armpmu_init_fn<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: fold init into alloc<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: factor out pmu registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: simplify cpu_pmu_<wbr />request_<wbr />irqs()<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: handle no platform_device<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: rename irq request/free functions<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: split cpu-local irq request/free<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: move irq request/free into probe<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: split out platform device probe logic<br />
&nbsp;&nbsp;&nbsp;&nbsp;- arm64: add function to get a cpu&#x27;s MADT GICC table<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] CONFIG_<wbr />ARM_PMU_<wbr />ACPI=y<br />
&nbsp;&nbsp;&nbsp;&nbsp;- drivers/perf: arm_pmu: add ACPI framework<br />
&nbsp;&nbsp;&nbsp;&nbsp;- arm64: pmuv3: handle !PMUv3 when probing<br />
&nbsp;&nbsp;&nbsp;&nbsp;- arm64: pmuv3: use arm_pmu ACPI framework</p>
<p>&nbsp;&nbsp;* [SRU][Zesty]QDF2400 kernel oops on ipmitool fru write 0 fru.bin<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1689886" class="bug-link">#1689886</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- ipmi: Fix kernel panic at ipmi_ssif_thread()</p>
<p>&nbsp;&nbsp;* tty: pl011: fix earlycon work-around for QDF2400 erratum 44  (LP: <a href="/bugs/1689818" class="bug-link">#1689818</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- tty: pl011: fix earlycon work-around for QDF2400 erratum 44<br />
&nbsp;&nbsp;&nbsp;&nbsp;- tty: pl011: use &quot;qdf2400_e44&quot; as the earlycon name for QDF2400 E44</p>
<p>&nbsp;&nbsp;* kernel-wedge fails in artful due to leftover squashfs-modules d-i files<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1688259" class="bug-link">#1688259</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Remove squashfs-modules files from d-i<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] as squashfs-modules is builtin kernel-image must Provides: it</p>
<p>&nbsp;&nbsp;* arm64/ACPI support for SBSA watchdog (LP: <a href="/bugs/1688114" class="bug-link">#1688114</a>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: clean up printk usage<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: rename type macros<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: rename the PPI enum<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: move enums and defines to header file<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: add a new enum for spi type<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: rework PPI selection<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: split dt-only rate handling<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: refactor arch_timer_<wbr />needs_probing<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: move arch_timer_<wbr />needs_of_<wbr />probing into DT init<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: add structs to describe MMIO timer<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: split MMIO timer probing.<br />
&nbsp;&nbsp;&nbsp;&nbsp;- [Config] CONFIG_ACPI_GTDT=y<br />
&nbsp;&nbsp;&nbsp;&nbsp;- acpi/arm64: Add GTDT table parse driver<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: simplify ACPI support code.<br />
&nbsp;&nbsp;&nbsp;&nbsp;- acpi/arm64: Add memory-mapped timer support in GTDT driver<br />
&nbsp;&nbsp;&nbsp;&nbsp;- clocksource: arm_arch_timer: add GTDT support for memory-mapped timer<br />
&nbsp;&nbsp;&nbsp;&nbsp;- acpi/arm64: Add SBS...</p></div>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package linux - 4.10.0-22.24

---------------
linux (4.10.0-22.24) zesty; urgency=low

  * linux: 4.10.0-22.24 -proposed tracker (LP: #1691146)

  * Fix NVLINK2 TCE route (LP: #1690155)
    - powerpc/powernv: Fix TCE kill on NVLink2

  * CVE-2017-0605
    - tracing: Use strlcpy() instead of strcpy() in __trace_find_cmdline()

  * perf: qcom: Add L3 cache PMU driver (LP: #1689856)
    - [Config] CONFIG_QCOM_L3_PMU=y
    - perf: qcom: Add L3 cache PMU driver

  * No PMU support for ACPI-based arm64 systems (LP: #1689661)
    - drivers/perf: arm_pmu: rework per-cpu allocation
    - drivers/perf: arm_pmu: manage interrupts per-cpu
    - drivers/perf: arm_pmu: split irq request from enable
    - drivers/perf: arm_pmu: remove pointless PMU disabling
    - drivers/perf: arm_pmu: define armpmu_init_fn
    - drivers/perf: arm_pmu: fold init into alloc
    - drivers/perf: arm_pmu: factor out pmu registration
    - drivers/perf: arm_pmu: simplify cpu_pmu_request_irqs()
    - drivers/perf: arm_pmu: handle no platform_device
    - drivers/perf: arm_pmu: rename irq request/free functions
    - drivers/perf: arm_pmu: split cpu-local irq request/free
    - drivers/perf: arm_pmu: move irq request/free into probe
    - drivers/perf: arm_pmu: split out platform device probe logic
    - arm64: add function to get a cpu's MADT GICC table
    - [Config] CONFIG_ARM_PMU_ACPI=y
    - drivers/perf: arm_pmu: add ACPI framework
    - arm64: pmuv3: handle !PMUv3 when probing
    - arm64: pmuv3: use arm_pmu ACPI framework

  * [SRU][Zesty]QDF2400 kernel oops on ipmitool fru write 0 fru.bin
    (LP: #1689886)
    - ipmi: Fix kernel panic at ipmi_ssif_thread()

  * tty: pl011: fix earlycon work-around for QDF2400 erratum 44  (LP: #1689818)
    - tty: pl011: fix earlycon work-around for QDF2400 erratum 44
    - tty: pl011: use "qdf2400_e44" as the earlycon name for QDF2400 E44

  * kernel-wedge fails in artful due to leftover squashfs-modules d-i files
    (LP: #1688259)
    - Remove squashfs-modules files from d-i
    - [Config] as squashfs-modules is builtin kernel-image must Provides: it

  * arm64/ACPI support for SBSA watchdog (LP: #1688114)
    - clocksource: arm_arch_timer: clean up printk usage
    - clocksource: arm_arch_timer: rename type macros
    - clocksource: arm_arch_timer: rename the PPI enum
    - clocksource: arm_arch_timer: move enums and defines to header file
    - clocksource: arm_arch_timer: add a new enum for spi type
    - clocksource: arm_arch_timer: rework PPI selection
    - clocksource: arm_arch_timer: split dt-only rate handling
    - clocksource: arm_arch_timer: refactor arch_timer_needs_probing
    - clocksource: arm_arch_timer: move arch_timer_needs_of_probing into DT init
      call
    - clocksource: arm_arch_timer: add structs to describe MMIO timer
    - clocksource: arm_arch_timer: split MMIO timer probing.
    - [Config] CONFIG_ACPI_GTDT=y
    - acpi/arm64: Add GTDT table parse driver
    - clocksource: arm_arch_timer: simplify ACPI support code.
    - acpi/arm64: Add memory-mapped timer support in GTDT driver
    - clocksource: arm_arch_timer: add GTDT support for memory-mapped timer
    - acpi/arm64: Add SBSA Generic Watchdog support in GTDT driver

  * kernel BUG at /build/linux-7LGLH_/linux-4.10.0/include/linux/swapops.h:129
    (LP: #1674838)
    - Revert "mm/ksm: handle protnone saved writes when making page write protect"
    - Revert "mm, ksm: convert write_protect_page() to use page_vma_mapped_walk()"
    - Revert "mm: introduce page_vma_mapped_walk()"
    - mm/ksm: handle protnone saved writes when making page write protect

  * arm64: Add CNTFRQ_EL0 handler (LP: #1688164)
    - arm64: Add CNTFRQ_EL0 trap handler

  * Support IPMI system interface on Cavium ThunderX (LP: #1688132)
    - i2c: thunderx: Enable HWMON class probing

  * Update ENA driver to 1.1.2 from net-next (LP: #1664312)
    - net/ena: remove ntuple filter support from device feature list
    - net/ena: fix queues number calculation
    - net/ena: fix ethtool RSS flow configuration
    - net/ena: fix RSS default hash configuration
    - net/ena: fix NULL dereference when removing the driver after device reset
      failed
    - net/ena: refactor ena_get_stats64 to be atomic context safe
    - net/ena: fix potential access to freed memory during device reset
    - net/ena: use READ_ONCE to access completion descriptors
    - net/ena: reduce the severity of ena printouts
    - net/ena: change driver's default timeouts
    - net/ena: change condition for host attribute configuration
    - net/ena: update driver version to 1.1.2

  * Zesty update to 4.10.15 stable release (LP: #1689258)
    - timerfd: Protect the might cancel mechanism proper
    - Handle mismatched open calls
    - hwmon: (it87) Avoid registering the same chip on both SIO addresses
    - dm ioctl: prevent stack leak in dm ioctl call
    - Linux 4.10.15

  * Zesty update to 4.10.14 stable release (LP: #1688499)
    - ping: implement proper locking
    - sparc64: kern_addr_valid regression
    - sparc64: Fix kernel panic due to erroneous #ifdef surrounding pmd_write()
    - net: neigh: guard against NULL solicit() method
    - net: phy: handle state correctly in phy_stop_machine
    - kcm: return immediately after copy_from_user() failure
    - secure_seq: downgrade to per-host timestamp offsets
    - bpf: improve verifier packet range checks
    - Revert "UBUNTU: SAUCE: (no-up) net/mlx5: Avoid dereferencing uninitialized
      pointer"
    - net/mlx5: Avoid dereferencing uninitialized pointer
    - l2tp: hold tunnel socket when handling control frames in l2tp_ip and
      l2tp_ip6
    - l2tp: purge socket queues in the .destruct() callback
    - openvswitch: Fix ovs_flow_key_update()
    - l2tp: take reference on sessions being dumped
    - l2tp: fix PPP pseudo-wire auto-loading
    - net: ipv4: fix multipath RTM_GETROUTE behavior when iif is given
    - sctp: listen on the sock only when it's state is listening or closed
    - tcp: clear saved_syn in tcp_disconnect()
    - ipv6: Fix idev-&gt;addr_list corruption
    - net-timestamp: avoid use-after-free in ip_recv_error
    - net: vrf: Fix setting NLM_F_EXCL flag when adding l3mdev rule
    - sh_eth: unmap DMA buffers when freeing rings
    - ipv6: sr: fix out-of-bounds access in SRH validation
    - dp83640: don't recieve time stamps twice
    - ipv6: sr: fix double free of skb after handling invalid SRH
    - ipv6: fix source routing
    - gso: Validate assumption of frag_list segementation
    - net: ipv6: RTF_PCPU should not be settable from userspace
    - netpoll: Check for skb-&gt;queue_mapping
    - ip6mr: fix notification device destruction
    - net/mlx5: Fix driver load bad flow when having fw initializing timeout
    - net/mlx5: E-Switch, Correctly deal with inline mode on ConnectX-5
    - net/mlx5e: Fix small packet threshold
    - net/mlx5e: Fix ETHTOOL_GRXCLSRLALL handling
    - tcp: fix SCM_TIMESTAMPING_OPT_STATS for normal skbs
    - tcp: mark skbs with SCM_TIMESTAMPING_OPT_STATS
    - macvlan: Fix device ref leak when purging bc_queue
    - net: ipv6: regenerate host route if moved to gc list
    - net: phy: fix auto-negotiation stall due to unavailable interrupt
    - ipv6: check skb-&gt;protocol before lookup for nexthop
    - tcp: memset ca_priv data to 0 properly
    - ipv6: check raw payload size correctly in ioctl
    - ALSA: oxfw: fix regression to handle Stanton SCS.1m/1d
    - ALSA: firewire-lib: fix inappropriate assignment between signed/unsigned
      type
    - ALSA: seq: Don't break snd_use_lock_sync() loop by timeout
    - scsi: return correct blkprep status code in case scsi_init_io() fails.
    - ARC: [plat-eznps] Fix build error
    - MIPS: KGDB: Use kernel context for sleeping threads
    - MIPS: cevt-r4k: Fix out-of-bounds array access
    - MIPS: Avoid BUG warning in arch_check_elf
    - p9_client_readdir() fix
    - ASoC: intel: Fix PM and non-atomic crash in bytcr drivers
    - Input: i8042 - add Clevo P650RS to the i8042 reset list
    - nfsd: check for oversized NFSv2/v3 arguments
    - nfsd4: minor NFSv2/v3 write decoding cleanup
    - nfsd: stricter decoding of write-like NFSv2/v3 ops
    - ceph: fix recursion between ceph_set_acl() and __ceph_setattr()
    - macsec: avoid heap overflow in skb_to_sgvec
    - net: can: usb: gs_usb: Fix buffer on stack
    - cpu/hotplug: Serialize callback invocations proper
    - ftrace/x86: Fix triple fault with graph tracing and suspend-to-ram
    - Linux 4.10.14

  * Zesty update to 4.10.13 stable release (LP: #1688485)
    - KEYS: Disallow keyrings beginning with '.' to be joined as session keyrings
    - KEYS: Change the name of the dead type to ".dead" to prevent user access
    - KEYS: fix keyctl_set_reqkey_keyring() to not leak thread keyrings
    - tracing: Allocate the snapshot buffer before enabling probe
    - HID: wacom: Treat HID_DG_TOOLSERIALNUMBER as unsigned
    - ring-buffer: Have ring_buffer_iter_empty() return true when empty
    - mm: prevent NR_ISOLATE_* stats from going negative
    - cifs: Do not send echoes before Negotiate is complete
    - CIFS: remove bad_network_name flag
    - mmc: dw_mmc: silent verbose log when calling from PM context
    - s390/mm: fix CMMA vs KSM vs others
    - Input: elantech - add Fujitsu Lifebook E547 to force crc_enabled
    - ACPI / power: Avoid maybe-uninitialized warning
    - mmc: dw_mmc: Don't allow Runtime PM for SDIO cards
    - mmc: sdhci-esdhc-imx: increase the pad I/O drive strength for DDR50 card
    - ubifs: Fix RENAME_WHITEOUT support
    - ubifs: Fix O_TMPFILE corner case in ubifs_link()
    - mac80211: reject ToDS broadcast data frames
    - mac80211: fix MU-MIMO follow-MAC mode
    - x86/mce: Make the MCE notifier a blocking one
    - ubi/upd: Always flush after prepared for an update
    - powerpc/kprobe: Fix oops when kprobed on 'stdu' instruction
    - x86/mce/AMD: Give a name to MCA bank 3 when accessed with legacy MSRs
    - device-dax: switch to srcu, fix rcu_read_lock() vs pte allocation
    - Linux 4.10.13

  * Zesty update to 4.10.12 stable release (LP: #1687045)
    - Revert "UBUNTU: SAUCE: Revert "audit: fix auditd/kernel connection state
      tracking""
    - cgroup, kthread: close race window where new kthreads can be migrated to
      non-root cgroups
    - audit: make sure we don't let the retry queue grow without bounds
    - tcmu: Fix possible overwrite of t_data_sg's last iov[]
    - tcmu: Fix wrongly calculating of the base_command_size
    - tcmu: Skip Data-Out blocks before gathering Data-In buffer for BIDI case
    - thp: fix MADV_DONTNEED vs. MADV_FREE race
    - thp: fix MADV_DONTNEED vs clear soft dirty race
    - zsmalloc: expand class bit
    - orangefs: free superblock when mount fails
    - drm/nouveau/mpeg: mthd returns true on success now
    - drm/nouveau/mmu/nv4a: use nv04 mmu rather than the nv44 one
    - drm/nouveau/kms/nv50: fix setting of HeadSetRasterVertBlankDmi method
    - drm/nouveau/kms/nv50: fix double dma_fence_put() when destroying plane state
    - drm/nouveau: initial support (display-only) for GP107
    - drm/etnaviv: fix missing unlock on error in etnaviv_gpu_submit()
    - drm/fb-helper: Allow var-&gt;x/yres(_virtual) &lt; fb-&gt;width/height again
    - CIFS: reconnect thread reschedule itself
    - CIFS: store results of cifs_reopen_file to avoid infinite wait
    - Input: xpad - add support for Razer Wildcat gamepad
    - perf annotate s390: Fix perf annotate error -95 (4.10 regression)
    - perf/x86: Avoid exposing wrong/stale data in intel_pmu_lbr_read_32()
    - x86/efi: Don't try to reserve runtime regions
    - x86/signals: Fix lower/upper bound reporting in compat siginfo
    - x86/intel_rdt: Fix locking in rdtgroup_schemata_write()
    - x86, pmem: fix broken __copy_user_nocache cache-bypass assumptions
    - x86/vdso: Ensure vdso32_enabled gets set to valid values only
    - x86/vdso: Plug race between mapping and ELF header setup
    - acpi, nfit, libnvdimm: fix interleave set cookie calculation (64-bit
      comparison)
    - ACPI / scan: Set the visited flag for all enumerated devices
    - parisc: fix bugs in pa_memcpy
    - efi/libstub: Skip GOP with PIXEL_BLT_ONLY format
    - efi/fb: Avoid reconfiguration of BAR that covers the framebuffer
    - iscsi-target: Fix TMR reference leak during session shutdown
    - iscsi-target: Drop work-around for legacy GlobalSAN initiator
    - scsi: sr: Sanity check returned mode data
    - scsi: sd: Consider max_xfer_blocks if opt_xfer_blocks is unusable
    - scsi: qla2xxx: Add fix to read correct register value for ISP82xx.
    - scsi: sd: Fix capacity calculation with 32-bit sector_t
    - target: Avoid mappedlun symlink creation during lun shutdown
    - xen, fbfront: fix connecting to backend
    - new privimitive: iov_iter_revert()
    - make skb_copy_datagram_msg() et.al. preserve -&gt;msg_iter on error
    - libnvdimm: fix blk free space accounting
    - libnvdimm: fix reconfig_mutex, mmap_sem, and jbd2_handle lockdep splat
    - libnvdimm: band aid btt vs clear poison locking
    - can: ifi: use correct register to read rx status
    - pwm: rockchip: State of PWM clock should synchronize with PWM enabled state
    - cpufreq: Bring CPUs up even if cpufreq_online() failed
    - irqchip/irq-imx-gpcv2: Fix spinlock initialization
    - ftrace: Fix removing of second function probe
    - drm/i915/gvt: set the correct default value of CTX STATUS PTR
    - char: lack of bool string made CONFIG_DEVPORT always on
    - Revert "MIPS: Lantiq: Fix cascaded IRQ setup"
    - zram: do not use copy_page with non-page aligned address
    - ftrace: Fix function pid filter on instances
    - crypto: algif_aead - Fix bogus request dereference in completion function
    - crypto: xts - Fix use-after-free on EINPROGRESS
    - crypto: ahash - Fix EINPROGRESS notification callback
    - crypto: lrw - Fix use-after-free on EINPROGRESS
    - parisc: Fix get_user() for 64-bit value on 32-bit kernel
    - dvb-usb-v2: avoid use-after-free
    - [Config] CONFIG_SND_SOC_INTEL_BDW_RT5677_MACH=m
    - ASoC: Intel: select DW_DMAC_CORE since it's mandatory
    - platform/x86: acer-wmi: setup accelerometer when machine has appropriate
      notify event
    - x86/xen: Fix APIC id mismatch warning on Intel
    - ACPI / EC: Use busy polling mode when GPE is not enabled
    - rtc: tegra: Implement clock handling
    - mm: Tighten x86 /dev/mem with zeroing reads
    - cxusb: Use a dma capable buffer also for reading
    - virtio-console: avoid DMA from stack
    - Linux 4.10.12

  * Support low-pin-count devices on Hisilicon SoCs (LP: #1677319)
    - [Config] CONFIG_LIBIO=y on arm64 only
    - SAUCE: LIBIO: Introduce a generic PIO mapping method
    - SAUCE: OF: Add missing I/O range exception for indirect-IO devices
    - [Config] CONFIG_HISILICON_LPC=y
    - SAUCE: LPC: Support the device-tree LPC host on Hip06/Hip07
    - SAUCE: LIBIO: Support the dynamically logical PIO registration of ACPI host
      I/O
    - SAUCE: LPC: Add the ACPI LPC support
    - SAUCE: PCI: Apply the new generic I/O management on PCI IO hosts
    - SAUCE: PCI: Restore codepath for !CONFIG_LIBIO

  * APST quirk needed for Samsung 512GB NVMe drive (LP: #1678184)
    - nvme: Adjust the Samsung APST quirk
    - nvme: Quirk APST off on "THNSF5256GPUK TOSHIBA"

  * [Zesty] d-i: replace msm_emac with qcom_emac (LP: #1677297)
    - Revert "UBUNTU: d-i: initrd needs msm_emac on amberwing platform."
    - d-i: initrd needs qcom_emac on amberwing platform.

  * POWER9: CAPI2 enablement (LP: #1686519)
    - cxl: Fix build when CONFIG_DEBUG_FS=n
    - cxl: Read vsec perst load image
    - cxl: Remove unused values in bare-metal environment.
    - cxl: Keep track of mm struct associated with a context
    - cxl: Update implementation service layer
    - cxl: Rename some psl8 specific functions
    - cxl: Isolate few psl8 specific calls
    - cxl: Force psl data-cache flush during device shutdown
    - cxl: Add psl9 specific code

  * CVE-2017-7979
    - net sched actions: allocate act cookie early

  * refcount underflow / kernel NULL dereference after attempting to add basic
    tc filter (LP: #1682368)
    - net_sched: nla_memdup_cookie() can be static

 -- Thadeu Lima de Souza Cascardo &lt;cascardo@canonical.com&gt;  Wed, 17 May 2017 18:13:39 -0300</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
    
    <time title="2017-06-06 13:13:53 UTC" datetime="2017-06-06T13:13:53.004272+00:00">on 2017-06-06</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in linux (Ubuntu Zesty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/ubuntu/+source/linux/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/ubuntu/+source/linux/+bug/1682368/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/ubuntu/+source/linux/+bug/1682368/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/ubuntu/+source/linux/+bug/1682368/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+attachment/4861893/+files/transcript">transcript</a>
        <small>
          (<a href="/ubuntu/+source/linux/+bug/1682368/+attachment/4861893">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+attachment/4861894/+files/journal-1">journal-1</a>
        <small>
          (<a href="/ubuntu/+source/linux/+bug/1682368/+attachment/4861894">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+attachment/4861895/+files/journal-2">journal-2</a>
        <small>
          (<a href="/ubuntu/+source/linux/+bug/1682368/+attachment/4861895">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/linux/+bug/1682368/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      <div class="portlet" id="portlet-watches">
  <h2>Remote bug watches</h2>
  <ul>
    <li>
      <span class="sprite bug-remote"></span>
      <a class="link-external" href="https://bugzilla.proxmox.com/show_bug.cgi?id=1351">auto-bugzilla.proxmox.com #1351</a>
      
        <br />[<span>RESOLVED FIXED</span>]
        <a class="sprite edit action-icon" title="Change watch details" href="/bugs/1682368/+watch/123906">Edit</a>
    </li>
  </ul>
  <p>Bug watches keep track of this bug in other bug trackers.</p>
</div>

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"initial_comment_batch_offset": 41, "first visible_recent_comment": -23, "related_features": {}, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/1682368", "self_link": "https://bugs.launchpad.net/api/devel/bugs/1682368"}, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1682368", "web_link": "https://bugs.launchpad.net/bugs/1682368", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1682368, "private": false, "information_type": "Public Security", "name": null, "title": "refcount underflow / kernel NULL dereference after attempting to add basic tc filter", "description": "== SRU Justification ==\n\nImpact: adding a tc filter sometimes fails, potentially followed by kernel hangs and kernel NULL pointer dereference\n\nFix: proposed upstream by Wolfgang Bumiller [1,2]\n\nRegression Potential: Since nobody else noticed this issue in 4.11 \u003e= rc1 or Ubuntu 4.10 \u003e= 15.17, and the fix only touches the broken code, the regression potential should be minimal ;)\n\n1: http://marc.info/?l=linux-netdev\u0026m=149200746116365\n2: http://marc.info/?l=linux-netdev\u0026m=149200742616349\n\n---\n\nCommit 1045ba77a which was backported for #1674087 in fc0cef7a8ec1e63ee3405f642983dd86e04ab6cc (first released with Ubuntu-4.10.0-15.17) introduces the problematic code. Note that while the traces below were generated using a custom patched kernel, the same issue is reproducible using Ubuntu Zesty's 4.10.0-15.17 (and later) kernels.\n\nThe full cover letter of the proposed fix by my colleague Wolfgang Bumiller follows:\n\nCommit 1045ba77a (\"net sched actions: Add support for user cookies\")\nadded code to net/sched/act_api.c's tcf_action_init_1 using the `tb`\nnlattr array unconditionally, while it was otherwise used as well as\ninitialized only when `name == NULL`:\n\n\tif (name == NULL) {\n\t\terr = nla_parse_nested(tb, TCA_ACT_MAX, nla, NULL);\n\nIn the other case `nla` is instead passed over to -\u003einit to be parsed\nthere (using a different set of TCA_ enum values, iow. TCA_ACT_COOKIE\nthen \"clashes\" with some other value). This lead to the following three\nexample commands resulting in errors (sometimes followed by more traces\nand hangups some time later (although the hangups happened seconds or\nsometimes minutes later, sometimes not at all - results differed between\ndifferent kernel versions (linux git-master vs ubuntu's mainline 4.11\nrc6 vs. pve 4.10.5 (based off ubuntu's zesty kernel where the commit is\ncherry-picked)...))):\n\n # ip link add ve0 type veth peer name ve0b\n # tc qdisc add dev ve0 handle ffff: ingress\n # tc filter add dev ve0 parent ffff: prio 50 basic police rate 1000bps burst 1000b drop\n\nThe 3rd command would sometimes succeed, sometimes error with:\n\n RTNETLINK answers: Invalid argument\n We have an error talking to the kernel\n\nand sometimes error with:\n\n RTNETLINK answers: Cannot allocate memory\n We have an error talking to the kernel\n\nIn the latter case I assume `cklen` became negative, which passes the\nTC_COOKIE_MAX_SIZE check since it is signed but becomes unsigned later\nin kmemdup() (see the crash dump below)\n\nWhen the `tc filter add` command fails a backtrace shows up in dmesg,\nadded below.\n\nI'm not sure why the TC_ACT_COOKIE code was added to tcf_action_init_1\nwhere it is now. It makes me think that it's supposed to be available\nuniversally, but the `name == NULL` check for how nla is used or passed\nto -\u003einit() shows that the there are various different TC_ACT_* enums in\nuse at this point, hence the 'RFC' part of the patches, I'm not that\nfamiliar with the code yet.\n\nBacktrace when running `tc filter add`:\n\n    Apr 12 11:31:38 testmachine kernel: ------------[ cut here ]------------\n    Apr 12 11:31:38 testmachine kernel: WARNING: CPU: 7 PID: 16596 at mm/page_alloc.c:3541 __alloc_pages_slowpath+0x9fe/0xba0\n    Apr 12 11:31:38 testmachine kernel: Modules linked in: act_police cls_basic sch_ingress veth nfsv3 nfs_acl nfs lockd grace ip6t_REJECT nf_reject_ipv6 nf_conntrack_ipv6 nf_defrag_ipv6 ip6table_filter ip6_tables xt_mac ipt_REJECT nf_reject_ipv4 xt_physdev xt_comment nf_conntrack_ipv4 nf_defrag_ipv4 xt_tcpudp xt_mark xt_set xt_addrtype xt_multiport xt_conntrack nf_conntrack ip_set_hash_net ip_set arc4 md4 nls_utf8 cifs ccm fscache ipta\n    Apr 12 11:31:38 testmachine kernel:  snd_hda_codec_realtek snd_hda_codec_generic aesni_intel aes_x86_64 crypto_simd drm_kms_helper glue_helper cryptd drm snd_hda_intel intel_cstate snd_hda_codec i2c_algo_bit fb_sys_fops snd_hda_core joydev syscopyarea snd_hwdep sysfillrect input_leds sysimgblt intel_rapl_perf snd_pcm snd_timer snd pcspkr soundcore mei_me lpc_ich mei shpchp tpm_infineon mac_hid wmi acpi_pad video vhost_net vhost macv\n    Apr 12 11:31:38 testmachine kernel: CPU: 7 PID: 16596 Comm: tc Tainted: P           O    4.10.5-1-pve #1\n    Apr 12 11:31:38 testmachine kernel: Hardware name: ASUS All Series/Z97-A, BIOS 2801 11/11/2015\n    Apr 12 11:31:38 testmachine kernel: Call Trace:\n    Apr 12 11:31:38 testmachine kernel:  dump_stack+0x63/0x81\n    Apr 12 11:31:38 testmachine kernel:  __warn+0xcb/0xf0\n    Apr 12 11:31:38 testmachine kernel:  warn_slowpath_null+0x1d/0x20\n    Apr 12 11:31:38 testmachine kernel:  __alloc_pages_slowpath+0x9fe/0xba0\n    Apr 12 11:31:38 testmachine kernel:  ? get_page_from_freelist+0x46a/0xb20\n    Apr 12 11:31:38 testmachine kernel:  ? schedule+0x36/0x80\n    Apr 12 11:31:38 testmachine kernel:  ? schedule_timeout+0x22a/0x3f0\n    Apr 12 11:31:38 testmachine kernel:  __alloc_pages_nodemask+0x209/0x260\n    Apr 12 11:31:38 testmachine kernel:  alloc_pages_current+0x95/0x140\n    Apr 12 11:31:38 testmachine kernel:  kmalloc_order+0x18/0x40\n    Apr 12 11:31:38 testmachine kernel:  kmalloc_order_trace+0x24/0xa0\n    Apr 12 11:31:38 testmachine kernel:  __kmalloc_track_caller+0x1e5/0x200\n    Apr 12 11:31:38 testmachine kernel:  kmemdup+0x20/0x50\n    Apr 12 11:31:38 testmachine kernel:  nla_memdup_cookie+0x55/0x90\n    Apr 12 11:31:38 testmachine kernel:  tcf_action_init_1+0xcc/0x230\n    Apr 12 11:31:38 testmachine kernel:  tcf_exts_validate+0x52/0x110\n    Apr 12 11:31:38 testmachine kernel:  basic_change+0x194/0x4d2 [cls_basic]\n    Apr 12 11:31:38 testmachine kernel:  tc_ctl_tfilter+0x54d/0x9a0\n    Apr 12 11:31:38 testmachine kernel:  rtnetlink_rcv_msg+0xe6/0x210\n    Apr 12 11:31:38 testmachine kernel:  ? __kmalloc_node_track_caller+0x1f0/0x2a0\n    Apr 12 11:31:38 testmachine kernel:  ? __alloc_skb+0x87/0x1e0\n    Apr 12 11:31:38 testmachine kernel:  ? rtnl_newlink+0x860/0x860\n    Apr 12 11:31:38 testmachine kernel:  netlink_rcv_skb+0xa4/0xc0\n    Apr 12 11:31:38 testmachine kernel:  rtnetlink_rcv+0x28/0x30\n    Apr 12 11:31:38 testmachine kernel:  netlink_unicast+0x18c/0x220\n    Apr 12 11:31:38 testmachine kernel:  netlink_sendmsg+0x2f7/0x3b0\n    Apr 12 11:31:38 testmachine kernel:  ? aa_sock_msg_perm+0x61/0x150\n    Apr 12 11:31:38 testmachine kernel:  sock_sendmsg+0x38/0x50\n    Apr 12 11:31:38 testmachine kernel:  ___sys_sendmsg+0x2c2/0x2d0\n    Apr 12 11:31:38 testmachine kernel:  ? schedule+0x36/0x80\n    Apr 12 11:31:38 testmachine kernel:  ? ptrace_stop+0x20a/0x2a0\n    Apr 12 11:31:38 testmachine kernel:  ? ptrace_do_notify+0x98/0xc0\n    Apr 12 11:31:38 testmachine kernel:  __sys_sendmsg+0x54/0x90\n    Apr 12 11:31:38 testmachine kernel:  SyS_sendmsg+0x12/0x20\n    Apr 12 11:31:38 testmachine kernel:  do_syscall_64+0x5b/0xc0\n    Apr 12 11:31:38 testmachine kernel:  entry_SYSCALL64_slow_path+0x25/0x25\n    Apr 12 11:31:38 testmachine kernel: RIP: 0033:0x7f0aef7d0a77\n    Apr 12 11:31:38 testmachine kernel: RSP: 002b:00007ffe88627568 EFLAGS: 00000246 ORIG_RAX: 000000000000002e\n    Apr 12 11:31:38 testmachine kernel: RAX: ffffffffffffffda RBX: 0000000058edf3fc RCX: 00007f0aef7d0a77\n    Apr 12 11:31:38 testmachine kernel: RDX: 0000000000000000 RSI: 00007ffe886275b0 RDI: 0000000000000003\n    Apr 12 11:31:38 testmachine kernel: RBP: 00007ffe886275b0 R08: 0000000000000001 R09: 0000000000000050\n    Apr 12 11:31:38 testmachine kernel: R10: 00000000000005e9 R11: 0000000000000246 R12: 00007ffe886275f0\n    Apr 12 11:31:38 testmachine kernel: R13: 00005619ea31ee00 R14: 00007ffe8862f690 R15: 0000000000000000\n    Apr 12 11:31:38 testmachine kernel: ---[ end trace be009b606808485e ]---\n\nWhich would later on be followed by different kinds of hangups,\nsometimes with more seemingly unrelated crash dumps such as:\n\n    Apr 12 11:38:50 testmachine kernel: general protection fault: 0000 [#1] SMP\n    Apr 12 11:38:50 testmachine kernel: Modules linked in: act_police cls_basic sch_ingress veth nfsv3 nfs_acl nfs lockd grace ip6t_REJECT nf_reject_ipv6 nf_conntrack_ipv6 nf_defrag_ipv6 ip6table_filter ip6_tables xt_mac ipt_REJECT nf_reject_ipv4 xt_physdev xt_comment nf_conntrack_ipv4 nf_defrag_ipv4 xt_tcpudp xt_mark xt_set xt_addrtype xt_multiport xt_conntrack nf_conntrack ip_set_hash_net ip_set arc4 md4 nls_utf8 cifs ccm fscache ipta\n    Apr 12 11:38:50 testmachine kernel:  snd_hda_codec_realtek snd_hda_codec_generic aesni_intel aes_x86_64 crypto_simd drm_kms_helper glue_helper cryptd drm snd_hda_intel intel_cstate snd_hda_codec i2c_algo_bit fb_sys_fops snd_hda_core joydev syscopyarea snd_hwdep sysfillrect input_leds sysimgblt intel_rapl_perf snd_pcm snd_timer snd pcspkr soundcore mei_me lpc_ich mei shpchp tpm_infineon mac_hid wmi acpi_pad video vhost_net vhost macv\n    Apr 12 11:38:50 testmachine kernel: CPU: 7 PID: 4829 Comm: chromium Tainted: P        W  O    4.10.5-1-pve #1\n    Apr 12 11:38:50 testmachine kernel: Hardware name: ASUS All Series/Z97-A, BIOS 2801 11/11/2015\n    Apr 12 11:38:50 testmachine kernel: task: ffff93679b132d00 task.stack: ffffa479a0e00000\n    Apr 12 11:38:50 testmachine kernel: RIP: 0010:kmem_cache_alloc_trace+0x7b/0x190\n    Apr 12 11:38:50 testmachine kernel: RSP: 0018:ffffa479a0e03ad0 EFLAGS: 00010202\n    Apr 12 11:38:50 testmachine kernel: RAX: 0000000000000000 RBX: 00000000014000c0 RCX: 0000000000005291\n    Apr 12 11:38:50 testmachine kernel: RDX: 0000000000005290 RSI: 00000000014000c0 RDI: 000000000001c5c0\n    Apr 12 11:38:50 testmachine kernel: RBP: ffffa479a0e03b00 R08: ffff9367bfbdc5c0 R09: ffff936724698580\n    Apr 12 11:38:50 testmachine kernel: R10: 0017ffffc0040038 R11: 0000000000000007 R12: 00000000014000c0\n    Apr 12 11:38:50 testmachine kernel: R13: ffff93679f003b80 R14: ffffffffc0b9090f R15: ffff93679f003b80\n    Apr 12 11:38:50 testmachine kernel: FS:  00007f5a069c4040(0000) GS:ffff9367bfbc0000(0000) knlGS:0000000000000000\n    Apr 12 11:38:50 testmachine kernel: CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033\n    Apr 12 11:38:50 testmachine kernel: CR2: 00007f5a068de000 CR3: 00000007ccb8b000 CR4: 00000000001426e0\n    Apr 12 11:38:50 testmachine kernel: DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000\n    Apr 12 11:38:50 testmachine kernel: DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400\n    Apr 12 11:38:50 testmachine kernel: Call Trace:\n    Apr 12 11:38:50 testmachine kernel:  i915_gem_object_get_pages_internal+0x6f/0x250 [i915]\n    Apr 12 11:38:50 testmachine kernel:  ? kmem_cache_alloc+0x185/0x1a0\n    Apr 12 11:38:50 testmachine kernel:  ____i915_gem_object_get_pages+0x20/0x60 [i915]\n    Apr 12 11:38:50 testmachine kernel:  __i915_gem_object_get_pages+0x52/0x60 [i915]\n    Apr 12 11:38:50 testmachine kernel:  i915_gem_batch_pool_get+0x11d/0x180 [i915]\n    Apr 12 11:38:50 testmachine kernel:  i915_gem_do_execbuffer.isra.38+0x1027/0x1790 [i915]\n    Apr 12 11:38:50 testmachine kernel:  ? shmem_getpage_gfp+0xf9/0xc20\n    Apr 12 11:38:50 testmachine kernel:  i915_gem_execbuffer2+0xc5/0x240 [i915]\n    Apr 12 11:38:50 testmachine kernel:  drm_ioctl+0x21b/0x4c0 [drm]\n    Apr 12 11:38:50 testmachine kernel:  ? i915_gem_execbuffer+0x310/0x310 [i915]\n    Apr 12 11:38:50 testmachine kernel:  ? __seccomp_filter+0x67/0x250\n    Apr 12 11:38:50 testmachine kernel:  do_vfs_ioctl+0xa3/0x610\n    Apr 12 11:38:50 testmachine kernel:  ? __secure_computing+0x3f/0xd0\n    Apr 12 11:38:50 testmachine kernel:  ? syscall_trace_enter+0xcd/0x2e0\n    Apr 12 11:38:50 testmachine kernel:  SyS_ioctl+0x79/0x90\n    Apr 12 11:38:50 testmachine kernel:  do_syscall_64+0x5b/0xc0\n    Apr 12 11:38:50 testmachine kernel:  entry_SYSCALL64_slow_path+0x25/0x25\n    Apr 12 11:38:50 testmachine kernel: RIP: 0033:0x7f59fba67ca7\n    Apr 12 11:38:50 testmachine kernel: RSP: 002b:00007ffd39778868 EFLAGS: 00000246 ORIG_RAX: 0000000000000010\n    Apr 12 11:38:50 testmachine kernel: RAX: ffffffffffffffda RBX: 000024e398f52800 RCX: 00007f59fba67ca7\n    Apr 12 11:38:50 testmachine kernel: RDX: 00007ffd397788b0 RSI: 0000000040406469 RDI: 00000000000000a4\n    Apr 12 11:38:50 testmachine kernel: RBP: 00007ffd397788b0 R08: 0000000000000000 R09: 0000000000000000\n    Apr 12 11:38:50 testmachine kernel: R10: 0000000000000000 R11: 0000000000000246 R12: 0000000040406469\n    Apr 12 11:38:50 testmachine kernel: R13: 00000000000000a4 R14: 000024e399dd82c0 R15: 0000000000000070\n    Apr 12 11:38:50 testmachine kernel: Code: 08 65 4c 03 05 e7 de 9e 68 49 83 78 10 00 4d 8b 10 0f 84 e0 00 00 00 4d 85 d2 0f 84 d7 00 00 00 49 63 47 20 49 8b 3f 48 8d 4a 01 \u003c49\u003e 8b 1c 02 4c 89 d0 65 48 0f c7 0f 0f 94 c0 84 c0 74 bb 49 63 \n    Apr 12 11:38:50 testmachine kernel: RIP: kmem_cache_alloc_trace+0x7b/0x190 RSP: ffffa479a0e03ad0\n    Apr 12 11:38:50 testmachine kernel: general protection fault: 0000 [#2] SMP\n    Apr 12 11:38:50 testmachine kernel: general protection fault: 0000 [#3] SMP\n\nor:\n\n    Apr 12 09:19:35 testmachine kernel: BUG: unable to handle kernel NULL pointer dereference at 000000000000019c\n    Apr 12 09:19:35 testmachine kernel: IP: __free_pages+0x5/0x30\n    Apr 12 09:19:35 testmachine kernel: PGD 0 \n    Apr 12 09:19:35 testmachine kernel:\n    Apr 12 09:19:35 testmachine kernel: Oops: 0002 [#1] SMP\n    Apr 12 09:19:35 testmachine kernel: Modules linked in: act_police cls_basic sch_ingress veth nfsv3 nfs_acl nfs lockd grace ip6t_REJECT nf_reject_ipv6 nf_conntrack_ipv6 nf_defrag_ipv6 ip6table_filter ip6_tables xt_mac ipt_REJECT nf_reject_ipv4 xt_physdev xt_comment nf_conntrack_ipv4 nf_defrag_ipv4 xt_tcpudp xt_mark xt_set xt_addrtype xt_multiport xt_conntrack nf_conntrack ip_set_hash_net ip_set arc4 md4 nls_utf8 cifs ccm fscache ipta\n    Apr 12 09:19:35 testmachine kernel:  aes_x86_64 crypto_simd glue_helper cryptd intel_cstate snd_hda_codec_realtek snd_hda_codec_generic i915 intel_rapl_perf snd_hda_intel drm_kms_helper input_leds joydev snd_hda_codec drm snd_hda_core snd_hwdep i2c_algo_bit fb_sys_fops snd_pcm syscopyarea snd_timer sysfillrect sysimgblt snd soundcore mei_me shpchp lpc_ich mei pcspkr tpm_infineon wmi video mac_hid acpi_pad vhost_net vhost macvtap mac\n    Apr 12 09:19:35 testmachine kernel: CPU: 2 PID: 69 Comm: kworker/2:1 Tainted: P        W  O    4.10.5-1-pve #1\n    Apr 12 09:19:35 testmachine kernel: Hardware name: ASUS All Series/Z97-A, BIOS 2801 11/11/2015\n    Apr 12 09:19:35 testmachine kernel: Workqueue: events __i915_gem_free_work [i915]\n    Apr 12 09:19:35 testmachine kernel: task: ffff88885b134380 task.stack: ffffa7e243410000\n    Apr 12 09:19:35 testmachine kernel: RIP: 0010:__free_pages+0x5/0x30\n    Apr 12 09:19:35 testmachine kernel: RSP: 0018:ffffa7e243413d18 EFLAGS: 00010206\n    Apr 12 09:19:35 testmachine kernel: RAX: 00000000000ffff8 RBX: ffff888762473460 RCX: ffff888762473470\n    Apr 12 09:19:35 testmachine kernel: RDX: ffff888762473460 RSI: 0000000000000014 RDI: 0000000000000180\n    Apr 12 09:19:35 testmachine kernel: RBP: ffffa7e243413d38 R08: 0000000000000000 R09: 0000000000000000\n    Apr 12 09:19:35 testmachine kernel: R10: ffff8887dd8c1080 R11: 0000000000000000 R12: ffff8887624738f0\n    Apr 12 09:19:35 testmachine kernel: R13: 00000000ffffffff R14: ffff8887dd8c0440 R15: 0000000000000000\n    Apr 12 09:19:35 testmachine kernel: FS:  0000000000000000(0000) GS:ffff88887fa80000(0000) knlGS:0000000000000000\n    Apr 12 09:19:35 testmachine kernel: CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033\n    Apr 12 09:19:35 testmachine kernel: CR2: 000000000000019c CR3: 0000000476e09000 CR4: 00000000001426e0\n    Apr 12 09:19:35 testmachine kernel: DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000\n    Apr 12 09:19:35 testmachine kernel: DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400\n    Apr 12 09:19:35 testmachine kernel: Call Trace:\n    Apr 12 09:19:35 testmachine kernel:  ? internal_free_pages+0x40/0x80 [i915]\n    Apr 12 09:19:35 testmachine kernel:  i915_gem_object_put_pages_internal+0x1f/0x30 [i915]\n    Apr 12 09:19:35 testmachine kernel:  __i915_gem_object_put_pages.part.62+0x11d/0x180 [i915]\n    Apr 12 09:19:35 testmachine kernel:  ? dma_fence_context_alloc+0x20/0x20\n    Apr 12 09:19:35 testmachine kernel:  __i915_gem_free_objects+0x161/0x330 [i915]\n    Apr 12 09:19:35 testmachine kernel:  __i915_gem_free_work+0x33/0x50 [i915]\n    Apr 12 09:19:35 testmachine kernel:  process_one_work+0x1fc/0x4b0\n    Apr 12 09:19:35 testmachine kernel:  worker_thread+0x4b/0x500\n    Apr 12 09:19:35 testmachine kernel:  kthread+0x101/0x140\n    Apr 12 09:19:35 testmachine kernel:  ? process_one_work+0x4b0/0x4b0\n    Apr 12 09:19:35 testmachine kernel:  ? kthread_create_on_node+0x60/0x60\n    Apr 12 09:19:35 testmachine kernel:  ret_from_fork+0x2c/0x40\n    Apr 12 09:19:35 testmachine kernel: Code: ff 41 b8 05 00 00 00 31 c9 4c 89 ea 4c 89 fe e8 a2 e0 ff ff e9 1e ff ff ff 0f 1f 00 66 2e 0f 1f 84 00 00 00 00 00 0f 1f 44 00 00 \u003cf0\u003e ff 4f 1c 75 0e 55 85 f6 48 89 e5 74 08 e8 48 e4 ff ff 5d f3 \n    Apr 12 09:19:35 testmachine kernel: RIP: __free_pages+0x5/0x30 RSP: ffffa7e243413d18\n    Apr 12 09:19:35 testmachine kernel: CR2: 000000000000019c\n    Apr 12 09:19:35 testmachine kernel: ---[ end trace 89cb022ec57f7bd1 ]---", "owner_link": "https://bugs.launchpad.net/api/devel/~f-gruenbichler", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/bug_tasks", "duplicate_of_link": null, "date_created": "2017-04-13T08:37:05.697537+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/subscriptions", "date_last_updated": "2017-06-06T13:14:09.757929+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 258, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/attachments", "security_related": true, "latest_patch_uploaded": null, "tags": ["verification-done-zesty", "zesty"], "date_last_message": "2017-06-06T13:13:53.004272+00:00", "number_of_duplicates": 0, "message_count": 18, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1682368/linked_merge_proposals", "http_etag": "\"484781964bd5977e848305eb5e6b2f38c5af6165-f0a581e2abf57bda38510c42894fe45bb3662812\""}, "bugtask_data": {"2231033": {"milestone_widget_items": "[]", "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/zesty/+source/linux/+bug/1682368/+delete", "user_can_edit_status": true, "bugtask_path": "/ubuntu/zesty/+source/linux/+bug/1682368", "row_id": "tasksummary2231033", "importance_value": "Medium", "importance_widget_items": "[]", "id": 2231033, "user_can_delete": false, "targetname": "linux (Ubuntu Zesty)", "user_can_edit_importance": false, "assignee_vocabulary_filters": [], "bug_title": "refcount underflow / kernel NULL dereference after attempting to add basic tc filter", "assignee_value": "f-gruenbichler", "hide_assignee_team_selection": true, "user_can_edit_assignee": false, "form_row_id": "task2231033", "target_is_product": false, "assignee_is_team": false, "status_value": "Fix Released", "user_can_unassign": false, "milestone_value": null, "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_milestone": false, "prefix": "ubuntu_zesty_linux"}, "2231002": {"milestone_widget_items": "[]", "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368/+delete", "user_can_edit_status": true, "bugtask_path": "/ubuntu/+source/linux/+bug/1682368", "row_id": "tasksummary2231002", "importance_value": "Medium", "importance_widget_items": "[]", "id": 2231002, "user_can_delete": false, "targetname": "linux (Ubuntu)", "user_can_edit_importance": false, "assignee_vocabulary_filters": [], "bug_title": "refcount underflow / kernel NULL dereference after attempting to add basic tc filter", "assignee_value": "f-gruenbichler", "hide_assignee_team_selection": true, "user_can_edit_assignee": false, "form_row_id": "task2231002", "target_is_product": false, "assignee_is_team": false, "status_value": "Fix Released", "user_can_unassign": false, "milestone_value": null, "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_milestone": false, "prefix": "ubuntu_linux"}}, "bug_is_private": false, "context": {"self_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/linux/+bug/1682368", "web_link": "https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1682368", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1682368", "milestone_link": null, "status": "Fix Released", "importance": "Medium", "assignee_link": "https://bugs.launchpad.net/api/devel/~f-gruenbichler", "bug_target_display_name": "linux (Ubuntu)", "bug_target_name": "linux (Ubuntu)", "bug_watch_link": null, "date_assigned": "2017-04-13T10:48:36.847801+00:00", "date_created": "2017-04-13T08:37:05.697537+00:00", "date_confirmed": "2017-04-13T09:21:58.737652+00:00", "date_incomplete": null, "date_in_progress": "2017-04-13T10:48:10.382933+00:00", "date_closed": "2017-06-01T20:50:02.267699+00:00", "date_left_new": "2017-04-13T09:01:00.639859+00:00", "date_triaged": "2017-04-13T10:48:10.382933+00:00", "date_fix_committed": "2017-04-25T12:18:42.302616+00:00", "date_fix_released": "2017-06-01T20:50:02.267699+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~f-gruenbichler", "target_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/linux", "title": "Bug #1682368 in linux (Ubuntu): \"refcount underflow / kernel NULL dereference after attempting to add basic tc filter\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/linux/+bug/1682368/related_tasks", "is_complete": true, "http_etag": "\"c42e43fdd2a62e3fe15931ba4b272c6eb7a752c4-f07a068fa11029956022c5bdd9bb0f89e842087a\""}, "information_type_data": {"PUBLIC": {"value": "PUBLIC", "is_private": false, "order": 0, "name": "Public", "description": "Everyone can see this information.\n", "description_css_class": "choice-description"}, "PRIVATESECURITY": {"value": "PRIVATESECURITY", "is_private": true, "order": 2, "name": "Private Security", "description": "Only the security group can see this information.\n ", "description_css_class": "choice-description"}, "USERDATA": {"value": "USERDATA", "is_private": true, "order": 3, "name": "Private", "description": "Only shared with users permitted to see private user information.\n", "description_css_class": "choice-description"}, "PUBLICSECURITY": {"value": "PUBLICSECURITY", "is_private": false, "order": 1, "name": "Public Security", "description": "Everyone can see this security related information.\n", "description_css_class": "choice-description"}}, "total_comments_and_activity": 40};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 71 queries/external actions issued in 0.83 seconds

    Features: {'bugs.nominations.bug_supervisors_can_target': 'on', 'hard_timeout': '9000', 'visible_render_time': None, 'bugs.affected_count_includes_dupes.disabled': None, 'app.mainsite_only.canonical_url': None, 'app.maintenance_message': None, 'js.yui_version': None, 'disclosure.dsp_picker.enabled': 'on', 'profiling.enabled': None, 'baselayout.careers_link.disabled': None}

    r0d8de2b

    -->

</html>

