<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#794260 - devscripts: licensecheck: CVE-2015-5704: shell injection vulnerability - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=794260&quot;&gt;794260&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:794260@bugs.debian.org">#794260</a><br>
devscripts: licensecheck: CVE-2015-5704: shell injection vulnerability</h1>
<div class="versiongraph"><a href="version.cgi?found=devscripts%2F2.15.6;found=devscripts%2F2.15.5;collapse=1;fixed=devscripts%2F2.15.7;package=devscripts;absolute=0;info=1"><img alt="version graph" src="version.cgi?collapse=1;found=devscripts%2F2.15.6;found=devscripts%2F2.15.5;width=2;height=2;package=devscripts;absolute=0;fixed=devscripts%2F2.15.7"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=devscripts">devscripts</a>;
Maintainer for <a href="pkgreport.cgi?package=devscripts">devscripts</a> is <a href="pkgreport.cgi?maint=devscripts%40packages.debian.org">Devscripts Maintainers &lt;devscripts@packages.debian.org&gt;</a>; Source for <a href="pkgreport.cgi?package=devscripts">devscripts</a> is <a href="pkgreport.cgi?src=devscripts">src:devscripts</a> (<a href="https://tracker.debian.org/pkg/devscripts">PTS</a>, <a href="https://buildd.debian.org/devscripts">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=devscripts">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=dr%40jones.dk">Jonas Smedegaard &lt;dr@jones.dk&gt;</a></p>
  <p>Date: Fri, 31 Jul 2015 18:45:14 UTC</p>

<p>Severity: <em class="severity">grave</em></p>
<p>Tags: patch, security</p>

<p>Found in versions devscripts/2.15.6, devscripts/2.15.5</p>
<p>Fixed in version devscripts/2.15.7</p>

<p><strong>Done:</strong> James McCoy &lt;jamessan@debian.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p></div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=794260;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Devscripts Devel Team &lt;devscripts-devel@lists.alioth.debian.org&gt; -->
<!-- time:1438368317 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Devscripts Devel Team &lt;devscripts-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#794260</code>; Package <code>devscripts</code>.
 (Fri, 31 Jul 2015 18:45:17 GMT) (<a href="bugreport.cgi?bug=794260;msg=2">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Jonas Smedegaard &lt;dr@jones.dk&gt; -->
<!-- time:1438368318 -->
<strong>Acknowledgement sent</strong>
to <code>Jonas Smedegaard &lt;dr@jones.dk&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Devscripts Devel Team &lt;devscripts-devel@lists.alioth.debian.org&gt;</code>.
 (Fri, 31 Jul 2015 18:45:18 GMT) (<a href="bugreport.cgi?bug=794260;msg=4">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=794260;msg=5">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=5">mbox</a>, <a href="mailto:794260@bugs.debian.org?References=%3C20150731184412.24488.26504.reportbug%40auryn.jones.dk%3E&amp;body=On%20Fri%2C%2031%20Jul%202015%2020%3A44%3A12%20%2B0200%20Jonas%20Smedegaard%20%3Cdr%40jones.dk%3E%20wrote%3A%0A%3E%20Package%3A%20devscripts%0A%3E%20Version%3A%202.15.6%0A%3E%20Severity%3A%20grave%0A%3E%20Tags%3A%20security%20patch%0A%3E%20Justification%3A%20user%20security%20hole%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA1%0A%3E%20%0A%3E%20On%20line%20324%20of%20licensecheck%20is%20executed%20this%20shell%20code%3A%0A%3E%20%0A%3E%20%20%20file%20--brief%20--mime%20--dereference%20%24file%0A%3E%20%0A%3E%20That%20will%20fail%20if%20the%20input%20file%20contains%20space%2C%20and%20may%20do%20horrible%0A%3E%20things%20with%20input%20files%20containing%20semicolon.%0A%3E%20%0A%3E%20Fix%20is%20simple%3A%20Add%20quotes%20around%20the%20variable%2C%20so%20line%20324%20looks%20like%0A%3E%20this%3A%0A%3E%20%0A%3E%20%20%20%20%20my%20%24mime%20%3D%20%60file%20--brief%20--mime%20--dereference%20%22%24file%22%60%3B%0A%3E%20%0A%3E%20%0A%3E%20%20-%20Jonas%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNATURE-----%0A%3E%20Version%3A%20GnuPG%20v1%0A%3E%20%0A%3E%20iQIcBAEBAgAGBQJVu8H2AAoJECx8MUbBoAEhFwAP%2BwYs9y6MjavimltBk7DbMmV9%0A%3E%20TrYB%2FTcAQyv9zHw4OS%2FqJqHUf8W7fU%2BWsugCnWEfKpX1zBKVT4cXYTiB9bz43ayB%0A%3E%20eZoykVxP5xe7OTVM1m96lDjy4hUC0sK%2FjQ8%2BiPP29apWFLGAJKVGYBKn%2F5qDNd4v%0A%3E%20FZpCoUuy4aFIKCCzQ%2F1cIhPG8K6xekiQRYqczH2tFoyAD9kN5w3ybxtuMob0SgMY%0A%3E%20tEpqfRrxVwLJNMjae1aUa%2F4gwfEo1TUT94bgsAihtBKR%2BQE645MgBvu1duNoAR2%2B%0A%3E%209o3c1%2FFB%2BryNFraPNkrU8P0Y81Bv5Bf2XXd%2F1QxZe2IatBgZZMw36nISyqnsJBeP%0A%3E%206esh9sI8jgnMYz5CNN%2BjV681vqBfU4l%2FZBEpmiYs04uR0Gn%2FarDt5TrSQAYvPLIY%0A%3E%20D%2FaR4oUqO5Pwf2zXKNHgzSU7Ubh7I4a0k3TQwq6%2FmTzTBcpwvZXoTwEisA7JVhsP%0A%3E%20SOKWc%2Bj4E8ueDFgdL6%2F65HaNAwi7VYcG72EHlQ5CRGsWN61ejkJcjq%2FLiNajIELo%0A%3E%20IvU40b%2FX3D%2Fsjf6TbgWdHUl5S5ogzJiRpLfzBfkKAoY76DqcJ21M5Z%2BMVk98T9yF%0A%3E%20OjqMzCFWduQ6NsZwNQq7YLeotx8Y1qaebxEDg1QWuGf9Fh5dQQH7PAnXi26u51ZM%0A%3E%20a5cD5Cr9fCoXidVYrJhK%0A%3E%20%3DRNm9%0A%3E%20-----END%20PGP%20SIGNATURE-----%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20devscripts%3A%20licensecheck%20chokes%20on%20files%20containing%20space&amp;In-Reply-To=%3C20150731184412.24488.26504.reportbug%40auryn.jones.dk%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=dr%40jones.dk" alt="">
<div class="header"><span class="headerfield">From:</span> Jonas Smedegaard &lt;dr@jones.dk&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> devscripts: licensecheck chokes on files containing space</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 31 Jul 2015 20:44:12 +0200</div>
</div>
<pre class="message">Package: devscripts
Version: 2.15.6
Severity: grave
Tags: security patch
Justification: user security hole

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On line 324 of licensecheck is executed this shell code:

  file --brief --mime --dereference $file

That will fail if the input file contains space, and may do horrible
things with input files containing semicolon.

Fix is simple: Add quotes around the variable, so line 324 looks like
this:

    my $mime = `file --brief --mime --dereference &quot;$file&quot;`;


 - Jonas

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBAgAGBQJVu8H2AAoJECx8MUbBoAEhFwAP+wYs9y6MjavimltBk7DbMmV9
TrYB/TcAQyv9zHw4OS/qJqHUf8W7fU+WsugCnWEfKpX1zBKVT4cXYTiB9bz43ayB
eZoykVxP5xe7OTVM1m96lDjy4hUC0sK/jQ8+iPP29apWFLGAJKVGYBKn/5qDNd4v
FZpCoUuy4aFIKCCzQ/1cIhPG8K6xekiQRYqczH2tFoyAD9kN5w3ybxtuMob0SgMY
tEpqfRrxVwLJNMjae1aUa/4gwfEo1TUT94bgsAihtBKR+QE645MgBvu1duNoAR2+
9o3c1/FB+ryNFraPNkrU8P0Y81Bv5Bf2XXd/1QxZe2IatBgZZMw36nISyqnsJBeP
6esh9sI8jgnMYz5CNN+jV681vqBfU4l/ZBEpmiYs04uR0Gn/arDt5TrSQAYvPLIY
D/aR4oUqO5Pwf2zXKNHgzSU7Ubh7I4a0k3TQwq6/mTzTBcpwvZXoTwEisA7JVhsP
SOKWc+j4E8ueDFgdL6/65HaNAwi7VYcG72EHlQ5CRGsWN61ejkJcjq/LiNajIELo
IvU40b/X3D/sjf6TbgWdHUl5S5ogzJiRpLfzBfkKAoY76DqcJ21M5Z+MVk98T9yF
OjqMzCFWduQ6NsZwNQq7YLeotx8Y1qaebxEDg1QWuGf9Fh5dQQH7PAnXi26u51ZM
a5cD5Cr9fCoXidVYrJhK
=RNm9
-----END PGP SIGNATURE-----


</pre>

<div class="infmessage"><hr><p>
<a name="6"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Devscripts Devel Team &lt;devscripts-devel@lists.alioth.debian.org&gt; -->
<!-- time:1438371368 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Devscripts Devel Team &lt;devscripts-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#794260</code>; Package <code>devscripts</code>.
 (Fri, 31 Jul 2015 19:36:08 GMT) (<a href="bugreport.cgi?bug=794260;msg=7">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="8"></a><a name="msg8"></a><a href="#8">Message #8</a> received at 794260@bugs.debian.org (<a href="bugreport.cgi?bug=794260;msg=8">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=8">mbox</a>, <a href="mailto:794260@bugs.debian.org?References=%3C20150731184412.24488.26504.reportbug%40auryn.jones.dk%3E%0A%20%3C20150731193233.GA5835%40jwilk.net%3E&amp;In-Reply-To=%3C20150731193233.GA5835%40jwilk.net%3E&amp;subject=Re%3A%20Bug%23794260%3A%20devscripts%3A%20licensecheck%20chokes%20on%20files%20containing%0A%20space&amp;body=On%20Fri%2C%2031%20Jul%202015%2021%3A32%3A33%20%2B0200%20Jakub%20Wilk%20%3Cjwilk%40debian.org%3E%20wrote%3A%0A%3E%20%2A%20Jonas%20Smedegaard%20%3Cdr%40jones.dk%3E%2C%202015-07-31%2C%2020%3A44%3A%0A%3E%20%3EOn%20line%20324%20of%20licensecheck%20is%20executed%20this%20shell%20code%3A%0A%3E%20%3E%0A%3E%20%3E%20%20file%20--brief%20--mime%20--dereference%20%24file%0A%3E%20%3E%0A%3E%20%3EThat%20will%20fail%20if%20the%20input%20file%20contains%20space%2C%20and%20may%20do%20horrible%20%0A%3E%20%3Ethings%20with%20input%20files%20containing%20semicolon.%0A%3E%20%3E%0A%3E%20%3EFix%20is%20simple%3A%20Add%20quotes%20around%20the%20variable%2C%20so%20line%20324%20looks%20like%20%0A%3E%20%3Ethis%3A%0A%3E%20%3E%0A%3E%20%3E%20%20%20%20my%20%24mime%20%3D%20%60file%20--brief%20--mime%20--dereference%20%22%24file%22%60%3B%0A%3E%20%0A%3E%20Note%20that%20%24file%20is%20expanded%20by%20Perl%2C%20not%20by%20shell%2C%20so%20this%20change%20is%20not%20%0A%3E%20sufficient%3A%0A%3E%20%7C%20%24%20touch%20%27%22%3B%20cowsay%20moo%3B%20%23.c%27%0A%3E%20%7C%20%24%20licensecheck%20%2A.c%0A%3E%20%7C%20%2Fusr%2Fbin%2Flicensecheck%20warning%3A%20cannot%20parse%20file%20%27%22%3B%20cowsay%20moo%3B%20%23.c%27%20with%20mime%20type%20%27cannot%20open%20%60%27%20%28No%20such%20file%20or%20directory%29%0A%3E%20%7C%20%20_____%0A%3E%20%7C%20%3C%20moo%20%3E%0A%3E%20%7C%20%20-----%0A%3E%20%7C%20%20%20%20%20%20%20%20%20%5C%20%20%20%5E__%5E%0A%3E%20%7C%20%20%20%20%20%20%20%20%20%20%5C%20%20%28oo%29%5C_______%0A%3E%20%7C%20%20%20%20%20%20%20%20%20%20%20%20%20%28__%29%5C%20%20%20%20%20%20%20%29%5C%2F%5C%0A%3E%20%7C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%7C----w%20%7C%0A%3E%20%7C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%7C%20%20%20%20%20%7C%7C%27%0A%3E%20%0A%3E%20%28If%20the%20variable%20were%20expanded%20by%20shell%2C%20command%20injection%20wouldn%27t%20be%20%0A%3E%20even%20possible.%20You%20could%20still%20exploit%20argument%20injection%2C%20but%20that%27s%20%0A%3E%20less%20exciting.%29%0A%3E%20%0A%3E%20--%20%0A%3E%20Jakub%20Wilk%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jwilk%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Jakub Wilk &lt;jwilk@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jonas Smedegaard &lt;dr@jones.dk&gt;, 794260@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#794260: devscripts: licensecheck chokes on files containing
 space</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 31 Jul 2015 21:32:33 +0200</div>
</div>
<pre class="message flowed">* Jonas Smedegaard &lt;dr@jones.dk&gt;, 2015-07-31, 20:44:
&gt;On line 324 of licensecheck is executed this shell code:
&gt;
&gt;  file --brief --mime --dereference $file
&gt;
&gt;That will fail if the input file contains space, and may do horrible 
&gt;things with input files containing semicolon.
&gt;
&gt;Fix is simple: Add quotes around the variable, so line 324 looks like 
&gt;this:
&gt;
&gt;    my $mime = `file --brief --mime --dereference &quot;$file&quot;`;

Note that $file is expanded by Perl, not by shell, so this change is not 
sufficient:
| $ touch &#39;&quot;; cowsay moo; #.c&#39;
| $ licensecheck *.c
| /usr/bin/licensecheck warning: cannot parse file &#39;&quot;; cowsay moo; #.c&#39; with mime type &#39;cannot open `&#39; (No such file or directory)
|  _____
| &lt; moo &gt;
|  -----
|         \   ^__^
|          \  (oo)\_______
|             (__)\       )\/\
|                 ||----w |
|                 ||     ||&#39;

(If the variable were expanded by shell, command injection wouldn&#39;t be 
even possible. You could still exploit argument injection, but that&#39;s 
less exciting.)

-- 
Jakub Wilk


</pre>

<div class="msgreceived"><hr><p>
<a name="9"></a>
<!-- command:found -->
<!-- requester: James McCoy &lt;jamessan@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1438386664 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;devscripts/2.15.6&#39;,
                                    &#39;devscripts/2.15.5&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;devscripts/2.15.6&#39;
                                  ]
            };
-->
<strong>Marked as found in versions devscripts/2.15.5.</strong>
Request was from <code>James McCoy &lt;jamessan@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Fri, 31 Jul 2015 23:51:04 GMT) (<a href="bugreport.cgi?bug=794260;msg=10">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=10">mbox</a>, <a href="#9">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="11"></a>
<!-- command:tag -->
<!-- requester: James McCoy &lt;jamessan@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1438390086 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;patch security pending&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;patch security&#39;
            };
-->
<strong>Added tag(s) pending.</strong>
Request was from <code>James McCoy &lt;jamessan@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 01 Aug 2015 00:48:06 GMT) (<a href="bugreport.cgi?bug=794260;msg=12">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="13"></a>
<!-- request_addr: Jonas Smedegaard &lt;dr@jones.dk&gt; -->
<!-- time:1438390095 -->
<strong>Message sent on</strong>
to <code>Jonas Smedegaard &lt;dr@jones.dk&gt;</code>:<br>
Bug#794260.
 (Sat, 01 Aug 2015 00:48:15 GMT) (<a href="bugreport.cgi?bug=794260;msg=14">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=14">mbox</a>, <a href="#13">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="15"></a><a name="msg15"></a><a href="#15">Message #15</a> received at 794260-submitter@bugs.debian.org (<a href="bugreport.cgi?bug=794260;msg=15">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=15">mbox</a>, <a href="mailto:794260@bugs.debian.org?References=%3CE1ZLKwU-0007Xe-Uk%40moszumanska.debian.org%3E&amp;body=On%20Sat%2C%2001%20Aug%202015%2000%3A46%3A26%20%2B0000%20James%20McCoy%20%3Cjamessan%40debian.org%3E%20wrote%3A%0A%3E%20tag%20794260%20pending%0A%3E%20thanks%0A%3E%20%0A%3E%20Hello%2C%0A%3E%20%0A%3E%20Bug%20%23794260%20reported%20by%20you%20has%20been%20fixed%20in%20the%20Git%20repository.%20You%20can%0A%3E%20see%20the%20changelog%20below%2C%20and%20you%20can%20check%20the%20diff%20of%20the%20fix%20at%3A%0A%3E%20%0A%3E%20%20%20%20%20http%3A%2F%2Fgit.debian.org%2F%3Fp%3Dcollab-maint%2Fdevscripts.git%3Ba%3Dcommitdiff%3Bh%3Dc0687bc%0A%3E%20%0A%3E%20---%0A%3E%20commit%20c0687bcde23108dd42e146573c368b6905e6b8e8%0A%3E%20Author%3A%20James%20McCoy%20%3Cjamessan%40debian.org%3E%0A%3E%20Date%3A%20%20%20Fri%20Jul%2031%2019%3A56%3A36%202015%20-0400%0A%3E%20%0A%3E%20%20%20%20%20licensecheck%3A%20Use%20Dpkg%3A%3AIPC%20to%20run%20file%20command%0A%3E%20%20%20%20%20%0A%3E%20%20%20%20%20The%20command%20being%20run%20through%20%60%60%20allowed%20the%20shell%20to%20interpret%20the%0A%3E%20%20%20%20%20given%20file%20argument%2C%20which%20allows%20arbitrary%20command%20execution.%20%20Using%0A%3E%20%20%20%20%20Dpkg%3A%3AIPC%20avoids%20the%20shell%2C%20directly%20executing%20file.%0A%3E%20%20%20%20%20%0A%3E%20%20%20%20%20Closes%3A%20%23794260%0A%3E%20%20%20%20%20Signed-off-by%3A%20James%20McCoy%20%3Cjamessan%40debian.org%3E%0A%3E%20%0A%3E%20diff%20--git%20a%2Fdebian%2Fchangelog%20b%2Fdebian%2Fchangelog%0A%3E%20index%20a9cd9cb..6536846%20100644%0A%3E%20---%20a%2Fdebian%2Fchangelog%0A%3E%20%2B%2B%2B%20b%2Fdebian%2Fchangelog%0A%3E%20%40%40%20-1%2C3%20%2B1%2C10%20%40%40%0A%3E%20%2Bdevscripts%20%282.15.7%29%20UNRELEASED%3B%20urgency%3Dmedium%0A%3E%20%2B%0A%3E%20%2B%20%20%2A%20licensecheck%3A%0A%3E%20%2B%20%20%20%20%2B%20Use%20Dpkg%3A%3AIPC%20to%20run%20file%20to%20avoid%20shell%20injection.%20%20%28Closes%3A%20%23794260%29%0A%3E%20%2B%0A%3E%20%2B%20--%20James%20McCoy%20%3Cjamessan%40debian.org%3E%20%20Fri%2C%2031%20Jul%202015%2019%3A53%3A04%20-0400%0A%3E%20%2B%0A%3E%20%20devscripts%20%282.15.6%29%20unstable%3B%20urgency%3Dmedium%0A%3E%20%20%0A%3E%20%20%20%20%5B%20Paul%20Wise%20%5D%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20Bug%23794260%20marked%20as%20pending&amp;In-Reply-To=%3CE1ZLKwU-0007Xe-Uk%40moszumanska.debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jamessan%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> James McCoy &lt;jamessan@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 794260-submitter@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#794260 marked as pending</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 01 Aug 2015 00:46:26 +0000</div>
</div>
<pre class="message">tag 794260 pending
thanks

Hello,

Bug #794260 reported by you has been fixed in the Git repository. You can
see the changelog below, and you can check the diff of the fix at:

    <a href="http://git.debian.org/?p=collab-maint/devscripts.git;a=commitdiff;h=c0687bc">http://git.debian.org/?p=collab-maint/devscripts.git;a=commitdiff;h=c0687bc</a>

---
commit c0687bcde23108dd42e146573c368b6905e6b8e8
Author: James McCoy &lt;jamessan@debian.org&gt;
Date:   Fri Jul 31 19:56:36 2015 -0400

    licensecheck: Use Dpkg::IPC to run file command
    
    The command being run through `` allowed the shell to interpret the
    given file argument, which allows arbitrary command execution.  Using
    Dpkg::IPC avoids the shell, directly executing file.
    
    Closes: #<a href="bugreport.cgi?bug=794260">794260</a>
    Signed-off-by: James McCoy &lt;jamessan@debian.org&gt;

diff --git a/debian/changelog b/debian/changelog
index a9cd9cb..6536846 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -1,3 +1,10 @@
+devscripts (2.15.7) UNRELEASED; urgency=medium
+
+  * licensecheck:
+    + Use Dpkg::IPC to run file to avoid shell injection.  (Closes: #<a href="bugreport.cgi?bug=794260">794260</a>)
+
+ -- James McCoy &lt;jamessan@debian.org&gt;  Fri, 31 Jul 2015 19:53:04 -0400
+
 devscripts (2.15.6) unstable; urgency=medium
 
   [ Paul Wise ]


</pre>

<div class="msgreceived"><hr><p>
<a name="16"></a>
<!-- request_addr: James McCoy &lt;jamessan@debian.org&gt; -->
<!-- time:1438400345 -->
<strong>Reply sent</strong>
to <code>James McCoy &lt;jamessan@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Sat, 01 Aug 2015 03:39:05 GMT) (<a href="bugreport.cgi?bug=794260;msg=17">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=17">mbox</a>, <a href="#16">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="18"></a>
<!-- request_addr: Jonas Smedegaard &lt;dr@jones.dk&gt; -->
<!-- time:1438400345 -->
<strong>Notification sent</strong>
to <code>Jonas Smedegaard &lt;dr@jones.dk&gt;</code>:<br>
Bug acknowledged by developer.
 (Sat, 01 Aug 2015 03:39:05 GMT) (<a href="bugreport.cgi?bug=794260;msg=19">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=19">mbox</a>, <a href="#18">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="20"></a><a name="msg20"></a><a href="#20">Message #20</a> received at 794260-close@bugs.debian.org (<a href="bugreport.cgi?bug=794260;msg=20">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=20">mbox</a>, <a href="mailto:794260@bugs.debian.org?References=%3CE1ZLNZZ-0008Ok-2j%40franck.debian.org%3E&amp;body=On%20Sat%2C%2001%20Aug%202015%2003%3A34%3A57%20%2B0000%20James%20McCoy%20%3Cjamessan%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20devscripts%0A%3E%20Source-Version%3A%202.15.7%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20devscripts%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20794260%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20James%20McCoy%20%3Cjamessan%40debian.org%3E%20%28supplier%20of%20updated%20devscripts%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Fri%2C%2031%20Jul%202015%2022%3A50%3A33%20-0400%0A%3E%20Source%3A%20devscripts%0A%3E%20Binary%3A%20devscripts%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%202.15.7%0A%3E%20Distribution%3A%20unstable%0A%3E%20Urgency%3A%20medium%0A%3E%20Maintainer%3A%20Devscripts%20Devel%20Team%20%3Cdevscripts-devel%40lists.alioth.debian.org%3E%0A%3E%20Changed-By%3A%20James%20McCoy%20%3Cjamessan%40debian.org%3E%0A%3E%20Closes%3A%20794260%20794263%20794282%0A%3E%20Description%3A%20%0A%3E%20%20devscripts%20-%20scripts%20to%20make%20the%20life%20of%20a%20Debian%20Package%20maintainer%20easier%0A%3E%20Changes%3A%0A%3E%20%20devscripts%20%282.15.7%29%20unstable%3B%20urgency%3Dmedium%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20licensecheck%3A%0A%3E%20%20%20%20%20%20%2B%20Use%20Dpkg%3A%3AIPC%20to%20run%20file%20to%20avoid%20shell%20injection.%20%20%28Closes%3A%20%23794260%29%0A%3E%20%20%20%20%20%20%2B%20Change%20whitelist%20of%20mime%20types%20to%20greylist%20of%20encodings.%20%20Restores%0A%3E%20%20%20%20%20%20%20%20ability%20to%20check%20files%20with%20mime%20types%20like%20text%2Fx-c%2B%2B%20and%0A%3E%20%20%20%20%20%20%20%20application%2Fpostscript.%20%20Thanks%20to%20Jonas%20Smedegaard%20for%20the%20patch.%0A%3E%20%20%20%20%20%20%20%20%28Closes%3A%20%23794282%29%0A%3E%20%20%20%20%20%20%2B%20Fix%20an%20endless%20loop%20in%20parsing%20certain%20files.%20%20Thanks%20to%20Jonas%0A%3E%20%20%20%20%20%20%20%20Smedegaard%20for%20the%20patch.%20%20%28Closes%3A%20%23794263%29%0A%3E%20Checksums-Sha1%3A%20%0A%3E%20%20e1368f617e07f74cb0bcd41e6202ede27d42d784%202257%20devscripts_2.15.7.dsc%0A%3E%20%204f01f5b1a9f118aebf66461adf46e0e830731f47%20620100%20devscripts_2.15.7.tar.xz%0A%3E%20Checksums-Sha256%3A%20%0A%3E%20%20daee3c021a6f44fe05e7568196c5eb55d34fbb6238f341a7fcf8443caa126ec5%202257%20devscripts_2.15.7.dsc%0A%3E%20%207eadef203bc50612af70fb0047b5225a7f2b5fdaacd45c2df09126fcc1aed027%20620100%20devscripts_2.15.7.tar.xz%0A%3E%20Files%3A%20%0A%3E%20%20e5b6f0e0c29dca1b3f37f3713ec7e75a%202257%20devel%20optional%20devscripts_2.15.7.dsc%0A%3E%20%201655e2c91e42cd48393c65726bc3faa9%20620100%20devel%20optional%20devscripts_2.15.7.tar.xz%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNATURE-----%0A&amp;In-Reply-To=%3CE1ZLNZZ-0008Ok-2j%40franck.debian.org%3E&amp;subject=Re%3A%20Bug%23794260%3A%20fixed%20in%20devscripts%202.15.7">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jamessan%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> James McCoy &lt;jamessan@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 794260-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#794260: fixed in devscripts 2.15.7</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 01 Aug 2015 03:34:57 +0000</div>
</div>
<pre class="message">Source: devscripts
Source-Version: 2.15.7

We believe that the bug you reported is fixed in the latest version of
devscripts, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 794260@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
James McCoy &lt;jamessan@debian.org&gt; (supplier of updated devscripts package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Fri, 31 Jul 2015 22:50:33 -0400
Source: devscripts
Binary: devscripts
Architecture: source
Version: 2.15.7
Distribution: unstable
Urgency: medium
Maintainer: Devscripts Devel Team &lt;devscripts-devel@lists.alioth.debian.org&gt;
Changed-By: James McCoy &lt;jamessan@debian.org&gt;
Closes: <a href="bugreport.cgi?bug=794260">794260</a> <a href="bugreport.cgi?bug=794263">794263</a> <a href="bugreport.cgi?bug=794282">794282</a>
Description: 
 devscripts - scripts to make the life of a Debian Package maintainer easier
Changes:
 devscripts (2.15.7) unstable; urgency=medium
 .
   * licensecheck:
     + Use Dpkg::IPC to run file to avoid shell injection.  (Closes: #<a href="bugreport.cgi?bug=794260">794260</a>)
     + Change whitelist of mime types to greylist of encodings.  Restores
       ability to check files with mime types like text/x-c++ and
       application/postscript.  Thanks to Jonas Smedegaard for the patch.
       (Closes: #<a href="bugreport.cgi?bug=794282">794282</a>)
     + Fix an endless loop in parsing certain files.  Thanks to Jonas
       Smedegaard for the patch.  (Closes: #<a href="bugreport.cgi?bug=794263">794263</a>)
Checksums-Sha1: 
 e1368f617e07f74cb0bcd41e6202ede27d42d784 2257 devscripts_2.15.7.dsc
 4f01f5b1a9f118aebf66461adf46e0e830731f47 620100 devscripts_2.15.7.tar.xz
Checksums-Sha256: 
 daee3c021a6f44fe05e7568196c5eb55d34fbb6238f341a7fcf8443caa126ec5 2257 devscripts_2.15.7.dsc
 7eadef203bc50612af70fb0047b5225a7f2b5fdaacd45c2df09126fcc1aed027 620100 devscripts_2.15.7.tar.xz
Files: 
 e5b6f0e0c29dca1b3f37f3713ec7e75a 2257 devel optional devscripts_2.15.7.dsc
 1655e2c91e42cd48393c65726bc3faa9 620100 devel optional devscripts_2.15.7.tar.xz

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQJ8BAEBCgBmBQJVvDcKXxSAAAAAAC4AKGlzc3Vlci1mcHJAbm90YXRpb25zLm9w
ZW5wZ3AuZmlmdGhob3JzZW1hbi5uZXQ5MUJGQkY0RDY5NTZCRDVERjdCNzJEMjNE
RkU2OTFBRTMzMUJBM0RCAAoJEN/mka4zG6PbXJwQAJiTiBnnINA0iMvImKmRRxMl
8hBGGBI7+dhsoDeDAcS4z1Dg4NzkarF+kg51JbUrgOkRBNevJXheqhM+tM40xjPG
DDfXSOKTcm0MLKJlr79BevQ1wCE/xoWygTWLvChAEL6exDnjauv2vGJhFvvwwkkS
ILyJYNl50bqM56SZc3PXRdV7GDd8Az6qGFHihsSN4i0+7JIV4z4WjKd1IRg79uxs
lNvFCt+FPFhsRdYlzzLlrxDMDeC2sFHkt9cdg+3JdNojC97In2VZ02fTXCI7hA20
fvMKk+3esPhVkdv8pBGAAaKJsCaCV4kd97w9/L12sjC7pMsakiX2QVD83m5UCUKb
ETuqttftEX857+2ZMLk9o26t3HFbv7jTv1Rcs99+XVe3pzJdGYa7XwmQlP1ROZwv
xvsNGbdwoGOf8biGKdcR6jyAl5WixtgKJpD6eluOD/jcazMiI/F38sDrCaM/opYd
uMewMR3MCpuKh+fvcIPxbuj6mAULjyBOmAZyypWk4whqpslZxf+f3/LejDL7tSMo
+cUtYSrYRWmychmCrzC+czr8GtZ4epDgiuprXvSvSS95UsGzYVqLPvtB3rq/+s7i
Wy2jgMYUuz1PcnBiCom8ek8BNIl6LcX7BzDwUZwtWPoXKQp7F5QZwhqYwplYnbFG
k7dyXY+do50+JpJ2rAZB
=4pg9
-----END PGP SIGNATURE-----



</pre>

<div class="msgreceived"><hr><p>
<a name="21"></a>
<!-- command:title -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: submit@bugs.debian.org -->
<!-- time:1438500793 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;devscripts: licensecheck: CVE-2015-5704: shell injection vulnerability&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;devscripts: licensecheck chokes on files containing space&#39;
            };
-->
<strong>Changed Bug title to &#39;devscripts: licensecheck: CVE-2015-5704: shell injection vulnerability&#39; from &#39;devscripts: licensecheck chokes on files containing space&#39;</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>submit@bugs.debian.org</code>.
 (Sun, 02 Aug 2015 07:33:13 GMT) (<a href="bugreport.cgi?bug=794260;msg=22">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=22">mbox</a>, <a href="#21">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="23"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1441179179 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Wed, 02 Sep 2015 07:32:59 GMT) (<a href="bugreport.cgi?bug=794260;msg=24">full text</a>, <a href="bugreport.cgi?bug=794260;mbox=yes;msg=24">mbox</a>, <a href="#23">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=794260">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:31:52 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
