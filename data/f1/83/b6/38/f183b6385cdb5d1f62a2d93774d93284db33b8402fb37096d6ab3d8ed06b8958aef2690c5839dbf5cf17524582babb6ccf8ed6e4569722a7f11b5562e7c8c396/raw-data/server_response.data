<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/qemu/+bug/1892960/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1892960 “Heap-overflow in flatview_read through sdhci_data_...” : Bugs : QEMU</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1892960" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1892960/bug.atom" title="Bug 1892960 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="Hello,
Reproducer:
cat &lt;&lt; EOF | ./qemu-system-i386 -nodefaults \
-device sdhci-pci,sd-spec-version=3 \
-device sd-card,drive=mydrive \
-drive if=sd,index=0,file=null-co://,format=raw,id=mydrive \
-nographic -qtest stdio -accel qtest 
outl 0xcf8 0x80001010
outl 0xcfc 0xd7055dba
outl 0xcf8 0x80001003
outl 0xcfc 0x86b1d733
writeq 0xd7055d2b 0x84126e0ed7d7355e
writeq 0xd7055d23 0x13bd7d7346e0129
writeq 0xd7055d05 0x615bfb845e05c42c
write 0x0 0x1 0x39
write 0x5 0x1 0x06
write 0x6 0x1 0x35
write 0x..." />
      <meta property="og:description" content="Hello,
Reproducer:
cat &lt;&lt; EOF | ./qemu-system-i386 -nodefaults \
-device sdhci-pci,sd-spec-version=3 \
-device sd-card,drive=mydrive \
-drive if=sd,index=0,file=null-co://,format=raw,id=mydrive \
-nographic -qtest stdio -accel qtest 
outl 0xcf8 0x80001010
outl 0xcfc 0xd7055dba
outl 0xcf8 0x80001003
outl 0xcfc 0x86b1d733
writeq 0xd7055d2b 0x84126e0ed7d7355e
writeq 0xd7055d23 0x13bd7d7346e0129
writeq 0xd7055d05 0x615bfb845e05c42c
write 0x0 0x1 0x39
write 0x5 0x1 0x06
write 0x6 0x1 0x35
write 0x..." />
    

    
    
      <meta property="og:title" content="Bug #1892960 “Heap-overflow in flatview_read through sdhci_data_...” : Bugs : QEMU" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1892960" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["arm", "feature-request", "i386", "linux-user", "mips", "patch", "ppc", "qemu-img", "s390x", "sh4", "sparc", "usb", "windows"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/qemu/+bug/1892960/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/qemu"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/27372372/qemu_64.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/qemu">QEMU</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/qemu">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/qemu">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/qemu">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/qemu">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/qemu">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/qemu">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    Heap-overflow in flatview_read through sdhci_data_transfer
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1892960 reported by
      <a href="https://launchpad.net/~a1xndr" class="sprite person">Alexander Bulekov</a>
      <time title="2020-08-26 01:25:27 UTC" datetime="2020-08-26T01:25:27.706310+00:00">on 2020-08-26</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">6</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary2632764">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/qemu/+bug/1892960/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2632764">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/qemu">QEMU</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/qemu/+bug/1892960/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/qemu/+bug/1892960/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2632764">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2632764">
     <td colspan="7"><form action="/qemu/+bug/1892960/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/qemu">QEMU</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~a1xndr" class="sprite person">Alexander Bulekov</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2020-08-26 01:25:27 UTC" datetime="2020-08-26T01:25:27.706310+00:00">2020-08-26</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2020-10-22 14:00:20 UTC" datetime="2020-10-22T14:00:20.528829+00:00">2020-10-22</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2020-10-22 14:00:20 UTC" datetime="2020-10-22T14:00:20.528829+00:00">2020-10-22</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2020-12-10 09:04:18 UTC" datetime="2020-12-10T09:04:18.470132+00:00">2020-12-10</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="qemu.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="qemu.target.option.package" name="qemu.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="qemu.target.distribution" name="qemu.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="qemu.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="qemu.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="qemu.target.package"
                         name="qemu.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;qemu.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('qemu.target.package');
              var select_menu = Y.DOM.byId('qemu.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-qemu-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_team_text": "Remove team", "header": "Select a package", "show_remove_button": false, "selected_value": null, "step_title": "Search by name", "show_assign_me_button": false, "vocabulary_filters": [], "vocabulary_name": "DistributionPackage", "input_element": "qemu.target.package", "show_widget_id": "show-widget-qemu-target-package", "assign_me_text": "Pick me", "show_create_team": false, "remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "selected_value_metadata": null};
        var show_widget_id = 'show-widget-qemu-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="qemu.target.option.product" name="qemu.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="qemu" id="qemu.target.product"
                         name="qemu.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;qemu.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('qemu.target.product');
              var select_menu = Y.DOM.byId('qemu.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-qemu-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_team_text": "Remove team", "header": "Select a project", "show_remove_button": false, "selected_value": "qemu", "step_title": "Search", "show_assign_me_button": false, "vocabulary_filters": [], "vocabulary_name": "Product", "input_element": "qemu.target.product", "show_widget_id": "show-widget-qemu-target-product", "assign_me_text": "Pick me", "show_create_team": false, "remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "selected_value_metadata": null};
        var show_widget_id = 'show-widget-qemu-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="qemu.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="qemu.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="qemu.status" name="qemu.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="qemu.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="qemu.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="qemu.assignee.assign_to_nobody" name="qemu.assignee.option" value="qemu.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="qemu.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="qemu.assignee.assign_to_me" name="qemu.assignee.option" value="qemu.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="qemu.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="qemu.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="qemu.comment_on_change" name="qemu.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/qemu/+bug/1892960/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/qemu/+bug/1892960/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/qemu/+bug/1892960/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>Hello,<br />
Reproducer:<br />
cat &lt;&lt; EOF | ./qemu-system-i386 -nodefaults \<br />
-device sdhci-pci,<wbr />sd-spec-<wbr />version=<wbr />3 \<br />
-device sd-card,<wbr />drive=mydrive \<br />
-drive if=sd,index=<wbr />0,file=<wbr />null-co:<wbr />//,format=<wbr />raw,id=<wbr />mydrive \<br />
-nographic -qtest stdio -accel qtest<br />
outl 0xcf8 0x80001010<br />
outl 0xcfc 0xd7055dba<br />
outl 0xcf8 0x80001003<br />
outl 0xcfc 0x86b1d733<br />
writeq 0xd7055d2b 0x84126e0ed7d7355e<br />
writeq 0xd7055d23 0x13bd7d7346e0129<br />
writeq 0xd7055d05 0x615bfb845e05c42c<br />
write 0x0 0x1 0x39<br />
write 0x5 0x1 0x06<br />
write 0x6 0x1 0x35<br />
write 0x7 0x1 0x01<br />
write 0x1350600 0x1 0x39<br />
writew 0xd7055d0e 0x846e<br />
write 0x1350600 0x1 0x29<br />
write 0x1350602 0x1 0x1a<br />
write 0x1350608 0x1 0x39<br />
clock_step<br />
writeq 0xd7055d03 0x6d00000026000000<br />
clock_step<br />
EOF</p>
<p>The trace:</p>
<p>[R +0.077745] outl 0xcf8 0x80001010<br />
OK<br />
[S +0.077773] OK<br />
[R +0.077792] outl 0xcfc 0xd7055dba<br />
OK<br />
[S +0.077813] OK<br />
[R +0.077826] outl 0xcf8 0x80001003<br />
OK<br />
[S +0.077835] OK<br />
[R +0.077846] outl 0xcfc 0x86b1d733<br />
OK<br />
[S +0.080186] OK<br />
[R +0.080204] writeq 0xd7055d2b 0x84126e0ed7d7355e<br />
752161@<wbr />1598405049.<wbr />572123:<wbr />sdhci_access wr8: addr[0x002b] &lt;- 0x0000005e (94)<br />
752161@<wbr />1598405049.<wbr />572133:<wbr />sdhci_access wr32: addr[0x002c] &lt;- 0x0ed7d735 (249026357)<br />
752161@<wbr />1598405049.<wbr />572142:<wbr />sdhci_access wr16: addr[0x0030] &lt;- 0x0000126e (4718)<br />
752161@<wbr />1598405049.<wbr />572150:<wbr />sdhci_access wr8: addr[0x0032] &lt;- 0x00000084 (132)<br />
OK<br />
[S +0.080255] OK<br />
[R +0.080267] writeq 0xd7055d23 0x13bd7d7346e0129<br />
752161@<wbr />1598405049.<wbr />572176:<wbr />sdhci_error Non-sequential access to Buffer Data Port registeris prohibited</p>
<p>752161@<wbr />1598405049.<wbr />572181:<wbr />sdhci_access wr8: addr[0x0023] &lt;- 0x00000029 (41)<br />
752161@<wbr />1598405049.<wbr />572187:<wbr />sdhci_access wr32: addr[0x0024] &lt;- 0xd7346e01 (3610537473)<br />
752161@<wbr />1598405049.<wbr />572193:<wbr />sdhci_access wr16: addr[0x0028] &lt;- 0x00003bd7 (15319)<br />
752161@<wbr />1598405049.<wbr />572200:<wbr />sdhci_access wr8: addr[0x002a] &lt;- 0x00000001 (1)<br />
OK<br />
[S +0.080303] OK<br />
[R +0.080316] writeq 0xd7055d05 0x615bfb845e05c42c<br />
752161@<wbr />1598405049.<wbr />572226:<wbr />sdhci_access wr8: addr[0x0005] &lt;- 0x0000002c (44)<br />
752161@<wbr />1598405049.<wbr />572233:<wbr />sdhci_access wr16: addr[0x0006] &lt;- 0x000005c4 (1476)<br />
752161@<wbr />1598405049.<wbr />572240:<wbr />sdhci_access wr32: addr[0x0008] &lt;- 0x5bfb845e (1543210078)<br />
752161@<wbr />1598405049.<wbr />572247:<wbr />sdhci_access wr8: addr[0x000c] &lt;- 0x00000061 (97)<br />
OK<br />
[S +0.080350] OK<br />
[R +0.080362] write 0x0 0x1 0x39<br />
OK<br />
[S +0.080606] OK<br />
[R +0.080617] write 0x5 0x1 0x06<br />
OK<br />
[S +0.080629] OK<br />
[R +0.080639] write 0x6 0x1 0x35<br />
OK<br />
[S +0.080648] OK<br />
[R +0.080657] write 0x7 0x1 0x01<br />
OK<br />
[S +0.080665] OK<br />
[R +0.080675] write 0x1350600 0x1 0x39<br />
OK<br />
[S +0.080863] OK<br />
[R +0.080875] writew 0xd7055d0e 0x846e<br />
752161@<wbr />1598405049.<wbr />572786:<wbr />sdhci_send_<wbr />command CMD132 ARG[0x5bfb845e]<br />
752161@<wbr />1598405049.<wbr />572810:<wbr />sdhci_error timeout waiting for command response<br />
752161@<wbr />1598405049.<wbr />572822:<wbr />sdhci_adma_<wbr />loop addr=0x01350600, len=0, attr=0x39<br />
752161@<wbr />1598405049.<wbr />572827:<wbr />sdhci_adma link: admasysaddr=<wbr />0x1350600<br />
752161@<wbr />1598405049.<wbr />572833:<wbr />sdhci_adma_<wbr />loop addr=0x00000000, len=0, attr=0x39<br />
752161@<wbr />1598405049.<wbr />572837:<wbr />sdhci_adma link: admasysaddr=0x0<br />
752161@<wbr />1598405049.<wbr />572842:<wbr />sdhci_adma_<wbr />loop addr=0x01350600, len=0, attr=0x39<br />
752161@<wbr />1598405049.<wbr />572845:<wbr />sdhci_adma link: admasysaddr=<wbr />0x1350600<br />
752161@<wbr />1598405049.<wbr />572851:<wbr />sdhci_adma_<wbr />loop addr=0x00000000, len=0, attr=0x39<br />
752161@<wbr />1598405049.<wbr />572854:<wbr />sdhci_adma link: admasysaddr=0x0<br />
752161@<wbr />1598405049.<wbr />572859:<wbr />sdhci_adma_<wbr />loop addr=0x01350600, len=0, attr=0x39<br />
752161@<wbr />1598405049.<wbr />572862:<wbr />sdhci_adma link: admasysaddr=<wbr />0x1350600<br />
752161@<wbr />1598405049.<wbr />572875:<wbr />sdhci_access wr16: addr[0x000e] &lt;- 0x0000846e (33902)<br />
OK<br />
[S +0.080979] OK<br />
[R +0.080991] write 0x1350600 0x1 0x29<br />
OK<br />
[S +0.081001] OK<br />
[R +0.081011] write 0x1350602 0x1 0x1a<br />
OK<br />
[S +0.081019] OK<br />
[R +0.081029] write 0x1350608 0x1 0x39<br />
OK<br />
[S +0.081037] OK<br />
[R +0.081045] clock_step<br />
752161@<wbr />1598405049.<wbr />572962:<wbr />sdhci_adma_<wbr />loop addr=0x00000000, len=26, attr=0x29<br />
752161@<wbr />1598405049.<wbr />572972:<wbr />sdhci_adma_<wbr />loop addr=0x00000000, len=0, attr=0x39<br />
752161@<wbr />1598405049.<wbr />572977:<wbr />sdhci_adma link: admasysaddr=0x0<br />
752161@<wbr />1598405049.<wbr />572981:<wbr />sdhci_adma_<wbr />loop addr=0x01350600, len=0, attr=0x39<br />
752161@<wbr />1598405049.<wbr />572985:<wbr />sdhci_adma link: admasysaddr=<wbr />0x1350600<br />
752161@<wbr />1598405049.<wbr />572989:<wbr />sdhci_adma_<wbr />loop addr=0x00000000, len=26, attr=0x29<br />
752161@<wbr />1598405049.<wbr />572997:<wbr />sdhci_adma_<wbr />loop addr=0x00000000, len=0, attr=0x39<br />
752161@<wbr />1598405049.<wbr />573001:<wbr />sdhci_adma link: admasysaddr=0x0<br />
OK 100<br />
[S +0.081112] OK 100<br />
[R +0.081126] writeq 0xd7055d03 0x6d00000026000000<br />
752161@<wbr />1598405049.<wbr />573038:<wbr />sdhci_access wr8: addr[0x0003] &lt;- 0x00000000 (0)<br />
752161@<wbr />1598405049.<wbr />573045:<wbr />sdhci_access wr32: addr[0x0004] &lt;- 0x00260000 (2490368)<br />
752161@<wbr />1598405049.<wbr />573051:<wbr />sdhci_access wr16: addr[0x0008] &lt;- 0x00000000 (0)<br />
752161@<wbr />1598405049.<wbr />573057:<wbr />sdhci_access wr8: addr[0x000a] &lt;- 0x0000006d (109)<br />
OK<br />
[S +0.081162] OK<br />
[R +0.081171] clock_step<br />
752161@<wbr />1598405049.<wbr />573085:<wbr />sdhci_adma_<wbr />loop addr=0x01350600, len=0, attr=0x39<br />
752161@<wbr />1598405049.<wbr />573090:<wbr />sdhci_adma link: admasysaddr=<wbr />0x1350600<br />
752161@<wbr />1598405049.<wbr />573096:<wbr />sdhci_adma_<wbr />loop addr=0x00000000, len=26, attr=0x29<br />
=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<wbr />==<br />
==752161==ERROR: AddressSanitizer: heap-buffer-<wbr />overflow on address 0x61500001e500 at pc 0x5651bce1a940 bp 0x7fff16a81f50 sp 0x7fff16a81718<br />
WRITE of size 786432 at 0x61500001e500 thread T0<br />
&nbsp;&nbsp;&nbsp;&nbsp;#0 0x5651bce1a93f in __asan_memcpy (/home/<wbr />alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />qemu-system-<wbr />i386+0x2d2893f)<br />
&nbsp;&nbsp;&nbsp;&nbsp;#1 0x5651bf4197ce in flatview_<wbr />read_continue /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../exec.<wbr />c:3246:<wbr />13<br />
&nbsp;&nbsp;&nbsp;&nbsp;#2 0x5651bf41bff3 in flatview_read /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../exec.<wbr />c:3279:<wbr />12<br />
&nbsp;&nbsp;&nbsp;&nbsp;#3 0x5651bf41bb48 in address_<wbr />space_read_<wbr />full /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../exec.<wbr />c:3292:<wbr />18<br />
&nbsp;&nbsp;&nbsp;&nbsp;#4 0x5651bf41cce8 in address_space_rw /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../exec.<wbr />c:3320:<wbr />16<br />
&nbsp;&nbsp;&nbsp;&nbsp;#5 0x5651bd623b67 in dma_memory_<wbr />rw_relaxed /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/include/<wbr />sysemu/<wbr />dma.h:87:<wbr />18<br />
&nbsp;&nbsp;&nbsp;&nbsp;#6 0x5651bd623585 in dma_memory_rw /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/include/<wbr />sysemu/<wbr />dma.h:110:<wbr />12<br />
&nbsp;&nbsp;&nbsp;&nbsp;#7 0x5651bd6227b7 in dma_memory_read /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/include/<wbr />sysemu/<wbr />dma.h:116:<wbr />12<br />
&nbsp;&nbsp;&nbsp;&nbsp;#8 0x5651bd61b052 in sdhci_do_adma /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../hw/sd/<wbr />sdhci.c:<wbr />792:21<br />
&nbsp;&nbsp;&nbsp;&nbsp;#9 0x5651bd60d3c4 in sdhci_data_transfer /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../hw/sd/<wbr />sdhci.c:<wbr />887:13<br />
&nbsp;&nbsp;&nbsp;&nbsp;#10 0x5651c0c4d917 in timerlist_<wbr />run_timers /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../util/<wbr />qemu-timer.<wbr />c:572:9<br />
&nbsp;&nbsp;&nbsp;&nbsp;#11 0x5651c0c4de51 in qemu_clock_<wbr />run_timers /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../util/<wbr />qemu-timer.<wbr />c:586:12<br />
&nbsp;&nbsp;&nbsp;&nbsp;#12 0x5651bf562a13 in qtest_clock_warp /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../softmmu/<wbr />cpus.c:<wbr />507:9<br />
&nbsp;&nbsp;&nbsp;&nbsp;#13 0x5651bf74f5d8 in qtest_process_<wbr />command /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../softmmu/<wbr />qtest.c:<wbr />665:9<br />
&nbsp;&nbsp;&nbsp;&nbsp;#14 0x5651bf73d63e in qtest_process_inbuf /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../softmmu/<wbr />qtest.c:<wbr />710:9<br />
&nbsp;&nbsp;&nbsp;&nbsp;#15 0x5651bf73c3e3 in qtest_read /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../softmmu/<wbr />qtest.c:<wbr />722:5<br />
&nbsp;&nbsp;&nbsp;&nbsp;#16 0x5651c0842762 in qemu_chr_<wbr />be_write_<wbr />impl /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../chardev/<wbr />char.c:<wbr />188:9<br />
&nbsp;&nbsp;&nbsp;&nbsp;#17 0x5651c08428aa in qemu_chr_be_write /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../chardev/<wbr />char.c:<wbr />200:9<br />
&nbsp;&nbsp;&nbsp;&nbsp;#18 0x5651c0868514 in fd_chr_read /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../chardev/<wbr />char-fd.<wbr />c:68:9<br />
&nbsp;&nbsp;&nbsp;&nbsp;#19 0x5651c0754736 in qio_channel_<wbr />fd_source_<wbr />dispatch /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../io/channel-<wbr />watch.c:<wbr />84:12<br />
&nbsp;&nbsp;&nbsp;&nbsp;#20 0x7fac88fad4cd in g_main_<wbr />context_<wbr />dispatch (/usr/lib/<wbr />x86_64-<wbr />linux-gnu/<wbr />libglib-<wbr />2.0.so.<wbr />0+0x504cd)<br />
&nbsp;&nbsp;&nbsp;&nbsp;#21 0x5651c0cdfc67 in glib_pollfds_poll /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../util/<wbr />main-loop.<wbr />c:217:9<br />
&nbsp;&nbsp;&nbsp;&nbsp;#22 0x5651c0cdd567 in os_host_<wbr />main_loop_<wbr />wait /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../util/<wbr />main-loop.<wbr />c:240:5<br />
&nbsp;&nbsp;&nbsp;&nbsp;#23 0x5651c0cdcf47 in main_loop_wait /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../util/<wbr />main-loop.<wbr />c:516:11<br />
&nbsp;&nbsp;&nbsp;&nbsp;#24 0x5651bf4bb08d in qemu_main_loop /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../softmmu/<wbr />vl.c:1676:<wbr />9<br />
&nbsp;&nbsp;&nbsp;&nbsp;#25 0x5651bce4d51c in main /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../softmmu/<wbr />main.c:<wbr />50:5<br />
&nbsp;&nbsp;&nbsp;&nbsp;#26 0x7fac887b6cc9 in __libc_start_main csu/../<wbr />csu/libc-<wbr />start.c:<wbr />308:16<br />
&nbsp;&nbsp;&nbsp;&nbsp;#27 0x5651bcda2cf9 in _start (/home/<wbr />alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />qemu-system-<wbr />i386+0x2cb0cf9)</p>
<p>0x61500001e500 is located 0 bytes to the right of 512-byte region [0x61500001e300<wbr />,0x61500001e500<wbr />)<br />
allocated by thread T0 here:<br />
&nbsp;&nbsp;&nbsp;&nbsp;#0 0x5651bce1b5b2 in calloc (/home/<wbr />alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />qemu-system-<wbr />i386+0x2d295b2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;#1 0x7fac88fb3210 in g_malloc0 (/usr/lib/<wbr />x86_64-<wbr />linux-gnu/<wbr />libglib-<wbr />2.0.so.<wbr />0+0x56210)<br />
&nbsp;&nbsp;&nbsp;&nbsp;#2 0x5651bd8cd222 in sdhci_pci_realize /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../hw/sd/<wbr />sdhci-pci.<wbr />c:36:5<br />
&nbsp;&nbsp;&nbsp;&nbsp;#3 0x5651bd88c228 in pci_qdev_realize /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../hw/pci/<wbr />pci.c:2114:<wbr />9<br />
&nbsp;&nbsp;&nbsp;&nbsp;#4 0x5651c07a4ec9 in device_set_realized /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../hw/core/<wbr />qdev.c:<wbr />864:13<br />
&nbsp;&nbsp;&nbsp;&nbsp;#5 0x5651bfe384b8 in property_set_bool /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../qom/<wbr />object.<wbr />c:2202:<wbr />5<br />
&nbsp;&nbsp;&nbsp;&nbsp;#6 0x5651bfe2c1cf in object_property_set /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../qom/<wbr />object.<wbr />c:1349:<wbr />5<br />
&nbsp;&nbsp;&nbsp;&nbsp;#7 0x5651bfe49471 in object_<wbr />property_<wbr />set_qobject /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../qom/<wbr />qom-qobject.<wbr />c:28:10<br />
&nbsp;&nbsp;&nbsp;&nbsp;#8 0x5651bfe2d890 in object_<wbr />property_<wbr />set_bool /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../qom/<wbr />object.<wbr />c:1416:<wbr />15<br />
&nbsp;&nbsp;&nbsp;&nbsp;#9 0x5651c078cc64 in qdev_realize /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../hw/core/<wbr />qdev.c:<wbr />379:12<br />
&nbsp;&nbsp;&nbsp;&nbsp;#10 0x5651bd8bd8cc in qdev_device_add /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../qdev-<wbr />monitor.<wbr />c:676:10<br />
&nbsp;&nbsp;&nbsp;&nbsp;#11 0x5651bf4e3e43 in device_init_func /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../softmmu/<wbr />vl.c:2101:<wbr />11<br />
&nbsp;&nbsp;&nbsp;&nbsp;#12 0x5651c0af71e4 in qemu_opts_foreach /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../util/<wbr />qemu-option.<wbr />c:1172:<wbr />14<br />
&nbsp;&nbsp;&nbsp;&nbsp;#13 0x5651bf4cd04b in qemu_init /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../softmmu/<wbr />vl.c:4384:<wbr />5<br />
&nbsp;&nbsp;&nbsp;&nbsp;#14 0x5651bce4d517 in main /home/alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />../softmmu/<wbr />main.c:<wbr />49:5<br />
&nbsp;&nbsp;&nbsp;&nbsp;#15 0x7fac887b6cc9 in __libc_start_main csu/../<wbr />csu/libc-<wbr />start.c:<wbr />308:16</p>
<p>SUMMARY: AddressSanitizer: heap-buffer-<wbr />overflow (/home/<wbr />alxndr/<wbr />Development/<wbr />qemu/general-<wbr />fuzz/build/<wbr />qemu-system-<wbr />i386+0x2d2893f) in __asan_memcpy<br />
Shadow bytes around the buggy address:<br />
&nbsp;&nbsp;0x0c2a7fffbc50: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa<br />
&nbsp;&nbsp;0x0c2a7fffbc60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00<br />
&nbsp;&nbsp;0x0c2a7fffbc70: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00<br />
&nbsp;&nbsp;0x0c2a7fffbc80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00<br />
&nbsp;&nbsp;0x0c2a7fffbc90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00<br />
=&gt;0x0c2a7fffbca<wbr />0:[fa]fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa<br />
&nbsp;&nbsp;0x0c2a7fffbcb0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd<br />
&nbsp;&nbsp;0x0c2a7fffbcc0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd<br />
&nbsp;&nbsp;0x0c2a7fffbcd0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd<br />
&nbsp;&nbsp;0x0c2a7fffbce0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd<br />
&nbsp;&nbsp;0x0c2a7fffbcf0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa<br />
Shadow byte legend (one shadow byte represents 8 application bytes):<br />
&nbsp;&nbsp;Addressable:           00<br />
&nbsp;&nbsp;Partially addressable: 01 02 03 04 05 06 07<br />
&nbsp;&nbsp;Heap left redzone:       fa<br />
&nbsp;&nbsp;Freed heap region:       fd<br />
&nbsp;&nbsp;Stack left redzone:      f1<br />
&nbsp;&nbsp;Stack mid redzone:       f2<br />
&nbsp;&nbsp;Stack right redzone:     f3<br />
&nbsp;&nbsp;Stack after return:      f5<br />
&nbsp;&nbsp;Stack use after scope:   f8<br />
&nbsp;&nbsp;Global redzone:          f9<br />
&nbsp;&nbsp;Global init order:       f6<br />
&nbsp;&nbsp;Poisoned by user:        f7<br />
&nbsp;&nbsp;Container overflow:      fc<br />
&nbsp;&nbsp;Array cookie:            ac<br />
&nbsp;&nbsp;Intra object redzone:    bb<br />
&nbsp;&nbsp;ASan internal:           fe<br />
&nbsp;&nbsp;Left alloca redzone:     ca<br />
&nbsp;&nbsp;Right alloca redzone:    cb<br />
&nbsp;&nbsp;Shadow gap:              cc<br />
==752161==ABORTING</p>
<p>-Alex</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            
          </span>
          <span id="tag-list">
          </span>
          <a href="+edit" title="Add tags" id="tags-trigger" class="sprite add">Add tags</a>
          
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/qemu/+bug/1892960/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pjps" class="sprite person">P J P (pjps)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-09-01T12:01:24.271734+00:00" title="2020-09-01 12:01:24 UTC">on 2020-09-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/qemu/+bug/1892960/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Proposed patch<br />
&nbsp;&nbsp;-&gt; <a rel="nofollow" href="https://lists.nongnu.org/archive/html/qemu-devel/2020-08/msg07968.html">https:/<wbr />/lists.<wbr />nongnu.<wbr />org/archive/<wbr />html/qemu-<wbr />devel/2020-<wbr />08/msg07968.<wbr />html</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Proposed patch
  -&gt; https://lists.nongnu.org/archive/html/qemu-devel/2020-08/msg07968.html</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/qemu/+bug/1892960/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~philmd" class="sprite person">Philippe Mathieu-Daudé (philmd)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-09-01T14:04:11+00:00" title="2020-09-01 14:04:11 UTC">on 2020-09-01</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/qemu/+bug/1892960/comments/4">
                <strong>[PATCH v2 3/3] hw/sd/sdhci: Fix DMA Transfer Block Size field</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/qemu/+bug/1892960/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The &#x27;Transfer Block Size&#x27; field is 12-bit wide.</p>
<p>See section &#x27;2.2.2. Block Size Register (Offset 004h)&#x27; in datasheet.</p>
<p>Cc: &lt;email address hidden&gt;<br />
Cc: Igor Mitsyanko &lt;email address hidden&gt;<br />
Buglink: <a rel="nofollow" href="https://bugs.launchpad.net/qemu/+bug/1892960">https:/<wbr />/bugs.launchpad<wbr />.net/qemu/<wbr />+bug/1892960</a><br />
Fixes: d7dfca0807a (&quot;hw/sdhci: introduce standard SD host controller&quot;)<br />
Reported-by: Alexander Bulekov &lt;email address hidden&gt;<br />
Signed-off-by: Philippe Mathieu-Daudé &lt;email address hidden&gt;<br />
---<br />
Cc: &lt;email address hidden&gt;<br />
---<br />
&nbsp;hw/sd/sdhci.c | 2 +-<br />
&nbsp;1 file changed, 1 insertion(+), 1 deletion(-)</p>
<p>diff --git a/hw/sd/sdhci.c b/hw/sd/sdhci.c<br />
index 60f083b84c1.<wbr />.ecbf84e9d3f 100644<br />
--- a/hw/sd/sdhci.c<br />
+++ b/hw/sd/sdhci.c<br />
@@ -1104,7 +1104,7 @@ sdhci_write(void *opaque, hwaddr offset, uint64_t val, unsigned size)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case SDHC_BLKSIZE:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!TRANSFERRING_<wbr />DATA(s-<wbr />&gt;prnsts)<wbr />) {<br />
-            MASKED_<wbr />WRITE(s-<wbr />&gt;blksize, mask, value);<br />
+            MASKED_<wbr />WRITE(s-<wbr />&gt;blksize, mask, extract32(value, 0, 12));<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MASKED_<wbr />WRITE(s-<wbr />&gt;blkcnt, mask &gt;&gt; 16, value &gt;&gt; 16);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p><span class="foldable">--<br />
2.26.2
</span></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The 'Transfer Block Size' field is 12-bit wide.

See section '2.2.2. Block Size Register (Offset 004h)' in datasheet.

Cc: qemu-stable@nongnu.org
Cc: Igor Mitsyanko &lt;i.mitsyanko@gmail.com&gt;
Buglink: https://bugs.launchpad.net/qemu/+bug/1892960
Fixes: d7dfca0807a ("hw/sdhci: introduce standard SD host controller")
Reported-by: Alexander Bulekov &lt;alxndr@bu.edu&gt;
Signed-off-by: Philippe Mathieu-Daudé &lt;f4bug@amsat.org&gt;
---
Cc: 1892960@bugs.launchpad.net
---
 hw/sd/sdhci.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/hw/sd/sdhci.c b/hw/sd/sdhci.c
index 60f083b84c1..ecbf84e9d3f 100644
--- a/hw/sd/sdhci.c
+++ b/hw/sd/sdhci.c
@@ -1104,7 +1104,7 @@ sdhci_write(void *opaque, hwaddr offset, uint64_t val, unsigned size)
         break;
     case SDHC_BLKSIZE:
         if (!TRANSFERRING_DATA(s-&gt;prnsts)) {
-            MASKED_WRITE(s-&gt;blksize, mask, value);
+            MASKED_WRITE(s-&gt;blksize, mask, extract32(value, 0, 12));
             MASKED_WRITE(s-&gt;blkcnt, mask &gt;&gt; 16, value &gt;&gt; 16);
         }
 
-- 
2.26.2

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/qemu/+bug/1892960/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~philmd" class="sprite person">Philippe Mathieu-Daudé (philmd)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-10-22T14:00:12.683111+00:00" title="2020-10-22 14:00:12 UTC">on 2020-10-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/qemu/+bug/1892960/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fixed in commit dfba99f17feb6d4<wbr />a129da19d38df1b<wbr />cd8579d1c3.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fixed in commit dfba99f17feb6d4a129da19d38df1bcd8579d1c3.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in qemu: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Committed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/qemu/+bug/1892960/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~th-huth" class="sprite person">Thomas Huth (th-huth)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-12-10T09:04:11.673451+00:00" title="2020-12-10 09:04:11 UTC">on 2020-12-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/qemu/+bug/1892960/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Released with QEMU v5.2.0.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Released with QEMU v5.2.0.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in qemu: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/qemu/+bug/1892960/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/qemu/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/qemu/+bug/1892960/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/qemu/+bug/1892960/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/qemu/+bug/1892960/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/qemu/+bug/1892960/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/qemu/+bug/1892960/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/qemu/+bug/1892960/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/qemu/+bug/1892960/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/qemu/+bug/1892960/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  
  


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"initial_comment_batch_offset": 41, "first visible_recent_comment": -34, "related_features": {}, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/1892960", "self_link": "https://bugs.launchpad.net/api/devel/bugs/1892960"}, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1892960", "web_link": "https://bugs.launchpad.net/bugs/1892960", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1892960, "private": false, "information_type": "Public", "name": null, "title": "Heap-overflow in flatview_read through sdhci_data_transfer", "description": "Hello,\nReproducer:\ncat \u003c\u003c EOF | ./qemu-system-i386 -nodefaults \\\n-device sdhci-pci,sd-spec-version=3 \\\n-device sd-card,drive=mydrive \\\n-drive if=sd,index=0,file=null-co://,format=raw,id=mydrive \\\n-nographic -qtest stdio -accel qtest \noutl 0xcf8 0x80001010\noutl 0xcfc 0xd7055dba\noutl 0xcf8 0x80001003\noutl 0xcfc 0x86b1d733\nwriteq 0xd7055d2b 0x84126e0ed7d7355e\nwriteq 0xd7055d23 0x13bd7d7346e0129\nwriteq 0xd7055d05 0x615bfb845e05c42c\nwrite 0x0 0x1 0x39\nwrite 0x5 0x1 0x06\nwrite 0x6 0x1 0x35\nwrite 0x7 0x1 0x01\nwrite 0x1350600 0x1 0x39\nwritew 0xd7055d0e 0x846e\nwrite 0x1350600 0x1 0x29\nwrite 0x1350602 0x1 0x1a\nwrite 0x1350608 0x1 0x39\nclock_step\nwriteq 0xd7055d03 0x6d00000026000000\nclock_step\nEOF\n\nThe trace:\n\n[R +0.077745] outl 0xcf8 0x80001010\nOK\n[S +0.077773] OK\n[R +0.077792] outl 0xcfc 0xd7055dba\nOK\n[S +0.077813] OK\n[R +0.077826] outl 0xcf8 0x80001003\nOK\n[S +0.077835] OK\n[R +0.077846] outl 0xcfc 0x86b1d733\nOK\n[S +0.080186] OK\n[R +0.080204] writeq 0xd7055d2b 0x84126e0ed7d7355e\n752161@1598405049.572123:sdhci_access wr8: addr[0x002b] \u003c- 0x0000005e (94)\n752161@1598405049.572133:sdhci_access wr32: addr[0x002c] \u003c- 0x0ed7d735 (249026357)\n752161@1598405049.572142:sdhci_access wr16: addr[0x0030] \u003c- 0x0000126e (4718)\n752161@1598405049.572150:sdhci_access wr8: addr[0x0032] \u003c- 0x00000084 (132)\nOK\n[S +0.080255] OK\n[R +0.080267] writeq 0xd7055d23 0x13bd7d7346e0129\n752161@1598405049.572176:sdhci_error Non-sequential access to Buffer Data Port registeris prohibited\n\n752161@1598405049.572181:sdhci_access wr8: addr[0x0023] \u003c- 0x00000029 (41)\n752161@1598405049.572187:sdhci_access wr32: addr[0x0024] \u003c- 0xd7346e01 (3610537473)\n752161@1598405049.572193:sdhci_access wr16: addr[0x0028] \u003c- 0x00003bd7 (15319)\n752161@1598405049.572200:sdhci_access wr8: addr[0x002a] \u003c- 0x00000001 (1)\nOK\n[S +0.080303] OK\n[R +0.080316] writeq 0xd7055d05 0x615bfb845e05c42c\n752161@1598405049.572226:sdhci_access wr8: addr[0x0005] \u003c- 0x0000002c (44)\n752161@1598405049.572233:sdhci_access wr16: addr[0x0006] \u003c- 0x000005c4 (1476)\n752161@1598405049.572240:sdhci_access wr32: addr[0x0008] \u003c- 0x5bfb845e (1543210078)\n752161@1598405049.572247:sdhci_access wr8: addr[0x000c] \u003c- 0x00000061 (97)\nOK\n[S +0.080350] OK\n[R +0.080362] write 0x0 0x1 0x39\nOK\n[S +0.080606] OK\n[R +0.080617] write 0x5 0x1 0x06\nOK\n[S +0.080629] OK\n[R +0.080639] write 0x6 0x1 0x35\nOK\n[S +0.080648] OK\n[R +0.080657] write 0x7 0x1 0x01\nOK\n[S +0.080665] OK\n[R +0.080675] write 0x1350600 0x1 0x39\nOK\n[S +0.080863] OK\n[R +0.080875] writew 0xd7055d0e 0x846e\n752161@1598405049.572786:sdhci_send_command CMD132 ARG[0x5bfb845e]\n752161@1598405049.572810:sdhci_error timeout waiting for command response\n752161@1598405049.572822:sdhci_adma_loop addr=0x01350600, len=0, attr=0x39\n752161@1598405049.572827:sdhci_adma link: admasysaddr=0x1350600\n752161@1598405049.572833:sdhci_adma_loop addr=0x00000000, len=0, attr=0x39\n752161@1598405049.572837:sdhci_adma link: admasysaddr=0x0\n752161@1598405049.572842:sdhci_adma_loop addr=0x01350600, len=0, attr=0x39\n752161@1598405049.572845:sdhci_adma link: admasysaddr=0x1350600\n752161@1598405049.572851:sdhci_adma_loop addr=0x00000000, len=0, attr=0x39\n752161@1598405049.572854:sdhci_adma link: admasysaddr=0x0\n752161@1598405049.572859:sdhci_adma_loop addr=0x01350600, len=0, attr=0x39\n752161@1598405049.572862:sdhci_adma link: admasysaddr=0x1350600\n752161@1598405049.572875:sdhci_access wr16: addr[0x000e] \u003c- 0x0000846e (33902)\nOK\n[S +0.080979] OK\n[R +0.080991] write 0x1350600 0x1 0x29\nOK\n[S +0.081001] OK\n[R +0.081011] write 0x1350602 0x1 0x1a\nOK\n[S +0.081019] OK\n[R +0.081029] write 0x1350608 0x1 0x39\nOK\n[S +0.081037] OK\n[R +0.081045] clock_step\n752161@1598405049.572962:sdhci_adma_loop addr=0x00000000, len=26, attr=0x29\n752161@1598405049.572972:sdhci_adma_loop addr=0x00000000, len=0, attr=0x39\n752161@1598405049.572977:sdhci_adma link: admasysaddr=0x0\n752161@1598405049.572981:sdhci_adma_loop addr=0x01350600, len=0, attr=0x39\n752161@1598405049.572985:sdhci_adma link: admasysaddr=0x1350600\n752161@1598405049.572989:sdhci_adma_loop addr=0x00000000, len=26, attr=0x29\n752161@1598405049.572997:sdhci_adma_loop addr=0x00000000, len=0, attr=0x39\n752161@1598405049.573001:sdhci_adma link: admasysaddr=0x0\nOK 100\n[S +0.081112] OK 100\n[R +0.081126] writeq 0xd7055d03 0x6d00000026000000\n752161@1598405049.573038:sdhci_access wr8: addr[0x0003] \u003c- 0x00000000 (0)\n752161@1598405049.573045:sdhci_access wr32: addr[0x0004] \u003c- 0x00260000 (2490368)\n752161@1598405049.573051:sdhci_access wr16: addr[0x0008] \u003c- 0x00000000 (0)\n752161@1598405049.573057:sdhci_access wr8: addr[0x000a] \u003c- 0x0000006d (109)\nOK\n[S +0.081162] OK\n[R +0.081171] clock_step\n752161@1598405049.573085:sdhci_adma_loop addr=0x01350600, len=0, attr=0x39\n752161@1598405049.573090:sdhci_adma link: admasysaddr=0x1350600\n752161@1598405049.573096:sdhci_adma_loop addr=0x00000000, len=26, attr=0x29\n=================================================================\n==752161==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x61500001e500 at pc 0x5651bce1a940 bp 0x7fff16a81f50 sp 0x7fff16a81718\nWRITE of size 786432 at 0x61500001e500 thread T0\n    #0 0x5651bce1a93f in __asan_memcpy (/home/alxndr/Development/qemu/general-fuzz/build/qemu-system-i386+0x2d2893f)\n    #1 0x5651bf4197ce in flatview_read_continue /home/alxndr/Development/qemu/general-fuzz/build/../exec.c:3246:13\n    #2 0x5651bf41bff3 in flatview_read /home/alxndr/Development/qemu/general-fuzz/build/../exec.c:3279:12\n    #3 0x5651bf41bb48 in address_space_read_full /home/alxndr/Development/qemu/general-fuzz/build/../exec.c:3292:18\n    #4 0x5651bf41cce8 in address_space_rw /home/alxndr/Development/qemu/general-fuzz/build/../exec.c:3320:16\n    #5 0x5651bd623b67 in dma_memory_rw_relaxed /home/alxndr/Development/qemu/general-fuzz/include/sysemu/dma.h:87:18\n    #6 0x5651bd623585 in dma_memory_rw /home/alxndr/Development/qemu/general-fuzz/include/sysemu/dma.h:110:12\n    #7 0x5651bd6227b7 in dma_memory_read /home/alxndr/Development/qemu/general-fuzz/include/sysemu/dma.h:116:12\n    #8 0x5651bd61b052 in sdhci_do_adma /home/alxndr/Development/qemu/general-fuzz/build/../hw/sd/sdhci.c:792:21\n    #9 0x5651bd60d3c4 in sdhci_data_transfer /home/alxndr/Development/qemu/general-fuzz/build/../hw/sd/sdhci.c:887:13\n    #10 0x5651c0c4d917 in timerlist_run_timers /home/alxndr/Development/qemu/general-fuzz/build/../util/qemu-timer.c:572:9\n    #11 0x5651c0c4de51 in qemu_clock_run_timers /home/alxndr/Development/qemu/general-fuzz/build/../util/qemu-timer.c:586:12\n    #12 0x5651bf562a13 in qtest_clock_warp /home/alxndr/Development/qemu/general-fuzz/build/../softmmu/cpus.c:507:9\n    #13 0x5651bf74f5d8 in qtest_process_command /home/alxndr/Development/qemu/general-fuzz/build/../softmmu/qtest.c:665:9\n    #14 0x5651bf73d63e in qtest_process_inbuf /home/alxndr/Development/qemu/general-fuzz/build/../softmmu/qtest.c:710:9\n    #15 0x5651bf73c3e3 in qtest_read /home/alxndr/Development/qemu/general-fuzz/build/../softmmu/qtest.c:722:5\n    #16 0x5651c0842762 in qemu_chr_be_write_impl /home/alxndr/Development/qemu/general-fuzz/build/../chardev/char.c:188:9\n    #17 0x5651c08428aa in qemu_chr_be_write /home/alxndr/Development/qemu/general-fuzz/build/../chardev/char.c:200:9\n    #18 0x5651c0868514 in fd_chr_read /home/alxndr/Development/qemu/general-fuzz/build/../chardev/char-fd.c:68:9\n    #19 0x5651c0754736 in qio_channel_fd_source_dispatch /home/alxndr/Development/qemu/general-fuzz/build/../io/channel-watch.c:84:12\n    #20 0x7fac88fad4cd in g_main_context_dispatch (/usr/lib/x86_64-linux-gnu/libglib-2.0.so.0+0x504cd)\n    #21 0x5651c0cdfc67 in glib_pollfds_poll /home/alxndr/Development/qemu/general-fuzz/build/../util/main-loop.c:217:9\n    #22 0x5651c0cdd567 in os_host_main_loop_wait /home/alxndr/Development/qemu/general-fuzz/build/../util/main-loop.c:240:5\n    #23 0x5651c0cdcf47 in main_loop_wait /home/alxndr/Development/qemu/general-fuzz/build/../util/main-loop.c:516:11\n    #24 0x5651bf4bb08d in qemu_main_loop /home/alxndr/Development/qemu/general-fuzz/build/../softmmu/vl.c:1676:9\n    #25 0x5651bce4d51c in main /home/alxndr/Development/qemu/general-fuzz/build/../softmmu/main.c:50:5\n    #26 0x7fac887b6cc9 in __libc_start_main csu/../csu/libc-start.c:308:16\n    #27 0x5651bcda2cf9 in _start (/home/alxndr/Development/qemu/general-fuzz/build/qemu-system-i386+0x2cb0cf9)\n\n0x61500001e500 is located 0 bytes to the right of 512-byte region [0x61500001e300,0x61500001e500)\nallocated by thread T0 here:\n    #0 0x5651bce1b5b2 in calloc (/home/alxndr/Development/qemu/general-fuzz/build/qemu-system-i386+0x2d295b2)\n    #1 0x7fac88fb3210 in g_malloc0 (/usr/lib/x86_64-linux-gnu/libglib-2.0.so.0+0x56210)\n    #2 0x5651bd8cd222 in sdhci_pci_realize /home/alxndr/Development/qemu/general-fuzz/build/../hw/sd/sdhci-pci.c:36:5\n    #3 0x5651bd88c228 in pci_qdev_realize /home/alxndr/Development/qemu/general-fuzz/build/../hw/pci/pci.c:2114:9\n    #4 0x5651c07a4ec9 in device_set_realized /home/alxndr/Development/qemu/general-fuzz/build/../hw/core/qdev.c:864:13\n    #5 0x5651bfe384b8 in property_set_bool /home/alxndr/Development/qemu/general-fuzz/build/../qom/object.c:2202:5\n    #6 0x5651bfe2c1cf in object_property_set /home/alxndr/Development/qemu/general-fuzz/build/../qom/object.c:1349:5\n    #7 0x5651bfe49471 in object_property_set_qobject /home/alxndr/Development/qemu/general-fuzz/build/../qom/qom-qobject.c:28:10\n    #8 0x5651bfe2d890 in object_property_set_bool /home/alxndr/Development/qemu/general-fuzz/build/../qom/object.c:1416:15\n    #9 0x5651c078cc64 in qdev_realize /home/alxndr/Development/qemu/general-fuzz/build/../hw/core/qdev.c:379:12\n    #10 0x5651bd8bd8cc in qdev_device_add /home/alxndr/Development/qemu/general-fuzz/build/../qdev-monitor.c:676:10\n    #11 0x5651bf4e3e43 in device_init_func /home/alxndr/Development/qemu/general-fuzz/build/../softmmu/vl.c:2101:11\n    #12 0x5651c0af71e4 in qemu_opts_foreach /home/alxndr/Development/qemu/general-fuzz/build/../util/qemu-option.c:1172:14\n    #13 0x5651bf4cd04b in qemu_init /home/alxndr/Development/qemu/general-fuzz/build/../softmmu/vl.c:4384:5\n    #14 0x5651bce4d517 in main /home/alxndr/Development/qemu/general-fuzz/build/../softmmu/main.c:49:5\n    #15 0x7fac887b6cc9 in __libc_start_main csu/../csu/libc-start.c:308:16\n\nSUMMARY: AddressSanitizer: heap-buffer-overflow (/home/alxndr/Development/qemu/general-fuzz/build/qemu-system-i386+0x2d2893f) in __asan_memcpy\nShadow bytes around the buggy address:\n  0x0c2a7fffbc50: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n  0x0c2a7fffbc60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n  0x0c2a7fffbc70: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n  0x0c2a7fffbc80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n  0x0c2a7fffbc90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n=\u003e0x0c2a7fffbca0:[fa]fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n  0x0c2a7fffbcb0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\n  0x0c2a7fffbcc0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\n  0x0c2a7fffbcd0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\n  0x0c2a7fffbce0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\n  0x0c2a7fffbcf0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\nShadow byte legend (one shadow byte represents 8 application bytes):\n  Addressable:           00\n  Partially addressable: 01 02 03 04 05 06 07 \n  Heap left redzone:       fa\n  Freed heap region:       fd\n  Stack left redzone:      f1\n  Stack mid redzone:       f2\n  Stack right redzone:     f3\n  Stack after return:      f5\n  Stack use after scope:   f8\n  Global redzone:          f9\n  Global init order:       f6\n  Poisoned by user:        f7\n  Container overflow:      fc\n  Array cookie:            ac\n  Intra object redzone:    bb\n  ASan internal:           fe\n  Left alloca redzone:     ca\n  Right alloca redzone:    cb\n  Shadow gap:              cc\n==752161==ABORTING\n\n-Alex", "owner_link": "https://bugs.launchpad.net/api/devel/~a1xndr", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/bug_tasks", "duplicate_of_link": null, "date_created": "2020-08-26T01:25:27.706310+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/subscriptions", "date_last_updated": "2020-12-10T09:04:19.263194+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 6, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/attachments", "security_related": false, "latest_patch_uploaded": null, "tags": [], "date_last_message": "2020-12-10T09:04:11.673451+00:00", "number_of_duplicates": 0, "message_count": 7, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1892960/linked_merge_proposals", "http_etag": "\"df4cb48472373d0f74c75d45fa189a60cf3c737e-fe53808349326a0ef10e6ea656424f8d071e11c5\""}, "bugtask_data": {"2632764": {"milestone_widget_items": "[]", "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/qemu/+bug/1892960/+delete", "user_can_edit_status": true, "bugtask_path": "/qemu/+bug/1892960", "row_id": "tasksummary2632764", "importance_value": "Undecided", "importance_widget_items": "[]", "id": 2632764, "user_can_delete": false, "targetname": "QEMU", "user_can_edit_importance": false, "assignee_vocabulary_filters": [], "bug_title": "Heap-overflow in flatview_read through sdhci_data_transfer", "assignee_value": null, "hide_assignee_team_selection": true, "user_can_edit_assignee": false, "form_row_id": "task2632764", "target_is_product": true, "assignee_is_team": null, "status_value": "Fix Released", "user_can_unassign": false, "milestone_value": null, "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_milestone": false, "prefix": "qemu"}}, "bug_is_private": false, "context": {"self_link": "https://bugs.launchpad.net/api/devel/qemu/+bug/1892960", "web_link": "https://bugs.launchpad.net/qemu/+bug/1892960", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1892960", "milestone_link": null, "status": "Fix Released", "importance": "Undecided", "assignee_link": null, "bug_target_display_name": "QEMU", "bug_target_name": "qemu", "bug_watch_link": null, "date_assigned": null, "date_created": "2020-08-26T01:25:27.706310+00:00", "date_confirmed": "2020-10-22T14:00:20.528829+00:00", "date_incomplete": null, "date_in_progress": "2020-10-22T14:00:20.528829+00:00", "date_closed": "2020-12-10T09:04:18.470132+00:00", "date_left_new": "2020-10-22T14:00:20.528829+00:00", "date_triaged": "2020-10-22T14:00:20.528829+00:00", "date_fix_committed": "2020-10-22T14:00:20.528829+00:00", "date_fix_released": "2020-12-10T09:04:18.470132+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~a1xndr", "target_link": "https://bugs.launchpad.net/api/devel/qemu", "title": "Bug #1892960 in QEMU: \"Heap-overflow in flatview_read through sdhci_data_transfer\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/qemu/+bug/1892960/related_tasks", "is_complete": true, "http_etag": "\"a169d3c88fe884d7e3738b828d6efc497a832e51-784584c1ce1c8ae0d39e2e53d085c39f5db0fd81\""}, "information_type_data": {"PUBLIC": {"value": "PUBLIC", "is_private": false, "order": 0, "name": "Public", "description": "Everyone can see this information.\n", "description_css_class": "choice-description"}, "PRIVATESECURITY": {"value": "PRIVATESECURITY", "is_private": true, "order": 2, "name": "Private Security", "description": "Only the security group can see this information.\n ", "description_css_class": "choice-description"}, "USERDATA": {"value": "USERDATA", "is_private": true, "order": 3, "name": "Private", "description": "Only shared with users permitted to see private user information.\n", "description_css_class": "choice-description"}, "PUBLICSECURITY": {"value": "PUBLICSECURITY", "is_private": false, "order": 1, "name": "Public Security", "description": "Everyone can see this security related information.\n", "description_css_class": "choice-description"}}, "total_comments_and_activity": 8};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 54 queries/external actions issued in 0.69 seconds

    Features: {'bugs.nominations.bug_supervisors_can_target': 'on', 'hard_timeout': '9000', 'visible_render_time': None, 'bugs.affected_count_includes_dupes.disabled': None, 'app.mainsite_only.canonical_url': None, 'app.maintenance_message': None, 'js.yui_version': None, 'disclosure.dsp_picker.enabled': 'on', 'profiling.enabled': None, 'baselayout.careers_link.disabled': None}

    r0d8de2b

    -->

</html>

