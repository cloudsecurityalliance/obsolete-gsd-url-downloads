<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>4974dcbd0289a2530df2ee2a25b5f92775df80da - platform/external/libvpx - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://accounts.google.com/AccountChooser?service=gerritcodereview&amp;continue=https://android.googlesource.com/login/platform/external/libvpx/%2B/4974dcbd0289a2530df2ee2a25b5f92775df80da">Sign in</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">android</a> / <a class="Breadcrumbs-crumb" href="/platform/">platform</a> / <a class="Breadcrumbs-crumb" href="/platform/external/">external</a> / <a class="Breadcrumbs-crumb" href="/platform/external/libvpx/">libvpx</a> / <span class="Breadcrumbs-crumb">4974dcbd0289a2530df2ee2a25b5f92775df80da</span></div><div class="u-monospace Metadata"><table><tr><th class="Metadata-title">commit</th><td>4974dcbd0289a2530df2ee2a25b5f92775df80da</td><td><span>[<a href="/platform/external/libvpx/+log/4974dcbd0289a2530df2ee2a25b5f92775df80da">log</a>]</span> <span>[<a href="/platform/external/libvpx/+archive/4974dcbd0289a2530df2ee2a25b5f92775df80da.tar.gz">tgz</a>]</span></td></tr><tr><th class="Metadata-title">author</th><td>Vignesh Venkatasubramanian &lt;vigneshv@google.com&gt;</td><td>Thu Jul 07 13:24:03 2016 -0700</td></tr><tr><th class="Metadata-title">committer</th><td>gitbuildkicker &lt;android-build@google.com&gt;</td><td>Mon Aug 01 19:12:56 2016 -0700</td></tr><tr><th class="Metadata-title">tree</th><td><a href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/">3ed942b9ce5b4cefa5cafa2e4d8a6054fd594624</a></td></tr><tr><th class="Metadata-title">parent</th><td><a href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da%5E">38d9709fe466cc2065b6e5ac8f8264beb6bc9efd</a> <span>[<a href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da%5E%21/">diff</a>]</span></td></tr></table></div><pre class="u-pre u-monospace MetadataMessage">DO NOT MERGE | libvpx: cherry-pick aa1c813 from upstream

Description from upstream:
vp9: Fix potential SEGV in decoder_peek_si_internal

decoder_peek_si_internal could potentially read more bytes than
what actually exists in the input buffer. We check for the buffer
size to be at least 8, but we try to read up to 10 bytes in the
worst case. A well crafted file could thus cause a segfault.
Likely change that introduced this bug was:
<a href="https://chromium-review.googlesource.com/#/c/70439">https://chromium-review.googlesource.com/#/c/70439</a> (git hash:
7c43fb6)

Bug: 30013856
Change-Id: <a href="https://android-review.googlesource.com/#/q/If556414cb5b82472d5673e045bc185cc57bb9af3">If556414cb5b82472d5673e045bc185cc57bb9af3</a>
(cherry picked from commit bd57d587c2eb743c61b049add18f9fd72bf78c33)
</pre><ul class="DiffTree"><li><a href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/libvpx/vp9/vp9_dx_iface.c">libvpx/vp9/vp9_dx_iface.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da%5E%21/#F0">diff</a>]</span></li></ul><div class="DiffSummary">1 file changed</div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: 3ed942b9ce5b4cefa5cafa2e4d8a6054fd594624</div><ol class="FileList"><li class="FileList-item FileList-item--regularFile" title="Regular file - Android.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/Android.mk">Android.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - MODULE_LICENSE_BSD"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/MODULE_LICENSE_BSD">MODULE_LICENSE_BSD</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - NOTICE"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/NOTICE">NOTICE</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - README.android"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/README.android">README.android</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - README.version"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/README.version">README.version</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.arm.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/config.arm.mk">config.arm.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.arm64.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/config.arm64.mk">config.arm64.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.mips.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/config.mips.mk">config.mips.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.mips64.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/config.mips64.mk">config.mips64.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.x86.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/config.x86.mk">config.x86.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.x86_64.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/config.x86_64.mk">config.x86_64.mk</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - config/"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/config/">config/</a></li><li class="FileList-item FileList-item--executableFile" title="Executable file - generate_config.sh"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/generate_config.sh">generate_config.sh</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - libvpx-asm-translation.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/libvpx-asm-translation.mk">libvpx-asm-translation.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - libvpx.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/libvpx.mk">libvpx.mk</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libvpx/"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/libvpx/">libvpx/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - libwebm.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/libwebm.mk">libwebm.mk</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libwebm/"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/libwebm/">libwebm/</a></li><li class="FileList-item FileList-item--executableFile" title="Executable file - lint_config.sh"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/lint_config.sh">lint_config.sh</a></li><li class="FileList-item FileList-item--executableFile" title="Executable file - update_libvpx.sh"><a class="FileList-itemLink" href="/platform/external/libvpx/+/4974dcbd0289a2530df2ee2a25b5f92775df80da/update_libvpx.sh">update_libvpx.sh</a></li></ol></div></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>