<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/horizon/+bug/978896/+index" />

    <meta charset="UTF-8" />
    <title>Bug #978896 “session fixation vulnerability” : Bugs : OpenStack Dashboard (Horizon)</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/978896" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/978896/bug.atom" title="Bug 978896 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="Hi,
it looks like openstack-dashboard is vulnerable to a session fixation attack. Here is a HTTP dialog:

1. eviled Login with no Cookie header
-------------------------------------
POST http://test:80/auth/login/ HTTP/1.0
User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61
Host: test
Accept: text/html, application/xml;q=0.9, application/xhtml+xml, image/png,
image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1
Accept-Language: de-DE,de;q=0.9,en;q=0.8
Acce..." />
      <meta property="og:description" content="Hi,
it looks like openstack-dashboard is vulnerable to a session fixation attack. Here is a HTTP dialog:

1. eviled Login with no Cookie header
-------------------------------------
POST http://test:80/auth/login/ HTTP/1.0
User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61
Host: test
Accept: text/html, application/xml;q=0.9, application/xhtml+xml, image/png,
image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1
Accept-Language: de-DE,de;q=0.9,en;q=0.8
Acce..." />
    

    
    
      <meta property="og:title" content="Bug #978896 “session fixation vulnerability” : Bugs : OpenStack Dashboard (Horizon)" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/978896" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["accessibility", "angularjs", "branding", "ceilometer", "ceph", "cinder", "dashboard-core", "django-bug", "django22", "documentation", "error-reporting", "glance", "heat", "horizon-core", "i18n", "ie", "integration-tests", "keystone", "large-scale", "low-hanging-fruit", "material", "neutron", "nova", "ocata-backport-potential", "ops", "pagination", "performance", "pike-backport-potential", "python3", "queens-backport-potential", "rbac", "rocky-backport-potential", "security", "stein-backport-potential", "swift", "topology-view", "train-backport-potential", "train-rc-potential", "uncaught-403", "unittest", "ussuri-backport-potential", "ux", "victoria-backport-potential"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/horizon/+bug/978896/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/horizon"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/62132867/os64.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/horizon">OpenStack Dashboard (Horizon)</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/horizon">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/horizon">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/horizon">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/horizon">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/horizon">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/horizon">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    session fixation vulnerability
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #978896 reported by
      <a href="https://launchpad.net/~thomas-suse-deactivatedaccount" class="sprite person-inactive">Thomas Biege</a>
      <time title="2012-04-11 13:04:31 UTC" datetime="2012-04-11T13:04:31.429804+00:00">on 2012-04-11</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">272</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 2 people</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary1168704">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/horizon/+bug/978896/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary1168704">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/horizon">OpenStack Dashboard (Horizon)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/horizon/+bug/978896/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/horizon/+bug/978896/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceCRITICAL">Critical</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1168704">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~paul-mcmillan">Paul McMillan</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/horizon/+milestone/2012.2">OpenStack Dashboard (Horizon) 2012.2 "folsom"</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1168704">
     <td colspan="7"><form action="/horizon/+bug/978896/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/horizon">OpenStack Dashboard (Horizon)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~thomas-suse-deactivatedaccount" class="sprite person-inactive">Thomas Biege</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2012-04-11 13:04:31 UTC" datetime="2012-04-11T13:04:31.429804+00:00">2012-04-11</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2012-04-25 12:30:22 UTC" datetime="2012-04-25T12:30:22.751540+00:00">2012-04-25</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2012-04-13 00:34:16 UTC" datetime="2012-04-13T00:34:16.943664+00:00">2012-04-13</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2012-05-09 22:26:35 UTC" datetime="2012-05-09T22:26:35.799998+00:00">2012-05-09</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2012-05-23 08:56:32 UTC" datetime="2012-05-23T08:56:32.329590+00:00">2012-05-23</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="horizon.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="horizon.target.option.package" name="horizon.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="horizon.target.distribution" name="horizon.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="horizon.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="horizon.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="horizon.target.package"
                         name="horizon.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;horizon.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('horizon.target.package');
              var select_menu = Y.DOM.byId('horizon.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-horizon-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": null, "step_title": "Search by name", "header": "Select a package", "vocabulary_filters": [], "show_create_team": false, "input_element": "horizon.target.package", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "DistributionPackage", "show_widget_id": "show-widget-horizon-target-package"};
        var show_widget_id = 'show-widget-horizon-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="horizon.target.option.product" name="horizon.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="horizon" id="horizon.target.product"
                         name="horizon.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;horizon.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('horizon.target.product');
              var select_menu = Y.DOM.byId('horizon.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-horizon-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": "horizon", "step_title": "Search", "header": "Select a project", "vocabulary_filters": [], "show_create_team": false, "input_element": "horizon.target.product", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "Product", "show_widget_id": "show-widget-horizon-target-product"};
        var show_widget_id = 'show-widget-horizon-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="horizon.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="horizon.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="horizon.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="horizon.status" name="horizon.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="horizon.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceCRITICAL">Critical</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          OpenStack Dashboard (Horizon) 2012.2
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="horizon.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="horizon.assignee.assign_to_me" name="horizon.assignee.option" value="horizon.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="horizon.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="horizon.assignee.assigned_to" name="horizon.assignee.option" value="horizon.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="horizon.assignee.assigned_to">
              Paul McMillan (paul-mcmillan)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="horizon.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="horizon.comment_on_change" name="horizon.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary1189946">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/horizon/essex/+bug/978896/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/horizon/essex">Essex</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/horizon/essex/+bug/978896/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/horizon/essex/+bug/978896/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceCRITICAL">Critical</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1189946">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~paul-mcmillan">Paul McMillan</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/horizon/+milestone/2012.1.1">OpenStack Dashboard (Horizon) 2012.1.1</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1189946">
     <td colspan="7"><form action="/horizon/essex/+bug/978896/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/horizon/essex">OpenStack Dashboard (Horizon) essex</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~markmc" class="sprite person">Mark McLoughlin</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2012-05-05 06:46:56 UTC" datetime="2012-05-05T06:46:56.237692+00:00">2012-05-05</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2012-05-05 06:47:06 UTC" datetime="2012-05-05T06:47:06.427900+00:00">2012-05-05</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2012-05-05 06:47:31 UTC" datetime="2012-05-05T06:47:31.059355+00:00">2012-05-05</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2012-05-05 06:47:06 UTC" datetime="2012-05-05T06:47:06.427900+00:00">2012-05-05</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2012-06-22 00:09:03 UTC" datetime="2012-06-22T00:09:03.670176+00:00">2012-06-22</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="horizon_essex.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="horizon_essex.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="horizon_essex.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="horizon_essex.status" name="horizon_essex.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="horizon_essex.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceCRITICAL">Critical</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          OpenStack Dashboard (Horizon) 2012.1.1
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="horizon_essex.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="horizon_essex.assignee.assign_to_me" name="horizon_essex.assignee.option" value="horizon_essex.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="horizon_essex.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="horizon_essex.assignee.assigned_to" name="horizon_essex.assignee.option" value="horizon_essex.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="horizon_essex.assignee.assigned_to">
              Paul McMillan (paul-mcmillan)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="horizon_essex.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="horizon_essex.comment_on_change" name="horizon_essex.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/horizon/+bug/978896/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/horizon/+bug/978896/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/horizon/+bug/978896/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>Hi,<br />
it looks like openstack-dashboard is vulnerable to a session fixation attack. Here is a HTTP dialog:</p>
<p>1. eviled Login with no Cookie header<br />
-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--<br />
POST <a rel="nofollow" href="http://test:80/auth/login/">http://<wbr />test:80/<wbr />auth/login/</a> HTTP/1.0<br />
User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61<br />
Host: test<br />
Accept: text/html, application/<wbr />xml;q=0.<wbr />9, application/<wbr />xhtml+xml, image/png,<br />
image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1<br />
Accept-Language: de-DE,de;<wbr />q=0.9,en;<wbr />q=0.8<br />
Accept-Encoding: gzip, deflate<br />
Referer: <a rel="nofollow" href="http://test">http://<wbr />test</a><br />
Cookie: csrftoken=<wbr />f5ce126776d4ede<wbr />0bff352d2e53e3e<wbr />28;<br />
sessionid=<wbr />f7467b5b66ac49c<wbr />48c74386d558c33<wbr />19<br />
Proxy-Connection: Keep-Alive<br />
Content-length: 141<br />
Content-Type: application/<wbr />x-www-form-<wbr />urlencoded</p>
<p>csrfmiddlewaret<wbr />oken=f5ce126776<wbr />d4ede0bff352d2e<wbr />53e3e28&amp;<wbr />method=<wbr />Login&amp;region=<wbr />http%3A%<wbr />2F%2F127.<wbr />0.0.1%3A5000%<wbr />2Fv2.0&amp;<wbr />username=<wbr />eviled&amp;<wbr />password=<wbr />eviled</p>
<p>2. eviled gets response with sessionid Cookie<br />
-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />----<br />
HTTP/1.1 302 FOUND<br />
Date: Wed, 21 Mar 2012 15:59:09 GMT<br />
Server: Apache/2.2.12 (Linux/SUSE)<br />
Vary: Accept-<wbr />Language,<wbr />Cookie<br />
Location: <a rel="nofollow" href="http://test">http://<wbr />test</a><br />
Content-Language: en<br />
Set-Cookie: sessionid=<wbr />f7467b5b66ac49c<wbr />48c74386d558c33<wbr />19; Path=/<br />
Content-length: 0<br />
Connection: close<br />
Content-Type: text/html; charset=utf-8</p>
<p>3. eviled logout<br />
-----------------<br />
GET <a rel="nofollow" href="http://test:80/auth/logout/">http://<wbr />test:80/<wbr />auth/logout/</a> HTTP/1.0<br />
User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61<br />
Host: test<br />
Accept: text/html, application/<wbr />xml;q=0.<wbr />9, application/<wbr />xhtml+xml, image/png,<br />
image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1<br />
Accept-Language: de-DE,de;<wbr />q=0.9,en;<wbr />q=0.8<br />
Accept-Encoding: gzip, deflate<br />
Referer: <a rel="nofollow" href="http://test">http://<wbr />test</a><br />
Cookie: sessionid=<wbr />f7467b5b66ac49c<wbr />48c74386d558c33<wbr />19;<br />
csrftoken=<wbr />f5ce126776d4ede<wbr />0bff352d2e53e3e<wbr />28<br />
Pragma: no-cache<br />
Cache-Control: no-cache<br />
Proxy-Connection: Keep-Alive</p>
<p>4. Admin Login:<br />
---------------<br />
GET <a rel="nofollow" href="http://test:80/auth/logout/">http://<wbr />test:80/<wbr />auth/logout/</a> HTTP/1.0<br />
User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61<br />
Host: test<br />
Accept: text/html, application/<wbr />xml;q=0.<wbr />9, application/<wbr />xhtml+xml, image/png,<br />
image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1<br />
Accept-Language: de-DE,de;<wbr />q=0.9,en;<wbr />q=0.8<br />
Accept-Encoding: gzip, deflate<br />
Referer: <a rel="nofollow" href="http://test/nova/">http://<wbr />test/nova/</a><br />
Cookie: sessionid=<wbr />f7467b5b66ac49c<wbr />48c74386d558c33<wbr />19;<br />
csrftoken=<wbr />f5ce126776d4ede<wbr />0bff352d2e53e3e<wbr />28<br />
Pragma: no-cache<br />
Cache-Control: no-cache<br />
Proxy-Connection: Keep-Alive</p>
<p>5. Admin request sets the same CSRF token and sessionid Cookie<br />
-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />------<br />
HTTP/1.1 200 OK<br />
Date: Wed, 21 Mar 2012 15:59:13 GMT<br />
Server: Apache/2.2.12 (Linux/SUSE)<br />
Vary: Cookie,<wbr />Accept-<wbr />Language<br />
Content-Language: en<br />
Set-Cookie: csrftoken=<wbr />f5ce126776d4ede<wbr />0bff352d2e53e3e<wbr />28; expires=Wed,<br />
20-Mar-2013 15:59:13 GMT; Max-Age=31449600; Path=/<br />
Set-Cookie: sessionid=<wbr />f7467b5b66ac49c<wbr />48c74386d558c33<wbr />19; Path=/<br />
Connection: close<br />
Content-Type: text/html; charset=utf</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            
          </span>
          <span id="tag-list">
          </span>
          <a href="+edit" title="Add tags" id="tags-trigger" class="sprite add">Add tags</a>
          
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2012-2144" title="Session fixation vulnerability in Ope...">2012-2144</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~thomas-suse-deactivatedaccount" class="sprite person-inactive">Thomas Biege (thomas-suse-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-11T13:11:28.507269+00:00" title="2012-04-11 13:11:28 UTC">on 2012-04-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/horizon/+bug/978896/+attachment/3046492/+files/openstack_horizon_lpd978896.ini">openstack_horizon_lpd978896.ini</a>
        <a class="sprite edit action-icon" href="/horizon/+bug/978896/+attachment/3046492">Edit</a>
        (4.4 KiB,
        text/plain)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The following output is from the owasp.pl tool of my test-suite [1].</p>
<p>thomas:<wbr />~/test-<wbr />suite&gt; ./owasp.pl output=short   openstack_<wbr />horizon_<wbr />lpd978896.<wbr />ini</p>
<p>[...removed output for session_<wbr />fixation_<wbr />public(<wbr />)...]</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;DBG:<br />
OWASP_SM_<wbr />003::session_<wbr />fixation_<wbr />private(<a rel="nofollow" href="http://test:80/auth/login/">http://<wbr />test:80/<wbr />auth/login/</a>,<br />
POST, method=<wbr />Login&amp;username=<wbr />admin&amp;password=<wbr />openstack)<br />
&nbsp;&nbsp;&nbsp;&nbsp;DBG: 1. try to login with &#x27;method=<wbr />Login&amp;username=<wbr />eviled&amp;<wbr />password=<wbr />eviled&#x27;<br />
(attacker)<br />
&nbsp;&nbsp;&nbsp;&nbsp;DBG: OWASP_SM_<wbr />003::session_<wbr />fixation_<wbr />private: cookie =<br />
&#x27;sessionid=<wbr />a917fb9e5c35b03<wbr />b690aa24ed1815a<wbr />16; Path=/&#x27;<br />
&nbsp;&nbsp;&nbsp;&nbsp;DBG: 2. try to login with &#x27;method=<wbr />Login&amp;username=<wbr />admin&amp;password=<wbr />openstack&#x27;<br />
(victim)<br />
&nbsp;&nbsp;&nbsp;&nbsp;DBG: OWASP_SM_<wbr />003::session_<wbr />fixation_<wbr />private: session cookie =<br />
&#x27;sessionid=<wbr />a917fb9e5c35b03<wbr />b690aa24ed1815a<wbr />16; Path=/&#x27;<br />
&nbsp;&nbsp;&nbsp;&nbsp;DBG: OWASP_SM_<wbr />003::session_<wbr />fixation_<wbr />private: new cookie =<br />
&#x27;sessionid=<wbr />a917fb9e5c35b03<wbr />b690aa24ed1815a<wbr />16; Path=/&#x27;<br />
&nbsp;&nbsp;&nbsp;&nbsp;DBG: 3. compare cookie &#x27;sessionid&#x27;<br />
&nbsp;&nbsp;&nbsp;&nbsp;DBG: OWASP_SM_<wbr />003::session_<wbr />fixation_<wbr />private: logged out<br />
=====&gt; OWASP_SM_<wbr />003::session_<wbr />fixation_<wbr />private: CWE-384 (Session Fixation): code<br />
= 1 (msg = &#x27;FAIL:Vulnerable to Session Fixation Attack by authenticated users<br />
(<a rel="nofollow" href="http://test:80/auth/login/)&#x27;">http://<wbr />test:80/<wbr />auth/login/<wbr />)&#x27;</a>)</p>
<p>2 tests in 2 secs.</p>
<p>[1] <a rel="nofollow" href="https://gitorious.org/test-suite/test-suite">https:/<wbr />/gitorious.<wbr />org/test-<wbr />suite/test-<wbr />suite</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The following output is from the owasp.pl tool of my test-suite [1].

thomas:~/test-suite&gt; ./owasp.pl output=short   openstack_horizon_lpd978896.ini

[...removed output for session_fixation_public()...]

    DBG:
OWASP_SM_003::session_fixation_private(http://test:80/auth/login/,
POST, method=Login&amp;username=admin&amp;password=openstack)
    DBG: 1. try to login with 'method=Login&amp;username=eviled&amp;password=eviled'
(attacker)
    DBG: OWASP_SM_003::session_fixation_private: cookie =
'sessionid=a917fb9e5c35b03b690aa24ed1815a16; Path=/'
    DBG: 2. try to login with 'method=Login&amp;username=admin&amp;password=openstack'
(victim)
    DBG: OWASP_SM_003::session_fixation_private: session cookie =
'sessionid=a917fb9e5c35b03b690aa24ed1815a16; Path=/'
    DBG: OWASP_SM_003::session_fixation_private: new cookie =
'sessionid=a917fb9e5c35b03b690aa24ed1815a16; Path=/'
    DBG: 3. compare cookie 'sessionid'
    DBG: OWASP_SM_003::session_fixation_private: logged out
=====&gt; OWASP_SM_003::session_fixation_private: CWE-384 (Session Fixation): code
= 1 (msg = 'FAIL:Vulnerable to Session Fixation Attack by authenticated users
(http://test:80/auth/login/)')

2 tests in 2 secs.


[1] https://gitorious.org/test-suite/test-suite</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-11T13:41:51.303341+00:00" title="2012-04-11 13:41:51 UTC">on 2012-04-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thought that identifiers in cookies were safe from session fixation ?<br />
Adding PTL to discuss impact.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thought that identifiers in cookies were safe from session fixation ?
Adding PTL to discuss impact. </textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in horizon: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Incomplete
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~thomas-suse-deactivatedaccount" class="sprite person-inactive">Thomas Biege (thomas-suse-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-11T14:38:09.292684+00:00" title="2012-04-11 14:38:09 UTC">on 2012-04-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Exploitation is harder using cookies, see <a rel="nofollow" href="http://en.wikipedia.org/wiki/Cross-site_cooking">http://<wbr />en.wikipedia.<wbr />org/wiki/<wbr />Cross-site_<wbr />cooking</a></p>
<p>Someone an argue that the bug is in the browser of course, but nevertheless creating a new session cookie after login seems to be missing. Not sure if it is django&#x27;s responsibility or if it is designed to be done by the dashboard.</p>
<p>Another attack vector can be a XSS attack, see<br />
<a rel="nofollow" href="https://www.owasp.org/index.php/Session_fixation">https:/<wbr />/www.owasp.<wbr />org/index.<wbr />php/Session_<wbr />fixation</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Exploitation is harder using cookies, see http://en.wikipedia.org/wiki/Cross-site_cooking

Someone an argue that the bug is in the browser of course, but nevertheless creating a new session cookie after login seems to be missing. Not sure if it is django's responsibility or if it is designed to be done by the dashboard.

Another attack vector can be a XSS attack, see 
https://www.owasp.org/index.php/Session_fixation
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~devcamcar" class="sprite person">Devin Carlen (devcamcar)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-11T22:24:14.664201+00:00" title="2012-04-11 22:24:14 UTC">on 2012-04-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Added Gabriel Hurley and Tres Henry to discuss.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Added Gabriel Hurley and Tres Henry to discuss.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~devcamcar" class="sprite person">Devin Carlen (devcamcar)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-11T22:26:00.631639+00:00" title="2012-04-11 22:26:00 UTC">on 2012-04-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Added Paul McMillan who has experience with the core Django pieces involved here.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Added Paul McMillan who has experience with the core Django pieces involved here.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-11T22:59:16.675620+00:00" title="2012-04-11 22:59:16 UTC">on 2012-04-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The Django security team is reviewing this issue. The same reporter sent us a similar report this morning via the &lt;email address hidden&gt; alias.</p>
<p>We&#x27;ve dealt with several similar issues in the past. I haven&#x27;t had a chance to personally verify this bug. If it is valid, it&#x27;s a Django issue, and not something that should be fixed in Horizon.</p>
<p>The CSRF token portion of this report is irrelevant, given how Django&#x27;s CSRF tokens work.</p>
<p>The impact is relatively limited for most real-world deployments - generally restricted to any of the following:<br />
&nbsp;- there are existing XSS/CSRF bugs in the Django app<br />
&nbsp;- there are login-CSRF bugs (XSS or CSRF on related subdomains is the most common case)<br />
&nbsp;- an attacker can otherwise read/set arbitrary cookies on your browser prior to logging into the site (wifi mitm, physical access)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The Django security team is reviewing this issue. The same reporter sent us a similar report this morning via the security@djangoproject.org alias.

We've dealt with several similar issues in the past. I haven't had a chance to personally verify this bug. If it is valid, it's a Django issue, and not something that should be fixed in Horizon.

The CSRF token portion of this report is irrelevant, given how Django's CSRF tokens work.

The impact is relatively limited for most real-world deployments - generally restricted to any of the following:
 - there are existing XSS/CSRF bugs in the Django app
 - there are login-CSRF bugs (XSS or CSRF on related subdomains is the most common case)
 - an attacker can otherwise read/set arbitrary cookies on your browser prior to logging into the site (wifi mitm, physical access)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-12T07:02:26.542725+00:00" title="2012-04-12 07:02:26 UTC">on 2012-04-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>After thoroughly investigating the Django end of things, I&#x27;m forced to conclude this is a Horizon bug, and a serious one. I can reproduce the effect in Horizon, and during testing noticed that Horizon&#x27;s use of Django&#x27;s sessions and its connection to keystone seem to bypass some of the assumptions I&#x27;ve made about the protection provided by Django.</p>
<p>In light of that, I don&#x27;t currently have enough information about this bug to estimate how serious it is, other than that it is at least as serious as indicated above, likely much worse, and I need to spend more time looking at the code and testing. I will try to work on that tomorrow.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">After thoroughly investigating the Django end of things, I'm forced to conclude this is a Horizon bug, and a serious one. I can reproduce the effect in Horizon, and during testing noticed that Horizon's use of Django's sessions and its connection to keystone seem to bypass some of the assumptions I've made about the protection provided by Django.

In light of that, I don't currently have enough information about this bug to estimate how serious it is, other than that it is at least as serious as indicated above, likely much worse, and I need to spend more time looking at the code and testing. I will try to work on that tomorrow.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-13T00:34:30.859713+00:00" title="2012-04-13 00:34:30 UTC">on 2012-04-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;m working on a patch for this now.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'm working on a patch for this now.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in horizon: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Paul McMillan (paul-mcmillan)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~thomas-suse-deactivatedaccount" class="sprite person-inactive">Thomas Biege (thomas-suse-deactivatedaccount)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-13T07:09:24.231485+00:00" title="2012-04-13 07:09:24 UTC">on 2012-04-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks!</p>
<p>Do we have a CVE-ID for this already?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks!

Do we have a CVE-ID for this already?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-13T09:51:38.155949+00:00" title="2012-04-13 09:51:38 UTC">on 2012-04-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Thomas: not yet, we need to work on statement of impact first.</p>
<p>@Paul: Since you did the confirmation, could you describe the attack vector and impact more precisely ? In comment #6 you say it&#x27;s minor since it requires the ability to pre-set cookies, and in comment #8 you say it&#x27;s a serious issue...</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Thomas: not yet, we need to work on statement of impact first.

@Paul: Since you did the confirmation, could you describe the attack vector and impact more precisely ? In comment #6 you say it's minor since it requires the ability to pre-set cookies, and in comment #8 you say it's a serious issue...</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-16T19:15:18.425125+00:00" title="2012-04-16 19:15:18 UTC">on 2012-04-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>(sorry to be slow responding here)</p>
<p>@Thierry: The most serious other issue I discovered was that there are some circumstances in which it is be possible for user data and/or auth to leak from one session to another.</p>
<p>The fix here is to remove the keystone auth from the middleware, and use it as a proper Django auth backend. This means that Horizon uses the same extremely well tested and audited mechanisms that Django uses. It also means that Horizon will get the same security upgrades that Django does, if a bug is discovered in these mechanisms. It also means that we have consistent behavior across alternate session backends.</p>
<p>I&#x27;m in the process of testing my patch for this now.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">(sorry to be slow responding here)

@Thierry: The most serious other issue I discovered was that there are some circumstances in which it is be possible for user data and/or auth to leak from one session to another.

The fix here is to remove the keystone auth from the middleware, and use it as a proper Django auth backend. This means that Horizon uses the same extremely well tested and audited mechanisms that Django uses. It also means that Horizon will get the same security upgrades that Django does, if a bug is discovered in these mechanisms. It also means that we have consistent behavior across alternate session backends.

I'm in the process of testing my patch for this now.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-23T14:18:07.037994+00:00" title="2012-04-23 14:18:07 UTC">on 2012-04-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Paul: please attach here when you have the patch for this. A complete impact description based on your findings would also be very cool. Thanks!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Paul: please attach here when you have the patch for this. A complete impact description based on your findings would also be very cool. Thanks!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-25T12:29:25.287116+00:00" title="2012-04-25 12:29:25 UTC">on 2012-04-25</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Paul: any progress on the patch ? I&#x27;d rather fix this early than late :)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Paul: any progress on the patch ? I'd rather fix this early than late :)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in horizon: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Critical
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Incomplete &#8594; Confirmed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-25T18:31:15.838594+00:00" title="2012-04-25 18:31:15 UTC">on 2012-04-25</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The larger fix for the issue has been giving me trouble, and being out sick for a couple days didn&#x27;t help.</p>
<p>I think at this point, I should fix it in less comprehensive way we discussed, since I&#x27;m worried about bugs the large fix may introduce this late in the release process. I&#x27;ll get that posted ASAP.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The larger fix for the issue has been giving me trouble, and being out sick for a couple days didn't help.

I think at this point, I should fix it in less comprehensive way we discussed, since I'm worried about bugs the large fix may introduce this late in the release process. I'll get that posted ASAP.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-26T01:53:41.289139+00:00" title="2012-04-26 01:53:41 UTC">on 2012-04-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/horizon/+bug/978896/+attachment/3104311/+files/session_fixation.diff">session_fixation.diff</a>
        <a class="sprite edit action-icon" href="/horizon/+bug/978896/+attachment/3104311">Edit</a>
        (6.8 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Here&#x27;s the simple version of the patch. It is tested against trunk, but should be extremely similar for backporting.</p>
<p>It fixes both the session fixation bug, and the bug where user sessions could run together.</p>
<p>If we agree this is a reasonable approach, I can go ahead and try out the private gerrit stuff.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Here's the simple version of the patch. It is tested against trunk, but should be extremely similar for backporting.

It fixes both the session fixation bug, and the bug where user sessions could run together.

If we agree this is a reasonable approach, I can go ahead and try out the private gerrit stuff.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-26T01:55:35.328845+00:00" title="2012-04-26 01:55:35 UTC">on 2012-04-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Once we&#x27;ve dealt with the immediate issue, I&#x27;ll work with the Horizon team to get the more comprehensive authentication backend rewrite in place for the Folsom release.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Once we've dealt with the immediate issue, I'll work with the Horizon team to get the more comprehensive authentication backend rewrite in place for the Folsom release.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-26T01:58:46.055948+00:00" title="2012-04-26 01:58:46 UTC">on 2012-04-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>It&#x27;s also worth noting that the automatic testing tools may still have a false-positive for this issue when:</p>
<p>signed cookie session backend is in use<br />
the testing tool is logging in and out of one test account<br />
the testing tool does not wait at least 1 second between logins</p>
<p>This is an expected property of that session backend, and is not a bug. In all other cases, the session id should be different.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">It's also worth noting that the automatic testing tools may still have a false-positive for this issue when:

signed cookie session backend is in use
the testing tool is logging in and out of one test account
the testing tool does not wait at least 1 second between logins

This is an expected property of that session backend, and is not a bug. In all other cases, the session id should be different.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-26T14:46:01.210538+00:00" title="2012-04-26 14:46:01 UTC">on 2012-04-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Patch looks lean and clean to me. Devin, Gabriel, could you have a look and +1 it ?</p>
<p>@Paul: could you please review the following impact description and check that it describes the issue accurately:</p>
<p>&quot;&quot;&quot;<br />
Title: Horizon session fixation and reuse<br />
Impact: Critical<br />
Reporter: Thomas Biege, SUSE<br />
Products: Horizon<br />
Affects: All versions</p>
<p>Description:<br />
Thomas Biege from SUSE reported a vulnerability in OpenStack Dashboard (Horizon). Under specific circumstances it is possible to reuse session cookies from another user, potentially resulting in information leakage between Horizon sessions, including authentication information.<br />
&quot;&quot;&quot;</p>
<p>Feel free to suggest corrections that would make the description more precise.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Patch looks lean and clean to me. Devin, Gabriel, could you have a look and +1 it ?

@Paul: could you please review the following impact description and check that it describes the issue accurately:

"""
Title: Horizon session fixation and reuse
Impact: Critical
Reporter: Thomas Biege, SUSE
Products: Horizon
Affects: All versions

Description:
Thomas Biege from SUSE reported a vulnerability in OpenStack Dashboard (Horizon). Under specific circumstances it is possible to reuse session cookies from another user, potentially resulting in information leakage between Horizon sessions, including authentication information.
"""

Feel free to suggest corrections that would make the description more precise.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gabriel-hurley" class="sprite person">Gabriel Hurley (gabriel-hurley)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-26T18:56:08.735443+00:00" title="2012-04-26 18:56:08 UTC">on 2012-04-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Patch looks good to me.</p>
<p>As per the impact description, I&#x27;d word the last sentence as such: &quot;Under specific circumstances it is possible to reuse session cookies from another user, potentially allowing access to unauthorized information and capabilities.&quot;</p>
<p>e.g. the attacker couldn&#x27;t actually steal your password, but they could change it for you if you&#x27;re an admin...</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Patch looks good to me.

As per the impact description, I'd word the last sentence as such: "Under specific circumstances it is possible to reuse session cookies from another user, potentially allowing access to unauthorized information and capabilities."

e.g. the attacker couldn't actually steal your password, but they could change it for you if you're an admin...</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~devcamcar" class="sprite person">Devin Carlen (devcamcar)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-26T20:44:24.919921+00:00" title="2012-04-26 20:44:24 UTC">on 2012-04-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Patch gets a +1 from me</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Patch gets a +1 from me</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-27T01:29:29.555412+00:00" title="2012-04-27 01:29:29 UTC">on 2012-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks for the patch reviews!  I&#x27;ll send out the advance notification with the description updated to reflect Gabriel&#x27;s comments tomorrow.</p>
<p>Does anyone have a problem with Thursday, April 31st as the CRD (coordinated release date) ?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks for the patch reviews!  I'll send out the advance notification with the description updated to reflect Gabriel's comments tomorrow.

Does anyone have a problem with Thursday, April 31st as the CRD (coordinated release date) ?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~devcamcar" class="sprite person">Devin Carlen (devcamcar)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-27T01:52:22+00:00" title="2012-04-27 01:52:22 UTC">on 2012-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/horizon/+bug/978896/comments/22">
                <strong>Re: [Bug 978896] session fixation vulnerability</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/horizon/+bug/978896/comments/22/+download">Download full text</a> (3.7 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Sounds good.</p>
<p>On Apr 26, 2012, at 6:29 PM, Russell Bryant wrote:</p>
<p><span class="foldable-quoted">&gt; Thanks for the patch reviews!  I&#x27;ll send out the advance notification<br />
&gt; with the description updated to reflect Gabriel&#x27;s comments tomorrow.<br />
&gt;<br />
&gt; Does anyone have a problem with Thursday, April 31st as the CRD<br />
&gt; (coordinated release date) ?<br />
&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are subscribed to the bug<br />
&gt; report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/978896">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />978896</a><br />
&gt;<br />
&gt; Title:<br />
&gt;  session fixation vulnerability<br />
&gt;<br />
&gt; Status in OpenStack Dashboard (Horizon):<br />
&gt;  Confirmed<br />
&gt;<br />
&gt; Bug description:<br />
&gt;  Hi,<br />
&gt;  it looks like openstack-dashboard is vulnerable to a session fixation attack. Here is a HTTP dialog:<br />
&gt;<br />
&gt;  1. eviled Login with no Cookie header<br />
&gt;  -------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />--<br />
&gt;  POST <a rel="nofollow" href="http://test:80/auth/login/">http://<wbr />test:80/<wbr />auth/login/</a> HTTP/1.0<br />
&gt;  User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61<br />
&gt;  Host: test<br />
&gt;  Accept: text/html, application/<wbr />xml;q=0.<wbr />9, application/<wbr />xhtml+xml, image/png,<br />
&gt;  image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1<br />
&gt;  Accept-Language: de-DE,de;<wbr />q=0.9,en;<wbr />q=0.8<br />
&gt;  Accept-Encoding: gzip, deflate<br />
&gt;  Referer: <a rel="nofollow" href="http://test">http://<wbr />test</a><br />
&gt;  Cookie: csrftoken=<wbr />f5ce126776d4ede<wbr />0bff352d2e53e3e<wbr />28;<br />
&gt;  sessionid=<wbr />f7467b5b66ac49c<wbr />48c74386d558c33<wbr />19<br />
&gt;  Proxy-Connection: Keep-Alive<br />
&gt;  Content-length: 141<br />
&gt;  Content-Type: application/<wbr />x-www-form-<wbr />urlencoded<br />
&gt;<br />
&gt;  csrfmiddlewaret<wbr />oken=f5ce126776<wbr />d4ede0bff352d2e<wbr />53e3e28&amp;<wbr />method=<wbr />Login&amp;region=<wbr />http%3A%<wbr />2F%2F127.<wbr />0.0.1%3A5000%<wbr />2Fv2.0&amp;<wbr />username=<wbr />eviled&amp;<wbr />password=<wbr />eviled<br />
&gt;<br />
&gt;  2. eviled gets response with sessionid Cookie<br />
&gt;  -------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />----<br />
&gt;  HTTP/1.1 302 FOUND<br />
&gt;  Date: Wed, 21 Mar 2012 15:59:09 GMT<br />
&gt;  Server: Apache/2.2.12 (Linux/SUSE)<br />
&gt;  Vary: Accept-<wbr />Language,<wbr />Cookie<br />
&gt;  Location: <a rel="nofollow" href="http://test">http://<wbr />test</a><br />
&gt;  Content-Language: en<br />
&gt;  Set-Cookie: sessionid=<wbr />f7467b5b66ac49c<wbr />48c74386d558c33<wbr />19; Path=/<br />
&gt;  Content-length: 0<br />
&gt;  Connection: close<br />
&gt;  Content-Type: text/html; charset=utf-8<br />
&gt;<br />
&gt;  3. eviled logout<br />
&gt;  -----------------<br />
&gt;  GET <a rel="nofollow" href="http://test:80/auth/logout/">http://<wbr />test:80/<wbr />auth/logout/</a> HTTP/1.0<br />
&gt;  User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61<br />
&gt;  Host: test<br />
&gt;  Accept: text/html, application/<wbr />xml;q=0.<wbr />9, application/<wbr />xhtml+xml, image/png,<br />
&gt;  image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1<br />
&gt;  Accept-Language: de-DE,de;<wbr />q=0.9,en;<wbr />q=0.8<br />
&gt;  Accept-Encoding: gzip, deflate<br />
&gt;  Referer: <a rel="nofollow" href="http://test">http://<wbr />test</a><br />
&gt;  Cookie: sessionid=<wbr />f7467b5b66ac49c<wbr />48c74386d558c33<wbr />19;<br />
&gt;  csrftoken=<wbr />f5ce126776d4ede<wbr />0bff352d2e53e3e<wbr />28<br />
&gt;  Pragma: no-cache<br />
&gt;  Cache-Control: no-cache<br />
&gt;  Proxy-Connection: Keep-Alive<br />
&gt;<br />
&gt;  4. Admin Login:<br />
&gt;  ---------------<br />
&gt;  GET <a rel="nofollow" href="http://test:80/auth/logout/">http://<wbr />test:80/<wbr />auth/logout/</a> HTTP/1.0<br />
&gt;  User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61<br />
&gt;  Host: test<br />
&gt;  Accept: text/html, application/<wbr />xml;q=0.<wbr />9, application/<wbr />xhtml+xml, image/png,<br />
&gt;  image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1<br />
&gt;  Accept-Language: de-DE,de;<wbr />q=0.9,en;<wbr />q=0.8<br />
&gt;  Accept-Encoding: gzip, deflate<br />
&gt;  Referer: <a rel="nofollow" href="http://test/nova/">http://<wbr />test/nova/</a><br />
&gt;  Cookie: sessionid=<wbr />f7467b5b66ac49c<wbr />48c74386d558c33<wbr />19;<br />
&gt;  csrftoken=<wbr />f5ce126776d4ede<wbr />0bff352d2e53e3e<wbr />28<br />
&gt;  Pragma: no-cache<br />
&gt;  Cache-Control: no-cache<br />
&gt;  Proxy-Connection: Keep-Alive<br />
&gt;<br />
&gt;  5. Admin request sets the s...
</span></p></div>
    
    <p>
      <a href="/horizon/+bug/978896/comments/22">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Sounds good.


On Apr 26, 2012, at 6:29 PM, Russell Bryant wrote:

&gt; Thanks for the patch reviews!  I'll send out the advance notification
&gt; with the description updated to reflect Gabriel's comments tomorrow.
&gt; 
&gt; Does anyone have a problem with Thursday, April 31st as the CRD
&gt; (coordinated release date) ?
&gt; 
&gt; -- 
&gt; You received this bug notification because you are subscribed to the bug
&gt; report.
&gt; https://bugs.launchpad.net/bugs/978896
&gt; 
&gt; Title:
&gt;  session fixation vulnerability
&gt; 
&gt; Status in OpenStack Dashboard (Horizon):
&gt;  Confirmed
&gt; 
&gt; Bug description:
&gt;  Hi,
&gt;  it looks like openstack-dashboard is vulnerable to a session fixation attack. Here is a HTTP dialog:
&gt; 
&gt;  1. eviled Login with no Cookie header
&gt;  -------------------------------------
&gt;  POST http://test:80/auth/login/ HTTP/1.0
&gt;  User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61
&gt;  Host: test
&gt;  Accept: text/html, application/xml;q=0.9, application/xhtml+xml, image/png,
&gt;  image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1
&gt;  Accept-Language: de-DE,de;q=0.9,en;q=0.8
&gt;  Accept-Encoding: gzip, deflate
&gt;  Referer: http://test
&gt;  Cookie: csrftoken=f5ce126776d4ede0bff352d2e53e3e28;
&gt;  sessionid=f7467b5b66ac49c48c74386d558c3319
&gt;  Proxy-Connection: Keep-Alive
&gt;  Content-length: 141
&gt;  Content-Type: application/x-www-form-urlencoded
&gt; 
&gt;  csrfmiddlewaretoken=f5ce126776d4ede0bff352d2e53e3e28&amp;method=Login&amp;region=http%3A%2F%2F127.0.0.1%3A5000%2Fv2.0&amp;username=eviled&amp;password=eviled
&gt; 
&gt;  2. eviled gets response with sessionid Cookie
&gt;  ----------------------------------------------
&gt;  HTTP/1.1 302 FOUND
&gt;  Date: Wed, 21 Mar 2012 15:59:09 GMT
&gt;  Server: Apache/2.2.12 (Linux/SUSE)
&gt;  Vary: Accept-Language,Cookie
&gt;  Location: http://test
&gt;  Content-Language: en
&gt;  Set-Cookie: sessionid=f7467b5b66ac49c48c74386d558c3319; Path=/
&gt;  Content-length: 0
&gt;  Connection: close
&gt;  Content-Type: text/html; charset=utf-8
&gt; 
&gt;  3. eviled logout
&gt;  -----------------
&gt;  GET http://test:80/auth/logout/ HTTP/1.0
&gt;  User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61
&gt;  Host: test
&gt;  Accept: text/html, application/xml;q=0.9, application/xhtml+xml, image/png,
&gt;  image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1
&gt;  Accept-Language: de-DE,de;q=0.9,en;q=0.8
&gt;  Accept-Encoding: gzip, deflate
&gt;  Referer: http://test
&gt;  Cookie: sessionid=f7467b5b66ac49c48c74386d558c3319;
&gt;  csrftoken=f5ce126776d4ede0bff352d2e53e3e28
&gt;  Pragma: no-cache
&gt;  Cache-Control: no-cache
&gt;  Proxy-Connection: Keep-Alive
&gt; 
&gt;  4. Admin Login:
&gt;  ---------------
&gt;  GET http://test:80/auth/logout/ HTTP/1.0
&gt;  User-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61
&gt;  Host: test
&gt;  Accept: text/html, application/xml;q=0.9, application/xhtml+xml, image/png,
&gt;  image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1
&gt;  Accept-Language: de-DE,de;q=0.9,en;q=0.8
&gt;  Accept-Encoding: gzip, deflate
&gt;  Referer: http://test/nova/
&gt;  Cookie: sessionid=f7467b5b66ac49c48c74386d558c3319;
&gt;  csrftoken=f5ce126776d4ede0bff352d2e53e3e28
&gt;  Pragma: no-cache
&gt;  Cache-Control: no-cache
&gt;  Proxy-Connection: Keep-Alive
&gt; 
&gt;  5. Admin request sets the same CSRF token and sessionid Cookie
&gt;  --------------------------------------------------------------
&gt;  HTTP/1.1 200 OK
&gt;  Date: Wed, 21 Mar 2012 15:59:13 GMT
&gt;  Server: Apache/2.2.12 (Linux/SUSE)
&gt;  Vary: Cookie,Accept-Language
&gt;  Content-Language: en
&gt;  Set-Cookie: csrftoken=f5ce126776d4ede0bff352d2e53e3e28; expires=Wed,
&gt;  20-Mar-2013 15:59:13 GMT; Max-Age=31449600; Path=/
&gt;  Set-Cookie: sessionid=f7467b5b66ac49c48c74386d558c3319; Path=/
&gt;  Connection: close
&gt;  Content-Type: text/html; charset=utf
&gt; 
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/horizon/+bug/978896/+subscriptions

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-27T03:53:57.393594+00:00" title="2012-04-27 03:53:57 UTC">on 2012-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Sounds good to me. Should we try the private gerrit thing, or do we prefer to just patch manually on the release date?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Sounds good to me. Should we try the private gerrit thing, or do we prefer to just patch manually on the release date?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-27T08:17:14.911272+00:00" title="2012-04-27 08:17:14 UTC">on 2012-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Patch &amp; modified description look good to me.</p>
<p>There is no such thing as a private gerrit yet. We need to have a look to check how secure the gerrit &quot;draft&quot; feature is, and if it could be abused to manage embargoed updates. For now we just get the patch pre-reviewed here, then on disclosure date we push the patch to gerrit and fast-track it using a willing Horizon coredev.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Patch &amp; modified description look good to me.

There is no such thing as a private gerrit yet. We need to have a look to check how secure the gerrit "draft" feature is, and if it could be abused to manage embargoed updates. For now we just get the patch pre-reviewed here, then on disclosure date we push the patch to gerrit and fast-track it using a willing Horizon coredev.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-27T12:06:45.959519+00:00" title="2012-04-27 12:06:45 UTC">on 2012-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I meant Thursday, May 3rd ...</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I meant Thursday, May 3rd ...</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-27T14:31:41.722275+00:00" title="2012-04-27 14:31:41 UTC">on 2012-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>CRD is OK for me. I&#x27;ll let you send it since I&#x27;m awa</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">CRD is OK for me. I'll let you send it since I'm awa</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-27T14:32:12.229874+00:00" title="2012-04-27 14:32:12 UTC">on 2012-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>y on Monday-Tuesday so can&#x27;t deal with any possible fire.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">y on Monday-Tuesday so can't deal with any possible fire.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/28" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-27T17:09:04.961153+00:00" title="2012-04-27 17:09:04 UTC">on 2012-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/28"> #28</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Advance notification email sent</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Advance notification email sent</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/29" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gabriel-hurley" class="sprite person">Gabriel Hurley (gabriel-hurley)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-30T18:54:17.946117+00:00" title="2012-04-30 18:54:17 UTC">on 2012-04-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/29"> #29</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>FYI, this patch applies cleanly to the stable/essex branch and passes the unit tests (including the included unit test that verifies this issue). It should be good-to-go for backport.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">FYI, this patch applies cleanly to the stable/essex branch and passes the unit tests (including the included unit test that verifies this issue). It should be good-to-go for backport.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/30" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-30T21:16:59.483566+00:00" title="2012-04-30 21:16:59 UTC">on 2012-04-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/30"> #30</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>How about stable/diablo?  Is that branch affected?  If so, does this patch apply?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">How about stable/diablo?  Is that branch affected?  If so, does this patch apply?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/31" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gabriel-hurley" class="sprite person">Gabriel Hurley (gabriel-hurley)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-04-30T22:10:43.942560+00:00" title="2012-04-30 22:10:43 UTC">on 2012-04-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/31"> #31</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I can&#x27;t say if stable/diablo is affected offhand (and I don&#x27;t have the infrstructure set up to test it in any effective manner), but I can guarantee this patch will not apply cleanly. The very significant changes in Horizon between Diablo and Essex simply don&#x27;t line up.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I can't say if stable/diablo is affected offhand (and I don't have the infrstructure set up to test it in any effective manner), but I can guarantee this patch will not apply cleanly. The very significant changes in Horizon between Diablo and Essex simply don't line up.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/32" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-01T06:06:32.251185+00:00" title="2012-05-01 06:06:32 UTC">on 2012-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/32"> #32</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Looking at the code history, Horizon has been vulnerable to this for as far back as I can trace (11 months). So yes, stable/diablo is affected, and while the patch won&#x27;t apply cleanly, the relevant code (other than possibly moving around a bit) hasn&#x27;t changed terribly much. I&#x27;m afraid I don&#x27;t have a setup for testing that either, but I can certainly review the backport.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Looking at the code history, Horizon has been vulnerable to this for as far back as I can trace (11 months). So yes, stable/diablo is affected, and while the patch won't apply cleanly, the relevant code (other than possibly moving around a bit) hasn't changed terribly much. I'm afraid I don't have a setup for testing that either, but I can certainly review the backport.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/33" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-01T12:24:05.948887+00:00" title="2012-05-01 12:24:05 UTC">on 2012-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/33"> #33</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks.</p>
<p>Are you guys comfortable releasing this without a patch for diablo?  Or do we need to find someone to do the backport before Thursday?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks.

Are you guys comfortable releasing this without a patch for diablo?  Or do we need to find someone to do the backport before Thursday?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/34" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-01T19:51:25.585541+00:00" title="2012-05-01 19:51:25 UTC">on 2012-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/34"> #34</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Horizon wasn&#x27;t a core project in Diablo. So we could say there is no such thing as &quot;Horizon Diablo&quot;. And we can certainly make a case that non-core projects/releases are not security-supported.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Horizon wasn't a core project in Diablo. So we could say there is no such thing as "Horizon Diablo". And we can certainly make a case that non-core projects/releases are not security-supported.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/35" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-01T19:52:12.054102+00:00" title="2012-05-01 19:52:12 UTC">on 2012-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/35"> #35</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>So I&#x27;d say that &quot;all versions are affected&quot; and provide a fix for Essex and Folsom.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">So I'd say that "all versions are affected" and provide a fix for Essex and Folsom.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/36" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-01T20:17:40.127812+00:00" title="2012-05-01 20:17:40 UTC">on 2012-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/36"> #36</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Works for me.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Works for me.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/37" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gabriel-hurley" class="sprite person">Gabriel Hurley (gabriel-hurley)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-01T21:15:07.379636+00:00" title="2012-05-01 21:15:07 UTC">on 2012-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/37"> #37</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Makes sense. Sounds good!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Makes sense. Sounds good!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/38" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-02T15:32:25.887679+00:00" title="2012-05-02 15:32:25 UTC">on 2012-05-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/38"> #38</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Jamie Strandboge is reporting unit test failures with this patch applied to Essex.  Can someone please follow up on that today to see if the patch needs to be updated before the release tomorrow?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Jamie Strandboge is reporting unit test failures with this patch applied to Essex.  Can someone please follow up on that today to see if the patch needs to be updated before the release tomorrow?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/39" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-02T16:01:33.165777+00:00" title="2012-05-02 16:01:33 UTC">on 2012-05-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/39"> #39</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Forwarded the email to Gabriel and Paul.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Forwarded the email to Gabriel and Paul.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/40" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gabriel-hurley" class="sprite person">Gabriel Hurley (gabriel-hurley)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-02T18:42:33.196515+00:00" title="2012-05-02 18:42:33 UTC">on 2012-05-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/40"> #40</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I applied the patch to stable/essex and ran the unit tests without seeing any failures. That would lead me to believe there&#x27;s something different in the upstream package/environment that&#x27;s causing the issue. It&#x27;s hard to debug that without more details.</p>
<p>Alternatively, the patch could simply be amended to wrap that del call inside an &quot;if hasattr(request, &quot;_cached_user&quot;)...&quot; to allow it to fail more gracefully. That said, without knowing why that attribute is not present I can&#x27;t definitely say that gracefully passing by that line won&#x27;t cause other problems.</p>
<p>Perhaps Paul can comment on that.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I applied the patch to stable/essex and ran the unit tests without seeing any failures. That would lead me to believe there's something different in the upstream package/environment that's causing the issue. It's hard to debug that without more details.

Alternatively, the patch could simply be amended to wrap that del call inside an "if hasattr(request, "_cached_user")..." to allow it to fail more gracefully. That said, without knowing why that attribute is not present I can't definitely say that gracefully passing by that line won't cause other problems.

Perhaps Paul can comment on that.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/41" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-02T21:04:52.723941+00:00" title="2012-05-02 21:04:52 UTC">on 2012-05-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/41"> #41</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;m not sure how the patch works in one place but not the other...</p>
<p>I&#x27;m not terribly thrilled about wrapping the del call inside a conditional. If that value is not set, it indicates that our tests are doing unexpected things (most likely not getting all the way logged in before logging out).</p>
<p>If we wrap it in a conditional, we PROBABLY don&#x27;t make things worse, from a vulnerability standpoint (if that doesn&#x27;t exist, it means the user wasn&#x27;t logged in), but it worries me.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'm not sure how the patch works in one place but not the other... 

I'm not terribly thrilled about wrapping the del call inside a conditional. If that value is not set, it indicates that our tests are doing unexpected things (most likely not getting all the way logged in before logging out).

If we wrap it in a conditional, we PROBABLY don't make things worse, from a vulnerability standpoint (if that doesn't exist, it means the user wasn't logged in), but it worries me.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/42" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-03T07:32:12.574662+00:00" title="2012-05-03 07:32:12 UTC">on 2012-05-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/42"> #42</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Added Jamie directly to the bug.</p>
<p>The difference could come from the fact that you test on top of stable/essex while Jamie tests on top of 2012.1 release. There are 3 extra commits (+ a merge commit) that were backported since April 5: <a rel="nofollow" href="https://github.com/openstack/horizon/commits/stable/essex">https:/<wbr />/github.<wbr />com/openstack/<wbr />horizon/<wbr />commits/<wbr />stable/<wbr />essex</a></p>
<p>That said, it&#x27;s really not obvious why those extra commits would cause those failures.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Added Jamie directly to the bug.

The difference could come from the fact that you test on top of stable/essex while Jamie tests on top of 2012.1 release. There are 3 extra commits (+ a merge commit) that were backported since April 5: https://github.com/openstack/horizon/commits/stable/essex

That said, it's really not obvious why those extra commits would cause those failures.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/43" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jdstrand" class="sprite person">Jamie Strandboge (jdstrand)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-03T13:26:50.474705+00:00" title="2012-05-03 13:26:50 UTC">on 2012-05-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/43"> #43</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/horizon/+bug/978896/+attachment/3127713/+files/horizon_test.errors">horizon_test.errors</a>
        <a class="sprite edit action-icon" href="/horizon/+bug/978896/+attachment/3127713">Edit</a>
        (9.1 KiB,
        text/plain)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I just tried each commit since April 3rd (unpatched horizon in Ubuntu already has those from the 3rd) and they have no effect on the test results. It is only after I remove the patch for CVE-2012-2144 do the tests start passing again.  My testing is on Ubuntu 12.04 and consists of:<br />
$ apt-get source horizon<br />
$ apt-get build-dep horizon<br />
$ cd horizon-2012.1<br />
$ cat /tmp/session_<wbr />fixation.<wbr />diff | patch -p1<br />
patching file horizon/<wbr />exceptions.<wbr />py<br />
patching file horizon/<wbr />middleware.<wbr />py<br />
patching file horizon/<wbr />tests/auth_<wbr />tests.py<br />
patching file horizon/users.py<br />
patching file horizon/<wbr />views/auth.<wbr />py<br />
patching file horizon/<wbr />views/auth_<wbr />forms.py<br />
$ PYTHONPATH=. bash run_tests.sh -N<br />
...<br />
Ran 191 tests in 3.604s</p>
<p>FAILED (errors=5)</p>
<p>This mimics what we use in our builds. I (re-)verified that the patch I&#x27;m using is the same as the one in this bug. Attached is the failure output.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I just tried each commit since April 3rd (unpatched horizon in Ubuntu already has those from the 3rd) and they have no effect on the test results. It is only after I remove the patch for CVE-2012-2144 do the tests start passing again.  My testing is on Ubuntu 12.04 and consists of:
$ apt-get source horizon
$ apt-get build-dep horizon
$ cd horizon-2012.1
$ cat /tmp/session_fixation.diff | patch -p1
patching file horizon/exceptions.py
patching file horizon/middleware.py
patching file horizon/tests/auth_tests.py
patching file horizon/users.py
patching file horizon/views/auth.py
patching file horizon/views/auth_forms.py
$ PYTHONPATH=. bash run_tests.sh -N
...
Ran 191 tests in 3.604s

FAILED (errors=5)

This mimics what we use in our builds. I (re-)verified that the patch I'm using is the same as the one in this bug. Attached is the failure output.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/44" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-03T13:45:56.806066+00:00" title="2012-05-03 13:45:56 UTC">on 2012-05-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/44"> #44</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This issue was scheduled to be opened up and patches released in just over an hour.  I suggest we hold off until we get to the bottom of these failures.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This issue was scheduled to be opened up and patches released in just over an hour.  I suggest we hold off until we get to the bottom of these failures.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/45" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-03T13:50:30.358431+00:00" title="2012-05-03 13:50:30 UTC">on 2012-05-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/45"> #45</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>If you guys in horizon-core feel that we should push it out anyway, just proceed with pushing the patches to gerrit as usual when you&#x27;re ready and I&#x27;ll follow up with the security advisory.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">If you guys in horizon-core feel that we should push it out anyway, just proceed with pushing the patches to gerrit as usual when you're ready and I'll follow up with the security advisory.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/46" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jdstrand" class="sprite person">Jamie Strandboge (jdstrand)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-03T14:18:44.342917+00:00" title="2012-05-03 14:18:44 UTC">on 2012-05-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/46"> #46</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Perhaps it is worth noting that Ubuntu uses django 1.3.1 (specifically 1.3.1-4ubuntu1).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Perhaps it is worth noting that Ubuntu uses django 1.3.1 (specifically 1.3.1-4ubuntu1).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/47" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jdstrand" class="sprite person">Jamie Strandboge (jdstrand)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-03T14:35:56.223897+00:00" title="2012-05-03 14:35:56 UTC">on 2012-05-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/47"> #47</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>That may be it. If I build my package on Debian unstable (which has django 1.4), it passes.<br />
$ PYTHONPATH=. bash run_tests.sh -N<br />
...<br />
Ran 191 tests in 4.918s</p>
<p>OK</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">That may be it. If I build my package on Debian unstable (which has django 1.4), it passes.
$ PYTHONPATH=. bash run_tests.sh -N
...
Ran 191 tests in 4.918s

OK</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/48" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-03T14:54:13.144307+00:00" title="2012-05-03 14:54:13 UTC">on 2012-05-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/48"> #48</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Question is, is the patch not applicable to Django 1.3... or is the test fail just a false negative ? We might need to wait for Paul to answer that, and he is west coast.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Question is, is the patch not applicable to Django 1.3... or is the test fail just a false negative ? We might need to wait for Paul to answer that, and he is west coast.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/49" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-03T18:21:45.947071+00:00" title="2012-05-03 18:21:45 UTC">on 2012-05-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/49"> #49</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I didn&#x27;t think that anything relevant changed between Django 1.3 and 1.4, but it sounds like it has. I&#x27;m working on replicating this problem now. I hope to have a tested fix later today.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I didn't think that anything relevant changed between Django 1.3 and 1.4, but it sounds like it has. I'm working on replicating this problem now. I hope to have a tested fix later today.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/50" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paul-mcmillan" class="sprite person">Paul McMillan (paul-mcmillan)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-04T22:46:51.480308+00:00" title="2012-05-04 22:46:51 UTC">on 2012-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/50"> #50</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/horizon/+bug/978896/+attachment/3130918/+files/session_fixation2.diff">session_fixation2.diff</a>
        <a class="sprite edit action-icon" href="/horizon/+bug/978896/+attachment/3130918">Edit</a>
        (6.9 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I reproduced the problem, and it seems to be related to less-than-complete test cases that weren&#x27;t accessing the (lazy) user object before attempting to log out. I&#x27;ve trivially modified the patch to deal with that case (should never occur in real use), and feel that the modification makes the patch slightly safer overall.</p>
<p>I&#x27;ll be putting this in gerrit shortly.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I reproduced the problem, and it seems to be related to less-than-complete test cases that weren't accessing the (lazy) user object before attempting to log out. I've trivially modified the patch to deal with that case (should never occur in real use), and feel that the modification makes the patch slightly safer overall.

I'll be putting this in gerrit shortly.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/51" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-04T23:25:16.847916+00:00" title="2012-05-04 23:25:16 UTC">on 2012-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/51"> #51</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Opened up the bug.  Paul is pushing the patches to gerrit now.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Opened up the bug.  Paul is pushing the patches to gerrit now.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>visibility</b>:
      </td>
      <td>
        private &#8594; public
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/horizon/+bug/978896/comments/52" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~russellb" class="sprite person">Russell Bryant (russellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-05-05T00:32:38.938585+00:00" title="2012-05-05 00:32:38 UTC">on 2012-05-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/horizon/+bug/978896/comments/52"> #52</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Patches merged and the advisory has been sent.  I&#x27;m going to unsubscribe the vulnerability management team now.</p>
<p><a rel="nofollow" href="https://lists.launchpad.net/openstack/msg11263.html">https:/<wbr />/lists.<wbr />launchpad.<wbr />net/openstack/<wbr />msg11263.<wbr />html</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Patches merged and the advisory has been sent.  I'm going to unsubscribe the vulnerability management team now.

https://lists.launchpad.net/openstack/msg11263.html</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~devcamcar" class="sprite person">Devin Carlen (devcamcar)</a>
    
    <time title="2012-05-09 22:25:29 UTC" datetime="2012-05-09T22:25:29.810620+00:00">on 2012-05-09</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in horizon: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        none &#8594; folsom-1
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; Fix Committed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2012-05-23 08:56:31 UTC" datetime="2012-05-23T08:56:31.812853+00:00">on 2012-05-23</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in horizon: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2012-09-27 14:55:01 UTC" datetime="2012-09-27T14:55:01.416051+00:00">on 2012-09-27</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in horizon: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        folsom-1 &#8594; 2012.2
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/horizon/+bug/978896/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/horizon/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/horizon/+bug/978896/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/horizon/+bug/978896/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/horizon/+bug/978896/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/horizon/+bug/978896/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/horizon/+bug/978896/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/horizon/+bug/978896/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/horizon/+bug/978896/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/horizon/+bug/978896/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/horizon/+bug/978896/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/horizon/+bug/978896/+attachment/3104311/+files/session_fixation.diff">session_fixation.diff</a>
        <small>
          (<a href="/horizon/+bug/978896/+attachment/3104311">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/horizon/+bug/978896/+attachment/3130918/+files/session_fixation2.diff">session_fixation2.diff</a>
        <small>
          (<a href="/horizon/+bug/978896/+attachment/3130918">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/horizon/+bug/978896/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/horizon/+bug/978896/+attachment/3046492/+files/openstack_horizon_lpd978896.ini">openstack_horizon_lpd978896.ini</a>
        <small>
          (<a href="/horizon/+bug/978896/+attachment/3046492">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/horizon/+bug/978896/+attachment/3127713/+files/horizon_test.errors">horizon_test.errors</a>
        <small>
          (<a href="/horizon/+bug/978896/+attachment/3127713">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/horizon/+bug/978896/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/978896", "self_link": "https://bugs.launchpad.net/api/devel/bugs/978896"}, "information_type_data": {"PUBLIC": {"description": "Everyone can see this information.\n", "name": "Public", "is_private": false, "order": 0, "description_css_class": "choice-description", "value": "PUBLIC"}, "PUBLICSECURITY": {"description": "Everyone can see this security related information.\n", "name": "Public Security", "is_private": false, "order": 1, "description_css_class": "choice-description", "value": "PUBLICSECURITY"}, "USERDATA": {"description": "Only shared with users permitted to see private user information.\n", "name": "Private", "is_private": true, "order": 3, "description_css_class": "choice-description", "value": "USERDATA"}, "PRIVATESECURITY": {"description": "Only the security group can see this information.\n ", "name": "Private Security", "is_private": true, "order": 2, "description_css_class": "choice-description", "value": "PRIVATESECURITY"}}, "total_comments_and_activity": 84, "bug_is_private": false, "related_features": {}, "first visible_recent_comment": 12, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/978896", "web_link": "https://bugs.launchpad.net/bugs/978896", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 978896, "private": false, "information_type": "Public Security", "name": null, "title": "session fixation vulnerability", "description": "Hi,\nit looks like openstack-dashboard is vulnerable to a session fixation attack. Here is a HTTP dialog:\n\n1. eviled Login with no Cookie header\n-------------------------------------\nPOST http://test:80/auth/login/ HTTP/1.0\nUser-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61\nHost: test\nAccept: text/html, application/xml;q=0.9, application/xhtml+xml, image/png,\nimage/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1\nAccept-Language: de-DE,de;q=0.9,en;q=0.8\nAccept-Encoding: gzip, deflate\nReferer: http://test\nCookie: csrftoken=f5ce126776d4ede0bff352d2e53e3e28;\nsessionid=f7467b5b66ac49c48c74386d558c3319\nProxy-Connection: Keep-Alive\nContent-length: 141\nContent-Type: application/x-www-form-urlencoded\n\ncsrfmiddlewaretoken=f5ce126776d4ede0bff352d2e53e3e28\u0026method=Login\u0026region=http%3A%2F%2F127.0.0.1%3A5000%2Fv2.0\u0026username=eviled\u0026password=eviled\n\n2. eviled gets response with sessionid Cookie\n----------------------------------------------\nHTTP/1.1 302 FOUND\nDate: Wed, 21 Mar 2012 15:59:09 GMT\nServer: Apache/2.2.12 (Linux/SUSE)\nVary: Accept-Language,Cookie\nLocation: http://test\nContent-Language: en\nSet-Cookie: sessionid=f7467b5b66ac49c48c74386d558c3319; Path=/\nContent-length: 0\nConnection: close\nContent-Type: text/html; charset=utf-8\n\n3. eviled logout\n-----------------\nGET http://test:80/auth/logout/ HTTP/1.0\nUser-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61\nHost: test\nAccept: text/html, application/xml;q=0.9, application/xhtml+xml, image/png,\nimage/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1\nAccept-Language: de-DE,de;q=0.9,en;q=0.8\nAccept-Encoding: gzip, deflate\nReferer: http://test\nCookie: sessionid=f7467b5b66ac49c48c74386d558c3319;\ncsrftoken=f5ce126776d4ede0bff352d2e53e3e28\nPragma: no-cache\nCache-Control: no-cache\nProxy-Connection: Keep-Alive\n\n4. Admin Login:\n---------------\nGET http://test:80/auth/logout/ HTTP/1.0\nUser-Agent: Opera/9.80 (X11; Linux x86_64; U; de) Presto/2.10.229 Version/11.61\nHost: test\nAccept: text/html, application/xml;q=0.9, application/xhtml+xml, image/png,\nimage/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1\nAccept-Language: de-DE,de;q=0.9,en;q=0.8\nAccept-Encoding: gzip, deflate\nReferer: http://test/nova/\nCookie: sessionid=f7467b5b66ac49c48c74386d558c3319;\ncsrftoken=f5ce126776d4ede0bff352d2e53e3e28\nPragma: no-cache\nCache-Control: no-cache\nProxy-Connection: Keep-Alive\n\n5. Admin request sets the same CSRF token and sessionid Cookie\n--------------------------------------------------------------\nHTTP/1.1 200 OK\nDate: Wed, 21 Mar 2012 15:59:13 GMT\nServer: Apache/2.2.12 (Linux/SUSE)\nVary: Cookie,Accept-Language\nContent-Language: en\nSet-Cookie: csrftoken=f5ce126776d4ede0bff352d2e53e3e28; expires=Wed,\n20-Mar-2013 15:59:13 GMT; Max-Age=31449600; Path=/\nSet-Cookie: sessionid=f7467b5b66ac49c48c74386d558c3319; Path=/\nConnection: close\nContent-Type: text/html; charset=utf", "owner_link": "https://bugs.launchpad.net/api/devel/~thomas-suse-deactivatedaccount", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/bug_tasks", "duplicate_of_link": null, "date_created": "2012-04-11T13:04:31.429804+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/subscriptions", "date_last_updated": "2012-09-27T14:55:02.369788+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 272, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/attachments", "security_related": true, "latest_patch_uploaded": "2012-05-04T22:46:51.480308+00:00", "tags": [], "date_last_message": "2012-05-05T00:32:38.938585+00:00", "number_of_duplicates": 0, "message_count": 53, "users_affected_count": 2, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/users_unaffected", "users_affected_count_with_dupes": 2, "other_users_affected_count_with_dupes": 2, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/978896/linked_merge_proposals", "http_etag": "\"6a4aa5cff51702d506e1b3793208450f3c1ce103-e44aefca8d189195372a760f457b96344946d238\""}, "bugtask_data": {"1168704": {"assignee_vocabulary": "AllUserTeamsParticipation", "user_can_unassign": false, "bugtask_path": "/horizon/+bug/978896", "assignee_value": "paul-mcmillan", "user_can_edit_status": true, "bug_title": "session fixation vulnerability", "user_can_edit_milestone": false, "prefix": "horizon", "form_row_id": "task1168704", "target_is_product": true, "user_can_edit_importance": false, "assignee_is_team": false, "delete_link": "https://bugs.launchpad.net/horizon/+bug/978896/+delete", "user_can_edit_assignee": false, "milestone_widget_items": "[]", "status_widget_items": "[]", "status_value": "Fix Released", "importance_value": "Critical", "hide_assignee_team_selection": true, "user_can_delete": false, "row_id": "tasksummary1168704", "assignee_vocabulary_filters": [], "targetname": "OpenStack Dashboard (Horizon)", "importance_widget_items": "[]", "milestone_value": "https://bugs.launchpad.net/api/devel/horizon/+milestone/2012.2", "id": 1168704}, "1189946": {"assignee_vocabulary": "AllUserTeamsParticipation", "user_can_unassign": false, "bugtask_path": "/horizon/essex/+bug/978896", "assignee_value": "paul-mcmillan", "user_can_edit_status": true, "bug_title": "session fixation vulnerability", "user_can_edit_milestone": false, "prefix": "horizon_essex", "form_row_id": "task1189946", "target_is_product": false, "user_can_edit_importance": false, "assignee_is_team": false, "delete_link": "https://bugs.launchpad.net/horizon/essex/+bug/978896/+delete", "user_can_edit_assignee": false, "milestone_widget_items": "[]", "status_widget_items": "[]", "status_value": "Fix Released", "importance_value": "Critical", "hide_assignee_team_selection": true, "user_can_delete": false, "row_id": "tasksummary1189946", "assignee_vocabulary_filters": [], "targetname": "OpenStack Dashboard (Horizon) essex", "importance_widget_items": "[]", "milestone_value": "https://bugs.launchpad.net/api/devel/horizon/+milestone/2012.1.1", "id": 1189946}}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/horizon/+bug/978896", "web_link": "https://bugs.launchpad.net/horizon/+bug/978896", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/978896", "milestone_link": "https://bugs.launchpad.net/api/devel/horizon/+milestone/2012.2", "status": "Fix Released", "importance": "Critical", "assignee_link": "https://bugs.launchpad.net/api/devel/~paul-mcmillan", "bug_target_display_name": "OpenStack Dashboard (Horizon)", "bug_target_name": "horizon", "bug_watch_link": null, "date_assigned": "2012-04-13T00:34:16.943664+00:00", "date_created": "2012-04-11T13:04:31.429804+00:00", "date_confirmed": "2012-04-25T12:30:22.751540+00:00", "date_incomplete": null, "date_in_progress": "2012-05-09T22:26:35.799998+00:00", "date_closed": "2012-05-23T08:56:32.329590+00:00", "date_left_new": "2012-04-11T13:41:51.994752+00:00", "date_triaged": "2012-05-09T22:26:35.799998+00:00", "date_fix_committed": "2012-05-09T22:26:35.799998+00:00", "date_fix_released": "2012-05-23T08:56:32.329590+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~thomas-suse-deactivatedaccount", "target_link": "https://bugs.launchpad.net/api/devel/horizon", "title": "Bug #978896 in OpenStack Dashboard (Horizon): \"session fixation vulnerability\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/horizon/+bug/978896/related_tasks", "is_complete": true, "http_etag": "\"689587a8562a2a9992a4895cf925560499f9f26c-6cf2ef244a0e82e52505d4741e26017c37fe01c6\""}, "initial_comment_batch_offset": 41};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 61 queries/external actions issued in 1.08 seconds

    Features: {'app.maintenance_message': None, 'visible_render_time': None, 'bugs.affected_count_includes_dupes.disabled': None, 'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'bugs.nominations.bug_supervisors_can_target': 'on', 'baselayout.careers_link.disabled': None, 'hard_timeout': '9000', 'js.yui_version': None, 'profiling.enabled': None}

    r0d8de2b

    -->

</html>

