<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="1232785 - (CVE-2015-8509) [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=1232785">
<meta property="og:description"
      content="RESOLVED (dylan) in Bugzilla - Attachments &amp; Requests. Last updated 2017-03-29.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="defect">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="--">

    <meta name="viewport" content="width=1024">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20211025.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;},&quot;string&quot;:{&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;is_new&quot;:1,&quot;login&quot;:&quot;&quot;}}">
    <title>1232785 - (CVE-2015-8509) [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=1232785&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="/showdependencygraph.cgi?id=1232785">

      <link rel="Show" title="Bug Activity"
            href="/show_activity.cgi?id=1232785">

<link href="/static/v20211025.1/skins/yui.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/EditComments/web/styles/inline-editor.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css">



    
<script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/jquery/jquery-min.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/yui.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/global.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/util.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/dropdown.js"></script>

      <script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"flags\":{},\"types\":[],\"comments\":{}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 1232785;
  BUGZILLA.bug_title = '1232785 - (CVE-2015-8509) [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers';
  BUGZILLA.bug_summary = '[SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers';
  BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=1232785';
  BUGZILLA.bug_keywords = 'sec-high',
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/BugModal/web/comments.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/bugzilla-readable-status-min.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/field.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/comments.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/MozChangeField/web/js/severity-s1-priority-p1.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/MozChangeField/web/js/clear-tracking-priority-s1.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/MozChangeField/web/js/set-tracking-severity-s1.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/lib/prism.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/GoogleAnalytics/web/js/analytics.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/js/lib/md5.min.js"></script><script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe" src="/static/v20211025.1/extensions/Review/web/js/badge.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1232785">
<link rel="shorturl" href="https://bugzilla.mozilla.org/1232785"><meta name="google-analytics" content="UA-36116321-3" data-location="https://bugzilla.mozilla.org/bug/show-modal" data-title="1232785 - (CVE-2015-8509) [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers">
<script async src="https://www.google-analytics.com/analytics.js"></script><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="wrapper">

<header id="header" role="banner">
  <div class="inner">
    <h1 id="header-title" class="title"><a href="https://bugzilla.mozilla.org/home" title="Go to home page">Bugzilla</a></h1>
    <form role="search" id="header-search" class="quicksearch" action="/buglist.cgi" data-no-csrf>
      <section class="searchbox-outer dropdown" role="combobox" aria-expanded="false" aria-haspopup="listbox"
               aria-labelledby="header-search-label" aria-owns="header-search-dropdown">
        <h2 id="header-search-label">Quick Search</h2>
        <span class="icon" aria-hidden="true"></span>
        <input role="searchbox" id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" placeholder="Search Bugs"
               title="Enter a bug number or some search terms" aria-controls="header-search-dropdown"
               aria-label="Quick Search"><div id="header-search-dropdown" class="dropdown-content right" role="listbox" style="display: none;">
  <div id="header-search-dropdown-wrapper">
  </div>
</div>
      </section>
    </form>
    <nav id="header-nav">
      <ul class="links">
        <li class="link-browse">
          <a href="/describecomponents.cgi" title="Browse bugs by component">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Browse</span>
          </a>
        </li>
        <li class="link-search">
          <a href="/query.cgi?format=advanced" title="Search bugs using various criteria">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Advanced Search</span>
          </a>
        </li>
      </ul>
      <div class="dropdown">
        <button type="button" id="header-tools-menu-button" class="dropdown-button minor" title="More tools…"
                aria-label="More tools…" aria-expanded="false" aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a href="/report.cgi" role="menuitem" tabindex="-1">Reports</a>
          </li>
            <li role="separator"></li>
            <li role="presentation">
              <a href="https://bmo.readthedocs.io/en/latest/" role="menuitem" tabindex="-1">Documentation</a>
            </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links">
          <li id="moz_new_account_container_top"><a href="/createaccount.cgi">New Account</a></li><li id="mini_login_container_top">
  <a id="login_link_top" href="/index.cgi?GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden"><span id="github_mini_login_top" class="mini_login_top">
    <form method="post" action="/github.cgi">
      <input type="hidden" name="github_secret" value="LlXMvsmRRxypbq2zlxkcTkdKxRIQJIxQssngrVTqVfLCDn855WEQCnw6ZUsM89S1MaIaoQ2oIRKRKmVrQpA3gpSkvhZs0533FYW2HlkwBUXHHVmPWwW7OLbjYwwYSgaqlCWqzoyKqAX45kpYHrVO54QhsELTsVjTa9OEt6GwzFnoUNvVwW9ZvMb7IRXyY6tpeSsp6gVjMpyBP5ENNYKt20Kd706MRkuXu1VHPHGNmRnSfcZ5PJPJ7UD7S9Wn1mzd">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi">
      <input type="image" src="/extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>

  <form action="/show_bug.cgi?id=1232785" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top"
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
<li id="forgot_container_top">
  <a id="forgot_link_top" href="/index.cgi?GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1635622856-QMAPUvH_bDyT96U8oV5UOY1Bn3zBKVgIxC9FVM2qZe8">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul><div id="header-external-links" class="dropdown first">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor" title="Mozilla"
          aria-label="Mozilla" aria-expanded="false" aria-haspopup="true" aria-controls="header-external-menu">
    <img src="/static/v20211025.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg" width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" style="display:none;">
    <li role="presentation">
      <a href="https://www.mozilla.org/" role="menuitem" tabindex="-1">Mozilla Home</a>
    </li>
    <li role="separator"></li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem" tabindex="-1">Privacy</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem" tabindex="-1">Cookies</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem" tabindex="-1">Legal</a>
    </li>
  </ul>
</div>
  </div>
</header> 


<main id="bugzilla-body" tabindex="-1">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary"
      title="Copy bug number and summary to your clipboard">Copy Summary</button>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/1232785" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=1232785" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent" id="field-status_summary"
>


  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=1232785">Bug 1232785</a>
          <span class="edit-hide">(CVE-2015-8509)</span>
      </span>
      <span>
        <span class="bug-time-label">Opened <span class="rel-time" title="2015-12-15 13:04 PST" data-time="1450213467">6 years ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2015-12-22 10:37 PST" data-time="1450809451">6 years ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field indent edit-hide"
>


  
    <div class=" container">
      

      <h1 id="field-value-short_desc">[SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-short_desc">
            [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (Bugzilla :: Attachments &amp; Requests, defect)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Bugzilla" id="product-help-link" class="help">Product:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">Bugzilla
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">Bugzilla</div>
            <div class="description">The <a href="http://www.bugzilla.org">Bugzilla</a> bug-tracking system.<br>
<b>Note:</b> This is <b>not</b> the place to request configuration, permission, or account changes to this installation of Bugzilla (bugzilla.mozilla.org). File such changes under the appropriate component in the <a href="enter_bug.cgi?product=bugzilla.mozilla.org"><b>bugzilla.mozilla.org</b></a> product.</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Bugzilla&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=Bugzilla"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Bugzilla"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Bugzilla&component=Attachments%20%26%20Requests#Attachments%20%26%20Requests" id="component-help-link" class="help">Component:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">Attachments &amp; Requests
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">Bugzilla :: Attachments &amp; Requests</div>
            <div class="description">For problems with attachment creation/management and request creation/management. <tt>attachment.cgi</tt>, <tt>request.cgi</tt></div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Bugzilla&amp;component=Attachments%20%26%20Requests&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=Bugzilla&amp;component=Attachments%20%26%20Requests&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=Bugzilla&amp;component=Attachments%20%26%20Requests"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Bugzilla" data-component="Attachments &amp; Requests"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-version"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-version">
            2.17.1

        </span>
    </div>

  
</div>

    <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>


  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>


  
    <div class="value">
        <span id="field-value-rep_platform">
            Unspecified

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>


  
    <div class="value">
        <span id="field-value-op_sys">
            Unspecified

        </span>
    </div>

  
</div><div class="field indent inline"
>


  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field contains-buttons" id="field-bug_type"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="defect">
        <span class="icon" aria-hidden="true"></span>defect</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-importance"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="importance-help-link" class="help">Priority:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-importance"><div class="field inline" id="field-priority"
>


  
    <div class="value">
        <span id="field-value-priority">
          <em>Not set</em>
        </span>
    </div>

  
</div><div class="field inline" id="field-bug_severity"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_severity">
            major

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>

    
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (<span id="readable-bug-status" data-readable-bug-status="{&quot;status&quot;:&quot;RESOLVED&quot;,&quot;target_milestone&quot;:&quot;Bugzilla 4.2&quot;,&quot;keywords&quot;:[&quot;sec-high&quot;],&quot;dupe_of&quot;:null,&quot;id&quot;:1232785,&quot;flags&quot;:[{&quot;name&quot;:&quot;approval5.0&quot;,&quot;status&quot;:&quot;+&quot;},{&quot;name&quot;:&quot;approval4.4&quot;,&quot;status&quot;:&quot;+&quot;},{&quot;name&quot;:&quot;approval4.2&quot;,&quot;status&quot;:&quot;+&quot;},{&quot;status&quot;:&quot;+&quot;,&quot;name&quot;:&quot;sec-bounty&quot;}],&quot;resolution&quot;:&quot;FIXED&quot;,&quot;priority&quot;:&quot;--&quot;}"></span>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-view">RESOLVED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>


  
    <div class="value">
        <span id="field-value-bug_status">
            RESOLVED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>


  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-target_milestone"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-target_milestone">
            Bugzilla 4.2

        </span>
    </div>

  
</div>

    


</div><div class="fields-rhs">


</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: netfuzzerr, Assigned: dylan)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_491519" ><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=491519" > <span class="fna">dylan</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-hide" id="field-qa_contact"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact"><div class="vcard vcard_5086" ><img src="https://secure.gravatar.com/avatar/9df24a05a7e63cf07e49d30ddfeee31a?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=5086" > <span class="fna">default-qa</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=423436" > <span class="fna">netfuzzerr</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-triage_owner" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-triage_owner">
            ---

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>


  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="14">14 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug-list edit-show" id="field-dependson" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-dependson">
        ---
        </span>
    </div>

  
</div><div class="field bug-list" id="field-blocked"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-blocked">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Security advisory for Bugzilla 5.0.2, 4.4.11 and 4.2.16"
   href="/show_bug.cgi?id=1229728">1229728</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Backport upstream bug 1232785 to bmo/4.2 [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1234237">1234237</a>
      </div>

        </span>
    </div>

  
</div><div class="field" id="field-dependencytree"
>
    <div class="name">
    </div>


  
    <div class=" container">
        <span id="field-value-dependencytree">
        Dependency <a href="/showdependencytree.cgi?id=1232785&amp;hide_resolved=1">tree</a>
        / <a href="/showdependencygraph.cgi?id=1232785">graph</a>
        </span>
    </div>

  
</div>

    <div class="field bug-list edit-show" id="field-regresses" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-regressed_by" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_file_loc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="" target="_blank"
      rel="noreferrer" title=""
      class="bug-url" data-safe="0"></a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-see_also" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-see_also">
        ---
        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Keywords: sec-high, Whiteboard: ES 6 `-strings + no MIME restrictions on script src + no support for x-content-options: nosniff)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-alias">
            CVE-2015-8509

        </span>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a>
        </span>
    </div>

  
</div>

    <div class="field" id="field-status_whiteboard"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-status_whiteboard">ES 6 `-strings + no MIME restrictions on script src + no support for x-content-options: nosniff
        </span>
    </div>

  
</div>

    

    

    <div class="field" id="field-votes"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-votes">0
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-bug_flags"
>
    <div class="name">Bug Flags:
    </div>


  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_5898" ><a class="email " href="/user_profile?user_id=5898" > <span class="fna">dkl</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a261315_5898"
            class="rel-time-title activity-ref"
            title="6 years ago"
        data-time="1450463822"
      >approval5.0</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_5898" ><a class="email " href="/user_profile?user_id=5898" > <span class="fna">dkl</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Approval for check-in to the Bugzilla repository on the 5.0 branch." for="flag-1310872">approval5.0</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1310872-dirty">
      <select id="flag-1310872" name="flag-1310872"
        title="Approval for check-in to the Bugzilla repository on the 5.0 branch."
        class="bug-flag">
            <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_5898" ><a class="email " href="/user_profile?user_id=5898" > <span class="fna">dkl</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a261315_5898"
            class="rel-time-title activity-ref"
            title="6 years ago"
        data-time="1450463822"
      >approval4.4</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_5898" ><a class="email " href="/user_profile?user_id=5898" > <span class="fna">dkl</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="approval for check-in to the Bugzilla repository on the BUGZILLA-4_4-BRANCH" for="flag-1310873">approval4.4</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1310873-dirty">
      <select id="flag-1310873" name="flag-1310873"
        title="approval for check-in to the Bugzilla repository on the BUGZILLA-4_4-BRANCH"
        class="bug-flag">
            <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_5898" ><a class="email " href="/user_profile?user_id=5898" > <span class="fna">dkl</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#c94"
            class="rel-time-title activity-ref"
            title="6 years ago"
        data-time="1450798368"
      >approval4.2</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_5898" ><a class="email " href="/user_profile?user_id=5898" > <span class="fna">dkl</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="approval for check-in to the Bugzilla repository on the BUGZILLA-4_2-BRANCH" for="flag-1312313">approval4.2</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1312313-dirty">
      <select id="flag-1312313" name="flag-1312313"
        title="approval for check-in to the Bugzilla repository on the BUGZILLA-4_2-BRANCH"
        class="bug-flag">
          <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_280903" ><a class="email " href="/user_profile?user_id=280903" > <span class="fna">abillings</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a1112657_280903"
            class="rel-time-title activity-ref"
            title="6 years ago"
        data-time="1450382979"
      >sec-bounty</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_280903" ><a class="email " href="/user_profile?user_id=280903" > <span class="fna">abillings</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag-1310266">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1310266-dirty">
      <select id="flag-1310266" name="flag-1310266"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
            <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="approval for check-in to the Bugzilla repository" for="flag_type-38">approval</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-38-dirty">
      <select id="flag_type-38" name="flag_type-38"
        title="approval for check-in to the Bugzilla repository"
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Use this flag to nominate bugs for fixing for the Bugzilla 5.0.4 release. If the bug is deemed critical for the release by the Bugzilla development team then it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release the team will add a &quot;-&quot; to the flag." for="flag_type-909">blocking5.0.4</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-909-dirty">
      <select id="flag_type-909" name="flag_type-909"
        title="Use this flag to nominate bugs for fixing for the Bugzilla 5.0.4 release. If the bug is deemed critical for the release by the Bugzilla development team then it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release the team will add a &quot;-&quot; to the flag."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Use this flag to nominate bugs for fixing for the Bugzilla 4.4.13 release. If the bug is deemed critical for the release by the Bugzilla development team then it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release the team will add a &quot;-&quot; to the flag." for="flag_type-910">blocking4.4.13</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-910-dirty">
      <select id="flag_type-910" name="flag_type-910"
        title="Use this flag to nominate bugs for fixing for the Bugzilla 4.4.13 release. If the bug is deemed critical for the release by the Bugzilla development team then it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release the team will add a &quot;-&quot; to the flag."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="needs to have documentation written" for="flag_type-74">documentation</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-74-dirty">
      <select id="flag_type-74" name="flag_type-74"
        title="needs to have documentation written"
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="needs to have a testcase created" for="flag_type-254">testcase</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-254-dirty">
      <select id="flag_type-254" name="flag_type-254"
        title="needs to have a testcase created"
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-254-container" style="display:none"><input
    name="requestee_type-254"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-254" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Include a summary of changes made by this bug in the release notes." for="flag_type-873">relnote</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-873-dirty">
      <select id="flag_type-873" name="flag_type-873"
        title="Include a summary of changes made by this bug in the release notes."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Signature:
    </div>


  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (4 files, 3 obsolete files)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8698593">poc.html</a>
        </div>
        <div>
            <a href="#c1" class="attach-time activity-ref"><span class="rel-time" title="2015-12-15 13:08 PST" data-time="1450213729">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div></span>
        </div>
        <div class="attach-info">728 bytes,
          text/html        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8698593&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8698717">csv that is also javascript</a>
        </div>
        <div>
            <a href="#c12" class="attach-time activity-ref"><span class="rel-time" title="2015-12-15 16:03 PST" data-time="1450224232">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_491519" ><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">838 bytes,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8698717&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8699452">Patch v.1</a>
        </div>
        <div>
            <a href="#c34" class="attach-time activity-ref"><span class="rel-time" title="2015-12-17 05:59 PST" data-time="1450360744">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9911" ><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div></span>
        </div>
        <div class="attach-info">995 bytes,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_120380" ><span class="fn">LpSolit</span>
</div>:
              <a href="#c35"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1450360744"
            >
              review-</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8699452&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8699452&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1232785&attachment=8699452">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8699454">Patch v.1</a>
        </div>
        <div>
            <a href="#c37" class="attach-time activity-ref"><span class="rel-time" title="2015-12-17 06:10 PST" data-time="1450361450">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9911" ><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div></span>
        </div>
        <div class="attach-info">996 bytes,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_491519" ><span class="fn">dylan</span>
</div>:
              <a href="#c43"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1450361450"
            >
              review-</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8699454&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8699454&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1232785&attachment=8699454">Splinter Review</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8699460">non-human buglist csv</a>
        </div>
        <div>
            <a href="#c42" class="attach-time activity-ref"><span class="rel-time" title="2015-12-17 06:26 PST" data-time="1450362390">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_491519" ><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">850 bytes,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8699460&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8699589">1232785_2.patch</a>
        </div>
        <div>
            <a href="#c70" class="attach-time activity-ref"><span class="rel-time" title="2015-12-17 12:27 PST" data-time="1450384063">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_491519" ><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">731 bytes,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_5898" ><span class="fn">dkl</span>
</div>:
              <a href="#c74"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1450384063"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8699589&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8699589&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1232785&attachment=8699589">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8699686">1232785_3.patch</a>
        </div>
        <div>
            <a href="#c75" class="attach-time activity-ref"><span class="rel-time" title="2015-12-17 15:45 PST" data-time="1450395931">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_491519" ><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div></span>
        </div>
        <div class="attach-info">733 bytes,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_5898" ><span class="fn">dkl</span>
</div>:
              <a href="#c80"
                  class="flag-name-status rel-time-title activity-ref"
                  title="6 years ago"
              data-time="1450395931"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8699686&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8699686&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1232785&attachment=8699686">Splinter Review</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
      <button type="button" id="attachments-obsolete-btn" class="secondary">Show Obsolete</button>
  </div>
  
</footer>
  </div>
</section>



<script nonce="WEsk1cC5NEwZFVbeWxfnmpmodhkneFN2KNG7E2SwNznuBjNe">
  init_module_visibility();
</script>



<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;94.0b9&quot;,&quot;FIREFOX_ESR&quot;:&quot;78.15.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;91.2.0esr&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;95.0a1&quot;,&quot;FIREFOX_PINEBUILD&quot;:&quot;&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2021-10-04&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2021-10-05&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2021-09-30&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;93.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2021-11-01&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2021-11-02&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2021-10-28&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="11008304" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 13:04 PST" data-time="1450213467">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-0" data-comment-id="11008304">User Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.80 Safari/537.36

Steps to reproduce:

Hey,

I'll explain it in the next comment.

Cheers,</pre></div><div class="change-set" id="c1"><div class="comment" data-id="11008315" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-1" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 13:08 PST" data-time="1450213729">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8698593"
         class="attachment"
         data-id="8698593" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="poc.html">
      <meta itemprop="contentSize" content="728">
      <meta itemprop="encodingFormat" content="text/html">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8698593" itemprop="contentUrl">
        <span id="att-8698593-description" itemprop="description">poc.html</span></a>
        — <a href="attachment.cgi?id=8698593&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="c2"><div class="comment" data-id="11008326" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-2" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 13:13 PST" data-time="1450214034">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-2" data-comment-id="11008326">This PoC works only on Firefox.

Steps to reproduce(firefox only):
1. Go to <a rel="nofollow" href="https://bugzilla-dev.allizom.org">https://bugzilla-dev.allizom.org</a> and log in using my persona account
Log in: <a href="mailto:netfuzzer&#64;yandex.com">netfuzzer&#64;yandex.com</a>
Log in: 1111111111
2. Once you're logged to my bugzilla-dev testing account, visit <a rel="nofollow" href="https://bugzilla.mozilla.org/attachment.cgi?id=8698593">https://bugzilla.mozilla.org/attachment.cgi?id=8698593</a> 
3. Wait until page finishes loading.
4. See my fake security bug informations(status, title, and date).


This vulnerability occurs due to the content of a CSV isn't properly sanitized, allowing me to break CSV files syntax, and make it &quot;parseable&quot; as javascript then I can steal victim's bugs informations.

In order to make it I have to be able to change the title of the first and the last bug listed on victim's &quot;My bugs&quot; page(let's supposed i'm CCed to them, then i can easily exploit this vulnerability).

Cheers,
Mario</pre></div><div class="change-set" id="c3"><div class="comment" data-id="11008335" data-no="3"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-3" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-3"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-3" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 13:16 PST" data-time="1450214200">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-3" data-comment-id="11008335">Just to clarify, my personna login info are:
Log in: <a href="mailto:netfuzzer&#64;yandex.com">netfuzzer&#64;yandex.com</a>
Password: 1111111111</pre></div><div class="change-set" id="c4"><div class="comment" data-id="11008405" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-4" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" ><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 13:36 PST" data-time="1450215410">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-4" data-comment-id="11008405">(In reply to Mario Gomes&quot;'&gt;&lt;img src=x onerror=prompt();&gt; from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c2">comment #2</a>)
<span class="quote">&gt; In order to make it I have to be able to change the title of the first and
&gt; the last bug listed</span >

Change how? I tested against landfill, and nothing is displayed.</pre></div><div class="change-set" id="c5"><div class="comment" data-id="11008555" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-5" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" ><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" ><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 14:16 PST" data-time="1450217775">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-5" data-comment-id="11008555">so firefox will interpret text/plain as js if it is the target of a src= tag? Does it even matter if the attachment is served by BMO or somewhere else?</pre></div><div class="change-set" id="c6"><div class="comment" data-id="11008634" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-6" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" ><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" ><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 14:38 PST" data-time="1450219125">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-6" data-comment-id="11008634">This works from any page context, in firefox only as reported. Chrome reports this error:

&quot;Refused to execute script from '<a rel="nofollow" href="https://bugzilla-dev.allizom.org/buglist.cgi?bug_status=UNCONFIRMED&amp;bug_sta…value0-0-0=UNCONFIRMED&amp;value0-0-1=netfuzzer%40yandex.com&amp;ctype=csv&amp;human=1">https://bugzilla-dev.allizom.org/buglist.cgi?bug_status=UNCONFIRMED&amp;bug_sta…value0-0-0=UNCONFIRMED&amp;value0-0-1=netfuzzer%40yandex.com&amp;ctype=csv&amp;human=1</a>' because its MIME type ('text/csv') is not executable, and strict MIME type checking is enabled.&quot;</pre></div><div class="change-set" id="c7"><div class="comment" data-id="11008695" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-7" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 15:03 PST" data-time="1450220611">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-7" data-comment-id="11008695">(In reply to Frédéric Buclin from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c4">comment #4</a>)
<span class="quote">&gt; Change how? I tested against landfill, and nothing is displayed.</span >

In order to reproduce on your own,  you have to add:  \&quot;; data = `
to the title of the first bug listed, also change the title of the last bug to: `;

Then copy the URL in the &quot;CSV&quot;(on &quot;My bugs page&quot;) to the &quot;SRC&quot; attribute on the &quot;poc.html&quot;.

(In reply to Dylan William Hardison [:dylan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c5">comment #5</a>)
<span class="quote">&gt; so firefox will interpret text/plain as js if it is the target of a src=
&gt; tag? Does it even matter if the attachment is served by BMO or somewhere
&gt; else?</span >

Yep - pretty much that. In fact, on my tests Firefox parses whatever comes up regardlessly the &quot;content-type&quot;.  

No, it doesn't matter. It'll work the same way. A good idea por a patching this would be required a security token to display buglist CSV.</pre></div><div class="change-set" id="c8"><div class="comment" data-id="11008711" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-8" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" ><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" ><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 15:11 PST" data-time="1450221117">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-8" data-comment-id="11008711">I confirmed with :ehsan that there is no client side fix for this at the moment, I will proceed with Frédéric Buclin proposed solution.</pre></div><div class="change-set" id="c9"><div class="comment" data-id="11008786" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-9" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" ><img src="https://secure.gravatar.com/avatar/5aef682fbfd7590b9d85d6e8dbab10eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">(no longer active)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 15:34 PST" data-time="1450222489">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-9" data-comment-id="11008786">We need <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Add X-Content-Type-Options: nosniff support to Firefox"
   href="/show_bug.cgi?id=471020">bug 471020</a>, with that, we could send X-Content-Type-Options: nosniff and fix this on the client side.

At the lack of that, we should make what we send unparseable on the server side.</pre></div><div class="change-set" id="c10"><div class="comment" data-id="11008851" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-10" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" ><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 15:53 PST" data-time="1450223632">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-10" data-comment-id="11008851">(In reply to :Ehsan Akhgari from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c9">comment #9</a>)
<span class="quote">&gt; We need <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Add X-Content-Type-Options: nosniff support to Firefox"
   href="/show_bug.cgi?id=471020">bug 471020</a>, with that, we could send X-Content-Type-Options: nosniff
&gt; and fix this on the client side.</span >

Since when does Firefox do content type sniffing?? AFAIK, only IE behaves this way.</pre></div><div class="change-set" id="c11"><div class="comment" data-id="11008852" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-11" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 15:54 PST" data-time="1450223664">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-11" data-comment-id="11008852">Great! Could this be eligible for a bounty? also, what would be appropriate sec-rate for this bug? 

Possible attack would vector be:
======================
To exploit it attacker would have to control the FIRST and LAST shown on the page &quot;My bugs&quot;(which can be done by CC him to some old bug, and a recently created bug), after that, he would have to convince the victim to visit a specially crafted page exploiting this vulnerability and stealing all listed bugs information(report date, title and status, reporter).
======================</pre></div><div class="change-set" id="c12"><div class="comment" data-id="11008880" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-12" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" ><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" ><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-15 16:03 PST" data-time="1450224232">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8698717"
         class="attachment"
         data-id="8698717" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="buglist.cgi">
      <meta itemprop="contentSize" content="838">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8698717" itemprop="contentUrl">
        <span id="att-8698717-description" itemprop="description">csv that is also javascript</span></a>
        — <a href="attachment.cgi?id=8698717&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="c13"><div class="comment" data-id="11009691" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-13" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" ><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 01:33 PST" data-time="1450258380">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-13" data-comment-id="11009691">I can now reproduce the issue. The CSV format for buglists has been added in 2.17.1, see <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - buglist.cgi needs a CSV output format"
   href="/show_bug.cgi?id=177430">bug 177430</a>.</pre><div class="activity"><div class="change">Assignee: general &rarr; attach-and-request</div><div class="change">Severity: normal &rarr; major</div><div class="change">Status: UNCONFIRMED &rarr; NEW</div><div class="change">Component: Bugzilla-General &rarr; Attachments &amp; Requests</div><div class="change">Ever confirmed: true</div><div class="change">Summary: Bugzilla Buglist Information Disclosure Vulnerability. &rarr; [SECURITY] Attachments are able to read remote buglists containing restricted bugs</div><div class="change">Target Milestone: --- &rarr; Bugzilla 4.4</div><div class="change">Version: unspecified &rarr; 2.17.1</div></div></div><div class="change-set" id="c14"><div class="comment" data-id="11009790" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-14" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" ><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 02:31 PST" data-time="1450261863">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-14" data-comment-id="11009790">Actually, from what I can read, this is exactly a duplicate of <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Add X-Content-Type-Options: nosniff support to Firefox"
   href="/show_bug.cgi?id=471020">bug 471020</a> and/or <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Cross-origin info leak: [[get]] calls on global expose text (or CSV) sniffed as JS"
   href="/show_bug.cgi?id=1048535">bug 1048535</a>. See these comments:
  <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Add X-Content-Type-Options: nosniff support to Firefox"
   href="/show_bug.cgi?id=471020#c69">bug 471020 comment 69</a> - bz says the problem has nothing to do with the content type. If the remote file looks like a JS file, it's interpreted as a JS file.
  <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Add X-Content-Type-Options: nosniff support to Firefox"
   href="/show_bug.cgi?id=471020#c41">bug 471020 comment 41</a> - Jann already describes the problem reported here.
  <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Cross-origin info leak: [[get]] calls on global expose text (or CSV) sniffed as JS"
   href="/show_bug.cgi?id=1048535#c46">bug 1048535 comment 46</a> - Jeff also confirms that the only way to fix this problem is to reject external files which do not have the correct content type.

CCing bz and jruderman for some helpful input: wait for <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Add X-Content-Type-Options: nosniff support to Firefox"
   href="/show_bug.cgi?id=471020">bug 471020</a> to be fixed, i.e. Fx should only accept remote scripts with the correct content type?</pre></div><div class="change-set" id="c15"><div class="comment" data-id="11010427" data-no="15"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-15" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" ><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" ><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-15"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-15" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 07:05 PST" data-time="1450278346">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-15" data-comment-id="11010427">How can we fix this in Bugzilla? The CSV output is valid CSV; I don't think it's broken in any way, is it? The problem is Firefox loading it cross-site, which we can't fix.

Gerv</pre></div><div class="change-set" id="c16"><div class="comment" data-id="11010436" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-16" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" ><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 07:08 PST" data-time="1450278518">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-16" data-comment-id="11010436">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c15">comment #15</a>)
<span class="quote">&gt; How can we fix this in Bugzilla? The CSV output is valid CSV; I don't think
&gt; it's broken in any way, is it?</span >

The CSV file is not broken. But Firefox recognizes some JS paths in it due to some strings present in the bug summaries and so it thinks it's a JS script and executes it.</pre></div><div class="change-set" id="c17"><div class="comment" data-id="11010448" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-17" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 07:13 PST" data-time="1450278813">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-17" data-comment-id="11010448">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c15">comment #15</a>)
<span class="quote">&gt; How can we fix this in Bugzilla? </span >

As I suggested on <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c7">comment 7</a>, you could require a CSRF Security-Token for displaying buglist.cgi. By doing so, there wouldnt be possible to see it directly.</pre></div><div class="change-set" id="c18"><div class="comment" data-id="11010458" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-18" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" ><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 07:16 PST" data-time="1450279002">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-18" data-comment-id="11010458">(In reply to Mario Gomes from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c17">comment #17</a>)
<span class="quote">&gt; As I suggested on <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c7">comment 7</a>, you could require a CSRF Security-Token for
&gt; displaying buglist.cgi. By doing so, there wouldnt be possible to see it
&gt; directly.</span >

That's exactly why it's not a good idea. You cannot bookmark CSV buglists anymore, you cannot call them directly either from 3rd-party applications.</pre></div><div class="change-set" id="c19"><div class="comment" data-id="11010535" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-19" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 07:38 PST" data-time="1450280298">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-19" data-comment-id="11010535">(In reply to Frédéric Buclin from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c18">comment #18</a>)
<span class="quote">&gt; That's exactly why it's not a good idea. You cannot bookmark CSV buglists
&gt; anymore, you cannot call them directly either from 3rd-party applications.</span >

OOh - I see now. Thought CSV were only supposed to be seen through &quot;My bugs&quot; pages. 

Did some research and it turns out that CSV has a attribute to indicate the &quot;separator char&quot;
Example: <a rel="nofollow" href="https://pt.wikipedia.org/wiki/Comma-separated_values">https://pt.wikipedia.org/wiki/Comma-separated_values</a>
============
sep=,
1997,Ford,E350,&quot;ac, abs, moon&quot;,30100.00
1999,Chevy,&quot;Venture &quot;&quot;Extended Edition&quot;&quot;&quot;,,49000.00
1996,Jeep,Grand Cherokee,&quot;MUST SELL!
air, moon roof, loaded&quot;,479699.00
============

This could be a good patch, add this &quot;sep=,&quot; to the beginning of the file, by doing so it would still be parsed as a CSV, but wouldn't work as javascript anymore.</pre></div><div class="change-set" id="c20"><div class="comment" data-id="11010581" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-20" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" ><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 07:49 PST" data-time="1450280945">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-20" data-comment-id="11010581">(In reply to Mario Gomes from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c19">comment #19</a>)
<span class="quote">&gt; This could be a good patch, add this &quot;sep=,&quot; to the beginning of the file,
&gt; by doing so it would still be parsed as a CSV, but wouldn't work as
&gt; javascript anymore.</span >

Why wouldn't it be seen as a JS script anymore?</pre></div><div class="change-set" id="c21"><div class="comment" data-id="11010609" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-21" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 07:54 PST" data-time="1450281271">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-21" data-comment-id="11010609">(In reply to Frédéric Buclin from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c20">comment #20</a>)
<span class="quote">&gt; (In reply to Mario Gomes from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c19">comment #19</a>) 
&gt; Why wouldn't it be seen as a JS script anymore?</span >

Because &quot;sep=,&quot; will throw a grammar error forcing Firefox to get stucker on it and not parse the rest of the file.</pre></div><div class="change-set" id="c22"><div class="comment" data-id="11010767" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-22" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" ><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" ><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 08:34 PST" data-time="1450283691">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-22" data-comment-id="11010767">(In reply to Mario Gomes from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c19">comment #19</a>)
<span class="quote">&gt; This could be a good patch, add this &quot;sep=,&quot; to the beginning of the file,
&gt; by doing so it would still be parsed as a CSV, but wouldn't work as
&gt; javascript anymore.</span >

Trouble is, that isn't in the RFC: <a rel="nofollow" href="https://tools.ietf.org/html/rfc4180">https://tools.ietf.org/html/rfc4180</a> . It's an Excel-ism. Many implementations will expect the headers on the first line. So adding this will break stuff. I don't see a way to mangle the format without also breaking something, as the header lines may well be being matched by software to know which column is which.

We can't use CORS either, AFAICS. :-|

Gerv</pre></div><div class="change-set" id="c23"><div class="comment" data-id="11010945" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-23" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" ><img src="https://secure.gravatar.com/avatar/5aef682fbfd7590b9d85d6e8dbab10eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">(no longer active)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 09:12 PST" data-time="1450285945">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-23" data-comment-id="11010945">scripts from &lt;script&gt; tags are loaded in no-cors mode, so CORS is irrelevant...

Can we not include security sensitive bugs in CSV exports?</pre></div><div class="change-set" id="c24"><div class="comment" data-id="11011180" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-24" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 10:05 PST" data-time="1450289146">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-24" data-comment-id="11011180">thebigbangwolf(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c22">comment #22</a>)
<span class="quote">&gt; Trouble is, that isn't in the RFC: <a rel="nofollow" href="https://tools.ietf.org/html/rfc4180">https://tools.ietf.org/html/rfc4180</a> .
&gt; It's an Excel-ism. Many implementations will expect the headers on the first
&gt; line. So adding this will break stuff. I don't see a way to mangle the
&gt; format without also breaking something, as the header lines may well be
&gt; being matched by software to know which column is which.</span >

Good point. There's another way though: you could add one a &quot;,&quot; to the add of the first line for the file.
=====================
&quot;Bug ID&quot;,&quot;Product&quot;,&quot;Component&quot;,&quot;Assignee&quot;,&quot;Status&quot;,&quot;Resolution&quot;,&quot;Summary&quot;,&quot;Changed&quot;,,
=====================
Adding double comma to the end of the first line will prevent it from being parsed as JS(as it would cause a javascript grammar error). It'll stop any javascript parser and will still being a valid CSV.</pre></div><div class="change-set" id="c25"><div class="comment" data-id="11011184" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-25" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 10:07 PST" data-time="1450289236">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-25" data-comment-id="11011184">Good point. There's another way though: you could add double comma(&quot;,,&quot;) to the end of the first line of the file.
=====================
&quot;Bug ID&quot;,&quot;Product&quot;,&quot;Component&quot;,&quot;Assignee&quot;,&quot;Status&quot;,&quot;Resolution&quot;,&quot;Summary&quot;,&quot;Changed&quot;,,
=====================
Adding double comma to the end of the first line will prevent it from being parsed as JS(as it would cause a javascript grammar error). It'll stop any javascript parser and will still being a valid CSV.</pre></div><div class="change-set" id="c26"><div class="comment" data-id="11011259" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-26" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" ><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" ><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 10:21 PST" data-time="1450290075">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-26" data-comment-id="11011259">That is an idea we could consider. It could be that some implementations then find an empty unlabelled column, but this seems much less impactful than the other options considered. LpSolit: views?

Gerv</pre></div><div class="change-set" id="c27"><div class="comment" data-id="11011792" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-27" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" ><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 12:38 PST" data-time="1450298280">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-27" data-comment-id="11011792">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c26">comment #26</a>)
<span class="quote">&gt; That is an idea we could consider. It could be that some implementations
&gt; then find an empty unlabelled column, but this seems much less impactful
&gt; than the other options considered. LpSolit: views?</span >

RFC 4180 says 2 things about this:

- There maybe an optional header line appearing as the first line
  of the file with the same format as normal record lines.  This
  header will contain names corresponding to the fields in the file
  and *should contain the same number of fields as the records in
  the rest of the file*

- Within the header and each record, there may be one or more
  fields, separated by commas.  Each line should contain the same
  number of fields throughout the file.  Spaces are considered part
  of a field and should not be ignored.  *The last field in the
  record must not be followed by a comma.*

So ending the first line with a double comma would be in contradiction with both items.


re <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c23">comment 23</a>: excluding non-public bugs from the CSV file would defeat the usefulness of the file. This is especially true if the Bugzilla installation requires login to access it. In that case, no bugs would be public and the CSV file would be empty. But this would be the safest approach, and wouldn't break the file format as specified by RFC 4180.


I wonder if we couldn't use a redirect to get the CSV file. Browsers are fine with redirects, and curl and wget too AFAIK. And maybe Firefox wouldn't follow the redirection into &lt;script&gt;, I don't know.</pre></div><div class="change-set" id="c28"><div class="comment" data-id="11011829" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-28" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 12:47 PST" data-time="1450298837">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-28" data-comment-id="11011829">(In reply to Frédéric Buclin from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c27">comment #27</a>)
<span class="quote">&gt; I wonder if we couldn't use a redirect to get the CSV file. Browsers are
&gt; fine with redirects, and curl and wget too AFAIK. And maybe Firefox wouldn't
&gt; follow the redirection into &lt;script&gt;, I don't know.</span >

Unfortunately, Firefox(and any other browser) will follow redirect to get the JS content.</pre></div><div class="change-set" id="c29"><div class="comment" data-id="11011909" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-29" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" ><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" ><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 13:08 PST" data-time="1450300105">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-29" data-comment-id="11011909">(In reply to Frédéric Buclin from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c27">comment #27</a>) 
<span class="quote">&gt; So ending the first line with a double comma would be in contradiction with
&gt; both items.</span >

I agree. However, in absence of an idea to do it which does fit the file format, this seems like the least impactful option.

Gerv</pre></div><div class="change-set" id="c30"><div class="comment" data-id="11012072" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-30" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" ><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" ><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 13:47 PST" data-time="1450302468">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-30" data-comment-id="11012072">Another option is manipulating the output to disallow ES6 quoting seems to work as well.</pre></div><div class="change-set" id="c31"><div class="comment" data-id="11012220" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-31" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" ><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" ><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 14:32 PST" data-time="1450305178">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-31" data-comment-id="11012220">As in, switch the CSV library to only quote values which need quoting? Yes, that's an excellent idea. That should surely stop the parser in its tracks somewhere on line 1.

Gerv</pre></div><div class="change-set" id="c32"><div class="comment" data-id="11012228" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-32" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" ><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" ><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 14:35 PST" data-time="1450305329">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-32" data-comment-id="11012228">No, but that might work as well. I meant physically remove the ` from bug summaries.</pre></div><div class="change-set" id="c33"><div class="comment" data-id="11012358" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-33" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" ><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" ><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-16 15:09 PST" data-time="1450307399">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-33" data-comment-id="11012358">(In reply to Dylan William Hardison [:dylan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c32">comment #32</a>)
<span class="quote">&gt; No, but that might work as well. I meant physically remove the ` from bug
&gt; summaries.</span >

Removing the: &quot;`&quot; won't fix this as the main problem here is the quotes(&quot;), remember it's parsed as javascript. I use \&quot; to finish the string then I set the variable &quot;data&quot; stealing victim's info.

So, the better way for patching it would be remove quotes(&quot;) from the CSV.

Only removing ` won't work 'cause I can still set &quot;data&quot; as an array instead of a string.</pre></div><div class="change-set" id="a147193_491519"><div class="change" id="aa147193_491519">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a147193_491519"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a147193_491519">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#a147193_491519">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 05:57 PST" data-time="1450360660">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Assignee: attach-and-request &rarr; dylan</div><div class="change">Status: NEW &rarr; ASSIGNED</div></div></div><div class="change-set" id="c34"><div class="comment" data-id="11013803" data-no="34"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-34" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a147193_491519"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 05:59 PST" data-time="1450360744">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8699452"
         class="attachment patch obsolete"
         data-id="8699452" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="1232785.diff">
      <meta itemprop="contentSize" content="995">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8699452">
          <a class="link" href="attachment.cgi?id=8699452&amp;action=diff">
        <span id="att-8699452-description" itemprop="description">Patch v.1</span></a> (obsolete)
        — <a href="attachment.cgi?id=8699452&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1232785&attachment=8699452">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-34" data-comment-id="11013803">How's this? RFC is here: <a rel="nofollow" href="https://tools.ietf.org/html/rfc4180">https://tools.ietf.org/html/rfc4180</a> .

Gerv</pre><div class="activity"><div class="change">Assignee: dylan &rarr; gerv</div><div class="change">
        <a href="/attachment.cgi?id=8699452&amp;action=edit"
           title="Patch v.1"
           class=""
        >Attachment #8699452</a> -
        Flags: review?(dylan)</div></div></div><div class="change-set" id="c35"><div class="comment" data-id="11013814" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-35" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a147193_491519"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" id="a147193_491519"><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:07 PST" data-time="1450361273">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-35" data-comment-id="11013814">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=8699452" name="attach_8699452" title="Patch v.1">attachment 8699452</a> <a href="/attachment.cgi?id=8699452&amp;action=edit" title="Patch v.1">[details]</a> <a href="/attachment.cgi?id=8699452&amp;action=diff" title="Patch v.1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1232785&amp;attachment=8699452'>[review]</a>
Patch v.1

<span class="quote">&gt;+                if ($var =~ /[\r\n,&quot;]/) {</span >

You must include semicolons too, because they are also used as field separator (there is a user pref to control which field separator you want).</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8699452&amp;action=edit"
           title="Patch v.1"
           class=""
        >Attachment #8699452</a> -
        Flags: review?(dylan) &rarr; review-</div></div></div><div class="change-set" id="c36"><div class="comment" data-id="11013820" data-no="36"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-36" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-36"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-36" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:09 PST" data-time="1450361371">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-36" data-comment-id="11013820">can the list of fields be controlled by the requester? if that's the case, if you pick fields that are single words, you can still make it valid JS I think?</pre></div><div class="change-set" id="c37"><div class="comment" data-id="11013824" data-no="37"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-37" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a147193_491519"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:10 PST" data-time="1450361450">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8699454"
         class="attachment patch obsolete"
         data-id="8699454" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="1232785.diff">
      <meta itemprop="contentSize" content="996">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8699454">
          <a class="link" href="attachment.cgi?id=8699454&amp;action=diff">
        <span id="att-8699454-description" itemprop="description">Patch v.1</span></a> (obsolete)
        — <a href="attachment.cgi?id=8699454&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1232785&attachment=8699454">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-37" data-comment-id="11013824">With semicolon.

Gerv</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8699452&amp;action=edit"
           title="Patch v.1"
           class=""
        >Attachment #8699452</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=8699454&amp;action=edit"
           title="Patch v.1"
           class=""
        >Attachment #8699454</a> -
        Flags: review?(dylan)</div></div></div><div class="change-set" id="c38"><div class="comment" data-id="11013830" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-38" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a147193_491519"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:12 PST" data-time="1450361554">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-38" data-comment-id="11013830">A string of random undeclared comma-separated identifiers is valid JS?

&lt;sigh&gt;

Yes, I believe the requester has control of the field list.

gerv</pre></div><div class="change-set" id="c39"><div class="comment" data-id="11013844" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-39" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:18 PST" data-time="1450361936">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-39" data-comment-id="11013844">The exploit author gets to set any variable they want before making the &lt;script&gt; request. But it appears &quot;Bug ID&quot; is always first.</pre></div><div class="change-set" id="c40"><div class="comment" data-id="11013846" data-no="40"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-40" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-40"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-40" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:19 PST" data-time="1450361975">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-40" data-comment-id="11013846">However, if &quot;Bug ID&quot; is ever valid js syntax this would be a time bomb...</pre></div><div class="change-set" id="c41"><div class="comment" data-id="11013860" data-no="41"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-41" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a147193_491519"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" id="a147193_491519"><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-41"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-41" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:25 PST" data-time="1450362307">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-41" data-comment-id="11013860">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c38">comment #38</a>)
<span class="quote">&gt; Yes, I believe the requester has control of the field list.</span >

Yes, he has. You can pass &amp;columnlist=... in the URL bar.</pre></div><div class="change-set" id="c42"><div class="comment" data-id="11013864" data-no="42"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-42" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-42"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-42" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:26 PST" data-time="1450362390">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8699460"
         class="attachment"
         data-id="8699460" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="buglist(1).cgi">
      <meta itemprop="contentSize" content="850">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8699460" itemprop="contentUrl">
        <span id="att-8699460-description" itemprop="description">non-human buglist csv</span></a>
        — <a href="attachment.cgi?id=8699460&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-42" data-comment-id="11013864">Also human=0 (or no human=):

<a rel="nofollow" href="https://bugzilla-dev.allizom.org/buglist.cgi?bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;email1=netfuzzer%40yandex.com&amp;emailassigned_to1=1&amp;emailreporter1=1&amp;emailtype1=exact&amp;field0-0-0=bug_status&amp;field0-0-1=reporter&amp;list_id=357&amp;query_format=advanced&amp;type0-0-0=notequals&amp;type0-0-1=equals&amp;value0-0-0=UNCONFIRMED&amp;value0-0-1=netfuzzer%40yandex.com&amp;ctype=csv">https://bugzilla-dev.allizom.org/buglist.cgi?bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;email1=netfuzzer%40yandex.com&amp;emailassigned_to1=1&amp;emailreporter1=1&amp;emailtype1=exact&amp;field0-0-0=bug_status&amp;field0-0-1=reporter&amp;list_id=357&amp;query_format=advanced&amp;type0-0-0=notequals&amp;type0-0-1=equals&amp;value0-0-0=UNCONFIRMED&amp;value0-0-1=netfuzzer%40yandex.com&amp;ctype=csv</a></pre></div><div class="change-set" id="c43"><div class="comment" data-id="11013865" data-no="43"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-43" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-43"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-43" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:27 PST" data-time="1450362436">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-43" data-comment-id="11013865">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=8699454" name="attach_8699454" title="Patch v.1">attachment 8699454</a> <a href="/attachment.cgi?id=8699454&amp;action=edit" title="Patch v.1">[details]</a> <a href="/attachment.cgi?id=8699454&amp;action=diff" title="Patch v.1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1232785&amp;attachment=8699454'>[review]</a>
Patch v.1

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=8699454" name="attach_8699454" title="Patch v.1">attachment 8699454</a> <a href="/attachment.cgi?id=8699454&amp;action=edit" title="Patch v.1">[details]</a> <a href="/attachment.cgi?id=8699454&amp;action=diff" title="Patch v.1">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1232785&amp;attachment=8699454'>[review]</a>:
-----------------------------------------------------------------

with gerv's patch, the file in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c42">comment 42</a> would still be valid js.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8699454&amp;action=edit"
           title="Patch v.1"
           class=""
        >Attachment #8699454</a> -
        Flags: review?(dylan) &rarr; review-</div></div></div><div class="change-set" id="c44"><div class="comment" data-id="11013899" data-no="44"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-44" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a147193_491519"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-44"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-44" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:36 PST" data-time="1450362989">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-44" data-comment-id="11013899">:-( OK, other than the trailing comma on line 1, I'm now out of ideas for breaking the JS-ness of the file.

Gerv</pre></div><div class="change-set" id="c45"><div class="comment" data-id="11013904" data-no="45"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-45" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-45"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-45" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:37 PST" data-time="1450363058">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-45" data-comment-id="11013904">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c44">comment #44</a>)
<span class="quote">&gt; :-( OK, other than the trailing comma on line 1, I'm now out of ideas for
&gt; breaking the JS-ness of the file.
&gt; 
&gt; Gerv</span >

What about a trailing comma on every line?</pre></div><div class="change-set" id="c46"><div class="comment" data-id="11013910" data-no="46"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-46" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a147193_491519"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-46"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-46" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:40 PST" data-time="1450363234">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-46" data-comment-id="11013910">I wonder whether that would lead to more of a compatibility issue than a trailing comma on the first line...

Gerv</pre></div><div class="change-set" id="c47"><div class="comment" data-id="11013920" data-no="47"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-47" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-47"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-47" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:44 PST" data-time="1450363464">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-47" data-comment-id="11013920">we have two options -- make it invalid js or remove the feature. I think double trailing commas is the least invasive way of making it invalid js.</pre></div><div class="change-set" id="c48"><div class="comment" data-id="11013947" data-no="48"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-48" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-48"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-48" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:53 PST" data-time="1450364017">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-48" data-comment-id="11013947">to be clear, can the user's sepchar be changed outside of the user's control? if it is set to ; ... we will still have valid js!</pre></div><div class="change-set" id="c49"><div class="comment" data-id="11013965" data-no="49"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-49" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-49"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-49" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c49">Comment 49</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 06:58 PST" data-time="1450364327">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-49">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-49" data-comment-id="11013965">about 211 users on BMO use ;</pre></div><div class="change-set" id="c50"><div class="comment" data-id="11013983" data-no="50"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-50" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-50"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-50" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c50">Comment 50</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 07:07 PST" data-time="1450364844">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-50">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-50" data-comment-id="11013983">We can always add a final column named ☃ that is empty for all other rows.</pre></div><div class="change-set" id="c51"><div class="comment" data-id="11013986" data-no="51"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-51" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/5aef682fbfd7590b9d85d6e8dbab10eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_251051" id="a147193_491519"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">(no longer active)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-51"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-51" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c51">Comment 51</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 07:09 PST" data-time="1450364970">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-51">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-51" data-comment-id="11013986">Guys, trying to make this not parse as JS is pointless.  Either we're going to end up missing something, or a future ES version is going to add something that will result in sadness.

We should either remove all non-public bugs from the CSV export, or remove CSV export altogether.  There is no safe way to expose the information we currently expose in a CSV format.</pre></div><div class="change-set" id="c52"><div class="comment" data-id="11013996" data-no="52"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-52" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a147193_491519"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-52"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-52" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c52">Comment 52</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 07:12 PST" data-time="1450365167">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-52">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-52" data-comment-id="11013996">(In reply to :Ehsan Akhgari from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c51">comment #51</a>)
<span class="quote">&gt; Guys, trying to make this not parse as JS is pointless.  Either we're going
&gt; to end up missing something, or a future ES version is going to add
&gt; something that will result in sadness.</span >

Ehsan: &quot;don't ever put any sensitive data on the web (even password-protected) in any format that could possibly be parsed as JS&quot; is not a reasonable position for Mozilla's Firefox team to take. There's no way anyone can ever meet that security criteria apart from by avoiding text-based file formats entirely, which is an unreasonable restriction.

If X-Content-Type-Options: nosniff is really the only way to fix this, then we'd better get on and implement that. How do we get that bug prioritized?

Gerv</pre></div><div class="change-set" id="c53"><div class="comment" data-id="11014023" data-no="53"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-53" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-53"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-53" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c53">Comment 53</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 07:22 PST" data-time="1450365734">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-53">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-53" data-comment-id="11014023">at least js doesn't support XML literals (like Scala does) or else this would be really bad.</pre></div><div class="change-set" id="c54"><div class="comment" data-id="11014033" data-no="54"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-54" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-54"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-54" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c54">Comment 54</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 07:25 PST" data-time="1450365952">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-54">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-54" data-comment-id="11014033">Note: Safari is also vulnerable.</pre></div><div class="change-set" id="c55"><div class="comment" data-id="11014037" data-no="55"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-55" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/5aef682fbfd7590b9d85d6e8dbab10eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_251051" id="a147193_491519"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">(no longer active)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-55"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-55" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c55">Comment 55</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 07:26 PST" data-time="1450366012">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-55">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-55" data-comment-id="11014037">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c52">comment #52</a>)
<span class="quote">&gt; (In reply to :Ehsan Akhgari from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c51">comment #51</a>)
&gt; &gt; Guys, trying to make this not parse as JS is pointless.  Either we're going
&gt; &gt; to end up missing something, or a future ES version is going to add
&gt; &gt; something that will result in sadness.
&gt; 
&gt; Ehsan: &quot;don't ever put any sensitive data on the web (even
&gt; password-protected) in any format that could possibly be parsed as JS&quot; is
&gt; not a reasonable position for Mozilla's Firefox team to take.</span >

I am only suggesting this as a fix to this specific issue, not the general problem you're referring to.  The discussion on the latter can happen on dev-platform.

<span class="quote">&gt; There's no way
&gt; anyone can ever meet that security criteria apart from by avoiding
&gt; text-based file formats entirely, which is an unreasonable restriction.
&gt; 
&gt; If X-Content-Type-Options: nosniff is really the only way to fix this, then
&gt; we'd better get on and implement that. How do we get that bug prioritized?</span >

See the discussion on <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Add X-Content-Type-Options: nosniff support to Firefox"
   href="/show_bug.cgi?id=471020">bug 471020</a>?  The problem is not one of prioritizing a bug, it's about there being no complete specification on what this header is supposed to do, and it behaving differently in IE, Chrome and the partial specs written for it.  So it's hard to know what needs to be implemented here.

I think we can make a reasonable case for adding support for nosniff for &lt;script&gt; loads, but we need to know what the exact behavior we want to support it.

But now we're getting really off topic here.  I think we should focus on fixing this bug without nosniff.</pre></div><div class="change-set" id="c56"><div class="comment" data-id="11014113" data-no="56"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-56" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a147193_491519"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" id="a147193_491519"><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-56"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-56" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c56">Comment 56</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 07:56 PST" data-time="1450367769">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-56">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-56" data-comment-id="11014113">OK, I think we have only one solution left: by default, the CSV file should only include public bugs (make sure to take the requirelogin parameter into account!). If you want to see private bugs, you must pass a valid API key in the URL. The CSV file would then only contain bugs which are visible to the user identified by this API key, independently of your current login cookies, to prevent the attacker from using the victim's credential.</pre></div><div class="change-set" id="c57"><div class="comment" data-id="11014170" data-no="57"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-57" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-57"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-57" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c57">Comment 57</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 08:16 PST" data-time="1450368999">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-57">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-57" data-comment-id="11014170">I'm working on this Roughly speaking the same as <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c56">comment 56</a>. Cookies will be ignored for buglist.cgi when producing a csv formatted report,</pre><div class="activity"><div class="change">Assignee: gerv &rarr; dylan</div></div></div><div class="change-set" id="c58"><div class="comment" data-id="11014178" data-no="58"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-58" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" id="a147193_491519"><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-58"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-58" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c58">Comment 58</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 08:18 PST" data-time="1450369103">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-58">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-58" data-comment-id="11014178">There's also another way that doesn't break anything and prevent the xss. 
Have a look:
============================
Bug ID,&quot;Product&quot;,&quot;Component&quot;,&quot;Assignee&quot;,&quot;Status&quot;,&quot;Resolution&quot;,&quot;Summary&quot;,&quot;Changed&quot;
============================

Removing the quotes from the first field won't break anything and will cause a javascript error.

It'll still work in most CSV parsers.</pre></div><div class="change-set" id="c59"><div class="comment" data-id="11014189" data-no="59"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-59" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a147193_491519"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-59"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-59" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c59">Comment 59</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 08:23 PST" data-time="1450369393">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-59">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-59" data-comment-id="11014189">Mario: Dylan covered that in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c42">comment 42</a>. Adding &quot;&amp;human=0&quot; to the URL gives database field names, which contain no spaces. So, I am told, removing the quotes from the field won't help.

And, because in JS semicolons are optional, I don't think we can add linebreaks to the first line to break the parser either. :-|

Gerv</pre></div><div class="change-set" id="c60"><div class="comment" data-id="11014239" data-no="60"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-60" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" id="a147193_491519"><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-60"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-60" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c60">Comment 60</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 08:36 PST" data-time="1450370169">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-60">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-60" data-comment-id="11014239">&#64;Gerv: how about checking the &quot;Accept&quot; header? Most browser send &quot;Accept: */*&quot;(IE,Chrome,Firefox and Safari) to get JS content. You guys could check this header and block the attack.</pre></div><div class="change-set" id="c61"><div class="comment" data-id="11014522" data-no="61"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-61" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a147193_491519"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-61"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-61" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c61">Comment 61</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 09:59 PST" data-time="1450375160">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-61">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-61" data-comment-id="11014522">IE sends */* for some top-level loads too, AIUI. Accept header parsing would probably be pretty fragile. And it's not a security header so there's no guarantee some browsers don't have ways to modify it for some requests.

Gerv</pre></div><div class="change-set" id="c62"><div class="comment" data-id="11014528" data-no="62"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-62" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a147193_491519"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-62"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-62" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c62">Comment 62</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 10:00 PST" data-time="1450375214">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-62">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-62" data-comment-id="11014528">(In reply to Dylan William Hardison [:dylan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c57">comment #57</a>)
<span class="quote">&gt; I'm working on this Roughly speaking the same as <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c56">comment 56</a>. Cookies will be
&gt; ignored for buglist.cgi when producing a csv formatted report,</span >

I think this will break old BzAPI, for anyone still using it. Will you still allow explicit username/password login on the URL?

Gerv</pre></div><div class="change-set" id="c63"><div class="comment" data-id="11014536" data-no="63"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-63" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-63"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-63" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c63">Comment 63</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 10:04 PST" data-time="1450375477">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-63">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-63" data-comment-id="11014536">So in other news, doesn't this also mean that you can craft (using only public bugs) js that gets run under the security context of bugzilla.mozilla.org?</pre></div><div class="change-set" id="c64"><div class="comment" data-id="11014539" data-no="64"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-64" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-64"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-64" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c64">Comment 64</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 10:06 PST" data-time="1450375597">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-64">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-64" data-comment-id="11014539">can said code poke at the local storage that splinter uses? If I put this &lt;script src&gt; on a site that people that review security bugs go to, ....? I want to be wrong about this.</pre></div><div class="change-set" id="c65"><div class="comment" data-id="11014550" data-no="65"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-65" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-65"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-65" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c65">Comment 65</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 10:11 PST" data-time="1450375882">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-65">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-65" data-comment-id="11014550">Is my fear outlined in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c63">comment 63</a> and <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c64">comment 64</a> feasible?</pre><div class="activity"><div class="change">Flags: needinfo?(ehsan)</div></div></div><div class="change-set" id="c66"><div class="comment" data-id="11014578" data-no="66"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-66" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/5aef682fbfd7590b9d85d6e8dbab10eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_251051" id="a147193_491519"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">(no longer active)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-66"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-66" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c66">Comment 66</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 10:24 PST" data-time="1450376698">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-66">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-66" data-comment-id="11014578">(In reply to Dylan William Hardison [:dylan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c65">comment #65</a>)
<span class="quote">&gt; Is my fear outlined in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c63">comment 63</a> and <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c64">comment 64</a> feasible?</span >

No.  Script runs in the context of the web page that embeds the &lt;script&gt; tag, not the context of where the script is loaded from.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(ehsan)</span></div></div></div><div class="change-set" id="c67"><div class="comment" data-id="11014582" data-no="67"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-67" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-67"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-67" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c67">Comment 67</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 10:26 PST" data-time="1450376771">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-67">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-67" data-comment-id="11014582">I am incredibly happy that I am wrong, and I wish I had remembered the context a script gets executed in is the page it is on.</pre></div><div class="change-set" id="c68"><div class="comment" data-id="11014892" data-no="68"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-68" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a147193_491519"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-68"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-68" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c68">Comment 68</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 12:09 PST" data-time="1450382979">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-68">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-68" data-comment-id="11014892">(In reply to Mario Gomes from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c11">comment #11</a>)
<span class="quote">&gt; Great! Could this be eligible for a bounty?</span >

Please mail <a href="mailto:security&#64;mozilla.org">security&#64;mozilla.org</a> for bounty requests, as always, to make sure the bounty folks see it. (In this case I happened to see it, but that's no guarantee for next time.)

Severity is somewhere between moderate and high, I'll go on the high side to start. Easy for attacker to arrange bugs with the right titles to be first and last: even w/out editbugs powers you can create your own bugs and sort your target query on some irrelevant column that you put low/high markers in your boundary bugs. You don't get full details of bugs, summary is the most damaging. Sometimes that's pretty revealing, sometimes it's useless.

Even though Mario points out that in the particular case of CSV he could get it to be parsed as an array, the new ES 6 ` string delimiter is going to create more problems in more sites. No one's going to be filtering on that and prior to this feature any multi-line quoting attempts would be a syntax error. Part of the problem here is that CSV quote escaping is different from JS escaping, but that could be true in other formats as well.

At one point we tried to use Content Security Policy as a way to raise the bar on JS MIME type sniffing: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - Load script files only with a Content-Type of application/javascript or application/json when CSP is enabled"
   href="/show_bug.cgi?id=662227">bug 662227</a>. That wouldn't have been a solution here because the attacker would presumably not use CSP, but the fact that it was removed from the initial spec shows the depth of the compatibility worries MIME type enforcement raises.

I thought we had a bug (even if WONTFIXed) about making strict mime type checking for JS the default regardless of any nosniff header but I can't currently find it. Would probably break the web since text/plain has historically been very popular for script files (we should add telemetry).

Maybe we could restrict new ES 6 features to files that have a reasonable content type? The doesn't solve this Bugzilla problem but longer term could help the web.</pre><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Add X-Content-Type-Options: nosniff support to Firefox"
   href="/show_bug.cgi?id=471020">471020</a></div><div class="change">Flags: sec-bounty?</div><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a></div><div class="change">Whiteboard: ES 6 `-strings + no MIME restrictions on script src + no support for x-content-options: nosniff</div></div></div><div class="change-set" id="c69"><div class="comment" data-id="11014895" data-no="69"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-69" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-69"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-69" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c69">Comment 69</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 12:11 PST" data-time="1450383077">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-69">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-69" data-comment-id="11014895">I think we could get away with filtering out all punctuation characters (basically anything that is not /[\s\w]/ in a perl regex). For minimum breakage, we could do this only for logged in users. For BMO this would be a very small sample of users -- and it would probably not break anyone's workflow beyond repair.</pre></div><div class="change-set" id="c70"><div class="comment" data-id="11014939" data-no="70"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-70" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-70"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-70" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c70">Comment 70</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 12:27 PST" data-time="1450384063">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-70">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8699589"
         class="attachment patch obsolete"
         data-id="8699589" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="1232785_2.patch">
      <meta itemprop="contentSize" content="731">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8699589">
          <a class="link" href="attachment.cgi?id=8699589&amp;action=diff">
        <span id="att-8699589-description" itemprop="description">1232785_2.patch</span></a> (obsolete)
        — <a href="attachment.cgi?id=8699589&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1232785&attachment=8699589">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-70" data-comment-id="11014939">replace \ with &amp;bsol; for logged in users. This means it will only break for about 20 people on BMO and hopefully small numbers on other sites.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8699454&amp;action=edit"
           title="Patch v.1"
           class=""
        >Attachment #8699454</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=8699589&amp;action=edit"
           title="1232785_2.patch"
           class=""
        >Attachment #8699589</a> -
        Flags: review?(dkl)</div></div></div><div class="change-set" id="c71"><div class="comment" data-id="11015459" data-no="71"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-71" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a147193_491519"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" id="a147193_491519"><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-71"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-71" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c71">Comment 71</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 15:13 PST" data-time="1450393996">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-71">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-71" data-comment-id="11015459">(In reply to Dylan William Hardison [:dylan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c70">comment #70</a>)
<span class="quote">&gt; replace \ with &amp;bsol; for logged in users.</span >

I don't see why you do HTML-escaping with a plain text file. This doesn't make any sense to me. When you then read the CSV file, text would be displayed as &amp;bsol;, not converted back to \. That's painful. C:\Foo\Bar\file.ext would be displayed as C:&amp;bsol;Foo&amp;bsol;file.ext. Yay!</pre></div><div class="change-set" id="c72"><div class="comment" data-id="11015553" data-no="72"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-72" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-72"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-72" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c72">Comment 72</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 15:34 PST" data-time="1450395296">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-72">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-72" data-comment-id="11015553">it's painful but less painful than other options. I was going to use [BACKSLASH] but dveditz suggested the html entity for shortness.</pre></div><div class="change-set" id="c73"><div class="comment" data-id="11015566" data-no="73"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-73" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-73"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-73" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c73">Comment 73</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 15:37 PST" data-time="1450395471">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-73">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-73" data-comment-id="11015566">I could also use <a rel="nofollow" href="http://www.fileformat.info/info/unicode/char/ff3c/index.htm">http://www.fileformat.info/info/unicode/char/ff3c/index.htm</a></pre></div><div class="change-set" id="c74"><div class="comment" data-id="11015584" data-no="74"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-74" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_5898" id="a147193_491519"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-74"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-74" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c74">Comment 74</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 15:42 PST" data-time="1450395733">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-74">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-74" data-comment-id="11015584">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=8699589" name="attach_8699589" title="1232785_2.patch">attachment 8699589</a> <a href="/attachment.cgi?id=8699589&amp;action=edit" title="1232785_2.patch">[details]</a> <a href="/attachment.cgi?id=8699589&amp;action=diff" title="1232785_2.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1232785&amp;attachment=8699589'>[review]</a>
1232785_2.patch

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=8699589" name="attach_8699589" title="1232785_2.patch">attachment 8699589</a> <a href="/attachment.cgi?id=8699589&amp;action=edit" title="1232785_2.patch">[details]</a> <a href="/attachment.cgi?id=8699589&amp;action=diff" title="1232785_2.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1232785&amp;attachment=8699589'>[review]</a>:
-----------------------------------------------------------------

r=dkl as this fixes this particular exploit case as demonstrated by the reporter. I also see LpSolit's point about seeming wrong to change values in a plain text format causing extra work for the client. Until Firefox (and others) are fixed to do the correct thing with regards to text/plain and not execute as javascript, can we guarantee that some other similar issue will arise from this type of exploit. Is there a list of other characters we should be escaping as well or will this be enough to catch most cases?</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8699589&amp;action=edit"
           title="1232785_2.patch"
           class=""
        >Attachment #8699589</a> -
        Flags: review?(dkl) &rarr; review+</div></div></div><div class="change-set" id="c75"><div class="comment" data-id="11015595" data-no="75"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-75" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-75"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-75" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c75">Comment 75</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 15:45 PST" data-time="1450395931">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-75">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8699686"
         class="attachment patch"
         data-id="8699686" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="1232785_3.patch">
      <meta itemprop="contentSize" content="733">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8699686">
          <a class="link" href="attachment.cgi?id=8699686&amp;action=diff">
        <span id="att-8699686-description" itemprop="description">1232785_3.patch</span></a>
        — <a href="attachment.cgi?id=8699686&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1232785&attachment=8699686">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-75" data-comment-id="11015595">use unicode Fullwidth Reverse Solidus instead of ASCII Reverse Solidus</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8699589&amp;action=edit"
           title="1232785_2.patch"
           class=""
        >Attachment #8699589</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=8699686&amp;action=edit"
           title="1232785_3.patch"
           class=""
        >Attachment #8699686</a> -
        Flags: review?(dkl)</div></div></div><div class="change-set" id="c76"><div class="comment" data-id="11015621" data-no="76"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-76" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_430652" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/9f4d447f27c116342ba41a747802372d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_430652" id="a147193_491519"><a class="email " href="/user_profile?user_id=430652" > <span class="fna">Tanvi Vyas[:tanvi]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-76"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-76" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c76">Comment 76</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 15:52 PST" data-time="1450396372">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-76">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-76" data-comment-id="11015621">(In reply to Dylan William Hardison [:dylan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c6">comment #6</a>)
<span class="quote">&gt; This works from any page context, in firefox only as reported. Chrome
&gt; reports this error:
&gt; 
&gt; &quot;Refused to execute script from
&gt; '<a rel="nofollow" href="https://bugzilla-dev.allizom.org/buglist">https://bugzilla-dev.allizom.org/buglist</a>.
&gt; cgi?bug_status=UNCONFIRMED&amp;bug_sta…value0-0-0=UNCONFIRMED&amp;value0-0-
&gt; 1=netfuzzer%40yandex.com&amp;ctype=csv&amp;human=1' because its MIME type
&gt; ('text/csv') is not executable, and strict MIME type checking is enabled.&quot;</span >

Since bugzilla isn't sending &quot;X-Content-Type-Options: nosniff&quot;, how is this getting blocked on chrome?  Maybe in addition to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Add X-Content-Type-Options: nosniff support to Firefox"
   href="/show_bug.cgi?id=471020">bug 471020</a>, we need something else?</pre></div><div class="change-set" id="c77"><div class="comment" data-id="11015630" data-no="77"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-77" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-77"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-77" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c77">Comment 77</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 15:55 PST" data-time="1450396538">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-77">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-77" data-comment-id="11015630">Chrome just refuses to execute text/csv as js.</pre></div><div class="change-set" id="c78"><div class="comment" data-id="11016092" data-no="78"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-78" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a147193_491519"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-78"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-78" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c78">Comment 78</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-17 19:31 PST" data-time="1450409491">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-78">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-78" data-comment-id="11016092">(In reply to Dylan William Hardison [:dylan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c77">comment #77</a>)
<span class="quote">&gt; Chrome just refuses to execute text/csv as js.</span >

If we can't have &quot;X-Content-Type-Options: nosniff&quot; in Firefox, can we just have this? :-)

Gerv</pre></div><div class="change-set" id="c79"><div class="comment" data-id="11017279" data-no="79"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-79" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/5aef682fbfd7590b9d85d6e8dbab10eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_251051" id="a147193_491519"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">(no longer active)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-79"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-79" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c79">Comment 79</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-18 07:44 PST" data-time="1450453493">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-79">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-79" data-comment-id="11017279">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c78">comment #78</a>)
<span class="quote">&gt; (In reply to Dylan William Hardison [:dylan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c77">comment #77</a>)
&gt; &gt; Chrome just refuses to execute text/csv as js.
&gt; 
&gt; If we can't have &quot;X-Content-Type-Options: nosniff&quot; in Firefox, can we just
&gt; have this? :-)</span >

We can try, but this is the kind of thing that runs the risk of breaking websites so it's not a good fix for a bugzilla vulnerability.  It also won't fix anything for Safari users.</pre></div><div class="change-set" id="c80"><div class="comment" data-id="11017436" data-no="80"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-80" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_5898" id="a147193_491519"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-80"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-80" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c80">Comment 80</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-18 08:29 PST" data-time="1450456193">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-80">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-80" data-comment-id="11017436">Comment on <span class=""><a href="/attachment.cgi?id=8699686" name="attach_8699686" title="1232785_3.patch">attachment 8699686</a> <a href="/attachment.cgi?id=8699686&amp;action=edit" title="1232785_3.patch">[details]</a> <a href="/attachment.cgi?id=8699686&amp;action=diff" title="1232785_3.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1232785&amp;attachment=8699686'>[review]</a>
1232785_3.patch

Review of <span class=""><a href="/attachment.cgi?id=8699686" name="attach_8699686" title="1232785_3.patch">attachment 8699686</a> <a href="/attachment.cgi?id=8699686&amp;action=edit" title="1232785_3.patch">[details]</a> <a href="/attachment.cgi?id=8699686&amp;action=diff" title="1232785_3.patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1232785&amp;attachment=8699686'>[review]</a>:
-----------------------------------------------------------------

r=dkl</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8699686&amp;action=edit"
           title="1232785_3.patch"
           class=""
        >Attachment #8699686</a> -
        Flags: review?(dkl) &rarr; review+</div></div></div><div class="change-set" id="c81"><div class="comment" data-id="11017823" data-no="81"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-81" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a147193_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a147193_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-81"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-81" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c81">Comment 81</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-18 10:37 PST" data-time="1450463822">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-81">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-81" data-comment-id="11017823">The patch cleanly applies and works in 4.4 and 5.0</pre><div class="activity"><div class="change">Flags: approval5.0?</div><div class="change">Flags: approval4.4?</div></div></div><div class="change-set" id="a250640_491519"><div class="change" id="aa250640_491519">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a250640_491519"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_491519" id="a250640_491519"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a250640_491519"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a250640_491519">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#a250640_491519">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-18 10:41 PST" data-time="1450464107">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: [SECURITY] Attachments are able to read remote buglists containing restricted bugs &rarr; [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers</div></div></div><div class="change-set" id="a261315_5898"><div class="change" id="aa261315_5898">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a261315_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a261315_5898"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a261315_5898"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a261315_5898">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#a261315_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-18 13:39 PST" data-time="1450474782">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: <span class="activity-deleted">approval5.0?</span></div><div class="change">Flags: approval5.0+</div><div class="change">Flags: <span class="activity-deleted">approval4.4?</span></div><div class="change">Flags: approval4.4+</div></div></div><div class="change-set" id="c82"><div class="comment" data-id="11019177" data-no="82"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-82" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a261315_5898"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a261315_5898"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-82"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-82" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c82">Comment 82</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-19 02:18 PST" data-time="1450520331">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-82">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-82" data-comment-id="11019177">(In reply to :Ehsan Akhgari from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c79">comment #79</a>)
<span class="quote">&gt; We can try, but this is the kind of thing that runs the risk of breaking
&gt; websites so it's not a good fix for a bugzilla vulnerability.</span >

You think there are websites out there serving valid JavaScript specifically as text/csv?

Gerv</pre></div><div class="change-set" id="c83"><div class="comment" data-id="11019179" data-no="83"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-83" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a261315_5898"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a261315_5898"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-83"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-83" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c83">Comment 83</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-19 02:21 PST" data-time="1450520481">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-83">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-83" data-comment-id="11019179">I think that this patch silently changes data, which could have any number of unknown or unpredictable effects. I still prefer the trailing-comma-on-first-line fix. But there you go.

Gerv</pre></div><div class="change-set" id="c84"><div class="comment" data-id="11019199" data-no="84"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-84" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a261315_5898"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" id="a261315_5898"><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-84"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-84" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c84">Comment 84</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-19 03:06 PST" data-time="1450523190">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-84">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-84" data-comment-id="11019199">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c82">comment #82</a>)
<span class="quote">&gt; You think there are websites out there serving valid JavaScript specifically
&gt; as text/csv?</span >

I don't think that's the case, because 1) they are abusing what a CSV file is used for, and 2) Chrome refuses to use them in &lt;script&gt;, and so these websites would be broken for Chrome users.</pre></div><div class="change-set" id="c85"><div class="comment" data-id="11019239" data-no="85"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-85" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a261315_5898"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a261315_5898"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-85"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-85" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c85">Comment 85</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-19 04:24 PST" data-time="1450527876">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-85">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-85" data-comment-id="11019239">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c83">comment #83</a>)
<span class="quote">&gt; I think that this patch silently changes data, which could have any number
&gt; of unknown or unpredictable effects. I still prefer the
&gt; trailing-comma-on-first-line fix. But there you go.
&gt; 
&gt; Gerv</span >
It would have two be two trailing commas. It would also not work for the case of someone using semicolons.</pre></div><div class="change-set" id="c86"><div class="comment" data-id="11019270" data-no="86"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-86" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a261315_5898"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a261315_5898"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-86"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-86" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c86">Comment 86</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-19 05:26 PST" data-time="1450531590">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-86">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-86" data-comment-id="11019270"><span class="quote">&gt; It would have two be two trailing commas. It would also not work for the
&gt; case of someone using semicolons.</span >

I think the user preference to allow people to have their comma-separated values files using commas or semicolons is a dumb preference and I would be very happy to see it eliminated entirely. :-)

Gerv</pre></div><div class="change-set" id="c87"><div class="comment" data-id="11019276" data-no="87"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-87" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a261315_5898"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_120380" id="a261315_5898"><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-87"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-87" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c87">Comment 87</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-19 05:38 PST" data-time="1450532284">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-87">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-87" data-comment-id="11019276">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c86">comment #86</a>)
<span class="quote">&gt; I think the user preference to allow people to have their comma-separated
&gt; values files using commas or semicolons is a dumb preference and I would be
&gt; very happy to see it eliminated entirely. :-)</span >

Just because it makes this bug harder to fix? That's a weak reason. This user pref has been implemented in Bugzilla 2.20 because Excel uses either commas or semicolons to parse CSV files, depending on the localization of your Windows installation, see <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Option to have CSV files separated with semicolons instead of commas"
   href="/show_bug.cgi?id=257767#c12">bug 257767 comment 12</a>. For instance, English uses commas, but both French and German use semicolons.</pre></div><div class="change-set" id="c88"><div class="comment" data-id="11019314" data-no="88"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-88" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a261315_5898"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a261315_5898"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-88"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-88" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c88">Comment 88</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-19 07:09 PST" data-time="1450537770">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-88">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-88" data-comment-id="11019314">(In reply to Frédéric Buclin from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c87">comment #87</a>)
<span class="quote">&gt; Just because it makes this bug harder to fix? That's a weak reason. This
&gt; user pref has been implemented in Bugzilla 2.20 because Excel uses either
&gt; commas or semicolons to parse CSV files, depending on the localization of
&gt; your Windows installation, see <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Option to have CSV files separated with semicolons instead of commas"
   href="/show_bug.cgi?id=257767#c12">bug 257767 comment 12</a>. For instance, English
&gt; uses commas, but both French and German use semicolons.</span >

LibreOffice lets you decide what separator to use when importing the file; has Excel not yet caught up with this useful facility, then?

The idea of shipping a spreadsheet which imports &quot;Comma-Separated Values&quot; files but doesn't support using commas to separate the values is a comedy move from Microsoft :-)

Gerv</pre></div><div class="change-set" id="c89"><div class="comment" data-id="11019425" data-no="89"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-89" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a261315_5898"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a261315_5898"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-89"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-89" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c89">Comment 89</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-19 09:41 PST" data-time="1450546882">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-89">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-89" data-comment-id="11019425">No, it is an example of MS not being anglo-centric. Lots of languages use , as a decimal seperator. Numbers don't have to be quoted, so using a semicolon makes a lot of sense. On BMO more than 200 people use semicolons. I wonder if we should consider exporting ods and xls formats and remove csv from future releases.</pre></div><div class="change-set" id="c90"><div class="comment" data-id="11019460" data-no="90"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-90" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a261315_5898"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a261315_5898"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-90"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-90" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c90">Comment 90</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-19 10:11 PST" data-time="1450548705">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-90">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-90" data-comment-id="11019460">(In reply to Dylan William Hardison [:dylan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c89">comment #89</a>)
<span class="quote">&gt; No, it is an example of MS not being anglo-centric. Lots of languages use ,
&gt; as a decimal seperator.</span >

I know. It's the fact that it can't _import_ the comma-using version which is clownshoes. If it could, we could just always export with commas and there would be no need for the preference. (We don't put decimal separators into our numbers when we export, so no extra quoting.)

Gerv</pre></div><div class="change-set" id="a405724_120380"><div class="change" id="aa405724_120380">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a405724_120380"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_120380" id="a405724_120380"><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a405724_120380"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a405724_120380">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#a405724_120380">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-20 05:46 PST" data-time="1450619191">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Security advisory for Bugzilla 5.0.2, 4.4.11 and 4.2.16"
   href="/show_bug.cgi?id=1229728">1229728</a></div></div></div><div class="change-set" id="c91"><div class="comment" data-id="11021533" data-no="91"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-91" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a405724_120380"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_5898" id="a405724_120380"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-91"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-91" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c91">Comment 91</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-21 05:58 PST" data-time="1450706338">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-91">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-91" data-comment-id="11021533">dveditz, can we get a CVE for this please?

dkl</pre><div class="activity"><div class="change">Flags: needinfo?(dveditz)</div></div></div><div class="change-set" id="a513966_5898"><div class="change" id="aa513966_5898">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a513966_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a513966_5898"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a513966_5898"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a513966_5898">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#a513966_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-21 11:50 PST" data-time="1450727433">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Backport upstream bug 1232785 to bmo/4.2 [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1234237">1234237</a></div></div></div><div class="change-set" id="c92"><div class="comment" data-id="11023149" data-no="92"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-92" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a513966_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_5898" id="a513966_5898"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-92"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-92" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c92">Comment 92</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-21 14:15 PST" data-time="1450736116">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-92">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-92" data-comment-id="11023149">dveditz on pto. abillings is getting us a CVE</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(dveditz)</span></div></div></div><div class="change-set" id="a522677_280903"><div class="change" id="aa522677_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a522677_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a522677_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a522677_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a522677_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#a522677_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-21 14:15 PST" data-time="1450736144">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Alias: CVE-2015-8509</div></div></div><div class="change-set" id="c93"><div class="comment" data-id="11023530" data-no="93"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-93" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" id="a522677_280903"><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" id="a522677_280903"><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-93"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-93" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c93">Comment 93</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-21 16:31 PST" data-time="1450744310">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-93">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-93" data-comment-id="11023530">Any estimate date for this going public?</pre></div><div class="change-set" id="a584901_120380"><div class="change" id="aa584901_120380">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a584901_120380"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_120380" id="a584901_120380"><a class="email " href="/user_profile?user_id=120380" > <span class="fna">Frédéric Buclin</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a584901_120380"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a584901_120380">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#a584901_120380">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-22 07:32 PST" data-time="1450798368">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Add X-Content-Type-Options: nosniff support to Firefox"
   href="/show_bug.cgi?id=471020">471020</a></div><div class="change">Flags: approval4.2?</div><div class="change">Target Milestone: Bugzilla 4.4 &rarr; Bugzilla 4.2</div></div></div><div class="change-set" id="c94"><div class="comment" data-id="11025020" data-no="94"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-94" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a584901_120380"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_5898" id="a584901_120380"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-94"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-94" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c94">Comment 94</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-22 07:33 PST" data-time="1450798426">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-94">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-94" data-comment-id="11025020">(In reply to Mario Gomes from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c93">comment #93</a>)
<span class="quote">&gt; Any estimate date for this going public?</span >

Trying for pushing a release today. We will see how it goes.</pre><div class="activity"><div class="change">Flags: approval4.2? &rarr; approval4.2+</div></div></div><div class="change-set" id="c95"><div class="comment" data-id="11025558" data-no="95"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-95" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a584901_120380"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a584901_120380"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-95"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-95" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c95">Comment 95</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-22 10:37 PST" data-time="1450809451">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-95">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-95" data-comment-id="11025558">To ssh://gitolite3&#64;git.mozilla.org/bugzilla/bugzilla.git
   <a href="https://github.com/bugzilla/bugzilla/commit/c899b36">49b2e90..c899b36  4.2 -&gt; 4.2</a>
   5f7540c..ce87073  4.4 -&gt; 4.4
   dc076ed..a118534  5.0 -&gt; 5.0
   e69201a..34f8910  master -&gt; master</pre><div class="activity"><div class="change">Status: ASSIGNED &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2015-12-22 10:37 PST" data-time="1450809451">6 years ago</span></div><div class="change">Resolution: --- &rarr; FIXED</div></div></div><div class="change-set" id="a608954_5898"><div class="change" id="aa608954_5898">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a608954_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a608954_5898"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a608954_5898"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a608954_5898">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#a608954_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-22 14:13 PST" data-time="1450822421">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: <span class="activity-deleted">bugzilla-security</span></div></div></div><div class="change-set" id="a1112657_280903"><div class="change" id="aa1112657_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a1112657_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a1112657_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1112657_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1112657_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#a1112657_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-12-28 10:08 PST" data-time="1451326124">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-bounty? &rarr; sec-bounty+</div></div></div><div class="change-set" id="c96"><div class="comment" data-id="11055728" data-no="96"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-96" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a1112657_280903"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_20209" id="a1112657_280903"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-96"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-96" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c96">Comment 96</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-07 11:21 PST" data-time="1452194461">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-96">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-96" data-comment-id="11055728">A bit late here, but had anyone considered checking referrer headers as a mitigation?</pre></div><div class="change-set" id="c97"><div class="comment" data-id="11057597" data-no="97"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-97" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5842" id="a1112657_280903"><img src="https://secure.gravatar.com/avatar/e9388eb9cf1a0eb509c4dc3686e66ca5?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_5842" id="a1112657_280903"><a class="email " href="/user_profile?user_id=5842" > <span class="fna">Masatoshi Kimura [:emk]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-97"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-97" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c97">Comment 97</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-07 23:59 PST" data-time="1452239950">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-97">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-97" data-comment-id="11057597">How about adding an extra comma regardless of the separator that the user specified?
&quot;Bug ID&quot;;&quot;Product&quot;;&quot;Component&quot;;&quot;Assignee&quot;;&quot;Status&quot;;&quot;Resolution&quot;;&quot;Summary&quot;;&quot;Changed&quot;;,
is still invalid as JS, a data in the last (dummy) field as CSV.</pre></div><div class="change-set" id="c98"><div class="comment" data-id="11058067" data-no="98"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-98" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a1112657_280903"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a1112657_280903"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-98"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-98" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c98">Comment 98</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-08 03:21 PST" data-time="1452252074">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-98">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-98" data-comment-id="11058067">(In reply to Masatoshi Kimura [:emk] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c97">comment #97</a>)
<span class="quote">&gt; How about adding an extra comma regardless of the separator that the user
&gt; specified?
&gt; &quot;Bug
&gt; ID&quot;;&quot;Product&quot;;&quot;Component&quot;;&quot;Assignee&quot;;&quot;Status&quot;;&quot;Resolution&quot;;&quot;Summary&quot;;
&gt; &quot;Changed&quot;;,
&gt; is still invalid as JS, a data in the last (dummy) field as CSV.</span >

That would lead to an additional final field containing just the text &quot;,&quot;, when the separator was colon. It's not ideal to add additional fields with actual content.

(In reply to Boris Zbarsky [:bz] (Vacation until Jan 4) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c96">comment #96</a>)
<span class="quote">&gt; A bit late here, but had anyone considered checking referrer headers as a
&gt; mitigation?</span >

CSV is used as a format by software interfacing with Bugzilla; it's not just people clicking the link on the buglist page. What would the check be? &quot;Referrer has to be blank, or the Bugzilla itself&quot;?

Gerv</pre></div><div class="change-set" id="c99"><div class="comment" data-id="11058217" data-no="99"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-99" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a1112657_280903"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_20209" id="a1112657_280903"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-99"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-99" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c99">Comment 99</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-08 05:17 PST" data-time="1452259020">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-99">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-99" data-comment-id="11058217"><span class="quote">&gt; &quot;Referrer has to be blank, or the Bugzilla itself&quot;?</span >

Yes.  That wouldn't help if people have their browsers configured to not send referrer, of course, but it should help in the common case.</pre></div><div class="change-set" id="c100"><div class="comment" data-id="11058222" data-no="100"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-100" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a1112657_280903"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a1112657_280903"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-100"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-100" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c100">Comment 100</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-08 05:19 PST" data-time="1452259167">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-100">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-100" data-comment-id="11058222">:dkl, :dylan: views?

Gerv</pre><div class="activity"><div class="change">Flags: needinfo?(dylan)</div><div class="change">Flags: needinfo?(dkl)</div></div></div><div class="change-set" id="c101"><div class="comment" data-id="11058707" data-no="101"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-101" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a1112657_280903"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_5898" id="a1112657_280903"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-101"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-101" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c101">Comment 101</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-08 07:32 PST" data-time="1452267175">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-101">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-101" data-comment-id="11058707">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c100">comment #100</a>)
<span class="quote">&gt; :dkl, :dylan: views?
&gt; 
&gt; Gerv</span >

I would rather never use Referer as any means of protection as it is freely alterable and interceptable. And not to mention some people use dashboards that access CSV directly without coming from the CSV link in buglist.cgi.

dkl</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(dkl)</span></div></div></div><div class="change-set" id="c102"><div class="comment" data-id="11058759" data-no="102"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-102" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a1112657_280903"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a1112657_280903"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-102"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-102" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c102">Comment 102</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-08 07:40 PST" data-time="1452267641">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-102">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-102" data-comment-id="11058759">(In reply to David Lawrence [:dkl] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c101">comment #101</a>)
<span class="quote">&gt; I would rather never use Referer as any means of protection as it is freely
&gt; alterable and interceptable. </span >

If I'm trying to conduct an XSS attack on you, what mechanisms can I use to get your browser to send a bogus Referer?

<span class="quote">&gt; And not to mention some people use dashboards
&gt; that access CSV directly without coming from the CSV link in buglist.cgi.</span >

How do they do that? Same Origin Policy should mean the dashboard can't access the data...

Gerv</pre></div><div class="change-set" id="c103"><div class="comment" data-id="11058769" data-no="103"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-103" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_423436" id="a1112657_280903"><img src="https://secure.gravatar.com/avatar/cd44f38f61c8d163ca776119f9135402?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_423436" id="a1112657_280903"><a class="email " href="/user_profile?user_id=423436" > <span class="fna">Mario Gomes</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-103"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-103" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c103">Comment 103</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-08 07:42 PST" data-time="1452267762">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-103">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-103" data-comment-id="11058769">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c102">comment #102</a>)
<span class="quote">&gt; If I'm trying to conduct an XSS attack on you, what mechanisms can I use to
&gt; get your browser to send a bogus Referer?</span >

Hey, I can answer that :) It's possible to send &quot;blank referer&quot; requests using data URLS on Firefox.</pre></div><div class="change-set" id="c104"><div class="comment" data-id="11058980" data-no="104"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-104" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a1112657_280903"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_5898" id="a1112657_280903"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-104"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-104" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c104">Comment 104</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-08 08:36 PST" data-time="1452270978">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-104">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-104" data-comment-id="11058980">(In reply to Gervase Markham [:gerv] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c102">comment #102</a>)
<span class="quote">&gt; &gt; And not to mention some people use dashboards
&gt; &gt; that access CSV directly without coming from the CSV link in buglist.cgi.
&gt; 
&gt; How do they do that? Same Origin Policy should mean the dashboard can't
&gt; access the data...</span >

By accessing a query URL directly for public bugs only such as:

<a rel="nofollow" href="https://bugzilla.mozilla.org/buglist.cgi?bug_status=NEW&amp;component=Administration&amp;product=Bugzilla&amp;ctype=csv">https://bugzilla.mozilla.org/buglist.cgi?bug_status=NEW&amp;component=Administration&amp;product=Bugzilla&amp;ctype=csv</a>

dkl</pre></div><div class="change-set" id="c105"><div class="comment" data-id="11059057" data-no="105"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-105" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9911" id="a1112657_280903"><img src="https://secure.gravatar.com/avatar/559c3cf31c98a95b23421186b78df500?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_9911" id="a1112657_280903"><a class="email disabled" href="/user_profile?user_id=9911" > <span class="fna">Gervase Markham [:gerv] (not reading bugmail)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-105"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-105" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c105">Comment 105</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-08 08:49 PST" data-time="1452271768">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-105">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-105" data-comment-id="11059057">(In reply to David Lawrence [:dkl] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [SECURITY] Buglists in CSV format can be parsed as valid javascript in some browsers"
   href="/show_bug.cgi?id=1232785#c104">comment #104</a>) 
<span class="quote">&gt; By accessing a query URL directly for public bugs only such as:
&gt; 
&gt; <a rel="nofollow" href="https://bugzilla.mozilla.org/buglist">https://bugzilla.mozilla.org/buglist</a>.
&gt; cgi?bug_status=NEW&amp;component=Administration&amp;product=Bugzilla&amp;ctype=csv</span >

Sorry if I'm being dense, but surely an HTML dashboard hosted at a random domain can't XHR such a URL and read the result because of the same origin policy?

Gerv</pre></div><div class="change-set" id="c106"><div class="comment" data-id="11091839" data-no="106"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-106" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491519" id="a1112657_280903"><img src="https://secure.gravatar.com/avatar/ea4290f897444ad075f1c33fecc24f8f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491519" id="a1112657_280903"><a class="email " href="/user_profile?user_id=491519" > <span class="fna">Dylan Hardison [:dylan] (he/him)</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-106"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-106" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1232785#c106">Comment 106</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-01-20 08:32 PST" data-time="1453307578">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-106">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-106" data-comment-id="11091839">Such dashboards can access that server-side, which has no restrictions. The fix we have in place is the best possible one given the universe we live in.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(dylan)</span></div></div></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=1232785&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div></div> 
</main> 
</div> 


</body>
</html>