<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA - Support - Tiny Tiny RSS: Community</title>
    <meta name="description" content="Using v21.03-a4da2f1e6 updated via git 

Problem
When checking in database if my users have updated their hashed passwords, I saw that mine is not updated. So, I tried to log-out and -in, and me password is not updated w&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta7 - https://github.com/discourse/discourse version cbd7898d1d70198f9fda0eac27a68affde5c8bb4">
<link rel="icon" type="image/png" href="https://discourse.tt-rss.org/uploads/default/optimized/1X/18a2e96275d1fffb21cce225d30a87be4544db60_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="https://discourse.tt-rss.org/uploads/default/optimized/1X/18a2e96275d1fffb21cce225d30a87be4544db60_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://discourse.tt-rss.org","potentialAction":{"@type":"SearchAction","target":"https://discourse.tt-rss.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://discourse.tt-rss.org/opensearch.xml" title="Tiny Tiny RSS: Community Search">

      <link href="/stylesheets/desktop_270f86a6a54c79f9a90417eb61f8159ebdfce33e.css?__ws=discourse.tt-rss.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="/stylesheets/desktop_theme_7_67902389ea5b83709929d227b981ddc68f64de06.css?__ws=discourse.tt-rss.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="7" data-theme-name="custom header links"/>
<link href="/stylesheets/desktop_theme_6_fe0c59a6e4f325df25d4bc525e2abc87ac6b6f5e.css?__ws=discourse.tt-rss.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="6" data-theme-name="bears"/>
<link href="/stylesheets/desktop_theme_2_083d231aac1b8645b130fd25dc14dbdb17c9d6d8.css?__ws=discourse.tt-rss.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="ttrss"/>
    <!-- <script type="text/discourse-plugin" version="0.2">
    api.onPageChange((url, title) => {
        if (_paq) {
            _paq.push(["setCustomUrl", url]);
            _paq.push(["setDocumentTitle", title]);
            _paq.push(["trackPageView"]);
            
            const currentUser = api.getCurrentUser();

            if (currentUser && currentUser['username']) {
                _paq.push(['setUserId', currentUser['username']]);
            }
        }
    });
</script> -->

    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA&#39;" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502.rss" />
    <meta property="og:site_name" content="Tiny Tiny RSS: Community" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://discourse.tt-rss.org/uploads/default/original/1X/18a2e96275d1fffb21cce225d30a87be4544db60.png" />
<meta property="og:image" content="https://discourse.tt-rss.org/uploads/default/original/1X/18a2e96275d1fffb21cce225d30a87be4544db60.png" />
<meta property="og:url" content="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502" />
<meta name="twitter:url" content="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502" />
<meta property="og:title" content="Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA" />
<meta name="twitter:title" content="Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA" />
<meta property="og:description" content="Using v21.03-a4da2f1e6 updated via git   Problem When checking in database if my users have updated their hashed passwords, I saw that mine is not updated. So, I tried to log-out and -in, and me password is not updated with the new hash algo.  But, in the code, I saw that the password is forced to be updated in the check_password function, so I tried to login again, with a bad password but a correct OTP, and it was successful.  I do not know if this is a bug, or (weirdly?) if a correct OTP is co..." />
<meta name="twitter:description" content="Using v21.03-a4da2f1e6 updated via git   Problem When checking in database if my users have updated their hashed passwords, I saw that mine is not updated. So, I tried to log-out and -in, and me password is not updated with the new hash algo.  But, in the code, I saw that the password is forced to be updated in the check_password function, so I tried to login again, with a bad password but a correct OTP, and it was successful.  I do not know if this is a bug, or (weirdly?) if a correct OTP is co..." />
<meta property="article:published_time" content="2021-03-11T22:01:07+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="/">
          <h1>Tiny Tiny RSS: Community</h1>
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discourse.tt-rss.org/c/tiny-tiny-rss/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Tiny Tiny RSS</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discourse.tt-rss.org/c/tiny-tiny-rss/support/5" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #652D90'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/GregThib'><span itemprop='name'>GregThib</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-11T22:01:07Z' class='post-time'>
                March 11, 2021, 10:01pm
              </time>
              <meta itemprop='dateModified' content='2021-03-12T04:51:53Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Using v21.03-a4da2f1e6 updated via git</p>
<hr>
<h2>Problem</h2>
<p>When checking in database if my users have updated their hashed passwords, I saw that mine is not updated. So, I tried to log-out and -in, and me password is not updated with the new hash algo.<br>
But, in the code, I saw that the password is forced to be updated in the check_password function, so I tried to login again, with a bad password but a correct OTP, and it was successful.</p>
<p>I do not know if this is a bug, or (weirdly?) if a correct OTP is considered sufficient to login to TT-RSS.</p>
<h2>Reproducing the problem:</h2>
<ol>
<li>Enable OTP for a user</li>
<li>Logout</li>
<li>Login with the user and a bad password</li>
<li>Enter a correct OTP</li>
</ol>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/fox'><span itemprop='name'>fox</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T04:35:21Z' class='post-time'>
                March 12, 2021,  4:35am
              </time>
              <meta itemprop='dateModified' content='2021-03-12T04:56:40Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="GregThib" data-post="1" data-topic="4502">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://discourse.tt-rss.org/letter_avatar_proxy/v4/letter/g/8baadc/40.png" class="avatar"> GregThib:</div>
<blockquote>
<p>if a correct OTP is considered sufficient to login to TT-RSS.</p>
</blockquote>
</aside>
<p>yep. my bad. everyone should probably update right now.</p>
<p><a href="https://git.tt-rss.org/fox/tt-rss/commit/4949e1a59059d9e72ba7a98f783cec312c06c6d2" class="onebox" target="_blank" rel="noopener">https://git.tt-rss.org/fox/tt-rss/commit/4949e1a59059d9e72ba7a98f783cec312c06c6d2</a></p>
<p>blunder of the century, etc, etc. <img src="https://discourse.tt-rss.org/images/emoji/google_classic/cry.png?v=9" title=":cry:" class="emoji" alt=":cry:"></p>
<p>btw, this is the kind of stuff best reported in private. imagine if it was something easier exploitable, your public report gave everyone 7 hours to play around with it (and more, until people update).</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/fox'><span itemprop='name'>fox</span></a>
            
              pinned globally 
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T04:52:02Z' class='post-time'>
                March 12, 2021,  4:52am
              </time>
              <meta itemprop='dateModified' content='2021-03-12T04:52:02Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/markwaters'><span itemprop='name'>markwaters</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T05:40:36Z' class='post-time'>
                March 12, 2021,  5:40am
              </time>
              <meta itemprop='dateModified' content='2021-03-12T05:40:36Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you <a class="mention" href="/u/gregthib">@GregThib</a> for finding this and <a class="mention" href="/u/fox">@fox</a> for fixing it so quickly!</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/GregThib'><span itemprop='name'>GregThib</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T08:47:01Z' class='post-time'>
                March 12, 2021,  8:47am
              </time>
              <meta itemprop='dateModified' content='2021-03-12T08:47:01Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Oh yes, you are right.</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/daniel'><span itemprop='name'>daniel</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T09:10:07Z' class='post-time'>
                March 12, 2021,  9:10am
              </time>
              <meta itemprop='dateModified' content='2021-03-12T09:10:07Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Someone should probably request a CVE for this</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/fox'><span itemprop='name'>fox</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T09:22:24Z' class='post-time'>
                March 12, 2021,  9:22am
              </time>
              <meta itemprop='dateModified' content='2021-03-12T09:22:24Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>i’m not gonna bother but here’s the timeline</p>
<pre><code class="lang-auto">4949e1a590 plugins/auth_internal/init.php (Andrew Dolgov 2021-03-12 07:32:15 +0300  53)                                         if ($this-&gt;check_password($user_id, $password) &amp;&amp; UserHelper::check_otp($user_id, $otp))
3fd7856543 plugins/auth_internal/init.php (Andrew Dolgov 2021-02-26 19:16:17 +0300  54)
        return $user_id;
</code></pre>
<p>fixed, introduced</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/daniel'><span itemprop='name'>daniel</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T09:23:28Z' class='post-time'>
                March 12, 2021,  9:23am
              </time>
              <meta itemprop='dateModified' content='2021-03-12T09:23:28Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Okay, I will do this</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/daniel'><span itemprop='name'>daniel</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T09:58:59Z' class='post-time'>
                March 12, 2021,  9:58am
              </time>
              <meta itemprop='dateModified' content='2021-03-12T09:58:59Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Submitted. I’ll update here when I receive the CVE ID</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/Jeremy11one'><span itemprop='name'>Jeremy11one</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T17:25:42Z' class='post-time'>
                March 12, 2021,  5:25pm
              </time>
              <meta itemprop='dateModified' content='2021-03-12T17:25:42Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks everyone for your work.  I have always wondered though why fox and others put so much work into security for TT-RSS.  What are people using TT-RSS for that warrants so much security, like getting a CVE for this, using OTP for logins, and the csrf protections?</p>
<p>I use TT-RSS to read news, changelogs, comics, announcements, etc.  I want it to be secure so hackers don’t mess up my settings and mark things as read before I read them, but those would just be annoyances that I’d fix using web server level password protection.</p>
<p>I wish other OSS projects would put this level of effort into their programs’ security.</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/fox'><span itemprop='name'>fox</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T17:37:34Z' class='post-time'>
                March 12, 2021,  5:37pm
              </time>
              <meta itemprop='dateModified' content='2021-03-12T17:37:34Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Jeremy11one" data-post="10" data-topic="4502">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://discourse.tt-rss.org/letter_avatar_proxy/v4/letter/j/919ad9/40.png" class="avatar"> Jeremy11one:</div>
<blockquote>
<p>What are people using TT-RSS for that warrants so much security, like getting a CVE for this, using OTP for logins, and the csrf protections?</p>
</blockquote>
</aside>
<p>tbh i’m largely in the same boat.</p>
<p>i wouldn’t bother with a cve (i have no idea where one would get it anyway), i don’t use otp for tt-rss because who cares, the only thing that’s really unavoidable is csrf, if there’s any internet content involved.</p>
<aside class="quote no-group" data-username="Jeremy11one" data-post="10" data-topic="4502">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://discourse.tt-rss.org/letter_avatar_proxy/v4/letter/j/919ad9/40.png" class="avatar"> Jeremy11one:</div>
<blockquote>
<p>mark things as read before I read them</p>
</blockquote>
</aside>
<p>yeah this is pretty much the extent of horrific exploits possible via properly containerized tt-rss.</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/JustAMacUser'><span itemprop='name'>JustAMacUser</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T17:46:28Z' class='post-time'>
                March 12, 2021,  5:46pm
              </time>
              <meta itemprop='dateModified' content='2021-03-12T17:46:28Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Jeremy11one" data-post="10" data-topic="4502">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://discourse.tt-rss.org/letter_avatar_proxy/v4/letter/j/919ad9/40.png" class="avatar"> Jeremy11one:</div>
<blockquote>
<p>What are people using TT-RSS for that warrants so much security, like getting a CVE for this, using OTP for logins, and the csrf protections?</p>
</blockquote>
</aside>
<p>Why is everyone understating the value of daily comics? <img src="https://discourse.tt-rss.org/images/emoji/google_classic/smirk.png?v=9" title=":smirk:" class="emoji" alt=":smirk:"></p>
<p>I don’t even use passwords… I just use certificates to authenticate. It’s annoying to setup, but it’s a one time thing and then I never have to “login” to TT-RSS, I just visit the web site and read.</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/fox'><span itemprop='name'>fox</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T17:48:04Z' class='post-time'>
                March 12, 2021,  5:48pm
              </time>
              <meta itemprop='dateModified' content='2021-03-12T17:48:04Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="JustAMacUser" data-post="12" data-topic="4502">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://discourse.tt-rss.org/user_avatar/discourse.tt-rss.org/justamacuser/40/67_2.png" class="avatar"> JustAMacUser:</div>
<blockquote>
<p>Why is everyone understating the value of daily comics? <img src="https://discourse.tt-rss.org/images/emoji/google_classic/smirk.png?v=9" title=":smirk:" class="emoji" alt=":smirk:"></p>
</blockquote>
</aside>
<p>this guy gets it. i could get by with md5 unsalted passwords but i can’t survive without af_comics.</p>
<p>e: its a shame after tumblr died many people moved to instagram which is apparently pretty much impossible to scrape. tumblr had rss feeds. good times.</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/daniel'><span itemprop='name'>daniel</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T19:21:35Z' class='post-time'>
                March 12, 2021,  7:21pm
              </time>
              <meta itemprop='dateModified' content='2021-03-12T19:21:35Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hey! I’m a security researcher, so I am a bit biased, but here’s my take on it:</p>
<p>Good security is done in layers (see <a href="https://en.wikipedia.org/wiki/Swiss_cheese_model" rel="noopener nofollow ugc">swiss cheese model</a>). An extreme example would be someone compromising the TT-RSS instance, gaining RCE (Remote Code Execution), and using a Docker escape exploit to breach the entire server running the Docker daemon.</p>
<p>Assuming the Docker installation is safe, there are still risks in compromising the TT-RSS instance, <a href="https://www.digeex.de/blog/tinytinyrss/" rel="noopener nofollow ugc">as shown in our previous research where we could gain RCE</a>. We were able to use a combination of relatively low-impact bugs to compromise the entire installation. In this example, an attacker with access to a popular RSS feed could run arbitrary code on all TT-RSS clients subscribed to this feed, thus making it possible to build a botnet for other nefarious purposes. I encourage you to read the report if you want to know more about it.</p>
<p>Coming back to the current vulnerability, the impact is obviously low. But requesting a CVE still has positive value for internet security. Whether fox likes it or not, many Linux distributions package their own TT-RSS, which is rarely updated. I saw some developers fixed the issues we discovered few months after we made the report public, and that was for an RCE. By issuing a public CVE identifier, we make them aware of existing security issues, increasing the chance they’ll update.</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Tiny Tiny RSS: Community'>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://discourse.tt-rss.org/u/daniel'><span itemprop='name'>daniel</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://discourse.tt-rss.org/t/check-password-not-called-if-otp-is-enabled-update-asap-if-youre-using-2fa/4502">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-13T20:45:16Z' class='post-time'>
                March 13, 2021,  8:45pm
              </time>
              <meta itemprop='dateModified' content='2021-03-13T20:45:16Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>CVE-2021-28373 is assigned to this issue.</p>
        </div>

        <meta itemprop='headline' content='Check_password not called if OTP is enabled - update ASAP if you&#39;re using 2FA'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
