<!DOCTYPE html>
<html lang="en">
<head>
  <meta id="bb-bootstrap" data-current-user="{&quot;isKbdShortcutsEnabled&quot;: true, &quot;isSshEnabled&quot;: false, &quot;isAuthenticated&quot;: false}"
 />
  <script nonce="Jhlf1PkCp7LZVTQd6L1rjQ==">

if (window.performance) {

  
  window.performance.okayToSendMetrics = !document.hidden && 'onvisibilitychange' in document;

  if (window.performance.okayToSendMetrics) {

    
    window.addEventListener('visibilitychange', function () {
      if (document.hidden) {
        window.performance.okayToSendMetrics = false;
      }
    });
  }

  
  
}
</script>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <title>
  naviserver / naviserver 
  / commit / a5c3079f1d89
 &mdash; Bitbucket
</title>
  <script nonce="Jhlf1PkCp7LZVTQd6L1rjQ==" type="text/javascript">(window.NREUM||(NREUM={})).init={privacy:{cookies_enabled:false},ajax:{deny_list:["bam-cell.nr-data.net"]}};(window.NREUM||(NREUM={})).loader_config={xpid:"VwMGVVZSGwQJVFVXDwcPXg==",licenseKey:"a2cef8c3d3",applicationID:"790458688"};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var i=e[n]={exports:{}};t[n][0].call(i.exports,function(e){var i=t[n][1][e];return r(i||e)},i,i.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<n.length;i++)r(n[i]);return r}({1:[function(t,e,n){function r(t){try{s.console&&console.log(t)}catch(e){}}var i,o=t("ee"),a=t(26),s={};try{i=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,i.indexOf("dev")!==-1&&(s.dev=!0),i.indexOf("nr_dev")!==-1&&(s.nrDev=!0))}catch(c){}s.nrDev&&o.on("internal-error",function(t){r(t.stack)}),s.dev&&o.on("fn-err",function(t,e,n){r(n.stack)}),s.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(s,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,s){try{p?p-=1:i(s||new UncaughtException(t,e,n),!0)}catch(f){try{o("ierr",[f,c.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function i(t,e){var n=e?null:c.now();o("err",[t,n])}var o=t("handle"),a=t(27),s=t("ee"),c=t("loader"),f=t("gos"),u=window.onerror,d=!1,l="nr@seenError";if(!c.disabled){var p=0;c.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(h){"stack"in h&&(t(10),t(9),"addEventListener"in window&&t(6),c.xhrWrappable&&t(11),d=!0)}s.on("fn-start",function(t,e,n){d&&(p+=1)}),s.on("fn-err",function(t,e,n){d&&!n[l]&&(f(n,l,function(){return!0}),this.thrown=!0,i(n))}),s.on("fn-end",function(){d&&!this.thrown&&p>0&&(p-=1)}),s.on("internal-error",function(t){o("ierr",[t,c.now(),!0])})}},{}],3:[function(t,e,n){var r=t("loader");r.disabled||(r.features.ins=!0)},{}],4:[function(t,e,n){function r(){var t=new PerformanceObserver(function(t,e){var n=t.getEntries();s(m,[n])});try{t.observe({entryTypes:["resource"]})}catch(e){}}function i(t){if(s(m,[window.performance.getEntriesByType(w)]),window.performance["c"+d])try{window.performance[p](h,i,!1)}catch(t){}else try{window.performance[p]("webkit"+h,i,!1)}catch(t){}}function o(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var a=t("ee"),s=t("handle"),c=t(10),f=t(9),u=t(5),d="learResourceTimings",l="addEventListener",p="removeEventListener",h="resourcetimingbufferfull",m="bstResource",w="resource",v="-start",g="-end",y="fn"+v,x="fn"+g,b="bstTimer",E="pushState",R=t("loader");if(!R.disabled){R.features.stn=!0,t(8),"addEventListener"in window&&t(6);var O=NREUM.o.EV;a.on(y,function(t,e){var n=t[0];n instanceof O&&(this.bstStart=R.now())}),a.on(x,function(t,e){var n=t[0];n instanceof O&&s("bst",[n,e,this.bstStart,R.now()])}),c.on(y,function(t,e,n){this.bstStart=R.now(),this.bstType=n}),c.on(x,function(t,e){s(b,[e,this.bstStart,R.now(),this.bstType])}),f.on(y,function(){this.bstStart=R.now()}),f.on(x,function(t,e){s(b,[e,this.bstStart,R.now(),"requestAnimationFrame"])}),a.on(E+v,function(t){this.time=R.now(),this.startPath=location.pathname+location.hash}),a.on(E+g,function(t){s("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),u()?(s(m,[window.performance.getEntriesByType("resource")]),r()):l in window.performance&&(window.performance["c"+d]?window.performance[l](h,i,!1):window.performance[l]("webkit"+h,i,!1)),document[l]("scroll",o,{passive:!0}),document[l]("keypress",o,!1),document[l]("click",o,!1)}}},{}],5:[function(t,e,n){e.exports=function(){return"PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&i(e)}function i(t){s.inPlace(t,[u,d],"-",o)}function o(t,e){return t[1]}var a=t("ee").get("events"),s=t("wrap-function")(a,!0),c=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(i(window),i(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=c(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?s(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=o(arguments),e={};i.emit(n+"before-start",[t],e);var a;e[m]&&e[m].dt&&(a=e[m].dt);var s=r.apply(this,t);return i.emit(n+"start",[t,a],s),s.then(function(t){return i.emit(n+"end",[null,t],s),t},function(t){throw i.emit(n+"end",[t],s),t})})}var i=t("ee").get("fetch"),o=t(27),a=t(26);e.exports=i;var s=window,c="fetch-",f=c+"body-",u=["arrayBuffer","blob","json","text","formData"],d=s.Request,l=s.Response,p=s.fetch,h="prototype",m="nr@context";d&&l&&p&&(a(u,function(t,e){r(d[h],e,f),r(l[h],e,f)}),r(s,"fetch",c),i.on(c+"end",function(t,e){var n=this;if(e){var r=e.headers.get("content-length");null!==r&&(n.rxSize=r),i.emit(c+"done",[null,e],n)}else i.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),i=t("wrap-function")(r);e.exports=r;var o=window.history&&window.history.constructor&&window.history.constructor.prototype,a=window.history;o&&o.pushState&&o.replaceState&&(a=o),i.inPlace(a,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){var r=t("ee").get("raf"),i=t("wrap-function")(r),o="equestAnimationFrame";e.exports=r,i.inPlace(window,["r"+o,"mozR"+o,"webkitR"+o,"msR"+o],"raf-"),r.on("raf-start",function(t){t[0]=i(t[0],"fn-")})},{}],10:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function i(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,n)}var o=t("ee").get("timer"),a=t("wrap-function")(o),s="setTimeout",c="setInterval",f="clearTimeout",u="-start",d="-";e.exports=o,a.inPlace(window,[s,"setImmediate"],s+d),a.inPlace(window,[c],c+d),a.inPlace(window,[f,"clearImmediate"],f+d),o.on(c+u,r),o.on(s+u,i)},{}],11:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",s)}function i(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,g,"fn-",s)}function o(t){y.push(t),h&&(b?b.then(a):w?w(a):(E=-E,R.data=E))}function a(){for(var t=0;t<y.length;t++)r([],y[t]);y.length&&(y=[])}function s(t,e){return e}function c(t,e){for(var n in t)e[n]=t[n];return e}t(6);var f=t("ee"),u=f.get("xhr"),d=t("wrap-function")(u),l=NREUM.o,p=l.XHR,h=l.MO,m=l.PR,w=l.SI,v="readystatechange",g=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],y=[];e.exports=u;var x=window.XMLHttpRequest=function(t){var e=new p(t);try{u.emit("new-xhr",[e],e),e.addEventListener(v,i,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(c(p,x),x.prototype=p.prototype,d.inPlace(x.prototype,["open","send"],"-xhr-",s),u.on("send-xhr-start",function(t,e){r(t,e),o(e)}),u.on("open-xhr-start",r),h){var b=m&&m.resolve();if(!w&&!m){var E=1,R=document.createTextNode(E);new h(a).observe(R,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===v||a()})},{}],12:[function(t,e,n){function r(t){if(!s(t))return null;var e=window.NREUM;if(!e.loader_config)return null;var n=(e.loader_config.accountID||"").toString()||null,r=(e.loader_config.agentID||"").toString()||null,f=(e.loader_config.trustKey||"").toString()||null;if(!n||!r)return null;var h=p.generateSpanId(),m=p.generateTraceId(),w=Date.now(),v={spanId:h,traceId:m,timestamp:w};return(t.sameOrigin||c(t)&&l())&&(v.traceContextParentHeader=i(h,m),v.traceContextStateHeader=o(h,w,n,r,f)),(t.sameOrigin&&!u()||!t.sameOrigin&&c(t)&&d())&&(v.newrelicHeader=a(h,m,w,n,r,f)),v}function i(t,e){return"00-"+e+"-"+t+"-01"}function o(t,e,n,r,i){var o=0,a="",s=1,c="",f="";return i+"@nr="+o+"-"+s+"-"+n+"-"+r+"-"+t+"-"+a+"-"+c+"-"+f+"-"+e}function a(t,e,n,r,i,o){var a="btoa"in window&&"function"==typeof window.btoa;if(!a)return null;var s={v:[0,1],d:{ty:"Browser",ac:r,ap:i,id:t,tr:e,ti:n}};return o&&r!==o&&(s.d.tk=o),btoa(JSON.stringify(s))}function s(t){return f()&&c(t)}function c(t){var e=!1,n={};if("init"in NREUM&&"distributed_tracing"in NREUM.init&&(n=NREUM.init.distributed_tracing),t.sameOrigin)e=!0;else if(n.allowed_origins instanceof Array)for(var r=0;r<n.allowed_origins.length;r++){var i=h(n.allowed_origins[r]);if(t.hostname===i.hostname&&t.protocol===i.protocol&&t.port===i.port){e=!0;break}}return e}function f(){return"init"in NREUM&&"distributed_tracing"in NREUM.init&&!!NREUM.init.distributed_tracing.enabled}function u(){return"init"in NREUM&&"distributed_tracing"in NREUM.init&&!!NREUM.init.distributed_tracing.exclude_newrelic_header}function d(){return"init"in NREUM&&"distributed_tracing"in NREUM.init&&NREUM.init.distributed_tracing.cors_use_newrelic_header!==!1}function l(){return"init"in NREUM&&"distributed_tracing"in NREUM.init&&!!NREUM.init.distributed_tracing.cors_use_tracecontext_headers}var p=t(23),h=t(14);e.exports={generateTracePayload:r,shouldGenerateTrace:s}},{}],13:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<l;r++)t.removeEventListener(d[r],this.listener,!1);e.aborted||(n.duration=a.now()-this.startTime,this.loadCaptureCalled||4!==t.readyState?null==e.status&&(e.status=0):o(this,t),n.cbTime=this.cbTime,s("xhr",[e,n,this.startTime,this.endTime,"xhr"],this))}}function i(t,e){var n=c(e),r=t.params;r.hostname=n.hostname,r.port=n.port,r.protocol=n.protocol,r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.parsedOrigin=n,t.sameOrigin=n.sameOrigin}function o(t,e){t.params.status=e.status;var n=w(e,t.lastSize);if(n&&(t.metrics.rxSize=n),t.sameOrigin){var r=e.getResponseHeader("X-NewRelic-App-Data");r&&(t.params.cat=r.split(", ").pop())}t.loadCaptureCalled=!0}var a=t("loader");if(a.xhrWrappable&&!a.disabled){var s=t("handle"),c=t(14),f=t(12).generateTracePayload,u=t("ee"),d=["load","error","abort","timeout"],l=d.length,p=t("id"),h=t(19),m=t(18),w=t(15),v=NREUM.o.REQ,g=window.XMLHttpRequest;a.features.xhr=!0,t(11),t(7),u.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,e.loadCaptureCalled=!1,e.params=this.params||{},e.metrics=this.metrics||{},t.addEventListener("load",function(n){o(e,t)},!1),h&&(h>34||h<10)||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),u.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),u.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid);var n=f(this.parsedOrigin);if(n){var r=!1;n.newrelicHeader&&(e.setRequestHeader("newrelic",n.newrelicHeader),r=!0),n.traceContextParentHeader&&(e.setRequestHeader("traceparent",n.traceContextParentHeader),n.traceContextStateHeader&&e.setRequestHeader("tracestate",n.traceContextStateHeader),r=!0),r&&(this.dt=n)}}),u.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],i=this;if(n&&r){var o=m(r);o&&(n.txSize=o)}this.startTime=a.now(),this.listener=function(t){try{"abort"!==t.type||i.loadCaptureCalled||(i.params.aborted=!0),("load"!==t.type||i.called===i.totalCbs&&(i.onloadCalled||"function"!=typeof e.onload))&&i.end(e)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}};for(var s=0;s<l;s++)e.addEventListener(d[s],this.listener,!1)}),u.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),u.on("xhr-load-added",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),u.on("xhr-load-removed",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),u.on("xhr-resolved",function(){this.endTime=a.now()}),u.on("addEventListener-end",function(t,e){e instanceof g&&"load"===t[0]&&u.emit("xhr-load-added",[t[1],t[2]],e)}),u.on("removeEventListener-end",function(t,e){e instanceof g&&"load"===t[0]&&u.emit("xhr-load-removed",[t[1],t[2]],e)}),u.on("fn-start",function(t,e,n){e instanceof g&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),u.on("fn-end",function(t,e){this.xhrCbStart&&u.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,e],e)}),u.on("fetch-before-start",function(t){function e(t,e){var n=!1;return e.newrelicHeader&&(t.set("newrelic",e.newrelicHeader),n=!0),e.traceContextParentHeader&&(t.set("traceparent",e.traceContextParentHeader),e.traceContextStateHeader&&t.set("tracestate",e.traceContextStateHeader),n=!0),n}var n,r=t[1]||{};"string"==typeof t[0]?n=t[0]:t[0]&&t[0].url?n=t[0].url:window.URL&&t[0]&&t[0]instanceof URL&&(n=t[0].href),n&&(this.parsedOrigin=c(n),this.sameOrigin=this.parsedOrigin.sameOrigin);var i=f(this.parsedOrigin);if(i&&(i.newrelicHeader||i.traceContextParentHeader))if("string"==typeof t[0]||window.URL&&t[0]&&t[0]instanceof URL){var o={};for(var a in r)o[a]=r[a];o.headers=new Headers(r.headers||{}),e(o.headers,i)&&(this.dt=i),t.length>1?t[1]=o:t.push(o)}else t[0]&&t[0].headers&&e(t[0].headers,i)&&(this.dt=i)}),u.on("fetch-start",function(t,e){this.params={},this.metrics={},this.startTime=a.now(),this.dt=e,t.length>=1&&(this.target=t[0]),t.length>=2&&(this.opts=t[1]);var n,r=this.opts||{},o=this.target;"string"==typeof o?n=o:"object"==typeof o&&o instanceof v?n=o.url:window.URL&&"object"==typeof o&&o instanceof URL&&(n=o.href),i(this,n);var s=(""+(o&&o instanceof v&&o.method||r.method||"GET")).toUpperCase();this.params.method=s,this.txSize=m(r.body)||0}),u.on("fetch-done",function(t,e){this.endTime=a.now(),this.params||(this.params={}),this.params.status=e?e.status:0;var n;"string"==typeof this.rxSize&&this.rxSize.length>0&&(n=+this.rxSize);var r={txSize:this.txSize,rxSize:n,duration:a.now()-this.startTime};s("xhr",[this.params,r,this.startTime,this.endTime,"fetch"],this)})}},{}],14:[function(t,e,n){var r={};e.exports=function(t){if(t in r)return r[t];var e=document.createElement("a"),n=window.location,i={};e.href=t,i.port=e.port;var o=e.href.split("://");!i.port&&o[1]&&(i.port=o[1].split("/")[0].split("@").pop().split(":")[1]),i.port&&"0"!==i.port||(i.port="https"===o[0]?"443":"80"),i.hostname=e.hostname||n.hostname,i.pathname=e.pathname,i.protocol=o[0],"/"!==i.pathname.charAt(0)&&(i.pathname="/"+i.pathname);var a=!e.protocol||":"===e.protocol||e.protocol===n.protocol,s=e.hostname===document.domain&&e.port===n.port;return i.sameOrigin=a&&(!e.hostname||s),"/"===i.pathname&&(r[t]=i),i}},{}],15:[function(t,e,n){function r(t,e){var n=t.responseType;return"json"===n&&null!==e?e:"arraybuffer"===n||"blob"===n||"json"===n?i(t.response):"text"===n||""===n||void 0===n?i(t.responseText):void 0}var i=t(18);e.exports=r},{}],16:[function(t,e,n){function r(){}function i(t,e,n){return function(){return o(t,[f.now()].concat(s(arguments)),e?null:this,n),e?void 0:this}}var o=t("handle"),a=t(26),s=t(27),c=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",p=l+"ixn-";a(d,function(t,e){u[e]=i(l+e,!0,"api")}),u.addPageAction=i(l+"addPageAction",!0),u.setCurrentRouteName=i(l+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new r).get()};var h=r.prototype={createTracer:function(t,e){var n={},r=this,i="function"==typeof e;return o(p+"tracer",[f.now(),t,n],r),function(){if(c.emit((i?"":"no-")+"fn-start",[f.now(),r,i],n),i)try{return e.apply(this,arguments)}catch(t){throw c.emit("fn-err",[arguments,this,t],n),t}finally{c.emit("fn-end",[f.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){h[e]=i(p+e)}),newrelic.noticeError=function(t,e){"string"==typeof t&&(t=new Error(t)),o("err",[t,f.now(),!1,e])}},{}],17:[function(t,e,n){function r(t){if(NREUM.init){for(var e=NREUM.init,n=t.split("."),r=0;r<n.length-1;r++)if(e=e[n[r]],"object"!=typeof e)return;return e=e[n[n.length-1]]}}e.exports={getConfiguration:r}},{}],18:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],19:[function(t,e,n){var r=0,i=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);i&&(r=+i[1]),e.exports=r},{}],20:[function(t,e,n){function r(){return s.exists&&performance.now?Math.round(performance.now()):(o=Math.max((new Date).getTime(),o))-a}function i(){return o}var o=(new Date).getTime(),a=o,s=t(28);e.exports=r,e.exports.offset=a,e.exports.getLastTimestamp=i},{}],21:[function(t,e,n){function r(t){return!(!t||!t.protocol||"file:"===t.protocol)}e.exports=r},{}],22:[function(t,e,n){function r(t,e){var n=t.getEntries();n.forEach(function(t){"first-paint"===t.name?d("timing",["fp",Math.floor(t.startTime)]):"first-contentful-paint"===t.name&&d("timing",["fcp",Math.floor(t.startTime)])})}function i(t,e){var n=t.getEntries();n.length>0&&d("lcp",[n[n.length-1]])}function o(t){t.getEntries().forEach(function(t){t.hadRecentInput||d("cls",[t])})}function a(t){if(t instanceof h&&!w){var e=Math.round(t.timeStamp),n={type:t.type};e<=l.now()?n.fid=l.now()-e:e>l.offset&&e<=Date.now()?(e-=l.offset,n.fid=l.now()-e):e=l.now(),w=!0,d("timing",["fi",e,n])}}function s(t){"hidden"===t&&d("pageHide",[l.now()])}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var c,f,u,d=t("handle"),l=t("loader"),p=t(25),h=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){c=new PerformanceObserver(r);try{c.observe({entryTypes:["paint"]})}catch(m){}f=new PerformanceObserver(i);try{f.observe({entryTypes:["largest-contentful-paint"]})}catch(m){}u=new PerformanceObserver(o);try{u.observe({type:"layout-shift",buffered:!0})}catch(m){}}if("addEventListener"in document){var w=!1,v=["click","keydown","mousedown","pointerdown","touchstart"];v.forEach(function(t){document.addEventListener(t,a,!1)})}p(s)}},{}],23:[function(t,e,n){function r(){function t(){return e?15&e[n++]:16*Math.random()|0}var e=null,n=0,r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(e=r.getRandomValues(new Uint8Array(31)));for(var i,o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",a="",s=0;s<o.length;s++)i=o[s],"x"===i?a+=t().toString(16):"y"===i?(i=3&t()|8,a+=i.toString(16)):a+=i;return a}function i(){return a(16)}function o(){return a(32)}function a(t){function e(){return n?15&n[r++]:16*Math.random()|0}var n=null,r=0,i=window.crypto||window.msCrypto;i&&i.getRandomValues&&Uint8Array&&(n=i.getRandomValues(new Uint8Array(31)));for(var o=[],a=0;a<t;a++)o.push(e().toString(16));return o.join("")}e.exports={generateUuid:r,generateSpanId:i,generateTraceId:o}},{}],24:[function(t,e,n){function r(t,e){if(!i)return!1;if(t!==i)return!1;if(!e)return!0;if(!o)return!1;for(var n=o.split("."),r=e.split("."),a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var s=navigator.userAgent,c=s.match(a);c&&s.indexOf("Chrome")===-1&&s.indexOf("Chromium")===-1&&(i="Safari",o=c[1])}e.exports={agent:i,version:o,match:r}},{}],25:[function(t,e,n){function r(t){function e(){t(a&&document[a]?document[a]:document[i]?"hidden":"visible")}"addEventListener"in document&&o&&document.addEventListener(o,e,!1)}e.exports=r;var i,o,a;"undefined"!=typeof document.hidden?(i="hidden",o="visibilitychange",a="visibilityState"):"undefined"!=typeof document.msHidden?(i="msHidden",o="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i="webkitHidden",o="webkitvisibilitychange",a="webkitVisibilityState")},{}],26:[function(t,e,n){function r(t,e){var n=[],r="",o=0;for(r in t)i.call(t,r)&&(n[o]=e(r,t[r]),o+=1);return n}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],27:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(i<0?0:i);++r<i;)o[r]=t[e+r];return o}e.exports=r},{}],28:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(t,e,n){function r(){}function i(t){function e(t){return t&&t instanceof r?t:t?f(t,c,a):a()}function n(n,r,i,o,a){if(a!==!1&&(a=!0),!p.aborted||o){t&&a&&t(n,r,i);for(var s=e(i),c=m(n),f=c.length,u=0;u<f;u++)c[u].apply(s,r);var l=d[y[n]];return l&&l.push([x,n,r,s]),s}}function o(t,e){g[t]=m(t).concat(e)}function h(t,e){var n=g[t];if(n)for(var r=0;r<n.length;r++)n[r]===e&&n.splice(r,1)}function m(t){return g[t]||[]}function w(t){return l[t]=l[t]||i(n)}function v(t,e){p.aborted||u(t,function(t,n){e=e||"feature",y[n]=e,e in d||(d[e]=[])})}var g={},y={},x={on:o,addEventListener:o,removeEventListener:h,emit:n,get:w,listeners:m,context:e,buffer:v,abort:s,aborted:!1};return x}function o(t){return f(t,c,a)}function a(){return new r}function s(){(d.api||d.feature)&&(p.aborted=!0,d=p.backlog={})}var c="nr@context",f=t("gos"),u=t(26),d={},l={},p=e.exports=i();e.exports.getOrSetContext=o,p.backlog=d},{}],gos:[function(t,e,n){function r(t,e,n){if(i.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return t[e]=r,r}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){i.buffer([t],r),i.emit(t,e,n)}var i=t("ee").get("handle");e.exports=r,r.ee=i},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,o,function(){return i++})}var i=1,o="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!S++){var t=O.info=NREUM.info,e=m.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return f.abort();c(E,function(e,n){t[e]||(t[e]=n)});var n=a();s("mark",["onload",n+O.offset],null,"api"),s("timing",["load",n]);var r=m.createElement("script");0===t.agent.indexOf("http://")||0===t.agent.indexOf("https://")?r.src=t.agent:r.src=p+"://"+t.agent,e.parentNode.insertBefore(r,e)}}function i(){"complete"===m.readyState&&o()}function o(){s("mark",["domContent",a()+O.offset],null,"api")}var a=t(20),s=t("handle"),c=t(26),f=t("ee"),u=t(24),d=t(21),l=t(17),p=l.getConfiguration("ssl")===!1?"http":"https",h=window,m=h.document,w="addEventListener",v="attachEvent",g=h.XMLHttpRequest,y=g&&g.prototype,x=!d(h.location);NREUM.o={ST:setTimeout,SI:h.setImmediate,CT:clearTimeout,XHR:g,REQ:h.Request,EV:h.Event,PR:h.Promise,MO:h.MutationObserver};var b=""+location,E={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1211.min.js"},R=g&&y&&y[w]&&!/CriOS/.test(navigator.userAgent),O=e.exports={offset:a.getLastTimestamp(),now:a,origin:b,features:{},xhrWrappable:R,userAgent:u,disabled:x};if(!x){t(16),t(22),m[w]?(m[w]("DOMContentLoaded",o,!1),h[w]("load",r,!1)):(m[v]("onreadystatechange",i),h[v]("onload",r)),s("mark",["firstbyte",a.getLastTimestamp()],null,"api");var S=0}},{}],"wrap-function":[function(t,e,n){function r(t,e){function n(e,n,r,c,f){function nrWrapper(){var o,a,u,l;try{a=this,o=d(arguments),u="function"==typeof r?r(o,a):r||{}}catch(p){i([p,"",[o,a,c],u],t)}s(n+"start",[o,a,c],u,f);try{return l=e.apply(a,o)}catch(h){throw s(n+"err",[o,a,h],u,f),h}finally{s(n+"end",[o,a,l],u,f)}}return a(e)?e:(n||(n=""),nrWrapper[l]=e,o(e,nrWrapper,t),nrWrapper)}function r(t,e,r,i,o){r||(r="");var s,c,f,u="-"===r.charAt(0);for(f=0;f<e.length;f++)c=e[f],s=t[c],a(s)||(t[c]=n(s,u?c+r:r,i,c,o))}function s(n,r,o,a){if(!h||e){var s=h;h=!0;try{t.emit(n,r,o,e,a)}catch(c){i([c,n,r,o],t)}h=s}}return t||(t=u),n.inPlace=r,n.flag=l,n}function i(t,e){e||(e=u);try{e.emit("internal-error",t)}catch(n){}}function o(t,e,n){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(t);return r.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(o){i([o],n)}for(var a in t)p.call(t,a)&&(e[a]=t[a]);return e}function a(t){return!(t&&t instanceof Function&&t.apply&&!t[l])}function s(t,e){var n=e(t);return n[l]=t,o(t,n,u),n}function c(t,e,n){var r=t[e];t[e]=s(r,n)}function f(){for(var t=arguments.length,e=new Array(t),n=0;n<t;++n)e[n]=arguments[n];return e}var u=t("ee"),d=t(27),l="nr@original",p=Object.prototype.hasOwnProperty,h=!1;e.exports=r,e.exports.wrapFunction=s,e.exports.wrapInPlace=c,e.exports.argsToArray=f},{}]},{},["loader",2,13,4,3]);</script>
  


<meta name="bb-env" content="production" />
<meta id="bb-canon-url" name="bb-canon-url" content="https://bitbucket.org">
<meta name="bb-api-canon-url" content="https://api.bitbucket.org">



<meta name="bitbucket-commit-hash" content="4d3d6d8dd2c3">
<meta name="bb-app-node" content="6c7138813981">
<meta name="bb-dce-env" content="microsbucket">
<meta name="bb-view-name" content="bitbucket.apps.repo2.views.changeset">
<meta name="ignore-whitespace" content="False">
<meta name="tab-size" content="None">
<meta name="locale" content="en">
<meta name="application-name" content="Bitbucket">
<meta name="apple-mobile-web-app-title" content="Bitbucket">
<meta name="slack-app-id" content="A8W8QLZD1">
<meta name="statuspage-api-host" content="https://bqlf8qjztdtr.statuspage.io">


<meta name="theme-color" content="#0049B0">
<meta name="msapplication-TileColor" content="#0052CC">
<meta name="msapplication-TileImage" content="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/logos/bitbucket/mstile-150x150.png">
<link rel="apple-touch-icon" sizes="180x180" type="image/png" href="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/logos/bitbucket/apple-touch-icon.png">
<link rel="icon" sizes="192x192" type="image/png" href="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/logos/bitbucket/android-chrome-192x192.png">

<link rel="icon" sizes="16x16 24x24 32x32 64x64" type="image/x-icon" href="/favicon.ico?v=2">
<link rel="mask-icon" href="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/logos/bitbucket/safari-pinned-tab.svg" color="#0052CC">

<link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Bitbucket">

  <meta name="description" content="">
  
  
    


<link rel="stylesheet" href="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/css/entry/vendor-aui-8.css" />
<link rel="stylesheet" href="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/css/entry/app.css" />


<link rel="stylesheet" href="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/css/entry/adg3-skeleton-nav.css">
<link rel="stylesheet" href="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/css/entry/adg3.css">
  
  <script nonce="Jhlf1PkCp7LZVTQd6L1rjQ==">
  window.__sentry__ = {"dsn": "https://ea49358f525d4019945839a3d7a8292a@o55978.ingest.sentry.io/159509", "release": "20211029.4634", "tags": {"dc_location": "Micros", "micros_service_version": "4651", "micros_deployment_id": "qd0sclambid1ugmb", "micros_service": "bbc-website", "micros_envtype": "prod", "revision": "4d3d6d8dd2c3"}, "environment": "production"};
</script>
<script src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/dist/webpack/sentry.js" nonce="Jhlf1PkCp7LZVTQd6L1rjQ=="></script>
  <script src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/dist/webpack/early.js" nonce="Jhlf1PkCp7LZVTQd6L1rjQ=="></script>
  
  
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@bitbucket"/>
  <meta name="og:type" content="bitbucket:gitcommit"/>
  <meta name="og:title"
      content="naviserver / naviserver - a5c3079"/>
  <meta name="og:url"
      content="https://bitbucket.org/naviserver/naviserver/commits/a5c3079f1d8996d5f34c9384a440acf3519ca3bb"/>
  <meta name="og:description" content="fix for bug https://sourceforge.net/p/naviserver/bugs/89/

A negative value provided as chunk encoding length led to a potential crash.
A test case for this case was added to the regression test.
"/>
  
    <meta name="og:image" content="https://bytebucket.org/ravatar/%7Bb254c7f6-be9b-42f9-af9d-dfe24acee10e%7D?ts=2423627"/>
  
  

</head>
<body
    class="production adg3 aui-8 aui-legacy-focus "
    data-static-url="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/"
data-base-url="https://bitbucket.org"
data-no-avatar-image="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/default_avatar/user_blue.svg"
data-current-user="{&quot;isKbdShortcutsEnabled&quot;: true, &quot;isSshEnabled&quot;: false, &quot;isAuthenticated&quot;: false}"
data-atlassian-id="{&quot;loginUrl&quot;: &quot;https://id.atlassian.com/login?continue=https%3A%2F%2Fbitbucket.org%2Fnaviserver%2Fnaviserver%2Fcommits%2Fa5c3079f1d8996d5f34c9384a440acf3519ca3bb&amp;prompt=login&quot;, &quot;loginStatusUrl&quot;: &quot;https://id.atlassian.com/profile/rest/profile&quot;}"
data-settings="{&quot;MENTIONS_MIN_QUERY_LENGTH&quot;: 1}"

data-current-repo="{&quot;scm&quot;: &quot;git&quot;, &quot;readOnly&quot;: false, &quot;owner&quot;: {&quot;username&quot;: &quot;naviserver&quot;, &quot;uuid&quot;: &quot;fcded27e-4b31-4f81-94ff-c1d92456381d&quot;, &quot;isTeam&quot;: true}, &quot;slug&quot;: &quot;naviserver&quot;, &quot;fullslug&quot;: &quot;naviserver/naviserver&quot;, &quot;uuid&quot;: &quot;b254c7f6-be9b-42f9-af9d-dfe24acee10e&quot;, &quot;language&quot;: &quot;c&quot;, &quot;baseUrl&quot;: &quot;naviserver&quot;, &quot;id&quot;: 60186043, &quot;mainbranch&quot;: {&quot;name&quot;: &quot;master&quot;}, &quot;workspace&quot;: {&quot;uuid&quot;: &quot;fcded27e-4b31-4f81-94ff-c1d92456381d&quot;, &quot;slug&quot;: &quot;naviserver&quot;}, &quot;pygmentsLanguage&quot;: &quot;c&quot;}"

data-current-cset="a5c3079f1d8996d5f34c9384a440acf3519ca3bb"






data-browser-monitoring="true"
data-switch-create-pullrequest-commit-status="true"




>
<div id="page">
  
    <div id="adg3-banner-root"></div>
    
      <div id="adg3-navigation" data-nav-next
  
  
  
  >
  <nav class="skeleton-nav">
    <div class="skeleton-nav--left">
      <div class="skeleton-nav--left-top">
        <ul class="skeleton-nav--items">
          <li></li>
          <li></li>
          <li></li>
          <li class="skeleton--icon"></li>
          <li class="skeleton--icon-sub"></li>
          <li class="skeleton--icon-sub"></li>
          <li class="skeleton--icon-sub"></li>
          <li class="skeleton--icon-sub"></li>
          <li class="skeleton--icon-sub"></li>
          <li class="skeleton--icon-sub"></li>
        </ul>
      </div>
      <div class="skeleton-nav--left-bottom">
        <div class="skeleton-nav--left-bottom-wrapper">
          <div class="skeleton-nav--item-help"></div>
          <div class="skeleton-nav--item-profile"></div>
        </div>
      </div>
    </div>
    <div class="skeleton-nav--right">
      <ul class="skeleton-nav--items-wide">
        <li class="skeleton--icon-logo-container">
          <div class="skeleton--icon-container"></div>
          <div class="skeleton--icon-description"></div>
          <div class="skeleton--icon-logo"></div>
        </li>
        <li>
          <div class="skeleton--icon-small"></div>
          <div class="skeleton-nav--item-wide-content"></div>
        </li>
        <li>
          <div class="skeleton--icon-small"></div>
          <div class="skeleton-nav--item-wide-content"></div>
        </li>
        <li>
          <div class="skeleton--icon-small"></div>
          <div class="skeleton-nav--item-wide-content"></div>
        </li>
        <li>
          <div class="skeleton--icon-small"></div>
          <div class="skeleton-nav--item-wide-content"></div>
        </li>
        <li>
          <div class="skeleton--icon-small"></div>
          <div class="skeleton-nav--item-wide-content"></div>
        </li>
        <li>
          <div class="skeleton--icon-small"></div>
          <div class="skeleton-nav--item-wide-content"></div>
        </li>
      </ul>
    </div>
  </nav>
</div>
    

    <div id="wrapper">
      
  

<div id="account-warning" data-module="header/account-warning"
  data-unconfirmed-addresses="false"
  data-no-addresses="false"
  
></div>



      
  
<header id="aui-message-bar">
  
</header>


      <div id="content" role="main">
        
          <header class="app-header">
              <div class="app-header--primary">
                
                  <div class="app-header--context">
                    
                    <div class="app-header--breadcrumbs">
                      
  <ol class="aui-nav aui-nav-breadcrumbs">
    <li>
  <a href="/naviserver/" target="_top">NaviServer</a>
</li>
<li>
  <a href="/naviserver/workspace/projects/PROJ" target="_top">NaviServer Project</a>
</li>
<li>
  <a href="/naviserver/naviserver" target="_top">naviserver</a>
</li>
    
  <li>
    <a href="/naviserver/naviserver/commits/">
      Commits
    </a>
  </li>

  </ol>

                    </div>
                      
                  </div>
                
             </div>
             <div class="app-header--secondary">
                <h1 class="app-header--heading">
                  Commit
                </h1>
               
                 
               
             </div>
          </header>
        
        
        
  <div class="aui-page-panel ">
    <div class="hidden">
  
  
  

  </div>
    <div class="aui-page-panel-inner">

      <div
        id="repo-content"
        class="aui-page-panel-content forks-enabled"
        data-module="repo/index"
        
          data-project-id="1312"
        
      >
        
        
  
  <span id="user-repo-privilege-data" data-priv='None'></span>

  <section id="commit"
      data-connect-principal-id="{fcded27e-4b31-4f81-94ff-c1d92456381d}"
      data-connect-hydrate="[{&#34;modules&#34;: [{&#34;app_name&#34;: &#34;Pull Request Commit Links&#34;, &#34;source&#34;: {&#34;url&#34;: &#34;https://bitbucket-prlinks.us-east-1.prod.public.atl-paas.net/dialog/%7Bb254c7f6-be9b-42f9-af9d-dfe24acee10e%7D/a5c3079f1d8996d5f34c9384a440acf3519ca3bb?ui-params=eyJpc0RpYWxvZyI6IHRydWUsICJpc0lubGluZURpYWxvZyI6IGZhbHNlfQ%3D%3D&amp;xdm_e=https%3A%2F%2Fbitbucket.org&amp;xdm_c=channel-29cbb77e-199e-4584-bf61-8cccb9b221a2&amp;prs_url=https%3A%2F%2Fapi.bitbucket.org%2F2.0%2Frepositories%2Fnaviserver%2Fnaviserver%2Fpullrequests&amp;crev=4d3d6d8dd2c3%2Fdist%2Fconnect%2Fv5&amp;jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhcmk6Y2xvdWQ6Yml0YnVja2V0OjphcHAve2ZjZGVkMjdlLTRiMzEtNGY4MS05NGZmLWMxZDkyNDU2MzgxZH0vYml0YnVja2V0LXBybGlua3MiLCJpYXQiOjE2MzU2MDkwNzUsInFzaCI6IjU2YzMxZGIxZjdjMWU0NjBjZjM4NjY4NzE3MTliZDU5OTJmZGY5MDBkZDIxOTE4OWJhNDBjMzFiZDI5N2Q3MDEiLCJhdWQiOiJhcmk6Y2xvdWQ6Yml0YnVja2V0OjphcHAve2ZjZGVkMjdlLTRiMzEtNGY4MS05NGZmLWMxZDkyNDU2MzgxZH0vYml0YnVja2V0LXBybGlua3MiLCJleHAiOjE2MzU2MDkzNzV9.y64-hrwyjwK1EKcXHIseXcxqRYiRWoXMjqzlC9e__XQ&#34;, &#34;expires_in&#34;: 300}, &#34;context_type&#34;: &#34;user&#34;, &#34;app_key&#34;: &#34;bitbucket-prlinks&#34;, &#34;descriptor&#34;: {&#34;name&#34;: {&#34;value&#34;: &#34;Go to pull request&#34;}, &#34;url&#34;: &#34;/dialog/{repository.uuid}/{commit.hash}?prs_url={repository.links.pullrequests.href}&#34;, &#34;params&#34;: {&#34;auiIcon&#34;: &#34;aui-iconfont-devtools-compare&#34;}, &#34;location&#34;: &#34;org.bitbucket.commit.summary.info&#34;, &#34;key&#34;: &#34;commitprs&#34;, &#34;conditions&#34;: [{&#34;params&#34;: {&#34;permission&#34;: &#34;read&#34;}, &#34;target&#34;: &#34;repository&#34;, &#34;condition&#34;: &#34;has_permission&#34;}], &#34;target&#34;: {&#34;type&#34;: &#34;dialog&#34;, &#34;options&#34;: {&#34;chrome&#34;: false, &#34;width&#34;: 650, &#34;height&#34;: 320}}}, &#34;module_type&#34;: &#34;webItems&#34;, &#34;app_base_url&#34;: &#34;https://bitbucket-prlinks.us-east-1.prod.public.atl-paas.net&#34;, &#34;options&#34;: {&#34;principal-uuid&#34;: &#34;fcded27e-4b31-4f81-94ff-c1d92456381d&#34;, &#34;proxy-base-api-url&#34;: &#34;https://api.bitbucket.io/addons/bitbucket-prlinks/naviserver/&#34;}}, {&#34;app_name&#34;: &#34;Pipelines&#34;, &#34;source&#34;: {&#34;url&#34;: &#34;https://bitbucket-pipelines.prod.public.atl-paas.net/runPipelineWebItem.html?ui-params=eyJpc0RpYWxvZyI6IHRydWUsICJpc0lubGluZURpYWxvZyI6IGZhbHNlfQ%3D%3D&amp;displayName=NaviServer&amp;repoUuid=%7Bb254c7f6-be9b-42f9-af9d-dfe24acee10e%7D&amp;accountUuid=%7Bfcded27e-4b31-4f81-94ff-c1d92456381d%7D&amp;xdm_c=channel-1a940e4a-156b-4f11-8925-cc01335d7ba9&amp;xdm_e=https%3A%2F%2Fbitbucket.org&amp;crev=4d3d6d8dd2c3%2Fdist%2Fconnect%2Fv5&amp;addonKey=pipelines&amp;environment=%2F2.0&amp;repoPath=naviserver%2Fnaviserver&amp;commit_hash=a5c3079f1d8996d5f34c9384a440acf3519ca3bb&amp;userUuid=&amp;accountId=%7Buser.account_id%7D&amp;jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhcmk6Y2xvdWQ6Yml0YnVja2V0OjphcHAve2ZjZGVkMjdlLTRiMzEtNGY4MS05NGZmLWMxZDkyNDU2MzgxZH0vcGlwZWxpbmVzIiwiaWF0IjoxNjM1NjA5MDc1LCJxc2giOiI0NTI0YTllMjUwMWY2NDZkMTY1ODg1MzhlY2ZjN2I4MjJiNDkwYzc4MzcyM2YyOGRmNDE3ZWJjZWE4OGZiZmU0IiwiYXVkIjoiYXJpOmNsb3VkOmJpdGJ1Y2tldDo6YXBwL3tmY2RlZDI3ZS00YjMxLTRmODEtOTRmZi1jMWQ5MjQ1NjM4MWR9L3BpcGVsaW5lcyIsImV4cCI6MTYzNTYwOTM3NX0.5zvRu3Vu8EsIyHfLvjPIofgphuU4bVXRAupXMhCjxw4&#34;, &#34;expires_in&#34;: 300}, &#34;context_type&#34;: &#34;user&#34;, &#34;app_key&#34;: &#34;pipelines&#34;, &#34;descriptor&#34;: {&#34;target&#34;: {&#34;type&#34;: &#34;dialog&#34;, &#34;options&#34;: {&#34;chrome&#34;: false, &#34;size&#34;: &#34;maximum&#34;}}, &#34;url&#34;: &#34;/runPipelineWebItem.html?accountId={user.account_id}&amp;accountUuid={repository.owner.uuid}&amp;repoUuid={repository.uuid}&amp;repoPath={repository.full_name}&amp;userUuid={user.uuid}&amp;displayName={repository.owner.display_name}&amp;commit_hash={commit_hash}&amp;environment=%2F2.0&amp;addonKey=pipelines&#34;, &#34;name&#34;: {&#34;value&#34;: &#34;Run pipeline&#34;}, &#34;location&#34;: &#34;org.bitbucket.commit.summary.actions&#34;, &#34;key&#34;: &#34;runPipelineWebItem&#34;, &#34;icon&#34;: {&#34;url&#34;: &#34;/assets/img/pipelines-nav-logo-2.svg&#34;, &#34;width&#34;: 24, &#34;height&#34;: 24}}, &#34;module_type&#34;: &#34;webItems&#34;, &#34;app_base_url&#34;: &#34;https://bitbucket-pipelines.prod.public.atl-paas.net&#34;, &#34;options&#34;: {&#34;principal-uuid&#34;: &#34;fcded27e-4b31-4f81-94ff-c1d92456381d&#34;, &#34;proxy-base-api-url&#34;: &#34;https://api.bitbucket.io/addons/pipelines/naviserver/&#34;}}], &#34;target&#34;: {&#34;type&#34;: &#34;commit&#34;, &#34;hash&#34;: &#34;a5c3079f1d8996d5f34c9384a440acf3519ca3bb&#34;, &#34;links&#34;: {&#34;self&#34;: {&#34;href&#34;: &#34;https://bitbucket.org/!api/2.0/repositories/naviserver/naviserver/commit/a5c3079f1d8996d5f34c9384a440acf3519ca3bb&#34;}, &#34;html&#34;: {&#34;href&#34;: &#34;https://bitbucket.org/naviserver/naviserver/commits/a5c3079f1d8996d5f34c9384a440acf3519ca3bb&#34;}}}}]"
      data-module="repo/commits/view">
    <header id="commit-header" data-module="repo/commits/commit-header">
      <article class="commit-info">
        <div class="commit-header aui-group aui-group-split">
          <div class="aui-item">
            <div class="commit-description">
              
    
    
  
              
                
                  


<span class="author ">
  

    <span class="aui-avatar inline-user--avatar"
        data-module="components/user-profile-avatar"
        data-user="{&quot;display_name&quot;: &quot;Gustaf Neumann&quot;, &quot;account_id&quot;: &quot;557058:dc785696-97d0-4416-8baa-ef27ea5b91f3&quot;, &quot;links&quot;: {&quot;self&quot;: {&quot;href&quot;: &quot;https://bitbucket.org/!api/2.0/users/%7B30c27ed6-966f-42ae-b53d-60c4947e917d%7D&quot;}, &quot;html&quot;: {&quot;href&quot;: &quot;https://bitbucket.org/%7B30c27ed6-966f-42ae-b53d-60c4947e917d%7D/&quot;}, &quot;avatar&quot;: {&quot;href&quot;: &quot;https://secure.gravatar.com/avatar/ecb4a0d69e60156e7f9d9808ea2f5cae?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FGN-4.png&quot;}}, &quot;type&quot;: &quot;user&quot;, &quot;account_status&quot;: &quot;active&quot;, &quot;nickname&quot;: &quot;gustafn&quot;, &quot;uuid&quot;: &quot;{30c27ed6-966f-42ae-b53d-60c4947e917d}&quot;}"
        data-react-props="{&quot;size&quot;: &quot;medium&quot;}">
        <span class="aui-avatar aui-avatar-medium">
          <span class="aui-avatar-inner">
            <img src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/default_avatar/user_blue.svg"
                class="deferred-image"
                data-src-url="https://secure.gravatar.com/avatar/ecb4a0d69e60156e7f9d9808ea2f5cae?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FGN-4.png&amp;s=32"
                data-src-url-2x="https://secure.gravatar.com/avatar/ecb4a0d69e60156e7f9d9808ea2f5cae?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FGN-4.png&amp;s=64"
                alt="">
          </span>
        </span>
    </span>

      <span
        data-module="components/user-profile-name"
        data-user="{&quot;display_name&quot;: &quot;Gustaf Neumann&quot;, &quot;account_id&quot;: &quot;557058:dc785696-97d0-4416-8baa-ef27ea5b91f3&quot;, &quot;links&quot;: {&quot;self&quot;: {&quot;href&quot;: &quot;https://bitbucket.org/!api/2.0/users/%7B30c27ed6-966f-42ae-b53d-60c4947e917d%7D&quot;}, &quot;html&quot;: {&quot;href&quot;: &quot;https://bitbucket.org/%7B30c27ed6-966f-42ae-b53d-60c4947e917d%7D/&quot;}, &quot;avatar&quot;: {&quot;href&quot;: &quot;https://secure.gravatar.com/avatar/ecb4a0d69e60156e7f9d9808ea2f5cae?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FGN-4.png&quot;}}, &quot;type&quot;: &quot;user&quot;, &quot;account_status&quot;: &quot;active&quot;, &quot;nickname&quot;: &quot;gustafn&quot;, &quot;uuid&quot;: &quot;{30c27ed6-966f-42ae-b53d-60c4947e917d}&quot;}"
        class="author inline-user--name"
        title="Gustaf Neumann">Gustaf Neumann
      </span>

  
</span>
                
              
              
              
                committed
                <span class="changeset-hash">a5c3079</span>
              
              
              <time datetime="2020-05-16T11:34:36+00:00">2020-05-16</time>
            </div>
          </div>
          <div class="commit-actions aui-item">
            <a href="/naviserver/naviserver/src/a5c3079f1d8996d5f34c9384a440acf3519ca3bb" class="aui-button">
              <span>View source</span>
            </a>
            
          </div>
        </div>
        <div class="aui-group">
          <div class="aui-item commit-main">
            <div
                class="commit-message"><p>fix for bug <a href="https://sourceforge.net/p/naviserver/bugs/89/" rel="nofollow" class="ap-connect-link">https://sourceforge.net/p/naviserver/bugs/89/</a></p><p>A negative value provided as chunk encoding length led to a potential crash.<br />A test case for this case was added to the regression test.</p></div>
          </div>
          <div class="aui-item commit-sidebar detail-summary--panel">
            <ul class="detail-summary--section">
              
              
              <li class="detail-summary--item hidden" data-module="commitstatus/status-updater">

  
    <div data-url="/!api/2.0/repositories/naviserver/naviserver/commit/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/statuses"
        data-module="commitstatus/status-dialog">
  
    <span class="aui-icon aui-icon-small aui-iconfont-build detail-summary--icon" title="Commit status">Commit status</span>
    
  
    </div>
  

</li>
              <li id="participants"
                  class="detail-summary--item participants truncated"
                  data-participants-url="/!api/2.0/repositories/naviserver/naviserver/commit/a5c3079f1d8996d5f34c9384a440acf3519ca3bb?fields=participants,author,date"
                  data-likes-url="/!api/2.0/repositories/naviserver/naviserver/commit/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/approve"
                  data-noun="changeset">
                <span
                    class="aui-icon aui-icon-small aui-iconfont-group detail-summary--icon"
                    title="Participants">
                  Participants
                </span>
                <ol class="clearfix">
                  <li class="empty"></li>
                </ol>
                
    
    
  
              </li>
              
                
                  <li class="detail-summary--item commit-parents count-1">
                    <span
                        class="aui-icon aui-icon-small aui-iconfont-devtools-commit detail-summary--icon"
                        title="Parent commits">
                      Parent commits
                    </span>
                    
                      <a href="/naviserver/naviserver/commits/8fdde976a0e96b257a7f1ba87de1a493c0ecb3d5"
                          title="Parent commit"
                          class="changeset-hash">8fdde97</a>
                    
                    
                  </li>
                
              
              
                <li class="detail-summary--item commit-branches count-0">
                  <span
                      class="aui-icon aui-icon-small aui-iconfont-devtools-branch detail-summary--icon"
                      title="Branches">
                    Branches
                  </span>
                  
                    
                      
                        <a href="/naviserver/naviserver/commits/branch/master">
                          master
                        </a>
                      
                    
                  
                </li>
                
                  <li
                      class="detail-summary--item commit-tags count-0"
                      
                      data-tags="[]">
                  </li>
                
              
                <li
                  style="list-style-type:none"
                  data-connect-action="web-items"
                  data-connect-principal-id="{fcded27e-4b31-4f81-94ff-c1d92456381d}"
                  data-connect-module-type="webItems"
                  data-connect-location="org.bitbucket.commit.summary.info"
                  data-connect-target-href="https://bitbucket.org/!api/2.0/repositories/naviserver/naviserver/commit/a5c3079f1d8996d5f34c9384a440acf3519ca3bb">
                </li>
            </ul>
            
              <ul class="detail-summary--section">
                
                  <li class="detail-summary--item">
                    <span
                        class="aui-icon aui-icon-small aui-iconfont-devtools-file detail-summary--icon">
                      Raw commit
                    </span>
                    <a href="
                        /naviserver/naviserver/commits/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/raw" class="js-view-raw-commit">
                      View raw commit
                    </a>
                  </li>
                
                
                <li
                  style="list-style-type:none"
                  data-connect-action="web-items"
                  data-connect-principal-id="{fcded27e-4b31-4f81-94ff-c1d92456381d}"
                  data-connect-module-type="webItems"
                  data-connect-location="org.bitbucket.commit.summary.actions"
                  data-connect-target-href="https://bitbucket.org/!api/2.0/repositories/naviserver/naviserver/commit/a5c3079f1d8996d5f34c9384a440acf3519ca3bb">
                </li>
              </ul>
            
          </div>
        </div>
      </article>
    </header>

    <section id="general-comments" class="main">
  <h1>
    
      Comments (<span class="comment-count">0</span>)
    
  </h1>
  <ol id="comments-list" class="comments-list line-commenting">
    <div id="general-thread-ids"
        data-value="[]"></div>
    
    
  </ol>
</section>


    
    
  

    
    
  

    
    
  

    <div id="comment-info"
        data-comment-url="/!api/2.0/repositories/naviserver/naviserver/commit/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/comments"
        data-general-thread-ids="[]"
        
          data-file-line-thread-ids="{}"
        
    ></div>

    
      <section id="commit-summary">
        <h1>Files changed <span>(2)</span></h1>

<ul class="commit-files-summary" id="commit-files-summary">
  
    
      <li class="iterable-item file file-modified"
          data-file-identifier="nsd/driver.c">
        <div class="commit-file-diff-stats">
          <span class="lines-added">
            
              +32
            
          </span>
          <span class="lines-removed">
            
              -21
            
          </span>
        </div>

        <span class="diff-summary-lozenge aui-lozenge aui-lozenge-subtle aui-lozenge-complete"
            data-module="components/tooltip" data-tooltip-gravity="s"
            title="Modified">
          M
        </span>

        <a class="commit-files-summary--filename execute" data-add-to-stack="true" href="#chg-nsd/driver.c">
          nsd/driver.c
        </a>

        

        
        
      </li>
    
  
    
      <li class="iterable-item file file-modified"
          data-file-identifier="tests/http_chunked.test">
        <div class="commit-file-diff-stats">
          <span class="lines-added">
            
              +20
            
          </span>
          <span class="lines-removed">
            
              -1
            
          </span>
        </div>

        <span class="diff-summary-lozenge aui-lozenge aui-lozenge-subtle aui-lozenge-complete"
            data-module="components/tooltip" data-tooltip-gravity="s"
            title="Modified">
          M
        </span>

        <a class="commit-files-summary--filename execute" data-add-to-stack="true" href="#chg-tests/http_chunked.test">
          tests/http_chunked.test
        </a>

        

        
        
      </li>
    
  
</ul>
      </section>
    
    




    
    
  

    
    
  

    
    
  

    
    
  

    
    
  

    
    
  

<section id="changeset-diff" class="main maskable">
  <div class="bb-patch bb-patch-unified" data-module="pullrequests/file-options">
  
    







  


<section class="iterable-item bb-udiff maskable"
    data-path="nsd/driver.c"
    
      data-source-url="/api/internal/repositories/naviserver/naviserver/src/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/nsd/driver.c"
    
    id="chg-nsd/driver.c"
    
    data-identifier="nsd/driver.c"
    data-filename="nsd/driver.c"
    
      data-linecommentroots="{}"
    
    data-compare-files-url="/!api/internal/repositories/naviserver/naviserver/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/diff"
    data-expand-context-url="/!api/internal/repositories/naviserver/naviserver/changesets-expand/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/_context/"
    
    
    
    >
  <div class="diff-container">
    <div class="heading">
      <div class="primary">
        <h1 class="filename">
          <span class="aui-icon aui-icon-small aui-iconfont-devtools-file diff-entry-kind-icon">File</span>
          nsd/driver.c
          
          <span class="diff-entry-lozenge aui-lozenge aui-lozenge-subtle aui-lozenge-complete">Modified</span>
        </h1>
      </div>
      <div class="diff-actions secondary">
        
        <div class="aui-buttons">
          
        </div>
        <div class="aui-buttons">
          
            
              <button class="execute click aui-button aui-button-light sbs"
                  title="View the side-by-side diff for this file"
                  data-module="components/tooltip">
                Side-by-side diff
              </button>
            
            
              <a class="view-file aui-button aui-button-light"
                  
                    href="/naviserver/naviserver/src/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/nsd/driver.c"
                    title="View the full source of this file"
                  
                  data-module="components/tooltip">
                View file
              </a>
            
          
        </div>
        
        <div class="aui-buttons">
          <button class="aui-button aui-button-light aui-button-subtle aui-dropdown2-trigger aui-dropdown2-trigger-arrowless aui-dropdown2-trigger-more"
              aria-owns="file-more-dropdown-nsd/driver.c"
              aria-haspopup="true"
              data-container="#chg-nsd/driver.c">
            <span class="aui-icon aui-icon-small aui-iconfont-more">More</span>
          </button>
        </div>
        <div id="file-more-dropdown-nsd/driver.c" class="aui-dropdown2 aui-style-default">
          <ul>
            <li>
              <span role="checkbox" class="diff-ignore-whitespace aui-dropdown2-checkbox "
                  data-jump-to="#chg-nsd/driver.c"
                  aria-checked="false"
                  data-key="ignoreWhitespace"
                  title="Ignore whitespace changes for all files in this diff"
                  data-tooltip-gravity="e"
                  data-module="components/tooltip">
                Ignore whitespace
              </span>
            </li>
            
            <li>
              <span role="checkbox" class="diff-hide-word-diff aui-dropdown2-checkbox"
                  
                  data-diff="chg-nsd/driver.c"
                  data-key="hideWordDiff"
                  title="Hide word diff">
                Hide word diff
              </span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    

      <div class="diff-content-container refract-container ">
      
        
          
  
  
  

  
    
    
  

  

        
      
      
        <div class="refract-content-container">
          
            
              
                


  
  
    
      <div class="skipped-container" style="counter-reset: fromLines 286 toLines 286;">
        <div class="line-numbers-skipped skipped-top first"><span class="ellipsis" title="Show more lines"></span></div>
        <div class="skipped-top first"></div>
      </div>
    

    
    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF287T287">
            
            <a class="line-numbers"
              data-fnum="287"
              data-tnum="287"
              
                href="#Lnsd/driver.cF287T287"
              
              aria-label="From line 287 To line 287"></a>
          </div>
        
        <pre class="source">     NS_GNUC_NONNULL(1);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF288T288">
            
            <a class="line-numbers"
              data-fnum="288"
              data-tnum="288"
              
                href="#Lnsd/driver.cF288T288"
              
              aria-label="From line 288 To line 288"></a>
          </div>
        
        <pre class="source"> static int PollWait(const PollData *pdata, int timeout)</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF289T289">
            
            <a class="line-numbers"
              data-fnum="289"
              data-tnum="289"
              
                href="#Lnsd/driver.cF289T289"
              
              aria-label="From line 289 To line 289"></a>
          </div>
        
        <pre class="source">     NS_GNUC_NONNULL(1);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF290">
            
            <a class="line-numbers"
              data-fnum="290"
              
              
                href="#Lnsd/driver.cF290"
              
              aria-label="From line 290 "></a>
          </div>
        
        <pre class="source">-static bool ChunkedDecode(Request *reqPtr, bool update)</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT290">
            
            <a class="line-numbers"
              
              data-tnum="290"
              
                href="#Lnsd/driver.cT290"
              
              aria-label=" To line 290"></a>
          </div>
        
        <pre class="source">+static SockState ChunkedDecode(Request *reqPtr, bool update)</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF291T291">
            
            <a class="line-numbers"
              data-fnum="291"
              data-tnum="291"
              
                href="#Lnsd/driver.cF291T291"
              
              aria-label="From line 291 To line 291"></a>
          </div>
        
        <pre class="source">     NS_GNUC_NONNULL(1);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF292T292">
            
            <a class="line-numbers"
              data-fnum="292"
              data-tnum="292"
              
                href="#Lnsd/driver.cF292T292"
              
              aria-label="From line 292 To line 292"></a>
          </div>
        
        <pre class="source"> static WriterSock *WriterSockRequire(const Conn *connPtr)</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF293T293">
            
            <a class="line-numbers"
              data-fnum="293"
              data-tnum="293"
              
                href="#Lnsd/driver.cF293T293"
              
              aria-label="From line 293 To line 293"></a>
          </div>
        
        <pre class="source">     NS_GNUC_NONNULL(1);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="skipped-container" style="counter-reset: fromLines 3373 toLines 3373;">
        <div class="line-numbers-skipped skipped-middle"><span class="ellipsis" title="Show more lines"></span></div>
        <div class="skipped-middle"></div>
      </div>
    

    
    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3374T3374">
            
            <a class="line-numbers"
              data-fnum="3374"
              data-tnum="3374"
              
                href="#Lnsd/driver.cF3374T3374"
              
              aria-label="From line 3374 To line 3374"></a>
          </div>
        
        <pre class="source">  *      shorter than the encoded one.</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3375T3375">
            
            <a class="line-numbers"
              data-fnum="3375"
              data-tnum="3375"
              
                href="#Lnsd/driver.cF3375T3375"
              
              aria-label="From line 3375 To line 3375"></a>
          </div>
        
        <pre class="source">  *</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3376T3376">
            
            <a class="line-numbers"
              data-fnum="3376"
              data-tnum="3376"
              
                href="#Lnsd/driver.cF3376T3376"
              
              aria-label="From line 3376 To line 3376"></a>
          </div>
        
        <pre class="source">  * Results:</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3377">
            
            <a class="line-numbers"
              data-fnum="3377"
              
              
                href="#Lnsd/driver.cF3377"
              
              aria-label="From line 3377 "></a>
          </div>
        
        <pre class="source">- *      NS_TRUE when chunk was complete, NS_FALSE otherwise</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3377">
            
            <a class="line-numbers"
              
              data-tnum="3377"
              
                href="#Lnsd/driver.cT3377"
              
              aria-label=" To line 3377"></a>
          </div>
        
        <pre class="source">+ *      SOCK_READY when chunk was complete, SOCK_MORE when more data is</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3378">
            
            <a class="line-numbers"
              
              data-tnum="3378"
              
                href="#Lnsd/driver.cT3378"
              
              aria-label=" To line 3378"></a>
          </div>
        
        <pre class="source">+ *      requried, or some error condition.</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3378T3379">
            
            <a class="line-numbers"
              data-fnum="3378"
              data-tnum="3379"
              
                href="#Lnsd/driver.cF3378T3379"
              
              aria-label="From line 3378 To line 3379"></a>
          </div>
        
        <pre class="source">  *</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3379T3380">
            
            <a class="line-numbers"
              data-fnum="3379"
              data-tnum="3380"
              
                href="#Lnsd/driver.cF3379T3380"
              
              aria-label="From line 3379 To line 3380"></a>
          </div>
        
        <pre class="source">  * Side effects:</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3380">
            
            <a class="line-numbers"
              data-fnum="3380"
              
              
                href="#Lnsd/driver.cF3380"
              
              aria-label="From line 3380 "></a>
          </div>
        
        <pre class="source">- *      updates the buffer if update is true (and adjusts reqPtr-&gt;chunkWriteOff)</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3381">
            
            <a class="line-numbers"
              data-fnum="3381"
              
              
                href="#Lnsd/driver.cF3381"
              
              aria-label="From line 3381 "></a>
          </div>
        
        <pre class="source">- *      updates always reqPtr-&gt;chunkStartOff to allow incremental operations</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3381">
            
            <a class="line-numbers"
              
              data-tnum="3381"
              
                href="#Lnsd/driver.cT3381"
              
              aria-label=" To line 3381"></a>
          </div>
        
        <pre class="source">+ *      Updates the buffer if update is true (and adjusts</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3382">
            
            <a class="line-numbers"
              
              data-tnum="3382"
              
                href="#Lnsd/driver.cT3382"
              
              aria-label=" To line 3382"></a>
          </div>
        
        <pre class="source">+ *      reqPtr-&gt;chunkWriteOff).  Updates always reqPtr-&gt;chunkStartOff to allow</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3383">
            
            <a class="line-numbers"
              
              data-tnum="3383"
              
                href="#Lnsd/driver.cT3383"
              
              aria-label=" To line 3383"></a>
          </div>
        
        <pre class="source">+ *      incremental operations.</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3382T3384">
            
            <a class="line-numbers"
              data-fnum="3382"
              data-tnum="3384"
              
                href="#Lnsd/driver.cF3382T3384"
              
              aria-label="From line 3382 To line 3384"></a>
          </div>
        
        <pre class="source">  *</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3383T3385">
            
            <a class="line-numbers"
              data-fnum="3383"
              data-tnum="3385"
              
                href="#Lnsd/driver.cF3383T3385"
              
              aria-label="From line 3383 To line 3385"></a>
          </div>
        
        <pre class="source">  *----------------------------------------------------------------------</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3384T3386">
            
            <a class="line-numbers"
              data-fnum="3384"
              data-tnum="3386"
              
                href="#Lnsd/driver.cF3384T3386"
              
              aria-label="From line 3384 To line 3386"></a>
          </div>
        
        <pre class="source">  */</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3385">
            
            <a class="line-numbers"
              data-fnum="3385"
              
              
                href="#Lnsd/driver.cF3385"
              
              aria-label="From line 3385 "></a>
          </div>
        
        <pre class="source">-static bool</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3387">
            
            <a class="line-numbers"
              
              data-tnum="3387"
              
                href="#Lnsd/driver.cT3387"
              
              aria-label=" To line 3387"></a>
          </div>
        
        <pre class="source">+static SockState</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3386T3388">
            
            <a class="line-numbers"
              data-fnum="3386"
              data-tnum="3388"
              
                href="#Lnsd/driver.cF3386T3388"
              
              aria-label="From line 3386 To line 3388"></a>
          </div>
        
        <pre class="source"> ChunkedDecode(Request *reqPtr, bool update)</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3387T3389">
            
            <a class="line-numbers"
              data-fnum="3387"
              data-tnum="3389"
              
                href="#Lnsd/driver.cF3387T3389"
              
              aria-label="From line 3387 To line 3389"></a>
          </div>
        
        <pre class="source"> {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3388T3390">
            
            <a class="line-numbers"
              data-fnum="3388"
              data-tnum="3390"
              
                href="#Lnsd/driver.cF3388T3390"
              
              aria-label="From line 3388 To line 3390"></a>
          </div>
        
        <pre class="source">     const Tcl_DString *bufPtr;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3389T3391">
            
            <a class="line-numbers"
              data-fnum="3389"
              data-tnum="3391"
              
                href="#Lnsd/driver.cF3389T3391"
              
              aria-label="From line 3389 To line 3391"></a>
          </div>
        
        <pre class="source">     const char        *end, *chunkStart;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3390">
            
            <a class="line-numbers"
              data-fnum="3390"
              
              
                href="#Lnsd/driver.cF3390"
              
              aria-label="From line 3390 "></a>
          </div>
        
        <pre class="source">-    bool              success = NS_TRUE;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3392">
            
            <a class="line-numbers"
              
              data-tnum="3392"
              
                href="#Lnsd/driver.cT3392"
              
              aria-label=" To line 3392"></a>
          </div>
        
        <pre class="source">+    SockState         result = SOCK_READY;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3391T3393">
            
            <a class="line-numbers"
              data-fnum="3391"
              data-tnum="3393"
              
                href="#Lnsd/driver.cF3391T3393"
              
              aria-label="From line 3391 To line 3393"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3392T3394">
            
            <a class="line-numbers"
              data-fnum="3392"
              data-tnum="3394"
              
                href="#Lnsd/driver.cF3392T3394"
              
              aria-label="From line 3392 To line 3394"></a>
          </div>
        
        <pre class="source">     NS_NONNULL_ASSERT(reqPtr != NULL);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3393T3395">
            
            <a class="line-numbers"
              data-fnum="3393"
              data-tnum="3395"
              
                href="#Lnsd/driver.cF3393T3395"
              
              aria-label="From line 3393 To line 3395"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="skipped-container" style="counter-reset: fromLines 3396 toLines 3398;">
        <div class="line-numbers-skipped skipped-middle"><span class="ellipsis" title="Show more lines"></span></div>
        <div class="skipped-middle"></div>
      </div>
    

    
    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3397T3399">
            
            <a class="line-numbers"
              data-fnum="3397"
              data-tnum="3399"
              
                href="#Lnsd/driver.cF3397T3399"
              
              aria-label="From line 3397 To line 3399"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3398T3400">
            
            <a class="line-numbers"
              data-fnum="3398"
              data-tnum="3400"
              
                href="#Lnsd/driver.cF3398T3400"
              
              aria-label="From line 3398 To line 3400"></a>
          </div>
        
        <pre class="source">     while (reqPtr-&gt;chunkStartOff &lt;  (size_t)bufPtr-&gt;length) {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3399T3401">
            
            <a class="line-numbers"
              data-fnum="3399"
              data-tnum="3401"
              
                href="#Lnsd/driver.cF3399T3401"
              
              aria-label="From line 3399 To line 3401"></a>
          </div>
        
        <pre class="source">         char   *p = strstr(chunkStart, &quot;\r\n&quot;);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3400">
            
            <a class="line-numbers"
              data-fnum="3400"
              
              
                href="#Lnsd/driver.cF3400"
              
              aria-label="From line 3400 "></a>
          </div>
        
        <pre class="source">-        size_t  chunk_length;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3402">
            
            <a class="line-numbers"
              
              data-tnum="3402"
              
                href="#Lnsd/driver.cT3402"
              
              aria-label=" To line 3402"></a>
          </div>
        
        <pre class="source">+        long    chunkLength;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3401T3403">
            
            <a class="line-numbers"
              data-fnum="3401"
              data-tnum="3403"
              
                href="#Lnsd/driver.cF3401T3403"
              
              aria-label="From line 3401 To line 3403"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3402T3404">
            
            <a class="line-numbers"
              data-fnum="3402"
              data-tnum="3404"
              
                href="#Lnsd/driver.cF3402T3404"
              
              aria-label="From line 3402 To line 3404"></a>
          </div>
        
        <pre class="source">         if (p == NULL) {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3403T3405">
            
            <a class="line-numbers"
              data-fnum="3403"
              data-tnum="3405"
              
                href="#Lnsd/driver.cF3403T3405"
              
              aria-label="From line 3403 To line 3405"></a>
          </div>
        
        <pre class="source">             Ns_Log(DriverDebug, &quot;ChunkedDecode: chunk did not find end-of-line&quot;);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3404">
            
            <a class="line-numbers"
              data-fnum="3404"
              
              
                href="#Lnsd/driver.cF3404"
              
              aria-label="From line 3404 "></a>
          </div>
        
        <pre class="source">-            success = NS_FALSE;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3406">
            
            <a class="line-numbers"
              
              data-tnum="3406"
              
                href="#Lnsd/driver.cT3406"
              
              aria-label=" To line 3406"></a>
          </div>
        
        <pre class="source">+            result = SOCK_MORE;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3405T3407">
            
            <a class="line-numbers"
              data-fnum="3405"
              data-tnum="3407"
              
                href="#Lnsd/driver.cF3405T3407"
              
              aria-label="From line 3405 To line 3407"></a>
          </div>
        
        <pre class="source">             break;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3406T3408">
            
            <a class="line-numbers"
              data-fnum="3406"
              data-tnum="3408"
              
                href="#Lnsd/driver.cF3406T3408"
              
              aria-label="From line 3406 To line 3408"></a>
          </div>
        
        <pre class="source">         }</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3407T3409">
            
            <a class="line-numbers"
              data-fnum="3407"
              data-tnum="3409"
              
                href="#Lnsd/driver.cF3407T3409"
              
              aria-label="From line 3407 To line 3409"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3408T3410">
            
            <a class="line-numbers"
              data-fnum="3408"
              data-tnum="3410"
              
                href="#Lnsd/driver.cF3408T3410"
              
              aria-label="From line 3408 To line 3410"></a>
          </div>
        
        <pre class="source">         *p = &#39;\0&#39;;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3409">
            
            <a class="line-numbers"
              data-fnum="3409"
              
              
                href="#Lnsd/driver.cF3409"
              
              aria-label="From line 3409 "></a>
          </div>
        
        <pre class="source">-        chunk_length = (size_t)strtol(chunkStart, NULL, 16);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3411">
            
            <a class="line-numbers"
              
              data-tnum="3411"
              
                href="#Lnsd/driver.cT3411"
              
              aria-label=" To line 3411"></a>
          </div>
        
        <pre class="source">+        chunkLength = strtol(chunkStart, NULL, 16);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3412">
            
            <a class="line-numbers"
              
              data-tnum="3412"
              
                href="#Lnsd/driver.cT3412"
              
              aria-label=" To line 3412"></a>
          </div>
        
        <pre class="source">+        *p = &#39;\r&#39;;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3413">
            
            <a class="line-numbers"
              
              data-tnum="3413"
              
                href="#Lnsd/driver.cT3413"
              
              aria-label=" To line 3413"></a>
          </div>
        
        <pre class="source">+        if (chunkLength &lt; 0) {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3414">
            
            <a class="line-numbers"
              
              data-tnum="3414"
              
                href="#Lnsd/driver.cT3414"
              
              aria-label=" To line 3414"></a>
          </div>
        
        <pre class="source">+            Ns_Log(Warning, &quot;ChunkedDecode: negative chunk length&quot;);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3415">
            
            <a class="line-numbers"
              
              data-tnum="3415"
              
                href="#Lnsd/driver.cT3415"
              
              aria-label=" To line 3415"></a>
          </div>
        
        <pre class="source">+            result = SOCK_BADREQUEST;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3416">
            
            <a class="line-numbers"
              
              data-tnum="3416"
              
                href="#Lnsd/driver.cT3416"
              
              aria-label=" To line 3416"></a>
          </div>
        
        <pre class="source">+            break;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3417">
            
            <a class="line-numbers"
              
              data-tnum="3417"
              
                href="#Lnsd/driver.cT3417"
              
              aria-label=" To line 3417"></a>
          </div>
        
        <pre class="source">+        }</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3410T3418">
            
            <a class="line-numbers"
              data-fnum="3410"
              data-tnum="3418"
              
                href="#Lnsd/driver.cF3410T3418"
              
              aria-label="From line 3410 To line 3418"></a>
          </div>
        
        <pre class="source">         *p = &#39;\r&#39;;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3411T3419">
            
            <a class="line-numbers"
              data-fnum="3411"
              data-tnum="3419"
              
                href="#Lnsd/driver.cF3411T3419"
              
              aria-label="From line 3411 To line 3419"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3412">
            
            <a class="line-numbers"
              data-fnum="3412"
              
              
                href="#Lnsd/driver.cF3412"
              
              aria-label="From line 3412 "></a>
          </div>
        
        <pre class="source">-        if (p + 2 + chunk_length &gt; end) {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3420">
            
            <a class="line-numbers"
              
              data-tnum="3420"
              
                href="#Lnsd/driver.cT3420"
              
              aria-label=" To line 3420"></a>
          </div>
        
        <pre class="source">+        if (p + 2 + chunkLength &gt; end) {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3413T3421">
            
            <a class="line-numbers"
              data-fnum="3413"
              data-tnum="3421"
              
                href="#Lnsd/driver.cF3413T3421"
              
              aria-label="From line 3413 To line 3421"></a>
          </div>
        
        <pre class="source">             Ns_Log(DriverDebug, &quot;ChunkedDecode: chunk length past end of buffer&quot;);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3414">
            
            <a class="line-numbers"
              data-fnum="3414"
              
              
                href="#Lnsd/driver.cF3414"
              
              aria-label="From line 3414 "></a>
          </div>
        
        <pre class="source">-            success = NS_FALSE;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3422">
            
            <a class="line-numbers"
              
              data-tnum="3422"
              
                href="#Lnsd/driver.cT3422"
              
              aria-label=" To line 3422"></a>
          </div>
        
        <pre class="source">+            result = SOCK_MORE;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3415T3423">
            
            <a class="line-numbers"
              data-fnum="3415"
              data-tnum="3423"
              
                href="#Lnsd/driver.cF3415T3423"
              
              aria-label="From line 3415 To line 3423"></a>
          </div>
        
        <pre class="source">             break;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3416T3424">
            
            <a class="line-numbers"
              data-fnum="3416"
              data-tnum="3424"
              
                href="#Lnsd/driver.cF3416T3424"
              
              aria-label="From line 3416 To line 3424"></a>
          </div>
        
        <pre class="source">         }</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3417T3425">
            
            <a class="line-numbers"
              data-fnum="3417"
              data-tnum="3425"
              
                href="#Lnsd/driver.cF3417T3425"
              
              aria-label="From line 3417 To line 3425"></a>
          </div>
        
        <pre class="source">         if (update) {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3418T3426">
            
            <a class="line-numbers"
              data-fnum="3418"
              data-tnum="3426"
              
                href="#Lnsd/driver.cF3418T3426"
              
              aria-label="From line 3418 To line 3426"></a>
          </div>
        
        <pre class="source">             char *writeBuffer = bufPtr-&gt;string + reqPtr-&gt;chunkWriteOff;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3419T3427">
            
            <a class="line-numbers"
              data-fnum="3419"
              data-tnum="3427"
              
                href="#Lnsd/driver.cF3419T3427"
              
              aria-label="From line 3419 To line 3427"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3420">
            
            <a class="line-numbers"
              data-fnum="3420"
              
              
                href="#Lnsd/driver.cF3420"
              
              aria-label="From line 3420 "></a>
          </div>
        
        <pre class="source">-            memmove(writeBuffer, p + 2, chunk_length);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3421">
            
            <a class="line-numbers"
              data-fnum="3421"
              
              
                href="#Lnsd/driver.cF3421"
              
              aria-label="From line 3421 "></a>
          </div>
        
        <pre class="source">-            reqPtr-&gt;chunkWriteOff += chunk_length;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3422">
            
            <a class="line-numbers"
              data-fnum="3422"
              
              
                href="#Lnsd/driver.cF3422"
              
              aria-label="From line 3422 "></a>
          </div>
        
        <pre class="source">-            *(writeBuffer + chunk_length) = &#39;\0&#39;;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3428">
            
            <a class="line-numbers"
              
              data-tnum="3428"
              
                href="#Lnsd/driver.cT3428"
              
              aria-label=" To line 3428"></a>
          </div>
        
        <pre class="source">+            memmove(writeBuffer, p + 2, (size_t)chunkLength);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3429">
            
            <a class="line-numbers"
              
              data-tnum="3429"
              
                href="#Lnsd/driver.cT3429"
              
              aria-label=" To line 3429"></a>
          </div>
        
        <pre class="source">+            reqPtr-&gt;chunkWriteOff += (size_t)chunkLength;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3430">
            
            <a class="line-numbers"
              
              data-tnum="3430"
              
                href="#Lnsd/driver.cT3430"
              
              aria-label=" To line 3430"></a>
          </div>
        
        <pre class="source">+            *(writeBuffer + chunkLength) = &#39;\0&#39;;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3423T3431">
            
            <a class="line-numbers"
              data-fnum="3423"
              data-tnum="3431"
              
                href="#Lnsd/driver.cF3423T3431"
              
              aria-label="From line 3423 To line 3431"></a>
          </div>
        
        <pre class="source">         }</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3424">
            
            <a class="line-numbers"
              data-fnum="3424"
              
              
                href="#Lnsd/driver.cF3424"
              
              aria-label="From line 3424 "></a>
          </div>
        
        <pre class="source">-        reqPtr-&gt;chunkStartOff += (size_t)(p - chunkStart) + 4u + chunk_length;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3432">
            
            <a class="line-numbers"
              
              data-tnum="3432"
              
                href="#Lnsd/driver.cT3432"
              
              aria-label=" To line 3432"></a>
          </div>
        
        <pre class="source">+        reqPtr-&gt;chunkStartOff += (size_t)(p - chunkStart) + 4u + (size_t)chunkLength;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3425T3433">
            
            <a class="line-numbers"
              data-fnum="3425"
              data-tnum="3433"
              
                href="#Lnsd/driver.cF3425T3433"
              
              aria-label="From line 3425 To line 3433"></a>
          </div>
        
        <pre class="source">         chunkStart = bufPtr-&gt;string + reqPtr-&gt;chunkStartOff;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3426T3434">
            
            <a class="line-numbers"
              data-fnum="3426"
              data-tnum="3434"
              
                href="#Lnsd/driver.cF3426T3434"
              
              aria-label="From line 3426 To line 3434"></a>
          </div>
        
        <pre class="source">     }</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3427T3435">
            
            <a class="line-numbers"
              data-fnum="3427"
              data-tnum="3435"
              
                href="#Lnsd/driver.cF3427T3435"
              
              aria-label="From line 3427 To line 3435"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF3428">
            
            <a class="line-numbers"
              data-fnum="3428"
              
              
                href="#Lnsd/driver.cF3428"
              
              aria-label="From line 3428 "></a>
          </div>
        
        <pre class="source">-    return success;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT3436">
            
            <a class="line-numbers"
              
              data-tnum="3436"
              
                href="#Lnsd/driver.cT3436"
              
              aria-label=" To line 3436"></a>
          </div>
        
        <pre class="source">+    return result;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3429T3437">
            
            <a class="line-numbers"
              data-fnum="3429"
              data-tnum="3437"
              
                href="#Lnsd/driver.cF3429T3437"
              
              aria-label="From line 3429 To line 3437"></a>
          </div>
        
        <pre class="source"> }</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3430T3438">
            
            <a class="line-numbers"
              data-fnum="3430"
              data-tnum="3438"
              
                href="#Lnsd/driver.cF3430T3438"
              
              aria-label="From line 3430 To line 3438"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF3431T3439">
            
            <a class="line-numbers"
              data-fnum="3431"
              data-tnum="3439"
              
                href="#Lnsd/driver.cF3431T3439"
              
              aria-label="From line 3431 To line 3439"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="skipped-container" style="counter-reset: fromLines 4113 toLines 4121;">
        <div class="line-numbers-skipped skipped-middle"><span class="ellipsis" title="Show more lines"></span></div>
        <div class="skipped-middle"></div>
      </div>
    

    
    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4114T4122">
            
            <a class="line-numbers"
              data-fnum="4114"
              data-tnum="4122"
              
                href="#Lnsd/driver.cF4114T4122"
              
              aria-label="From line 4114 To line 4122"></a>
          </div>
        
        <pre class="source">     /*</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4115T4123">
            
            <a class="line-numbers"
              data-fnum="4115"
              data-tnum="4123"
              
                href="#Lnsd/driver.cF4115T4123"
              
              aria-label="From line 4115 To line 4123"></a>
          </div>
        
        <pre class="source">      * Check if all content has arrived.</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4116T4124">
            
            <a class="line-numbers"
              data-fnum="4116"
              data-tnum="4124"
              
                href="#Lnsd/driver.cF4116T4124"
              
              aria-label="From line 4116 To line 4124"></a>
          </div>
        
        <pre class="source">      */</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF4117">
            
            <a class="line-numbers"
              data-fnum="4117"
              
              
                href="#Lnsd/driver.cF4117"
              
              aria-label="From line 4117 "></a>
          </div>
        
        <pre class="source">-    Ns_Log(Dev, &quot;=== length &lt; avail (length %&quot; PRIuz</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT4125">
            
            <a class="line-numbers"
              
              data-tnum="4125"
              
                href="#Lnsd/driver.cT4125"
              
              aria-label=" To line 4125"></a>
          </div>
        
        <pre class="source">+    Ns_Log(Debug, &quot;=== length &lt; avail (length %&quot; PRIuz</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4118T4126">
            
            <a class="line-numbers"
              data-fnum="4118"
              data-tnum="4126"
              
                href="#Lnsd/driver.cF4118T4126"
              
              aria-label="From line 4118 To line 4126"></a>
          </div>
        
        <pre class="source">            &quot;, avail %&quot; PRIuz &quot;) tfd %d tfile %p chunkStartOff %&quot; PRIuz,</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4119T4127">
            
            <a class="line-numbers"
              data-fnum="4119"
              data-tnum="4127"
              
                href="#Lnsd/driver.cF4119T4127"
              
              aria-label="From line 4119 To line 4127"></a>
          </div>
        
        <pre class="source">            reqPtr-&gt;length, reqPtr-&gt;avail, sockPtr-&gt;tfd,</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4120T4128">
            
            <a class="line-numbers"
              data-fnum="4120"
              data-tnum="4128"
              
                href="#Lnsd/driver.cF4120T4128"
              
              aria-label="From line 4120 To line 4128"></a>
          </div>
        
        <pre class="source">            (void *)sockPtr-&gt;tfile, reqPtr-&gt;chunkStartOff);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="skipped-container" style="counter-reset: fromLines 4122 toLines 4130;">
        <div class="line-numbers-skipped skipped-middle"><span class="ellipsis" title="Show more lines"></span></div>
        <div class="skipped-middle"></div>
      </div>
    

    
    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4123T4131">
            
            <a class="line-numbers"
              data-fnum="4123"
              data-tnum="4131"
              
                href="#Lnsd/driver.cF4123T4131"
              
              aria-label="From line 4123 To line 4131"></a>
          </div>
        
        <pre class="source">         /*</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4124T4132">
            
            <a class="line-numbers"
              data-fnum="4124"
              data-tnum="4132"
              
                href="#Lnsd/driver.cF4124T4132"
              
              aria-label="From line 4124 To line 4132"></a>
          </div>
        
        <pre class="source">          * Chunked encoding was provided.</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4125T4133">
            
            <a class="line-numbers"
              data-fnum="4125"
              data-tnum="4133"
              
                href="#Lnsd/driver.cF4125T4133"
              
              aria-label="From line 4125 To line 4133"></a>
          </div>
        
        <pre class="source">          */</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF4126">
            
            <a class="line-numbers"
              data-fnum="4126"
              
              
                href="#Lnsd/driver.cF4126"
              
              aria-label="From line 4126 "></a>
          </div>
        
        <pre class="source">-        bool   complete;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF4127">
            
            <a class="line-numbers"
              data-fnum="4127"
              
              
                href="#Lnsd/driver.cF4127"
              
              aria-label="From line 4127 "></a>
          </div>
        
        <pre class="source">-        size_t currentContentLength;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT4134">
            
            <a class="line-numbers"
              
              data-tnum="4134"
              
                href="#Lnsd/driver.cT4134"
              
              aria-label=" To line 4134"></a>
          </div>
        
        <pre class="source">+        SockState chunkState;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT4135">
            
            <a class="line-numbers"
              
              data-tnum="4135"
              
                href="#Lnsd/driver.cT4135"
              
              aria-label=" To line 4135"></a>
          </div>
        
        <pre class="source">+        size_t    currentContentLength;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4128T4136">
            
            <a class="line-numbers"
              data-fnum="4128"
              data-tnum="4136"
              
                href="#Lnsd/driver.cF4128T4136"
              
              aria-label="From line 4128 To line 4136"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF4129">
            
            <a class="line-numbers"
              data-fnum="4129"
              
              
                href="#Lnsd/driver.cF4129"
              
              aria-label="From line 4129 "></a>
          </div>
        
        <pre class="source">-        complete = ChunkedDecode(reqPtr, NS_TRUE);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT4137">
            
            <a class="line-numbers"
              
              data-tnum="4137"
              
                href="#Lnsd/driver.cT4137"
              
              aria-label=" To line 4137"></a>
          </div>
        
        <pre class="source">+        chunkState = ChunkedDecode(reqPtr, NS_TRUE);</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4130T4138">
            
            <a class="line-numbers"
              data-fnum="4130"
              data-tnum="4138"
              
                href="#Lnsd/driver.cF4130T4138"
              
              aria-label="From line 4130 To line 4138"></a>
          </div>
        
        <pre class="source">         currentContentLength = reqPtr-&gt;chunkWriteOff - reqPtr-&gt;coff;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4131T4139">
            
            <a class="line-numbers"
              data-fnum="4131"
              data-tnum="4139"
              
                href="#Lnsd/driver.cF4131T4139"
              
              aria-label="From line 4131 To line 4139"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4132T4140">
            
            <a class="line-numbers"
              data-fnum="4132"
              data-tnum="4140"
              
                href="#Lnsd/driver.cF4132T4140"
              
              aria-label="From line 4132 To line 4140"></a>
          </div>
        
        <pre class="source">         /*</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="skipped-container" style="counter-reset: fromLines 4135 toLines 4143;">
        <div class="line-numbers-skipped skipped-middle"><span class="ellipsis" title="Show more lines"></span></div>
        <div class="skipped-middle"></div>
      </div>
    

    
    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4136T4144">
            
            <a class="line-numbers"
              data-fnum="4136"
              data-tnum="4144"
              
                href="#Lnsd/driver.cF4136T4144"
              
              aria-label="From line 4136 To line 4144"></a>
          </div>
        
        <pre class="source">          * &quot;expectedLength&quot; was provided by the client, we terminate</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4137T4145">
            
            <a class="line-numbers"
              data-fnum="4137"
              data-tnum="4145"
              
                href="#Lnsd/driver.cF4137T4145"
              
              aria-label="From line 4137 To line 4145"></a>
          </div>
        
        <pre class="source">          * depending on that information</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4138T4146">
            
            <a class="line-numbers"
              data-fnum="4138"
              data-tnum="4146"
              
                href="#Lnsd/driver.cF4138T4146"
              
              aria-label="From line 4138 To line 4146"></a>
          </div>
        
        <pre class="source">          */</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Lnsd/driver.cF4139">
            
            <a class="line-numbers"
              data-fnum="4139"
              
              
                href="#Lnsd/driver.cF4139"
              
              aria-label="From line 4139 "></a>
          </div>
        
        <pre class="source">-        if ((!complete)</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT4147">
            
            <a class="line-numbers"
              
              data-tnum="4147"
              
                href="#Lnsd/driver.cT4147"
              
              aria-label=" To line 4147"></a>
          </div>
        
        <pre class="source">+        if ((chunkState == SOCK_MORE)</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4140T4148">
            
            <a class="line-numbers"
              data-fnum="4140"
              data-tnum="4148"
              
                href="#Lnsd/driver.cF4140T4148"
              
              aria-label="From line 4140 To line 4148"></a>
          </div>
        
        <pre class="source">             || (reqPtr-&gt;expectedLength != 0u &amp;&amp; currentContentLength &lt; reqPtr-&gt;expectedLength)) {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4141T4149">
            
            <a class="line-numbers"
              data-fnum="4141"
              data-tnum="4149"
              
                href="#Lnsd/driver.cF4141T4149"
              
              aria-label="From line 4141 To line 4149"></a>
          </div>
        
        <pre class="source">             /*</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4142T4150">
            
            <a class="line-numbers"
              data-fnum="4142"
              data-tnum="4150"
              
                href="#Lnsd/driver.cF4142T4150"
              
              aria-label="From line 4142 To line 4150"></a>
          </div>
        
        <pre class="source">              * ChunkedDecode wants more data.</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4143T4151">
            
            <a class="line-numbers"
              data-fnum="4143"
              data-tnum="4151"
              
                href="#Lnsd/driver.cF4143T4151"
              
              aria-label="From line 4143 To line 4151"></a>
          </div>
        
        <pre class="source">              */</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4144T4152">
            
            <a class="line-numbers"
              data-fnum="4144"
              data-tnum="4152"
              
                href="#Lnsd/driver.cF4144T4152"
              
              aria-label="From line 4144 To line 4152"></a>
          </div>
        
        <pre class="source">             return SOCK_MORE;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT4153">
            
            <a class="line-numbers"
              
              data-tnum="4153"
              
                href="#Lnsd/driver.cT4153"
              
              aria-label=" To line 4153"></a>
          </div>
        
        <pre class="source">+</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT4154">
            
            <a class="line-numbers"
              
              data-tnum="4154"
              
                href="#Lnsd/driver.cT4154"
              
              aria-label=" To line 4154"></a>
          </div>
        
        <pre class="source">+        } else if (chunkState != SOCK_READY) {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Lnsd/driver.cT4155">
            
            <a class="line-numbers"
              
              data-tnum="4155"
              
                href="#Lnsd/driver.cT4155"
              
              aria-label=" To line 4155"></a>
          </div>
        
        <pre class="source">+            return chunkState;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4145T4156">
            
            <a class="line-numbers"
              data-fnum="4145"
              data-tnum="4156"
              
                href="#Lnsd/driver.cF4145T4156"
              
              aria-label="From line 4145 To line 4156"></a>
          </div>
        
        <pre class="source">         }</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4146T4157">
            
            <a class="line-numbers"
              data-fnum="4146"
              data-tnum="4157"
              
                href="#Lnsd/driver.cF4146T4157"
              
              aria-label="From line 4146 To line 4157"></a>
          </div>
        
        <pre class="source">         /*</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Lnsd/driver.cF4147T4158">
            
            <a class="line-numbers"
              data-fnum="4147"
              data-tnum="4158"
              
                href="#Lnsd/driver.cF4147T4158"
              
              aria-label="From line 4147 To line 4158"></a>
          </div>
        
        <pre class="source">          * ChunkedDecode has enough data.</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="skipped-container" >
        <div class="line-numbers-skipped skipped-bottom last"><span class="ellipsis" title="Show more lines"></span></div>
        <div class="skipped-bottom last"></div>
      </div>
    

    
    
  

              
            
          
        </div>
      
    </div>
  </div>
</section>
  
    







  


<section class="iterable-item bb-udiff maskable"
    data-path="tests/http_chunked.test"
    
      data-source-url="/api/internal/repositories/naviserver/naviserver/src/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/tests/http_chunked.test"
    
    id="chg-tests/http_chunked.test"
    
    data-identifier="tests/http_chunked.test"
    data-filename="tests/http_chunked.test"
    
      data-linecommentroots="{}"
    
    data-compare-files-url="/!api/internal/repositories/naviserver/naviserver/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/diff"
    data-expand-context-url="/!api/internal/repositories/naviserver/naviserver/changesets-expand/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/_context/"
    
    
    
    >
  <div class="diff-container">
    <div class="heading">
      <div class="primary">
        <h1 class="filename">
          <span class="aui-icon aui-icon-small aui-iconfont-devtools-file diff-entry-kind-icon">File</span>
          tests/http_chunked.test
          
          <span class="diff-entry-lozenge aui-lozenge aui-lozenge-subtle aui-lozenge-complete">Modified</span>
        </h1>
      </div>
      <div class="diff-actions secondary">
        
        <div class="aui-buttons">
          
        </div>
        <div class="aui-buttons">
          
            
              <button class="execute click aui-button aui-button-light sbs"
                  title="View the side-by-side diff for this file"
                  data-module="components/tooltip">
                Side-by-side diff
              </button>
            
            
              <a class="view-file aui-button aui-button-light"
                  
                    href="/naviserver/naviserver/src/a5c3079f1d8996d5f34c9384a440acf3519ca3bb/tests/http_chunked.test"
                    title="View the full source of this file"
                  
                  data-module="components/tooltip">
                View file
              </a>
            
          
        </div>
        
        <div class="aui-buttons">
          <button class="aui-button aui-button-light aui-button-subtle aui-dropdown2-trigger aui-dropdown2-trigger-arrowless aui-dropdown2-trigger-more"
              aria-owns="file-more-dropdown-tests/http_chunked.test"
              aria-haspopup="true"
              data-container="#chg-tests/http_chunked.test">
            <span class="aui-icon aui-icon-small aui-iconfont-more">More</span>
          </button>
        </div>
        <div id="file-more-dropdown-tests/http_chunked.test" class="aui-dropdown2 aui-style-default">
          <ul>
            <li>
              <span role="checkbox" class="diff-ignore-whitespace aui-dropdown2-checkbox "
                  data-jump-to="#chg-tests/http_chunked.test"
                  aria-checked="false"
                  data-key="ignoreWhitespace"
                  title="Ignore whitespace changes for all files in this diff"
                  data-tooltip-gravity="e"
                  data-module="components/tooltip">
                Ignore whitespace
              </span>
            </li>
            
            <li>
              <span role="checkbox" class="diff-hide-word-diff aui-dropdown2-checkbox"
                  
                  data-diff="chg-tests/http_chunked.test"
                  data-key="hideWordDiff"
                  title="Hide word diff">
                Hide word diff
              </span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    

      <div class="diff-content-container refract-container ">
      
        
          
  
  
  

  
    
    
  

  

        
      
      
        <div class="refract-content-container">
          
            
              
                


  
  
    
      <div class="skipped-container" style="counter-reset: fromLines 129 toLines 129;">
        <div class="line-numbers-skipped skipped-top first"><span class="ellipsis" title="Show more lines"></span></div>
        <div class="skipped-top first"></div>
      </div>
    

    
    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Ltests/http_chunked.testF130T130">
            
            <a class="line-numbers"
              data-fnum="130"
              data-tnum="130"
              
                href="#Ltests/http_chunked.testF130T130"
              
              aria-label="From line 130 To line 130"></a>
          </div>
        
        <pre class="source">     ns_unregister_op GET /tclchunked</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Ltests/http_chunked.testF131T131">
            
            <a class="line-numbers"
              data-fnum="131"
              data-tnum="131"
              
                href="#Ltests/http_chunked.testF131T131"
              
              aria-label="From line 131 To line 131"></a>
          </div>
        
        <pre class="source"> } -result {200 {} 5 01234}</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Ltests/http_chunked.testF132T132">
            
            <a class="line-numbers"
              data-fnum="132"
              data-tnum="132"
              
                href="#Ltests/http_chunked.testF132T132"
              
              aria-label="From line 132 To line 132"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT133">
            
            <a class="line-numbers"
              
              data-tnum="133"
              
                href="#Ltests/http_chunked.testT133"
              
              aria-label=" To line 133"></a>
          </div>
        
        <pre class="source">+test http_chunked-2.4 {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Ltests/http_chunked.testF133T134">
            
            <a class="line-numbers"
              data-fnum="133"
              data-tnum="134"
              
                href="#Ltests/http_chunked.testF133T134"
              
              aria-label="From line 133 To line 134"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line deletion" >
        
          <div class="gutter" id="Ltests/http_chunked.testF134">
            
            <a class="line-numbers"
              data-fnum="134"
              
              
                href="#Ltests/http_chunked.testF134"
              
              aria-label="From line 134 "></a>
          </div>
        
        <pre class="source">-test http_chunked-3-1 {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT135">
            
            <a class="line-numbers"
              
              data-tnum="135"
              
                href="#Ltests/http_chunked.testT135"
              
              aria-label=" To line 135"></a>
          </div>
        
        <pre class="source">+    POST request with invalid chunked content</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT136">
            
            <a class="line-numbers"
              
              data-tnum="136"
              
                href="#Ltests/http_chunked.testT136"
              
              aria-label=" To line 136"></a>
          </div>
        
        <pre class="source">+</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT137">
            
            <a class="line-numbers"
              
              data-tnum="137"
              
                href="#Ltests/http_chunked.testT137"
              
              aria-label=" To line 137"></a>
          </div>
        
        <pre class="source">+} -constraints serverListen -setup {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT138">
            
            <a class="line-numbers"
              
              data-tnum="138"
              
                href="#Ltests/http_chunked.testT138"
              
              aria-label=" To line 138"></a>
          </div>
        
        <pre class="source">+    ns_register_proc PUT /tclchunked {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT139">
            
            <a class="line-numbers"
              
              data-tnum="139"
              
                href="#Ltests/http_chunked.testT139"
              
              aria-label=" To line 139"></a>
          </div>
        
        <pre class="source">+        set content [ns_conn content]</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT140">
            
            <a class="line-numbers"
              
              data-tnum="140"
              
                href="#Ltests/http_chunked.testT140"
              
              aria-label=" To line 140"></a>
          </div>
        
        <pre class="source">+        #ns_log notice &quot;PUT received &lt;$content&gt;&quot;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT141">
            
            <a class="line-numbers"
              
              data-tnum="141"
              
                href="#Ltests/http_chunked.testT141"
              
              aria-label=" To line 141"></a>
          </div>
        
        <pre class="source">+        ns_return 200 text/plain $content</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT142">
            
            <a class="line-numbers"
              
              data-tnum="142"
              
                href="#Ltests/http_chunked.testT142"
              
              aria-label=" To line 142"></a>
          </div>
        
        <pre class="source">+    }</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT143">
            
            <a class="line-numbers"
              
              data-tnum="143"
              
                href="#Ltests/http_chunked.testT143"
              
              aria-label=" To line 143"></a>
          </div>
        
        <pre class="source">+} -body {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT144">
            
            <a class="line-numbers"
              
              data-tnum="144"
              
                href="#Ltests/http_chunked.testT144"
              
              aria-label=" To line 144"></a>
          </div>
        
        <pre class="source">+    nstest::http-0.9 -http 1.1 \</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT145">
            
            <a class="line-numbers"
              
              data-tnum="145"
              
                href="#Ltests/http_chunked.testT145"
              
              aria-label=" To line 145"></a>
          </div>
        
        <pre class="source">+        -omitcontentlength 1 \</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT146">
            
            <a class="line-numbers"
              
              data-tnum="146"
              
                href="#Ltests/http_chunked.testT146"
              
              aria-label=" To line 146"></a>
          </div>
        
        <pre class="source">+        -setheaders {Transfer-Encoding Chunked} \</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT147">
            
            <a class="line-numbers"
              
              data-tnum="147"
              
                href="#Ltests/http_chunked.testT147"
              
              aria-label=" To line 147"></a>
          </div>
        
        <pre class="source">+        -getheaders {Transfer-Encoding Content-Length} -getbody 1 \</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT148">
            
            <a class="line-numbers"
              
              data-tnum="148"
              
                href="#Ltests/http_chunked.testT148"
              
              aria-label=" To line 148"></a>
          </div>
        
        <pre class="source">+        PUT /tclchunked &quot;-1\r\nchunk\r\n0\r\n\r\n&quot;</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT149">
            
            <a class="line-numbers"
              
              data-tnum="149"
              
                href="#Ltests/http_chunked.testT149"
              
              aria-label=" To line 149"></a>
          </div>
        
        <pre class="source">+} -cleanup {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT150">
            
            <a class="line-numbers"
              
              data-tnum="150"
              
                href="#Ltests/http_chunked.testT150"
              
              aria-label=" To line 150"></a>
          </div>
        
        <pre class="source">+    ns_unregister_op PUT /tclchunked</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT151">
            
            <a class="line-numbers"
              
              data-tnum="151"
              
                href="#Ltests/http_chunked.testT151"
              
              aria-label=" To line 151"></a>
          </div>
        
        <pre class="source">+} -match glob -result {200 {} 0 {HTTP/1.0 400 Bad Request*}}</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT152">
            
            <a class="line-numbers"
              
              data-tnum="152"
              
                href="#Ltests/http_chunked.testT152"
              
              aria-label=" To line 152"></a>
          </div>
        
        <pre class="source">+</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line addition" >
        
          <div class="gutter" id="Ltests/http_chunked.testT153">
            
            <a class="line-numbers"
              
              data-tnum="153"
              
                href="#Ltests/http_chunked.testT153"
              
              aria-label=" To line 153"></a>
          </div>
        
        <pre class="source">+test http_chunked-3.1 {</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Ltests/http_chunked.testF135T154">
            
            <a class="line-numbers"
              data-fnum="135"
              data-tnum="154"
              
                href="#Ltests/http_chunked.testF135T154"
              
              aria-label="From line 135 To line 154"></a>
          </div>
        
        <pre class="source"> </pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Ltests/http_chunked.testF136T155">
            
            <a class="line-numbers"
              data-fnum="136"
              data-tnum="155"
              
                href="#Ltests/http_chunked.testF136T155"
              
              aria-label="From line 136 To line 155"></a>
          </div>
        
        <pre class="source">     PUT with Transfer-Encoding Chunked and unknown Content-Length (but</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="udiff-line common" >
        
          <div class="gutter" id="Ltests/http_chunked.testF137T156">
            
            <a class="line-numbers"
              data-fnum="137"
              data-tnum="156"
              
                href="#Ltests/http_chunked.testF137T156"
              
              aria-label="From line 137 To line 156"></a>
          </div>
        
        <pre class="source">     provided X-Expected-Entity-Length). This is the format that WebDAV</pre>
      </div>
    

    
    
      
  
  
  

  
    
    
  

  

    
  
    
      <div class="skipped-container" >
        <div class="line-numbers-skipped skipped-bottom last"><span class="ellipsis" title="Show more lines"></span></div>
        <div class="skipped-bottom last"></div>
      </div>
    

    
    
  

              
            
          
        </div>
      
    </div>
  </div>
</section>
  
  </div>
</section>
  </section>

        
        
        
      </div>
    </div>
  </div>

      </div>
    </div>
  
  <div id="adg3-flag-root"></div>
  <div id="tos-modal"></div>
</div>

<div id="adg3-dialog"></div>


  

<div data-module="components/mentions/index">
  
    
    
  
  
    
    
  
  
    
    
  
</div>
<div data-module="components/typeahead/emoji/index">
  
    
    
  
</div>

<div data-module="components/repo-typeahead/index">
  
    
    
  
</div>

    
    
  


  





  

  <div class="_mustache-templates">
    
      <script id="unmapped-author-dialog" type="text/html">
        

<h3>Unmapped user</h3>
<p>This user cannot be matched to an Atlassian account.</p>
<pre>[[raw_author]]</pre>
<p><a href="[[link]]">Create an alias in your repository administration.</a></p>

      </script>
    
      <script id="participant-template" type="text/html">
        
<li data-username="[[uuid]]">
  <a [[^unmapped]]
     href="/[[uuid]]/"
     [[/unmapped]]
     class="[[#approved]]approved[[/approved]]"
     [[#approved]]
       title="[[display_name]] approved this [[noun]] [[date]]"
     [[/approved]]
     [[^approved]]
        [[#date]]
          title="[[display_name]] updated this [[noun]] [[date]]"
        [[/date]]
        [[^date]]
          title="[[display_name]][[#unmapped]] (This user cannot be matched to an Atlassian account)[[/unmapped]]"
        [[/date]]
     [[/approved]]
    >
    <span class="aui-avatar
      [[#size]]
       aui-avatar-[[size]]
      [[/size]]
      [[^size]]
       aui-avatar-medium
      [[/size]]">
      <span class="aui-avatar-inner">
        <img alt="[[display_name]]"
         [[#unmapped]]
           src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/unmapped_author_32.png"
         [[/unmapped]]
         [[^unmapped]]
           [[#avatar]]
             src="[[avatar]]"
           [[/avatar]]
           [[^avatar]]
             src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/no_avatar.png"
           [[/avatar]]
         [[/unmapped]] />
      </span>
    </span>
    <span>[[display_name]]</span>
  </a>
</li>

      </script>
    
      <script id="comment-template" type="text/html">
        



[[#deleted]]
<div class="deleted-comment-message" id="comment-[[comment_id]]" data-comment-id="[[comment_id]]">
  Comment deleted
</div>
[[/deleted]]

[[^deleted]]
<article id="comment-[[comment_id]]" class="iterable-item"
         data-content="[[content]]" data-comment-id="[[comment_id]]"
         data-convert-markup="[[convert_markup]]">
  <header>
    <div class="aui-avatar aui-avatar-medium author-avatar">
      <div class="aui-avatar-inner">
        <img src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/default_avatar/user_blue.svg" class="deferred-image"
            data-src-url="[[user_avatar_url]]"
            data-src-url-2x="[[user_avatar_url_2x]]" alt="">
      </div>
    </div>

    <span class="author-name">[[display_name]]</span>
    [[#account_status_lozenge]]
      <span class="aui-lozenge">[[account_status_lozenge]]</span>
    [[/account_status_lozenge]]
    [[#is_entity_author]]
      <span class="aui-lozenge aui-lozenge-complete aui-lozenge-subtle author-lozenge">author</span>
    [[/is_entity_author]]
    [[^is_entity_author]]
      [[#is_repo_owner]]
        <span class="aui-lozenge aui-lozenge-complete aui-lozenge-subtle owner-lozenge">repo owner</span>
      [[/is_repo_owner]]
    [[/is_entity_author]]
  </header>
  <div class="wiki-content comment-content">
    [[& content_rendered]]
  </div>
  <ul class="comment-actions">
    

[[#isAuthenticated]]
  <li>
    <a href="#reply" class="reply-link execute click" data-add-to-stack="true">Reply</a>
  </li>
[[/isAuthenticated]]
[[#isLikable]]
  <li>
    <a href="#like" class="comment-actions--toggle-like"></a>
  </li>
[[/isLikable]]
[[#isAuthenticated]]
  <li class="comment-actions--like-info hidden" data-likes="[[likes]]"></li>
[[/isAuthenticated]]
[[#isEditable]]
  <li>
    <a href="#edit" class="edit-link">Edit</a>
  </li>
  <li>
    <a href="#delete" class="delete-link">Delete</a>
  </li>
[[/isEditable]]
[[^isEditable]]
  [[#isAdmin]]
  <li>
    <a href="#delete" class="delete-link">Delete</a>
  </li>
  [[/isAdmin]]
[[/isEditable]]
[[#show_tasks]]
  [[#allow_task_creation]]
    <li>
      <a href="#create-task" class="task-link execute click">Create task</a>
    </li>
  [[/allow_task_creation]]
[[/show_tasks]]
<li>
  <a class="permalink" href="#comment-[[comment_id]]" title="Link directly to this comment"><time datetime="[[utc_created_on]]" data-title="true">[[utc_created_on]]</time></a>
</li>

  </ul>
</article>
[[/deleted]]


<ul class="task-list"></ul>
<ol class="child-comments iterable"></ol>

      </script>
    
      <script id="new-comment-template" type="text/html">
        
<li class="new-comment">
  <div class="user">
    <div class="aui-avatar aui-avatar-medium">
      <div class="aui-avatar-inner">
        <img src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/default_avatar/user_blue.svg" class="deferred-image"
            data-src-url="[[user_avatar_url]]"
            data-src-url-2x="[[user_avatar_url_2x]]" alt="">
      </div>
    </div>
  </div>
  <form class="aui top-label editor" action="#">
    <input type="hidden" class="parent_id"/>
    <input type="hidden" class="comment_id"/>
    [[#convert_markup]]
      <div class="warning aui-message aui-message-warning convert-markup">
        
        This comment is currently being rendered in creole. Editing the comment will cause it to be rendered in <a target="_blank" href="https://confluence.atlassian.com/x/jIAuEg">markdown</a>.
        
      </div>
    [[/convert_markup]]
    <div class="field-group">
      <textarea id="id_new_comment" class="bb-mention-input"
          
          placeholder="What do you want to say?">[[content]]</textarea>
      <div class="preview-container wiki-content"><!-- loaded via ajax --></div>
      <div class="error"></div>
    </div>
    
      <div class="gdpr-legacy-mentions-notice">
      </div>
    
    <div class="buttons">
      <button class="aui-button aui-button-primary js-comment-button" type="submit">Comment</button>
      <a href="#" class="cancel">Cancel</a>
      
      

    </div>
    <div class="mask"></div>
  </form>
</li>

      </script>
    
      <script id="new-atlassian-editor-comment-template" type="text/html">
        
<li class="new-comment">
  <div class="user">
    <div class="aui-avatar aui-avatar-medium">
      <div class="aui-avatar-inner">
        [[^hide_avatar]]
        <img src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/img/default_avatar/user_blue.svg" class="deferred-image"
            data-src-url="[[user_avatar_url]]"
            data-src-url-2x="[[user_avatar_url_2x]]" alt="">
        [[/hide_avatar]]
      </div>
    </div>
  </div>
  [[#convert_markup]]
    <div class="warning aui-message aui-message-warning convert-markup">
      
      This comment is currently being rendered in creole. Editing the comment will cause it to be rendered in <a target="_blank" href="https://confluence.atlassian.com/x/jIAuEg">markdown</a>.
      
    </div>
  [[/convert_markup]]
  <ak-editor-bitbucket
    default-value="[[content]]"
    context="comment"
    placeholder="What do you want to say?"
    show-buttons="true"
    data-mention-url=""
    [[#can_private_comment]]
      private-comment-checkbox="true"
      [[#is_private]]
        private-comment-checked="true"
      [[/is_private]]
    [[/can_private_comment]]
  ></ak-editor-bitbucket>
  <div class="error"></div>
  <div class="autoformatting-hints">Hint: Try **bold**, `inline code` or ``` for code blocks.</div>
</li>

      </script>
    
      <script id="diff-too-big-template" type="text/html">
        
<section class="bb-udiff iterable-item"
    id="chg-[[ diffidentifier ]]"
    data-identifier="[[ diffidentifier ]]"
    data-filename="[[ filename ]]"
    data-eclipsed-comment-view-url="">
  <div class="heading [[# conflict ]]conflicts[[/ conflict ]]">
    <div class="primary">
      <h1 class="filename">[[ filename ]]</h1>
    </div>
    
  </div>
  <div class="diff-message-container">
    <div class="aui-message info aui-message-info too-big-message">
      <p class="title">
        <strong class="try-again">Oops! You've got a lot of code in this diff and it couldn't load with the page.</strong>
        <a href="#" class="load-diff try-again">Click here to give it another chance.</a>
        <strong class="try-again-failed">Now that is a lot of code! There's simply too much in this diff for us to render it all.</strong>
      </p>
    </div>
  </div>
</section>

      </script>
    
      <script id="lfs-downloadable-template" type="text/html">
        

<div class="lfs-unrenderable-file">
  <div class="lfs-unrenderable-file--image"></div>
  <h3 class="lfs-unrenderable-file--title">Preview unavailable</h3>
  <p class="lfs-unrenderable-file--description">Download this file to view it.</p>
  <a class="aui-button aui-button-primary lfs-unrenderable-file--download"
      href="[[downloadUrl]]">
    Download file
  </a>
</div>

      </script>
    
      <script id="lfs-error-template" type="text/html">
        
<div class="lfs-unrenderable-file lfs-error">
  <div class="lfs-unrenderable-file--image"></div>
  [[#missing]]
    <h3 class="lfs-unrenderable-file--title">File missing</h3>
    <p class="lfs-unrenderable-file--description">Your file may not have been correctly uploaded.</p>
    <p class="lfs-unrenderable-file--action">
      
        <a href="https://confluence.atlassian.com/x/pwKSMQ#TroubleshootGitLFSinBitbucket-missing_LFS_file" target="_blank">Troubleshoot this</a>
      
    </p>
  [[/missing]]
  [[^missing]]
    <h3 class="lfs-unrenderable-file--title">File storage error</h3>
    <p class="lfs-unrenderable-file--description">
      
        An internal error has occurred while accessing the file.
      
    </p>
    <p class="lfs-unrenderable-file--description">
      
      
        You can
        <a class="support-ga" data-support-gaq-page="SACCreateIssue"
           href="https://support.atlassian.com/bitbucket-cloud/" target="_blank">
            contact support
        </a>
        if the problem persists.
      
    </p>
    [[/missing]]
</div>

      </script>
    
      <script id="two-up-diff-template" type="text/html">
        

<div class="diff two-up">
  [[#show_image_toolbar]]
    <div class="aui-toolbar2 image-differ-toolbar" role="toolbar">
      <div class="aui-toolbar2-inner">
        <div class="aui-toolbar2-primary image-differ-toggle">
          <div class="aui-buttons">
            <button class="aui-button image-differ-two-up" aria-pressed="true"
                title="Compare images alongside each other">
              Two-up
            </button>
            <button class="aui-button image-differ-blend" aria-disabled="true"
                title="Blend mode image diff is not available because images are not of the same dimension"
                data-enabled-title="Compare the image changes by fading in the differences"
            >
              Blend
            </button>
            <button class="aui-button image-differ-split" aria-disabled="true"
                title="Split mode image diff is not available because images are not of the same dimension"
                data-enabled-title="Compare the image changes by moving your mouse cursor left or right over the image"
            >
              Split
            </button>
            <button class="aui-button image-differ-pixeldiff" aria-disabled="true"
                title="Pixel diff mode image diff is not available because images are not of the same dimension"
                data-enabled-title="Compare the image changes by seeing which pixels have changed"
            >
            Pixel diff
            </button>
          </div>
        </div>
      </div>
    </div>
  [[/show_image_toolbar]]
  <div class="two-up-diff--side-container">
    [[#from.html]]
      <div class="since-revision binary two-up-diff--side">
        <h5>
          [[^to]]Removed[[/to]][[#to]]Old[[/to]]
          
            [[#from.lfs]]
              <button id="lfs-details-trigger" data-aui-trigger aria-controls="[[lfs_dialog_since_id]]" class="aui-lozenge aui-lozenge-complete">Git LFS</button>
              
                

<aui-inline-dialog
    id="[[lfs_dialog_since_id]]"
    alignment="bottom center" class="lfs-info-dialog">
  <h2>File stored in Git LFS</h2>
  <p>The LFS repository stores a text pointer to
    this file, which is actually stored on a remote server. <a href="https://confluence.atlassian.com/x/RDRmMQ" target="_blank">Read about Git LFS.</a>
    </p>
  <div class="lfs-info-dialog--actions">
    <button class="lfs-info-dialog--close aui-button">Close</button>
    
  </div>
</aui-inline-dialog>

              
            [[/from.lfs]]
          
        </h5>
        [[&from.html]]
      </div>
    [[/from.html]]
    [[#to.html]]
      <div class="until-revision binary two-up-diff--side">
        <h5>
          [[^from]]Added[[/from]][[#from]]New[[/from]]
          
            [[#to.lfs]]
              <button id="lfs-details-trigger" data-aui-trigger aria-controls="[[lfs_dialog_until_id]]" class="until-revision aui-lozenge aui-lozenge-complete">Git LFS</button>
              
                

<aui-inline-dialog
    id="[[lfs_dialog_until_id]]"
    alignment="bottom center" class="lfs-info-dialog">
  <h2>File stored in Git LFS</h2>
  <p>The LFS repository stores a text pointer to
    this file, which is actually stored on a remote server. <a href="https://confluence.atlassian.com/x/RDRmMQ" target="_blank">Read about Git LFS.</a>
    </p>
  <div class="lfs-info-dialog--actions">
    <button class="lfs-info-dialog--close aui-button">Close</button>
    
  </div>
</aui-inline-dialog>

              
            [[/to.lfs]]
          
        </h5>
        [[&to.html]]
      </div>
    [[/to.html]]
  </div>
</div>

      </script>
    
      <script id="image-diff-image-template" type="text/html">
        

<img src="[[imageSrc]]"
     alt="Old image"
     crossorigin="anonymous"
>

      </script>
    
      <script id="two-up-downloadable-preview-template" type="text/html">
        

<div class="two-up-diff--unrenderable">
  <div class="two-up-diff--unrenderable--image[[#isLfs]] two-up-diff--unrenderable--image--lfs[[/isLfs]]"></div>
  <h3 class="two-up-diff--unrenderable--title">Preview unavailable</h3>
  <p class="two-up-diff--unrenderable--description">Download this file to view it.</p>
  <a class="aui-button aui-button-primary two-up-diff--unrenderable--download"
     href="[[downloadUrl]]">
    Download file
  </a>
</div>

      </script>
    
      <script id="mention-result" type="text/html">
        
[[! Escaping can be disabled (with "&") for these template vars because they're manually escaped in the various consumers ]]
<span class="mention-result">
  <span class="aui-avatar aui-avatar-small mention-result--avatar">
    <span class="aui-avatar-inner">
      <img src="[[avatar_url]]">
    </span>
  </span>
  [[#display_name]]
    [[#has_distinct_display_name]]
      [[#nickname]]
        <span class="display-name mention-result--display-name">[[&display_name]]</span> <span class="username mention-result--secondary-name mention-result--username">([[&nickname]])</span>
      [[/nickname]]
      [[^nickname]]
        <span class="display-name mention-result--display-name">[[&display_name]]</span> <span class="username mention-result--secondary-name mention-result--username">([[&mention_id]])</span>
      [[/nickname]]
    [[/has_distinct_display_name]]
    [[^has_distinct_display_name]]
      <span class="display-name mention-result--display-name distinct">[[&display_name]]</span>
    [[/has_distinct_display_name]]
  [[/display_name]]
  [[^display_name]]
    [[#nickname]]
      <span class="username mention-result--username">[[&nickname]]</span>
    [[/nickname]]
    [[^nickname]]
      <span class="username mention-result--username">[[&mention_id]]</span>
    [[/nickname]]
  [[/display_name]]
  [[#should_show_review_count]][[#open_review_count]][[^is_team]]
    <span class="aui-lozenge aui-lozenge-complete aui-lozenge-subtle mention-result--lozenge">
      [[#is_review_count_plural]]
        
          [[open_review_count]] reviews
        
      [[/is_review_count_plural]]
      [[^is_review_count_plural]]
        
          [[open_review_count]] review
        
      [[/is_review_count_plural]]
    </span>
  [[/is_team]][[/open_review_count]][[/should_show_review_count]]
  [[#is_teammate]][[^is_team]]
    <span class="aui-lozenge aui-lozenge-complete aui-lozenge-subtle mention-result--lozenge">teammate</span>
  [[/is_team]][[/is_teammate]]
</span>

      </script>
    
      <script id="mention-call-to-action" type="text/html">
        
[[^query]]
<li class="bb-typeahead-item">Begin typing to search for a user</li>
[[/query]]
[[#query]]
<li class="bb-typeahead-item">Continue typing to search for a user</li>
[[/query]]

      </script>
    
      <script id="mention-no-results" type="text/html">
        
[[^searching]]
<li class="bb-typeahead-item">Found no matching users for <em>[[query]]</em>.</li>
[[/searching]]
[[#searching]]
<li class="bb-typeahead-item bb-typeahead-searching">Searching for <em>[[query]]</em>.</li>
[[/searching]]

      </script>
    
      <script id="emoji-result" type="text/html">
        
<span class="emoji-result">
  <span class="emoji-result--avatar">
    <img class="emoji" src="[[src]]">
  </span>
  <span class="name emoji-result--name">[[&name]]</span>
</span>

      </script>
    
      <script id="repo-typeahead-result" type="text/html">
        <span class="aui-avatar aui-avatar-project aui-avatar-xsmall">
  <span class="aui-avatar-inner">
    <img src="[[avatar]]">
  </span>
</span>
<span class="owner">[[&owner]]</span>/<span class="slug">[[&slug]]</span>

      </script>
    
      <script id="scope-list-template" type="text/html">
        <ul class="scope-list">
  [[#scopes]]
    <li class="scope-list--item">[[description]]</li>
  [[/scopes]]
</ul>

      </script>
    
  </div>




  

<script nonce="Jhlf1PkCp7LZVTQd6L1rjQ==">
  window.__initial_state__ = {"section": {"repository": {"connectActions": [], "cloneProtocol": "https", "currentRepository": {"scm": "git", "website": "https://sourceforge.net/projects/naviserver/", "uuid": "{b254c7f6-be9b-42f9-af9d-dfe24acee10e}", "links": {"clone": [{"href": "https://bitbucket.org/naviserver/naviserver.git", "name": "https"}, {"href": "git@bitbucket.org:naviserver/naviserver.git", "name": "ssh"}], "self": {"href": "https://bitbucket.org/!api/2.0/repositories/naviserver/naviserver"}, "html": {"href": "https://bitbucket.org/naviserver/naviserver"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7Bb254c7f6-be9b-42f9-af9d-dfe24acee10e%7D?ts=2423627"}}, "name": "naviserver", "project": {"description": "Project created by Bitbucket for NaviServer", "links": {"self": {"href": "https://bitbucket.org/!api/2.0/workspaces/naviserver/projects/PROJ"}, "html": {"href": "https://bitbucket.org/naviserver/workspace/projects/PROJ"}, "avatar": {"href": "https://bitbucket.org/account/user/naviserver/projects/PROJ/avatar/32?ts=1455638617"}}, "name": "NaviServer Project", "created_on": "2015-11-12T01:25:05.457737+00:00", "has_publicly_visible_repos": true, "key": "PROJ", "updated_on": "2016-02-16T16:03:37.154526+00:00", "owner": {"username": "naviserver", "type": "team", "display_name": "NaviServer", "uuid": "{fcded27e-4b31-4f81-94ff-c1d92456381d}", "links": {"self": {"href": "https://bitbucket.org/!api/2.0/workspaces/%7Bfcded27e-4b31-4f81-94ff-c1d92456381d%7D"}, "html": {"href": "https://bitbucket.org/%7Bfcded27e-4b31-4f81-94ff-c1d92456381d%7D/"}, "avatar": {"href": "https://bitbucket.org/account/naviserver/avatar/"}}}, "workspace": {"name": "NaviServer", "type": "workspace", "uuid": "{fcded27e-4b31-4f81-94ff-c1d92456381d}", "links": {"self": {"href": "https://bitbucket.org/!api/2.0/workspaces/naviserver"}, "html": {"href": "https://bitbucket.org/naviserver/"}, "avatar": {"href": "https://bitbucket.org/workspaces/naviserver/avatar/?ts=1543457354"}}, "slug": "naviserver"}, "type": "project", "is_private": false, "uuid": "{7f4968ff-fb49-4fc4-a34c-36294bca4816}"}, "language": "c", "mainbranch": {"name": "master"}, "full_name": "naviserver/naviserver", "owner": {"username": "naviserver", "display_name": "NaviServer", "uuid": "{fcded27e-4b31-4f81-94ff-c1d92456381d}", "links": {"self": {"href": "https://bitbucket.org/!api/2.0/workspaces/%7Bfcded27e-4b31-4f81-94ff-c1d92456381d%7D"}, "html": {"href": "https://bitbucket.org/%7Bfcded27e-4b31-4f81-94ff-c1d92456381d%7D/"}, "avatar": {"href": "https://bitbucket.org/account/naviserver/avatar/"}}, "is_active": true, "created_on": "2008-11-18T04:14:47.375089+00:00", "type": "team", "properties": {}, "has_2fa_enabled": null}, "updated_on": "2021-10-29T18:40:25.035231+00:00", "type": "repository", "slug": "naviserver", "is_private": false, "description": "NaviServer is a scalable, multithreaded web server / multi-protocol server written in C and Tcl. It can be easily extended in either language to create interesting web sites and services."}, "mirrors": [], "sizeLimits": {"readOnly": 10737418240.0, "hard": 4294967296, "soft": 2147483648}, "menuItems": [{"analytics_label": "repository.source", "is_client_link": true, "icon_class": "icon-source", "target": "_self", "weight": 200, "url": "/naviserver/naviserver/src", "tab_name": "source", "can_display": true, "label": "Source", "is_premium": null, "is_dropdown_item": false, "anchor": true, "badge_label": null, "analytics_payload": {}, "matching_url_prefixes": ["/diff", "/history-node"], "id": "repo-source-link", "test_id": null, "type": "menu_item", "children": [], "icon": "icon-source"}, {"analytics_label": "repository.commits", "is_client_link": true, "icon_class": "icon-commits", "target": "_self", "weight": 300, "url": "/naviserver/naviserver/commits/", "tab_name": "commits", "can_display": true, "label": "Commits", "is_premium": null, "is_dropdown_item": false, "anchor": true, "badge_label": null, "analytics_payload": {}, "matching_url_prefixes": [], "id": "repo-commits-link", "test_id": null, "type": "menu_item", "children": [], "icon": "icon-commits"}, {"analytics_label": "repository.branches", "is_client_link": true, "icon_class": "icon-branches", "target": "_self", "weight": 400, "url": "/naviserver/naviserver/branches/", "tab_name": "branches", "can_display": true, "label": "Branches", "is_premium": null, "is_dropdown_item": false, "anchor": true, "badge_label": null, "analytics_payload": {}, "matching_url_prefixes": ["/branch"], "id": "repo-branches-link", "test_id": null, "type": "menu_item", "children": [], "icon": "icon-branches"}, {"analytics_label": "repository.pullrequests", "is_client_link": true, "icon_class": "icon-pull-requests", "target": "_self", "weight": 500, "url": "/naviserver/naviserver/pull-requests/", "tab_name": "pullrequests", "can_display": true, "label": "Pull requests", "is_premium": null, "is_dropdown_item": false, "anchor": true, "badge_label": null, "analytics_payload": {}, "matching_url_prefixes": [], "id": "repo-pullrequests-link", "test_id": null, "type": "menu_item", "children": [], "icon": "icon-pull-requests"}, {"analytics_label": "user.addon", "is_client_link": true, "icon_class": "aui-iconfont-unfocus", "target": "_self", "weight": 550, "url": "/naviserver/naviserver/addon/pipelines/home", "tab_name": "repopage-5aqEaa-add-on-link", "can_display": true, "label": "Pipelines", "is_premium": null, "icon_url": "https://bitbucket-connect-icons.s3.amazonaws.com/add-on/icons/62acf41d-386f-49fd-b823-4f86445390e2.svg?AWSAccessKeyId=AKIA6KOSE3BNJRRFUUX6&Expires=1635610875&Signature=AxigMJUQoxtkLbV9BkRf4eH%2BIc4%3D", "is_dropdown_item": false, "anchor": true, "analytics_payload": {}, "matching_url_prefixes": [], "id": "repopage-5aqEaa-add-on-link", "test_id": null, "type": "connect_menu_item", "children": [], "badge_label": null}, {"analytics_label": "user.addon", "is_client_link": true, "icon_class": "aui-iconfont-unfocus", "target": "_self", "weight": 560, "url": "/naviserver/naviserver/addon/pipelines/deployments", "tab_name": "repopage-Xor7oB-add-on-link", "can_display": true, "label": "Deployments", "is_premium": null, "icon_url": "https://bitbucket-connect-icons.s3.amazonaws.com/add-on/icons/fca72d46-7e20-4dc4-b6a8-c83fb9665cc6.svg?AWSAccessKeyId=AKIA6KOSE3BNJRRFUUX6&Expires=1635610875&Signature=yrBMh7GJSP%2BmDyk%2FBVGZrM1Lhk8%3D", "is_dropdown_item": false, "anchor": true, "analytics_payload": {}, "matching_url_prefixes": [], "id": "repopage-Xor7oB-add-on-link", "test_id": null, "type": "connect_menu_item", "children": [], "badge_label": null}, {"analytics_label": "repository.jira", "is_client_link": true, "icon_class": "icon-jira", "target": "_self", "weight": 600, "url": "/naviserver/naviserver/jira", "tab_name": "jira", "can_display": true, "label": "Jira issues", "is_premium": null, "is_dropdown_item": false, "anchor": true, "badge_label": null, "analytics_payload": {}, "matching_url_prefixes": [], "id": "repo-jira-link", "test_id": null, "type": "menu_item", "children": [], "icon": "icon-jira"}, {"analytics_label": "repository.security", "is_client_link": true, "icon_class": "icon-security", "target": "_self", "weight": 610, "url": "/naviserver/naviserver/security", "tab_name": "security", "can_display": true, "label": "Security", "is_premium": null, "is_dropdown_item": false, "anchor": true, "badge_label": null, "analytics_payload": {}, "matching_url_prefixes": [], "id": "repo-security-link", "test_id": null, "type": "menu_item", "children": [], "icon": "icon-security"}, {"analytics_label": "repository.downloads", "is_client_link": false, "icon_class": "icon-downloads", "target": "_self", "weight": 800, "url": "/naviserver/naviserver/downloads/", "tab_name": "downloads", "can_display": true, "label": "Downloads", "is_premium": null, "is_dropdown_item": false, "anchor": true, "badge_label": null, "analytics_payload": {}, "matching_url_prefixes": [], "id": "repo-downloads-link", "test_id": null, "type": "menu_item", "children": [], "icon": "icon-downloads"}], "bitbucketActions": [{"analytics_label": "repository.clone", "is_client_link": false, "icon_class": "icon-clone", "target": "_self", "weight": 100, "url": "#clone", "tab_name": "clone", "can_display": true, "label": "<strong>Clone<\/strong> this repository", "is_premium": null, "is_dropdown_item": false, "anchor": true, "badge_label": null, "analytics_payload": {}, "matching_url_prefixes": [], "id": "repo-clone-button", "test_id": null, "type": "menu_item", "children": [], "icon": "icon-clone"}, {"analytics_label": "repository.compare", "is_client_link": false, "icon_class": "aui-icon-small aui-iconfont-devtools-compare", "target": "_self", "weight": 400, "url": "/naviserver/naviserver/branches/compare", "tab_name": "compare", "can_display": true, "label": "<strong>Compare<\/strong> branches or tags", "is_premium": null, "is_dropdown_item": false, "anchor": true, "badge_label": null, "analytics_payload": {}, "matching_url_prefixes": [], "id": "repo-compare-link", "test_id": null, "type": "menu_item", "children": [], "icon": "aui-icon-small aui-iconfont-devtools-compare"}, {"analytics_label": "repository.fork", "is_client_link": false, "icon_class": "icon-fork", "target": "_self", "weight": 500, "url": "/naviserver/naviserver/fork", "tab_name": "fork", "can_display": true, "label": "<strong>Fork<\/strong> this repository", "is_premium": null, "is_dropdown_item": false, "anchor": true, "badge_label": null, "analytics_payload": {}, "matching_url_prefixes": [], "id": "repo-fork-link", "test_id": null, "type": "menu_item", "children": [], "icon": "icon-fork"}], "activeMenuItem": "commits"}}, "global": {"needs_marketing_consent": false, "features": {"branch-view-spa": false, "exp-share-to-invite-variation": false, "whitelisted_throttle_exemption": true, "use-elasticache-lsn-storage": true, "workspaces-api-proxy": true, "uninstall-dvcs-addon-only-when-jira-is-removed": true, "bbc.core.pride-logo": false, "account-switcher": true, "repo-show-uuid": false, "nav-add-file": false, "prs-get-email": true, "remove-deactivated-users-from-followers": true, "restrict-commit-author-data": true, "frontbucket-eager-dispatching-of-exited-code-review": true, "fd-prs-client-cache-fallback": true, "hot-91446-add-tracing-x-b3": true, "reset-changes-requested-status": true, "provision-workspaces-in-hams": true, "provisioning-skip-workspace-creation": true, "enable-replica-gc": true, "enable-jwt-repo-filtering": true, "project-settings-repo-default-merge-strategy": false, "pr-max-commits-behind-mergecheck": false, "reviewer-status": true, "fd-add-gitignore-dropdown-on-create-repo-page": true, "fetch-all-relevant-jira-projects": true, "provisioning-install-pipelines-addon": true, "log-asap-errors": true, "fd-ie-deprecation-phase-two": true, "bbcdev-13546-caching-defaults": true, "bbc.core.enable-workspaces-react-resource-router": false, "orochi-disable-hooks-with-lockid": true, "enable-repository-replication-cronman": true, "fd-ie-deprecation-phase-one": true, "clone-in-xcode": true, "enable-merge-bases-api": true, "bbc.core.disable-repository-statuses-fetch": false, "bms-repository-no-finalize": true, "use-moneybucket": true, "spa-repo-settings--repo-details": true, "workspace-member-set-last-accessed": true, "project-settings-repo-branching-model": false, "enable-repository-replication-event": true, "sync-workspace-user-active": true, "auth-flow-adg3": true, "nav-next-settings": true, "consenthub-config-endpoint-update": true, "lookup-pr-approvers-from-prs": true, "orochi-add-custom-backend": true, "null-mainbranch-implies-none": true, "bbc.core.disable-directory-metadata": false, "pr_post_build_merge": true, "read-only-message-migrations": true, "fd-overview-page-pr-filter-buttons": true, "provisioning-auto-login": true, "new-analytics-cdn": true, "fd-jira-compatible-issue-export": true, "spa-repo-settings--access-keys": true, "allocate-with-regions": true, "free-daily-repo-limit": true, "svg-based-qr-code": true, "allow-cloud-session": true, "hide-price-annual": true, "allow-cronman-management-commands": true, "show-upgrade-plans-banner": true}, "locale": "en", "geoip_country": null, "targetFeatures": {"enable-repository-replication-cronman": true, "show-pr-update-activity-changes": true, "fd-undo-last-push": false, "fd-repository-page-loading-error-guard": true, "workspaces-api-proxy": true, "uninstall-dvcs-addon-only-when-jira-is-removed": true, "fd-ie-deprecation-phase-one": true, "orochi-large-merge-message-support": true, "spa-repo-settings--user-and-group-access": true, "remove-deactivated-users-from-followers": true, "restrict-commit-author-data": true, "frontbucket-eager-dispatching-of-exited-code-review": true, "fd-prs-client-cache-fallback": true, "fd-jira-compatible-issue-export": true, "rm-empty-ref-dirs-on-push": true, "show-upgrade-plans-banner": true, "provision-workspaces-in-hams": true, "provisioning-skip-workspace-creation": true, "enable-replica-gc": true, "enable-jwt-repo-filtering": true, "whitelisted_throttle_exemption": true, "show-banner-about-new-review-experience": true, "use-elasticache-lsn-storage": true, "clone-in-xcode": true, "reviewer-status": true, "fd-add-gitignore-dropdown-on-create-repo-page": true, "spa-ws-settings--user-groups": true, "fetch-all-relevant-jira-projects": true, "provisioning-install-pipelines-addon": true, "log-asap-errors": true, "fd-ie-deprecation-phase-two": true, "bms-repository-no-finalize": true, "orochi-disable-hooks-with-lockid": true, "enable-fx3-client": true, "consenthub-config-endpoint-update": true, "svg-based-qr-code": true, "enable-merge-bases-api": true, "bbcdev-13546-caching-defaults": true, "prlinks-installer": true, "use-moneybucket": true, "spa-repo-settings--repo-details": true, "workspace-member-set-last-accessed": true, "atlassian-editor": true, "enable-repository-replication-event": true, "sync-workspace-user-active": true, "allow-cloud-session": true, "auth-flow-adg3": true, "nav-next-settings": true, "view-source-filtering-upon-timeout": true, "nav-next-ws-settings": true, "exp-new-user-survey": true, "lookup-pr-approvers-from-prs": true, "orochi-add-custom-backend": true, "null-mainbranch-implies-none": true, "pr_post_build_merge": true, "read-only-message-migrations": true, "fd-overview-page-pr-filter-buttons": true, "provisioning-auto-login": true, "new-analytics-cdn": true, "hot-91446-add-tracing-x-b3": true, "account-switcher": true, "spa-repo-settings--access-keys": true, "allocate-with-regions": true, "free-daily-repo-limit": true, "spa-ws-settings--user-directory": true, "hide-price-annual": true, "allow-cronman-management-commands": true, "reset-changes-requested-status": true}, "isFocusedTask": false, "browser_monitoring": true, "targetUser": {"username": "naviserver", "display_name": "NaviServer", "uuid": "{fcded27e-4b31-4f81-94ff-c1d92456381d}", "links": {"self": {"href": "https://bitbucket.org/!api/2.0/workspaces/%7Bfcded27e-4b31-4f81-94ff-c1d92456381d%7D"}, "html": {"href": "https://bitbucket.org/%7Bfcded27e-4b31-4f81-94ff-c1d92456381d%7D/"}, "avatar": {"href": "https://bitbucket.org/account/naviserver/avatar/"}}, "is_active": true, "created_on": "2008-11-18T04:14:47.375089+00:00", "type": "team", "properties": {}, "has_2fa_enabled": null}, "is_mobile_user_agent": false, "flags": [], "site_message": "", "isNavigationOpen": true, "path": "/naviserver/naviserver/commits/a5c3079f1d8996d5f34c9384a440acf3519ca3bb", "focusedTaskBackButtonUrl": null, "whats_new_feed": "https://bitbucket.org/blog/wp-json/wp/v2/posts?categories=196&context=embed&per_page=6&orderby=date&order=desc"}};
  window.__settings__ = {"MARKETPLACE_TERMS_OF_USE_URL": null, "JIRA_ISSUE_COLLECTORS": {"code-review-beta": {"url": "https://bitbucketfeedback.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-4bqv2z/b/20/a44af77267a987a660377e5c46e0fb64/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&collectorId=bb066400", "id": "bb066400"}, "jira-software-repo-page": {"url": "https://jira.atlassian.com/s/1ce410db1c7e1b043ed91ab8e28352e2-T/yl6d1c/804001/619f60e5de428c2ed7545f16096c303d/3.1.0/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=064d6699", "id": "064d6699"}, "code-review-rollout": {"url": "https://bitbucketfeedback.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-4bqv2z/b/20/a44af77267a987a660377e5c46e0fb64/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&collectorId=de003e2d", "id": "de003e2d"}, "source-browser": {"url": "https://bitbucketfeedback.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-tqnsjm/b/20/a44af77267a987a660377e5c46e0fb64/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&collectorId=c19c2ff6", "id": "c19c2ff6"}}, "STATUSPAGE_URL": "https://bitbucket.status.atlassian.com/", "SOCIAL_AUTH_ATLASSIANID_LOGIN_PROMPT_URL": "https://id.atlassian.com/login", "CANON_URL": "https://bitbucket.org", "CONSENT_HUB_FRONTEND_BASE_URL": "https://preferences.atlassian.com", "API_CANON_URL": "https://api.bitbucket.org", "SOCIAL_AUTH_ATLASSIANID_LOGOUT_URL": "https://id.atlassian.com/logout", "EMOJI_STANDARD_BASE_URL": "https://bitbucket.org/gateway/api/emoji/"};
  window.__webpack_nonce__ = 'Jhlf1PkCp7LZVTQd6L1rjQ==';
</script>

<script src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/jsi18n/en/djangojs.js" nonce="Jhlf1PkCp7LZVTQd6L1rjQ=="></script>

  <script src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/dist/webpack/locales/en.js" nonce="Jhlf1PkCp7LZVTQd6L1rjQ=="></script>

<script src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/dist/webpack/aui-8.js" nonce="Jhlf1PkCp7LZVTQd6L1rjQ=="></script>
<script src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/dist/webpack/vendor.js" nonce="Jhlf1PkCp7LZVTQd6L1rjQ=="></script>
<script src="https://d301sr5gafysq2.cloudfront.net/4d3d6d8dd2c3/dist/webpack/app.js" nonce="Jhlf1PkCp7LZVTQd6L1rjQ=="></script>


<script async src="https://www.google-analytics.com/analytics.js" nonce="Jhlf1PkCp7LZVTQd6L1rjQ=="></script>

<script nonce="Jhlf1PkCp7LZVTQd6L1rjQ==" type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam-cell.nr-data.net","queueTime":0,"licenseKey":"a2cef8c3d3","agent":"","transactionName":"NFcGYEdUW0IAVE1QCw0dIkFbVkFYDlkWWw0XUBFXXlBBHwBHSUpKEVcUWwcbQ1gEQEoDBwtTClNQRlBF","applicationID":"790458688,773579827","errorBeacon":"bam-cell.nr-data.net","applicationTime":552}</script>
</body>
</html>