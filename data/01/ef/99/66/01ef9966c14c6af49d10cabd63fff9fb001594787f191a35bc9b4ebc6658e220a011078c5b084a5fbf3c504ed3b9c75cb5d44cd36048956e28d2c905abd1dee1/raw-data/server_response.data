<!doctype html>
<html lang="en" class="font-sans antialiased">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Security Release: Laravel 6.18.35, 7.24.0 - The Laravel Blog </title>

    <link rel="alternate" type="application/atom+xml" title="The Laravel Blog" href="/feed">

    <meta name="theme-color" content="#011627">

    <meta name="twitter:title" content="Security Release: Laravel 6.18.35, 7.24.0 - The Laravel Blog ">
    <meta name="og:title" content="Security Release: Laravel 6.18.35, 7.24.0 - The Laravel Blog ">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="**Note: This security patch only affects applications using the `$guarded` property on models. In addition, applications that set `$guarded` to `[]` or `[&#039;*&#039;]` are not affected by the bug described in this post.**

Today we are releasing a follow-up to...">
    <meta name="twitter:site" content="@laravelphp">
    <meta name="twitter:image" content="https://blog.laravel.com/security-release-laravel-61835-7240/image.png">

    <meta name="og:site_name" content="The Laravel Blog">
    <meta name="og:image" content="https://blog.laravel.com/security-release-laravel-61835-7240/image.png">
    <meta name="og:type" content="website">
    <meta name="og:locale" content="en_US">

    <link href="https://fonts.googleapis.com/css?family=Miriam+Libre:400,700|Merriweather" rel="stylesheet">

    <link rel="icon" type="image/png" href="https://laravel.com/favicon.png">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.13.1/build/styles/sunburst.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- Styles -->
    <link href="/css/theme.css?id=96f52c11ae23e25eced8" rel="stylesheet">

    <!-- Google analytics tracking code goes here -->
    
</head>
<body>

<header class="py-5 mb-10">
    <div class="container mx-auto px-5 lg:max-w-screen">
        <div class="flex items-center flex-col lg:flex-row">
            <a href="/" class="flex items-center no-underline text-brand">
                <img src="https://laravel.com/img/logomark.min.svg" class="w-10">

                <img class="text-xl ml-3 w-24" src="https://laravel.com/img/logotype.min.svg" alt="">
            </a>

            <div class="lg:ml-auto mt-10 lg:mt-0 flex items-center">
                <a href="/" class="no-underline hover:underline uppercase">Home</a>
                <a href="/releases" class="ml-5 no-underline hover:underline uppercase">Releases</a>
                <a href="/forge" class="ml-5 no-underline hover:underline uppercase">Forge</a>
                <a href="/vapor" class="ml-5 no-underline hover:underline uppercase">Vapor</a>
            </div>
        </div>
    </div>
</header>

    <div class="container mx-auto px-5 lg:max-w-screen-sm mt-20">
        <h1 class="mb-5 font-sans">Security Release: Laravel 6.18.35, 7.24.0</h1>

        <div class="flex items-center text-sm text-light">
            <span>Aug, 7 2020</span>
                    </div>

        <div class="mt-5 leading-loose flex flex-col justify-center items-center post-body font-serif">
            <p><strong>Note: This security patch only affects applications using the <code>$guarded</code> property on models. In addition, applications that set <code>$guarded</code> to <code>[]</code> or <code>['*']</code> are not affected by the bug described in this post.</strong></p>
<p>Today we are releasing a follow-up to yesterday's security patches. Today's patch secures another subtle security issue when using <code>$request-&gt;all()</code> to update Eloquent's models that use the <code>$guarded</code> property.</p>
<p>When listing individual columns in the <code>$guarded</code> property, any columns that are not included in the list can be updated via mass assignment. This is expected behavior. However, unexpected updates may happen if requests are crafted to contain JSON column nesting expressions (<code>{&quot;foo-&gt;bar&quot;: &quot;value&quot;}</code>). Even if the JSON <code>foo</code> column is guarded, this expression could update the <code>bar</code> JSON key within the column (because <code>foo-&gt;bar</code> is not listed in the guarded clause).</p>
<p>Today's patch fixes this and other potential unexpected behaviors by comparing the column that is being updated with an actual list of database columns that exist on the database table. We retrieve this column list using Laravel's schema inspection facilities that already existed in the framework. Note that this will introduce one extra database query to retrieve the column listing when attempting to mass assign attributes to a model that is using the <code>$guarded</code> property. If the <code>$guarded</code> property is empty or is set to <code>['*']</code> the extra query is unnecessary and will not be executed. Applications that use <code>$fillable</code> are already protected by default and do not require us to confirm the column's validity.</p>
<p><strong>As a personal recommendation, I recommend always using <code>$fillable</code> instead of <code>$guarded</code>. In general, <code>$fillable</code> is a safer approach to mass assignment protection because you are forced to list any new columns added to the database to the <code>$fillable</code> array. In contrast, you may easily forget to add a new column to a <code>$guarded</code> array, leaving it open for mass assignment by default.</strong></p>

        </div>

        <div class="mt-10 lg:flex items-center p-5 border border-lighter  rounded">
            <div class="w-full lg:w-1/6 w-5 text-center lg:text-left">
                <img src="https://laravel-blog-assets.s3.amazonaws.com/XPhmXiHS5V09GKk71k6ectxSQYMo73puTAecnPvU.png" class="rounded-full w-32 lg:w-full">
            </div>
            <div class="lg:pl-5 leading-loose text-center lg:text-left text-text-color w-full lg:w-5/6">
                By <span class="font-bold">Taylor Otwell</span>
                <div class="text-sm"><p>Creator of Laravel.</p></div>
            </div>
        </div>
    </div>

<div class="border-t border-lighter mt-20">
    <div class="container mx-auto px-5 lg:max-w-screen">
        <div class="text-muted py-10 text-center">
            Follow the <a href="/feed">RSS Feed</a>.
        </div>
    </div>
</div>
</body>
</html>
