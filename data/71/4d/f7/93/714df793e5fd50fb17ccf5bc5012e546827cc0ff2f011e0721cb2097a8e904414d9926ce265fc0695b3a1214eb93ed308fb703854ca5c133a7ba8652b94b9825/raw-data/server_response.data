<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#318123 - [CVE-2006-0061] xlockmore: xlock segfaults with libpam-opensc, returns to user session - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=318123&quot;&gt;318123&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:318123@bugs.debian.org">#318123</a><br>
[CVE-2006-0061] xlockmore: xlock segfaults with libpam-opensc, returns to user session</h1>
<div class="versiongraph"><a href="version.cgi?collapse=1;fixed=1%3A5.31-1.1%2Brm;found=1%3A5.13-2.1;found=5.22-1.1;found=xlockmore%2F5.13-2.1;absolute=0;info=1;package=xlockmore"><img alt="version graph" src="version.cgi?package=xlockmore;absolute=0;width=2;found=1%3A5.13-2.1;found=5.22-1.1;found=xlockmore%2F5.13-2.1;collapse=1;height=2;fixed=1%3A5.31-1.1%2Brm"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=xlockmore">xlockmore</a>;
Maintainer for <a href="pkgreport.cgi?package=xlockmore">xlockmore</a> is <a href="pkgreport.cgi?maint=">(unknown)</a>; </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=dkg%40fifthhorseman.net">Daniel Kahn Gillmor &lt;dkg@fifthhorseman.net&gt;</a></p>
  <p>Date: Wed, 13 Jul 2005 16:33:02 UTC</p>

<p>Severity: important</p>
<p>Tags: security</p>
<p>Merged with <a href="bugreport.cgi?bug=399003">399003</a></p>

<p>Found in versions 1:5.13-2.1, 5.22-1.1, xlockmore/5.13-2.1</p>
<p>Fixed in version 1:5.31-1.1+rm</p>

<p><strong>Done:</strong> Debian FTP Masters &lt;ftpmaster@ftp-master.debian.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p></div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=318123;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<strong>Report forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=2">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<strong>Acknowledgement sent</strong> to <code>Daniel Kahn Gillmor &lt;dkg-debian.org@fifthhorseman.net&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=4">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=5">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=5">mbox</a>, <a href="mailto:318123@bugs.debian.org?References=%3CE1DsjzD-0001YR-Ai%40localhost.localdomain%3E&amp;subject=Re%3A%20xlockmore%3A%20xlock%20segfaults%20with%20libpam-opensc%2C%20returns%20to%20user%20session&amp;In-Reply-To=%3CE1DsjzD-0001YR-Ai%40localhost.localdomain%3E&amp;body=On%20Wed%2C%2013%20Jul%202005%2012%3A21%3A27%20-0400%20Daniel%20Kahn%20Gillmor%20%3Cdkg-debian.org%40fifthhorseman.net%3E%20wrote%3A%0A%3E%20Package%3A%20xlockmore%0A%3E%20Version%3A%201%3A5.13-2.1%0A%3E%20Severity%3A%20important%0A%3E%20%0A%3E%20%0A%3E%20if%20i%20tell%20xlockmore%20to%20use%20libpam-opensc%2C%20it%20segfaults%20under%20every%0A%3E%20attempt%20to%20reauthenticate%20after%20a%20screenlock.%20%20When%20it%20segfaults%2C%20it%0A%3E%20returns%20the%20underlying%20xsession.%20%20i%20don%27t%20know%20whether%20that%27s%20any%0A%3E%20worse%20than%20locking%20the%20user%20out%20permanenently%20or%20not%2C%20but%20it%20doesn%27t%0A%3E%20seem%20like%20the%20Right%20Thing.%20%20segfaults%20shouldn%27t%20happen%20in%20any%20case...%0A%3E%20%0A%3E%20here%27s%20the%20relevant%20files%20i%27ve%20been%20using%3A%0A%3E%20%0A%3E%20%5Bdkg%40squeak%20tmp%5D%24%20cat%20%2Fetc%2Fpam.d%2Fxlock%20%0A%3E%20%40include%20common-auth%0A%3E%20%5Bdkg%40squeak%20tmp%5D%24%20cat%20%2Fetc%2Fpam.d%2Fcommon-auth%0A%3E%20%23%0A%3E%20%23%20%2Fetc%2Fpam.d%2Fcommon-auth%20-%20authentication%20settings%20common%20to%20all%20services%0A%3E%20%23%0A%3E%20%23%20This%20file%20is%20included%20from%20other%20service-specific%20PAM%20config%20files%2C%0A%3E%20%23%20and%20should%20contain%20a%20list%20of%20the%20authentication%20modules%20that%20define%0A%3E%20%23%20the%20central%20authentication%20scheme%20for%20use%20on%20the%20system%0A%3E%20%23%20%28e.g.%2C%20%2Fetc%2Fshadow%2C%20LDAP%2C%20Kerberos%2C%20etc.%29.%20%20The%20default%20is%20to%20use%20the%0A%3E%20%23%20traditional%20Unix%20authentication%20mechanisms.%0A%3E%20%23%0A%3E%20%23%20auth%09required%09pam_unix.so%20nullok_secure%0A%3E%20auth%20required%20pam_opensc.so%0A%3E%20%5Bdkg%40squeak%20tmp%5D%24%20grep%20xlock%20~%2F.Xdefaults%0A%3E%20xlock%2Amode%3A%20blank%0A%3E%20xlock%2Abackground%3A%20black%0A%3E%20xlock%2Aforeground%3A%20green%0A%3E%20%5Bdkg%40squeak%20tmp%5D%24%20dpkg%20-l%20libpam-opensc%0A%3E%20Desired%3DUnknown%2FInstall%2FRemove%2FPurge%2FHold%0A%3E%20%7C%20Status%3DNot%2FInstalled%2FConfig-files%2FUnpacked%2FFailed-config%2FHalf-installed%0A%3E%20%7C%2F%20Err%3F%3D%28none%29%2FHold%2FReinst-required%2FX%3Dboth-problems%20%28Status%2CErr%3A%20uppercase%3Dbad%29%0A%3E%20%7C%7C%2F%20Name%20%20%20%20%20%20%20%20%20%20%20Version%20%20%20%20%20%20%20%20Description%0A%3E%20%2B%2B%2B-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%3E%20ii%20%20libpam-opensc%20%200.9.6-1%20%20%20%20%20%20%20%20Pluggable%20Authentication%20Module%20for%20using%20PK%0A%3E%20%5Bdkg%40squeak%20tmp%5D%24%20%0A%3E%20%0A%3E%20xlockmore%20segfaults%20at%20re-authentication%20whether%20or%20not%20i%20have%20a%20card%0A%3E%20reader%20attached%20or%20a%20card%20inserted%2C%20and%20whether%20or%20not%20i%20enter%20the%0A%3E%20correct%20password%20for%20the%20card.%20%20Since%20it%20segfaults%20even%20when%20no%20card%0A%3E%20reader%20is%20attached%2C%20anyone%20should%20be%20able%20to%20duplicate%20this%20bug%20by%0A%3E%20simply%20installing%20libpam-opensc%20and%20modifying%20%2Fetc%2Fpam.d%2Fxlock%20to%20use%0A%3E%20it%20instead%20of%20common-auth.%0A%3E%20%0A%3E%20i%20can%20send%20along%20a%20strace%20of%20the%20activity%20if%20it%27d%20be%20useful%2C%20or%20help%0A%3E%20in%20any%20other%20way%20to%20debug%20it.%20%20i%27ve%20used%20xlock%20for%20years%2C%20but%20i%27ll%20be%0A%3E%20switching%20to%20xscreensaver%20until%20this%20problem%20is%20resolved.%0A%3E%20%0A%3E%20Regards%2C%20%0A%3E%20%0A%3E%20%09--dkg%0A%3E%20%0A%3E%20--%20System%20Information%3A%0A%3E%20Debian%20Release%3A%20testing%2Funstable%0A%3E%20%20%20APT%20prefers%20testing%0A%3E%20%20%20APT%20policy%3A%20%28700%2C%20%27testing%27%29%2C%20%28600%2C%20%27unstable%27%29%0A%3E%20Architecture%3A%20i386%20%28i686%29%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=dkg-debian.org%40fifthhorseman.net" alt="">
<div class="header"><span class="headerfield">From:</span> Daniel Kahn Gillmor &lt;dkg-debian.org@fifthhorseman.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> xlockmore: xlock segfaults with libpam-opensc, returns to user session</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 13 Jul 2005 12:21:27 -0400</div>
</div>
<pre class="message">Package: xlockmore
Version: 1:5.13-2.1
Severity: important


if i tell xlockmore to use libpam-opensc, it segfaults under every
attempt to reauthenticate after a screenlock.  When it segfaults, it
returns the underlying xsession.  i don&#39;t know whether that&#39;s any
worse than locking the user out permanenently or not, but it doesn&#39;t
seem like the Right Thing.  segfaults shouldn&#39;t happen in any case...

here&#39;s the relevant files i&#39;ve been using:

[dkg@squeak tmp]$ cat /etc/pam.d/xlock 
@include common-auth
[dkg@squeak tmp]$ cat /etc/pam.d/common-auth
#
# /etc/pam.d/common-auth - authentication settings common to all services
#
# This file is included from other service-specific PAM config files,
# and should contain a list of the authentication modules that define
# the central authentication scheme for use on the system
# (e.g., /etc/shadow, LDAP, Kerberos, etc.).  The default is to use the
# traditional Unix authentication mechanisms.
#
# auth	required	pam_unix.so nullok_secure
auth required pam_opensc.so
[dkg@squeak tmp]$ grep xlock ~/.Xdefaults
xlock*mode: blank
xlock*background: black
xlock*foreground: green
[dkg@squeak tmp]$ dpkg -l libpam-opensc
Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Installed/Config-files/Unpacked/Failed-config/Half-installed
|/ Err?=(none)/Hold/Reinst-required/X=both-problems (Status,Err: uppercase=bad)
||/ Name           Version        Description
+++-==============-==============-============================================
ii  libpam-opensc  0.9.6-1        Pluggable Authentication Module for using PK
[dkg@squeak tmp]$ 

xlockmore segfaults at re-authentication whether or not i have a card
reader attached or a card inserted, and whether or not i enter the
correct password for the card.  Since it segfaults even when no card
reader is attached, anyone should be able to duplicate this bug by
simply installing libpam-opensc and modifying /etc/pam.d/xlock to use
it instead of common-auth.

i can send along a strace of the activity if it&#39;d be useful, or help
in any other way to debug it.  i&#39;ve used xlock for years, but i&#39;ll be
switching to xscreensaver until this problem is resolved.

Regards, 

	--dkg

-- System Information:
Debian Release: testing/unstable
  APT prefers testing
  APT policy: (700, &#39;testing&#39;), (600, &#39;unstable&#39;)
Architecture: i386 (i686)
Shell:  /bin/sh linked to /bin/bash
Kernel: Linux 2.6.11-1-686
Locale: LANG=en_US, LC_CTYPE=en_US (charmap=ISO-8859-1)

Versions of packages xlockmore depends on:
ii  libc6                    2.3.2.ds1-22    GNU C Library: Shared libraries an
ii  libfreetype6             2.1.7-2.4       FreeType 2 font engine, shared lib
ii  libgcc1                  1:4.0.0-9       GCC support library
ii  libice6                  4.3.0.dfsg.1-14 Inter-Client Exchange library
ii  libpam0g                 0.76-22         Pluggable Authentication Modules l
ii  libsm6                   4.3.0.dfsg.1-14 X Window System Session Management
ii  libstdc++5               1:3.3.5-13      The GNU Standard C++ Library v3
ii  libx11-6                 4.3.0.dfsg.1-14 X Window System protocol client li
ii  libxext6                 4.3.0.dfsg.1-14 X Window System miscellaneous exte
ii  libxmu6                  4.3.0.dfsg.1-14 X Window System miscellaneous util
ii  xlibs                    4.3.0.dfsg.1-14 X Keyboard Extension (XKB) configu

Versions of packages xlockmore recommends:
ii  libpam-modules                0.76-22    Pluggable Authentication Modules f

-- no debconf information


</pre>

<div class="infmessage"><hr><p>
<a name="6"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, team@security.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=7">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="8"></a>
<strong>Acknowledgement sent</strong> to <code>Martin Zobel-Helas &lt;zobel@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>team@security.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=9">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="10"></a><a name="msg10"></a><a href="#10">Message #10</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=10">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=10">mbox</a>, <a href="mailto:318123@bugs.debian.org?References=%3C20051212165824.GA29956%40ftbfs.de%3E&amp;In-Reply-To=%3C20051212165824.GA29956%40ftbfs.de%3E&amp;body=On%20Mon%2C%2012%20Dec%202005%2017%3A58%3A30%20%2B0100%20Martin%20Zobel-Helas%20%3Czobel%40debian.org%3E%20wrote%3A%0A%3E%20package%20xlockmore%0A%3E%20tags%20318123%20%2B%20security%0A%3E%20severity%20318123%20grave%0A%3E%20thanks%0A%3E%20%0A%3E%20Justification%3A%20introduces%20a%20security%20hole%20allowing%20access%20to%20the%20accounts%20of%20users%20who%20use%20the%20package%0A%3E%20%0A%3E%20This%20is%20a%20grave%20bug%2C%20as%20it%20allows%20unauthorized%20users%20access%20to%20X%0A%3E%20session.%0A%3E%20%0A%3E%20Greetings%0A%3E%20Martin%0A%3E%20%0A%3E%20--%20System%20Information%3A%0A%3E%20Debian%20Release%3A%20testing%2Funstable%0A%3E%20%20%20APT%20prefers%20unstable%0A%3E%20%20%20APT%20policy%3A%20%28500%2C%20%27unstable%27%29%2C%20%28500%2C%20%27testing%27%29%2C%20%28500%2C%20%27stable%27%29%0A%3E%20Architecture%3A%20i386%20%28i686%29%0A%3E%20Shell%3A%20%20%2Fbin%2Fsh%20linked%20to%20%2Fbin%2Fbash%0A%3E%20Kernel%3A%20Linux%202.6.14-2-686%0A%3E%20Locale%3A%20LANG%3Den_US%2C%20LC_CTYPE%3Dde_DE%40euro%20%28charmap%3DISO-8859-15%29%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20this%20is%20serious%20%2B%20security">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=zobel%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Martin Zobel-Helas &lt;zobel@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;318123@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> this is serious + security</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 12 Dec 2005 17:58:30 +0100</div>
</div>
<pre class="message">package xlockmore
tags 318123 + security
severity 318123 grave
thanks

Justification: introduces a security hole allowing access to the accounts of users who use the package

This is a grave bug, as it allows unauthorized users access to X
session.

Greetings
Martin

-- System Information:
Debian Release: testing/unstable
  APT prefers unstable
  APT policy: (500, &#39;unstable&#39;), (500, &#39;testing&#39;), (500, &#39;stable&#39;)
Architecture: i386 (i686)
Shell:  /bin/sh linked to /bin/bash
Kernel: Linux 2.6.14-2-686
Locale: LANG=en_US, LC_CTYPE=de_DE@euro (charmap=ISO-8859-15)



</pre>

<div class="msgreceived"><hr><p>
<a name="11"></a>
<strong>Tags added: security</strong>
Request was from <code>Martin Zobel-Helas &lt;zobel@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=12">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="13"></a>
<strong>Severity set to `grave'.</strong>
Request was from <code>Martin Zobel-Helas &lt;zobel@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=14">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=14">mbox</a>, <a href="#13">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="15"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=16">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="17"></a>
<strong>Acknowledgement sent</strong> to <code>Elmar Hoffmann &lt;elho@elho.net&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=18">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=18">mbox</a>, <a href="#17">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="19"></a><a name="msg19"></a><a href="#19">Message #19</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=19">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=19">mbox</a>, <a href="mailto:318123@bugs.debian.org?References=%3C20051222014055.GA17552%40psycho.elho.net%3E&amp;body=On%20Thu%2C%2022%20Dec%202005%2002%3A40%3A55%20%2B0100%20Elmar%20Hoffmann%20%3Celho%40elho.net%3E%20wrote%3A%0A%3E%20Package%3A%20xlockmore%0A%3E%20Version%3A%205.13-2.1%0A%3E%20Followup-For%3A%20Bug%20%23318123%0A%3E%20Tags%3A%20patch%0A%3E%20%0A%3E%20The%20general%20design%20issue%20here%20is%20that%20xlock%20%28unlike%20e.g.%20xscreensaver%0A%3E%20which%20kills%20the%20X%20server%20along%20with%29%20gives%20access%20to%20the%20screen%20when%0A%3E%20it%20is%20killed%20by%20a%20signal%2C%20i.e.%20any%20way%20to%20crash%20it%20becomes%20an%0A%3E%20authentication%20bypass%20right%20away%20instead%20of%20eventually%20just%20a%20DoS.%0A%3E%20%0A%3E%20In%20this%20specific%20case%2C%20the%20error%20causing%20the%20crash%20%28or%20abort%2C%20with%0A%3E%20glibc%27s%20malloc%20checking%20in%20unstable%29%20lies%20in%20freeing%20non-allocated%0A%3E%20memory.%0A%3E%20In%20xlock%2Fpasswd.c%2FPAM_conv%28%29%20reply%2C%20an%20array%20of%20pam_response%0A%3E%20structures%2C%20gets%20malloc%28%29%27ed%20and%20is%20unitialized.%20In%20the%20following%20loop%0A%3E%20xlock%2Fxlock.c%2FPAM_putText%28%29%20gets%20called%20with%20a%20pointer%20to%20each%20element%0A%3E%20of%20reply.%0A%3E%20In%20case%20of%20PAM_PROMPT_ECHO_ON%20and%20PAM_PROMPT_ECHO_OFF%20message%20styles%0A%3E%20%28as%20used%20by%20the%20%22normal%22%20usser%2Fpassword%20type%20pam%20modules%29%2C%0A%3E%20PAM_putText%28%29%20sets%20the%20resp%20member%20of%20the%20reply%20element%20to%20the%20string%0A%3E%20the%20user%20entered.%0A%3E%20In%20all%20other%20cases%2C%20like%20in%20the%20case%20of%20the%20%22No%20smart%20card%20present%22%0A%3E%20message%20of%20pam_opensc%20which%20is%20of%20PAM_TEXT_INFO%20message%20style%2C%0A%3E%20PAM_putText%28%29%20does%20not%20touch%20resp%20which%20thus%20still%20has%20its%20unitialized%0A%3E%20random%20value.%0A%3E%20The%20reply%20array%20is%20returned%20to%20the%20pam%20layer%20by%20PAM_conv%28%29%2C%20where%20all%0A%3E%20non-NULL%20resp%20members%20of%20its%20entries%20get%20free%28%29%27d%5B1%5D.%0A%3E%20%0A%3E%20I%27ve%20attached%20a%20simple%20patch%20fixing%20this%20specific%20issue%2C%20using%0A%3E%20calloc%28%29%20the%20reply%20array%20entries%20are%20always%20initialized%20to%20zero%2C%20thus%0A%3E%20all%20resp%20members%20are%20NULL%20unless%20actually%20set%20to%20some%20address%20later.%0A%3E%20%0A%3E%20elmar%0A%3E%20%0A%3E%20%5B1%5D%20and%20at%20least%20in%20case%20of%20pam_opensc%20overwritten%20before%20that.%0A%3E%20%0A%3E%20--%20%0A%3E%20%0A%3E%20%20.%27%22%60.%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%22%5C%0A%3E%20%7C%20%3A%27%20%3A%20%20%20Elmar%20Hoffmann%20%3Celho%40elho.net%3E%20%20%20%20ASCII%20Ribbon%20Campaign%20%20%5C%20%2F%0A%3E%20%60.%20%60%27%20%20%20%20GPG%20key%20available%20via%20pgp.net%20%20%20%20%20%20%20%20against%20HTML%20email%20%20%20X%0A%3E%20%20%20%60-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%26%20vCards%20%20%2F%20%5C%0A&amp;In-Reply-To=%3C20051222014055.GA17552%40psycho.elho.net%3E&amp;subject=Re%3A%20bug%20analysis%20%26%20fix">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=elho%40elho.net" alt="">
<div class="header"><span class="headerfield">From:</span> Elmar Hoffmann &lt;elho@elho.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;318123@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> bug analysis &amp; fix</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 22 Dec 2005 02:40:55 +0100</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=318123;msg=19">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Package: xlockmore
Version: 5.13-2.1
Followup-For: Bug #318123
Tags: patch

The general design issue here is that xlock (unlike e.g. xscreensaver
which kills the X server along with) gives access to the screen when
it is killed by a signal, i.e. any way to crash it becomes an
authentication bypass right away instead of eventually just a DoS.

In this specific case, the error causing the crash (or abort, with
glibc&#39;s malloc checking in unstable) lies in freeing non-allocated
memory.
In xlock/passwd.c/PAM_conv() reply, an array of pam_response
structures, gets malloc()&#39;ed and is unitialized. In the following loop
xlock/xlock.c/PAM_putText() gets called with a pointer to each element
of reply.
In case of PAM_PROMPT_ECHO_ON and PAM_PROMPT_ECHO_OFF message styles
(as used by the &quot;normal&quot; usser/password type pam modules),
PAM_putText() sets the resp member of the reply element to the string
the user entered.
In all other cases, like in the case of the &quot;No smart card present&quot;
message of pam_opensc which is of PAM_TEXT_INFO message style,
PAM_putText() does not touch resp which thus still has its unitialized
random value.
The reply array is returned to the pam layer by PAM_conv(), where all
non-NULL resp members of its entries get free()&#39;d[1].

I&#39;ve attached a simple patch fixing this specific issue, using
calloc() the reply array entries are always initialized to zero, thus
all resp members are NULL unless actually set to some address later.

elmar

[1] and at least in case of pam_opensc overwritten before that.

-- 

 .&#39;&quot;`.                                                            /&quot;\
| :&#39; :   Elmar Hoffmann &lt;elho@elho.net&gt;    ASCII Ribbon Campaign  \ /
`. `&#39;    GPG key available via pgp.net        against HTML email   X
  `-                                                    &amp; vCards  / \
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=318123;filename=xlockmore-5.13_free-non-alloc-fix.diff;msg=19">xlockmore-5.13_free-non-alloc-fix.diff</a> (text/plain, attachment)]</pre>
<pre class="mime">[<a href="bugreport.cgi?att=2;bug=318123;filename=signature.asc;msg=19">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="20"></a>
<strong>Changed Bug title.</strong>
Request was from <code>Martin Zobel-Helas &lt;zobel@ftbfs.de&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=21">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=21">mbox</a>, <a href="#20">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="22"></a>
<strong>Tags added: patch</strong>
Request was from <code>Elmar Hoffmann &lt;elho@elho.net&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=23">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=23">mbox</a>, <a href="#22">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="24"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=25">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=25">mbox</a>, <a href="#24">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="26"></a>
<strong>Acknowledgement sent</strong> to <code>Alexander Wirt &lt;formorer@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=27">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=27">mbox</a>, <a href="#26">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="28"></a><a name="msg28"></a><a href="#28">Message #28</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=28">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=28">mbox</a>, <a href="mailto:318123@bugs.debian.org?References=%3C20060120150037.GA3866%40formorer.de%3E&amp;In-Reply-To=%3C20060120150037.GA3866%40formorer.de%3E&amp;body=On%20Fri%2C%2020%20Jan%202006%2016%3A00%3A37%20%2B0100%20Alexander%20Wirt%20%3Cformorer%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20Michael%2C%20%0A%3E%20%0A%3E%20this%20security%20bug%20in%20xlockmore%20is%20still%20present%20in%20all%20xlockmore%20versions%20in%0A%3E%20the%20archive%20and%20is%20open%20for%20now%20190%20days.%20In%20the%20meantime%20we%20organized%20a%20CVE%20%0A%3E%20number%20and%20a%20patch%20that%20fixes%20that%20problem.%20But%20still%20no%20reaction%20from%20you.%20I%0A%3E%20know%20that%20aren%27t%20MIA%20at%20all%2C%20because%20I%20have%20seen%20some%20activity%20from%20you%20since%0A%3E%20then.%20But%20I%20think%20this%20bug%20needs%20some%20time%20from%20you%20at%20all.%20I%20know%20that%0A%3E%20xlockmore%20is%20upstream%20dead%20and%20has%20really%20awfull%20code%2C%20but%20I%20you%20don%27t%20want%0A%3E%20to%20maintain%20it%20anymore%20orphan%20it%20or%20remove%20it%20from%20the%20archive.%20%0A%3E%20%0A%3E%20If%20this%20bug%20don%27t%20gets%20any%20reaction%20in%20the%20near%20future%20I%20will%20ask%20ftp-master%0A%3E%20and%20qa%20for%20removal%20of%20that%20package%20from%20the%20archive.%20%0A%3E%20%0A%3E%20Thanks%20for%20your%20attention%0A%3E%20%0A%3E%20Alex%0A%3E%20%0A&amp;subject=Re%3A%20Security%20bug%20in%20xlockmore">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=formorer%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Alexander Wirt &lt;formorer@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 318123@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> team@security.debian.org, debian-qa@lists.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Security bug in xlockmore</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 20 Jan 2006 16:00:37 +0100</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=318123;msg=28">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi Michael, 

this security bug in xlockmore is still present in all xlockmore versions in
the archive and is open for now 190 days. In the meantime we organized a CVE 
number and a patch that fixes that problem. But still no reaction from you. I
know that aren&#39;t MIA at all, because I have seen some activity from you since
then. But I think this bug needs some time from you at all. I know that
xlockmore is upstream dead and has really awfull code, but I you don&#39;t want
to maintain it anymore orphan it or remove it from the archive. 

If this bug don&#39;t gets any reaction in the near future I will ask ftp-master
and qa for removal of that package from the archive. 

Thanks for your attention

Alex

</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=318123;filename=signature.asc;msg=28">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="29"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=30">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=30">mbox</a>, <a href="#29">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="31"></a>
<strong>Acknowledgement sent</strong> to <code>Luk Claes &lt;luk@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=32">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=32">mbox</a>, <a href="#31">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="33"></a><a name="msg33"></a><a href="#33">Message #33</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=33">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=33">mbox</a>, <a href="mailto:318123@bugs.debian.org?subject=Re%3A%20Intention%20to%20NMU%20xlockmore&amp;body=On%20Fri%2C%2020%20Jan%202006%2023%3A07%3A52%20%2B0100%20Luk%20Claes%20%3Cluk%40debian.org%3E%20wrote%3A%0A%3E%20Hi%0A%3E%20%0A%3E%20Attached%20the%20patch%20for%20the%20version%20I%20intend%20to%20upload.%20Please%20respond%20if%0A%3E%20you%20don%27t%20want%20this%20NMU%20to%20happen%2C%20if%20you%20are%20working%20yourself%20on%20a%0A%3E%20patch%20or%20if%20you%20think%20that%20the%20attached%20patch%20won%27t%20work.%0A%3E%20%0A%3E%20Cheers%0A%3E%20%0A%3E%20Luk%0A%3E%20%0A%3E%20--%20%0A%3E%20Luk%20Claes%20-%20http%3A%2F%2Fpeople.debian.org%2F~luk%20-%20GPG%20key%201024D%2F9B7C328D%0A%3E%20Fingerprint%3A%20%20%20D5AF%2025FB%20316B%2053BB%2008E7%20%20%20F999%20E544%20DE07%209B7C%20328D%0A&amp;In-Reply-To=%3C43D15F38.9000900%40debian.org%3E&amp;References=%3C43D15F38.9000900%40debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=luk%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Luk Claes &lt;luk@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 347050@bugs.debian.org, 337467@bugs.debian.org,
	318123@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Intention to NMU xlockmore</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 20 Jan 2006 23:07:52 +0100</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=318123;msg=33">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi

Attached the patch for the version I intend to upload. Please respond if
you don&#39;t want this NMU to happen, if you are working yourself on a
patch or if you think that the attached patch won&#39;t work.

Cheers

Luk

-- 
Luk Claes - <a href="http://people.debian.org/~luk">http://people.debian.org/~luk</a> - GPG key 1024D/9B7C328D
Fingerprint:   D5AF 25FB 316B 53BB 08E7   F999 E544 DE07 9B7C 328D
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=318123;filename=nmu.patch;msg=33">nmu.patch</a> (text/plain, inline)]</pre>
<pre class="message">diff -u xlockmore-5.13/config.guess xlockmore-5.13/config.guess
--- xlockmore-5.13/config.guess
+++ xlockmore-5.13/config.guess
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Attempt to guess a canonical system name.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
-#   2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
+#   2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
 
-timestamp=&#39;2004-07-19&#39;
+timestamp=&#39;2005-08-03&#39;
 
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
@@ -17,13 +17,15 @@
 #
 # You should have received a copy of the GNU General Public License
 # along with this program; if not, write to the Free Software
-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+# Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA
+# 02110-1301, USA.
 #
 # As a special exception to the GNU General Public License, if you
 # distribute this file as part of a program that contains a
 # configuration script generated by Autoconf, you may include it under
 # the same distribution terms that you use for the rest of that program.
 
+
 # Originally written by Per Bothner &lt;per@bothner.com&gt;.
 # Please send patches to &lt;config-patches@gnu.org&gt;.  Submit a context
 # diff and a properly formatted ChangeLog entry.
@@ -53,7 +55,7 @@
 GNU config.guess ($timestamp)
 
 Originally written by Per Bothner.
-Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004
+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
 Free Software Foundation, Inc.
 
 This is free software; see the source for copying conditions.  There is NO
@@ -66,11 +68,11 @@
 while test $# -gt 0 ; do
   case $1 in
     --time-stamp | --time* | -t )
-       echo &quot;$timestamp&quot; ; exit 0 ;;
+       echo &quot;$timestamp&quot; ; exit ;;
     --version | -v )
-       echo &quot;$version&quot; ; exit 0 ;;
+       echo &quot;$version&quot; ; exit ;;
     --help | --h* | -h )
-       echo &quot;$usage&quot;; exit 0 ;;
+       echo &quot;$usage&quot;; exit ;;
     -- )     # Stop option processing
        shift; break ;;
     - )	# Use stdin as input.
@@ -123,7 +125,7 @@
 	;;
  ,,*)   CC_FOR_BUILD=$CC ;;
  ,*,*)  CC_FOR_BUILD=$HOST_CC ;;
-esac ;&#39;
+esac ; set_cc_for_build= ;&#39;
 
 # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
 # (ghazi@noc.rutgers.edu 1994-08-24)
@@ -196,64 +198,20 @@
 	# contains redundant information, the shorter form:
 	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
 	echo &quot;${machine}-${os}${release}&quot;
-	exit 0 ;;
-    amd64:OpenBSD:*:*)
-	echo x86_64-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    amiga:OpenBSD:*:*)
-	echo m68k-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    arc:OpenBSD:*:*)
-	echo mipsel-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    cats:OpenBSD:*:*)
-	echo arm-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    hp300:OpenBSD:*:*)
-	echo m68k-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    luna88k:OpenBSD:*:*)
-    	echo m88k-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    mac68k:OpenBSD:*:*)
-	echo m68k-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    macppc:OpenBSD:*:*)
-	echo powerpc-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    mvme68k:OpenBSD:*:*)
-	echo m68k-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    mvme88k:OpenBSD:*:*)
-	echo m88k-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    mvmeppc:OpenBSD:*:*)
-	echo powerpc-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    pmax:OpenBSD:*:*)
-	echo mipsel-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    sgi:OpenBSD:*:*)
-	echo mipseb-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    sun3:OpenBSD:*:*)
-	echo m68k-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
-    wgrisc:OpenBSD:*:*)
-	echo mipsel-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:OpenBSD:*:*)
-	echo ${UNAME_MACHINE}-unknown-openbsd${UNAME_RELEASE}
-	exit 0 ;;
+	UNAME_MACHINE_ARCH=`arch | sed &#39;s/OpenBSD.//&#39;`
+	echo ${UNAME_MACHINE_ARCH}-unknown-openbsd${UNAME_RELEASE}
+	exit ;;
     *:ekkoBSD:*:*)
 	echo ${UNAME_MACHINE}-unknown-ekkobsd${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     macppc:MirBSD:*:*)
 	echo powerppc-unknown-mirbsd${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:MirBSD:*:*)
 	echo ${UNAME_MACHINE}-unknown-mirbsd${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     alpha:OSF1:*:*)
 	case $UNAME_RELEASE in
 	*4.0)
@@ -306,37 +264,43 @@
 	# A Xn.n version is an unreleased experimental baselevel.
 	# 1.2 uses &quot;1.2&quot; for uname -r.
 	echo ${UNAME_MACHINE}-dec-osf`echo ${UNAME_RELEASE} | sed -e &#39;s/^[PVTX]//&#39; | tr &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39; &#39;abcdefghijklmnopqrstuvwxyz&#39;`
-	exit 0 ;;
+	exit ;;
     Alpha\ *:Windows_NT*:*)
 	# How do we know it&#39;s Interix rather than the generic POSIX subsystem?
 	# Should we change UNAME_MACHINE based on the output of uname instead
 	# of the specific Alpha model?
 	echo alpha-pc-interix
-	exit 0 ;;
+	exit ;;
     21064:Windows_NT:50:3)
 	echo alpha-dec-winnt3.5
-	exit 0 ;;
+	exit ;;
     Amiga*:UNIX_System_V:4.0:*)
 	echo m68k-unknown-sysv4
-	exit 0;;
+	exit ;;
     *:[Aa]miga[Oo][Ss]:*:*)
 	echo ${UNAME_MACHINE}-unknown-amigaos
-	exit 0 ;;
+	exit ;;
     *:[Mm]orph[Oo][Ss]:*:*)
 	echo ${UNAME_MACHINE}-unknown-morphos
-	exit 0 ;;
+	exit ;;
     *:OS/390:*:*)
 	echo i370-ibm-openedition
-	exit 0 ;;
+	exit ;;
+    *:z/VM:*:*)
+	echo s390-ibm-zvmoe
+	exit ;;
     *:OS400:*:*)
         echo powerpc-ibm-os400
-	exit 0 ;;
+	exit ;;
     arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
 	echo arm-acorn-riscix${UNAME_RELEASE}
-	exit 0;;
+	exit ;;
+    arm:riscos:*:*|arm:RISCOS:*:*)
+	echo arm-unknown-riscos
+	exit ;;
     SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
 	echo hppa1.1-hitachi-hiuxmpp
-	exit 0;;
+	exit ;;
     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
 	if test &quot;`(/bin/universe) 2&gt;/dev/null`&quot; = att ; then
@@ -344,32 +308,32 @@
 	else
 		echo pyramid-pyramid-bsd
 	fi
-	exit 0 ;;
+	exit ;;
     NILE*:*:*:dcosx)
 	echo pyramid-pyramid-svr4
-	exit 0 ;;
+	exit ;;
     DRS?6000:unix:4.0:6*)
 	echo sparc-icl-nx6
-	exit 0 ;;
-    DRS?6000:UNIX_SV:4.2*:7*)
+	exit ;;
+    DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)
 	case `/usr/bin/uname -p` in
-	    sparc) echo sparc-icl-nx7 &amp;&amp; exit 0 ;;
+	    sparc) echo sparc-icl-nx7; exit ;;
 	esac ;;
     sun4H:SunOS:5.*:*)
 	echo sparc-hal-solaris2`echo ${UNAME_RELEASE}|sed -e &#39;s/[^.]*//&#39;`
-	exit 0 ;;
+	exit ;;
     sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
 	echo sparc-sun-solaris2`echo ${UNAME_RELEASE}|sed -e &#39;s/[^.]*//&#39;`
-	exit 0 ;;
+	exit ;;
     i86pc:SunOS:5.*:*)
 	echo i386-pc-solaris2`echo ${UNAME_RELEASE}|sed -e &#39;s/[^.]*//&#39;`
-	exit 0 ;;
+	exit ;;
     sun4*:SunOS:6*:*)
 	# According to config.sub, this is the proper way to canonicalize
 	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
 	# it&#39;s likely to be more like Solaris than SunOS4.
 	echo sparc-sun-solaris3`echo ${UNAME_RELEASE}|sed -e &#39;s/[^.]*//&#39;`
-	exit 0 ;;
+	exit ;;
     sun4*:SunOS:*:*)
 	case &quot;`/usr/bin/arch -k`&quot; in
 	    Series*|S4*)
@@ -378,10 +342,10 @@
 	esac
 	# Japanese Language versions have a version number like `4.1.3-JL&#39;.
 	echo sparc-sun-sunos`echo ${UNAME_RELEASE}|sed -e &#39;s/-/_/&#39;`
-	exit 0 ;;
+	exit ;;
     sun3*:SunOS:*:*)
 	echo m68k-sun-sunos${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     sun*:*:4.2BSD:*)
 	UNAME_RELEASE=`(sed 1q /etc/motd | awk &#39;{print substr($5,1,3)}&#39;) 2&gt;/dev/null`
 	test &quot;x${UNAME_RELEASE}&quot; = &quot;x&quot; &amp;&amp; UNAME_RELEASE=3
@@ -393,10 +357,10 @@
 		echo sparc-sun-sunos${UNAME_RELEASE}
 		;;
 	esac
-	exit 0 ;;
+	exit ;;
     aushp:SunOS:*:*)
 	echo sparc-auspex-sunos${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     # The situation for MiNT is a little confusing.  The machine name
     # can be virtually everything (everything which is not
     # &quot;atarist&quot; or &quot;atariste&quot; at least should have a processor
@@ -407,40 +371,40 @@
     # be no problem.
     atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
         echo m68k-atari-mint${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
 	echo m68k-atari-mint${UNAME_RELEASE}
-        exit 0 ;;
+        exit ;;
     *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
         echo m68k-atari-mint${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
         echo m68k-milan-mint${UNAME_RELEASE}
-        exit 0 ;;
+        exit ;;
     hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
         echo m68k-hades-mint${UNAME_RELEASE}
-        exit 0 ;;
+        exit ;;
     *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
         echo m68k-unknown-mint${UNAME_RELEASE}
-        exit 0 ;;
+        exit ;;
     m68k:machten:*:*)
 	echo m68k-apple-machten${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     powerpc:machten:*:*)
 	echo powerpc-apple-machten${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     RISC*:Mach:*:*)
 	echo mips-dec-mach_bsd4.3
-	exit 0 ;;
+	exit ;;
     RISC*:ULTRIX:*:*)
 	echo mips-dec-ultrix${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     VAX*:ULTRIX*:*:*)
 	echo vax-dec-ultrix${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     2020:CLIX:*:* | 2430:CLIX:*:*)
 	echo clipper-intergraph-clix${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     mips:*:*:UMIPS | mips:*:*:RISCos)
 	eval $set_cc_for_build
 	sed &#39;s/^	//&#39; &lt;&lt; EOF &gt;$dummy.c
@@ -464,32 +428,33 @@
 	  exit (-1);
 	}
 EOF
-	$CC_FOR_BUILD -o $dummy $dummy.c \
-	  &amp;&amp; $dummy `echo &quot;${UNAME_RELEASE}&quot; | sed -n &#39;s/\([0-9]*\).*/\1/p&#39;` \
-	  &amp;&amp; exit 0
+	$CC_FOR_BUILD -o $dummy $dummy.c &amp;&amp;
+	  dummyarg=`echo &quot;${UNAME_RELEASE}&quot; | sed -n &#39;s/\([0-9]*\).*/\1/p&#39;` &amp;&amp;
+	  SYSTEM_NAME=`$dummy $dummyarg` &amp;&amp;
+	    { echo &quot;$SYSTEM_NAME&quot;; exit; }
 	echo mips-mips-riscos${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     Motorola:PowerMAX_OS:*:*)
 	echo powerpc-motorola-powermax
-	exit 0 ;;
+	exit ;;
     Motorola:*:4.3:PL8-*)
 	echo powerpc-harris-powermax
-	exit 0 ;;
+	exit ;;
     Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
 	echo powerpc-harris-powermax
-	exit 0 ;;
+	exit ;;
     Night_Hawk:Power_UNIX:*:*)
 	echo powerpc-harris-powerunix
-	exit 0 ;;
+	exit ;;
     m88k:CX/UX:7*:*)
 	echo m88k-harris-cxux7
-	exit 0 ;;
+	exit ;;
     m88k:*:4*:R4*)
 	echo m88k-motorola-sysv4
-	exit 0 ;;
+	exit ;;
     m88k:*:3*:R3*)
 	echo m88k-motorola-sysv3
-	exit 0 ;;
+	exit ;;
     AViiON:dgux:*:*)
         # DG/UX returns AViiON for all architectures
         UNAME_PROCESSOR=`/usr/bin/uname -p`
@@ -505,29 +470,29 @@
 	else
 	    echo i586-dg-dgux${UNAME_RELEASE}
 	fi
- 	exit 0 ;;
+ 	exit ;;
     M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
 	echo m88k-dolphin-sysv3
-	exit 0 ;;
+	exit ;;
     M88*:*:R3*:*)
 	# Delta 88k system running SVR3
 	echo m88k-motorola-sysv3
-	exit 0 ;;
+	exit ;;
     XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
 	echo m88k-tektronix-sysv3
-	exit 0 ;;
+	exit ;;
     Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
 	echo m68k-tektronix-bsd
-	exit 0 ;;
+	exit ;;
     *:IRIX*:*:*)
 	echo mips-sgi-irix`echo ${UNAME_RELEASE}|sed -e &#39;s/-/_/g&#39;`
-	exit 0 ;;
+	exit ;;
     ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
-	echo romp-ibm-aix      # uname -m gives an 8 hex-code CPU id
-	exit 0 ;;              # Note that: echo &quot;&#39;`uname -s`&#39;&quot; gives &#39;AIX &#39;
+	echo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id
+	exit ;;               # Note that: echo &quot;&#39;`uname -s`&#39;&quot; gives &#39;AIX &#39;
     i*86:AIX:*:*)
 	echo i386-ibm-aix
-	exit 0 ;;
+	exit ;;
     ia64:AIX:*:*)
 	if [ -x /usr/bin/oslevel ] ; then
 		IBM_REV=`/usr/bin/oslevel`
@@ -535,7 +500,7 @@
 		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
 	fi
 	echo ${UNAME_MACHINE}-ibm-aix${IBM_REV}
-	exit 0 ;;
+	exit ;;
     *:AIX:2:3)
 	if grep bos325 /usr/include/stdio.h &gt;/dev/null 2&gt;&amp;1; then
 		eval $set_cc_for_build
@@ -550,14 +515,18 @@
 			exit(0);
 			}
 EOF
-		$CC_FOR_BUILD -o $dummy $dummy.c &amp;&amp; $dummy &amp;&amp; exit 0
-		echo rs6000-ibm-aix3.2.5
+		if $CC_FOR_BUILD -o $dummy $dummy.c &amp;&amp; SYSTEM_NAME=`$dummy`
+		then
+			echo &quot;$SYSTEM_NAME&quot;
+		else
+			echo rs6000-ibm-aix3.2.5
+		fi
 	elif grep bos324 /usr/include/stdio.h &gt;/dev/null 2&gt;&amp;1; then
 		echo rs6000-ibm-aix3.2.4
 	else
 		echo rs6000-ibm-aix3.2
 	fi
-	exit 0 ;;
+	exit ;;
     *:AIX:*:[45])
 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk &#39;{ print $1 }&#39;`
 	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep &#39; POWER&#39; &gt;/dev/null 2&gt;&amp;1; then
@@ -571,28 +540,28 @@
 		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
 	fi
 	echo ${IBM_ARCH}-ibm-aix${IBM_REV}
-	exit 0 ;;
+	exit ;;
     *:AIX:*:*)
 	echo rs6000-ibm-aix
-	exit 0 ;;
+	exit ;;
     ibmrt:4.4BSD:*|romp-ibm:BSD:*)
 	echo romp-ibm-bsd4.4
-	exit 0 ;;
+	exit ;;
     ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
 	echo romp-ibm-bsd${UNAME_RELEASE}   # 4.3 with uname added to
-	exit 0 ;;                           # report: romp-ibm BSD 4.3
+	exit ;;                             # report: romp-ibm BSD 4.3
     *:BOSX:*:*)
 	echo rs6000-bull-bosx
-	exit 0 ;;
+	exit ;;
     DPX/2?00:B.O.S.:*:*)
 	echo m68k-bull-sysv3
-	exit 0 ;;
+	exit ;;
     9000/[34]??:4.3bsd:1.*:*)
 	echo m68k-hp-bsd
-	exit 0 ;;
+	exit ;;
     hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
 	echo m68k-hp-bsd4.4
-	exit 0 ;;
+	exit ;;
     9000/[34678]??:HP-UX:*:*)
 	HPUX_REV=`echo ${UNAME_RELEASE}|sed -e &#39;s/[^.]*.[0B]*//&#39;`
 	case &quot;${UNAME_MACHINE}&quot; in
@@ -654,9 +623,19 @@
 	esac
 	if [ ${HP_ARCH} = &quot;hppa2.0w&quot; ]
 	then
-	    # avoid double evaluation of $set_cc_for_build
-	    test -n &quot;$CC_FOR_BUILD&quot; || eval $set_cc_for_build
-	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E -) | grep __LP64__ &gt;/dev/null
+	    eval $set_cc_for_build
+
+	    # hppa2.0w-hp-hpux* has a 64-bit kernel and a compiler generating
+	    # 32-bit code.  hppa64-hp-hpux* has the same kernel and a compiler
+	    # generating 64-bit code.  GNU and HP use different nomenclature:
+	    #
+	    # $ CC_FOR_BUILD=cc ./config.guess
+	    # =&gt; hppa2.0w-hp-hpux11.23
+	    # $ CC_FOR_BUILD=&quot;cc +DA2.0w&quot; ./config.guess
+	    # =&gt; hppa64-hp-hpux11.23
+
+	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E - 2&gt;/dev/null) |
+		grep __LP64__ &gt;/dev/null
 	    then
 		HP_ARCH=&quot;hppa2.0w&quot;
 	    else
@@ -664,11 +643,11 @@
 	    fi
 	fi
 	echo ${HP_ARCH}-hp-hpux${HPUX_REV}
-	exit 0 ;;
+	exit ;;
     ia64:HP-UX:*:*)
 	HPUX_REV=`echo ${UNAME_RELEASE}|sed -e &#39;s/[^.]*.[0B]*//&#39;`
 	echo ia64-hp-hpux${HPUX_REV}
-	exit 0 ;;
+	exit ;;
     3050*:HI-UX:*:*)
 	eval $set_cc_for_build
 	sed &#39;s/^	//&#39; &lt;&lt; EOF &gt;$dummy.c
@@ -696,152 +675,166 @@
 	  exit (0);
 	}
 EOF
-	$CC_FOR_BUILD -o $dummy $dummy.c &amp;&amp; $dummy &amp;&amp; exit 0
+	$CC_FOR_BUILD -o $dummy $dummy.c &amp;&amp; SYSTEM_NAME=`$dummy` &amp;&amp;
+		{ echo &quot;$SYSTEM_NAME&quot;; exit; }
 	echo unknown-hitachi-hiuxwe2
-	exit 0 ;;
+	exit ;;
     9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:* )
 	echo hppa1.1-hp-bsd
-	exit 0 ;;
+	exit ;;
     9000/8??:4.3bsd:*:*)
 	echo hppa1.0-hp-bsd
-	exit 0 ;;
+	exit ;;
     *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
 	echo hppa1.0-hp-mpeix
-	exit 0 ;;
+	exit ;;
     hp7??:OSF1:*:* | hp8?[79]:OSF1:*:* )
 	echo hppa1.1-hp-osf
-	exit 0 ;;
+	exit ;;
     hp8??:OSF1:*:*)
 	echo hppa1.0-hp-osf
-	exit 0 ;;
+	exit ;;
     i*86:OSF1:*:*)
 	if [ -x /usr/sbin/sysversion ] ; then
 	    echo ${UNAME_MACHINE}-unknown-osf1mk
 	else
 	    echo ${UNAME_MACHINE}-unknown-osf1
 	fi
-	exit 0 ;;
+	exit ;;
     parisc*:Lites*:*:*)
 	echo hppa1.1-hp-lites
-	exit 0 ;;
+	exit ;;
     C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
 	echo c1-convex-bsd
-        exit 0 ;;
+        exit ;;
     C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
 	if getsysinfo -f scalar_acc
 	then echo c32-convex-bsd
 	else echo c2-convex-bsd
 	fi
-        exit 0 ;;
+        exit ;;
     C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
 	echo c34-convex-bsd
-        exit 0 ;;
+        exit ;;
     C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
 	echo c38-convex-bsd
-        exit 0 ;;
+        exit ;;
     C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
 	echo c4-convex-bsd
-        exit 0 ;;
+        exit ;;
     CRAY*Y-MP:*:*:*)
 	echo ymp-cray-unicos${UNAME_RELEASE} | sed -e &#39;s/\.[^.]*$/.X/&#39;
-	exit 0 ;;
+	exit ;;
     CRAY*[A-Z]90:*:*:*)
 	echo ${UNAME_MACHINE}-cray-unicos${UNAME_RELEASE} \
 	| sed -e &#39;s/CRAY.*\([A-Z]90\)/\1/&#39; \
 	      -e y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/ \
 	      -e &#39;s/\.[^.]*$/.X/&#39;
-	exit 0 ;;
+	exit ;;
     CRAY*TS:*:*:*)
 	echo t90-cray-unicos${UNAME_RELEASE} | sed -e &#39;s/\.[^.]*$/.X/&#39;
-	exit 0 ;;
+	exit ;;
     CRAY*T3E:*:*:*)
 	echo alphaev5-cray-unicosmk${UNAME_RELEASE} | sed -e &#39;s/\.[^.]*$/.X/&#39;
-	exit 0 ;;
+	exit ;;
     CRAY*SV1:*:*:*)
 	echo sv1-cray-unicos${UNAME_RELEASE} | sed -e &#39;s/\.[^.]*$/.X/&#39;
-	exit 0 ;;
+	exit ;;
     *:UNICOS/mp:*:*)
 	echo craynv-cray-unicosmp${UNAME_RELEASE} | sed -e &#39;s/\.[^.]*$/.X/&#39;
-	exit 0 ;;
+	exit ;;
     F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
 	FUJITSU_PROC=`uname -m | tr &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39; &#39;abcdefghijklmnopqrstuvwxyz&#39;`
         FUJITSU_SYS=`uname -p | tr &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39; &#39;abcdefghijklmnopqrstuvwxyz&#39; | sed -e &#39;s/\///&#39;`
         FUJITSU_REL=`echo ${UNAME_RELEASE} | sed -e &#39;s/ /_/&#39;`
         echo &quot;${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}&quot;
-        exit 0 ;;
+        exit ;;
     5000:UNIX_System_V:4.*:*)
         FUJITSU_SYS=`uname -p | tr &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39; &#39;abcdefghijklmnopqrstuvwxyz&#39; | sed -e &#39;s/\///&#39;`
         FUJITSU_REL=`echo ${UNAME_RELEASE} | tr &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39; &#39;abcdefghijklmnopqrstuvwxyz&#39; | sed -e &#39;s/ /_/&#39;`
         echo &quot;sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}&quot;
-	exit 0 ;;
+	exit ;;
     i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
 	echo ${UNAME_MACHINE}-pc-bsdi${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     sparc*:BSD/OS:*:*)
 	echo sparc-unknown-bsdi${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:BSD/OS:*:*)
 	echo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:FreeBSD:*:*)
 	echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e &#39;s/[-(].*//&#39;`
-	exit 0 ;;
+	exit ;;
     i*:CYGWIN*:*)
 	echo ${UNAME_MACHINE}-pc-cygwin
-	exit 0 ;;
+	exit ;;
     i*:MINGW*:*)
 	echo ${UNAME_MACHINE}-pc-mingw32
-	exit 0 ;;
+	exit ;;
+    i*:windows32*:*)
+    	# uname -m includes &quot;-pc&quot; on this system.
+    	echo ${UNAME_MACHINE}-mingw32
+	exit ;;
     i*:PW*:*)
 	echo ${UNAME_MACHINE}-pc-pw32
-	exit 0 ;;
+	exit ;;
     x86:Interix*:[34]*)
 	echo i586-pc-interix${UNAME_RELEASE}|sed -e &#39;s/\..*//&#39;
-	exit 0 ;;
+	exit ;;
     [345]86:Windows_95:* | [345]86:Windows_98:* | [345]86:Windows_NT:*)
 	echo i${UNAME_MACHINE}-pc-mks
-	exit 0 ;;
+	exit ;;
     i*:Windows_NT*:* | Pentium*:Windows_NT*:*)
 	# How do we know it&#39;s Interix rather than the generic POSIX subsystem?
 	# It also conflicts with pre-2.0 versions of AT&amp;T UWIN. Should we
 	# UNAME_MACHINE based on the output of uname instead of i386?
 	echo i586-pc-interix
-	exit 0 ;;
+	exit ;;
     i*:UWIN*:*)
 	echo ${UNAME_MACHINE}-pc-uwin
-	exit 0 ;;
+	exit ;;
+    amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
+	echo x86_64-unknown-cygwin
+	exit ;;
     p*:CYGWIN*:*)
 	echo powerpcle-unknown-cygwin
-	exit 0 ;;
+	exit ;;
     prep*:SunOS:5.*:*)
 	echo powerpcle-unknown-solaris2`echo ${UNAME_RELEASE}|sed -e &#39;s/[^.]*//&#39;`
-	exit 0 ;;
+	exit ;;
     *:GNU:*:*)
 	# the GNU system
 	echo `echo ${UNAME_MACHINE}|sed -e &#39;s,[-/].*$,,&#39;`-unknown-gnu`echo ${UNAME_RELEASE}|sed -e &#39;s,/.*$,,&#39;`
-	exit 0 ;;
+	exit ;;
     *:GNU/*:*:*)
 	# other systems with GNU libc and userland
 	echo ${UNAME_MACHINE}-unknown-`echo ${UNAME_SYSTEM} | sed &#39;s,^[^/]*/,,&#39; | tr &#39;[A-Z]&#39; &#39;[a-z]&#39;``echo ${UNAME_RELEASE}|sed -e &#39;s/[-(].*//&#39;`-gnu
-	exit 0 ;;
+	exit ;;
     i*86:Minix:*:*)
 	echo ${UNAME_MACHINE}-pc-minix
-	exit 0 ;;
+	exit ;;
     arm*:Linux:*:*)
 	echo ${UNAME_MACHINE}-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     cris:Linux:*:*)
 	echo cris-axis-linux-gnu
-	exit 0 ;;
+	exit ;;
+    crisv32:Linux:*:*)
+	echo crisv32-axis-linux-gnu
+	exit ;;
+    frv:Linux:*:*)
+    	echo frv-unknown-linux-gnu
+	exit ;;
     ia64:Linux:*:*)
 	echo ${UNAME_MACHINE}-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     m32r*:Linux:*:*)
 	echo ${UNAME_MACHINE}-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     m68*:Linux:*:*)
 	echo ${UNAME_MACHINE}-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     mips:Linux:*:*)
 	eval $set_cc_for_build
 	sed &#39;s/^	//&#39; &lt;&lt; EOF &gt;$dummy.c
@@ -859,7 +852,7 @@
 	#endif
 EOF
 	eval `$CC_FOR_BUILD -E $dummy.c 2&gt;/dev/null | grep ^CPU=`
-	test x&quot;${CPU}&quot; != x &amp;&amp; echo &quot;${CPU}-unknown-linux-gnu&quot; &amp;&amp; exit 0
+	test x&quot;${CPU}&quot; != x &amp;&amp; { echo &quot;${CPU}-unknown-linux-gnu&quot;; exit; }
 	;;
     mips64:Linux:*:*)
 	eval $set_cc_for_build
@@ -878,14 +871,17 @@
 	#endif
 EOF
 	eval `$CC_FOR_BUILD -E $dummy.c 2&gt;/dev/null | grep ^CPU=`
-	test x&quot;${CPU}&quot; != x &amp;&amp; echo &quot;${CPU}-unknown-linux-gnu&quot; &amp;&amp; exit 0
+	test x&quot;${CPU}&quot; != x &amp;&amp; { echo &quot;${CPU}-unknown-linux-gnu&quot;; exit; }
 	;;
+    or32:Linux:*:*)
+	echo or32-unknown-linux-gnu
+	exit ;;
     ppc:Linux:*:*)
 	echo powerpc-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     ppc64:Linux:*:*)
 	echo powerpc64-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     alpha:Linux:*:*)
 	case `sed -n &#39;/^cpu model/s/^.*: \(.*\)/\1/p&#39; &lt; /proc/cpuinfo` in
 	  EV5)   UNAME_MACHINE=alphaev5 ;;
@@ -899,7 +895,7 @@
 	objdump --private-headers /bin/sh | grep ld.so.1 &gt;/dev/null
 	if test &quot;$?&quot; = 0 ; then LIBC=&quot;libc1&quot; ; else LIBC=&quot;&quot; ; fi
 	echo ${UNAME_MACHINE}-unknown-linux-gnu${LIBC}
-	exit 0 ;;
+	exit ;;
     parisc:Linux:*:* | hppa:Linux:*:*)
 	# Look for CPU level
 	case `grep &#39;^cpu[^a-z]*:&#39; /proc/cpuinfo 2&gt;/dev/null | cut -d&#39; &#39; -f2` in
@@ -907,25 +903,25 @@
 	  PA8*) echo hppa2.0-unknown-linux-gnu ;;
 	  *)    echo hppa-unknown-linux-gnu ;;
 	esac
-	exit 0 ;;
+	exit ;;
     parisc64:Linux:*:* | hppa64:Linux:*:*)
 	echo hppa64-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     s390:Linux:*:* | s390x:Linux:*:*)
 	echo ${UNAME_MACHINE}-ibm-linux
-	exit 0 ;;
+	exit ;;
     sh64*:Linux:*:*)
     	echo ${UNAME_MACHINE}-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     sh*:Linux:*:*)
 	echo ${UNAME_MACHINE}-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     sparc:Linux:*:* | sparc64:Linux:*:*)
 	echo ${UNAME_MACHINE}-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     x86_64:Linux:*:*)
 	echo x86_64-unknown-linux-gnu
-	exit 0 ;;
+	exit ;;
     i*86:Linux:*:*)
 	# The BFD linker knows what the default object file format is, so
 	# first see if it will tell us. cd to the root directory to prevent
@@ -943,15 +939,15 @@
 		;;
 	  a.out-i386-linux)
 		echo &quot;${UNAME_MACHINE}-pc-linux-gnuaout&quot;
-		exit 0 ;;
+		exit ;;
 	  coff-i386)
 		echo &quot;${UNAME_MACHINE}-pc-linux-gnucoff&quot;
-		exit 0 ;;
+		exit ;;
 	  &quot;&quot;)
 		# Either a pre-BFD a.out linker (linux-gnuoldld) or
 		# one that does not give us useful --help.
 		echo &quot;${UNAME_MACHINE}-pc-linux-gnuoldld&quot;
-		exit 0 ;;
+		exit ;;
 	esac
 	# Determine whether the default compiler is a.out or elf
 	eval $set_cc_for_build
@@ -979,15 +975,18 @@
 	#endif
 EOF
 	eval `$CC_FOR_BUILD -E $dummy.c 2&gt;/dev/null | grep ^LIBC=`
-	test x&quot;${LIBC}&quot; != x &amp;&amp; echo &quot;${UNAME_MACHINE}-pc-linux-${LIBC}&quot; &amp;&amp; exit 0
-	test x&quot;${TENTATIVE}&quot; != x &amp;&amp; echo &quot;${TENTATIVE}&quot; &amp;&amp; exit 0
+	test x&quot;${LIBC}&quot; != x &amp;&amp; {
+		echo &quot;${UNAME_MACHINE}-pc-linux-${LIBC}&quot;
+		exit
+	}
+	test x&quot;${TENTATIVE}&quot; != x &amp;&amp; { echo &quot;${TENTATIVE}&quot;; exit; }
 	;;
     i*86:DYNIX/ptx:4*:*)
 	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
 	# earlier versions are messed up and put the nodename in both
 	# sysname and nodename.
 	echo i386-sequent-sysv4
-	exit 0 ;;
+	exit ;;
     i*86:UNIX_SV:4.2MP:2.*)
         # Unixware is an offshoot of SVR4, but it has its own version
         # number series starting with 2...
@@ -995,27 +994,27 @@
 	# I just have to hope.  -- rms.
         # Use sysv4.2uw... so that sysv4* matches it.
 	echo ${UNAME_MACHINE}-pc-sysv4.2uw${UNAME_VERSION}
-	exit 0 ;;
+	exit ;;
     i*86:OS/2:*:*)
 	# If we were able to find `uname&#39;, then EMX Unix compatibility
 	# is probably installed.
 	echo ${UNAME_MACHINE}-pc-os2-emx
-	exit 0 ;;
+	exit ;;
     i*86:XTS-300:*:STOP)
 	echo ${UNAME_MACHINE}-unknown-stop
-	exit 0 ;;
+	exit ;;
     i*86:atheos:*:*)
 	echo ${UNAME_MACHINE}-unknown-atheos
-	exit 0 ;;
-	i*86:syllable:*:*)
+	exit ;;
+    i*86:syllable:*:*)
 	echo ${UNAME_MACHINE}-pc-syllable
-	exit 0 ;;
+	exit ;;
     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.0*:*)
 	echo i386-unknown-lynxos${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     i*86:*DOS:*:*)
 	echo ${UNAME_MACHINE}-pc-msdosdjgpp
-	exit 0 ;;
+	exit ;;
     i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*)
 	UNAME_REL=`echo ${UNAME_RELEASE} | sed &#39;s/\/MP$//&#39;`
 	if grep Novell /usr/include/link.h &gt;/dev/null 2&gt;/dev/null; then
@@ -1023,15 +1022,16 @@
 	else
 		echo ${UNAME_MACHINE}-pc-sysv${UNAME_REL}
 	fi
-	exit 0 ;;
-    i*86:*:5:[78]*)
+	exit ;;
+    i*86:*:5:[678]*)
+    	# UnixWare 7.x, OpenUNIX and OpenServer 6.
 	case `/bin/uname -X | grep &quot;^Machine&quot;` in
 	    *486*)	     UNAME_MACHINE=i486 ;;
 	    *Pentium)	     UNAME_MACHINE=i586 ;;
 	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
 	esac
 	echo ${UNAME_MACHINE}-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
-	exit 0 ;;
+	exit ;;
     i*86:*:3.2:*)
 	if test -f /usr/options/cb.name; then
 		UNAME_REL=`sed -n &#39;s/.*Version //p&#39; &lt;/usr/options/cb.name`
@@ -1049,73 +1049,73 @@
 	else
 		echo ${UNAME_MACHINE}-pc-sysv32
 	fi
-	exit 0 ;;
+	exit ;;
     pc:*:*:*)
 	# Left here for compatibility:
         # uname -m prints for DJGPP always &#39;pc&#39;, but it prints nothing about
         # the processor, so we play safe by assuming i386.
 	echo i386-pc-msdosdjgpp
-        exit 0 ;;
+        exit ;;
     Intel:Mach:3*:*)
 	echo i386-pc-mach3
-	exit 0 ;;
+	exit ;;
     paragon:*:*:*)
 	echo i860-intel-osf1
-	exit 0 ;;
+	exit ;;
     i860:*:4.*:*) # i860-SVR4
 	if grep Stardent /usr/include/sys/uadmin.h &gt;/dev/null 2&gt;&amp;1 ; then
 	  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4
 	else # Add other i860-SVR4 vendors below as they are discovered.
 	  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4
 	fi
-	exit 0 ;;
+	exit ;;
     mini*:CTIX:SYS*5:*)
 	# &quot;miniframe&quot;
 	echo m68010-convergent-sysv
-	exit 0 ;;
+	exit ;;
     mc68k:UNIX:SYSTEM5:3.51m)
 	echo m68k-convergent-sysv
-	exit 0 ;;
+	exit ;;
     M680?0:D-NIX:5.3:*)
 	echo m68k-diab-dnix
-	exit 0 ;;
+	exit ;;
     M68*:*:R3V[5678]*:*)
-	test -r /sysV68 &amp;&amp; echo &#39;m68k-motorola-sysv&#39; &amp;&amp; exit 0 ;;
+	test -r /sysV68 &amp;&amp; { echo &#39;m68k-motorola-sysv&#39;; exit; } ;;
     3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)
 	OS_REL=&#39;&#39;
 	test -r /etc/.relid \
 	&amp;&amp; OS_REL=.`sed -n &#39;s/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p&#39; &lt; /etc/.relid`
 	/bin/uname -p 2&gt;/dev/null | grep 86 &gt;/dev/null \
-	  &amp;&amp; echo i486-ncr-sysv4.3${OS_REL} &amp;&amp; exit 0
+	  &amp;&amp; { echo i486-ncr-sysv4.3${OS_REL}; exit; }
 	/bin/uname -p 2&gt;/dev/null | /bin/grep entium &gt;/dev/null \
-	  &amp;&amp; echo i586-ncr-sysv4.3${OS_REL} &amp;&amp; exit 0 ;;
+	  &amp;&amp; { echo i586-ncr-sysv4.3${OS_REL}; exit; } ;;
     3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)
         /bin/uname -p 2&gt;/dev/null | grep 86 &gt;/dev/null \
-          &amp;&amp; echo i486-ncr-sysv4 &amp;&amp; exit 0 ;;
+          &amp;&amp; { echo i486-ncr-sysv4; exit; } ;;
     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
 	echo m68k-unknown-lynxos${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     mc68030:UNIX_System_V:4.*:*)
 	echo m68k-atari-sysv4
-	exit 0 ;;
+	exit ;;
     TSUNAMI:LynxOS:2.*:*)
 	echo sparc-unknown-lynxos${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     rs6000:LynxOS:2.*:*)
 	echo rs6000-unknown-lynxos${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.0*:*)
 	echo powerpc-unknown-lynxos${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     SM[BE]S:UNIX_SV:*:*)
 	echo mips-dde-sysv${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     RM*:ReliantUNIX-*:*:*)
 	echo mips-sni-sysv4
-	exit 0 ;;
+	exit ;;
     RM*:SINIX-*:*:*)
 	echo mips-sni-sysv4
-	exit 0 ;;
+	exit ;;
     *:SINIX-*:*:*)
 	if uname -p 2&gt;/dev/null &gt;/dev/null ; then
 		UNAME_MACHINE=`(uname -p) 2&gt;/dev/null`
@@ -1123,68 +1123,73 @@
 	else
 		echo ns32k-sni-sysv
 	fi
-	exit 0 ;;
+	exit ;;
     PENTIUM:*:4.0*:*) # Unisys `ClearPath HMP IX 4000&#39; SVR4/MP effort
                       # says &lt;Richard.M.Bartel@ccMail.Census.GOV&gt;
         echo i586-unisys-sysv4
-        exit 0 ;;
+        exit ;;
     *:UNIX_System_V:4*:FTX*)
 	# From Gerald Hewes &lt;hewes@openmarket.com&gt;.
 	# How about differentiating between stratus architectures? -djm
 	echo hppa1.1-stratus-sysv4
-	exit 0 ;;
+	exit ;;
     *:*:*:FTX*)
 	# From seanf@swdc.stratus.com.
 	echo i860-stratus-sysv4
-	exit 0 ;;
+	exit ;;
+    i*86:VOS:*:*)
+	# From Paul.Green@stratus.com.
+	echo ${UNAME_MACHINE}-stratus-vos
+	exit ;;
     *:VOS:*:*)
 	# From Paul.Green@stratus.com.
 	echo hppa1.1-stratus-vos
-	exit 0 ;;
+	exit ;;
     mc68*:A/UX:*:*)
 	echo m68k-apple-aux${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     news*:NEWS-OS:6*:*)
 	echo mips-sony-newsos6
-	exit 0 ;;
+	exit ;;
     R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
 	if [ -d /usr/nec ]; then
 	        echo mips-nec-sysv${UNAME_RELEASE}
 	else
 	        echo mips-unknown-sysv${UNAME_RELEASE}
 	fi
-        exit 0 ;;
+        exit ;;
     BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
 	echo powerpc-be-beos
-	exit 0 ;;
+	exit ;;
     BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
 	echo powerpc-apple-beos
-	exit 0 ;;
+	exit ;;
     BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
 	echo i586-pc-beos
-	exit 0 ;;
+	exit ;;
     SX-4:SUPER-UX:*:*)
 	echo sx4-nec-superux${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     SX-5:SUPER-UX:*:*)
 	echo sx5-nec-superux${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     SX-6:SUPER-UX:*:*)
 	echo sx6-nec-superux${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     Power*:Rhapsody:*:*)
 	echo powerpc-apple-rhapsody${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:Rhapsody:*:*)
 	echo ${UNAME_MACHINE}-apple-rhapsody${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:Darwin:*:*)
-	case `uname -p` in
+	UNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown
+	case $UNAME_PROCESSOR in
 	    *86) UNAME_PROCESSOR=i686 ;;
-	    powerpc) UNAME_PROCESSOR=powerpc ;;
+	    unknown) UNAME_PROCESSOR=powerpc ;;
 	esac
 	echo ${UNAME_PROCESSOR}-apple-darwin${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:procnto*:*:* | *:QNX:[0123456789]*:*)
 	UNAME_PROCESSOR=`uname -p`
 	if test &quot;$UNAME_PROCESSOR&quot; = &quot;x86&quot;; then
@@ -1192,22 +1197,25 @@
 		UNAME_MACHINE=pc
 	fi
 	echo ${UNAME_PROCESSOR}-${UNAME_MACHINE}-nto-qnx${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:QNX:*:4*)
 	echo i386-pc-qnx
-	exit 0 ;;
+	exit ;;
+    NSE-?:NONSTOP_KERNEL:*:*)
+	echo nse-tandem-nsk${UNAME_RELEASE}
+	exit ;;
     NSR-?:NONSTOP_KERNEL:*:*)
 	echo nsr-tandem-nsk${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:NonStop-UX:*:*)
 	echo mips-compaq-nonstopux
-	exit 0 ;;
+	exit ;;
     BS2000:POSIX*:*:*)
 	echo bs2000-siemens-sysv
-	exit 0 ;;
+	exit ;;
     DS/*:UNIX_System_V:*:*)
 	echo ${UNAME_MACHINE}-${UNAME_SYSTEM}-${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:Plan9:*:*)
 	# &quot;uname -m&quot; is not consistent, so use $cputype instead. 386
 	# is converted to i386 for consistency with other x86
@@ -1218,38 +1226,44 @@
 	    UNAME_MACHINE=&quot;$cputype&quot;
 	fi
 	echo ${UNAME_MACHINE}-unknown-plan9
-	exit 0 ;;
+	exit ;;
     *:TOPS-10:*:*)
 	echo pdp10-unknown-tops10
-	exit 0 ;;
+	exit ;;
     *:TENEX:*:*)
 	echo pdp10-unknown-tenex
-	exit 0 ;;
+	exit ;;
     KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
 	echo pdp10-dec-tops20
-	exit 0 ;;
+	exit ;;
     XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
 	echo pdp10-xkl-tops20
-	exit 0 ;;
+	exit ;;
     *:TOPS-20:*:*)
 	echo pdp10-unknown-tops20
-	exit 0 ;;
+	exit ;;
     *:ITS:*:*)
 	echo pdp10-unknown-its
-	exit 0 ;;
+	exit ;;
     SEI:*:*:SEIUX)
         echo mips-sei-seiux${UNAME_RELEASE}
-	exit 0 ;;
+	exit ;;
     *:DragonFly:*:*)
 	echo ${UNAME_MACHINE}-unknown-dragonfly`echo ${UNAME_RELEASE}|sed -e &#39;s/[-(].*//&#39;`
-	exit 0 ;;
+	exit ;;
     *:*VMS:*:*)
     	UNAME_MACHINE=`(uname -p) 2&gt;/dev/null`
 	case &quot;${UNAME_MACHINE}&quot; in
-	    A*) echo alpha-dec-vms &amp;&amp; exit 0 ;;
-	    I*) echo ia64-dec-vms &amp;&amp; exit 0 ;;
-	    V*) echo vax-dec-vms &amp;&amp; exit 0 ;;
-	esac
+	    A*) echo alpha-dec-vms ; exit ;;
+	    I*) echo ia64-dec-vms ; exit ;;
+	    V*) echo vax-dec-vms ; exit ;;
+	esac ;;
+    *:XENIX:*:SysV)
+	echo i386-pc-xenix
+	exit ;;
+    i*86:skyos:*:*)
+	echo ${UNAME_MACHINE}-pc-skyos`echo ${UNAME_RELEASE}` | sed -e &#39;s/ .*$//&#39;
+	exit ;;
 esac
 
 #echo &#39;(No uname command or uname output not recognized.)&#39; 1&gt;&amp;2
@@ -1281,7 +1295,7 @@
 #endif
 
 #if defined (__arm) &amp;&amp; defined (__acorn) &amp;&amp; defined (__unix)
-  printf (&quot;arm-acorn-riscix&quot;); exit (0);
+  printf (&quot;arm-acorn-riscix\n&quot;); exit (0);
 #endif
 
 #if defined (hp300) &amp;&amp; !defined (hpux)
@@ -1370,11 +1384,12 @@
 }
 EOF
 
-$CC_FOR_BUILD -o $dummy $dummy.c 2&gt;/dev/null &amp;&amp; $dummy &amp;&amp; exit 0
+$CC_FOR_BUILD -o $dummy $dummy.c 2&gt;/dev/null &amp;&amp; SYSTEM_NAME=`$dummy` &amp;&amp;
+	{ echo &quot;$SYSTEM_NAME&quot;; exit; }
 
 # Apollos put the system type in the environment.
 
-test -d /usr/apollo &amp;&amp; { echo ${ISP}-apollo-${SYSTYPE}; exit 0; }
+test -d /usr/apollo &amp;&amp; { echo ${ISP}-apollo-${SYSTYPE}; exit; }
 
 # Convex versions that predate uname can use getsysinfo(1)
 
@@ -1383,22 +1398,22 @@
     case `getsysinfo -f cpu_type` in
     c1*)
 	echo c1-convex-bsd
-	exit 0 ;;
+	exit ;;
     c2*)
 	if getsysinfo -f scalar_acc
 	then echo c32-convex-bsd
 	else echo c2-convex-bsd
 	fi
-	exit 0 ;;
+	exit ;;
     c34*)
 	echo c34-convex-bsd
-	exit 0 ;;
+	exit ;;
     c38*)
 	echo c38-convex-bsd
-	exit 0 ;;
+	exit ;;
     c4*)
 	echo c4-convex-bsd
-	exit 0 ;;
+	exit ;;
     esac
 fi
 
@@ -1409,7 +1424,9 @@
 the operating system you are using. It is advised that you
 download the most up to date version of the config scripts from
 
-    <a href="ftp://ftp.gnu.org/pub/gnu/config/">ftp://ftp.gnu.org/pub/gnu/config/</a>
+  <a href="http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.guess">http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.guess</a>
+and
+  <a href="http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.sub">http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.sub</a>
 
 If the version you run ($0) is already up to date, please
 send the following data and any information you think might be
diff -u xlockmore-5.13/config.sub xlockmore-5.13/config.sub
--- xlockmore-5.13/config.sub
+++ xlockmore-5.13/config.sub
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Configuration validation subroutine script.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
-#   2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
+#   2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
 
-timestamp=&#39;2004-06-24&#39;
+timestamp=&#39;2005-07-08&#39;
 
 # This file is (in principle) common to ALL GNU software.
 # The presence of a machine in this file suggests that SOME GNU software
@@ -21,14 +21,15 @@
 #
 # You should have received a copy of the GNU General Public License
 # along with this program; if not, write to the Free Software
-# Foundation, Inc., 59 Temple Place - Suite 330,
-# Boston, MA 02111-1307, USA.
-
+# Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA
+# 02110-1301, USA.
+#
 # As a special exception to the GNU General Public License, if you
 # distribute this file as part of a program that contains a
 # configuration script generated by Autoconf, you may include it under
 # the same distribution terms that you use for the rest of that program.
 
+
 # Please send patches to &lt;config-patches@gnu.org&gt;.  Submit a context
 # diff and a properly formatted ChangeLog entry.
 #
@@ -70,7 +71,7 @@
 version=&quot;\
 GNU config.sub ($timestamp)
 
-Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004
+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
 Free Software Foundation, Inc.
 
 This is free software; see the source for copying conditions.  There is NO
@@ -83,11 +84,11 @@
 while test $# -gt 0 ; do
   case $1 in
     --time-stamp | --time* | -t )
-       echo &quot;$timestamp&quot; ; exit 0 ;;
+       echo &quot;$timestamp&quot; ; exit ;;
     --version | -v )
-       echo &quot;$version&quot; ; exit 0 ;;
+       echo &quot;$version&quot; ; exit ;;
     --help | --h* | -h )
-       echo &quot;$usage&quot;; exit 0 ;;
+       echo &quot;$usage&quot;; exit ;;
     -- )     # Stop option processing
        shift; break ;;
     - )	# Use stdin as input.
@@ -99,7 +100,7 @@
     *local*)
        # First pass through any local machine types.
        echo $1
-       exit 0;;
+       exit ;;
 
     * )
        break ;;
@@ -231,13 +232,14 @@
 	| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \
 	| am33_2.0 \
 	| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr \
+	| bfin \
 	| c4x | clipper \
 	| d10v | d30v | dlx | dsp16xx \
 	| fr30 | frv \
 	| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
 	| i370 | i860 | i960 | ia64 \
 	| ip2k | iq2000 \
-	| m32r | m32rle | m68000 | m68k | m88k | mcore \
+	| m32r | m32rle | m68000 | m68k | m88k | maxq | mcore \
 	| mips | mipsbe | mipseb | mipsel | mipsle \
 	| mips16 \
 	| mips64 | mips64el \
@@ -246,6 +248,7 @@
 	| mips64vr4100 | mips64vr4100el \
 	| mips64vr4300 | mips64vr4300el \
 	| mips64vr5000 | mips64vr5000el \
+	| mips64vr5900 | mips64vr5900el \
 	| mipsisa32 | mipsisa32el \
 	| mipsisa32r2 | mipsisa32r2el \
 	| mipsisa64 | mipsisa64el \
@@ -254,23 +257,28 @@
 	| mipsisa64sr71k | mipsisa64sr71kel \
 	| mipstx39 | mipstx39el \
 	| mn10200 | mn10300 \
+	| ms1 \
 	| msp430 \
 	| ns16k | ns32k \
-	| openrisc | or32 \
+	| or32 \
 	| pdp10 | pdp11 | pj | pjl \
 	| powerpc | powerpc64 | powerpc64le | powerpcle | ppcbe \
 	| pyramid \
-	| sh | sh[1234] | sh[23]e | sh[34]eb | shbe | shle | sh[1234]le | sh3ele \
+	| sh | sh[1234] | sh[24]a | sh[23]e | sh[34]eb | shbe | shle | sh[1234]le | sh3ele \
 	| sh64 | sh64le \
-	| sparc | sparc64 | sparc86x | sparclet | sparclite | sparcv8 | sparcv9 | sparcv9b \
+	| sparc | sparc64 | sparc64b | sparc86x | sparclet | sparclite \
+	| sparcv8 | sparcv9 | sparcv9b \
 	| strongarm \
 	| tahoe | thumb | tic4x | tic80 | tron \
 	| v850 | v850e \
 	| we32k \
-	| x86 | xscale | xstormy16 | xtensa \
+	| x86 | xscale | xscalee[bl] | xstormy16 | xtensa \
 	| z8k)
 		basic_machine=$basic_machine-unknown
 		;;
+	m32c)
+		basic_machine=$basic_machine-unknown
+		;;
 	m6811 | m68hc11 | m6812 | m68hc12)
 		# Motorola 68HC11/12.
 		basic_machine=$basic_machine-unknown
@@ -298,7 +306,7 @@
 	| alphapca5[67]-* | alpha64pca5[67]-* | arc-* \
 	| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \
 	| avr-* \
-	| bs2000-* \
+	| bfin-* | bs2000-* \
 	| c[123]* | c30-* | [cjt]90-* | c4x-* | c54x-* | c55x-* | c6x-* \
 	| clipper-* | craynv-* | cydra-* \
 	| d10v-* | d30v-* | dlx-* \
@@ -310,7 +318,7 @@
 	| ip2k-* | iq2000-* \
 	| m32r-* | m32rle-* \
 	| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \
-	| m88110-* | m88k-* | mcore-* \
+	| m88110-* | m88k-* | maxq-* | mcore-* \
 	| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \
 	| mips16-* \
 	| mips64-* | mips64el-* \
@@ -319,6 +327,7 @@
 	| mips64vr4100-* | mips64vr4100el-* \
 	| mips64vr4300-* | mips64vr4300el-* \
 	| mips64vr5000-* | mips64vr5000el-* \
+	| mips64vr5900-* | mips64vr5900el-* \
 	| mipsisa32-* | mipsisa32el-* \
 	| mipsisa32r2-* | mipsisa32r2el-* \
 	| mipsisa64-* | mipsisa64el-* \
@@ -327,6 +336,7 @@
 	| mipsisa64sr71k-* | mipsisa64sr71kel-* \
 	| mipstx39-* | mipstx39el-* \
 	| mmix-* \
+	| ms1-* \
 	| msp430-* \
 	| none-* | np1-* | ns16k-* | ns32k-* \
 	| orion-* \
@@ -334,20 +344,23 @@
 	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* | ppcbe-* \
 	| pyramid-* \
 	| romp-* | rs6000-* \
-	| sh-* | sh[1234]-* | sh[23]e-* | sh[34]eb-* | shbe-* \
+	| sh-* | sh[1234]-* | sh[24]a-* | sh[23]e-* | sh[34]eb-* | shbe-* \
 	| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \
-	| sparc-* | sparc64-* | sparc86x-* | sparclet-* | sparclite-* \
+	| sparc-* | sparc64-* | sparc64b-* | sparc86x-* | sparclet-* \
+	| sparclite-* \
 	| sparcv8-* | sparcv9-* | sparcv9b-* | strongarm-* | sv1-* | sx?-* \
 	| tahoe-* | thumb-* \
 	| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \
 	| tron-* \
 	| v850-* | v850e-* | vax-* \
 	| we32k-* \
-	| x86-* | x86_64-* | xps100-* | xscale-* | xstormy16-* \
-	| xtensa-* \
+	| x86-* | x86_64-* | xps100-* | xscale-* | xscalee[bl]-* \
+	| xstormy16-* | xtensa-* \
 	| ymp-* \
 	| z8k-*)
 		;;
+	m32c-*)
+		;;
 	# Recognize the various machine names and aliases which stand
 	# for a CPU type and a company and sometimes even an OS.
 	386bsd)
@@ -457,6 +470,9 @@
 	crds | unos)
 		basic_machine=m68k-crds
 		;;
+	crisv32 | crisv32-* | etraxfs*)
+		basic_machine=crisv32-axis
+		;;
 	cris | cris-* | etrax*)
 		basic_machine=cris-axis
 		;;
@@ -486,6 +502,10 @@
 		basic_machine=m88k-motorola
 		os=-sysv3
 		;;
+	djgpp)
+		basic_machine=i586-pc
+		os=-msdosdjgpp
+		;;
 	dpx20 | dpx20-*)
 		basic_machine=rs6000-bull
 		os=-bosx
@@ -751,9 +771,8 @@
 		basic_machine=hppa1.1-oki
 		os=-proelf
 		;;
-	or32 | or32-*)
+	openrisc | openrisc-*)
 		basic_machine=or32-unknown
-		os=-coff
 		;;
 	os400)
 		basic_machine=powerpc-ibm
@@ -1026,6 +1045,10 @@
 		basic_machine=hppa1.1-winbond
 		os=-proelf
 		;;
+	xbox)
+		basic_machine=i686-pc
+		os=-mingw32
+		;;
 	xps | xps100)
 		basic_machine=xps100-honeywell
 		;;
@@ -1075,12 +1098,9 @@
 	we32k)
 		basic_machine=we32k-att
 		;;
-	sh3 | sh4 | sh[34]eb | sh[1234]le | sh[23]ele)
+	sh[1234] | sh[24]a | sh[34]eb | sh[1234]le | sh[23]ele)
 		basic_machine=sh-unknown
 		;;
-	sh64)
-		basic_machine=sh64-unknown
-		;;
 	sparc | sparcv8 | sparcv9 | sparcv9b)
 		basic_machine=sparc-sun
 		;;
@@ -1167,7 +1187,8 @@
 	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \
 	      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \
 	      | -morphos* | -superux* | -rtmk* | -rtmk-nova* | -windiss* \
-	      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly*)
+	      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly* \
+	      | -skyos* | -haiku*)
 	# Remember, each alternative MUST END IN *, to match a version number.
 		;;
 	-qnx*)
@@ -1185,7 +1206,7 @@
 		os=`echo $os | sed -e &#39;s|nto|nto-qnx|&#39;`
 		;;
 	-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
-	      | -windows* | -osx | -abug | -netware* | -os9* | -beos* \
+	      | -windows* | -osx | -abug | -netware* | -os9* | -beos* | -haiku* \
 	      | -macos* | -mpw* | -magic* | -mmixware* | -mon960* | -lnews*)
 		;;
 	-mac*)
@@ -1294,6 +1315,9 @@
 	-kaos*)
 		os=-kaos
 		;;
+	-zvmoe)
+		os=-zvmoe
+		;;
 	-none)
 		;;
 	*)
@@ -1371,6 +1395,9 @@
 	*-be)
 		os=-beos
 		;;
+	*-haiku)
+		os=-haiku
+		;;
 	*-ibm)
 		os=-aix
 		;;
@@ -1542,7 +1569,7 @@
 esac
 
 echo $basic_machine$os
-exit 0
+exit
 
 # Local variables:
 # eval: (add-hook &#39;write-file-hooks &#39;time-stamp)
diff -u xlockmore-5.13/debian/control xlockmore-5.13/debian/control
--- xlockmore-5.13/debian/control
+++ xlockmore-5.13/debian/control
@@ -3,7 +3,7 @@
 Maintainer: Michael Stone &lt;mstone@debian.org&gt;
 Standards-Version: 3.6.1.0
 Priority: optional
-Build-Depends:  xlibmesa-dev, xlibs-dev, perl, libpam0g-dev, debhelper, dh-buildinfo, autotools-dev
+Build-Depends:  xlibmesa-gl-dev | libgl-dev, libx11-dev, libxdmcp-dev, libxext-dev, libxinerama-dev, libxmu-dev, libxpm-dev, libxt-dev, x-dev, libglu1-xorg-dev | xlibmesa-glu-dev, perl, libpam0g-dev, debhelper, dh-buildinfo, autotools-dev
 
 Package: xlockmore-gl
 Architecture: any
diff -u xlockmore-5.13/debian/changelog xlockmore-5.13/debian/changelog
--- xlockmore-5.13/debian/changelog
+++ xlockmore-5.13/debian/changelog
@@ -1,8 +1,18 @@
+xlockmore (1:5.13-2.2) unstable; urgency=high
+
+  * Non-maintainer upload.
+  * Split xlibs-dev build-dep (Closes: #<a href="bugreport.cgi?bug=347050">347050</a>).
+  * Update build-dep on mesa to xlibmesa-gl-dev (Closes: #<a href="bugreport.cgi?bug=337467">337467</a>).
+  * Fix security bug which allows unauthorized access to X (Closes: #<a href="bugreport.cgi?bug=318123">318123</a>)
+    [<a href="https://security-tracker.debian.org/tracker/CVE-2006-0061">CVE-2006-0061</a>].
+
+ -- Luk Claes &lt;luk@debian.org&gt;  Fri, 20 Jan 2006 20:01:04 +0100
+
 xlockmore (1:5.13-2.1) unstable; urgency=high
 
   * NMU
   * Applied newest patch from Eugene to avoid fatal crash when fvwm
-    switches virtual desktop. (closes: #<a href="bugreport.cgi?bug=309760">309760</a>)
+    switches virtual desktop. (closes: #<a href="bugreport.cgi?bug=309760">309760</a>) [<a href="https://security-tracker.debian.org/tracker/CVE-2006-0062">CVE-2006-0062</a>]
 
  -- Kenshi Muto &lt;kmuto@debian.org&gt;  Mon, 23 May 2005 11:30:18 +0000
 
only in patch2:
unchanged:
--- xlockmore-5.13.orig/xlock/passwd.c
+++ xlockmore-5.13/xlock/passwd.c
@@ -296,8 +296,8 @@
 
 #define COPY_STRING(s) (s) ? strdup(s) : NULL
 
-	reply = (struct pam_response *) malloc(sizeof (struct pam_response) *
-					       num_msg);
+	reply = (struct pam_response *) calloc(num_msg,
+			sizeof (struct pam_response));
 
 	if (!reply)
 		return PAM_CONV_ERR;
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=2;bug=318123;filename=signature.asc;msg=33">signature.asc</a> (application/pgp-signature, attachment)]</pre>

<div class="infmessage"><hr><p>
<a name="34"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=35">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=35">mbox</a>, <a href="#34">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="36"></a>
<strong>Acknowledgement sent</strong> to <code>Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.
(<a href="bugreport.cgi?bug=318123;msg=37">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=37">mbox</a>, <a href="#36">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="38"></a><a name="msg38"></a><a href="#38">Message #38</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=38">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=38">mbox</a>, <a href="mailto:318123@bugs.debian.org?References=%3C43D15F38.9000900%40debian.org%3E%0A%20%3C20060120223812.GL28653%40mathom.us%3E&amp;subject=Re%3A%20Bug%23318123%3A%20Intention%20to%20NMU%20xlockmore&amp;body=On%20Fri%2C%2020%20Jan%202006%2017%3A38%3A13%20-0500%20Michael%20Stone%20%3Cmstone%40debian.org%3E%20wrote%3A%0A%3E%20On%20Fri%2C%20Jan%2020%2C%202006%20at%2011%3A07%3A52PM%20%2B0100%2C%20you%20wrote%3A%0A%3E%20%3EAttached%20the%20patch%20for%20the%20version%20I%20intend%20to%20upload.%20Please%20respond%20if%0A%3E%20%3Eyou%20don%27t%20want%20this%20NMU%20to%20happen%2C%20if%20you%20are%20working%20yourself%20on%20a%0A%3E%20%3Epatch%20or%20if%20you%20think%20that%20the%20attached%20patch%20won%27t%20work.%0A%3E%20%0A%3E%20Don%27t%20put%20a%20whole%20generic%20config.guess%20into%20a%20patch%2C%20just%20copy%20it%20at%0A%3E%20build%20time.%0A%3E%20%0A%3E%20Regardless%20of%20what%20the%20submitter%20said%2C%20it%20isn%27t%20a%20%22security%20bug%22%2C%20it%27s%0A%3E%20just%20a%20bug.%20%28Which%20is%20why%20there%20isn%27t%20a%20security%20upload%20for%20it.%29%0A%3E%20%0A%3E%20Mike%20Stone%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20060120223812.GL28653%40mathom.us%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=mstone%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Michael Stone &lt;mstone@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Luk Claes &lt;luk@debian.org&gt;, 318123@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#318123: Intention to NMU xlockmore</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 20 Jan 2006 17:38:13 -0500</div>
</div>
<pre class="message flowed">On Fri, Jan 20, 2006 at 11:07:52PM +0100, you wrote:
&gt;Attached the patch for the version I intend to upload. Please respond if
&gt;you don&#39;t want this NMU to happen, if you are working yourself on a
&gt;patch or if you think that the attached patch won&#39;t work.

Don&#39;t put a whole generic config.guess into a patch, just copy it at
build time.

Regardless of what the submitter said, it isn&#39;t a &quot;security bug&quot;, it&#39;s
just a bug. (Which is why there isn&#39;t a security upload for it.)

Mike Stone


</pre>

<div class="msgreceived"><hr><p>
<a name="39"></a>
<strong>Tags added: fixed</strong>
Request was from <code>Luk Claes &lt;luk@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=40">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=40">mbox</a>, <a href="#39">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="41"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=42">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=42">mbox</a>, <a href="#41">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="43"></a>
<strong>Acknowledgement sent</strong> to <code>Martin Schulze &lt;joey@infodrom.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=44">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=44">mbox</a>, <a href="#43">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="45"></a><a name="msg45"></a><a href="#45">Message #45</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=45">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=45">mbox</a>, <a href="mailto:318123@bugs.debian.org?subject=Re%3A%20Security%20bug%20in%20xlockmore&amp;body=On%20Fri%2C%2027%20Jan%202006%2015%3A42%3A31%20%2B0100%20Martin%20Schulze%20%3Cjoey%40infodrom.org%3E%20wrote%3A%0A%3E%20Alexander%20Wirt%20wrote%3A%0A%3E%20%3E%20Hi%20Michael%2C%20%0A%3E%20%3E%20%0A%3E%20%3E%20this%20security%20bug%20in%20xlockmore%20is%20still%20present%20in%20all%20xlockmore%20versions%20in%0A%3E%20%3E%20the%20archive%20and%20is%20open%20for%20now%20190%20days.%20In%20the%20meantime%20we%20organized%20a%20CVE%20%0A%3E%20%3E%20number%20and%20a%20patch%20that%20fixes%20that%20problem.%20But%20still%20no%20reaction%20from%20you.%20I%0A%3E%20%3E%20know%20that%20aren%27t%20MIA%20at%20all%2C%20because%20I%20have%20seen%20some%20activity%20from%20you%20since%0A%3E%20%3E%20then.%20But%20I%20think%20this%20bug%20needs%20some%20time%20from%20you%20at%20all.%20I%20know%20that%0A%3E%20%3E%20xlockmore%20is%20upstream%20dead%20and%20has%20really%20awfull%20code%2C%20but%20I%20you%20don%27t%20want%0A%3E%20%3E%20to%20maintain%20it%20anymore%20orphan%20it%20or%20remove%20it%20from%20the%20archive.%20%0A%3E%20%0A%3E%20I%20have%20to%20admit%20that%20I%20don%27t%20share%20the%20oppinion%20of%20the%20maintainer%20and%20hence%0A%3E%20are%20preparing%20an%20update%20with%20the%20patch%20Elmar%20Hoffmann%20thankfully%20provided.%0A%3E%20%0A%3E%20Please%20let%20me%20know%20which%20version%20in%20sid%20fixes%20this%20problem%2C%20i.e.%20if%20the%0A%3E%20planned%20NMU%20will%20be%20uploaded%20indeed%20etc.%20pp.%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20%0A%3E%20%09Joey%0A%3E%20%0A%3E%20--%20%0A%3E%20The%20MS-DOS%20filesystem%20is%20nice%20for%20removable%20media.%20%20--%20H.%20Peter%20Anvin%0A%3E%20%0A%3E%20Please%20always%20Cc%20to%20me%20when%20replying%20to%20me%20on%20the%20lists.%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20060127144230.GA30945%40finlandia.infodrom.north.de%3E&amp;References=%3C20060120150037.GA3866%40formorer.de%3E%0A%20%3C20060127144230.GA30945%40finlandia.infodrom.north.de%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=joey%40infodrom.org" alt="">
<div class="header"><span class="headerfield">From:</span> Martin Schulze &lt;joey@infodrom.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Alexander Wirt &lt;formorer@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 318123@bugs.debian.org, team@security.debian.org,
	debian-qa@lists.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Security bug in xlockmore</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 27 Jan 2006 15:42:31 +0100</div>
</div>
<pre class="message">Alexander Wirt wrote:
&gt; Hi Michael, 
&gt; 
&gt; this security bug in xlockmore is still present in all xlockmore versions in
&gt; the archive and is open for now 190 days. In the meantime we organized a CVE 
&gt; number and a patch that fixes that problem. But still no reaction from you. I
&gt; know that aren&#39;t MIA at all, because I have seen some activity from you since
&gt; then. But I think this bug needs some time from you at all. I know that
&gt; xlockmore is upstream dead and has really awfull code, but I you don&#39;t want
&gt; to maintain it anymore orphan it or remove it from the archive. 

I have to admit that I don&#39;t share the oppinion of the maintainer and hence
are preparing an update with the patch Elmar Hoffmann thankfully provided.

Please let me know which version in sid fixes this problem, i.e. if the
planned NMU will be uploaded indeed etc. pp.

Regards,

	Joey

-- 
The MS-DOS filesystem is nice for removable media.  -- H. Peter Anvin

Please always Cc to me when replying to me on the lists.


</pre>

<div class="infmessage"><hr><p>
<a name="46"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=47">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=47">mbox</a>, <a href="#46">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="48"></a>
<strong>Acknowledgement sent</strong> to <code>Luk Claes &lt;luk@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=49">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=49">mbox</a>, <a href="#48">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="50"></a><a name="msg50"></a><a href="#50">Message #50</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=50">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=50">mbox</a>, <a href="mailto:318123@bugs.debian.org?subject=Re%3A%20Security%20bug%20in%20xlockmore&amp;In-Reply-To=%3C43DA408F.7090703%40debian.org%3E&amp;body=On%20Fri%2C%2027%20Jan%202006%2016%3A47%3A27%20%2B0100%20Luk%20Claes%20%3Cluk%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20Joey%0A%3E%20%0A%3E%20Martin%20Schulze%20wrote%3A%0A%3E%20%3E%20Alexander%20Wirt%20wrote%3A%0A%3E%20%3E%20%0A%3E%20%3E%3EHi%20Michael%2C%20%0A%3E%20%3E%3E%0A%3E%20%3E%3Ethis%20security%20bug%20in%20xlockmore%20is%20still%20present%20in%20all%20xlockmore%20versions%20in%0A%3E%20%3E%3Ethe%20archive%20and%20is%20open%20for%20now%20190%20days.%20In%20the%20meantime%20we%20organized%20a%20CVE%20%0A%3E%20%3E%3Enumber%20and%20a%20patch%20that%20fixes%20that%20problem.%20But%20still%20no%20reaction%20from%20you.%20I%0A%3E%20%3E%3Eknow%20that%20aren%27t%20MIA%20at%20all%2C%20because%20I%20have%20seen%20some%20activity%20from%20you%20since%0A%3E%20%3E%3Ethen.%20But%20I%20think%20this%20bug%20needs%20some%20time%20from%20you%20at%20all.%20I%20know%20that%0A%3E%20%3E%3Exlockmore%20is%20upstream%20dead%20and%20has%20really%20awfull%20code%2C%20but%20I%20you%20don%27t%20want%0A%3E%20%3E%3Eto%20maintain%20it%20anymore%20orphan%20it%20or%20remove%20it%20from%20the%20archive.%20%0A%3E%20%3E%20%0A%3E%20%3E%20%0A%3E%20%3E%20I%20have%20to%20admit%20that%20I%20don%27t%20share%20the%20oppinion%20of%20the%20maintainer%20and%20hence%0A%3E%20%3E%20are%20preparing%20an%20update%20with%20the%20patch%20Elmar%20Hoffmann%20thankfully%20provided.%0A%3E%20%3E%20%0A%3E%20%3E%20Please%20let%20me%20know%20which%20version%20in%20sid%20fixes%20this%20problem%2C%20i.e.%20if%20the%0A%3E%20%3E%20planned%20NMU%20will%20be%20uploaded%20indeed%20etc.%20pp.%0A%3E%20%0A%3E%20The%20planned%20upload%20was%20already%20uploaded%20and%20has%20already%20migrated%20to%0A%3E%20testing...%20It%20has%20version%20number%201%3A5.13-2.2%0A%3E%20%0A%3E%20Cheers%0A%3E%20%0A%3E%20Luk%0A%3E%20%0A%3E%20--%20%0A%3E%20Luk%20Claes%20-%20http%3A%2F%2Fpeople.debian.org%2F~luk%20-%20GPG%20key%201024D%2F9B7C328D%0A%3E%20Fingerprint%3A%20%20%20D5AF%2025FB%20316B%2053BB%2008E7%20%20%20F999%20E544%20DE07%209B7C%20328D%0A&amp;References=%3C20060120150037.GA3866%40formorer.de%3E%20%3C20060127144230.GA30945%40finlandia.infodrom.north.de%3E%0A%20%3C43DA408F.7090703%40debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=luk%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Luk Claes &lt;luk@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Martin Schulze &lt;joey@infodrom.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> Alexander Wirt &lt;formorer@debian.org&gt;, 318123@bugs.debian.org,
	team@security.debian.org, debian-qa@lists.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Security bug in xlockmore</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 27 Jan 2006 16:47:27 +0100</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=318123;msg=50">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi Joey

Martin Schulze wrote:
&gt; Alexander Wirt wrote:
&gt; 
&gt;&gt;Hi Michael, 
&gt;&gt;
&gt;&gt;this security bug in xlockmore is still present in all xlockmore versions in
&gt;&gt;the archive and is open for now 190 days. In the meantime we organized a CVE 
&gt;&gt;number and a patch that fixes that problem. But still no reaction from you. I
&gt;&gt;know that aren&#39;t MIA at all, because I have seen some activity from you since
&gt;&gt;then. But I think this bug needs some time from you at all. I know that
&gt;&gt;xlockmore is upstream dead and has really awfull code, but I you don&#39;t want
&gt;&gt;to maintain it anymore orphan it or remove it from the archive. 
&gt; 
&gt; 
&gt; I have to admit that I don&#39;t share the oppinion of the maintainer and hence
&gt; are preparing an update with the patch Elmar Hoffmann thankfully provided.
&gt; 
&gt; Please let me know which version in sid fixes this problem, i.e. if the
&gt; planned NMU will be uploaded indeed etc. pp.

The planned upload was already uploaded and has already migrated to
testing... It has version number 1:5.13-2.2

Cheers

Luk

-- 
Luk Claes - <a href="http://people.debian.org/~luk">http://people.debian.org/~luk</a> - GPG key 1024D/9B7C328D
Fingerprint:   D5AF 25FB 316B 53BB 08E7   F999 E544 DE07 9B7C 328D
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=318123;filename=signature.asc;msg=50">signature.asc</a> (application/pgp-signature, attachment)]</pre>

<div class="infmessage"><hr><p>
<a name="51"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=52">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=52">mbox</a>, <a href="#51">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="53"></a>
<strong>Acknowledgement sent</strong> to <code>Daniel Kahn Gillmor &lt;dkg-debian.org@fifthhorseman.net&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=54">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=54">mbox</a>, <a href="#53">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="55"></a><a name="msg55"></a><a href="#55">Message #55</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=55">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=55">mbox</a>, <a href="mailto:318123@bugs.debian.org?In-Reply-To=%3C17374.29535.440715.703361%40localhost.localdomain%3E&amp;body=On%20Mon%2C%2030%20Jan%202006%2015%3A13%3A19%20-0500%20Daniel%20Kahn%20Gillmor%20%3Cdkg-debian.org%40fifthhorseman.net%3E%20wrote%3A%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA1%0A%3E%20%0A%3E%20reopen%20318123%0A%3E%20thanks%0A%3E%20%0A%3E%20Hi%20all--%0A%3E%20%0A%3E%20sorry%20i%20haven%27t%20kept%20up%20with%20this%20bug.%20%20Thanks%20for%20all%20the%20work%20that%0A%3E%20everyone%20has%20put%20into%20it.%20%20I%27m%20still%20using%20libpam-opensc%20version%0A%3E%200.9.6-3%20%28which%20is%20in%20testing%29.%20%20i%20haven%27t%20switched%20over%20to%0A%3E%20libpam-p11-opensc%20%28which%20is%20only%20in%20unstable%29%20yet.%0A%3E%20%0A%3E%20On%20January%2029%2C%20joey%40infodrom.org%20said%3A%0A%3E%20%0A%3E%20%20%3E%20Could%20you%20tell%20me%20whether%20other%20authentication%20means%20work%20with%0A%3E%20%20%3E%20pam_opensc%3F%20%20Such%20as%20xdm%2C%20vlock%2C%20login.%0A%3E%20%0A%3E%20yes%3A%20xdm%2C%20vlock%2C%20and%20login%20all%20authenticate%20correctly%20with%20pam_opensc%3A%0A%3E%20the%20correct%20password%20unlocks%20or%20logs%20in%2C%20and%20the%20incorrect%20password%0A%3E%20fails%20to%20do%20so.%20%20%28actually%2C%20there%20appears%20to%20be%20a%20minor%20information%0A%3E%20leak%20in%20vlock%20when%20the%20user-supplied%20passphrase%2FPIN%20doesn%27t%20match%20the%0A%3E%20stored%20PIN%20on%20the%20card.%20%20i%27ll%20report%20that%20separately%2C%20though%29.%0A%3E%20%0A%3E%20i%27ve%20got%20xlockmore%20from%20testing%20%28version%205.13-2.2%29%20installed%20right%0A%3E%20now%2C%20and%20the%20bug%20is%20unfortunately%20not%20fixed.%20%20xlock%20properly%20rejects%0A%3E%20authentication%20%28and%20stays%20locked%29%20when%20no%20card%20is%20present.%20%20But%20when%20a%0A%3E%20card%20is%20present%2C%20xlock%20unlocks%20the%20screen%20for%20me%20regardless%20of%20what%0A%3E%20password%20i%20supply.%20%20This%20is%20pretty%20bad.%0A%3E%20%0A%3E%20Running%20xlock%20from%20a%20command%20line%2C%20i%20get%20the%20same%20output%20whether%20or%20not%20i%0A%3E%20use%20the%20correct%20password%3A%0A%3E%20%0A%3E%20%5Bdkg%40squeak%20~%5D%24%20xlock%20-debug%0A%3E%20Access%20control%20list%20restored.%0A%3E%20xlock%3A%20caught%20signal%2011%20while%20running%20blank%20mode%20%28uid%201000%29.%0A%3E%20%5Bdkg%40squeak%20~%5D%24%20%0A%3E%20%0A%3E%20and%20of%20course%2C%20signal%2011%20is%20a%20segmentation%20fault%3A%0A%3E%20%0A%3E%20%5Bdkg%40squeak%20~%5D%24%20%2Fbin%2Fkill%20-l%2011%0A%3E%20SEGV%0A%3E%20%5Bdkg%40squeak%20~%5D%24%20%0A%3E%20%0A%3E%20%20%3E%20Could%20you%20recompile%20xlockmore%20with%20the%20patch%20provided%20by%20Elmar%0A%3E%20%20%3E%20http%3A%2F%2Fbugs.debian.org%2Fcgi-bin%2Fbugreport.cgi%2Fxlockmore-5.13_free-non-alloc-fix.diff%3Fbug%3D318123%3Bmsg%3D19%3Batt%3D1%0A%3E%20%20%3E%20and%20tell%20me%20whether%20this%20fixes%20the%20problem%20with%20xlockmore%3F%0A%3E%20%0A%3E%205.13-2.2%20seems%20to%20already%20have%20this%20patch%20applied%2C%20actually%2C%20so%20i%0A%3E%20didn%27t%20bother%20with%20a%20rebuild.%20%20%0A%3E%20%0A%3E%20I%27m%20happy%20to%20try%20to%20debug%20this%20%28since%20i%27ve%20got%20the%20hardware%20handy%29%2C%20if%0A%3E%20anyone%20wants%20me%20to%20try%20anything%20in%20particular.%20%20i%20should%20now%20be%0A%3E%20subscribed%20to%20the%20bug%20%28i%27m%20not%20sure%20why%20i%20wasn%27t%20before%29.%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20%0A%3E%20%09--dkg%0A%3E%20-----BEGIN%20PGP%20SIGNATURE-----%0A%3E%20Version%3A%20GnuPG%20v1.4.2%20%28GNU%2FLinux%29%0A&amp;subject=Re%3A%20xlockmore%3A%20xlock%20segfaults%20with%20libpam-opensc%2C%20returns%20to%20user%20session&amp;References=%3CE1DsjzD-0001YR-Ai%40localhost.localdomain%3E%0A%09%3C20060129071407.GA5757%40finlandia.infodrom.north.de%3E%0A%20%3C17374.29535.440715.703361%40localhost.localdomain%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=dkg-debian.org%40fifthhorseman.net" alt="">
<div class="header"><span class="headerfield">From:</span> Daniel Kahn Gillmor &lt;dkg-debian.org@fifthhorseman.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> Martin Schulze &lt;joey@infodrom.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 318123@bugs.debian.org, control@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: xlockmore: xlock segfaults with libpam-opensc, returns to user session</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 30 Jan 2006 15:13:19 -0500</div>
</div>
<pre class="message">-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

reopen 318123
thanks

Hi all--

sorry i haven&#39;t kept up with this bug.  Thanks for all the work that
everyone has put into it.  I&#39;m still using libpam-opensc version
0.9.6-3 (which is in testing).  i haven&#39;t switched over to
libpam-p11-opensc (which is only in unstable) yet.

On January 29, joey@infodrom.org said:

 &gt; Could you tell me whether other authentication means work with
 &gt; pam_opensc?  Such as xdm, vlock, login.

yes: xdm, vlock, and login all authenticate correctly with pam_opensc:
the correct password unlocks or logs in, and the incorrect password
fails to do so.  (actually, there appears to be a minor information
leak in vlock when the user-supplied passphrase/PIN doesn&#39;t match the
stored PIN on the card.  i&#39;ll report that separately, though).

i&#39;ve got xlockmore from testing (version 5.13-2.2) installed right
now, and the bug is unfortunately not fixed.  xlock properly rejects
authentication (and stays locked) when no card is present.  But when a
card is present, xlock unlocks the screen for me regardless of what
password i supply.  This is pretty bad.

Running xlock from a command line, i get the same output whether or not i
use the correct password:

[dkg@squeak ~]$ xlock -debug
Access control list restored.
xlock: caught signal 11 while running blank mode (uid 1000).
[dkg@squeak ~]$ 

and of course, signal 11 is a segmentation fault:

[dkg@squeak ~]$ /bin/kill -l 11
SEGV
[dkg@squeak ~]$ 

 &gt; Could you recompile xlockmore with the patch provided by Elmar
 &gt; <a href="http://bugs.debian.org/cgi-bin/bugreport.cgi/xlockmore-5.13_free-non-alloc-fix.diff?bug=318123;msg=19;att=1">http://bugs.debian.org/cgi-bin/bugreport.cgi/xlockmore-5.13_free-non-alloc-fix.diff?bug=318123;msg=19;att=1</a>
 &gt; and tell me whether this fixes the problem with xlockmore?

5.13-2.2 seems to already have this patch applied, actually, so i
didn&#39;t bother with a rebuild.  

I&#39;m happy to try to debug this (since i&#39;ve got the hardware handy), if
anyone wants me to try anything in particular.  i should now be
subscribed to the bug (i&#39;m not sure why i wasn&#39;t before).

Regards,

	--dkg
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 (GNU/Linux)
Comment: Processed by Mailcrypt 3.5.8+ &lt;<a href="http://mailcrypt.sourceforge.net/">http://mailcrypt.sourceforge.net/</a>&gt;

iD8DBQFD3nNWiXTlFKVLY2URAjxwAKCIFDWdJDC+3hnkuSq3btdF6uoNZQCg9D3k
hab6v9ayQTXlS4Al2YFJX5c=
=rglT
-----END PGP SIGNATURE-----


</pre>

<div class="msgreceived"><hr><p>
<a name="56"></a>
<strong>Bug marked as fixed in version 1:5.13-2.2, send any further explanations to Daniel Kahn Gillmor &lt;dkg-debian.org@fifthhorseman.net&gt;</strong>
Request was from <code>&quot;Adam D. Barratt&quot; &lt;debian-bts@adam-barratt.org.uk&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=57">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=57">mbox</a>, <a href="#56">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="58"></a>
<strong>Message sent on</strong> to <code>Daniel Kahn Gillmor &lt;dkg-debian.org@fifthhorseman.net&gt;</code>:<br>
Bug#318123.
(<a href="bugreport.cgi?bug=318123;msg=59">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=59">mbox</a>, <a href="#58">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="60"></a><a name="msg60"></a><a href="#60">Message #60</a> received at 318123-submitter@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=60">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=60">mbox</a>, <a href="mailto:318123@bugs.debian.org?subject=Re%3A%20Bugs%20fixed%20in%20NMU%2C%20documenting%20versions&amp;In-Reply-To=%3C1161542852.23691.245.camel%40kaa.jungle.aubergine.my-net-space.net%3E&amp;body=On%20Sun%2C%2022%20Oct%202006%2019%3A47%3A32%20%2B0100%20%22Adam%20D.%20Barratt%22%20%3Cdebian-bts%40adam-barratt.org.uk%3E%20wrote%3A%0A%3E%20%23%20Hi%2C%0A%3E%20%23%0A%3E%20%23%20These%20bugs%20were%20fixed%20in%20an%20NMU%2C%20but%20have%20not%20been%20acknowledged%20by%20the%0A%3E%20%23%20maintainers.%20%20With%20version%20tracking%20in%20the%20Debian%20BTS%2C%20it%20is%20important%0A%3E%20%23%20to%20know%20which%20version%20of%20a%20package%20fixes%20each%20bug%20so%20that%20they%20can%20be%0A%3E%20%23%20tracked%20for%20release%20status%2C%20so%20I%27m%20closing%20these%20bugs%20with%20the%0A%3E%20%23relevant%20version%20information%20now%0A%3E%20%0A%3E%20close%20215928%200.4-9.3%0A%3E%20close%20310191%200.4-9.3%0A%3E%20close%20310311%200.15.1b-2.1%0A%3E%20close%20310903%201.99.11-1.2%0A%3E%20close%20311203%200.28-1.1%0A%3E%20close%20311488%200.5.2-2.1%0A%3E%20close%20311615%201%3A0.7.1-1.1%0A%3E%20close%20313457%200.3.1-6.1%0A%3E%20close%20315648%200.50.0-1.2%0A%3E%20close%20316180%200.41-23.1%0A%3E%20close%20316629%201.0-8.1%0A%3E%20close%20325111%201.0-8.1%0A%3E%20close%20331790%201.0-8.1%0A%3E%20close%20316657%200.6-2.1%0A%3E%20close%20316664%209.4.2-2.3%0A%3E%20close%20317196%200.3.0%2Bbeta4-1.1%0A%3E%20close%20317219%207.8-1.1%0A%3E%20close%20317229%202.2.1-2.1%0A%3E%20close%20318123%201%3A5.13-2.2%0A%3E%20close%20337467%201%3A5.13-2.2%0A%3E%20close%20347050%201%3A5.13-2.2%0A%3E%20close%20318150%202.2.14-1.2%0A%3E%20close%20318176%206%3A6.2.4.5-0.1%0A%3E%20close%20318291%201.3.0-1.1%0A%3E%20close%20321057%201.3.0-1.1%0A%3E%20close%20349191%201.3.0-1.1%0A%3E%20close%20318540%200.8-5.1%0A%3E%20close%20318559%201.3.3-2.1%0A%3E%20close%20318569%201.2.3-2.1%0A%3E%20close%20370196%201.2.3-2.1%0A%3E%20close%20318591%200.4.5%2Bcvs20030824-1.3%0A%3E%20close%20318633%201.1.20031017-2.1%0A%3E%20close%20318675%201.2.13-1.2%0A%3E%20close%20318827%203.8.3-4.2%0A%3E%20close%20318998%200.2.7.0-1.1%0A%3E%20close%20319073%200.3.1-2.1%0A%3E%20close%20319206%200.97.20031122-5.1%0A%3E%20close%20319432%201.0-8.1%0A%3E%20close%20319490%200.9.6-0.13%0A%3E%20close%20319666%200.02-5.1%0A%3E%20close%20331870%200.02-5.1%0A%3E%20close%20360450%200.02-5.1%0A%3E%20close%20319672%200.60-3%0A%3E%20close%20319811%201.6.0.1%0A%3E%20close%20319985%202.2.9.dfsg-1.1%0A%3E%20close%20334834%202.2.9.dfsg-1.1%0A%3E%20close%20362436%202.2.9.dfsg-1.1%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;References=%3C1161542852.23691.245.camel%40kaa.jungle.aubergine.my-net-space.net%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=debian-bts%40adam-barratt.org.uk" alt="">
<div class="header"><span class="headerfield">From:</span> &quot;Adam D. Barratt&quot; &lt;debian-bts@adam-barratt.org.uk&gt;</div>
<div class="header"><span class="headerfield">To:</span> 215928-submitter@bugs.debian.org, 310191-submitter@bugs.debian.org,  310311-submitter@bugs.debian.org, 310903-submitter@bugs.debian.org,  311203-submitter@bugs.debian.org, 311488-submitter@bugs.debian.org,  311615-submitter@bugs.debian.org, 313457-submitter@bugs.debian.org,  315648-submitter@bugs.debian.org, 316180-submitter@bugs.debian.org,  316629-submitter@bugs.debian.org, 325111-submitter@bugs.debian.org,  331790-submitter@bugs.debian.org, 316657-submitter@bugs.debian.org,  316664-submitter@bugs.debian.org, 317196-submitter@bugs.debian.org,  317219-submitter@bugs.debian.org, 317229-submitter@bugs.debian.org,  318123-submitter@bugs.debian.org, 337467-submitter@bugs.debian.org,  347050-submitter@bugs.debian.org, 318150-submitter@bugs.debian.org,  318176-submitter@bugs.debian.org, 318291-submitter@bugs.debian.org,  321057-submitter@bugs.debian.org, 349191-submitter@bugs.debian.org,  318540-submitter@bugs.debian.org, 318559-submitter@bugs.debian.org,  318569-submitter@bugs.debian.org, 370196-submitter@bugs.debian.org,  318591-submitter@bugs.debian.org, 318633-submitter@bugs.debian.org,  318675-submitter@bugs.debian.org, 318827-submitter@bugs.debian.org,  318998-submitter@bugs.debian.org, 319073-submitter@bugs.debian.org,  319206-submitter@bugs.debian.org, 319432-submitter@bugs.debian.org,  319490-submitter@bugs.debian.org, 319666-submitter@bugs.debian.org,  331870-submitter@bugs.debian.org, 360450-submitter@bugs.debian.org,  319672-submitter@bugs.debian.org, 319811-submitter@bugs.debian.org,  319985-submitter@bugs.debian.org, 334834-submitter@bugs.debian.org,  362436-submitter@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bugs fixed in NMU, documenting versions</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 22 Oct 2006 19:47:32 +0100</div>
</div>
<pre class="message"># Hi,
#
# These bugs were fixed in an NMU, but have not been acknowledged by the
# maintainers.  With version tracking in the Debian BTS, it is important
# to know which version of a package fixes each bug so that they can be
# tracked for release status, so I&#39;m closing these bugs with the
#relevant version information now

close 215928 0.4-9.3
close 310191 0.4-9.3
close 310311 0.15.1b-2.1
close 310903 1.99.11-1.2
close 311203 0.28-1.1
close 311488 0.5.2-2.1
close 311615 1:0.7.1-1.1
close 313457 0.3.1-6.1
close 315648 0.50.0-1.2
close 316180 0.41-23.1
close 316629 1.0-8.1
close 325111 1.0-8.1
close 331790 1.0-8.1
close 316657 0.6-2.1
close 316664 9.4.2-2.3
close 317196 0.3.0+beta4-1.1
close 317219 7.8-1.1
close 317229 2.2.1-2.1
close 318123 1:5.13-2.2
close 337467 1:5.13-2.2
close 347050 1:5.13-2.2
close 318150 2.2.14-1.2
close 318176 6:6.2.4.5-0.1
close 318291 1.3.0-1.1
close 321057 1.3.0-1.1
close 349191 1.3.0-1.1
close 318540 0.8-5.1
close 318559 1.3.3-2.1
close 318569 1.2.3-2.1
close 370196 1.2.3-2.1
close 318591 0.4.5+cvs20030824-1.3
close 318633 1.1.20031017-2.1
close 318675 1.2.13-1.2
close 318827 3.8.3-4.2
close 318998 0.2.7.0-1.1
close 319073 0.3.1-2.1
close 319206 0.97.20031122-5.1
close 319432 1.0-8.1
close 319490 0.9.6-0.13
close 319666 0.02-5.1
close 331870 0.02-5.1
close 360450 0.02-5.1
close 319672 0.60-3
close 319811 1.6.0.1
close 319985 2.2.9.dfsg-1.1
close 334834 2.2.9.dfsg-1.1
close 362436 2.2.9.dfsg-1.1



</pre>

<div class="msgreceived"><hr><p>
<a name="61"></a>
<strong>Bug reopened, originator not changed.</strong>
Request was from <code>Steve Langasek &lt;vorlon@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=62">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=62">mbox</a>, <a href="#61">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="63"></a>
<strong>Tags removed: fixed</strong>
Request was from <code>Steve Langasek &lt;vorlon@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=64">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=64">mbox</a>, <a href="#63">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="65"></a>
<strong>Merged <a href="bugreport.cgi?bug=318123">318123</a> <a href="bugreport.cgi?bug=399003">399003</a>.</strong>
Request was from <code>Steve Langasek &lt;vorlon@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=66">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=66">mbox</a>, <a href="#65">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="67"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=68">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=68">mbox</a>, <a href="#67">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="69"></a>
<strong>Acknowledgement sent</strong> to <code>Andreas Barth &lt;aba@not.so.argh.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=70">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=70">mbox</a>, <a href="#69">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="71"></a><a name="msg71"></a><a href="#71">Message #71</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=71">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=71">mbox</a>, <a href="mailto:318123@bugs.debian.org?References=%3C20061209100101.GD2560%40mails.so.argh.org%3E&amp;body=On%20Sat%2C%209%20Dec%202006%2011%3A01%3A01%20%2B0100%20Andreas%20Barth%20%3Caba%40not.so.argh.org%3E%20wrote%3A%0A%3E%20tags%20318123%20-%20patch%0A%3E%20thanks%0A%3E%20%0A%3E%2010%3A55%20%3C%20Joey%3E%20aba%3A%20fyi%2C%20patch%20in%20%23318123%20reichte%20evtl.%20nicht.%20%20Wenn%20das%0A%3E%20der%20patch%20ist%2C%20den%20wir%20auch%20fuer%20security%20hatten%2C%20reicht%20der%20nicht%2C%0A%3E%20weshalb%20es%20auch%20kein%20DSA%20gegeben%20hat.%0A%3E%2010%3A56%20%3C%20Joey%3E%20jwz%20hat%20auch%20eine%20neue%20version%20kuerzlich%20herausgegeben%20iirc.%0A%3E%2010%3A56%20%3C%20aba%3E%20Joey%3A%20kannst%20du%20das%20bitte%20an%20den%20bug%20schreiben%20und%20das%20tag%0A%3E%20patch%20entfernen%3F%0A%3E%2010%3A58%20%3C%20Joey%3E%20mach%20selbst%0A%3E%20%0A%3E%20%28Summary%3A%20joey%40d.o%20says%20patch%20in%20%23318123%20is%20insufficient%29%0A%3E%20--%20%0A%3E%20%20%20http%3A%2F%2Fhome.arcor.de%2Fandreas-barth%2F%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20061209100101.GD2560%40mails.so.argh.org%3E&amp;subject=Re%3A%20Patch%20insufficient">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=aba%40not.so.argh.org" alt="">
<div class="header"><span class="headerfield">From:</span> Andreas Barth &lt;aba@not.so.argh.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 318123@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Patch insufficient</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 9 Dec 2006 11:01:01 +0100</div>
</div>
<pre class="message">tags 318123 - patch
thanks

10:55 &lt; Joey&gt; aba: fyi, patch in #318123 reichte evtl. nicht.  Wenn das
der patch ist, den wir auch fuer security hatten, reicht der nicht,
weshalb es auch kein DSA gegeben hat.
10:56 &lt; Joey&gt; jwz hat auch eine neue version kuerzlich herausgegeben iirc.
10:56 &lt; aba&gt; Joey: kannst du das bitte an den bug schreiben und das tag
patch entfernen?
10:58 &lt; Joey&gt; mach selbst

(Summary: joey@d.o says patch in #318123 is insufficient)
-- 
  <a href="http://home.arcor.de/andreas-barth/">http://home.arcor.de/andreas-barth/</a>


</pre>

<div class="msgreceived"><hr><p>
<a name="72"></a>
<strong>Tags removed: patch</strong>
Request was from <code>Andreas Barth &lt;aba@not.so.argh.org&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=73">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=73">mbox</a>, <a href="#72">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="74"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=75">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=75">mbox</a>, <a href="#74">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="76"></a>
<strong>Acknowledgement sent</strong> to <code>Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.
(<a href="bugreport.cgi?bug=318123;msg=77">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=77">mbox</a>, <a href="#76">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="78"></a><a name="msg78"></a><a href="#78">Message #78</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=78">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=78">mbox</a>, <a href="mailto:318123@bugs.debian.org?body=On%20Sat%2C%2009%20Dec%202006%2011%3A36%3A02%20-0500%20Michael%20Stone%20%3Cmstone%40debian.org%3E%20wrote%3A%0A%3E%20On%20Sat%2C%20Dec%2009%2C%202006%20at%2011%3A01%3A01AM%20%2B0100%2C%20you%20wrote%3A%0A%3E%20%3E%28Summary%3A%20joey%40d.o%20says%20patch%20in%20%23318123%20is%20insufficient%29%0A%3E%20%0A%3E%20No%20shit%3B%20I%20said%20that%20when%20I%20first%20saw%20the%20patch.%20The%20best%20solution%20for%20%0A%3E%20now%20is%20probably%20just%20to%20conflict%20with%20libpam-opensc%3B%20there%27s%20some%20work%20%0A%3E%20on%20rearchitecting%20the%20pam%20support%20in%20xlock%2C%20but%20that%27s%20not%20going%20to%20be%20%0A%3E%20done%20soon.%20The%20basic%20problem%20is%20that%20the%20pam%20support%20is%20rudimentary%2C%20and%20%0A%3E%20pushing%20it%20isn%27t%20going%20to%20lead%20to%20good%20results.%0A%3E%20%0A%3E%20I%20still%20fundamentally%20disagree%20that%20this%20is%20a%20security%20bug%2C%20since%20it%20is%20%0A%3E%20something%20that%20only%20happens%20in%20a%20non-default%20configuration%2C%20only%20happens%20%0A%3E%20if%20the%20system%20administrator%20configures%20it%20that%20way%2C%20and%20isn%27t%20a%20working%20%0A%3E%20configuration%20anyway.%20%28So%20it%27s%20not%20like%20someone%27s%20going%20to%20configure%20it%20%0A%3E%20this%20way%20and%20not%20know%20there%27s%20a%20problem.%29%0A%3E%20%0A%3E%20Mike%20Stone%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20061209163600.GN20976%40mathom.us%3E&amp;subject=Re%3A%20Bug%23318123%3A%20Patch%20insufficient&amp;References=%3C20061209100101.GD2560%40mails.so.argh.org%3E%0A%20%3C20061209163600.GN20976%40mathom.us%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=mstone%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Michael Stone &lt;mstone@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Andreas Barth &lt;aba@not.so.argh.org&gt;, 318123@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#318123: Patch insufficient</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 09 Dec 2006 11:36:02 -0500</div>
</div>
<pre class="message flowed">On Sat, Dec 09, 2006 at 11:01:01AM +0100, you wrote:
&gt;(Summary: joey@d.o says patch in #318123 is insufficient)

No shit; I said that when I first saw the patch. The best solution for 
now is probably just to conflict with libpam-opensc; there&#39;s some work 
on rearchitecting the pam support in xlock, but that&#39;s not going to be 
done soon. The basic problem is that the pam support is rudimentary, and 
pushing it isn&#39;t going to lead to good results.

I still fundamentally disagree that this is a security bug, since it is 
something that only happens in a non-default configuration, only happens 
if the system administrator configures it that way, and isn&#39;t a working 
configuration anyway. (So it&#39;s not like someone&#39;s going to configure it 
this way and not know there&#39;s a problem.)

Mike Stone


</pre>

<div class="infmessage"><hr><p>
<a name="79"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=80">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=80">mbox</a>, <a href="#79">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="81"></a>
<strong>Acknowledgement sent</strong> to <code>Jeroen van Wolffelaar &lt;jeroen@wolffelaar.nl&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=82">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=82">mbox</a>, <a href="#81">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="83"></a><a name="msg83"></a><a href="#83">Message #83</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=83">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=83">mbox</a>, <a href="mailto:318123@bugs.debian.org?References=%3C20061209100101.GD2560%40mails.so.argh.org%3E%20%3C20061209163600.GN20976%40mathom.us%3E%0A%20%3C20070117011944.GA17047%40wolffelaar.nl%3E&amp;body=On%20Wed%2C%2017%20Jan%202007%2002%3A19%3A44%20%2B0100%20Jeroen%20van%20Wolffelaar%20%3Cjeroen%40wolffelaar.nl%3E%20wrote%3A%0A%3E%20severity%20318123%20important%0A%3E%20thanks%0A%3E%20%0A%3E%20On%20Sat%2C%20Dec%2009%2C%202006%20at%2011%3A36%3A02AM%20-0500%2C%20Michael%20Stone%20wrote%3A%0A%3E%20%3E%20The%20best%20solution%20for%20now%20is%20probably%20just%20to%20conflict%20with%0A%3E%20%3E%20libpam-opensc%0A%3E%20%0A%3E%20NMU%27d%20with%20this%20%27solution%27%20--%20downgrading%20this%20bug%20and%20its%20sister%20one%0A%3E%20accordingly.%20I%20don%27t%20consider%20this%20bug%20adequately%20solved%2C%20but%20this%0A%3E%20solution%20IMHO%20trumps%20having%20nothing%20at%20all%20and%20hence%20no%20xlock%20in%20etch.%0A%3E%20%0A%3E%20NMU%20patch%20attached.%0A%3E%20%0A%3E%20--Jeroen%0A%3E%20%0A%3E%20--%20%0A%3E%20Jeroen%20van%20Wolffelaar%0A%3E%20Jeroen%40wolffelaar.nl%20%28also%20for%20Jabber%20%26%20MSN%3B%20ICQ%3A%2033944357%29%0A%3E%20http%3A%2F%2FJeroen.A-Eskwadraat.nl%0A&amp;In-Reply-To=%3C20070117011944.GA17047%40wolffelaar.nl%3E&amp;subject=Re%3A%20Bug%23318123%3A%20Patch%20insufficient">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jeroen%40wolffelaar.nl" alt="">
<div class="header"><span class="headerfield">From:</span> Jeroen van Wolffelaar &lt;jeroen@wolffelaar.nl&gt;</div>
<div class="header"><span class="headerfield">To:</span> Michael Stone &lt;mstone@debian.org&gt;, 318123@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Andreas Barth &lt;aba@not.so.argh.org&gt;,
	Daniel Kahn Gillmor &lt;dkg-debian.org@fifthhorseman.net&gt;,
	Luk Claes &lt;luk@debian.org&gt;, Alexander Wirt &lt;formorer@debian.org&gt;,
	Debian Bugs Control Bot &lt;control@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#318123: Patch insufficient</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 17 Jan 2007 02:19:44 +0100</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=318123;msg=83">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">severity 318123 important
thanks

On Sat, Dec 09, 2006 at 11:36:02AM -0500, Michael Stone wrote:
&gt; The best solution for now is probably just to conflict with
&gt; libpam-opensc

NMU&#39;d with this &#39;solution&#39; -- downgrading this bug and its sister one
accordingly. I don&#39;t consider this bug adequately solved, but this
solution IMHO trumps having nothing at all and hence no xlock in etch.

NMU patch attached.

--Jeroen

-- 
Jeroen van Wolffelaar
Jeroen@wolffelaar.nl (also for Jabber &amp; MSN; ICQ: 33944357)
<a href="http://Jeroen.A-Eskwadraat.nl">http://Jeroen.A-Eskwadraat.nl</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=318123;filename=xlockmore.diff;msg=83">xlockmore.diff</a> (text/plain, attachment)]</pre>

<div class="msgreceived"><hr><p>
<a name="84"></a>
<strong>Severity set to `important' from `grave'</strong>
Request was from <code>Jeroen van Wolffelaar &lt;jeroen@wolffelaar.nl&gt;</code>
to <code>control@bugs.debian.org</code>. 
(<a href="bugreport.cgi?bug=318123;msg=85">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=85">mbox</a>, <a href="#84">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="86"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=87">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=87">mbox</a>, <a href="#86">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="88"></a>
<strong>Acknowledgement sent</strong> to <code>Alexander Wirt &lt;formorer@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=89">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=89">mbox</a>, <a href="#88">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="90"></a><a name="msg90"></a><a href="#90">Message #90</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=90">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=90">mbox</a>, <a href="mailto:318123@bugs.debian.org?subject=Re%3A%20Bug%23318123%3A%20Patch%20insufficient&amp;body=On%20Wed%2C%2017%20Jan%202007%2009%3A04%3A09%20%2B0100%20Alexander%20Wirt%20%3Cformorer%40debian.org%3E%20wrote%3A%0A%3E%20Jeroen%20van%20Wolffelaar%20schrieb%20am%20Mittwoch%2C%20den%2017.%20Januar%202007%3A%0A%3E%20%0A%3E%20%3E%20severity%20318123%20important%0A%3E%20%3E%20thanks%0A%3E%20%3E%20%0A%3E%20%3E%20On%20Sat%2C%20Dec%2009%2C%202006%20at%2011%3A36%3A02AM%20-0500%2C%20Michael%20Stone%20wrote%3A%0A%3E%20%3E%20%3E%20The%20best%20solution%20for%20now%20is%20probably%20just%20to%20conflict%20with%0A%3E%20%3E%20%3E%20libpam-opensc%0A%3E%20%3E%20%0A%3E%20%3E%20NMU%27d%20with%20this%20%27solution%27%20--%20downgrading%20this%20bug%20and%20its%20sister%20one%0A%3E%20%3E%20accordingly.%20I%20don%27t%20consider%20this%20bug%20adequately%20solved%2C%20but%20this%0A%3E%20%3E%20solution%20IMHO%20trumps%20having%20nothing%20at%20all%20and%20hence%20no%20xlock%20in%20etch.%0A%3E%20%3E%20%0A%3E%20%3E%20NMU%20patch%20attached.%0A%3E%20I%20don%27t%20think%20this%20is%20enough.%20As%20we%20detected%20the%20bug%20we%20could%20reproduce%20it%0A%3E%20with%20several%20other%20PAM%20Plugins%2C%20for%20example%20if%20I%20recall%20correctly%20the%20opie%0A%3E%20pam%20plugin.%20So%20just%20conflicting%20against%20opensc%20wouldn%27t%20be%20enough.%20%0A%3E%20%0A%3E%20Alex%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20070117080408.GA8986%40ned.snow-crash.org%3E&amp;References=%3C20061209100101.GD2560%40mails.so.argh.org%3E%20%3C20061209163600.GN20976%40mathom.us%3E%20%3C20070117011944.GA17047%40wolffelaar.nl%3E%0A%20%3C20070117080408.GA8986%40ned.snow-crash.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=formorer%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Alexander Wirt &lt;formorer@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jeroen van Wolffelaar &lt;jeroen@wolffelaar.nl&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> Michael Stone &lt;mstone@debian.org&gt;, 318123@bugs.debian.org,
	Andreas Barth &lt;aba@not.so.argh.org&gt;,
	Daniel Kahn Gillmor &lt;dkg-debian.org@fifthhorseman.net&gt;,
	Luk Claes &lt;luk@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#318123: Patch insufficient</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 17 Jan 2007 09:04:09 +0100</div>
</div>
<pre class="message">Jeroen van Wolffelaar schrieb am Mittwoch, den 17. Januar 2007:

&gt; severity 318123 important
&gt; thanks
&gt; 
&gt; On Sat, Dec 09, 2006 at 11:36:02AM -0500, Michael Stone wrote:
&gt; &gt; The best solution for now is probably just to conflict with
&gt; &gt; libpam-opensc
&gt; 
&gt; NMU&#39;d with this &#39;solution&#39; -- downgrading this bug and its sister one
&gt; accordingly. I don&#39;t consider this bug adequately solved, but this
&gt; solution IMHO trumps having nothing at all and hence no xlock in etch.
&gt; 
&gt; NMU patch attached.
I don&#39;t think this is enough. As we detected the bug we could reproduce it
with several other PAM Plugins, for example if I recall correctly the opie
pam plugin. So just conflicting against opensc wouldn&#39;t be enough. 

Alex



</pre>

<div class="infmessage"><hr><p>
<a name="91"></a>
<strong>Information forwarded</strong> to <code>debian-bugs-dist@lists.debian.org, Michael Stone &lt;mstone@debian.org&gt;</code>:<br>
<code>Bug#318123</code>; Package <code>xlockmore</code>.
(<a href="bugreport.cgi?bug=318123;msg=92">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=92">mbox</a>, <a href="#91">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="93"></a>
<strong>Acknowledgement sent</strong> to <code>Jeroen van Wolffelaar &lt;jeroen@wolffelaar.nl&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Michael Stone &lt;mstone@debian.org&gt;</code>.
(<a href="bugreport.cgi?bug=318123;msg=94">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=94">mbox</a>, <a href="#93">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="95"></a><a name="msg95"></a><a href="#95">Message #95</a> received at 318123@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=95">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=95">mbox</a>, <a href="mailto:318123@bugs.debian.org?References=%3C20061209100101.GD2560%40mails.so.argh.org%3E%20%3C20061209163600.GN20976%40mathom.us%3E%20%3C20070117011944.GA17047%40wolffelaar.nl%3E%20%3C20070117080408.GA8986%40ned.snow-crash.org%3E%0A%20%3C20070117085214.GX25892%40A-Eskwadraat.nl%3E&amp;In-Reply-To=%3C20070117085214.GX25892%40A-Eskwadraat.nl%3E&amp;body=On%20Wed%2C%2017%20Jan%202007%2009%3A52%3A14%20%2B0100%20Jeroen%20van%20Wolffelaar%20%3Cjeroen%40wolffelaar.nl%3E%20wrote%3A%0A%3E%20On%20Wed%2C%20Jan%2017%2C%202007%20at%2009%3A04%3A09AM%20%2B0100%2C%20Alexander%20Wirt%20wrote%3A%0A%3E%20%3E%20Jeroen%20van%20Wolffelaar%20schrieb%20am%20Mittwoch%2C%20den%2017.%20Januar%202007%3A%0A%3E%20%3E%20%0A%3E%20%3E%20%3E%20severity%20318123%20important%0A%3E%20%3E%20%3E%20thanks%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20On%20Sat%2C%20Dec%2009%2C%202006%20at%2011%3A36%3A02AM%20-0500%2C%20Michael%20Stone%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20The%20best%20solution%20for%20now%20is%20probably%20just%20to%20conflict%20with%0A%3E%20%3E%20%3E%20%3E%20libpam-opensc%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20NMU%27d%20with%20this%20%27solution%27%20--%20downgrading%20this%20bug%20and%20its%20sister%20one%0A%3E%20%3E%20%3E%20accordingly.%20I%20don%27t%20consider%20this%20bug%20adequately%20solved%2C%20but%20this%0A%3E%20%3E%20%3E%20solution%20IMHO%20trumps%20having%20nothing%20at%20all%20and%20hence%20no%20xlock%20in%20etch.%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20NMU%20patch%20attached.%0A%3E%20%3E%20I%20don%27t%20think%20this%20is%20enough.%20As%20we%20detected%20the%20bug%20we%20could%20reproduce%20it%0A%3E%20%3E%20with%20several%20other%20PAM%20Plugins%2C%20for%20example%20if%20I%20recall%20correctly%20the%20opie%0A%3E%20%3E%20pam%20plugin.%20So%20just%20conflicting%20against%20opensc%20wouldn%27t%20be%20enough.%20%0A%3E%20%0A%3E%20If%20you%20see%20the%20patch%2C%20you%27ll%20notice%20that%20I%20added%20conflicts%20to%20both%0A%3E%20libpam-p11%20and%20libpam-opie.%20Indeed%2C%20a%20crash%20has%20been%20reported%20with%0A%3E%20libpam-opie%20too%20in%20a%20different%20report%20%28the%20one%20merged%20to%20the%20older%20RC%0A%3E%20bug%29.%0A%3E%20%0A%3E%20If%20there%20are%20any%20other%20crashing%20combinations%2C%20please%20report%20them.%20I%20do%0A%3E%20not%20currently%20believe%20that%20%22some%20other%20PAM%20plugins%20might%20cause%20xlock%20to%0A%3E%20crash%20also%22%20is%20a%20substantial%20enough%20suspicion%20to%20warrant%20blocking%20this%0A%3E%20package%20from%20etch.%0A%3E%20%0A%3E%20--Jeroen%0A%3E%20%0A%3E%20--%20%0A%3E%20Jeroen%20van%20Wolffelaar%0A%3E%20Jeroen%40wolffelaar.nl%20%28also%20for%20Jabber%20%26%20MSN%3B%20ICQ%3A%2033944357%29%0A%3E%20http%3A%2F%2FJeroen.A-Eskwadraat.nl%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20Bug%23318123%3A%20Patch%20insufficient">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jeroen%40wolffelaar.nl" alt="">
<div class="header"><span class="headerfield">From:</span> Jeroen van Wolffelaar &lt;jeroen@wolffelaar.nl&gt;</div>
<div class="header"><span class="headerfield">To:</span> Alexander Wirt &lt;formorer@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> Jeroen van Wolffelaar &lt;jeroen@wolffelaar.nl&gt;,
	Michael Stone &lt;mstone@debian.org&gt;, 318123@bugs.debian.org,
	Andreas Barth &lt;aba@not.so.argh.org&gt;,
	Daniel Kahn Gillmor &lt;dkg-debian.org@fifthhorseman.net&gt;,
	Luk Claes &lt;luk@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#318123: Patch insufficient</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 17 Jan 2007 09:52:14 +0100</div>
</div>
<pre class="message">On Wed, Jan 17, 2007 at 09:04:09AM +0100, Alexander Wirt wrote:
&gt; Jeroen van Wolffelaar schrieb am Mittwoch, den 17. Januar 2007:
&gt; 
&gt; &gt; severity 318123 important
&gt; &gt; thanks
&gt; &gt; 
&gt; &gt; On Sat, Dec 09, 2006 at 11:36:02AM -0500, Michael Stone wrote:
&gt; &gt; &gt; The best solution for now is probably just to conflict with
&gt; &gt; &gt; libpam-opensc
&gt; &gt; 
&gt; &gt; NMU&#39;d with this &#39;solution&#39; -- downgrading this bug and its sister one
&gt; &gt; accordingly. I don&#39;t consider this bug adequately solved, but this
&gt; &gt; solution IMHO trumps having nothing at all and hence no xlock in etch.
&gt; &gt; 
&gt; &gt; NMU patch attached.
&gt; I don&#39;t think this is enough. As we detected the bug we could reproduce it
&gt; with several other PAM Plugins, for example if I recall correctly the opie
&gt; pam plugin. So just conflicting against opensc wouldn&#39;t be enough. 

If you see the patch, you&#39;ll notice that I added conflicts to both
libpam-p11 and libpam-opie. Indeed, a crash has been reported with
libpam-opie too in a different report (the one merged to the older RC
bug).

If there are any other crashing combinations, please report them. I do
not currently believe that &quot;some other PAM plugins might cause xlock to
crash also&quot; is a substantial enough suspicion to warrant blocking this
package from etch.

--Jeroen

-- 
Jeroen van Wolffelaar
Jeroen@wolffelaar.nl (also for Jabber &amp; MSN; ICQ: 33944357)
<a href="http://Jeroen.A-Eskwadraat.nl">http://Jeroen.A-Eskwadraat.nl</a>


</pre>

<div class="msgreceived"><hr><p>
<a name="96"></a>
<!-- time:1238074925 -->
<strong>Changed Bug submitter from Daniel Kahn Gillmor &lt;dkg-debian.org@fifthhorseman.net&gt; to Daniel Kahn Gillmor &lt;dkg@fifthhorseman.net&gt;.</strong>
Request was from <code>Daniel Kahn Gillmor &lt;dkg@fifthhorseman.net&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Thu, 26 Mar 2009 13:42:05 GMT) (<a href="bugreport.cgi?bug=318123;msg=97">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=97">mbox</a>, <a href="#96">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="98"></a>
<!-- request_addr: Debian FTP Masters &lt;ftpmaster@ftp-master.debian.org&gt; -->
<!-- time:1351232855 -->
<strong>Reply sent</strong>
to <code>Debian FTP Masters &lt;ftpmaster@ftp-master.debian.org&gt;</code>:<br>
You have taken responsibility.
 (Fri, 26 Oct 2012 06:27:35 GMT) (<a href="bugreport.cgi?bug=318123;msg=99">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=99">mbox</a>, <a href="#98">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="100"></a>
<!-- request_addr: Daniel Kahn Gillmor &lt;dkg@fifthhorseman.net&gt; -->
<!-- time:1351232855 -->
<strong>Notification sent</strong>
to <code>Daniel Kahn Gillmor &lt;dkg@fifthhorseman.net&gt;</code>:<br>
Bug acknowledged by developer.
 (Fri, 26 Oct 2012 06:27:35 GMT) (<a href="bugreport.cgi?bug=318123;msg=101">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=101">mbox</a>, <a href="#100">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="102"></a><a name="msg102"></a><a href="#102">Message #102</a> received at 318123-done@bugs.debian.org (<a href="bugreport.cgi?bug=318123;msg=102">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=102">mbox</a>, <a href="mailto:318123@bugs.debian.org?References=%3CE1TRdKB-0000x6-Dk%40franck.debian.org%3E&amp;subject=Re%3A%20Bug%23690891%3A%20Removed%20package%28s%29%20from%20unstable&amp;body=On%20Fri%2C%2026%20Oct%202012%2006%3A23%3A19%20%2B0000%20Debian%20FTP%20Masters%20%3Cftpmaster%40ftp-master.debian.org%3E%20wrote%3A%0A%3E%20Version%3A%201%3A5.31-1.1%2Brm%0A%3E%20%0A%3E%20Dear%20submitter%2C%0A%3E%20%0A%3E%20as%20the%20package%20xlockmore%20has%20just%20been%20removed%20from%20the%20Debian%20archive%0A%3E%20unstable%20we%20hereby%20close%20the%20associated%20bug%20reports.%20%20We%20are%20sorry%0A%3E%20that%20we%20couldn%27t%20deal%20with%20your%20issue%20properly.%0A%3E%20%0A%3E%20For%20details%20on%20the%20removal%2C%20please%20see%20http%3A%2F%2Fbugs.debian.org%2F690891%0A%3E%20%0A%3E%20The%20version%20of%20this%20package%20that%20was%20in%20Debian%20prior%20to%20this%20removal%0A%3E%20can%20still%20be%20found%20using%20http%3A%2F%2Fsnapshot.debian.org%2F.%0A%3E%20%0A%3E%20This%20message%20was%20generated%20automatically%3B%20if%20you%20believe%20that%20there%20is%0A%3E%20a%20problem%20with%20it%20please%20contact%20the%20archive%20administrators%20by%20mailing%0A%3E%20ftpmaster%40debian.org.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Ansgar%20Burchardt%20%28the%20ftpmaster%20behind%20the%20curtain%29%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3CE1TRdKB-0000x6-Dk%40franck.debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ftpmaster%40ftp-master.debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Debian FTP Masters &lt;ftpmaster@ftp-master.debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 22655-done@bugs.debian.org,22656-done@bugs.debian.org,22659-done@bugs.debian.org,29751-done@bugs.debian.org,35883-done@bugs.debian.org,38643-done@bugs.debian.org,40782-done@bugs.debian.org,41993-done@bugs.debian.org,58933-done@bugs.debian.org,59637-done@bugs.debian.org,61760-done@bugs.debian.org,66853-done@bugs.debian.org,79088-done@bugs.debian.org,79211-done@bugs.debian.org,101480-done@bugs.debian.org,156769-done@bugs.debian.org,160786-done@bugs.debian.org,199320-done@bugs.debian.org,236959-done@bugs.debian.org,237367-done@bugs.debian.org,256294-done@bugs.debian.org,258891-done@bugs.debian.org,309754-done@bugs.debian.org,314872-done@bugs.debian.org,315474-done@bugs.debian.org,318123-done@bugs.debian.org,363426-done@bugs.debian.org,375376-done@bugs.debian.org,385758-done@bugs.debian.org,387163-done@bugs.debian.org,399003-done@bugs.debian.org,472076-done@bugs.debian.org,473400-done@bugs.debian.org,501511-done@bugs.debian.org,537531-done@bugs.debian.org,567738-done@bugs.debian.org,569604-done@bugs.debian.org,570438-done@bugs.debian.org,590247-done@bugs.debian.org,591279-done@bugs.debian.org,596006-done@bugs.debian.org,597405-done@bugs.debian.org,611344-done@bugs.debian.org,617909-done@bugs.debian.org,619133-done@bugs.debian.org,623679-done@bugs.debian.org,652666-done@bugs.debian.org,</div>
<div class="header"><span class="headerfield">Cc:</span> xlockmore@packages.debian.org, xlockmore@packages.qa.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#690891: Removed package(s) from unstable</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 26 Oct 2012 06:23:19 +0000</div>
</div>
<pre class="message">Version: 1:5.31-1.1+rm

Dear submitter,

as the package xlockmore has just been removed from the Debian archive
unstable we hereby close the associated bug reports.  We are sorry
that we couldn&#39;t deal with your issue properly.

For details on the removal, please see <a href="http://bugs.debian.org/690891">http://bugs.debian.org/690891</a>

The version of this package that was in Debian prior to this removal
can still be found using <a href="http://snapshot.debian.org/">http://snapshot.debian.org/</a>.

This message was generated automatically; if you believe that there is
a problem with it please contact the archive administrators by mailing
ftpmaster@debian.org.

Debian distribution maintenance software
pp.
Ansgar Burchardt (the ftpmaster behind the curtain)


</pre>

<div class="msgreceived"><hr><p>
<a name="103"></a>
<!-- request_addr: Debian FTP Masters &lt;ftpmaster@ftp-master.debian.org&gt; -->
<!-- time:1351232856 -->
<strong>Reply sent</strong>
to <code>Debian FTP Masters &lt;ftpmaster@ftp-master.debian.org&gt;</code>:<br>
You have taken responsibility.
 (Fri, 26 Oct 2012 06:27:36 GMT) (<a href="bugreport.cgi?bug=318123;msg=104">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=104">mbox</a>, <a href="#103">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="105"></a>
<!-- request_addr: Peter Palfrader &lt;weasel@debian.org&gt; -->
<!-- time:1351232856 -->
<strong>Notification sent</strong>
to <code>Peter Palfrader &lt;weasel@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Fri, 26 Oct 2012 06:27:36 GMT) (<a href="bugreport.cgi?bug=318123;msg=106">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=106">mbox</a>, <a href="#105">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="108"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1353655533 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Fri, 23 Nov 2012 07:25:33 GMT) (<a href="bugreport.cgi?bug=318123;msg=109">full text</a>, <a href="bugreport.cgi?bug=318123;mbox=yes;msg=109">mbox</a>, <a href="#108">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=318123">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:23:03 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->bembo<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
