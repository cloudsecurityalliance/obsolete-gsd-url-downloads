<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+index" />

    <meta charset="UTF-8" />
    <title>Bug #224945 “[SRU] memory leaks in apache2 when running mod_ssl” : Bugs : apache2 package : Ubuntu</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/224945" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/224945/bug.atom" title="Bug 224945 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="Binary package hint: apache2

The following came in an email to ....  I asked the sender to file a report, but it hasn't happened yet, so I am filing it on his behalf (essentially pasting the email here).

--- EMAIL FROM USER ---
After upgrading our servers from Ubuntu 6.06 to Ubuntu 8.04 we started seeing MASSIVE memory leaks in Apache 2.2 (mpm-worker). Before decreasing MaxRequestsPerChild we actually got kernel panic OOMs so in our view this is a serious DenialOfSerivce vulnerability.

I h..." />
      <meta property="og:description" content="Binary package hint: apache2

The following came in an email to ....  I asked the sender to file a report, but it hasn't happened yet, so I am filing it on his behalf (essentially pasting the email here).

--- EMAIL FROM USER ---
After upgrading our servers from Ubuntu 6.06 to Ubuntu 8.04 we started seeing MASSIVE memory leaks in Apache 2.2 (mpm-worker). Before decreasing MaxRequestsPerChild we actually got kernel panic OOMs so in our view this is a serious DenialOfSerivce vulnerability.

I h..." />
    

    
    
      <meta property="og:title" content="Bug #224945 “[SRU] memory leaks in apache2 when running mod_ssl” : Bugs : apache2 package : Ubuntu" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/224945" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["a11y", "appstream", "bionic", "bisect-done", "bitesize", "cherry-pick", "community-security", "desktop-file", "disco", "dist-upgrade", "focal", "ftbfs", "groovy", "hirsute", "hw-specific", "impish", "jammy", "kernel-bug", "manpage", "metabug", "multiarch", "needs-bisect", "needs-design", "needs-packaging", "needs-reassignment", "package-conflict", "packaging", "patch", "patch-accepted-debian", "patch-accepted-upstream", "patch-forwarded-debian", "patch-forwarded-upstream", "patch-needswork", "patch-rejected", "patch-rejected-debian", "patch-rejected-upstream", "performing-bisect", "py2-removal", "qt4-removal", "regression-proposed", "regression-release", "regression-update", "string-fix", "suspend-resume", "systemd-boot", "testcase", "touch", "unmetdeps", "upgrade-software-version", "verification-done-bionic", "verification-done-focal", "verification-done-groovy", "verification-done-hirsute", "verification-done-impish", "verification-done-xenial", "verification-failed-bionic", "verification-failed-groovy", "verification-failed-impish", "verification-failed-xenial", "verification-needed-bionic", "verification-needed-focal", "verification-needed-groovy", "verification-needed-hirsute", "verification-needed-impish", "verification-needed-trusty", "verification-needed-xenial", "wayland", "xenial"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/ubuntu"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/49558155/64_logo.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/ubuntu">Ubuntu</a><br /><a href="https://launchpad.net/ubuntu/+source/apache2">apache2 package</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/ubuntu/+source/apache2">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/ubuntu/+source/apache2">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/ubuntu/+source/apache2">Bugs</a></li>
      
      
    
    
      
      
      <li class="specifications disabled-tab"><span>Blueprints</span></li>
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/ubuntu/+source/apache2">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/ubuntu/+source/apache2">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    [SRU] memory leaks in apache2 when running mod_ssl
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #224945 reported by
      <a href="https://launchpad.net/~jdstrand" class="sprite person">Jamie Strandboge</a>
      <time title="2008-04-30 21:41:42 UTC" datetime="2008-04-30T21:41:42.259138+00:00">on 2008-04-30</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">30</a></span>
      </div>

      


  
  
    
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary256629">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary256629">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/apache2" title="Latest release: 2.4.41-4ubuntu3.8, uploaded to main on 2021-10-19 18:16:08.998585+00:00 by Bryce Harrington (bryce), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)">apache2 (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary256629">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~pitti">Martin Pitt</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task256629">
     <td colspan="7"><form action="/ubuntu/+source/apache2/+bug/224945/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/+source/apache2">apache2 (Ubuntu)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~jdstrand" class="sprite person">Jamie Strandboge</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2008-04-30 21:41:42 UTC" datetime="2008-04-30T21:41:42.259138+00:00">2008-04-30</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2008-05-08 21:25:36 UTC" datetime="2008-05-08T21:25:36.884021+00:00">2008-05-08</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2008-05-08 21:25:36 UTC" datetime="2008-05-08T21:25:36.950704+00:00">2008-05-08</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2008-05-13 14:30:15 UTC" datetime="2008-05-13T14:30:15.776681+00:00">2008-05-13</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2008-05-14 14:50:40 UTC" datetime="2008-05-14T14:50:40.815199+00:00">2008-05-14</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ubuntu_apache2.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ubuntu_apache2.target.option.package" name="ubuntu_apache2.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ubuntu_apache2.target.distribution" name="ubuntu_apache2.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ubuntu_apache2.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ubuntu_apache2.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="apache2" id="ubuntu_apache2.target.package"
                         name="ubuntu_apache2.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_apache2.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_apache2.target.package');
              var select_menu = Y.DOM.byId('ubuntu_apache2.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_apache2-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_apache2.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_apache2-target-package", "selected_value": "apache2", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-ubuntu_apache2-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" id="ubuntu_apache2.target.option.product" name="ubuntu_apache2.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ubuntu_apache2.target.product"
                         name="ubuntu_apache2.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_apache2.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_apache2.target.product');
              var select_menu = Y.DOM.byId('ubuntu_apache2.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_apache2-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "ubuntu_apache2.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-ubuntu_apache2-target-product", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-ubuntu_apache2-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_apache2.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_apache2.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_apache2.status" name="ubuntu_apache2.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_apache2.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_apache2.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_apache2.assignee.assign_to_me" name="ubuntu_apache2.assignee.option" value="ubuntu_apache2.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_apache2.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_apache2.assignee.assigned_to" name="ubuntu_apache2.assignee.option" value="ubuntu_apache2.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_apache2.assignee.assigned_to">
              Martin Pitt (pitti)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_apache2.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_apache2.comment_on_change" name="ubuntu_apache2.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary262716">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/hardy/+source/apache2/+bug/224945/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/hardy/+source/apache2">Hardy</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/hardy/+source/apache2/+bug/224945/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/hardy/+source/apache2/+bug/224945/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary262716">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/ubuntu/+milestone/ubuntu-8.04.1">Ubuntu ubuntu-8.04.1</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task262716">
     <td colspan="7"><form action="/ubuntu/hardy/+source/apache2/+bug/224945/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/hardy/+source/apache2">apache2 (Ubuntu Hardy)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~zulcss" class="sprite person">Chuck Short</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2008-05-13 15:26:42 UTC" datetime="2008-05-13T15:26:42.109751+00:00">2008-05-13</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2008-05-14 07:56:17 UTC" datetime="2008-05-14T07:56:17.973650+00:00">2008-05-14</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2008-05-14 07:56:17 UTC" datetime="2008-05-14T07:56:17.973650+00:00">2008-05-14</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2008-05-22 09:39:57 UTC" datetime="2008-05-22T09:39:57.602358+00:00">2008-05-22</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_hardy_apache2.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="apache2" id="ubuntu_hardy_apache2.sourcepackagename"
                         name="ubuntu_hardy_apache2.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_hardy_apache2.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_hardy_apache2.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_hardy_apache2-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_hardy_apache2.sourcepackagename", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_hardy_apache2-sourcepackagename", "selected_value": "apache2", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionSourcePackage"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_hardy_apache2-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_hardy_apache2.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_hardy_apache2.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_hardy_apache2.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_hardy_apache2.status" name="ubuntu_hardy_apache2.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_hardy_apache2.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          Ubuntu ubuntu-8.04.1
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_hardy_apache2.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ubuntu_hardy_apache2.assignee.assign_to_nobody" name="ubuntu_hardy_apache2.assignee.option" value="ubuntu_hardy_apache2.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_hardy_apache2.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_hardy_apache2.assignee.assign_to_me" name="ubuntu_hardy_apache2.assignee.option" value="ubuntu_hardy_apache2.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_hardy_apache2.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_hardy_apache2.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_hardy_apache2.comment_on_change" name="ubuntu_hardy_apache2.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary262991">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/intrepid/+source/apache2/+bug/224945/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/intrepid/+source/apache2">Intrepid</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/intrepid/+source/apache2/+bug/224945/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/intrepid/+source/apache2/+bug/224945/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary262991">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~pitti">Martin Pitt</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task262991">
     <td colspan="7"><form action="/ubuntu/intrepid/+source/apache2/+bug/224945/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/intrepid/+source/apache2">apache2 (Ubuntu Intrepid)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2008-05-14 07:43:15 UTC" datetime="2008-05-14T07:43:15.636210+00:00">2008-05-14</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2008-05-08 21:25:36 UTC" datetime="2008-05-08T21:25:36.884021+00:00">2008-05-08</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2008-05-08 21:25:36 UTC" datetime="2008-05-08T21:25:36.950704+00:00">2008-05-08</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2008-05-13 14:30:15 UTC" datetime="2008-05-13T14:30:15.776681+00:00">2008-05-13</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2008-05-14 14:50:40 UTC" datetime="2008-05-14T14:50:40.815199+00:00">2008-05-14</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_intrepid_apache2.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="apache2" id="ubuntu_intrepid_apache2.sourcepackagename"
                         name="ubuntu_intrepid_apache2.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_intrepid_apache2.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_intrepid_apache2.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_intrepid_apache2-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_intrepid_apache2.sourcepackagename", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_intrepid_apache2-sourcepackagename", "selected_value": "apache2", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionSourcePackage"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_intrepid_apache2-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_intrepid_apache2.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_intrepid_apache2.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_intrepid_apache2.status" name="ubuntu_intrepid_apache2.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_intrepid_apache2.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_intrepid_apache2.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_intrepid_apache2.assignee.assign_to_me" name="ubuntu_intrepid_apache2.assignee.option" value="ubuntu_intrepid_apache2.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_intrepid_apache2.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_intrepid_apache2.assignee.assigned_to" name="ubuntu_intrepid_apache2.assignee.option" value="ubuntu_intrepid_apache2.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_intrepid_apache2.assignee.assigned_to">
              Martin Pitt (pitti)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_intrepid_apache2.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_intrepid_apache2.comment_on_change" name="ubuntu_intrepid_apache2.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary261123">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/+source/openssl/+bug/224945/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary261123">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/openssl" title="Latest release: 1.1.1l-1ubuntu1, uploaded to main on 2021-09-10 08:33:09.181687+00:00 by Simon Chopin (schopin), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)">openssl (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/openssl/+bug/224945/+editstatus" style="float: left" class="value statusINVALID">Invalid</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/openssl/+bug/224945/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary261123">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task261123">
     <td colspan="7"><form action="/ubuntu/+source/openssl/+bug/224945/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/+source/openssl">openssl (Ubuntu)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland </a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2008-05-09 14:54:13 UTC" datetime="2008-05-09T14:54:13.151427+00:00">2008-05-09</time>
      </td>
    </tr>
    
    
    
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2008-05-13 14:29:24 UTC" datetime="2008-05-13T14:29:24.764210+00:00">2008-05-13</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ubuntu_openssl.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ubuntu_openssl.target.option.package" name="ubuntu_openssl.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ubuntu_openssl.target.distribution" name="ubuntu_openssl.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ubuntu_openssl.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ubuntu_openssl.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="openssl" id="ubuntu_openssl.target.package"
                         name="ubuntu_openssl.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_openssl.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_openssl.target.package');
              var select_menu = Y.DOM.byId('ubuntu_openssl.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_openssl-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_openssl.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_openssl-target-package", "selected_value": "openssl", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-ubuntu_openssl-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" id="ubuntu_openssl.target.option.product" name="ubuntu_openssl.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ubuntu_openssl.target.product"
                         name="ubuntu_openssl.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_openssl.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_openssl.target.product');
              var select_menu = Y.DOM.byId('ubuntu_openssl.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_openssl-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "ubuntu_openssl.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-ubuntu_openssl-target-product", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-ubuntu_openssl-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_openssl.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_openssl.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_openssl.status" name="ubuntu_openssl.status" size="1" >
<option selected="selected" value="Invalid">Invalid</option>
</select>
</div>
<input name="ubuntu_openssl.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_openssl.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ubuntu_openssl.assignee.assign_to_nobody" name="ubuntu_openssl.assignee.option" value="ubuntu_openssl.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_openssl.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_openssl.assignee.assign_to_me" name="ubuntu_openssl.assignee.option" value="ubuntu_openssl.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_openssl.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_openssl.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_openssl.comment_on_change" name="ubuntu_openssl.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary262717">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/hardy/+source/openssl/+bug/224945/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/hardy/+source/openssl">Hardy</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/hardy/+source/openssl/+bug/224945/+editstatus" style="float: left" class="value statusINVALID">Invalid</a>
          <a href="https://bugs.launchpad.net/ubuntu/hardy/+source/openssl/+bug/224945/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary262717">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task262717">
     <td colspan="7"><form action="/ubuntu/hardy/+source/openssl/+bug/224945/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/hardy/+source/openssl">openssl (Ubuntu Hardy)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~zulcss" class="sprite person">Chuck Short</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2008-05-13 15:26:42 UTC" datetime="2008-05-13T15:26:42.109751+00:00">2008-05-13</time>
      </td>
    </tr>
    
    
    
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2008-05-13 15:28:51 UTC" datetime="2008-05-13T15:28:51.694511+00:00">2008-05-13</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_hardy_openssl.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="openssl" id="ubuntu_hardy_openssl.sourcepackagename"
                         name="ubuntu_hardy_openssl.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_hardy_openssl.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_hardy_openssl.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_hardy_openssl-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_hardy_openssl.sourcepackagename", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_hardy_openssl-sourcepackagename", "selected_value": "openssl", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionSourcePackage"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_hardy_openssl-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_hardy_openssl.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_hardy_openssl.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_hardy_openssl.status" name="ubuntu_hardy_openssl.status" size="1" >
<option selected="selected" value="Invalid">Invalid</option>
</select>
</div>
<input name="ubuntu_hardy_openssl.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_hardy_openssl.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ubuntu_hardy_openssl.assignee.assign_to_nobody" name="ubuntu_hardy_openssl.assignee.option" value="ubuntu_hardy_openssl.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_hardy_openssl.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_hardy_openssl.assignee.assign_to_me" name="ubuntu_hardy_openssl.assignee.option" value="ubuntu_hardy_openssl.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_hardy_openssl.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_hardy_openssl.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_hardy_openssl.comment_on_change" name="ubuntu_hardy_openssl.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary262992">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/intrepid/+source/openssl/+bug/224945/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/intrepid/+source/openssl">Intrepid</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/intrepid/+source/openssl/+bug/224945/+editstatus" style="float: left" class="value statusINVALID">Invalid</a>
          <a href="https://bugs.launchpad.net/ubuntu/intrepid/+source/openssl/+bug/224945/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary262992">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task262992">
     <td colspan="7"><form action="/ubuntu/intrepid/+source/openssl/+bug/224945/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/intrepid/+source/openssl">openssl (Ubuntu Intrepid)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2008-05-14 07:43:15 UTC" datetime="2008-05-14T07:43:15.636210+00:00">2008-05-14</time>
      </td>
    </tr>
    
    
    
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2008-05-13 14:29:24 UTC" datetime="2008-05-13T14:29:24.764210+00:00">2008-05-13</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_intrepid_openssl.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="openssl" id="ubuntu_intrepid_openssl.sourcepackagename"
                         name="ubuntu_intrepid_openssl.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_intrepid_openssl.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_intrepid_openssl.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_intrepid_openssl-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_intrepid_openssl.sourcepackagename", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_intrepid_openssl-sourcepackagename", "selected_value": "openssl", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionSourcePackage"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_intrepid_openssl-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_intrepid_openssl.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_intrepid_openssl.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_intrepid_openssl.status" name="ubuntu_intrepid_openssl.status" size="1" >
<option selected="selected" value="Invalid">Invalid</option>
</select>
</div>
<input name="ubuntu_intrepid_openssl.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_intrepid_openssl.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ubuntu_intrepid_openssl.assignee.assign_to_nobody" name="ubuntu_intrepid_openssl.assignee.option" value="ubuntu_intrepid_openssl.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_intrepid_openssl.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_intrepid_openssl.assignee.assign_to_me" name="ubuntu_intrepid_openssl.assignee.option" value="ubuntu_intrepid_openssl.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_intrepid_openssl.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_intrepid_openssl.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_intrepid_openssl.comment_on_change" name="ubuntu_intrepid_openssl.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>Binary package hint: apache2</p>
<p>The following came in an email to &lt;email address hidden&gt;.  I asked the sender to file a report, but it hasn&#x27;t happened yet, so I am filing it on his behalf (essentially pasting the email here).</p>
<p>--- EMAIL FROM USER ---<br />
After upgrading our servers from Ubuntu 6.06 to Ubuntu 8.04 we started seeing MASSIVE memory leaks in Apache 2.2 (mpm-worker). Before decreasing MaxRequestsPerChild we actually got kernel panic OOMs so in our view this is a serious DenialOfSerivce vulnerability.</p>
<p>I have spent some time debugging the issue using valgrind and some custom debugging printf&#x27;s and I have so far concluded that it is related to SSLv3/TLSv1 zlib compression.</p>
<p>How to reproduce the leak:<br />
(1) Set up a SSL-enabled host in Apache2.2. Session cache and the like does not seem to matter, but make sure that the childs run long enough to notice the leak.</p>
<p>(2) Verify that zlib compression is enabled:<br />
$ openssl s_client -tls1 -connect host:port</p>
<p>(3) Flood the host  with compression enabled requests (no SSLv2):<br />
$ ab -n x -c y -f tls1 <a rel="nofollow" href="https://XXX">https:/<wbr />/XXX</a></p>
<p>Valgrind indicates that the leak occurs inside crypto/<wbr />comp/c_<wbr />zlib.c in libssl0.9.8g:</p>
<p>static int zlib_stateful_<wbr />init(COMP_<wbr />CTX *ctx)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int err;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct zlib_state *state =<br />
-&gt;              (struct zlib_state *)OPENSSL_<wbr />malloc(<wbr />sizeof(<wbr />struct<br />
zlib_state));</p>
<p>My debugging printf&#x27;s seem to indicate that (in the same file):</p>
<p>static void zlib_stateful_<wbr />finish(<wbr />COMP_CTX *ctx)</p>
<p>is called correctly, but</p>
<p>static void zlib_stateful_<wbr />free_ex_<wbr />data(..<wbr />.)</p>
<p>which is supposed to free the zlib_state allocation is never called.</p>
<p>The zlib_stateful_<wbr />free_ex_<wbr />data function seems to be called when I use openssl s_server instead of Apache as the SSL server.  I am therefore not completely sure whether the root of this bug is in apache or openssl.</p>
<p>BTW, <a href="/bugs/186339" class="bug-link">bug #186339</a> looks like it is the same issue.</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="unofficial-tag" href="/ubuntu/+source/apache2/+bugs?field.tag=verification-done">verification-done</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          

            <div id="bug-branches">
              <h2>Related branches</h2>

              
                

 

 <div class="buglink-summary">

  <a href="https://code.launchpad.net/~ubuntu-branches/ubuntu/gutsy/apache2/gutsy-security" class="sprite branch">lp:ubuntu/gutsy-security/apache2</a>
  
  
</div>



              
            </div>
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2008-1678" title="Memory leak in the zlib_stateful_init...">2008-1678</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~jdstrand" class="sprite person">Jamie Strandboge (jdstrand)</a>
    
    <time title="2008-04-30 21:47:00 UTC" datetime="2008-04-30T21:47:00.623936+00:00">on 2008-04-30</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~leobaillard" class="sprite person">Léobaillard (leobaillard)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-07T19:56:16.288263+00:00" title="2008-05-07 19:56:16 UTC">on 2008-05-07</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/apache2/+bug/224945/comments/1">
                <strong>Re: memory leaks in apache2 when running mod_ssl</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi,</p>
<p>I&#x27;ve got the same bug. I&#x27;ve tried disabling mod_ssl without any success, the memory leak is still happening... Do you have an idea ? Maybe it&#x27;s not/not only SSL after all ?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi,

I've got the same bug. I've tried disabling mod_ssl without any success, the memory leak is still happening... Do you have an idea ? Maybe it's not/not only SSL after all ?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~leobaillard" class="sprite person">Léobaillard (leobaillard)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-07T20:02:26.709950+00:00" title="2008-05-07 20:02:26 UTC">on 2008-05-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/comments/2/+download">Download full text</a> (4.4 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>BTW, here&#x27;s some debug information from /var/log/kern.log :</p>
<p>May  3 19:51:22 yoda kernel: [10632.509889] Out of memory: kill process 9047 (apache2) score 19040 or a child<br />
May  3 19:51:22 yoda kernel: [10632.510045] Killed process 9047 (apache2)<br />
May  3 19:51:22 yoda kernel: [10634.310259] named invoked oom-killer: gfp_mask=0x1201d2, order=0, oomkilladj=0<br />
May  3 19:51:22 yoda kernel: [10634.310291] Pid: 4539, comm: named Not tainted 2.6.24-16-server #1<br />
May  3 19:51:22 yoda kernel: [10634.310370]  [oom_kill_<wbr />process+<wbr />0x10a/0x120] oom_kill_<wbr />process+<wbr />0x10a/0x120<br />
May  3 19:51:22 yoda kernel: [10634.310460]  [out_of_<wbr />memory+<wbr />0x167/0x1a0] out_of_<wbr />memory+<wbr />0x167/0x1a0<br />
May  3 19:51:22 yoda kernel: [10634.310510]  [agpgart:<wbr />__alloc_<wbr />pages+0x34c/<wbr />0x380] __alloc_<wbr />pages+0x34c/<wbr />0x380<br />
May  3 19:51:22 yoda kernel: [10634.310573]  [filemap_<wbr />fault+0x10a/<wbr />0x420] filemap_<wbr />fault+0x10a/<wbr />0x420<br />
May  3 19:51:22 yoda kernel: [10634.310638]  [__do_fault+<wbr />0x83/0x4c0] __do_fault+<wbr />0x83/0x4c0<br />
May  3 19:51:22 yoda kernel: [10634.310747]  [handle_<wbr />mm_fault+<wbr />0x21b/0xb80] handle_<wbr />mm_fault+<wbr />0x21b/0xb80<br />
May  3 19:51:22 yoda kernel: [10634.310778]  [&lt;c012b0c0&gt;] default_<wbr />wake_function+<wbr />0x0/0x10<br />
May  3 19:51:22 yoda kernel: [10634.310875]  [sched_<wbr />clock+0x13/<wbr />0x30] sched_clock+<wbr />0x13/0x30<br />
May  3 19:51:22 yoda kernel: [10634.310914]  [snd_pcm:<wbr />getnstimeofday+<wbr />0x34/0x9790] getnstimeofday+<wbr />0x34/0xf0<br />
May  3 19:51:22 yoda kernel: [10634.310966]  [snd_pcm:<wbr />ktime_get_<wbr />ts+0x1e/<wbr />0x4f0] ktime_get_<wbr />ts+0x1e/<wbr />0x60<br />
May  3 19:51:22 yoda kernel: [10634.310996]  [do_page_<wbr />fault+0x143/<wbr />0x900] do_page_<wbr />fault+0x143/<wbr />0x900<br />
May  3 19:51:22 yoda kernel: [10634.311025]  [sys_futex+<wbr />0x98/0x120] sys_futex+<wbr />0x98/0x120<br />
May  3 19:51:22 yoda kernel: [10634.311054]  [snd_seq:<wbr />do_gettimeofday<wbr />+0x34/0xa450] do_gettimeofday<wbr />+0x34/0xe0<br />
May  3 19:51:22 yoda kernel: [10634.311090]  [sys_gettimeofd<wbr />ay+0x28/<wbr />0x80] sys_gettimeofda<wbr />y+0x28/<wbr />0x80<br />
May  3 19:51:22 yoda kernel: [10634.311118]  [do_page_<wbr />fault+0x0/<wbr />0x900] do_page_<wbr />fault+0x0/<wbr />0x900<br />
May  3 19:51:22 yoda kernel: [10634.311134]  [error_<wbr />code+0x72/<wbr />0x78] error_code+<wbr />0x72/0x78<br />
May  3 19:51:22 yoda kernel: [10634.311173]  [unix_create1+<wbr />0x50/0x120] unix_create1+<wbr />0x50/0x120<br />
May  3 19:51:22 yoda kernel: [10634.311229]  =======<wbr />=======<wbr />=======<wbr />==<br />
May  3 19:51:22 yoda kernel: [10634.311236] Mem-info:<br />
May  3 19:51:22 yoda kernel: [10634.311243] DMA per-cpu:<br />
May  3 19:51:22 yoda kernel: [10634.311253] CPU    0: Hot: hi:    0, btch:   1 usd:   0   Cold: hi:    0, btch:   1 usd:   0<br />
May  3 19:51:22 yoda kernel: [10634.311264] Normal per-cpu:<br />
May  3 19:51:22 yoda kernel: [10634.311273] CPU    0: Hot: hi:  186, btch:  31 usd:  87   Cold: hi:   62, btch:  15 usd:  43<br />
May  3 19:51:22 yoda kernel: [10634.311291] Active:87819 inactive:295 dirty:0 writeback:0 unstable:0<br />
May  3 19:51:22 yoda kernel: [10634.311297]  free:976 slab:3176 mapped:2 pagetables:1570 bounce:0<br />
May  3 19:51:22 yoda kernel: [10634.311314] DMA free:1552kB min:104kB low:128kB high:156kB active:10208kB inactive:16kB present:16256kB pages_scanned:<wbr />127731 all_unreclaimable? yes<br />
May  3 19:51:22 yoda kernel: [10634.311327] lowmem_reserve[]: 0 364 364 364<br />
May  3 19:51:22 yoda kernel: [10634.311347] Normal free:2352kB min:2384kB low:2980kB high:3576kB active:341068kB inactive:1164kB p...</p></div>
    
    <p>
      <a href="/ubuntu/+source/apache2/+bug/224945/comments/2">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">BTW, here's some debug information from /var/log/kern.log :

May  3 19:51:22 yoda kernel: [10632.509889] Out of memory: kill process 9047 (apache2) score 19040 or a child
May  3 19:51:22 yoda kernel: [10632.510045] Killed process 9047 (apache2)
May  3 19:51:22 yoda kernel: [10634.310259] named invoked oom-killer: gfp_mask=0x1201d2, order=0, oomkilladj=0
May  3 19:51:22 yoda kernel: [10634.310291] Pid: 4539, comm: named Not tainted 2.6.24-16-server #1
May  3 19:51:22 yoda kernel: [10634.310370]  [oom_kill_process+0x10a/0x120] oom_kill_process+0x10a/0x120
May  3 19:51:22 yoda kernel: [10634.310460]  [out_of_memory+0x167/0x1a0] out_of_memory+0x167/0x1a0
May  3 19:51:22 yoda kernel: [10634.310510]  [agpgart:__alloc_pages+0x34c/0x380] __alloc_pages+0x34c/0x380
May  3 19:51:22 yoda kernel: [10634.310573]  [filemap_fault+0x10a/0x420] filemap_fault+0x10a/0x420
May  3 19:51:22 yoda kernel: [10634.310638]  [__do_fault+0x83/0x4c0] __do_fault+0x83/0x4c0
May  3 19:51:22 yoda kernel: [10634.310747]  [handle_mm_fault+0x21b/0xb80] handle_mm_fault+0x21b/0xb80
May  3 19:51:22 yoda kernel: [10634.310778]  [&lt;c012b0c0&gt;] default_wake_function+0x0/0x10
May  3 19:51:22 yoda kernel: [10634.310875]  [sched_clock+0x13/0x30] sched_clock+0x13/0x30
May  3 19:51:22 yoda kernel: [10634.310914]  [snd_pcm:getnstimeofday+0x34/0x9790] getnstimeofday+0x34/0xf0
May  3 19:51:22 yoda kernel: [10634.310966]  [snd_pcm:ktime_get_ts+0x1e/0x4f0] ktime_get_ts+0x1e/0x60
May  3 19:51:22 yoda kernel: [10634.310996]  [do_page_fault+0x143/0x900] do_page_fault+0x143/0x900
May  3 19:51:22 yoda kernel: [10634.311025]  [sys_futex+0x98/0x120] sys_futex+0x98/0x120
May  3 19:51:22 yoda kernel: [10634.311054]  [snd_seq:do_gettimeofday+0x34/0xa450] do_gettimeofday+0x34/0xe0
May  3 19:51:22 yoda kernel: [10634.311090]  [sys_gettimeofday+0x28/0x80] sys_gettimeofday+0x28/0x80
May  3 19:51:22 yoda kernel: [10634.311118]  [do_page_fault+0x0/0x900] do_page_fault+0x0/0x900
May  3 19:51:22 yoda kernel: [10634.311134]  [error_code+0x72/0x78] error_code+0x72/0x78
May  3 19:51:22 yoda kernel: [10634.311173]  [unix_create1+0x50/0x120] unix_create1+0x50/0x120
May  3 19:51:22 yoda kernel: [10634.311229]  =======================
May  3 19:51:22 yoda kernel: [10634.311236] Mem-info:
May  3 19:51:22 yoda kernel: [10634.311243] DMA per-cpu:
May  3 19:51:22 yoda kernel: [10634.311253] CPU    0: Hot: hi:    0, btch:   1 usd:   0   Cold: hi:    0, btch:   1 usd:   0
May  3 19:51:22 yoda kernel: [10634.311264] Normal per-cpu:
May  3 19:51:22 yoda kernel: [10634.311273] CPU    0: Hot: hi:  186, btch:  31 usd:  87   Cold: hi:   62, btch:  15 usd:  43
May  3 19:51:22 yoda kernel: [10634.311291] Active:87819 inactive:295 dirty:0 writeback:0 unstable:0
May  3 19:51:22 yoda kernel: [10634.311297]  free:976 slab:3176 mapped:2 pagetables:1570 bounce:0
May  3 19:51:22 yoda kernel: [10634.311314] DMA free:1552kB min:104kB low:128kB high:156kB active:10208kB inactive:16kB present:16256kB pages_scanned:127731 all_unreclaimable? yes
May  3 19:51:22 yoda kernel: [10634.311327] lowmem_reserve[]: 0 364 364 364
May  3 19:51:22 yoda kernel: [10634.311347] Normal free:2352kB min:2384kB low:2980kB high:3576kB active:341068kB inactive:1164kB present:372812kB pages_scanned:706813 all_unreclaimable? yes
May  3 19:51:22 yoda kernel: [10634.311361] lowmem_reserve[]: 0 0 0 0
May  3 19:51:22 yoda kernel: [10634.311375] DMA: 0*4kB 0*8kB 1*16kB 0*32kB 0*64kB 0*128kB 0*256kB 1*512kB 1*1024kB 0*2048kB 0*4096kB = 1552kB
May  3 19:51:22 yoda kernel: [10634.311407] Normal: 18*4kB 1*8kB 1*16kB 0*32kB 1*64kB 1*128kB 2*256kB 1*512kB 1*1024kB 0*2048kB 0*4096kB = 2336kB
May  3 19:51:22 yoda kernel: [10634.311443] Swap cache: add 0, delete 0, find 0/0, race 0+0
May  3 19:51:22 yoda kernel: [10634.311452] Free swap  = 0kB
May  3 19:51:22 yoda kernel: [10634.311458] Total swap = 0kB
May  3 19:51:22 yoda kernel: [10634.311464] Free swap:            0kB
May  3 19:51:22 yoda kernel: [10634.338503] 98032 pages of RAM
May  3 19:51:22 yoda kernel: [10634.338519] 0 pages of HIGHMEM
May  3 19:51:22 yoda kernel: [10634.338525] 1953 reserved pages
May  3 19:51:22 yoda kernel: [10634.338531] 246726 pages shared
May  3 19:51:22 yoda kernel: [10634.338537] 0 pages swap cached
May  3 19:51:22 yoda kernel: [10634.338543] 0 pages dirty
May  3 19:51:22 yoda kernel: [10634.338548] 0 pages writeback
May  3 19:51:22 yoda kernel: [10634.338554] 2 pages mapped
May  3 19:51:22 yoda kernel: [10634.338560] 3176 pages slab
May  3 19:51:22 yoda kernel: [10634.338565] 1570 pages pagetables</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~zulcss" class="sprite person">Chuck Short (zulcss)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-08T12:36:49.231246+00:00" title="2008-05-08 12:36:49 UTC">on 2008-05-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hello,</p>
<p>Can you provide your ssl configuration so I can reproduce this?<br />
Please include the output of dpkg -l | grep apache.</p>
<p>Thanks<br />
chuck</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hello,

Can you provide your ssl configuration so I can reproduce this?
Please include the output of dpkg -l | grep apache.

Thanks
chuck</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Incomplete
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-08T21:25:36.273413+00:00" title="2008-05-08 21:25:36 UTC">on 2008-05-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve reproduced this in a Hardy VM with 128MB of memory.</p>
<p>Beyond the default server install, I installed:<br />
apache2-mpm-worker ssl-cert</p>
<p>I enabled ssl with a2enmod.</p>
<p>I created a very simple ssl config for apache and enabled it with a2ensite.</p>
<p>Then, from the VM host, I ran:<br />
time ab -n 100000 -c 20 -f tls1 <a rel="nofollow" href="https://192.168.122.74:443/">https:/<wbr />/192.168.<wbr />122.74:<wbr />443/</a></p>
<p>It locked up the VM.  I could see apache2 consuming all virtual memory, and the load pegged at 20.87.</p>
<p>Interestingly, I couldn&#x27;t shutdown or ctrl-alt-delete the VM to gracefully reset it to a sane state.</p>
<p>:-Dustin</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've reproduced this in a Hardy VM with 128MB of memory.

Beyond the default server install, I installed:
apache2-mpm-worker ssl-cert

I enabled ssl with a2enmod.

I created a very simple ssl config for apache and enabled it with a2ensite.

Then, from the VM host, I ran:
time ab -n 100000 -c 20 -f tls1 https://192.168.122.74:443/

It locked up the VM.  I could see apache2 consuming all virtual memory, and the load pegged at 20.87.  

Interestingly, I couldn't shutdown or ctrl-alt-delete the VM to gracefully reset it to a sane state.

:-Dustin</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; kirkland
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Incomplete &#8594; Confirmed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-08T21:30:20.240679+00:00" title="2008-05-08 21:30:20 UTC">on 2008-05-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Chuck-</p>
<p>SSL configuration:<br />
NameVirtualHost *:443<br />
&lt;VirtualHost *:443&gt;<br />
&nbsp;SSLEngine On<br />
&nbsp;SSLCertificateFile /etc/ssl/<wbr />certs/ssl.<wbr />pem<br />
&nbsp;DocumentRoot /var/www<br />
&nbsp;&lt;Directory /&gt;<br />
&nbsp;&nbsp;Options Indexes<br />
&nbsp;&lt;/Directory&gt;<br />
&lt;/VirtualHost&gt;</p>
<p>:-Dustin</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Chuck-

SSL configuration:
NameVirtualHost *:443
&lt;VirtualHost *:443&gt;
	SSLEngine On
	SSLCertificateFile /etc/ssl/certs/ssl.pem
	DocumentRoot /var/www
	&lt;Directory /&gt;
		Options Indexes
	&lt;/Directory&gt;
&lt;/VirtualHost&gt;

:-Dustin

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~leobaillard" class="sprite person">Léobaillard (leobaillard)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-09T10:53:54.286693+00:00" title="2008-05-09 10:53:54 UTC">on 2008-05-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The only way to reboot the machine safely is to use the Magic SysRq keys. For instance, I used : AltGr + SysRq + s, AltGr + SysRq + u and AltGr + SysRq + b which syncs the mounted file systems, remounts all the mounted file systems in Read Only mode and finally reboots the computer.</p>
<p>But I still can&#x27;t prevent Apache from crashing the system even with SSL disabled.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The only way to reboot the machine safely is to use the Magic SysRq keys. For instance, I used : AltGr + SysRq + s, AltGr + SysRq + u and AltGr + SysRq + b which syncs the mounted file systems, remounts all the mounted file systems in Read Only mode and finally reboots the computer.

But I still can't prevent Apache from crashing the system even with SSL disabled.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-09T14:52:57.339119+00:00" title="2008-05-09 14:52:57 UTC">on 2008-05-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Léobaillard-</p>
<p>I cannot reproduce this with SSL disabled.</p>
<p>Can you give very detailed steps for reproducing this problem without SSL?</p>
<p>:-Dustin</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Léobaillard-

I cannot reproduce this with SSL disabled.

Can you give very detailed steps for reproducing this problem without SSL?

:-Dustin</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-09T21:25:40.847785+00:00" title="2008-05-09 21:25:40 UTC">on 2008-05-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>FWIW, I have also reproduced this problem in Gutsy as well, which uses openssl-<wbr />0.9.8e-<wbr />5ubuntu3.</p>
<p>However, Dapper-Feisty do not exhibit this problem.  Feisty uses openssl-<wbr />0.9.8c-<wbr />4ubuntu0.<wbr />2.</p>
<p>It seems that the regression was introduced sometime between openssl-0.9.8c and 0.9.8e.</p>
<p>:-Dustin</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">FWIW, I have also reproduced this problem in Gutsy as well, which uses openssl-0.9.8e-5ubuntu3.

However, Dapper-Feisty do not exhibit this problem.  Feisty uses openssl-0.9.8c-4ubuntu0.2.

It seems that the regression was introduced sometime between openssl-0.9.8c and 0.9.8e.

:-Dustin</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in openssl: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; kirkland
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Triaged
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-12T21:47:43.085246+00:00" title="2008-05-12 21:47:43 UTC">on 2008-05-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Upstream bug filed with Apache:<br />
<a rel="nofollow" href="https://issues.apache.org/bugzilla/show_bug.cgi?id=44975">https:/<wbr />/issues.<wbr />apache.<wbr />org/bugzilla/<wbr />show_bug.<wbr />cgi?id=<wbr />44975</a></p>
<p>They suggested applying this patch:<br />
<a rel="nofollow" href="http://svn.apache.org/viewvc?view=rev&amp;revision=654119">http://<wbr />svn.apache.<wbr />org/viewvc?<wbr />view=rev&amp;<wbr />revision=<wbr />654119</a></p>
<p>Test packages available in my PPA.</p>
<p>This patch fixes half of the problem.  It solves the out-of-memory errors, however, SSL connections are simply dropped when the server is flooded.  Note that Feisty&#x27;s apache2+mod_ssl is able to handle the flood on both the client and server without errors.</p>
<p>:-Dustin</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Upstream bug filed with Apache:
https://issues.apache.org/bugzilla/show_bug.cgi?id=44975

They suggested applying this patch:
http://svn.apache.org/viewvc?view=rev&amp;revision=654119

Test packages available in my PPA.  

This patch fixes half of the problem.  It solves the out-of-memory errors, however, SSL connections are simply dropped when the server is flooded.  Note that Feisty's apache2+mod_ssl is able to handle the flood on both the client and server without errors.

:-Dustin</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-13T14:28:37.371592+00:00" title="2008-05-13 14:28:37 UTC">on 2008-05-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+attachment/296435/+files/224945_fix_ssl_mem_leak.debdiff">224945_fix_ssl_mem_leak.debdiff</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apache2/+bug/224945/+attachment/296435">Edit</a>
        (2.8 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Please disregard my last comment.  Those packages did not actually have the patch applied due to some nuances with dpatch in the build.  As a result those tests are invalid.</p>
<p>I have since cleanly applied the patch, built test packages, and tested.</p>
<p>These test have succeeded, with 100,000 SSL request being issued and completed successfully, without loss of SSL connection, and without out-of-memory errors.</p>
<p>I&#x27;m submitting the attached debdiff as the fix for this issue, and Chuck will be bringing for the SRU.  The patch is the one suggested by Apache ( <a rel="nofollow" href="http://svn.apache.org/viewvc?view=rev&amp;revision=654119">http://<wbr />svn.apache.<wbr />org/viewvc?<wbr />view=rev&amp;<wbr />revision=<wbr />654119</a> )</p>
<p>:-Dustin</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Please disregard my last comment.  Those packages did not actually have the patch applied due to some nuances with dpatch in the build.  As a result those tests are invalid.

I have since cleanly applied the patch, built test packages, and tested.

These test have succeeded, with 100,000 SSL request being issued and completed successfully, without loss of SSL connection, and without out-of-memory errors.

I'm submitting the attached debdiff as the fix for this issue, and Chuck will be bringing for the SRU.  The patch is the one suggested by Apache ( http://svn.apache.org/viewvc?view=rev&amp;revision=654119 )


:-Dustin</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-13T14:29:24.103112+00:00" title="2008-05-13 14:29:24 UTC">on 2008-05-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The bug is in Apache, not OpenSSL.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The bug is in Apache, not OpenSSL.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in openssl: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        kirkland &#8594; nobody
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        High &#8594; Undecided
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; Invalid
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-13T14:30:15.368958+00:00" title="2008-05-13 14:30:15 UTC">on 2008-05-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Patch submitted.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Patch submitted.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        none &#8594; ubuntu-8.04.1
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; In Progress
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~zulcss" class="sprite person">Chuck Short (zulcss)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-13T15:26:25.377222+00:00" title="2008-05-13 15:26:25 UTC">on 2008-05-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+attachment/296458/+files/060_fix_ssl_mem_leak.dpatch">Patch that fixes the issue.</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apache2/+bug/224945/+attachment/296458">Edit</a>
        (1.2 KiB,
        text/plain)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Depending on the system load apache with apache-mpm-worker and mod_ssl enabled will cause ssl to run out of memory and crash. The following patch resolves this issue. It will be needed to be ported to intrepid since it is also vulnerable to this condition.</p>
<p>Steps to reproduce: (TEST CASE)</p>
<p>1. Install apache-mpm-worker and ssl-cert<br />
2. Confgure the SSL cert according to <a rel="nofollow" href="https://help.ubuntu.com/8.04/serverguide/C/certificates-and-security.html">https:/<wbr />/help.ubuntu.<wbr />com/8.04/<wbr />serverguide/<wbr />C/certificates-<wbr />and-security.<wbr />html</a>.<br />
3. Use the following config in your /etc/apache2/<wbr />sites-enabled/<wbr />default.</p>
<p>NameVirtualHost *:443<br />
&lt;VirtualHost *:443&gt;<br />
&nbsp;SSLEngine On<br />
&nbsp;SSLCertificateFile /etc/ssl/<wbr />certs/ssl.<wbr />pem<br />
&nbsp;DocumentRoot /var/www<br />
&nbsp;&lt;Directory /&gt;<br />
&nbsp;&nbsp;Options Indexes<br />
&nbsp;&lt;/Directory&gt;<br />
&lt;/VirtualHost&gt;</p>
<p>4. Run the following command:</p>
<p>ab -n 100000 -c 20 -f tls1 https://&lt;ip address&gt;:443/</p>
<p>You should get OOM errors in a couple of minutes of running the test.</p>
<p>If you have any questions let me know.</p>
<p>Regards<br />
chuck</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Depending on the system load apache with apache-mpm-worker and mod_ssl enabled will cause ssl to run out of memory and crash. The following patch resolves this issue. It will be needed to be ported to intrepid since it is also vulnerable to this condition.

Steps to reproduce: (TEST CASE)

1. Install apache-mpm-worker and ssl-cert
2. Confgure the SSL cert according to https://help.ubuntu.com/8.04/serverguide/C/certificates-and-security.html.
3. Use the following config in your /etc/apache2/sites-enabled/default.

NameVirtualHost *:443
&lt;VirtualHost *:443&gt;
 SSLEngine On
 SSLCertificateFile /etc/ssl/certs/ssl.pem
 DocumentRoot /var/www
 &lt;Directory /&gt;
  Options Indexes
 &lt;/Directory&gt;
&lt;/VirtualHost&gt;

4. Run the following command:

ab -n 100000 -c 20 -f tls1 https://&lt;ip address&gt;:443/

You should get OOM errors in a couple of minutes of running the test.

If you have any questions let me know.

Regards
chuck
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in openssl: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Invalid
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~sf-sfritsch" class="sprite person">Stefan Fritsch (sf-sfritsch)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-13T21:18:02.066795+00:00" title="2008-05-13 21:18:02 UTC">on 2008-05-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>2.2.8-4 with the patch has just been uploaded to Debian</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">2.2.8-4 with the patch has just been uploaded to Debian</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
    
    <time title="2008-05-14 07:43:35 UTC" datetime="2008-05-14T07:43:35.281501+00:00">on 2008-05-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        none &#8594; ubuntu-8.04.1
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        ubuntu-8.04.1 &#8594; none
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-14T07:56:25.584180+00:00" title="2008-05-14 07:56:25 UTC">on 2008-05-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Accepted into -proposed, please test and give feedback here</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Accepted into -proposed, please test and give feedback here</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        ubuntu-8.04.1 &#8594; none
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Committed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-14T07:57:22.061646+00:00" title="2008-05-14 07:57:22 UTC">on 2008-05-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Since Intrepid is a sync now, I take the intrepid task.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Since Intrepid is a sync now, I take the intrepid task.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        kirkland &#8594; pitti
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~vorlon" class="sprite person">Steve Langasek (vorlon)</a>
    
    <time title="2008-05-14 08:16:35 UTC" datetime="2008-05-14T08:16:35.510159+00:00">on 2008-05-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        none &#8594; ubuntu-8.04.1
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-14T08:35:56.309411+00:00" title="2008-05-14 08:35:56 UTC">on 2008-05-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Verification step 1: I set up apache2 in hardy final and successfully reproduced the OOM condition. I will test the updated package with that setup, too.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Verification step 1: I set up apache2 in hardy final and successfully reproduced the OOM condition. I will test the updated package with that setup, too.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; pitti
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-14T14:50:01.936105+00:00" title="2008-05-14 14:50:01 UTC">on 2008-05-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I upgraded to the hardy-proposed version and ran the hammering benchmark again. Memory was constantly acquired and released now and never got exhausted.</p>
<p>I did both tests on a 256 MB VM.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I upgraded to the hardy-proposed version and ran the hammering benchmark again. Memory was constantly acquired and released now and never got exhausted.

I did both tests on a 256 MB VM.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-14T14:50:39.763371+00:00" title="2008-05-14 14:50:39 UTC">on 2008-05-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I synced the fixed Debian version to intrepid.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I synced the fixed Debian version to intrepid.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-14T14:50:53.124053+00:00" title="2008-05-14 14:50:53 UTC">on 2008-05-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Tests done, unassigning.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Tests done, unassigning.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        pitti &#8594; nobody
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apache2/+bug/224945/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~pitti" class="sprite person">Martin Pitt (pitti)</a>
            wrote
            <time itemprop="commentTime" datetime="2008-05-22T09:39:56.896674+00:00" title="2008-05-22 09:39:56 UTC">on 2008-05-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apache2/+bug/224945/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Copied to hardy-updates.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Copied to hardy-updates.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apache2: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/ubuntu/+source/apache2/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/ubuntu/+source/apache2/+bug/224945/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/ubuntu/+source/apache2/+bug/224945/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      <div class="portlet" id="portlet-duplicates">
  <h2>Duplicates of this bug</h2>
  <ul>
    <li>
      <a class="sprite bug" href="https://bugs.launchpad.net/bugs/186339" title="Memory leak libapache2-mod-auth-pgsql"> Bug #186339</a>
    </li>
  </ul>
</div>

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/ubuntu/+source/apache2/+bug/224945/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+attachment/296435/+files/224945_fix_ssl_mem_leak.debdiff">224945_fix_ssl_mem_leak.debdiff</a>
        <small>
          (<a href="/ubuntu/+source/apache2/+bug/224945/+attachment/296435">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/apache2/+bug/224945/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+attachment/296458/+files/060_fix_ssl_mem_leak.dpatch">Patch that fixes the issue.</a>
        <small>
          (<a href="/ubuntu/+source/apache2/+bug/224945/+attachment/296458">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/apache2/+bug/224945/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      <div class="portlet" id="portlet-watches">
  <h2>Remote bug watches</h2>
  <ul>
    <li>
      <span class="sprite bug-remote"></span>
      <a class="link-external" href="http://issues.apache.org/bugzilla/show_bug.cgi?id=44975">asf-bugs #44975</a>
      
        <br />[<span>RESOLVED FIXED</span>]
        <a class="sprite edit action-icon" title="Change watch details" href="/bugs/224945/+watch/42724">Edit</a>
    </li>
  </ul>
  <p>Bug watches keep track of this bug in other bug trackers.</p>
</div>

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"bug_is_private": false, "information_type_data": {"PUBLICSECURITY": {"name": "Public Security", "description_css_class": "choice-description", "is_private": false, "value": "PUBLICSECURITY", "description": "Everyone can see this security related information.\n", "order": 1}, "PRIVATESECURITY": {"name": "Private Security", "description_css_class": "choice-description", "is_private": true, "value": "PRIVATESECURITY", "description": "Only the security group can see this information.\n ", "order": 2}, "PUBLIC": {"name": "Public", "description_css_class": "choice-description", "is_private": false, "value": "PUBLIC", "description": "Everyone can see this information.\n", "order": 0}, "USERDATA": {"name": "Private", "description_css_class": "choice-description", "is_private": true, "value": "USERDATA", "description": "Only shared with users permitted to see private user information.\n", "order": 3}}, "initial_comment_batch_offset": 41, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/224945", "self_link": "https://bugs.launchpad.net/api/devel/bugs/224945"}, "first visible_recent_comment": -19, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/224945", "web_link": "https://bugs.launchpad.net/bugs/224945", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 224945, "private": false, "information_type": "Public", "name": null, "title": "[SRU] memory leaks in apache2 when running mod_ssl", "description": "Binary package hint: apache2\n\nThe following came in an email to \u003cemail address hidden\u003e.  I asked the sender to file a report, but it hasn't happened yet, so I am filing it on his behalf (essentially pasting the email here).\n\n--- EMAIL FROM USER ---\nAfter upgrading our servers from Ubuntu 6.06 to Ubuntu 8.04 we started seeing MASSIVE memory leaks in Apache 2.2 (mpm-worker). Before decreasing MaxRequestsPerChild we actually got kernel panic OOMs so in our view this is a serious DenialOfSerivce vulnerability.\n\nI have spent some time debugging the issue using valgrind and some custom debugging printf's and I have so far concluded that it is related to SSLv3/TLSv1 zlib compression.\n\nHow to reproduce the leak:\n(1) Set up a SSL-enabled host in Apache2.2. Session cache and the like does not seem to matter, but make sure that the childs run long enough to notice the leak.\n\n(2) Verify that zlib compression is enabled:\n$ openssl s_client -tls1 -connect host:port\n\n(3) Flood the host  with compression enabled requests (no SSLv2):\n$ ab -n x -c y -f tls1 https://XXX\n\nValgrind indicates that the leak occurs inside crypto/comp/c_zlib.c in libssl0.9.8g:\n\nstatic int zlib_stateful_init(COMP_CTX *ctx)\n        {\n        int err;\n        struct zlib_state *state =\n-\u003e              (struct zlib_state *)OPENSSL_malloc(sizeof(struct\nzlib_state));\n\nMy debugging printf's seem to indicate that (in the same file):\n\nstatic void zlib_stateful_finish(COMP_CTX *ctx)\n\nis called correctly, but\n\nstatic void zlib_stateful_free_ex_data(...)\n\nwhich is supposed to free the zlib_state allocation is never called.\n\nThe zlib_stateful_free_ex_data function seems to be called when I use openssl s_server instead of Apache as the SSL server.  I am therefore not completely sure whether the root of this bug is in apache or openssl.\n\nBTW, bug #186339 looks like it is the same issue.", "owner_link": "https://bugs.launchpad.net/api/devel/~jdstrand", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/bug_tasks", "duplicate_of_link": null, "date_created": "2008-04-30T21:41:42.259138+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/subscriptions", "date_last_updated": "2011-11-11T15:56:58.862426+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 30, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/attachments", "security_related": false, "latest_patch_uploaded": "2008-05-13T14:28:37.371592+00:00", "tags": ["verification-done"], "date_last_message": "2008-05-22T09:39:56.896674+00:00", "number_of_duplicates": 1, "message_count": 22, "users_affected_count": 0, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/users_unaffected", "users_affected_count_with_dupes": 0, "other_users_affected_count_with_dupes": 0, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/224945/linked_merge_proposals", "http_etag": "\"a7ead57e24b4b9386ed4def2993cc698749ba962-825da2c264317a16c590092ce53f294932de069b\""}, "total_comments_and_activity": 55, "related_features": {}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/apache2/+bug/224945", "web_link": "https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/224945", "milestone_link": null, "status": "Fix Released", "importance": "High", "assignee_link": "https://bugs.launchpad.net/api/devel/~pitti", "bug_target_display_name": "apache2 (Ubuntu)", "bug_target_name": "apache2 (Ubuntu)", "bug_watch_link": null, "date_assigned": "2008-05-08T21:25:36.950704+00:00", "date_created": "2008-04-30T21:41:42.259138+00:00", "date_confirmed": "2008-05-08T21:25:36.884021+00:00", "date_incomplete": null, "date_in_progress": "2008-05-13T14:30:15.776681+00:00", "date_closed": "2008-05-14T14:50:40.815199+00:00", "date_left_new": "2008-05-08T12:37:38.093420+00:00", "date_triaged": "2008-05-13T14:30:15.776681+00:00", "date_fix_committed": null, "date_fix_released": null, "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~jdstrand", "target_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/apache2", "title": "Bug #224945 in apache2 (Ubuntu): \"[SRU] memory leaks in apache2 when running mod_ssl\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/apache2/+bug/224945/related_tasks", "is_complete": true, "http_etag": "\"c77b25fbe73cb03fb850dcf04c9cae454a50d24c-e8bd3b74b0d54b242d1bed46985db548e3be3518\""}, "bugtask_data": {"262992": {"bugtask_path": "/ubuntu/intrepid/+source/openssl/+bug/224945", "bug_title": "[SRU] memory leaks in apache2 when running mod_ssl", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "openssl (Ubuntu Intrepid)", "hide_assignee_team_selection": true, "assignee_is_team": null, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/intrepid/+source/openssl/+bug/224945/+delete", "row_id": "tasksummary262992", "target_is_product": false, "id": 262992, "form_row_id": "task262992", "assignee_vocabulary_filters": [], "prefix": "ubuntu_intrepid_openssl", "importance_value": "Undecided", "status_value": "Invalid", "assignee_value": null, "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "261123": {"bugtask_path": "/ubuntu/+source/openssl/+bug/224945", "bug_title": "[SRU] memory leaks in apache2 when running mod_ssl", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "openssl (Ubuntu)", "hide_assignee_team_selection": true, "assignee_is_team": null, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/+source/openssl/+bug/224945/+delete", "row_id": "tasksummary261123", "target_is_product": false, "id": 261123, "form_row_id": "task261123", "assignee_vocabulary_filters": [], "prefix": "ubuntu_openssl", "importance_value": "Undecided", "status_value": "Invalid", "assignee_value": null, "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "256629": {"bugtask_path": "/ubuntu/+source/apache2/+bug/224945", "bug_title": "[SRU] memory leaks in apache2 when running mod_ssl", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "apache2 (Ubuntu)", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/224945/+delete", "row_id": "tasksummary256629", "target_is_product": false, "id": 256629, "form_row_id": "task256629", "assignee_vocabulary_filters": [], "prefix": "ubuntu_apache2", "importance_value": "High", "status_value": "Fix Released", "assignee_value": "pitti", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "262716": {"bugtask_path": "/ubuntu/hardy/+source/apache2/+bug/224945", "bug_title": "[SRU] memory leaks in apache2 when running mod_ssl", "user_can_delete": false, "milestone_value": "https://bugs.launchpad.net/api/devel/ubuntu/+milestone/ubuntu-8.04.1", "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "apache2 (Ubuntu Hardy)", "hide_assignee_team_selection": true, "assignee_is_team": null, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/hardy/+source/apache2/+bug/224945/+delete", "row_id": "tasksummary262716", "target_is_product": false, "id": 262716, "form_row_id": "task262716", "assignee_vocabulary_filters": [], "prefix": "ubuntu_hardy_apache2", "importance_value": "High", "status_value": "Fix Released", "assignee_value": null, "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "262717": {"bugtask_path": "/ubuntu/hardy/+source/openssl/+bug/224945", "bug_title": "[SRU] memory leaks in apache2 when running mod_ssl", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "openssl (Ubuntu Hardy)", "hide_assignee_team_selection": true, "assignee_is_team": null, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/hardy/+source/openssl/+bug/224945/+delete", "row_id": "tasksummary262717", "target_is_product": false, "id": 262717, "form_row_id": "task262717", "assignee_vocabulary_filters": [], "prefix": "ubuntu_hardy_openssl", "importance_value": "Undecided", "status_value": "Invalid", "assignee_value": null, "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "262991": {"bugtask_path": "/ubuntu/intrepid/+source/apache2/+bug/224945", "bug_title": "[SRU] memory leaks in apache2 when running mod_ssl", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "apache2 (Ubuntu Intrepid)", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/intrepid/+source/apache2/+bug/224945/+delete", "row_id": "tasksummary262991", "target_is_product": false, "id": 262991, "form_row_id": "task262991", "assignee_vocabulary_filters": [], "prefix": "ubuntu_intrepid_apache2", "importance_value": "High", "status_value": "Fix Released", "assignee_value": "pitti", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}}};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 99 queries/external actions issued in 0.89 seconds

    Features: {'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'bugs.affected_count_includes_dupes.disabled': None, 'baselayout.careers_link.disabled': None, 'js.yui_version': None, 'profiling.enabled': None, 'visible_render_time': None, 'hard_timeout': '9000', 'bugs.nominations.bug_supervisors_can_target': 'on', 'app.maintenance_message': None}

    r0d8de2b

    -->

</html>

