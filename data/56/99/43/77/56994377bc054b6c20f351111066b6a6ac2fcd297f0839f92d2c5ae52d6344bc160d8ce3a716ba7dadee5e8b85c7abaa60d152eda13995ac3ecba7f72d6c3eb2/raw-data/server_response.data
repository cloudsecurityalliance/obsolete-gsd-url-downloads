<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>Bug 781728 – Extensions enabled in screenshield if one extension fails to reload</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<link href="https://bugzilla.gnome.org/" rel="Top"/>
<link href="showdependencytree.cgi?id=781728&amp;hide_resolved=1" rel="Show" title="Dependency Tree"/>
<link href="show_bug.cgi?format=multiple&amp;id=781728" rel="Show" title="Printer-Friendly Version"/>
<link href="skins/standard/global.css" rel="alternate stylesheet" title="Classic"/><link href="js/yui/assets/skins/sam/autocomplete.css" rel="stylesheet" type="text/css"/><link href="js/yui/assets/skins/sam/calendar.css" rel="stylesheet" type="text/css"/><link href="skins/standard/global.css" rel="stylesheet" type="text/css"/><link href="skins/standard/show_bug.css" rel="stylesheet" type="text/css"/><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css" rel="stylesheet"
        type="text/css" >
<![endif]-->
<link href="skins/contrib/Gnome/global.css" rel="stylesheet" title="Gnome" type="text/css"/>
<script src="js/yui/yahoo-dom-event/yahoo-dom-event.js" type="text/javascript"></script><script src="js/yui/cookie/cookie-min.js" type="text/javascript"></script><script src="js/yui/datasource/datasource-min.js" type="text/javascript"></script><script src="js/yui/connection/connection-min.js" type="text/javascript"></script><script src="js/yui/json/json-min.js" type="text/javascript"></script><script src="js/yui/autocomplete/autocomplete-min.js" type="text/javascript"></script><script src="js/yui/calendar/calendar-min.js" type="text/javascript"></script><script src="js/global.js" type="text/javascript"></script>
<script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 50
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 781728 – Extensions enabled in screenshield if one extension fails to reload",  
                             "show_bug.cgi?id=781728" );
        document.title = "Bug 781728 – Extensions enabled in screenshield if one extension fails to reload";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 781728 – Extensions enabled in screenshield if one extension fails to reload", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script src="js/util.js" type="text/javascript"></script><script src="js/field.js" type="text/javascript"></script>
<link href="./search_plugin.cgi" rel="search" title="GNOME Bugzilla" type="application/opensearchdescription+xml"/>
<link href="images/favicon.ico" rel="shortcut icon"/><link href="extensions/TraceParser/web/style.css" rel="stylesheet" type="text/css"/>
</head>
<body class="bugzilla-gnome-org bz_bug bz_status_RESOLVED bz_product_gnome-shell bz_component_extensions bz_bug_781728 yui-skin-sam" onload="">
<div id="header">
<div id="banner">
</div>
<table border="0" cellpadding="0" cellspacing="0" id="titles">
<tr>
<td id="title">
<p>GNOME Bugzilla – Bug 781728</p>
</td>
<td id="subtitle">
<p class="subheader">Extensions enabled in screenshield if one extension fails to reload</p>
</td>
<td id="information">
<p class="header_addl_info">Last modified: 2017-07-17 11:07:39 UTC</p>
</td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" class="bz_default_hidden" id="lang_links_container"><tr><td>
</td></tr></table>
<ul class="links"><li><a href="./">Home</a></li></ul>
</div>
<div id="bugzilla-body">
<div style="margin-bottom: 50px; margin-top: 50px; padding: 40px; text-align: center; background-color: rgb(74,134,207); border: rgb(57,104,161); color: rgb(255,255,255); line-height: 300%;">After an <a href="https://wiki.gnome.org/Initiatives/DevelopmentInfrastructure" style="color: rgb(255,255,255);">evaluation</a>, GNOME has moved from Bugzilla to <a href="https://gitlab.gnome.org/" style="color: rgb(255,255,255);">GitLab</a>. <a href="https://wiki.gnome.org/GitLab" style="color: rgb(255,255,255);">Learn more about GitLab</a>. <br/><span style="background-color: #EE0000; font-size: xx-large;"><b>No new issues can be reported in GNOME Bugzilla anymore.</b></span>
<br/><span style="background-color: #EE0000; font-size: xx-large;"><b>To report an issue in a GNOME project, <a href="https://gitlab.gnome.org/GNOME" style="color: rgb(255,255,255);">go to GNOME GitLab</a></b>.</span><br/>Do <b>not</b> go to GNOME Gitlab for: <a href="https://sourceforge.net/p/bluefish/tickets" style="color: rgb(255,255,255);">Bluefish</a>, <a href="https://github.com/doxygen/doxygen/issues" style="color: rgb(255,255,255);">Doxygen</a>, <a href="https://bugs.gnucash.org/" style="color: rgb(255,255,255);">GnuCash</a>, <a href="https://gitlab.freedesktop.org/gstreamer/" style="color: rgb(255,255,255);">GStreamer</a>, <a href="https://github.com/afcowie/java-gnome/issues" style="color: rgb(255,255,255);">java-gnome</a>, <a href="https://github.com/ldtp/ldtp2/issues" style="color: rgb(255,255,255);">LDTP</a>, <a href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/issues" style="color: rgb(255,255,255);">NetworkManager</a>, <a href="https://github.com/tomboy-notes/tomboy/issues" style="color: rgb(255,255,255);">Tomboy</a>.</div>
<script type="text/javascript">
<!--

//-->
</script>
<form action="process_bug.cgi" id="changeform" method="post" name="changeform">
<input name="delta_ts" type="hidden" value="2017-07-17 11:07:39"/>
<input name="longdesclength" type="hidden" value="21"/>
<input name="id" type="hidden" value="781728"/>
<input name="token" type="hidden" value="1626120675-eBKFXa1aR9aJXznxQz9eEMAh1yp8E2h0wC5M38_ic60"/>
<div class="bz_alias_short_desc_container edit_form">
<a href="show_bug.cgi?id=781728"><b>Bug 781728</b></a> -<span class="bz_default_hidden" id="summary_alias_container"> 
        (<span id="alias_nonedit_display">CVE-2017-8288</span>) 
      <span id="short_desc_nonedit_display">Extensions enabled in screenshield if one extension fails to reload</span>
</span>
<div id="summary_alias_input">
<table id="summary">
<tr>
<td colspan="2">(CVE-2017-8288)
          </td>
</tr>
<tr><th class="field_label" id="field_label_short_desc">
<label accesskey="s" for="short_desc">
<a class="field_help_link" href="page.cgi?id=fields.html#short_desc" title="The bug summary is a short sentence which succinctly describes what the bug is about.">Summary:</a>
</label>
</th>
<td>Extensions enabled in screenshield if one extension fails to reload
          </td>
</tr>
</table>
</div>
</div>
<script type="text/javascript">
    hideAliasAndSummary('Extensions enabled in screenshield if one extension fails to reload', 'CVE-2017-8288');
  </script>
<table class="edit_form">
<tr>
<td class="bz_show_bug_column" id="bz_show_bug_column_1">
<table>
<tr>
<th class="field_label">
<a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
<td id="bz_field_status">
<span id="static_bug_status">RESOLVED
          FIXED
      </span>
</td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_product">
<a class="field_help_link" href="describecomponents.cgi" title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list.">Product:</a>
</th>
<td class="field_value" id="field_container_product">gnome-shell</td>
</tr>
<tr class="bz_default_hidden"><th class="field_label" id="field_label_classification">
<a class="field_help_link" href="page.cgi?id=fields.html#classification" title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.">Classification:</a>
</th>
<td class="field_value" id="field_container_classification">Core</td>
</tr>
<tr><th class="field_label" id="field_label_component">
<a class="field_help_link" href="describecomponents.cgi?product=gnome-shell" title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.">Component:</a>
</th>
<td class="field_value" id="field_container_component">extensions</td>
</tr>
<tr><th class="field_label" id="field_label_version">
<label for="version">
<a class="field_help_link" href="page.cgi?id=fields.html#version" title="The version field defines the version of the software the bug was found in.">Version:</a>
</label>
</th>
<td>3.22.x
  </td>
</tr>
<tr><th class="field_label" id="field_label_rep_platform">
<label accesskey="h" for="rep_platform">
<a class="field_help_link" href="page.cgi?id=fields.html#rep_platform" title='The hardware platform the bug was observed on. Note: When searching, selecting the option "All" only finds bugs whose value for this field is literally the word "All".'>Hardware:</a>
</label>
</th>
<td class="field_value">Other
       Linux
      </td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr>
<th class="field_label">
<label accesskey="i" for="priority">
<a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
<td>Normal
       critical
      </td>
</tr>
<tr>
<th class="field_label">
<label for="target_milestone">
<a href="page.cgi?id=fields.html#target_milestone">
            Target Milestone</a></label>:
        </th><td>---
  </td>
</tr>
<tr>
<th class="field_label">
<a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
<td><span class="vcard">gnome-shell-maint
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_qa_contact">
<label accesskey="q" for="qa_contact">
<a class="field_help_link" href="page.cgi?id=fields.html#qa_contact" title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.">QA Contact:</a>
</label>
</th>
<td><span class="vcard">gnome-shell-maint
</span>
</td>
</tr>
<script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'gnome-shell-maint\x40gnome.bugs',
        'gnome-shell-maint\x40gnome.bugs');
    </script>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_bug_file_loc">
<label accesskey="u" for="bug_file_loc">
<a class="field_help_link" href="page.cgi?id=fields.html#bug_file_loc" title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.">URL:</a>
</label>
</th>
<td>
<span id="bz_url_input_area">
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_status_whiteboard">
<label accesskey="w" for="status_whiteboard">
<a class="field_help_link" href="page.cgi?id=fields.html#status_whiteboard" title="Each bug has a free-form single line text entry box for adding tags and status information.">Whiteboard:</a>
</label>
</th><td colspan="2">
</td>
</tr>

<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_dependson">
<a class="field_help_link" href="page.cgi?id=fields.html#dependson" title="The bugs listed here must be resolved before this bug can be resolved.">Depends on:</a>
</th>
<td>
<span id="dependson_input_area">
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_blocked">
<a class="field_help_link" href="page.cgi?id=fields.html#blocked" title="This bug must be resolved before the bugs listed in this field can be resolved.">Blocks:</a>
</th>
<td>
<span id="blocked_input_area">
</span>
</td>
</tr>
<tr>
<th> </th>

</tr>
</table>
</td>
<td>
<div class="bz_column_spacer"> </div>
</td>
<td class="bz_show_bug_column" id="bz_show_bug_column_2">
<table cellpadding="3" cellspacing="1">
<tr>
<th class="field_label">
      Reported:
    </th>
<td>2017-04-25 15:50 UTC by <span class="vcard"><span class="fn">Emilio Pozuelo Monfort</span>
</span>
</td>
</tr>
<tr>
<th class="field_label">
      Modified:
    </th>
<td>2017-07-17 11:07 UTC 
    </td>
</tr>

<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_see_also">
<a class="field_help_link" href="page.cgi?id=fields.html#see_also" title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.">See Also:</a>
</th>
<td class="field_value" id="field_container_see_also"></td>
</tr>
<tr><th class="field_label" id="field_label_cf_gnome_target">
<a class="field_help_link" href="page.cgi?id=fields.html#cf_gnome_target" title="A custom Drop Down field in this installation of GNOME Bugzilla.">GNOME target:</a>
</th>
<td class="field_value" colspan="2" id="field_container_cf_gnome_target">---</td>
</tr>
<tr><th class="field_label" id="field_label_cf_gnome_version">
<a class="field_help_link" href="page.cgi?id=fields.html#cf_gnome_version" title="A custom Drop Down field in this installation of GNOME Bugzilla.">GNOME version:</a>
</th>
<td class="field_value" colspan="2" id="field_container_cf_gnome_version">---</td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="3">
<hr id="bz_top_half_spacer"/>
</td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" id="bz_big_form_parts"><tr>
<td>
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>
<br/>
<table cellpadding="4" cellspacing="0" id="attachment_table">
<tr id="a0">
<th align="left" colspan="3">
      Attachments
    </th>
</tr>
<tr class="bz_contenttype_text_plain bz_patch" id="a1">
<td valign="top">
<a href="attachment.cgi?id=350411" title="View the content of the attachment">
<b>extensionSystem: handle reloading broken extensions</b></a>
<span class="bz_attach_extra_info">
              (1.47 KB,
                patch)

            <br/>
<a href="#attach_350411" title="Go to the comment associated with the attachment">2017-04-25 15:51 UTC</a>,

            <span class="vcard"><span class="fn">Emilio Pozuelo Monfort</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">committed
          </td>
<td valign="top">
<a href="attachment.cgi?id=350411&amp;action=edit">Details</a>  |
    <a href="review?bug=781728&amp;attachment=350411">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch" id="a2">
<td valign="top">
<a href="attachment.cgi?id=352173" title="View the content of the attachment">
<b>Revert "extensionSystem: handle reloading broken extensions"</b></a>
<span class="bz_attach_extra_info">
              (1.54 KB,
                patch)

            <br/>
<a href="#attach_352173" title="Go to the comment associated with the attachment">2017-05-19 17:17 UTC</a>,

            <span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">committed
          </td>
<td valign="top">
<a href="attachment.cgi?id=352173&amp;action=edit">Details</a>  |
    <a href="review?bug=781728&amp;attachment=352173">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch" id="a3">
<td valign="top">
<a href="attachment.cgi?id=352174" title="View the content of the attachment">
<b>extensions: Consistently handle createExtenionObject() errors</b></a>
<span class="bz_attach_extra_info">
              (2.75 KB,
                patch)

            <br/>
<a href="#attach_352174" title="Go to the comment associated with the attachment">2017-05-19 17:17 UTC</a>,

            <span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">committed
          </td>
<td valign="top">
<a href="attachment.cgi?id=352174&amp;action=edit">Details</a>  |
    <a href="review?bug=781728&amp;attachment=352174">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch" id="a4">
<td valign="top">
<a href="attachment.cgi?id=352175" title="View the content of the attachment">
<b>extensionSystem: Catch import errors</b></a>
<span class="bz_attach_extra_info">
              (1.12 KB,
                patch)

            <br/>
<a href="#attach_352175" title="Go to the comment associated with the attachment">2017-05-19 17:17 UTC</a>,

            <span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">committed
          </td>
<td valign="top">
<a href="attachment.cgi?id=352175&amp;action=edit">Details</a>  |
    <a href="review?bug=781728&amp;attachment=352175">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden" id="a5">
<td valign="top">
<a href="attachment.cgi?id=352176" title="View the content of the attachment">
<b><span class="bz_obsolete">extensionSystem: Consistently handle initExtension() errors</span></b></a>
<span class="bz_attach_extra_info">
              (1.39 KB,
                patch)

            <br/>
<a href="#attach_352176" title="Go to the comment associated with the attachment">2017-05-19 17:17 UTC</a>,

            <span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">none
          </td>
<td valign="top">
<a href="attachment.cgi?id=352176&amp;action=edit">Details</a>  |
    <a href="review?bug=781728&amp;attachment=352176">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch" id="a6">
<td valign="top">
<a href="attachment.cgi?id=355745" title="View the content of the attachment">
<b>extensionSystem: Handle all initExtension() extension errors</b></a>
<span class="bz_attach_extra_info">
              (1.39 KB,
                patch)

            <br/>
<a href="#attach_355745" title="Go to the comment associated with the attachment">2017-07-17 11:05 UTC</a>,

            <span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">committed
          </td>
<td valign="top">
<a href="attachment.cgi?id=355745&amp;action=edit">Details</a>  |
    <a href="review?bug=781728&amp;attachment=355745">Review</a>
</td>
</tr>

</table>
<br/>
</td>
<td>
</td>
</tr></table>
<div id="comments"><script src="js/comments.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>
<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table cellpadding="0" cellspacing="0" class="bz_comment_table"><tr>
<td>
<div class="bz_comment bz_first_comment" id="c0">
<div class="bz_first_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c0">Description</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Emilio Pozuelo Monfort</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-04-25 15:50:40 UTC
        </span>
</div>
<pre class="bz_comment_text">Hi,

It is possible to get extensions enabled in the screenshield if one extension failed to reload. To trigger this bug, you need to:

- have one extension that fails to reload
- have other extensions enabled. order of the enabled-extensions key matters
- change disable-extension-version-validation to trigger a call to _onVersionValidationChanged()

_onVersionValidationChanged() doesn't handle exceptions to enableExtension(), which can happen with some extensions that fail to reload. One example is the EasyScreenCast extension before I fixed it, see:

<a href="https://github.com/EasyScreenCast/EasyScreenCast/issues/46">https://github.com/EasyScreenCast/EasyScreenCast/issues/46</a>
<a href="https://github.com/EasyScreenCast/EasyScreenCast/pull/131">https://github.com/EasyScreenCast/EasyScreenCast/pull/131</a>

If you have that extension installed (a broken version of it, that is), and trigger a _onVersionValidationChanged() you'll get:

Apr 25 17:12:12 tatooine gnome-shell[5006]: JS ERROR: Error: Type name EasyScreenCastSettingsWidget is already registered
                                            GObjectMeta&lt;._construct@resource:///org/gnome/gjs/modules/overrides/GObject.js:145
                                            wrapper@resource:///org/gnome/gjs/modules/lang.js:178
                                            Class.prototype._construct/newClass@resource:///org/gnome/gjs/modules/lang.js:213
                                            @/home/emilio/.local/share/gnome-shell/extensions/<a href="mailto:EasyScreenCast@iacopodeenosee.gmail.com">EasyScreenCast@iacopodeenosee.gmail.com</a>/prefs.js:633
                                            @/home/emilio/.local/share/gnome-shell/extensions/<a href="mailto:EasyScreenCast@iacopodeenosee.gmail.com">EasyScreenCast@iacopodeenosee.gmail.com</a>/convenience.js:35
                                            @/home/emilio/.local/share/gnome-shell/extensions/<a href="mailto:EasyScreenCast@iacopodeenosee.gmail.com">EasyScreenCast@iacopodeenosee.gmail.com</a>/extension.js:34
                                            initExtension@resource:///org/gnome/shell/ui/extensionSystem.js:220
                                            enableExtension@resource:///org/gnome/shell/ui/extensionSystem.js:109
                                            _onVersionValidationChanged/&lt;@resource:///org/gnome/shell/ui/extensionSystem.js:284
                                            _onVersionValidationChanged@resource:///org/gnome/shell/ui/extensionSystem.js:283


Then if you lock and unlock your screen, you'll get:

Apr 25 17:12:27 tatooine gnome-shell[5006]: JS ERROR: Exception in callback for signal: updated: Error: Type name EasyScreenCastSettingsWidget is already registered
                                            GObjectMeta&lt;._construct@resource:///org/gnome/gjs/modules/overrides/GObject.js:145
                                            wrapper@resource:///org/gnome/gjs/modules/lang.js:178
                                            Class.prototype._construct/newClass@resource:///org/gnome/gjs/modules/lang.js:213
                                            @/home/emilio/.local/share/gnome-shell/extensions/<a href="mailto:EasyScreenCast@iacopodeenosee.gmail.com">EasyScreenCast@iacopodeenosee.gmail.com</a>/prefs.js:633
                                            @/home/emilio/.local/share/gnome-shell/extensions/<a href="mailto:EasyScreenCast@iacopodeenosee.gmail.com">EasyScreenCast@iacopodeenosee.gmail.com</a>/convenience.js:35
                                            @/home/emilio/.local/share/gnome-shell/extensions/<a href="mailto:EasyScreenCast@iacopodeenosee.gmail.com">EasyScreenCast@iacopodeenosee.gmail.com</a>/extension.js:34
                                            initExtension@resource:///org/gnome/shell/ui/extensionSystem.js:220
                                            enableExtension@resource:///org/gnome/shell/ui/extensionSystem.js:109
                                            enableAllExtensions/&lt;@resource:///org/gnome/shell/ui/extensionSystem.js:311
                                            enableAllExtensions@resource:///org/gnome/shell/ui/extensionSystem.js:310
                                            _sessionUpdated@resource:///org/gnome/shell/ui/extensionSystem.js:338
                                            _emit@resource:///org/gnome/gjs/modules/signals.js:124
                                            SessionMode&lt;._sync@resource:///org/gnome/shell/ui/sessionMode.js:205
                                            wrapper@resource:///org/gnome/gjs/modules/lang.js:178
                                            SessionMode&lt;.popMode@resource:///org/gnome/shell/ui/sessionMode.js:174
                                            wrapper@resource:///org/gnome/gjs/modules/lang.js:178
                                            ScreenShield&lt;._continueDeactivate@resource:///org/gnome/shell/ui/screenShield.js:1200
                                            wrapper@resource:///org/gnome/gjs/modules/lang.js:178
                                            ScreenShield&lt;.deactivate/&lt;@resource:///org/gnome/shell/ui/screenShield.js:1185
                                            AuthPrompt&lt;.finish@resource:///org/gnome/shell/gdm/authPrompt.js:506
                                            wrapper@resource:///org/gnome/gjs/modules/lang.js:178
                                            UnlockDialog&lt;.finish@resource:///org/gnome/shell/ui/unlockDialog.js:147
                                            wrapper@resource:///org/gnome/gjs/modules/lang.js:178
                                            ScreenShield&lt;.deactivate@resource:///org/gnome/shell/ui/screenShield.js:1184
                                            wrapper@resource:///org/gnome/gjs/modules/lang.js:178
                                            ScreenShield&lt;._init/&lt;/&lt;@resource:///org/gnome/shell/ui/screenShield.js:536
                                            _emit@resource:///org/gnome/gjs/modules/signals.js:124
                                            _convertToNativeSignal@resource:///org/gnome/gjs/modules/overrides/Gio.js:129


That first time, the lock screen is fine, i.e. there are no extensions enabled. However if you lock it again, you'll finally get the other extensions enabled on the screenshield. If one of those extensions is e.g. the applications menu, you can start any program from there.

I have come up with a patch that solves this, though I'm not entirely sure of how getting the exception in _onVersionValidationChanged() leads to all this. Perhaps someone more familiar with all this can double check this. I'm not sure if we should catch exceptions in other places, e.g. in disableAllExtensions(). Perhaps we should to be on the safe side, though this patch is sufficient to fix this bug here... Patch coming in a moment.

BTW all this is with gnome-shell 3.22.3. I haven't tried with a newer version, though the extensionSystem.js hasn't changed much, so this likely affects newer versions.</pre>
</div><div class="bz_comment" id="c1">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c1">Comment 1</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Emilio Pozuelo Monfort</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-04-25 15:51:38 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=350411" name="attach_350411" title="extensionSystem: handle reloading broken extensions">attachment 350411</a> <a href="attachment.cgi?id=350411&amp;action=edit" title="extensionSystem: handle reloading broken extensions">[details]</a></span> <a href="review?bug=781728&amp;attachment=350411">[review]</a>
extensionSystem: handle reloading broken extensions</pre>
</div><div class="bz_comment" id="c2">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c2">Comment 2</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Emilio Pozuelo Monfort</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-04-25 15:52:48 UTC
        </span>
</div>
<pre class="bz_comment_text">FWIW this was initially seen in Kali (<a href="https://bugs.kali.org/view.php?id=2513">https://bugs.kali.org/view.php?id=2513</a>) but I can reproduce it on Debian sid as well.</pre>
</div><div class="bz_comment" id="c3">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c3">Comment 3</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-04-25 16:29:58 UTC
        </span>
</div>
<pre class="bz_comment_text">Review of <span class=""><a href="attachment.cgi?id=350411" name="attach_350411" title="extensionSystem: handle reloading broken extensions">attachment 350411</a> <a href="attachment.cgi?id=350411&amp;action=edit" title="extensionSystem: handle reloading broken extensions">[details]</a></span> <a href="review?bug=781728&amp;attachment=350411">[review]</a>:

LGTM</pre>
</div><div class="bz_comment" id="c4">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c4">Comment 4</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Emilio Pozuelo Monfort</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-04-25 17:44:36 UTC
        </span>
</div>
<pre class="bz_comment_text">Thanks, pushed.

To ssh://git.gnome.org/git/gnome-shell
   9a65f20d9..ff425d1db  master -&gt; master</pre>
</div><div class="bz_comment" id="c5">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c5">Comment 5</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Emilio Pozuelo Monfort</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-04-27 08:05:24 UTC
        </span>
</div>
<pre class="bz_comment_text">For the record, this has been assigned CVE-2017-8288.</pre>
</div><div class="bz_comment" id="c6">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c6">Comment 6</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-05-19 17:16:32 UTC
        </span>
</div>
<pre class="bz_comment_text">So I took another look at this, and concluded that the commit patch is more of a workaround than a fix (see the reasoning in the upcoming patch). Unfortunately I'm unable to reproduce the original problem, so I'm attaching some patches in the hope that someone else can confirm that they address the issue as well ...</pre>
</div><div class="bz_comment" id="c7">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c7">Comment 7</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-05-19 17:17:06 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=352173" name="attach_352173" title='Revert "extensionSystem: handle reloading broken extensions"'>attachment 352173</a> <a href="attachment.cgi?id=352173&amp;action=edit" title='Revert "extensionSystem: handle reloading broken extensions"'>[details]</a></span> <a href="review?bug=781728&amp;attachment=352173">[review]</a>
Revert "extensionSystem: handle reloading broken extensions"

Both reloadExtensions() and enableExtensions() are already expected
to catch extension errors. If they don't, this is the bug that
should be fixed instead of catching unhandled exceptions in the
caller.

This reverts commit <a href="https://git.gnome.org/browse/gnome-shell/commit/?id=ff425d1db7082e2755d2a405af53861552acf2a1">ff425d1db7082e2755d2a405af53861552acf2a1</a>.</pre>
</div><div class="bz_comment" id="c8">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c8">Comment 8</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-05-19 17:17:20 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=352174" name="attach_352174" title="extensions: Consistently handle createExtenionObject() errors">attachment 352174</a> <a href="attachment.cgi?id=352174&amp;action=edit" title="extensions: Consistently handle createExtenionObject() errors">[details]</a></span> <a href="review?bug=781728&amp;attachment=352174">[review]</a>
extensions: Consistently handle createExtenionObject() errors

The method may throw an error, for example when metadata.json is
missing or cannot be parsed, however we are currently not always
handling it.</pre>
</div><div class="bz_comment" id="c9">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c9">Comment 9</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-05-19 17:17:44 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=352175" name="attach_352175" title="extensionSystem: Catch import errors">attachment 352175</a> <a href="attachment.cgi?id=352175&amp;action=edit" title="extensionSystem: Catch import errors">[details]</a></span> <a href="review?bug=781728&amp;attachment=352175">[review]</a>
extensionSystem: Catch import errors

While we catch errors that occur when calling init(), enable() or
disable(), the import itself can throw an exception, for instance
if the extension imports an unavailable typelib or tries to draw
in a conflicting library.</pre>
</div><div class="bz_comment" id="c10">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c10">Comment 10</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-05-19 17:17:54 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=352176" name="attach_352176" title="extensionSystem: Consistently handle initExtension() errors">attachment 352176</a> <a href="attachment.cgi?id=352176&amp;action=edit" title="extensionSystem: Consistently handle initExtension() errors">[details]</a></span> <a href="review?bug=781728&amp;attachment=352176">[review]</a>
extensionSystem: Consistently handle initExtension() errors

The method currently catches errors that occur when calling the
extension's init() method, but throws itself an error if the
expected extension.js file is missing. The former is pointless
if we expect all callers to handle errors themselves anyway, and
we should avoid the latter if we don't - opt for the second option
and handle a missing extension.js file gracefully.</pre>
</div><div class="bz_comment" id="c11">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c11">Comment 11</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Carlos Garnacho</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-07-13 12:41:42 UTC
        </span>
</div>
<pre class="bz_comment_text">Comment on <span class=""><a href="attachment.cgi?id=352173" name="attach_352173" title='Revert "extensionSystem: handle reloading broken extensions"'>attachment 352173</a> <a href="attachment.cgi?id=352173&amp;action=edit" title='Revert "extensionSystem: handle reloading broken extensions"'>[details]</a></span> <a href="review?bug=781728&amp;attachment=352173">[review]</a>
Revert "extensionSystem: handle reloading broken extensions"

I agree on the workaround nature, but would it perhaps be better to change the logged error to something around the "exception caught while reloading extension, this is a gnome-shell bug" lines?

The try/catch block here caters for present (not anymore soon!) and future screwups. If this happens, it is indeed a bug and should be fixed asap, but IMHO sounds better not to let that turn into another CVE :).</pre>
</div><div class="bz_comment" id="c12">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c12">Comment 12</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-07-13 13:18:51 UTC
        </span>
</div>
<pre class="bz_comment_text">(In reply to Carlos Garnacho from <a href="show_bug.cgi?id=781728#c11">comment #11</a>)
<span class="quote">&gt; I agree on the workaround nature, but would it perhaps be better to change
&gt; the logged error to something around the "exception caught while reloading
&gt; extension, this is a gnome-shell bug" lines?</span>

Dunno. If we keep catching errors here, then we should also guard against the same error elsewhere (for instance when triggered from `gnome-shell-extension-prefs --reload`). And as errors in reloadExtension() essentially boil down to an error in disableExtension() or enableExtension(), we'd have to guard all those calls as well. I'm not overly keen on spreading try/catch blocks all over the place, but it's certainly a valid position. However keeping just this particular error handling because someone happened to stamp a CVE on it really seems silly ...</pre>
</div><div class="bz_comment" id="c13">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c13">Comment 13</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Carlos Garnacho</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-07-13 13:43:01 UTC
        </span>
</div>
<pre class="bz_comment_text">Comment on <span class=""><a href="attachment.cgi?id=352174" name="attach_352174" title="extensions: Consistently handle createExtenionObject() errors">attachment 352174</a> <a href="attachment.cgi?id=352174&amp;action=edit" title="extensions: Consistently handle createExtenionObject() errors">[details]</a></span> <a href="review?bug=781728&amp;attachment=352174">[review]</a>
extensions: Consistently handle createExtenionObject() errors

Looks good! btw, typo in log summary, "Extenion" :)</pre>
</div><div class="bz_comment" id="c14">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c14">Comment 14</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Carlos Garnacho</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-07-13 13:43:12 UTC
        </span>
</div>
<pre class="bz_comment_text">Comment on <span class=""><a href="attachment.cgi?id=352175" name="attach_352175" title="extensionSystem: Catch import errors">attachment 352175</a> <a href="attachment.cgi?id=352175&amp;action=edit" title="extensionSystem: Catch import errors">[details]</a></span> <a href="review?bug=781728&amp;attachment=352175">[review]</a>
extensionSystem: Catch import errors

Makes total sense.</pre>
</div><div class="bz_comment" id="c15">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c15">Comment 15</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Carlos Garnacho</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-07-13 13:45:08 UTC
        </span>
</div>
<pre class="bz_comment_text">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=352176" name="attach_352176" title="extensionSystem: Consistently handle initExtension() errors">attachment 352176</a> <a href="attachment.cgi?id=352176&amp;action=edit" title="extensionSystem: Consistently handle initExtension() errors">[details]</a></span> <a href="review?bug=781728&amp;attachment=352176">[review]</a>
extensionSystem: Consistently handle initExtension() errors

The code change and the rationale in the commit log make sense, but the "throw new error" right above in the patch context kinda defeats my sense of "consistent" :/</pre>
</div><div class="bz_comment" id="c16">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c16">Comment 16</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-07-13 14:33:20 UTC
        </span>
</div>
<pre class="bz_comment_text">(In reply to Carlos Garnacho from <a href="show_bug.cgi?id=781728#c13">comment #13</a>)
<span class="quote">&gt; Looks good! btw, typo in log summary, "Extenion" :)</span>

Gah, fixed locally.


(In reply to Carlos Garnacho from <a href="show_bug.cgi?id=781728#c15">comment #15</a>)
<span class="quote">&gt; the "throw new error" right above in the patch context kinda defeats my sense 
&gt; of "consistent" :/</span>

Mmh, I can see that. The reasoning for not touching that code is that it's not an error that can be triggered by an extension, but only by a bug in the extension system itself. Still, might be a good idea to turn that into a log warning as well and just return normally ...</pre>
</div><div class="bz_comment" id="c17">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c17">Comment 17</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Carlos Garnacho</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-07-13 14:47:17 UTC
        </span>
</div>
<pre class="bz_comment_text">(In reply to Florian Müllner from <a href="show_bug.cgi?id=781728#c12">comment #12</a>)
<span class="quote">&gt; (In reply to Carlos Garnacho from <a href="show_bug.cgi?id=781728#c11">comment #11</a>)
&gt; &gt; I agree on the workaround nature, but would it perhaps be better to change
&gt; &gt; the logged error to something around the "exception caught while reloading
&gt; &gt; extension, this is a gnome-shell bug" lines?
&gt; 
&gt; Dunno. If we keep catching errors here, then we should also guard against
&gt; the same error elsewhere (for instance when triggered from
&gt; `gnome-shell-extension-prefs --reload`). And as errors in reloadExtension()</span>

Fair enough.

<span class="quote">&gt; essentially boil down to an error in disableExtension() or
&gt; enableExtension(), we'd have to guard all those calls as well. I'm not
&gt; overly keen on spreading try/catch blocks all over the place, but it's
&gt; certainly a valid position. However keeping just this particular error
&gt; handling because someone happened to stamp a CVE on it really seems silly ...</span>

Your call :), I get your point, and I like neat code too. I just thought it's actually not that bad as a safety net (because decisions and code direction get hazy over the years), but it's indeed a too specific place for it to be.

(In reply to Florian Müllner from <a href="show_bug.cgi?id=781728#c16">comment #16</a>)
<span class="quote">&gt; (In reply to Carlos Garnacho from <a href="show_bug.cgi?id=781728#c15">comment #15</a>)
&gt; &gt; the "throw new error" right above in the patch context kinda defeats my sense 
&gt; &gt; of "consistent" :/
&gt; 
&gt; Mmh, I can see that. The reasoning for not touching that code is that it's
&gt; not an error that can be triggered by an extension, but only by a bug in the
&gt; extension system itself. Still, might be a good idea to turn that into a log
&gt; warning as well and just return normally ...</span>

Right, makes some sense to keep that as an error then... maybe the log summary just needs a s/errors/extension errors/ to lower my brow :)</pre>
</div><div class="bz_comment" id="c18">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c18">Comment 18</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-07-17 11:04:59 UTC
        </span>
</div>
<pre class="bz_comment_text">Comment on <span class=""><a href="attachment.cgi?id=350411" name="attach_350411" title="extensionSystem: handle reloading broken extensions">attachment 350411</a> <a href="attachment.cgi?id=350411&amp;action=edit" title="extensionSystem: handle reloading broken extensions">[details]</a></span> <a href="review?bug=781728&amp;attachment=350411">[review]</a>
extensionSystem: handle reloading broken extensions

<span class=""><a href="attachment.cgi?id=350411" name="attach_350411" title="extensionSystem: handle reloading broken extensions">Attachment 350411</a> <a href="attachment.cgi?id=350411&amp;action=edit" title="extensionSystem: handle reloading broken extensions">[details]</a></span> pushed as <a href="https://git.gnome.org/browse/gnome-shell/commit/?id=ff425d1">ff425d1</a> - extensionSystem: handle reloading broken extensions</pre>
</div><div class="bz_comment" id="c19">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c19">Comment 19</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-07-17 11:05:51 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=355745" name="attach_355745" title="extensionSystem: Handle all initExtension() extension errors">attachment 355745</a> <a href="attachment.cgi?id=355745&amp;action=edit" title="extensionSystem: Handle all initExtension() extension errors">[details]</a></span> <a href="review?bug=781728&amp;attachment=355745">[review]</a>
extensionSystem: Handle all initExtension() extension errors

Updated the commit message to not imply that non-extension errors were handled as well.</pre>
</div><div class="bz_comment" id="c20">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=781728#c20">Comment 20</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2017-07-17 11:06:49 UTC
        </span>
</div>
<pre class="bz_comment_text"><span class=""><a href="attachment.cgi?id=352173" name="attach_352173" title='Revert "extensionSystem: handle reloading broken extensions"'>Attachment 352173</a> <a href="attachment.cgi?id=352173&amp;action=edit" title='Revert "extensionSystem: handle reloading broken extensions"'>[details]</a></span> pushed as <a href="https://git.gnome.org/browse/gnome-shell/commit/?id=8d6efde">8d6efde</a> - Revert "extensionSystem: handle reloading broken extensions"
<span class=""><a href="attachment.cgi?id=352175" name="attach_352175" title="extensionSystem: Catch import errors">Attachment 352175</a> <a href="attachment.cgi?id=352175&amp;action=edit" title="extensionSystem: Catch import errors">[details]</a></span> pushed as <a href="https://git.gnome.org/browse/gnome-shell/commit/?id=d461d02">d461d02</a> - extensionSystem: Catch import errors
<span class=""><a href="attachment.cgi?id=355745" name="attach_355745" title="extensionSystem: Handle all initExtension() extension errors">Attachment 355745</a> <a href="attachment.cgi?id=355745&amp;action=edit" title="extensionSystem: Handle all initExtension() extension errors">[details]</a></span> pushed as <a href="https://git.gnome.org/browse/gnome-shell/commit/?id=e845f41">e845f41</a> - extensionSystem: Handle all initExtension() extension errors</pre>
</div>
<script type="text/javascript">
  function traceparser_toggle_trace(link, trace_id) {
    var trace = document.getElementById('trace_' + trace_id);
    bz_toggleClass(trace, 'bz_default_hidden');
    if (link.innerHTML == '+') { link.innerHTML = '&mdash;'; }
    else { link.innerHTML = '+'; }
  }
</script>
</td>
<td>
</td>
</tr></table>
</div>
<hr/>
</form>
<hr/>

<br/>
</div>
<div id="footer">
<div class="intro"></div>
<ul id="useful-links">
<li id="links-actions"><ul class="links">
<li><a href="./">Home</a></li>
<li><span class="separator">| </span><span style="text-decoration:line-through"><a href="">New</a></span></li>
<li><span class="separator">| </span><a href="page.cgi?id=browse.html&amp;product=gnome-shell">Browse</a></li>
<li><span class="separator">| </span><a href="query.cgi">Search</a></li>
<li class="form">
<span class="separator">| </span>
<form action="buglist.cgi" method="get" onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
<input id="no_redirect_bottom" name="no_redirect" type="hidden" value="0"/>
<script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
<input class="txt" id="quicksearch_bottom" name="quicksearch" title="Quick Search" type="text" value=""/>
<input class="btn" id="find_bottom" type="submit" value="Search"/></form>
<a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>
<li><span class="separator">| </span><a href="page.cgi?id=reports.html">Reports</a></li>
<li>
<span class="separator">| </span>
<a href="http://www.bugzilla.org/docs/4.4/en/html/bug_page.html" target="_blank">Help</a>
</li>
<li id="mini_login_container_bottom">
<span class="separator">| </span>
<a href="show_bug.cgi?id=781728&amp;GoAheadAndLogIn=1" id="login_link_bottom" onclick="return show_mini_login_form('_bottom')">Log In</a>
<form action="show_bug.cgi?id=781728" class="mini_login bz_default_hidden" id="mini_login_bottom" method="POST" onsubmit="return check_mini_login_fields( '_bottom' );">
<input class="bz_login" id="Bugzilla_login_bottom" name="Bugzilla_login" onfocus="mini_login_on_focus('_bottom')" title="Login"/>
<input class="bz_password" id="Bugzilla_password_bottom" name="Bugzilla_password" title="Password" type="password"/>
<input class="bz_password bz_default_hidden bz_mini_login_help" id="Bugzilla_password_dummy_bottom" onfocus="mini_login_on_focus('_bottom')" title="Password" type="text" value="password"/>
<input checked="" class="bz_remember" id="Bugzilla_remember_bottom" name="Bugzilla_remember" type="checkbox" value="on"/>
<label for="Bugzilla_remember_bottom">Remember</label>
<input name="Bugzilla_login_token" type="hidden" value=""/>
<input id="log_in_bottom" name="GoAheadAndLogIn" type="submit" value="Log in"/>
<script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_bottom');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_bottom');
              }, 200);
          });
    }
    </script>
<a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
</form>
</li>
<li id="forgot_container_bottom">
<span class="separator">| </span>
<a href="show_bug.cgi?id=781728&amp;GoAheadAndLogIn=1#forgot" id="forgot_link_bottom" onclick="return show_forgot_form('_bottom')">Forgot Password</a>
<form action="token.cgi" class="mini_forgot bz_default_hidden" id="forgot_form_bottom" method="post">
<label for="login_bottom">Login:</label>
<input id="login_bottom" name="loginname" size="20" type="text"/>
<input id="forgot_button_bottom" type="submit" value="Reset Password"/>
<input name="a" type="hidden" value="reqpw"/>
<input id="token_bottom" name="token" type="hidden" value="1626120675-OSAh3BN17ELzwhPQSekwymWrL3RoLAZEjCxhVMD2cpA"/>
<a href="#" onclick="return hide_forgot_form('_bottom')">[x]</a>
</form>
</li>
</ul>
</li>
</ul>
<div class="outro"></div>
</div>
</body>
</html>