<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Security Releases for Phoenix - Phoenix News - Elixir Programming Language Forum</title>
    <meta name="description" content="A minor vulnerability has been disclosed for applications redirecting to URLs provided by user input. Only applications passing user input to Phoenix.Controller.redirect/2 are affected. For example, code such as the foll&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta7 - https://github.com/discourse/discourse version 0f0388437557553c2e28c04c471e997ff5fe645c">
<link rel="icon" type="image/png" href="https://elixirforum.com/uploads/default/optimized/1X/4310e7de671d4920800063776e9b1f6dc268c692_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="https://elixirforum.com/uploads/default/optimized/2X/4/457566b7009507e9265f01af98b7c03e9f4ad0fa_2_180x180.png">
<meta name="theme-color" content="#EDEBED">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://elixirforum.com/t/security-releases-for-phoenix/4143" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://elixirforum.com","potentialAction":{"@type":"SearchAction","target":"https://elixirforum.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://elixirforum.com/opensearch.xml" title="Elixir Programming Language Forum Search">

      <link href="/stylesheets/desktop_06352fa26f4530f2ce7428c37d06774264c365ca.css?__ws=elixirforum.com" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="/stylesheets/desktop_theme_43_fe5b6a093c5c8d9b3082ec6ac63b3fe08e084e08.css?__ws=elixirforum.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="43" data-theme-name="nav links component"/>
<link href="/stylesheets/desktop_theme_38_748088c76e9593be855905260c60ed0efd1ef4ca.css?__ws=elixirforum.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="38" data-theme-name="ef v6"/>
    
<script src="/theme-javascripts/8662d42cdfa5ebc7266f7b8ebde5a2f35f4ffc94.js?__ws=elixirforum.com"></script>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Security Releases for Phoenix&#39;" href="https://elixirforum.com/t/security-releases-for-phoenix/4143.rss" />
    <meta property="og:site_name" content="Elixir Programming Language Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://elixirforum.com/uploads/default/original/2X/3/301658d2571b34804e642eb7a28976609422ac3b.png" />
<meta property="og:image" content="https://elixirforum.com/uploads/default/original/2X/3/301658d2571b34804e642eb7a28976609422ac3b.png" />
<meta property="og:url" content="https://elixirforum.com/t/security-releases-for-phoenix/4143" />
<meta name="twitter:url" content="https://elixirforum.com/t/security-releases-for-phoenix/4143" />
<meta property="og:title" content="Security Releases for Phoenix" />
<meta name="twitter:title" content="Security Releases for Phoenix" />
<meta property="og:description" content="A minor vulnerability has been disclosed for applications redirecting to URLs provided by user input. Only applications passing user input to Phoenix.Controller.redirect/2 are affected. For example, code such as the following is vulnerable to this disclosure:  redirect(conn, to: params[&quot;redirect&quot;])       We have released new Phoenix versions v1.0.6, v1.1.8, v1.2.3, and v1.3.0-rc.1 which addresses this issue. If you are unable to upgrade, a fix to use in your own application can be found below.  D..." />
<meta name="twitter:description" content="A minor vulnerability has been disclosed for applications redirecting to URLs provided by user input. Only applications passing user input to Phoenix.Controller.redirect/2 are affected. For example, code such as the following is vulnerable to this disclosure:  redirect(conn, to: params[&quot;redirect&quot;])       We have released new Phoenix versions v1.0.6, v1.1.8, v1.2.3, and v1.3.0-rc.1 which addresses this issue. If you are unable to upgrade, a fix to use in your own application can be found below.  D..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="17 ‚ù§" />
<meta property="article:published_time" content="2017-03-14T21:17:35+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    <div id="top-navbar" class="above-navbar">
    <div class="ef-wrapper">
<div class="header-forums-menu">
  <ul>
    <!--<li class="ui-elixir-forum"><a title="Elixir Forum" href="http://elixirforum.com"></a></li>-->
  </ul>
</div>
    </div>
</div>


<script src="/theme-javascripts/15f67482d72c537b88dc012a3b053912d910e15d.js?__ws=elixirforum.com"></script>
    <header>
      <a href="/">
          <img src="https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png" alt="Elixir Programming Language Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="/t/security-releases-for-phoenix/4143">Security Releases for Phoenix</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://elixirforum.com/c/phoenix-forum/20" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #FF6A18'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Phoenix Forum</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://elixirforum.com/c/phoenix-forum/phoenix-news/52" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #FF6A18'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Phoenix News</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='https://elixirforum.com/tag/phoenix-security' class='discourse-tag' rel="tag">phoenix-security</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/chrismccord'><span itemprop='name'>chrismccord</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/security-releases-for-phoenix/4143">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-14T21:17:35Z' class='post-time'>
                March 14, 2017,  9:17pm
              </time>
              <meta itemprop='dateModified' content='2017-03-14T21:17:35Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>A minor vulnerability has been disclosed for applications redirecting to URLs provided by user input. Only applications passing user input to <code>Phoenix.Controller.redirect/2</code> are affected. For example, code such as the following is vulnerable to this disclosure:</p>
<pre><code>redirect(conn, to: params["redirect"])     
</code></pre>
<p>We have released new Phoenix versions v1.0.6, v1.1.8, v1.2.3, and v1.3.0-rc.1 which addresses this issue. If you are unable to upgrade, a fix to use in your own application can be found below.</p>
<h2>Disclosure</h2>
<p>From day one, the Phoenix team designed <code>Phoenix.Controller.redirect/2</code> to protect against redirects allowing user input to redirect to an external URL where your application code otherwise assumes a local path redirect. This is why the <code>:to</code> option is used for ‚Äúlocal‚Äù URL redirects and why you must pass the <code>:external</code> option to intentionally allow external URLs to be redirected to. It has been disclosed that carefully crafted user input may be treated by some browsers as an external URL. An attacker can use this vulnerability to aid in social engineering attacks. The most common use would be to create highly believable phishing attacks. For example, the following user input would pass local URL validation, but be treated by Chrome and Firefox as external URLs:</p>
<pre><code>http://localhost:4000/?redirect=/\nexample.com
</code></pre>
<p>Not all browsers are affected, but latest Chrome and Firefox will issue a get request for <a href="http://example.com" rel="nofollow noopener">example.com</a> and successfully redirect externally.</p>
<ul>
<li>Versions affected: v1.0.0, v1.0.1, v1.0.2, v1.0.3, v1.0.4, v1.1.0, v1.1.1, v1.1.2, v1.1.3, v1.1.4, v1.1.5, v1.1,6, v1.2.0, v1.2.1, v1.3.0-rc.0</li>
<li>Versions fixed: v1.0.5+, v1.1.7+, v1.2.3+, v1.3.0-rc.1+</li>
<li>Author: Jeff Dileo</li>
<li>Thanks to: Jeff Dileo and his colleagues at the <a href="https://www.nccgroup.trust" rel="nofollow noopener">NCC Security Advisory Group</a>
</li>
</ul>
<h2>Temporary Fix</h2>
<p>If you are able to update via mix and hex, simply run <code>mix deps.update phoenix</code> to jump on the latest point release with this fix. Those unable to upgrade can add the following function and import to their controllers:</p>
<pre><code>import Phoenix.Controller, except: [redirect: 2]

def redirect(conn, opts) do
  to = opts[:to]

  if to &amp;&amp; String.contains?(to, "\\") -&gt;
    raise ArgumentError, "unsafe characters detected for local redirect in URL #{inspect to}"
  else
    Phoenix.Controller.redirect(conn, opts)
  end
end
</code></pre>
<h2>Thank You</h2>
<p>I would like to thank the NCC Group for reporting this vulnerability and working with us to harden the Phoenix and Plug code-bases.</p>
<p>NCC Group is a global expert in cyber security and risk mitigation,<br>
working with businesses to protect their brand, value and reputation<br>
against the ever-evolving threat landscape. Our Security Consulting<br>
services leverage our extensive knowledge of current security<br>
vulnerabilities, penetration testing techniques and software development<br>
best practices to enable organizations to secure their applications<br>
against ever-present threats. At NCC Group we can boast unrivaled talent<br>
and recognized world-class security expertise. Bringing together best in<br>
class security consultancies iSEC Partners, Intrepidus Group, Matasano,<br>
NCC Group and NGS we have created one of the largest, most respected<br>
security consultancies in the world.</p>
        </div>

        <meta itemprop='headline' content='Security Releases for Phoenix'>
          <meta itemprop='keywords' content='phoenix-security'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="14" />
           <span class='post-likes'>14 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'> <a href="https://elixirforum.com/t/elixir-forum-update-2018/11565">Giveaways</a> <a href="https://sponsors.elixirforum.com">Sponsors</a></p>
    </footer>
    <!--<div class="footer-feature-wrap">-->
<!--    <div class="footer-feature ef-panoramic">-->
<!--        <div class="">-->
<!--            <div class="column large-centered ef-footer-single-unit">-->
<!--                <ul>-->
<!--                    <li>-->
<!--                        test1-->
<!--                    </li>-->
<!--                    <li>-->
<!--                        test1-->
<!--                    </li>-->
<!--                </ul>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

                <!--<a href="http://pragprog.elixirforum.com" target="_blank" rel="nofollow"><img class="ef-thumbnail" src="/uploads/default/original/1X/948818f970d7a98ca82b82502ecc533c1efcff2b.png" alt="Win an ebook" /></a>-->


<div class="footer-sponsors-wrap">
    <div class="footer-sponsor-area">
        <div class="row">
            <header><h3>Our Sponsors</h3></header>
            <div>
		            <ul id="sponsors">
								
									<!--Diamond-->
									<li><a href="http://sponsors.elixirforum.com/dashbit" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/dashbit@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/podium" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/podium@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/pleroma" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/pleroma@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/validere" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/validere@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/erlang-solutions" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/erlang-solutions@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/logflare" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/logflare@2x.png"></a></li>
									


									<!--Platinum-->
									<li><a href="http://sponsors.elixirforum.com/pragprog" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/pragprog@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/appsignal" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/appsignal@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/bleacherreport" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/bleacherreport@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/manning" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/manning@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/defacto" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/defacto@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/elixircasts" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/elixircasts@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/elixirexperts" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/elixirexperts@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/pepsico" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/pepsico@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/nimble" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/nimble@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/papercups" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/papercups@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/joydrive" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/joydrive@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/therealreal" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/therealreal@2x.png"></a></li>
                  
                  

									<!--Gold-->
									<li><a href="http://sponsors.elixirforum.com/alembic" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/alembic@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/amplified" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/amplified@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/wyeworks" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/wyeworks@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/mux" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/mux@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/slab" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/slab@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/outrunlabs" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/outrunlabs@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/softwaremansion" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/softwaremansion@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/digital-onboarding" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/digital-onboarding@2x.png"></a></li>
									


									<li><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/blank@2x.png"></li>
									<li><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/blank@2x.png"></li>
                  


                </ul>
            </div>
        </div>
    </div>
</div>




<div class="ef-footer-wrap">
    <div class="ef-footer">
        <div class="ef-footer-inner cf">
            
            <div class="main-col-wrap">
                <section class="main-col">
                    <div class="ef-footer-links">
                        <ul>
                            <li><a href="/about">Contact Us</a></li>
                            <li><a href="/faq">Help</a></li>
                            <li><a href="#">Back to top</a></li>
                        </ul>
                    </div>
                    <p class="ef-last-line">
                        ¬© Copyright Elixir Forum | <a href="/tos">Terms</a> | <a href="/privacy">Privacy &amp; Cookies</a>
                    </p>
                </section><!-- /mainCol -->
            </div>

            <div class="logo-col-wrap">
                <div class="logo-col">
                    <a href="http://elixirforum.com"><img src="/uploads/default/original/1X/6e88893897b82e42a00778d4ddff32a3dddb1327.png" alt="Elixir Forum"></a>
                </div>
            </div>
        
        </div><!-- /pageBodyInner+cf -->    
    </div><!-- /pageBody -->
</div>















    
  </body>
  
</html>
