<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#598413 - paxtest: CVE-2010-3373: insecure temporary files handling - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=598413&quot;&gt;598413&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:598413@bugs.debian.org">#598413</a><br>
paxtest: CVE-2010-3373: insecure temporary files handling</h1>
<div class="versiongraph"><a href="version.cgi?absolute=0;found=paxtest%2F0.9.7-pre4-2;info=1;collapse=1;fixed=paxtest%2F1%3A0.9.9-1;package=paxtest"><img alt="version graph" src="version.cgi?found=paxtest%2F0.9.7-pre4-2;absolute=0;width=2;package=paxtest;collapse=1;fixed=paxtest%2F1%3A0.9.9-1;height=2"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=paxtest">paxtest</a>;
Maintainer for <a href="pkgreport.cgi?package=paxtest">paxtest</a> is <a href="pkgreport.cgi?maint=jfs%40debian.org">Javier Fernández-Sanguino Peña &lt;jfs@debian.org&gt;</a>; Source for <a href="pkgreport.cgi?package=paxtest">paxtest</a> is <a href="pkgreport.cgi?src=paxtest">src:paxtest</a> (<a href="https://tracker.debian.org/pkg/paxtest">PTS</a>, <a href="https://buildd.debian.org/paxtest">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=paxtest">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=geissert%40debian.org">Raphael Geissert &lt;geissert@debian.org&gt;</a></p>
  <p>Date: Tue, 28 Sep 2010 20:45:01 UTC</p>

<p>Severity: important</p>
<p>Tags: security</p>

<p>Found in version paxtest/0.9.7-pre4-2</p>
<p>Fixed in version paxtest/1:0.9.9-1</p>

<p><strong>Done:</strong> Javier Fernandez-Sanguino Pen~a &lt;jfs@computer.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p></div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=598413;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt; -->
<!-- time:1285706704 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt;</code>:<br>
<code>Bug#598413</code>; Package <code>paxtest</code>.
 (Tue, 28 Sep 2010 20:45:04 GMT) (<a href="bugreport.cgi?bug=598413;msg=2">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="3"></a><a name="msg3"></a><a href="#3">Message #3</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=598413;msg=3">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=3">mbox</a>, <a href="mailto:598413@bugs.debian.org?References=%3C201009281541.30115.geissert%40debian.org%3E&amp;subject=Re%3A%20paxtest%3A%20CVE-2010-3373%3A%20insecure%20temporary%20files%20handling&amp;In-Reply-To=%3C201009281541.30115.geissert%40debian.org%3E&amp;body=On%20Tue%2C%2028%20Sep%202010%2015%3A41%3A28%20-0500%20Raphael%20Geissert%20%3Cgeissert%40debian.org%3E%20wrote%3A%0A%3E%20Package%3A%20paxtest%0A%3E%20Version%3A%200.9.7-pre4-2%0A%3E%20Severity%3A%20important%0A%3E%20Tags%3A%20security%0A%3E%20%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20paxtest%20writes%20to%20paxtest.log%20in%20%24CWD%2C%20which%20might%20be%20abused%20by%20a%20local%20%0A%3E%20attacker%20to%20modify%20arbitrary%20files%20via%20a%20symlink%20or%20similar.%0A%3E%20%0A%3E%20I%20have%20confirmed%20it%20in%20version%200.9.9%20too.%0A%3E%20%0A%3E%20Please%20mention%20the%20CVE%20id%20when%20fixing%20this%20bug.%0A%3E%20%0A%3E%20%5B0%5D%20http%3A%2F%2Fcve.mitre.org%2Fcgi-bin%2Fcvename.cgi%3Fname%3DCVE-2010-3373%0A%3E%20%5B1%5D%20http%3A%2F%2Fsecurity-tracker.debian.org%2Ftracker%2FCVE-2010-3373%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20--%20%0A%3E%20Raphael%20Geissert%20-%20Debian%20Developer%0A%3E%20www.debian.org%20-%20get.debian.net%0A%3E%20%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=geissert%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Raphael Geissert &lt;geissert@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> submit@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> paxtest: CVE-2010-3373: insecure temporary files handling</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 28 Sep 2010 15:41:28 -0500</div>
</div>
<pre class="message">Package: paxtest
Version: 0.9.7-pre4-2
Severity: important
Tags: security

Hi,

paxtest writes to paxtest.log in $CWD, which might be abused by a local 
attacker to modify arbitrary files via a symlink or similar.

I have confirmed it in version 0.9.9 too.

Please mention the CVE id when fixing this bug.

[0] <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2010-3373">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2010-3373</a>
[1] <a href="http://security-tracker.debian.org/tracker/CVE-2010-3373">http://security-tracker.debian.org/tracker/CVE-2010-3373</a>

Cheers,
-- 
Raphael Geissert - Debian Developer
www.debian.org - get.debian.net



</pre>

<div class="infmessage"><hr><p>
<a name="4"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt; -->
<!-- time:1285707968 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt;</code>:<br>
<code>Bug#598413</code>; Package <code>paxtest</code>.
 (Tue, 28 Sep 2010 21:06:08 GMT) (<a href="bugreport.cgi?bug=598413;msg=5">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=5">mbox</a>, <a href="#4">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="6"></a>
<!-- request_addr: Javier Fernández-Sanguino Peña &lt;jfs@computer.org&gt; -->
<!-- time:1285707968 -->
<strong>Acknowledgement sent</strong>
to <code>Javier Fernández-Sanguino Peña &lt;jfs@computer.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt;</code>.
 (Tue, 28 Sep 2010 21:06:08 GMT) (<a href="bugreport.cgi?bug=598413;msg=7">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="8"></a><a name="msg8"></a><a href="#8">Message #8</a> received at 598413@bugs.debian.org (<a href="bugreport.cgi?bug=598413;msg=8">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=8">mbox</a>, <a href="mailto:598413@bugs.debian.org?body=On%20Tue%2C%2028%20Sep%202010%2023%3A02%3A50%20%2B0200%20Javier%20%3D%3Fiso-8859-1%3FQ%3FFern%3DE1ndez-Sanguino_Pe%3DF1a%3F%3D%20%3Cjfs%40computer.org%3E%20wrote%3A%0A%3E%20On%20Tue%2C%20Sep%2028%2C%202010%20at%2003%3A41%3A28PM%20-0500%2C%20Raphael%20Geissert%20wrote%3A%0A%3E%20%3E%20paxtest%20writes%20to%20paxtest.log%20in%20%24CWD%2C%20which%20might%20be%20abused%20by%20a%20local%20%0A%3E%20%3E%20attacker%20to%20modify%20arbitrary%20files%20via%20a%20symlink%20or%20similar.%0A%3E%20%0A%3E%20This%20is%20hardly%20an%20important%20bug%20since%20paxtest%20does%20not%20write%20%28by%20itself%29%20to%0A%3E%20an%20insecure%20location.%20The%20%2Auser%2A%20has%20to%20run%20paxtest%20while%20in%20an%20insecure%0A%3E%20location%20%28%2Ftmp%2F%29%20in%20order%20for%20this%20to%20be%20exploitable.%0A%3E%20%0A%3E%20In%20any%20case%2C%20paxtest%20could%20be%20modified%20to%20output%20to%20%24HOME%2Fpaxtest.log%20or%0A%3E%20make%20it%20write%20into%20a%20log%20file%20only%20if%20requested%20to%20%28through%20a%20command%20line%0A%3E%20switch%29%20and%20output%20the%20information%20to%20standard%20output%20otherwise.%20%20Ironically%2C%0A%3E%20in%20order%20to%20do%20the%20latter%20it%20would%20%2Athen%2A%20have%20to%20make%20use%20of%20a%20temporary%0A%3E%20file.%0A%3E%20%0A%3E%20I%20see%20this%20more%20as%20a%20%27normal%27%20bug%20since%20a%20user%20cannot%20use%20%27paxtest%27%20unless%20he%0A%3E%20is%20in%20a%20directory%20he%20has%20write%20access%20to.%20The%20security%20team%20might%20want%20to%0A%3E%20comment%2C%20but%20I%20do%20not%20think%20this%20merits%20a%20DSA.%0A%3E%20%0A%3E%20Regards%0A%3E%20%0A%3E%20Javier%0A&amp;subject=Re%3A%20Bug%23598413%3A%20paxtest%3A%20CVE-2010-3373%3A%20insecure%20temporary%20files%0A%20handling&amp;In-Reply-To=%3C20100928210250.GA15322%40javifsp.no-ip.org%3E&amp;References=%3C201009281541.30115.geissert%40debian.org%3E%0A%20%3C20100928210250.GA15322%40javifsp.no-ip.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jfs%40computer.org" alt="">
<div class="header"><span class="headerfield">From:</span> Javier Fernández-Sanguino Peña &lt;jfs@computer.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Raphael Geissert &lt;geissert@debian.org&gt;, 598413@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#598413: paxtest: CVE-2010-3373: insecure temporary files
 handling</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 28 Sep 2010 23:02:50 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=598413;msg=8">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On Tue, Sep 28, 2010 at 03:41:28PM -0500, Raphael Geissert wrote:
&gt; paxtest writes to paxtest.log in $CWD, which might be abused by a local 
&gt; attacker to modify arbitrary files via a symlink or similar.

This is hardly an important bug since paxtest does not write (by itself) to
an insecure location. The *user* has to run paxtest while in an insecure
location (/tmp/) in order for this to be exploitable.

In any case, paxtest could be modified to output to $HOME/paxtest.log or
make it write into a log file only if requested to (through a command line
switch) and output the information to standard output otherwise.  Ironically,
in order to do the latter it would *then* have to make use of a temporary
file.

I see this more as a &#39;normal&#39; bug since a user cannot use &#39;paxtest&#39; unless he
is in a directory he has write access to. The security team might want to
comment, but I do not think this merits a DSA.

Regards

Javier
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=598413;filename=signature.asc;msg=8">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="9"></a>
<!-- request_addr: Javier Fernandez-Sanguino Pen~a &lt;jfs@computer.org&gt; -->
<!-- time:1285713365 -->
<strong>Reply sent</strong>
to <code>Javier Fernandez-Sanguino Pen~a &lt;jfs@computer.org&gt;</code>:<br>
You have taken responsibility.
 (Tue, 28 Sep 2010 22:36:05 GMT) (<a href="bugreport.cgi?bug=598413;msg=10">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=10">mbox</a>, <a href="#9">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="11"></a>
<!-- request_addr: Raphael Geissert &lt;geissert@debian.org&gt; -->
<!-- time:1285713365 -->
<strong>Notification sent</strong>
to <code>Raphael Geissert &lt;geissert@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Tue, 28 Sep 2010 22:36:05 GMT) (<a href="bugreport.cgi?bug=598413;msg=12">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="13"></a><a name="msg13"></a><a href="#13">Message #13</a> received at 598413-close@bugs.debian.org (<a href="bugreport.cgi?bug=598413;msg=13">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=13">mbox</a>, <a href="mailto:598413@bugs.debian.org?References=%3CE1P0iih-0007dE-6n%40franck.debian.org%3E&amp;subject=Re%3A%20Bug%23598413%3A%20fixed%20in%20paxtest%201%3A0.9.9-1&amp;In-Reply-To=%3CE1P0iih-0007dE-6n%40franck.debian.org%3E&amp;body=On%20Tue%2C%2028%20Sep%202010%2022%3A32%3A19%20%2B0000%20Javier%20Fernandez-Sanguino%20Pen~a%20%3Cjfs%40computer.org%3E%20wrote%3A%0A%3E%20Source%3A%20paxtest%0A%3E%20Source-Version%3A%201%3A0.9.9-1%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20paxtest%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive%3A%0A%3E%20%0A%3E%20paxtest_0.9.9-1.diff.gz%0A%3E%20%20%20to%20main%2Fp%2Fpaxtest%2Fpaxtest_0.9.9-1.diff.gz%0A%3E%20paxtest_0.9.9-1.dsc%0A%3E%20%20%20to%20main%2Fp%2Fpaxtest%2Fpaxtest_0.9.9-1.dsc%0A%3E%20paxtest_0.9.9-1_i386.deb%0A%3E%20%20%20to%20main%2Fp%2Fpaxtest%2Fpaxtest_0.9.9-1_i386.deb%0A%3E%20paxtest_0.9.9.orig.tar.gz%0A%3E%20%20%20to%20main%2Fp%2Fpaxtest%2Fpaxtest_0.9.9.orig.tar.gz%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20598413%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Javier%20Fernandez-Sanguino%20Pen~a%20%3Cjfs%40computer.org%3E%20%28supplier%20of%20updated%20paxtest%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA1%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Tue%2C%2028%20Sep%202010%2023%3A40%3A17%20%2B0200%0A%3E%20Source%3A%20paxtest%0A%3E%20Binary%3A%20paxtest%0A%3E%20Architecture%3A%20source%20i386%0A%3E%20Version%3A%201%3A0.9.9-1%0A%3E%20Distribution%3A%20unstable%0A%3E%20Urgency%3A%20medium%0A%3E%20Maintainer%3A%20Javier%20Fernandez-Sanguino%20Pen~a%20%3Cjfs%40debian.org%3E%0A%3E%20Changed-By%3A%20Javier%20Fernandez-Sanguino%20Pen~a%20%3Cjfs%40computer.org%3E%0A%3E%20Description%3A%20%0A%3E%20%20paxtest%20%20%20%20-%20Test%20suite%20for%20the%20PaX%20kernel%20patch%0A%3E%20Closes%3A%20570990%20598413%0A%3E%20Changes%3A%20%0A%3E%20%20paxtest%20%281%3A0.9.9-1%29%20unstable%3B%20urgency%3Dmedium%0A%3E%20%20.%0A%3E%20%20%20%20%20%2A%20New%20upstream%20release%2C%20uploaded%20to%20Debian.%20%28LP%3A%20%23530778%29%20%28Closes%3A%20%23570990%29%0A%3E%20%20%20%20%20%2A%20genpaxtest%3A%20Modify%20so%20that%20the%20%27paxtest%27%20script%20generated%20uses%0A%3E%20%20%20%20%20%20%20%20%20%20either%20a%20user-provided%20logfile%20as%20argument%20or%20the%20%24HOME%2Fpaxtest.log%0A%3E%20%20%20%20%20%20%20%20%20%20instead%20of%20paxtest.log%20for%20its%20results%20in%20order%20to%20prevent%20it%20from%0A%3E%20%20%20%20%20%20%20%20%20%20writing%20in%20the%20users%27%20CWD%20and%20avoid%20symlink%20tricks%20if%20the%20user%20is%0A%3E%20%20%20%20%20%20%20%20%20%20executing%20this%20in%20a%20shared%20%28i.e.%20%20writable%20by%20others%29%20directory%20such%20as%0A%3E%20%20%20%20%20%20%20%20%20%20%2Ftmp.%20%20Fixes%20CVE-2010-3373%20%28Closes%3A%20%23598413%29%0A%3E%20%20%20%20%20%2A%20Updated%20results%20in%20the%20results%2F%20directory%20for%20a%20stock%20Debian%20kernel%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jfs%40computer.org" alt="">
<div class="header"><span class="headerfield">From:</span> Javier Fernandez-Sanguino Pen~a &lt;jfs@computer.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 598413-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#598413: fixed in paxtest 1:0.9.9-1</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 28 Sep 2010 22:32:19 +0000</div>
</div>
<pre class="message">Source: paxtest
Source-Version: 1:0.9.9-1

We believe that the bug you reported is fixed in the latest version of
paxtest, which is due to be installed in the Debian FTP archive:

paxtest_0.9.9-1.diff.gz
  to main/p/paxtest/paxtest_0.9.9-1.diff.gz
paxtest_0.9.9-1.dsc
  to main/p/paxtest/paxtest_0.9.9-1.dsc
paxtest_0.9.9-1_i386.deb
  to main/p/paxtest/paxtest_0.9.9-1_i386.deb
paxtest_0.9.9.orig.tar.gz
  to main/p/paxtest/paxtest_0.9.9.orig.tar.gz



A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 598413@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Javier Fernandez-Sanguino Pen~a &lt;jfs@computer.org&gt; (supplier of updated paxtest package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Tue, 28 Sep 2010 23:40:17 +0200
Source: paxtest
Binary: paxtest
Architecture: source i386
Version: 1:0.9.9-1
Distribution: unstable
Urgency: medium
Maintainer: Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt;
Changed-By: Javier Fernandez-Sanguino Pen~a &lt;jfs@computer.org&gt;
Description: 
 paxtest    - Test suite for the PaX kernel patch
Closes: <a href="bugreport.cgi?bug=570990">570990</a> <a href="bugreport.cgi?bug=598413">598413</a>
Changes: 
 paxtest (1:0.9.9-1) unstable; urgency=medium
 .
    * New upstream release, uploaded to Debian. (LP: #530778) (Closes: #<a href="bugreport.cgi?bug=570990">570990</a>)
    * genpaxtest: Modify so that the &#39;paxtest&#39; script generated uses
         either a user-provided logfile as argument or the $HOME/paxtest.log
         instead of paxtest.log for its results in order to prevent it from
         writing in the users&#39; CWD and avoid symlink tricks if the user is
         executing this in a shared (i.e.  writable by others) directory such as
         /tmp.  Fixes <a href="https://security-tracker.debian.org/tracker/CVE-2010-3373">CVE-2010-3373</a> (Closes: #<a href="bugreport.cgi?bug=598413">598413</a>)
    * Updated results in the results/ directory for a stock Debian kernel
      (i.e. no overflow protection)
    * Use debhelper compatibility version 5
    * debian/rules: Use conditions to build using &#39;linux32&#39;, &#39;linux64&#39; or
      just &#39;linux&#39;
    * Document the new Homepage in debian/control, also list both the new
      and the old one in debian/copyright
    * Updated debian/paxtest.sgml to properly reflect the arguments used in the
      paxtest script and the new behaviour wrt log files.
    * Fix upstream&#39;s debian/changelog to have proper maintainer lines. Use the
      date information of the files as a basis.
    * Updated the content under results/ for a stock Debian kernel (2.6.32)
      and rename the older result files for Debian kernel 2.4.25
Checksums-Sha1: 
 355f7bf48d5550cbe9c042cf2934af1a5de95bd9 1039 paxtest_0.9.9-1.dsc
 3e65c82c6e396767d516bbf884c6577bb4611244 32095 paxtest_0.9.9.orig.tar.gz
 50ac7eb3709c832a288e104082712319b969edf6 5751 paxtest_0.9.9-1.diff.gz
 db897f5999e0fce7ce8e45c20d25587a30363391 36414 paxtest_0.9.9-1_i386.deb
Checksums-Sha256: 
 90c0e0833a129e830e214c8edc7d012d37ae0228b76be6d43c509063ea003323 1039 paxtest_0.9.9-1.dsc
 caca340492dedeee588d47683efde9797cba4fce5adca5d5f9b0b73b2120e1ab 32095 paxtest_0.9.9.orig.tar.gz
 a94c26516d98d60735993e57bf39820af2eed383ba93f010d7a3d2baaae41c15 5751 paxtest_0.9.9-1.diff.gz
 6e8a3ebf16abc754f3963ade0222f7626ac22f617a82db5cc7849241c9ef8cc5 36414 paxtest_0.9.9-1_i386.deb
Files: 
 78d8ed080e8f8d78fae5895cd7cca5a3 1039 devel optional paxtest_0.9.9-1.dsc
 7599f41823c73174d056d01b12ae5662 32095 devel optional paxtest_0.9.9.orig.tar.gz
 4382b430aded910af3a9ca5fe818f0c1 5751 devel optional paxtest_0.9.9-1.diff.gz
 0da357ade565f242cac213d9fee5c7ac 36414 devel optional paxtest_0.9.9-1_i386.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iD8DBQFMomtusandgtyBSwkRAmdXAJ4gvn7l3aFgqJeEx3q3Rf125pFiQwCfR4tW
D69ZKxzkhCsYZkeiNlwgXMo=
=hRH8
-----END PGP SIGNATURE-----




</pre>

<div class="infmessage"><hr><p>
<a name="14"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt; -->
<!-- time:1285803543 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt;</code>:<br>
<code>Bug#598413</code>; Package <code>paxtest</code>.
 (Wed, 29 Sep 2010 23:39:03 GMT) (<a href="bugreport.cgi?bug=598413;msg=15">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=15">mbox</a>, <a href="#14">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="16"></a>
<!-- request_addr: Raphael Geissert &lt;geissert@debian.org&gt; -->
<!-- time:1285803543 -->
<strong>Acknowledgement sent</strong>
to <code>Raphael Geissert &lt;geissert@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt;</code>.
 (Wed, 29 Sep 2010 23:39:03 GMT) (<a href="bugreport.cgi?bug=598413;msg=17">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=17">mbox</a>, <a href="#16">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="18"></a><a name="msg18"></a><a href="#18">Message #18</a> received at 598413@bugs.debian.org (<a href="bugreport.cgi?bug=598413;msg=18">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=18">mbox</a>, <a href="mailto:598413@bugs.debian.org?References=%3C201009281541.30115.geissert%40debian.org%3E%0A%09%3C20100928210250.GA15322%40javifsp.no-ip.org%3E%0A%20%3CAANLkTin8BEZy4H5pgvE54pgiSEc34PnSTh9Z0wGeDYNX%40mail.gmail.com%3E&amp;subject=Re%3A%20Bug%23598413%3A%20paxtest%3A%20CVE-2010-3373%3A%20insecure%20temporary%20files%20handling&amp;In-Reply-To=%3CAANLkTin8BEZy4H5pgvE54pgiSEc34PnSTh9Z0wGeDYNX%40mail.gmail.com%3E&amp;body=On%20Wed%2C%2029%20Sep%202010%2018%3A34%3A52%20-0500%20Raphael%20Geissert%20%3Cgeissert%40debian.org%3E%20wrote%3A%0A%3E%202010%2F9%2F28%20Javier%20Fern%C3%A1ndez-Sanguino%20Pe%C3%B1a%20%3Cjfs%40computer.org%3E%3A%0A%3E%20%3E%20On%20Tue%2C%20Sep%2028%2C%202010%20at%2003%3A41%3A28PM%20-0500%2C%20Raphael%20Geissert%20wrote%3A%0A%3E%20%3E%3E%20paxtest%20writes%20to%20paxtest.log%20in%20%24CWD%2C%20which%20might%20be%20abused%20by%20a%20local%0A%3E%20%3E%3E%20attacker%20to%20modify%20arbitrary%20files%20via%20a%20symlink%20or%20similar.%0A%3E%20%3E%0A%3E%20%3E%20This%20is%20hardly%20an%20important%20bug%20since%20paxtest%20does%20not%20write%20%28by%20itself%29%20to%0A%3E%20%3E%20an%20insecure%20location.%20The%20%2Auser%2A%20has%20to%20run%20paxtest%20while%20in%20an%20insecure%0A%3E%20%3E%20location%20%28%2Ftmp%2F%29%20in%20order%20for%20this%20to%20be%20exploitable.%0A%3E%20%0A%3E%20It%20is%20arguable%2C%20yes%2C%20but%20the%20behaviour%20is%20unexpected%20%28the%20man%20page%0A%3E%20doesn%27t%20mention%20it%2C%20for%20example.%29%20Since%20a%20user%20may%20very%20well%20run%20it%0A%3E%20from%20%2Ftmp%20%28likely%20because%20it%20is%20a%20non-persistent%20dir%2C%29%20there%27s%20room%0A%3E%20for%20an%20attack.%0A%3E%20%0A%3E%20%3E%20In%20any%20case%2C%20paxtest%20could%20be%20modified%20to%20output%20to%20%24HOME%2Fpaxtest.log%20or%0A%3E%20%3E%20make%20it%20write%20into%20a%20log%20file%20only%20if%20requested%20to%20%28through%20a%20command%20line%0A%3E%20%3E%20switch%29%20and%20output%20the%20information%20to%20standard%20output%20otherwise.%20%C2%A0Ironically%2C%0A%3E%20%3E%20in%20order%20to%20do%20the%20latter%20it%20would%20%2Athen%2A%20have%20to%20make%20use%20of%20a%20temporary%0A%3E%20%3E%20file.%0A%3E%20%0A%3E%20I%20saw%20you%20made%20it%20write%20to%20~%2Fpaxtest.log.%20I%20would%20have%20personally%20made%0A%3E%20it%20write%20to%20stdout%2C%20but%20I%20think%20the%20way%20you%20chose%20is%20at%20least%20better%0A%3E%20than%20the%20old%20behaviour%20%28I%20didn%27t%20verify%20if%20you%20documented%20it%20on%20the%0A%3E%20man%20page%2C%20though.%29%0A%3E%20%0A%3E%20%3E%20I%20see%20this%20more%20as%20a%20%27normal%27%20bug%20since%20a%20user%20cannot%20use%20%27paxtest%27%20unless%20he%0A%3E%20%3E%20is%20in%20a%20directory%20he%20has%20write%20access%20to.%20The%20security%20team%20might%20want%20to%0A%3E%20%3E%20comment%2C%20but%20I%20do%20not%20think%20this%20merits%20a%20DSA.%0A%3E%20%0A%3E%20%28Security%20hat%20on%29%20it%20doesn%27t%20warrant%20a%20DSA%20%3B%29%0A%3E%20You%20may%20fix%20it%20via%20SPU%20if%20you%20want%2C%20but%20after%20some%20reconsideration%0A%3E%20I%27ve%20marked%20it%20as%20unimportant%20on%20the%20tracker.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20--%20%0A%3E%20Raphael%20Geissert%20-%20Debian%20Developer%0A%3E%20www.debian.org%20-%20get.debian.net%0A%3E%20%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=geissert%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Raphael Geissert &lt;geissert@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 598413@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#598413: paxtest: CVE-2010-3373: insecure temporary files handling</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 29 Sep 2010 18:34:52 -0500</div>
</div>
<pre class="message">2010/9/28 Javier Fernández-Sanguino Peña &lt;jfs@computer.org&gt;:
&gt; On Tue, Sep 28, 2010 at 03:41:28PM -0500, Raphael Geissert wrote:
&gt;&gt; paxtest writes to paxtest.log in $CWD, which might be abused by a local
&gt;&gt; attacker to modify arbitrary files via a symlink or similar.
&gt;
&gt; This is hardly an important bug since paxtest does not write (by itself) to
&gt; an insecure location. The *user* has to run paxtest while in an insecure
&gt; location (/tmp/) in order for this to be exploitable.

It is arguable, yes, but the behaviour is unexpected (the man page
doesn&#39;t mention it, for example.) Since a user may very well run it
from /tmp (likely because it is a non-persistent dir,) there&#39;s room
for an attack.

&gt; In any case, paxtest could be modified to output to $HOME/paxtest.log or
&gt; make it write into a log file only if requested to (through a command line
&gt; switch) and output the information to standard output otherwise.  Ironically,
&gt; in order to do the latter it would *then* have to make use of a temporary
&gt; file.

I saw you made it write to ~/paxtest.log. I would have personally made
it write to stdout, but I think the way you chose is at least better
than the old behaviour (I didn&#39;t verify if you documented it on the
man page, though.)

&gt; I see this more as a &#39;normal&#39; bug since a user cannot use &#39;paxtest&#39; unless he
&gt; is in a directory he has write access to. The security team might want to
&gt; comment, but I do not think this merits a DSA.

(Security hat on) it doesn&#39;t warrant a DSA ;)
You may fix it via SPU if you want, but after some reconsideration
I&#39;ve marked it as unimportant on the tracker.

Cheers,
-- 
Raphael Geissert - Debian Developer
www.debian.org - get.debian.net



</pre>

<div class="infmessage"><hr><p>
<a name="19"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt; -->
<!-- time:1285887243 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt;</code>:<br>
<code>Bug#598413</code>; Package <code>paxtest</code>.
 (Thu, 30 Sep 2010 22:54:03 GMT) (<a href="bugreport.cgi?bug=598413;msg=20">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=20">mbox</a>, <a href="#19">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="21"></a>
<!-- request_addr: Javier Fernández-Sanguino Peña &lt;jfs@computer.org&gt; -->
<!-- time:1285887243 -->
<strong>Acknowledgement sent</strong>
to <code>Javier Fernández-Sanguino Peña &lt;jfs@computer.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Javier Fernandez-Sanguino Pen~a &lt;jfs@debian.org&gt;</code>.
 (Thu, 30 Sep 2010 22:54:03 GMT) (<a href="bugreport.cgi?bug=598413;msg=22">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=22">mbox</a>, <a href="#21">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="23"></a><a name="msg23"></a><a href="#23">Message #23</a> received at 598413@bugs.debian.org (<a href="bugreport.cgi?bug=598413;msg=23">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=23">mbox</a>, <a href="mailto:598413@bugs.debian.org?body=On%20Fri%2C%201%20Oct%202010%2000%3A51%3A48%20%2B0200%20Javier%20%3D%3Fiso-8859-1%3FQ%3FFern%3DE1ndez-Sanguino_Pe%3DF1a%3F%3D%20%3Cjfs%40computer.org%3E%20wrote%3A%0A%3E%20On%20Wed%2C%20Sep%2029%2C%202010%20at%2006%3A34%3A52PM%20-0500%2C%20Raphael%20Geissert%20wrote%3A%0A%3E%20%3E%20%3E%20In%20any%20case%2C%20paxtest%20could%20be%20modified%20to%20output%20to%20%24HOME%2Fpaxtest.log%20or%0A%3E%20%3E%20%3E%20make%20it%20write%20into%20a%20log%20file%20only%20if%20requested%20to%20%28through%20a%20command%20line%0A%3E%20%3E%20%3E%20switch%29%20and%20output%20the%20information%20to%20standard%20output%20otherwise.%20%C2%A0Ironically%2C%0A%3E%20%3E%20%3E%20in%20order%20to%20do%20the%20latter%20it%20would%20%2Athen%2A%20have%20to%20make%20use%20of%20a%20temporary%0A%3E%20%3E%20%3E%20file.%0A%3E%20%3E%20%0A%3E%20%3E%20I%20saw%20you%20made%20it%20write%20to%20~%2Fpaxtest.log.%20I%20would%20have%20personally%20made%0A%3E%20%3E%20it%20write%20to%20stdout%2C%20but%20I%20think%20the%20way%20you%20chose%20is%20at%20least%20better%0A%3E%20%3E%20than%20the%20old%20behaviour%20%28I%20didn%27t%20verify%20if%20you%20documented%20it%20on%20the%0A%3E%20%3E%20man%20page%2C%20though.%29%0A%3E%20%0A%3E%20By%20default%20it%20uses%20that%2C%20but%20you%20can%20tell%20it%20to%20log%20to%20any%20given%20file%20of%20your%0A%3E%20choice.%20It%20was%20the%20fastest%20approach%20as%20the%20script%20itself%20is%20actually%0A%3E%20autogenerated%20by%20another%20script.%0A%3E%20%0A%3E%20Both%20options%20are%20documented%20in%20the%20manpage%2C%20with%20the%20default%20behaviour%20%28now%29%0A%3E%20properly%20described.%0A%3E%20%0A%3E%20Regards%0A%3E%20%0A%3E%20Javier%0A&amp;subject=Re%3A%20Bug%23598413%3A%20paxtest%3A%20CVE-2010-3373%3A%20insecure%20temporary%20files%0A%20handling&amp;In-Reply-To=%3C20100930225148.GA29567%40javifsp.no-ip.org%3E&amp;References=%3C201009281541.30115.geissert%40debian.org%3E%0A%20%3C20100928210250.GA15322%40javifsp.no-ip.org%3E%0A%20%3CAANLkTin8BEZy4H5pgvE54pgiSEc34PnSTh9Z0wGeDYNX%40mail.gmail.com%3E%0A%20%3C20100930225148.GA29567%40javifsp.no-ip.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jfs%40computer.org" alt="">
<div class="header"><span class="headerfield">From:</span> Javier Fernández-Sanguino Peña &lt;jfs@computer.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Raphael Geissert &lt;geissert@debian.org&gt;, 598413@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#598413: paxtest: CVE-2010-3373: insecure temporary files
 handling</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 1 Oct 2010 00:51:48 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=598413;msg=23">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">On Wed, Sep 29, 2010 at 06:34:52PM -0500, Raphael Geissert wrote:
&gt; &gt; In any case, paxtest could be modified to output to $HOME/paxtest.log or
&gt; &gt; make it write into a log file only if requested to (through a command line
&gt; &gt; switch) and output the information to standard output otherwise.  Ironically,
&gt; &gt; in order to do the latter it would *then* have to make use of a temporary
&gt; &gt; file.
&gt; 
&gt; I saw you made it write to ~/paxtest.log. I would have personally made
&gt; it write to stdout, but I think the way you chose is at least better
&gt; than the old behaviour (I didn&#39;t verify if you documented it on the
&gt; man page, though.)

By default it uses that, but you can tell it to log to any given file of your
choice. It was the fastest approach as the script itself is actually
autogenerated by another script.

Both options are documented in the manpage, with the default behaviour (now)
properly described.

Regards

Javier
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=598413;filename=signature.asc;msg=23">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="24"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1299484849 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Mon, 07 Mar 2011 08:00:49 GMT) (<a href="bugreport.cgi?bug=598413;msg=25">full text</a>, <a href="bugreport.cgi?bug=598413;mbox=yes;msg=25">mbox</a>, <a href="#24">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=598413">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:24:54 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->bembo<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
