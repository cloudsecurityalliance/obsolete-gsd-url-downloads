<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/swift/+bug/1430645/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1430645 “[OSSA 2015-006] unauthorized delete from container...” : Bugs : OpenStack Object Storage (swift)</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1430645" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1430645/bug.atom" title="Bug 1430645 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="The handling of object versions wrt container ACL's has been an area of interest lately and some questionable authorization behaviors have come to light:

https://etherpad.openstack.org/p/object_version_and_ACL_use_cases

Unfortunately I just discovered another one that actually seems damaging.  Ability to destroy data without write access.

Any authenticated used can overwrite the most recent versions of any versioned object who's name is known in a container with the X-Versions-Location met..." />
      <meta property="og:description" content="The handling of object versions wrt container ACL's has been an area of interest lately and some questionable authorization behaviors have come to light:

https://etherpad.openstack.org/p/object_version_and_ACL_use_cases

Unfortunately I just discovered another one that actually seems damaging.  Ability to destroy data without write access.

Any authenticated used can overwrite the most recent versions of any versioned object who's name is known in a container with the X-Versions-Location met..." />
    

    
    
      <meta property="og:title" content="Bug #1430645 “[OSSA 2015-006] unauthorized delete from container...” : Bugs : OpenStack Object Storage (swift)" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1430645" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["account-server", "consistency-engine", "container-server", "documentation", "ec-erasure-coding", "flakey-test", "i18n", "low-hanging-fruit", "middleware", "object-server", "ops", "proxy-server", "python3", "security", "test"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/swift/+bug/1430645/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/swift"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/52141984/os64.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/swift">OpenStack Object Storage (swift)</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/swift">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/swift">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/swift">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/swift">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/swift">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/swift">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    [OSSA 2015-006] unauthorized delete from container with x-version-location (CVE-2015-1856)
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1430645 reported by
      <a href="https://launchpad.net/~clay-gerrard" class="sprite person">clayg</a>
      <time title="2015-03-11 06:44:05 UTC" datetime="2015-03-11T06:44:05.366368+00:00">on 2015-03-11</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">266</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary1789057">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/swift/+bug/1430645/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary1789057">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/swift">OpenStack Object Storage (swift)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/swift/+bug/1430645/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/swift/+bug/1430645/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1789057">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/swift/+milestone/2.3.0">OpenStack Object Storage (swift) 2.3.0 "kilo"</a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1789057">
     <td colspan="7"><form action="/swift/+bug/1430645/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/swift">OpenStack Object Storage (swift)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~clay-gerrard" class="sprite person">clayg</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2015-03-11 06:44:05 UTC" datetime="2015-03-11T06:44:05.366368+00:00">2015-03-11</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2015-03-11 08:07:48 UTC" datetime="2015-03-11T08:07:48.371946+00:00">2015-03-11</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2015-04-14 16:42:00 UTC" datetime="2015-04-14T16:42:00.003422+00:00">2015-04-14</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2015-04-15 07:39:44 UTC" datetime="2015-04-15T07:39:44.044960+00:00">2015-04-15</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="swift.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="swift.target.option.package" name="swift.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="swift.target.distribution" name="swift.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="swift.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="swift.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="swift.target.package"
                         name="swift.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;swift.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('swift.target.package');
              var select_menu = Y.DOM.byId('swift.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-swift-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionPackage", "extra_no_results_message": null, "selected_value": null, "show_assign_me_button": false, "show_widget_id": "show-widget-swift-target-package", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "swift.target.package"};
        var show_widget_id = 'show-widget-swift-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="swift.target.option.product" name="swift.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="swift" id="swift.target.product"
                         name="swift.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;swift.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('swift.target.product');
              var select_menu = Y.DOM.byId('swift.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-swift-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a project", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "Product", "extra_no_results_message": null, "selected_value": "swift", "show_assign_me_button": false, "show_widget_id": "show-widget-swift-target-product", "step_title": "Search", "assign_me_text": "Pick me", "input_element": "swift.target.product"};
        var show_widget_id = 'show-widget-swift-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="swift.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="swift.importance">Importance</label>
        </td>
        <td>
          <label style="font-weight: bold" for="swift.milestone">Milestone</label>
        </td>
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="swift.status" name="swift.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="swift.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          OpenStack Object Storage (swift) 2.3.0
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="swift.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="swift.assignee.assign_to_nobody" name="swift.assignee.option" value="swift.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="swift.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="swift.assignee.assign_to_me" name="swift.assignee.option" value="swift.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="swift.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="swift.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="swift.comment_on_change" name="swift.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary1789213">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ossa/+bug/1430645/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary1789213">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/ossa">OpenStack Security Advisory</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ossa/+bug/1430645/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ossa/+bug/1430645/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceMEDIUM">Medium</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1789213">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1789213">
     <td colspan="7"><form action="/ossa/+bug/1430645/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ossa">OpenStack Security Advisory</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2015-03-11 12:40:51 UTC" datetime="2015-03-11T12:40:51.000810+00:00">2015-03-11</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2015-03-11 12:41:00 UTC" datetime="2015-03-11T12:41:00.097780+00:00">2015-03-11</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2015-04-08 20:43:42 UTC" datetime="2015-04-08T20:43:42.269828+00:00">2015-04-08</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2015-04-14 19:47:42 UTC" datetime="2015-04-14T19:47:42.756006+00:00">2015-04-14</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ossa.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="ossa.target.option.package" name="ossa.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ossa.target.distribution" name="ossa.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ossa.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ossa.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ossa.target.package"
                         name="ossa.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ossa.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ossa.target.package');
              var select_menu = Y.DOM.byId('ossa.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ossa-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionPackage", "extra_no_results_message": null, "selected_value": null, "show_assign_me_button": false, "show_widget_id": "show-widget-ossa-target-package", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ossa.target.package"};
        var show_widget_id = 'show-widget-ossa-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ossa.target.option.product" name="ossa.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="ossa" id="ossa.target.product"
                         name="ossa.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ossa.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ossa.target.product');
              var select_menu = Y.DOM.byId('ossa.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ossa-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a project", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "Product", "extra_no_results_message": null, "selected_value": "ossa", "show_assign_me_button": false, "show_widget_id": "show-widget-ossa-target-product", "step_title": "Search", "assign_me_text": "Pick me", "input_element": "ossa.target.product"};
        var show_widget_id = 'show-widget-ossa-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ossa.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ossa.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ossa.status" name="ossa.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ossa.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceMEDIUM">Medium</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ossa.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ossa.assignee.assign_to_nobody" name="ossa.assignee.option" value="ossa.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ossa.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ossa.assignee.assign_to_me" name="ossa.assignee.option" value="ossa.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ossa.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ossa.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ossa.comment_on_change" name="ossa.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/swift/+bug/1430645/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/swift/+bug/1430645/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/swift/+bug/1430645/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>The handling of object versions wrt container ACL&#x27;s has been an area of interest lately and some questionable authorization behaviors have come to light:</p>
<p><a rel="nofollow" href="https://etherpad.openstack.org/p/object_version_and_ACL_use_cases">https:/<wbr />/etherpad.<wbr />openstack.<wbr />org/p/object_<wbr />version_<wbr />and_ACL_<wbr />use_cases</a></p>
<p>Unfortunately I just discovered another one that actually seems damaging.  Ability to destroy data without write access.</p>
<p>Any authenticated used can overwrite the most recent versions of any versioned object who&#x27;s name is known in a container with the X-Versions-Location metadata field set if they have listing access to the x-versions-location container - regardless of their write authorization to the container.  Basically if you can list an x-versions-location container you can overwrite all the current data in the source container (if you know it&#x27;s name) with old copies even if you don&#x27;t have write (or read) access to the source container.</p>
<p>Basically we&#x27;re creating a preauthorized COPY from from the x-versions-location container (assuming the user has listing access to the x-versions-location container, and an old version exists) without checking to see if authenticated user has write access to the destination.</p>
<p>Script to reproduce the problem is attached.</p>
<p>Possible patch to follow.</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="unofficial-tag" href="/swift/+bugs?field.tag=in-stable-icehouse">in-stable-icehouse</a>
            <a class="unofficial-tag" href="/swift/+bugs?field.tag=in-stable-juno">in-stable-juno</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2015-1856" title="OpenStack Object Storage (Swift) befo...">2015-1856</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~clay-gerrard" class="sprite person">clayg (clay-gerrard)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T06:44:05.366368+00:00" title="2015-03-11 06:44:05 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4340822/+files/delete-the-world.sh">script to setup conditions to demonstrate the issue on swift-all-in-one</a>
        <a class="sprite edit action-icon" href="/swift/+bug/1430645/+attachment/4340822">Edit</a>
        (1.4 KiB,
        text/x-sh)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~clay-gerrard" class="sprite person">clayg (clay-gerrard)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T06:46:59.805320+00:00" title="2015-03-11 06:46:59 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4340823/+files/more-version-auth.patch">call authorize more</a>
        <a class="sprite edit action-icon" href="/swift/+bug/1430645/+attachment/4340823">Edit</a>
        (1.4 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I think we can call the authorize callback for the original DELETE request before handling the version case to ensure the request is authorized to DELETE objects in the source container.</p>
<p>Then call the authorize callback again for the fall-through DELETE to the x-versions-location object (which may fail independently if the user doesn&#x27;t have write access to the target.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I think we can call the authorize callback for the original DELETE request before handling the version case to ensure the request is authorized to DELETE objects in the source container.

Then call the authorize callback again for the fall-through DELETE to the x-versions-location object (which may fail independently if the user doesn't have write access to the target.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~cschwede" class="sprite person">Christian Schwede (cschwede)</a>
    
    <time title="2015-03-11 08:07:48 UTC" datetime="2015-03-11T08:07:48.170779+00:00">on 2015-03-11</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in swift: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Confirmed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cschwede" class="sprite person">Christian Schwede (cschwede)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T08:19:10.202718+00:00" title="2015-03-11 08:19:10 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks Clay for the investigation and the proposed fix!</p>
<p>I was able to reproduce this issue, and also to fix it with your second patch.</p>
<p>I&#x27;m currently writing a functional test and would like to add it afterwards if you don&#x27;t mind.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks Clay for the investigation and the proposed fix!

I was able to reproduce this issue, and also to fix it with your second patch. 

I'm currently writing a functional test and would like to add it afterwards if you don't mind.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~clay-gerrard" class="sprite person">clayg (clay-gerrard)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T08:48:21.249361+00:00" title="2015-03-11 08:48:21 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4340854/+files/check-authorize.patch">similar to the quick fix - call authorize at some point before we start making COPY requests (with unittests!)</a>
        <a class="sprite edit action-icon" href="/swift/+bug/1430645/+attachment/4340854">Edit</a>
        (9.8 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>good morning!</p>
<p>yeah of course, a unittest wouldn&#x27;t be so terrible either :P</p>
<p>But honestly I&#x27;m more interested in just moving forward with Thiago&#x27;s work [1] - I just think it&#x27;ll just be harder to backport unfortunately (if we decide this is a for realzy security thing that people care about).</p>
<p>attaching the fix to go with Thiago&#x27;s change</p>
<p>1. <a rel="nofollow" href="https://review.openstack.org/#/c/134347">https:/<wbr />/review.<wbr />openstack.<wbr />org/#/c/<wbr />134347</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">good morning!

yeah of course, a unittest wouldn't be so terrible either :P

But honestly I'm more interested in just moving forward with Thiago's work [1] - I just think it'll just be harder to backport unfortunately (if we decide this is a for realzy security thing that people care about).

attaching the fix to go with Thiago's change

1. https://review.openstack.org/#/c/134347</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cschwede" class="sprite person">Christian Schwede (cschwede)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T10:05:41.684732+00:00" title="2015-03-11 10:05:41 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4340900/+files/acltest.patch">acltest.patch</a>
        <a class="sprite edit action-icon" href="/swift/+bug/1430645/+attachment/4340900">Edit</a>
        (2.0 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Yes, backporting isn&#x27;t that nice, but in this case I would prefer to get this fix merged more sooner than later.</p>
<p>And the fix itself is only a few lines, should be ok to merge it afterwards in Thiagos patch?</p>
<p>I attached a functional test that basically does the same as your shell script - fails on master, passes with your fix.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Yes, backporting isn't that nice, but in this case I would prefer to get this fix merged more sooner than later.

And the fix itself is only a few lines, should be ok to merge it afterwards in Thiagos patch?

I attached a functional test that basically does the same as your shell script - fails on master, passes with your fix.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alistair-coles" class="sprite person">Alistair Coles (alistair-coles)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T11:39:15.247757+00:00" title="2015-03-11 11:39:15 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Confirmed and agree this is a security concern.</p>
<p>Clay&#x27;s patch (this one <a rel="nofollow" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4340823/+files/more-version-auth.patch">https:/<wbr />/bugs.launchpad<wbr />.net/swift/<wbr />+bug/1430645/<wbr />+attachment/<wbr />4340823/<wbr />+files/<wbr />more-version-<wbr />auth.patch</a>) fixes for me running keystone auth and passed existing functional and unit tests so +1 from me.</p>
<p>As an aside, I did end up confused by subsequent functional test failures - see: <a rel="nofollow" href="https://review.openstack.org/163385">https:/<wbr />/review.<wbr />openstack.<wbr />org/163385</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Confirmed and agree this is a security concern.

Clay's patch (this one https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4340823/+files/more-version-auth.patch) fixes for me running keystone auth and passed existing functional and unit tests so +1 from me.

As an aside, I did end up confused by subsequent functional test failures - see: https://review.openstack.org/163385</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
    
    <time title="2015-03-11 12:40:59 UTC" datetime="2015-03-11T12:40:59.183288+00:00">on 2015-03-11</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Confirmed
      </td>
    </tr>
  
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T13:21:44.881887+00:00" title="2015-03-11 13:21:44 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks for the report! I&#x27;ve added and confirmed the OSSA task.</p>
<p>Here is impact description draft #1:</p>
<p>Title: Unauthorized delete of versioned Swift object<br />
Reporter: Clay Gerrard (Rackspace)<br />
Products: Swift<br />
Affects: up to version 2.2.2</p>
<p>Description:<br />
Clay Gerrard from Rackspace reported a vulnerability in Swift object versioning. An authenticated user can delete the most recent version of any versioned object who&#x27;s name is known if the user have listing access to the x-versions-location container. Only Swift setups with allow_version setting are affected.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks for the report! I've added and confirmed the OSSA task.

Here is impact description draft #1:

Title: Unauthorized delete of versioned Swift object
Reporter: Clay Gerrard (Rackspace)
Products: Swift
Affects: up to version 2.2.2

Description:
Clay Gerrard from Rackspace reported a vulnerability in Swift object versioning. An authenticated user can delete the most recent version of any versioned object who's name is known if the user have listing access to the x-versions-location container. Only Swift setups with allow_version setting are affected.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T14:05:31.232556+00:00" title="2015-03-11 14:05:31 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The discussion in <a rel="nofollow" href="https://review.openstack.org/134347">https:/<wbr />/review.<wbr />openstack.<wbr />org/134347</a> is sort of skirting this vulnerability, just need to remain careful to keep it under wraps until we settle on a disclosure date. I recommend subscribing Thiago to this bug report so that we&#x27;re all on the same page.</p>
<p>Assuming this is something that the Swift developers want fixed for currently supported stable branches, we&#x27;ll need some sort of backports conforming to our stable branch maintenance requirements. If this ends up only being fixed in the master branch instead then we would forgo any advisory and just switch the bug to public once the determination is made.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The discussion in https://review.openstack.org/134347 is sort of skirting this vulnerability, just need to remain careful to keep it under wraps until we settle on a disclosure date. I recommend subscribing Thiago to this bug report so that we're all on the same page.

Assuming this is something that the Swift developers want fixed for currently supported stable branches, we'll need some sort of backports conforming to our stable branch maintenance requirements. If this ends up only being fixed in the master branch instead then we would forgo any advisory and just switch the bug to public once the determination is made.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~clay-gerrard" class="sprite person">clayg (clay-gerrard)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T15:47:38.205681+00:00" title="2015-03-11 15:47:38 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Tristan Cacqueray,</p>
<p>I&#x27;m currently employed @ SwiftStack and we like to know how I can update the source from which you got that out-dated information.</p>
<p>Jeremy Stanley,</p>
<p>We can do that?  That&#x27;s a totally great idea.  I totally did that.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Tristan Cacqueray,

I'm currently employed @ SwiftStack and we like to know how I can update the source from which you got that out-dated information.

Jeremy Stanley,

We can do that?  That's a totally great idea.  I totally did that.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alistair-coles" class="sprite person">Alistair Coles (alistair-coles)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T18:48:55.212529+00:00" title="2015-03-11 18:48:55 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Christian thanks for working on a test. I applied your patch from <a rel="nofollow" href="https://bugs.launchpad.net/swift/+bug/1430645/comments/5">https:/<wbr />/bugs.launchpad<wbr />.net/swift/<wbr />+bug/1430645/<wbr />comments/<wbr />5</a><br />
but see another test fail - must be some test coupling, perhaps you have overridden the default account in the test env?</p>
<p>```<br />
swift@saio-<wbr />1:~/swift$ nosetests ./test/<wbr />functional/<wbr />tests.py:<wbr />TestObjectVersi<wbr />oning -m test_versioning_<br />
SKIPPING FUNCTIONAL TESTS SPECIFIC TO AUTH VERSION 3<br />
SKIPPING FUNCTIONAL TESTS SPECIFIC TO SERVICE TOKENS<br />
test_versioning<wbr />_check_<wbr />acl (test.functiona<wbr />l.tests.<wbr />TestObjectVersi<wbr />oning) ... ok<br />
test_versioning_dlo (test.functiona<wbr />l.tests.<wbr />TestObjectVersi<wbr />oning) ... FAIL</p>
<p>=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<wbr />=======<br />
FAIL: test_versioning_dlo (test.functiona<wbr />l.tests.<wbr />TestObjectVersi<wbr />oning)<br />
-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<br />
Traceback (most recent call last):<br />
&nbsp;&nbsp;File &quot;/home/<wbr />swift/swift/<wbr />test/functional<wbr />/tests.<wbr />py&quot;, line 2550, in test_versioning_dlo<br />
&nbsp;&nbsp;&nbsp;&nbsp;self.<wbr />assertEqual(<wbr />3, versions_<wbr />container.<wbr />info()[<wbr />&#x27;object_<wbr />count&#x27;]<wbr />)<br />
AssertionError: 3 != 4<br />
&nbsp;&nbsp;&nbsp;&nbsp;&#x27;3 != 4&#x27; = &#x27;%s != %s&#x27; % (safe_repr(3), safe_repr(4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&#x27;3 != 4&#x27; = self._formatMes<wbr />sage(&#x27;3 != 4&#x27;, &#x27;3 != 4&#x27;)<br />
<span class="foldable-quoted">
&gt;&gt;  raise self.failureExc<wbr />eption(<wbr />&#x27;3 != 4&#x27;)
</span></p>
<p>-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<br />
Ran 2 tests in 64.834s</p>
<p>FAILED (failures=1)<br />
```</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Christian thanks for working on a test. I applied your patch from https://bugs.launchpad.net/swift/+bug/1430645/comments/5
but see another test fail - must be some test coupling, perhaps you have overridden the default account in the test env?

```
swift@saio-1:~/swift$ nosetests ./test/functional/tests.py:TestObjectVersioning -m test_versioning_
SKIPPING FUNCTIONAL TESTS SPECIFIC TO AUTH VERSION 3
SKIPPING FUNCTIONAL TESTS SPECIFIC TO SERVICE TOKENS
test_versioning_check_acl (test.functional.tests.TestObjectVersioning) ... ok
test_versioning_dlo (test.functional.tests.TestObjectVersioning) ... FAIL

======================================================================
FAIL: test_versioning_dlo (test.functional.tests.TestObjectVersioning)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/swift/swift/test/functional/tests.py", line 2550, in test_versioning_dlo
    self.assertEqual(3, versions_container.info()['object_count'])
AssertionError: 3 != 4
    '3 != 4' = '%s != %s' % (safe_repr(3), safe_repr(4))
    '3 != 4' = self._formatMessage('3 != 4', '3 != 4')
&gt;&gt;  raise self.failureException('3 != 4')
    

----------------------------------------------------------------------
Ran 2 tests in 64.834s

FAILED (failures=1)
```</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T19:34:55.188897+00:00" title="2015-03-11 19:34:55 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Clay, I pulled that info from your openstack community member profile ( <a rel="nofollow" href="https://www.openstack.org/profile/">https:/<wbr />/www.openstack.<wbr />org/profile/</a> ).</p>
<p>Other than that, is the impact description accurate enough ?</p>
<p>Title: Unauthorized delete of versioned Swift object<br />
Reporter: Clay Gerrard (SwiftStack)<br />
Products: Swift<br />
Affects: up to version 2.2.2</p>
<p>Description:<br />
Clay Gerrard from SwiftStack reported a vulnerability in Swift object versioning. An authenticated user can delete the most recent version of any versioned object who&#x27;s name is known if the user have listing access to the x-versions-location container. Only Swift setups with allow_version setting are affected.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Clay, I pulled that info from your openstack community member profile ( https://www.openstack.org/profile/ ).

Other than that, is the impact description accurate enough ?

Title: Unauthorized delete of versioned Swift object
Reporter: Clay Gerrard (SwiftStack)
Products: Swift
Affects: up to version 2.2.2

Description:
Clay Gerrard from SwiftStack reported a vulnerability in Swift object versioning. An authenticated user can delete the most recent version of any versioned object who's name is known if the user have listing access to the x-versions-location container. Only Swift setups with allow_version setting are affected.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cschwede" class="sprite person">Christian Schwede (cschwede)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-12T08:44:37.587497+00:00" title="2015-03-12 08:44:37 UTC">on 2015-03-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4342406/+files/acltest.patch">acltest.patch</a>
        <a class="sprite edit action-icon" href="/swift/+bug/1430645/+attachment/4342406">Edit</a>
        (2.1 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@Alistair: yes, you&#x27;re right - the reason is that each test uses the same container, but that container is not cleared between the tests and there is still one object stored after running the new test. Fixed in the attachment.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@Alistair: yes, you're right - the reason is that each test uses the same container, but that container is not cleared between the tests and there is still one object stored after running the new test. Fixed in the attachment.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~notmyname" class="sprite person">John Dickinson (notmyname)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-12T18:14:08.658650+00:00" title="2015-03-12 18:14:08 UTC">on 2015-03-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Tristan, is there a mailing list for notifying deployers before this is made public?</p>
<p>I&#x27;m working on the timing for the release of this.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Tristan, is there a mailing list for notifying deployers before this is made public?

I'm working on the timing for the release of this.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-12T18:28:37.975064+00:00" title="2015-03-12 18:28:37 UTC">on 2015-03-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>John, for bugs under embargo, we do notify stakeholders before disclosure, it&#x27;s part of the vulnerability management process. Though there is no mailing list, it&#x27;s a simple recipient list maintained by the VMT.</p>
<p>However for this bug we still need:<br />
* patch (for master and impacted stable branchs) to be reviewed and approved<br />
* impact description to be approved<br />
* CVE (to be requested with the approved impact description)</p>
<p>Then we can move on to choosing a proper disclosure date and send the advance notification.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">John, for bugs under embargo, we do notify stakeholders before disclosure, it's part of the vulnerability management process. Though there is no mailing list, it's a simple recipient list maintained by the VMT.

However for this bug we still need:
* patch (for master and impacted stable branchs) to be reviewed and approved
* impact description to be approved
* CVE (to be requested with the approved impact description)

Then we can move on to choosing a proper disclosure date and send the advance notification.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~notmyname" class="sprite person">John Dickinson (notmyname)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-12T18:39:37+00:00" title="2015-03-12 18:39:37 UTC">on 2015-03-12</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/15">
                <strong>Re: [Bug 1430645] unauthorized delete from container with x-version-location</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/swift/+bug/1430645/comments/15/+download">Download full text</a> (3.4 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks for the info.</p>
<p>Yes, i know there&#x27;s some other stuff to complete. But I wanted to understand what happens. I&#x27;d prefer that (once the other things have happened) we let the affected parties know, then release a couple of weeks after that so they can have time to patch.</p>
<p>I&#x27;m working on the other parts now.</p>
<p><span class="foldable-quoted">&gt; On Mar 12, 2015, at 11:28 AM, Tristan Cacqueray &lt;email address hidden&gt; wrote:<br />
&gt;<br />
&gt; John, for bugs under embargo, we do notify stakeholders before<br />
&gt; disclosure, it&#x27;s part of the vulnerability management process. Though<br />
&gt; there is no mailing list, it&#x27;s a simple recipient list maintained by the<br />
&gt; VMT.<br />
&gt;<br />
&gt; However for this bug we still need:<br />
&gt; * patch (for master and impacted stable branchs) to be reviewed and approved<br />
&gt; * impact description to be approved<br />
&gt; * CVE (to be requested with the approved impact description)<br />
&gt;<br />
&gt; Then we can move on to choosing a proper disclosure date and send the<br />
&gt; advance notification.<br />
&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are subscribed to<br />
&gt; OpenStack Object Storage (swift).<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/1430645">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1430645</a><br />
&gt;<br />
&gt; Title:<br />
&gt;  unauthorized delete from container with x-version-location<br />
&gt;<br />
&gt; Status in OpenStack Security Advisories:<br />
&gt;  Confirmed<br />
&gt; Status in OpenStack Object Storage (Swift):<br />
&gt;  Confirmed<br />
&gt;<br />
&gt; Bug description:<br />
&gt;  --<br />
&gt;  This issue is being treated as a potential security risk under embargo. Please do not make any public mention of embargoed (private) security vulnerabilities before their coordinated publication by the OpenStack Vulnerability Management Team in the form of an official OpenStack Security Advisory. This includes discussion of the bug or associated fixes in public forums such as mailing lists, code review systems and bug trackers. Please also avoid private disclosure to other individuals not already approved for access to this information, and provide this same reminder to those who are made aware of the issue prior to publication. All discussion should remain confined to this private bug report, and any proposed fixes should be added as to the bug as attachments.<br />
&gt;  --<br />
&gt;<br />
&gt;  The handling of object versions wrt container ACL&#x27;s has been an area<br />
&gt;  of interest lately and some questionable authorization behaviors have<br />
&gt;  come to light:<br />
&gt;<br />
&gt;  <a rel="nofollow" href="https://etherpad.openstack.org/p/object_version_and_ACL_use_cases">https:/<wbr />/etherpad.<wbr />openstack.<wbr />org/p/object_<wbr />version_<wbr />and_ACL_<wbr />use_cases</a><br />
&gt;<br />
&gt;  Unfortunately I just discovered another one that actually seems<br />
&gt;  damaging.  Ability to destroy data without write access.<br />
&gt;<br />
&gt;  Any authenticated used can overwrite the most recent versions of any<br />
&gt;  versioned object who&#x27;s name is known in a container with the X<br />
&gt;  -Versions-Location metadata field set if they have listing access to<br />
&gt;  the x-versions-location container - regardless of their write<br />
&gt;  authorization to the container.  Basically if you can list an x<br />
&gt;  -versions-location container you can overwrite all the current data in<br />
&gt;  the source container (if you know it&#x27;s name) with old copies even if<br />
&gt;  you don&#x27;t have write (or read) access to the source container.<br />
&gt;<br />
&gt;  Basically we&#x27;re creating a preauthorized COPY from from the x<br />
&gt;  -versions-location container (assuming the user has listing access to<br />
&gt;  the x-versions-location contain...
</span></p></div>
    
    <p>
      <a href="/swift/+bug/1430645/comments/15">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks for the info.

Yes, i know there's some other stuff to complete. But I wanted to understand what happens. I'd prefer that (once the other things have happened) we let the affected parties know, then release a couple of weeks after that so they can have time to patch.

I'm working on the other parts now.


&gt; On Mar 12, 2015, at 11:28 AM, Tristan Cacqueray &lt;tristan.cacqueray@enovance.com&gt; wrote:
&gt; 
&gt; John, for bugs under embargo, we do notify stakeholders before
&gt; disclosure, it's part of the vulnerability management process. Though
&gt; there is no mailing list, it's a simple recipient list maintained by the
&gt; VMT.
&gt; 
&gt; However for this bug we still need:
&gt; * patch (for master and impacted stable branchs) to be reviewed and approved
&gt; * impact description to be approved
&gt; * CVE (to be requested with the approved impact description)
&gt; 
&gt; Then we can move on to choosing a proper disclosure date and send the
&gt; advance notification.
&gt; 
&gt; --
&gt; You received this bug notification because you are subscribed to
&gt; OpenStack Object Storage (swift).
&gt; https://bugs.launchpad.net/bugs/1430645
&gt; 
&gt; Title:
&gt;  unauthorized delete from container with x-version-location
&gt; 
&gt; Status in OpenStack Security Advisories:
&gt;  Confirmed
&gt; Status in OpenStack Object Storage (Swift):
&gt;  Confirmed
&gt; 
&gt; Bug description:
&gt;  --
&gt;  This issue is being treated as a potential security risk under embargo. Please do not make any public mention of embargoed (private) security vulnerabilities before their coordinated publication by the OpenStack Vulnerability Management Team in the form of an official OpenStack Security Advisory. This includes discussion of the bug or associated fixes in public forums such as mailing lists, code review systems and bug trackers. Please also avoid private disclosure to other individuals not already approved for access to this information, and provide this same reminder to those who are made aware of the issue prior to publication. All discussion should remain confined to this private bug report, and any proposed fixes should be added as to the bug as attachments.
&gt;  --
&gt; 
&gt;  The handling of object versions wrt container ACL's has been an area
&gt;  of interest lately and some questionable authorization behaviors have
&gt;  come to light:
&gt; 
&gt;  https://etherpad.openstack.org/p/object_version_and_ACL_use_cases
&gt; 
&gt;  Unfortunately I just discovered another one that actually seems
&gt;  damaging.  Ability to destroy data without write access.
&gt; 
&gt;  Any authenticated used can overwrite the most recent versions of any
&gt;  versioned object who's name is known in a container with the X
&gt;  -Versions-Location metadata field set if they have listing access to
&gt;  the x-versions-location container - regardless of their write
&gt;  authorization to the container.  Basically if you can list an x
&gt;  -versions-location container you can overwrite all the current data in
&gt;  the source container (if you know it's name) with old copies even if
&gt;  you don't have write (or read) access to the source container.
&gt; 
&gt;  Basically we're creating a preauthorized COPY from from the x
&gt;  -versions-location container (assuming the user has listing access to
&gt;  the x-versions-location container, and an old version exists) without
&gt;  checking to see if authenticated user has write access to the
&gt;  destination.
&gt; 
&gt;  Script to reproduce the problem is attached.
&gt; 
&gt;  Possible patch to follow.
&gt; 
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/ossa/+bug/1430645/+subscriptions

</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cschwede" class="sprite person">Christian Schwede (cschwede)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-13T16:16:58.273241+00:00" title="2015-03-13 16:16:58 UTC">on 2015-03-13</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/16">
                <strong>Re: unauthorized delete from container with x-version-location</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;m adding part of the review for the versioned write refactoring patch here to keep it private for now.</p>
<p>Thiago, thanks for updating the patch ( <a rel="nofollow" href="https://review.openstack.org/#/c/134347">https:/<wbr />/review.<wbr />openstack.<wbr />org/#/c/<wbr />134347</a>). I have one question: in <a rel="nofollow" href="https://review.openstack.org/#/c/134347/25/test/functional/tests.py">https:/<wbr />/review.<wbr />openstack.<wbr />org/#/c/<wbr />134347/<wbr />25/test/<wbr />functional/<wbr />tests.py</a> line 2738 ff. we should ensure that none of the versioned objects itself is deleted (because account2 has no write permission there). So account2 might be able to delete the original object (which needs to be discussed if there is no write access to the version container), but the test needs to ensure nothing is deleted in the version container. Or am I wrong?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'm adding part of the review for the versioned write refactoring patch here to keep it private for now.

Thiago, thanks for updating the patch ( https://review.openstack.org/#/c/134347). I have one question: in https://review.openstack.org/#/c/134347/25/test/functional/tests.py line 2738 ff. we should ensure that none of the versioned objects itself is deleted (because account2 has no write permission there). So account2 might be able to delete the original object (which needs to be discussed if there is no write access to the version container), but the test needs to ensure nothing is deleted in the version container. Or am I wrong?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~thiagodasilva" class="sprite person">Thiago da Silva (thiagodasilva)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-13T17:46:36+00:00" title="2015-03-13 17:46:36 UTC">on 2015-03-13</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/17">
                <strong>Re: [Bug 1430645] Re: unauthorized delete from container with x-version-location</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Fri, 2015-03-13 at 16:16 +0000, Christian Schwede wrote:<br />
<span class="foldable-quoted">
&gt; I&#x27;m adding part of the review for the versioned write refactoring patch<br />
&gt; here to keep it private for now.<br />
&gt;<br />
&gt; Thiago, thanks for updating the patch (<br />
&gt; <a rel="nofollow" href="https://review.openstack.org/#/c/134347">https:/<wbr />/review.<wbr />openstack.<wbr />org/#/c/<wbr />134347</a>). I have one question: in<br />
&gt; <a rel="nofollow" href="https://review.openstack.org/#/c/134347/25/test/functional/tests.py">https:/<wbr />/review.<wbr />openstack.<wbr />org/#/c/<wbr />134347/<wbr />25/test/<wbr />functional/<wbr />tests.py</a> line<br />
&gt; 2738 ff. we should ensure that none of the versioned objects itself is<br />
&gt; deleted (because account2 has no write permission there). So account2<br />
&gt; might be able to delete the original object (which needs to be discussed<br />
&gt; if there is no write access to the version container), but the test<br />
&gt; needs to ensure nothing is deleted in the version container. Or am I<br />
&gt; wrong?<br />
&gt;<br />
</span>

Yes, this is correct. I&#x27;m adding a test to make sure account2 cannot<br />
delete a previous version of the object (i.e., directly on the versioned<br />
container), but is able to delete the latest object from the &quot;source&quot;<br />
container, because he has write access to it.<br />
In addition, I also added a third user with no access whatsoever to test<br />
deleting from either container.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Fri, 2015-03-13 at 16:16 +0000, Christian Schwede wrote:
&gt; I'm adding part of the review for the versioned write refactoring patch
&gt; here to keep it private for now.
&gt; 
&gt; Thiago, thanks for updating the patch (
&gt; https://review.openstack.org/#/c/134347). I have one question: in
&gt; https://review.openstack.org/#/c/134347/25/test/functional/tests.py line
&gt; 2738 ff. we should ensure that none of the versioned objects itself is
&gt; deleted (because account2 has no write permission there). So account2
&gt; might be able to delete the original object (which needs to be discussed
&gt; if there is no write access to the version container), but the test
&gt; needs to ensure nothing is deleted in the version container. Or am I
&gt; wrong?
&gt; 
Yes, this is correct. I'm adding a test to make sure account2 cannot
delete a previous version of the object (i.e., directly on the versioned
container), but is able to delete the latest object from the "source"
container, because he has write access to it.
In addition, I also added a third user with no access whatsoever to test
deleting from either container.


</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2015-03-16 15:23:16 UTC" datetime="2015-03-16T15:23:16.638209+00:00">on 2015-03-16</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Medium
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~notmyname" class="sprite person">John Dickinson (notmyname)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-17T23:43:17.920520+00:00" title="2015-03-17 23:43:17 UTC">on 2015-03-17</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/18">
                <strong>Re: unauthorized delete from container with x-version-location</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4348555/+files/fixver.patch">fixver.patch</a>
        <a class="sprite edit action-icon" href="/swift/+bug/1430645/+attachment/4348555">Edit</a>
        (6.9 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Here is a combined (fix+tests) against master. If this patch is ok, I&#x27;ll also create the necessary backport patches.</p>
<p>The only outstanding question I have is the unittests. The test I write counts the number of authorize calls. It fails on master and passes here, but I&#x27;m not sure if there is a better way to check the functionality instead of just a call count.</p>
<p>You can apply the patch with `git apply fixver.patch`</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Here is a combined (fix+tests) against master. If this patch is ok, I'll also create the necessary backport patches.

The only outstanding question I have is the unittests. The test I write counts the number of authorize calls. It fails on master and passes here, but I'm not sure if there is a better way to check the functionality instead of just a call count.


You can apply the patch with `git apply fixver.patch`
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alistair-coles" class="sprite person">Alistair Coles (alistair-coles)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-20T11:25:59.777555+00:00" title="2015-03-20 11:25:59 UTC">on 2015-03-20</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>-1 for the patch attached to #18</p>
<p>I&#x27;m still seeing test coupling: if test_versioning<wbr />_check_<wbr />acl fails then it leaves an object in ther versions ocntainer. SInce all tests in this class use the same ocntainers, that stray object causes test_versioning_dlo to fail when asserting object count in the versions container.</p>
<p>See attached modified patch:</p>
<p>I think we need a tearDown method that will clear out the containers between tests.</p>
<p>Also, if test_versioning<wbr />_check_<wbr />acl assertion on ResponseError being raises fails, the second account token remains set inthe connection, causing subsequent operations to fail, including teardown. So, wrap request with a try/finally.</p>
<p>Added another unit test suggestion.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">-1 for the patch attached to #18

I'm still seeing test coupling: if test_versioning_check_acl fails then it leaves an object in ther versions ocntainer. SInce all tests in this class use the same ocntainers, that stray object causes test_versioning_dlo to fail when asserting object count in the versions container.

See attached modified patch:

I think we need a tearDown method that will clear out the containers between tests.

Also, if test_versioning_check_acl assertion on ResponseError being raises fails, the second account token remains set inthe connection, causing subsequent operations to fail, including teardown. So, wrap request with a try/finally.

Added another unit test suggestion.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alistair-coles" class="sprite person">Alistair Coles (alistair-coles)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-20T11:35:35.864623+00:00" title="2015-03-20 11:35:35 UTC">on 2015-03-20</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4350647/+files/acoles-version-attack.patch">acoles-version-attack.patch</a>
        <a class="sprite edit action-icon" href="/swift/+bug/1430645/+attachment/4350647">Edit</a>
        (9.9 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Here&#x27;s the patch!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Here's the patch!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~darrellb" class="sprite person">Darrell Bishop (darrellb)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-24T16:45:57.126400+00:00" title="2015-03-24 16:45:57 UTC">on 2015-03-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>+2 for the latest patch; works like a champ and the tests look fine to me (not too worried about the authorize-<wbr />call-count-<wbr />as-proxy bit).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">+2 for the latest patch; works like a champ and the tests look fine to me (not too worried about the authorize-call-count-as-proxy bit).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~notmyname" class="sprite person">John Dickinson (notmyname)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-26T21:50:43.688725+00:00" title="2015-03-26 21:50:43 UTC">on 2015-03-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;m +2 on the last patch as well (Alistair&#x27;s in #20).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'm +2 on the last patch as well (Alistair's in #20).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cschwede" class="sprite person">Christian Schwede (cschwede)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-27T08:16:09.315706+00:00" title="2015-03-27 08:16:09 UTC">on 2015-03-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;m also +2 on the updated patch from Alistair.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'm also +2 on the updated patch from Alistair.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2015-03-30 14:17:17 UTC" datetime="2015-03-30T14:17:17.902948+00:00">on 2015-03-30</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; Triaged
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-30T17:05:37.220279+00:00" title="2015-03-30 17:05:37 UTC">on 2015-03-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Can we get a properly formated patch (using git patch) in order to keep authorship and have a proper commit message embedded ?</p>
<p>Also the patch fails to apply on stable/icehouse. Can you post separate patchs for Icehouse and Juno too ?</p>
<p>Finally, can someone approve the impact description proposed in comment #11 ?</p>
<p>If we can get these done by the end of the week, we could have a disclosure date set to:<br />
2015-04-08, 1500UTC</p>
<p>Just in time before kilo-rc... what do you think ?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Can we get a properly formated patch (using git patch) in order to keep authorship and have a proper commit message embedded ?

Also the patch fails to apply on stable/icehouse. Can you post separate patchs for Icehouse and Juno too ?

Finally, can someone approve the impact description proposed in comment #11 ?

If we can get these done by the end of the week, we could have a disclosure date set to:
2015-04-08, 1500UTC

Just in time before kilo-rc... what do you think ?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~notmyname" class="sprite person">John Dickinson (notmyname)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-30T17:25:08.594249+00:00" title="2015-03-30 17:25:08 UTC">on 2015-03-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ll work on stable backports later this week.</p>
<p>For the description, how do we reference the versions affected? I need to check on that, too, this week. (Versioned writes were introduced in 1.5.0, but I don&#x27;t know yet if the issue goes back that far.)</p>
<p>Now about the disclosure date: Does that give enough time for deployers to patch and deploy before it&#x27;s announced?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'll work on stable backports later this week.


For the description, how do we reference the versions affected? I need to check on that, too, this week. (Versioned writes were introduced in 1.5.0, but I don't know yet if the issue goes back that far.)



Now about the disclosure date: Does that give enough time for deployers to patch and deploy before it's announced?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-30T19:38:24.442826+00:00" title="2015-03-30 19:38:24 UTC">on 2015-03-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks!</p>
<p>For the description, by default we only reference supported stable version, assuming older version are vulnerable. Though if you can date when the bug was introduced, then it worth a mention in the affected line, e.g.:</p>
<p>Affects: 1.5.0 version through 2.2.2</p>
<p>About the disclosure date, we usually give stakeholders 3-5 business days, excluding Monday/Friday and holiday periods... When is the next version of swift supposed to be released ?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks!

For the description, by default we only reference supported stable version, assuming older version are vulnerable. Though if you can date when the bug was introduced, then it worth a mention in the affected line, e.g.:

Affects: 1.5.0 version through 2.2.2


About the disclosure date, we usually give stakeholders 3-5 business days, excluding Monday/Friday and holiday periods... When is the next version of swift supposed to be released ?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alistair-coles" class="sprite person">Alistair Coles (alistair-coles)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-31T09:23:52.613532+00:00" title="2015-03-31 09:23:52 UTC">on 2015-03-31</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4361760/+files/0001-Prevent-unauthorized-delete-in-versioned-container.patch">0001-Prevent-unauthorized-delete-in-versioned-container.patch</a>
        <a class="sprite edit action-icon" href="/swift/+bug/1430645/+attachment/4361760">Edit</a>
        (10.8 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>formatted patch attached, exact same code changes as the one i posted in #20</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">formatted patch attached, exact same code changes as the one i posted in #20</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/28" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-02T13:14:06.093144+00:00" title="2015-04-02 13:14:06 UTC">on 2015-04-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/28"> #28</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Please review attached patch on the bug so that we can communicate it (and its backports) to the downstream stakeholders, in time for matching the Swift RC1 !</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Please review attached patch on the bug so that we can communicate it (and its backports) to the downstream stakeholders, in time for matching the Swift RC1 !</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/29" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~cschwede" class="sprite person">Christian Schwede (cschwede)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-02T14:03:02.853756+00:00" title="2015-04-02 14:03:02 UTC">on 2015-04-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/29"> #29</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Latest patch (#27 from Alistair) is fine with me. +1</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Latest patch (#27 from Alistair) is fine with me. +1</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/30" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alistair-coles" class="sprite person">Alistair Coles (alistair-coles)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-02T14:33:23.370674+00:00" title="2015-04-02 14:33:23 UTC">on 2015-04-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/30"> #30</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>In case its not obvious, I&#x27;m +1 for patch at #27</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">In case its not obvious, I'm +1 for patch at #27</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/31" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alistair-coles" class="sprite person">Alistair Coles (alistair-coles)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-03T17:17:43.587379+00:00" title="2015-04-03 17:17:43 UTC">on 2015-04-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/31"> #31</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4365224/+files/0001-Prevent-unauthorized-delete-in-versioned-container.patch">patch for stable/juno</a>
        <a class="sprite edit action-icon" href="/swift/+bug/1430645/+attachment/4365224">Edit</a>
        (10.8 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>If I did this right this patch is for stable/juno, based on commit 70e35c6</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">If I did this right this patch is for stable/juno, based on commit 70e35c6</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/32" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alistair-coles" class="sprite person">Alistair Coles (alistair-coles)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-03T18:02:29.838879+00:00" title="2015-04-03 18:02:29 UTC">on 2015-04-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/32"> #32</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4365234/+files/acoles-version-attack-icehouse.patch">patch for stable/icehouse</a>
        <a class="sprite edit action-icon" href="/swift/+bug/1430645/+attachment/4365234">Edit</a>
        (8.7 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>and here&#x27;s one for stable/icehouse</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">and here's one for stable/icehouse</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/33" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~notmyname" class="sprite person">John Dickinson (notmyname)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-03T22:15:58.102937+00:00" title="2015-04-03 22:15:58 UTC">on 2015-04-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/33"> #33</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>juno version looks good</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">juno version looks good</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/34" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~notmyname" class="sprite person">John Dickinson (notmyname)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-03T23:03:45.501867+00:00" title="2015-04-03 23:03:45 UTC">on 2015-04-03</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/34"> #34</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>icehouse version looks good</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">icehouse version looks good</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/35" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-06T14:02:13.070660+00:00" title="2015-04-06 14:02:13 UTC">on 2015-04-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/35"> #35</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>John, I think the impact description in comment #11 is accurate enough to request a CVE, we can get a more precise affected versions for the final OSSA document.</p>
<p>Can someone please approve it.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">John, I think the impact description in comment #11 is accurate enough to request a CVE, we can get a more precise affected versions for the final OSSA document.

Can someone please approve it.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/36" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~notmyname" class="sprite person">John Dickinson (notmyname)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-07T20:26:35.162302+00:00" title="2015-04-07 20:26:35 UTC">on 2015-04-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/36"> #36</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The description in #11 is accurate</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The description in #11 is accurate</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/37" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-08T15:29:57.839686+00:00" title="2015-04-08 15:29:57 UTC">on 2015-04-08</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/37">
                <strong>Re: unauthorized delete from container with x-version-location (CVE-2015-1856)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/37"> #37</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Proposed disclosure date/time:<br />
2015-04-14, 1500UTC</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Proposed disclosure date/time:
2015-04-14, 1500UTC</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
          unauthorized delete from container with x-version-location<br />+ (CVE-2015-1856)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
    
    <time title="2015-04-08 20:43:41 UTC" datetime="2015-04-08T20:43:41.922405+00:00">on 2015-04-08</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Triaged &#8594; Fix Committed
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
    
    <time title="2015-04-14 14:59:46 UTC" datetime="2015-04-14T14:59:46.123410+00:00">on 2015-04-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/38" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-14T15:01:10.356030+00:00" title="2015-04-14 15:01:10 UTC">on 2015-04-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/38">
                <strong>Fix proposed to swift (stable/juno)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/38"> #38</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/juno<br />
Review: <a rel="nofollow" href="https://review.openstack.org/173363">https:/<wbr />/review.<wbr />openstack.<wbr />org/173363</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/juno
Review: https://review.openstack.org/173363</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/39" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-14T15:01:53.980211+00:00" title="2015-04-14 15:01:53 UTC">on 2015-04-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/39">
                <strong>Fix proposed to swift (stable/icehouse)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/39"> #39</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/icehouse<br />
Review: <a rel="nofollow" href="https://review.openstack.org/173366">https:/<wbr />/review.<wbr />openstack.<wbr />org/173366</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/icehouse
Review: https://review.openstack.org/173366</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/40" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-14T16:37:47.416392+00:00" title="2015-04-14 16:37:47 UTC">on 2015-04-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/40">
                <strong>Re: unauthorized delete from container with x-version-location (CVE-2015-1856)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/40"> #40</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Master (kilo) review is: <a rel="nofollow" href="https://review.openstack.org/173361/">https:/<wbr />/review.<wbr />openstack.<wbr />org/173361/</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Master (kilo) review is: https://review.openstack.org/173361/</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/41" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-14T16:38:07.982272+00:00" title="2015-04-14 16:38:07 UTC">on 2015-04-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/41">
                <strong>Fix merged to swift (stable/icehouse)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/41"> #41</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.openstack.org/173366">https:/<wbr />/review.<wbr />openstack.<wbr />org/173366</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/swift/commit/?id=f6525758ab2456d688430699338993439597a789">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />swift/commit/<wbr />?id=f6525758ab2<wbr />456d68843069933<wbr />8993439597a789</a><br />
Submitter: Jenkins<br />
Branch:    stable/icehouse</p>
<p>commit f6525758ab2456d<wbr />688430699338993<wbr />439597a789<br />
Author: Alistair Coles &lt;email address hidden&gt;<br />
Date:   Fri Apr 3 18:46:20 2015 +0100</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Prevent unauthorized delete in versioned container</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;An authenticated user can delete the most recent version of any<br />
&nbsp;&nbsp;&nbsp;&nbsp;versioned object who&#x27;s name is known if the user has listing access<br />
&nbsp;&nbsp;&nbsp;&nbsp;to the x-versions-location container. Only Swift setups with<br />
&nbsp;&nbsp;&nbsp;&nbsp;allow_version setting are affected.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;This patch closes this bug, tracked as CVE-2015-1856.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Clay Gerrard &lt;email address hidden&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Christian Schwede &lt;email address hidden&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Alistair Coles &lt;email address hidden&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: 1430645</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Icde494a9a2c851<wbr />034813cbc3855a2<wbr />0335b643f09</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.openstack.org/173366
Committed: https://git.openstack.org/cgit/openstack/swift/commit/?id=f6525758ab2456d688430699338993439597a789
Submitter: Jenkins
Branch:    stable/icehouse

commit f6525758ab2456d688430699338993439597a789
Author: Alistair Coles &lt;alistair.coles@hp.com&gt;
Date:   Fri Apr 3 18:46:20 2015 +0100

    Prevent unauthorized delete in versioned container
    
    An authenticated user can delete the most recent version of any
    versioned object who's name is known if the user has listing access
    to the x-versions-location container. Only Swift setups with
    allow_version setting are affected.
    
    This patch closes this bug, tracked as CVE-2015-1856.
    
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    Co-Authored-By: Christian Schwede &lt;info@cschwede.de&gt;
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    
    Closes-Bug: 1430645
    
    Change-Id: Icde494a9a2c851034813cbc3855a20335b643f09
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-icehouse
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in swift: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; Fix Committed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/42" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-14T16:42:01.369826+00:00" title="2015-04-14 16:42:01 UTC">on 2015-04-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/42">
                <strong>Fix merged to swift (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/42"> #42</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.openstack.org/173361">https:/<wbr />/review.<wbr />openstack.<wbr />org/173361</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/swift/commit/?id=dd9d97458ea007024220a78dba8dd663e8b425d7">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />swift/commit/<wbr />?id=dd9d97458ea<wbr />007024220a78dba<wbr />8dd663e8b425d7</a><br />
Submitter: Jenkins<br />
Branch:    master</p>
<p>commit dd9d97458ea0070<wbr />24220a78dba8dd6<wbr />63e8b425d7<br />
Author: John Dickinson &lt;email address hidden&gt;<br />
Date:   Fri Mar 20 10:17:25 2015 +0000</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Prevent unauthorized delete in versioned container</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;An authenticated user can delete the most recent version of any<br />
&nbsp;&nbsp;&nbsp;&nbsp;versioned object who&#x27;s name is known if the user has listing access<br />
&nbsp;&nbsp;&nbsp;&nbsp;to the x-versions-location container. Only Swift setups with<br />
&nbsp;&nbsp;&nbsp;&nbsp;allow_version setting are affected.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;This patch closes this bug, tracked as CVE-2015-1856</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Clay Gerrard &lt;email address hidden&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Christian Schwede &lt;email address hidden&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Alistair Coles &lt;email address hidden&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: 1430645<br />
&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Ibacc7413afe7cb<wbr />6f77d92e5941dcf<wbr />df4768ffa18</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.openstack.org/173361
Committed: https://git.openstack.org/cgit/openstack/swift/commit/?id=dd9d97458ea007024220a78dba8dd663e8b425d7
Submitter: Jenkins
Branch:    master

commit dd9d97458ea007024220a78dba8dd663e8b425d7
Author: John Dickinson &lt;me@not.mn&gt;
Date:   Fri Mar 20 10:17:25 2015 +0000

    Prevent unauthorized delete in versioned container
    
    An authenticated user can delete the most recent version of any
    versioned object who's name is known if the user has listing access
    to the x-versions-location container. Only Swift setups with
    allow_version setting are affected.
    
    This patch closes this bug, tracked as CVE-2015-1856
    
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    Co-Authored-By: Christian Schwede &lt;info@cschwede.de&gt;
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    
    Closes-Bug: 1430645
    Change-Id: Ibacc7413afe7cb6f77d92e5941dcfdf4768ffa18
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/43" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-14T17:22:23.296629+00:00" title="2015-04-14 17:22:23 UTC">on 2015-04-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/43">
                <strong>Fix merged to swift (stable/juno)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/43"> #43</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.openstack.org/173363">https:/<wbr />/review.<wbr />openstack.<wbr />org/173363</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/swift/commit/?id=85afe9316570855c87ea731d0627f6f8f2b73264">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />swift/commit/<wbr />?id=85afe931657<wbr />0855c87ea731d06<wbr />27f6f8f2b73264</a><br />
Submitter: Jenkins<br />
Branch:    stable/juno</p>
<p>commit 85afe9316570855<wbr />c87ea731d0627f6<wbr />f8f2b73264<br />
Author: Alistair Coles &lt;email address hidden&gt;<br />
Date:   Fri Apr 3 17:05:36 2015 +0100</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Prevent unauthorized delete in versioned container</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;An authenticated user can delete the most recent version of any<br />
&nbsp;&nbsp;&nbsp;&nbsp;versioned object who&#x27;s name is known if the user has listing access<br />
&nbsp;&nbsp;&nbsp;&nbsp;to the x-versions-location container. Only Swift setups with<br />
&nbsp;&nbsp;&nbsp;&nbsp;allow_version setting are affected.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;This patch closes this bug, tracked as CVE-2015-1856.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Clay Gerrard &lt;email address hidden&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Christian Schwede &lt;email address hidden&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Alistair Coles &lt;email address hidden&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: 1430645</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I74448c12bc4d4c<wbr />d07d4300f452cf3<wbr />dd6f66ca70a</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.openstack.org/173363
Committed: https://git.openstack.org/cgit/openstack/swift/commit/?id=85afe9316570855c87ea731d0627f6f8f2b73264
Submitter: Jenkins
Branch:    stable/juno

commit 85afe9316570855c87ea731d0627f6f8f2b73264
Author: Alistair Coles &lt;alistair.coles@hp.com&gt;
Date:   Fri Apr 3 17:05:36 2015 +0100

    Prevent unauthorized delete in versioned container
    
    An authenticated user can delete the most recent version of any
    versioned object who's name is known if the user has listing access
    to the x-versions-location container. Only Swift setups with
    allow_version setting are affected.
    
    This patch closes this bug, tracked as CVE-2015-1856.
    
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    Co-Authored-By: Christian Schwede &lt;info@cschwede.de&gt;
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    
    Closes-Bug: 1430645
    
    Change-Id: I74448c12bc4d4cd07d4300f452cf3dd6f66ca70a
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-juno
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
    
    <time title="2015-04-14 18:47:55 UTC" datetime="2015-04-14T18:47:55.584378+00:00">on 2015-04-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - unauthorized delete from container with x-version-location<br />- (CVE-2015-1856)<br />+ [OSSA 2015-006] unauthorized delete from container with x-version-<br />+ location (CVE-2015-1856)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tristan-cacqueray" class="sprite person">Tristan Cacqueray (tristan-cacqueray)</a>
    
    <time title="2015-04-14 19:47:42 UTC" datetime="2015-04-14T19:47:42.106910+00:00">on 2015-04-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
    
    <time title="2015-04-14 21:16:17 UTC" datetime="2015-04-14T21:16:17.425696+00:00">on 2015-04-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2015-04-15 07:39:43 UTC" datetime="2015-04-15T07:39:43.156722+00:00">on 2015-04-15</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in swift: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        none &#8594; 2.3.0-rc1
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/44" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-21T13:45:08.394099+00:00" title="2015-04-21 13:45:08 UTC">on 2015-04-21</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/44">
                <strong>Fix proposed to swift (feature/crypto)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/44"> #44</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: feature/crypto<br />
Review: <a rel="nofollow" href="https://review.openstack.org/175866">https:/<wbr />/review.<wbr />openstack.<wbr />org/175866</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: feature/crypto
Review: https://review.openstack.org/175866</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/swift/+bug/1430645/comments/45" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-04-21T15:22:34.687775+00:00" title="2015-04-21 15:22:34 UTC">on 2015-04-21</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/swift/+bug/1430645/comments/45">
                <strong>Fix merged to swift (feature/crypto)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/swift/+bug/1430645/comments/45"> #45</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/swift/+bug/1430645/comments/45/+download">Download full text</a> (39.4 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.openstack.org/175866">https:/<wbr />/review.<wbr />openstack.<wbr />org/175866</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/swift/commit/?id=5bb7c286ebb4a54e4d2bd5a02845644d1c651183">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />swift/commit/<wbr />?id=5bb7c286ebb<wbr />4a54e4d2bd5a028<wbr />45644d1c651183</a><br />
Submitter: Jenkins<br />
Branch:    feature/crypto</p>
<p>commit e440d6aed8a4084<wbr />8584767ed36811b<wbr />f09c738838<br />
Author: Kota Tsuyuzaki &lt;email address hidden&gt;<br />
Date:   Wed Apr 15 11:25:13 2015 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Fix best response to return correct status</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Current best response could return &quot;503 Internal Server Error&quot;.<br />
&nbsp;&nbsp;&nbsp;&nbsp;However, &quot;503&quot; means &quot;Service Unavailable&quot;. (The status int of<br />
&nbsp;&nbsp;&nbsp;&nbsp;Internal Server Error is 500)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;This patch fixes the response status as &quot;503 Service Unavailable&quot;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I88b8c52c26b19e<wbr />9e76ba3375f1e16<wbr />ced555ed54c</p>
<p>commit 57011d5699d49a4<wbr />7ae89073ff27b39<wbr />140ab4d652<br />
Author: Ricardo Ferreira &lt;email address hidden&gt;<br />
Date:   Thu Mar 12 23:18:33 2015 +0000</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;More user-friendly output for object metadata</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Split out system, user and other metadata in swift-object-info. Print<br />
&nbsp;&nbsp;&nbsp;&nbsp;every position line by line instead of raw dict representation, so it<br />
&nbsp;&nbsp;&nbsp;&nbsp;would be easier to parse with tools such as grep.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Ricardo Ferreira &lt;email address hidden&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;Co-Authored-By: Kamil Rykowski &lt;email address hidden&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Ia78da518c18f7e<wbr />26016700aee87ef<wbr />b534fbd2040<br />
&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: #1428866</p>
<p>commit a162c2bdd7be12d<wbr />aa29dd07230f84e<wbr />fcaf1cab37<br />
Author: OpenStack Proposal Bot &lt;email address hidden&gt;<br />
Date:   Thu Apr 16 06:06:35 2015 +0000</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Imported Translations from Transifex</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;For more information about this automatic import see:<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a rel="nofollow" href="https://wiki.openstack.org/wiki/Translations/Infrastructure">https:/<wbr />/wiki.openstack<wbr />.org/wiki/<wbr />Translations/<wbr />Infrastructure</a></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I48ba06f4801ff2<wbr />d7856d67e74d2b1<wbr />f76c550fcf4</p>
<p>commit 52b102163e48dc0<wbr />4a6a492a3430efa<wbr />1f7778d7ec<br />
Author: Clay Gerrard &lt;email address hidden&gt;<br />
Date:   Wed Apr 15 15:31:06 2015 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Don&#x27;t apply the wrong Etag validation to rebuilt fragments</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Because of the object-server&#x27;s interaction with ssync sender&#x27;s<br />
&nbsp;&nbsp;&nbsp;&nbsp;X-Backend-<wbr />Replication-<wbr />Headers when a object (or fragment archive) is<br />
&nbsp;&nbsp;&nbsp;&nbsp;pushed unmodified to another node it&#x27;s ETag value is duped into the<br />
&nbsp;&nbsp;&nbsp;&nbsp;recieving ends metadata as Etag.  This interacts poorly with the<br />
&nbsp;&nbsp;&nbsp;&nbsp;reconstructor&#x27;s RebuildingECDis<wbr />kFileStream which can not know ahead of<br />
&nbsp;&nbsp;&nbsp;&nbsp;time the ETag of the fragment archive being rebuilt.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Don&#x27;t send the Etag from the local source fragment archive being used as<br />
&nbsp;&nbsp;&nbsp;&nbsp;the basis for the rebuilt fragent archive&#x27;s metadata along to ssync.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Ie59ad93a67a7f4<wbr />39c9a84cd9cff31<wbr />540f97f334a</p>
<p>commit 46bd6716ffae28a<wbr />ef53f15af170fd2<wbr />df01b49843<br />
Author: Kota Tsuyuzaki &lt;email address hidden&gt;<br />
Date:   Tue Apr 14 23:22:14 2015 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Small minor refactor on ec diskfile</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;To be more helpful, add an inline comment and remove<br />
&nbsp;&nbsp;&nbsp;&nbsp;unnecessary assignment.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Ia9c6993dfa03c2<wbr />38736955de8b0f5<wbr />c1a7d5d1b65</p>
<p>commit 193fe9a5f906a23<wbr />44bb5d328ad55b8<wbr />81e4086caa<br />
Author: Lorcan &lt;email address hidden&gt;<br />
Date:   Wed Apr 15 11:32:32 2015 +0100</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Update swift-recon doc with more options</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;The swit-recon tool has had several functional additions<br />
&nbsp;&nbsp;&nbsp;&nbsp;added recently but not all of these have been added to the docs.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;This change add...</p></div>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.openstack.org/175866
Committed: https://git.openstack.org/cgit/openstack/swift/commit/?id=5bb7c286ebb4a54e4d2bd5a02845644d1c651183
Submitter: Jenkins
Branch:    feature/crypto

commit e440d6aed8a40848584767ed36811bf09c738838
Author: Kota Tsuyuzaki &lt;tsuyuzaki.kota@lab.ntt.co.jp&gt;
Date:   Wed Apr 15 11:25:13 2015 -0700

    Fix best response to return correct status
    
    Current best response could return "503 Internal Server Error".
    However, "503" means "Service Unavailable". (The status int of
    Internal Server Error is 500)
    
    This patch fixes the response status as "503 Service Unavailable"
    
    Change-Id: I88b8c52c26b19e9e76ba3375f1e16ced555ed54c

commit 57011d5699d49a47ae89073ff27b39140ab4d652
Author: Ricardo Ferreira &lt;ricardo.sff@gmail.com&gt;
Date:   Thu Mar 12 23:18:33 2015 +0000

    More user-friendly output for object metadata
    
    Split out system, user and other metadata in swift-object-info. Print
    every position line by line instead of raw dict representation, so it
    would be easier to parse with tools such as grep.
    
    Co-Authored-By: Ricardo Ferreira &lt;ricardo.sff@gmail.com&gt;
    Co-Authored-By: Kamil Rykowski &lt;kamil.rykowski@intel.com&gt;
    
    Change-Id: Ia78da518c18f7e26016700aee87efb534fbd2040
    Closes-Bug: #1428866

commit a162c2bdd7be12daa29dd07230f84efcaf1cab37
Author: OpenStack Proposal Bot &lt;openstack-infra@lists.openstack.org&gt;
Date:   Thu Apr 16 06:06:35 2015 +0000

    Imported Translations from Transifex
    
    For more information about this automatic import see:
    https://wiki.openstack.org/wiki/Translations/Infrastructure
    
    Change-Id: I48ba06f4801ff2d7856d67e74d2b1f76c550fcf4

commit 52b102163e48dc04a6a492a3430efa1f7778d7ec
Author: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
Date:   Wed Apr 15 15:31:06 2015 -0700

    Don't apply the wrong Etag validation to rebuilt fragments
    
    Because of the object-server's interaction with ssync sender's
    X-Backend-Replication-Headers when a object (or fragment archive) is
    pushed unmodified to another node it's ETag value is duped into the
    recieving ends metadata as Etag.  This interacts poorly with the
    reconstructor's RebuildingECDiskFileStream which can not know ahead of
    time the ETag of the fragment archive being rebuilt.
    
    Don't send the Etag from the local source fragment archive being used as
    the basis for the rebuilt fragent archive's metadata along to ssync.
    
    Change-Id: Ie59ad93a67a7f439c9a84cd9cff31540f97f334a

commit 46bd6716ffae28aef53f15af170fd2df01b49843
Author: Kota Tsuyuzaki &lt;tsuyuzaki.kota@lab.ntt.co.jp&gt;
Date:   Tue Apr 14 23:22:14 2015 -0700

    Small minor refactor on ec diskfile
    
    To be more helpful, add an inline comment and remove
    unnecessary assignment.
    
    Change-Id: Ia9c6993dfa03c238736955de8b0f5c1a7d5d1b65

commit 193fe9a5f906a2344bb5d328ad55b881e4086caa
Author: Lorcan &lt;lorcan.browne@hp.com&gt;
Date:   Wed Apr 15 11:32:32 2015 +0100

    Update swift-recon doc with more options
    
    The swit-recon tool has had several functional additions
    added recently but not all of these have been added to the docs.
    
    This change adds the following options to the manpages:
    
      --human-readable
      --validate-servers
      --sockstat
      --driveaudit
      --region
      --timeout
    
    Also fixes a typo on line 78 (cop -&gt; copy)
    
    Change-Id: Id083b32a60473ad5a2b9ac1d092528d230521c86

commit 663ccd4e7ad50f67cd2f85b4e7cfe1de6ecbbce6
Author: Christian Schwede &lt;christian.schwede@enovance.com&gt;
Date:   Tue Apr 14 10:52:36 2015 +0000

    More tests for swift recon
    
    Change-Id: I8d568c0f6fbe1c01d97491740aebf299deb63732

commit c8e943c916c6e2eb6212508bad367e5dc1c64c5c
Author: OpenStack Proposal Bot &lt;openstack-infra@lists.openstack.org&gt;
Date:   Wed Apr 15 06:07:23 2015 +0000

    Imported Translations from Transifex
    
    For more information about this automatic import see:
    https://wiki.openstack.org/wiki/Translations/Infrastructure
    
    Change-Id: I15b1d475d157bfb74ff7a68400cf06596488aa93

commit 5ef2e9ec00b1498fb411fc918b71ae9c50b1308f
Author: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
Date:   Tue Apr 14 15:24:58 2015 -0700

    fixup random test failure
    
    Change-Id: I053cec441623e7556d6cdfbc1d271c5cdf21aa8b

commit 86920f3dbe43a0389119b7d26b61650997c0fc9f
Author: John Dickinson &lt;me@not.mn&gt;
Date:   Mon Mar 23 12:00:28 2015 -0700

    2.3.0 authors and changelog updates
    
    Change-Id: I5a46437a718e2a29fd289bde7bec45db4ee873bd

commit 4aba2fbb25edf8936e00ee9f5736cc2c0c383c32
Author: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
Date:   Fri Mar 27 15:50:38 2015 -0700

    Check if REST API version is valid
    
    Swift doesn't check if the used API version is valid. Currently there
    is only one valid REST API version, but that might change in the
    future.
    
    This patch enforces "v1" or "v1.0" as the version string when accessing
    account, containers and objects.
    
    The list of accepted version strings can be manually overridden using a
    comma-separated list in swift.conf to make this backward-compatible.
    The constraint loader has been modified slightly to accept strings as
    well as integers.
    
    Any request to an account, container, and object which does not
    provide the correct version string will get a 400 BadRequest response.
    
    The allowed api versions are by default excluded from /info.
    
    Co-Authored-By: Christian Schwede &lt;christian.schwede@enovance.com&gt;
    Co-Authored-By: John Dickinson &lt;me@not.mn&gt;
    
    Closes Bug #1437442
    
    Change-Id: I5ab6e236544378abf2eab562ab759513d09bc256

commit e16df14a734757fabea5dbc13851050e52c4b4da
Author: Christian Schwede &lt;christian.schwede@enovance.com&gt;
Date:   Sun Apr 12 22:35:56 2015 +0200

    Add test for swift_recon.disk_usage
    
    Change-Id: I4cab7aa6df3f0e1933e52ee5dbbb829f30604f10

commit 66fb207fcb288889d73d42960b037e3ef7ef3ce2
Author: Lorcan &lt;lorcan.browne@hp.com&gt;
Date:   Tue Mar 24 13:54:00 2015 +0000

    Add lowest option to swift-recon disk usage output
    
    Currently there is a "--top" option when running swift-recon for
    disk usage stats. This option lists the x disks with the highest
    disk usage in descending order.
    
    This feature adds a "--lowest" option which does the opposite and
    lists the y disks with lowest disk usage in ascending order.
    
    Have also updated the docs section with --top and --lowest options
    
    Change-Id: Ic15d407fe010a31995c2bdd9fb88548a1057f569

commit b76d8c5156c65e3ae6ead5213e40f70d80f7fa9d
Author: Mike Fedosin &lt;mfedosin@mirantis.com&gt;
Date:   Wed Apr 8 15:00:27 2015 +0300

    Fix broken test_policy_IO_override test
    
    Since the existing check depends on how quickly the test
    passes, it causes to the unpredictable behavior and may break
    the test.
    
    This commit removes the unnecessary dependency on the
    current time and leaves only the check that timestamp is
    greater than 0.
    
    Change-Id: I3321e9aba0df52cb78523710b26f310f35801674
    Closes-Bug: #1441599

commit 26bff69cb5c5f86815ea8b4592a1a0119475023b
Author: Andreas Jaeger &lt;aj@suse.de&gt;
Date:   Wed Apr 15 09:43:26 2015 +0200

    Fix untranslatable string
    
    The word "number" is not marked for translation, we cannot just add
    it this way to a string.
    Instead create two separate strings.
    
    Change-Id: I0396f1d7405987ed1c57f0344e1c5ebeca30a2e3
    Closes-Bug: #1444327

commit 749bdac1df3571324af6bdcf64e1d283f9ec6cb9
Author: Hisashi Osanai &lt;osanai.hisashi@jp.fujitsu.com&gt;
Date:   Mon Mar 23 13:47:22 2015 +0900

    Refactor the getting roles logic in _keystone_identity
    
    The list_from_csv in swift.common.utils is used from the composite
    auth token support and this method has been used in
    _integral_keystone_identity. There is same logic in
    _keystone_identity so the logic would be replaced with list_from_csv.
    
    Change-Id: I3d72a34e6fc21fbe1d7331954695b1e3e1b67816

commit 8a1453e61e95956fd8a87546e068a60a275ae665
Author: Donagh McCabe &lt;donagh.mccabe@hp.com&gt;
Date:   Wed Feb 25 13:54:55 2015 +0000

    Support HTTP_X_SERVICE_IDENTITY_STATUS in keystoneauth
    
    Keystone's auth_token now supports delay denial when
    a service token is invalid. This change handles
    the consequences for determining 401 vs 403 responses.
    
    Related-Bug: #1422389
    
    Change-Id: I90ba062e357cccea061c7101463b82b7c5e69293

commit d3213fb1fe00ae649ba198577b7e8b37180d3753
Author: Christian Schwede &lt;christian.schwede@enovance.com&gt;
Date:   Tue Mar 31 08:51:18 2015 +0000

    Check if device name is valid when adding to the ring
    
    Currently device names can be empty or start and/or end with spaces.
    This can create unexpected results, for example these three commands
    are all valid:
    
    swift-ring-builder account.builder add "r1z1-127.0.0.1:6000/" 1
    swift-ring-builder account.builder add "r1z1-127.0.0.1:6000/sda " 1
    swift-ring-builder account.builder add "r1z1-127.0.0.1:6000/ meta" 1
    
    This patch validates device names and prevents empty names or names
    starting and/or ending with spaces.
    
    Also fixed the test "test_warn_at_risk" - the test passed if the
    exception was not raised.
    
    Closes-Bug: 1438579
    
    Change-Id: I811b0eae7db503279e6429d985275bbab8b29c9f

commit 3c419dfb12f19d31d6685ad76c0cf78d5e28f147
Author: Richard Hawkins &lt;richard.hawkins@rackspace.com&gt;
Date:   Sat Feb 14 10:19:16 2015 -0600

    Add additional func tests for TempURLs
    
    Change-Id: I25097c87d0a06c283b8ee5067b840f0a22776369

commit 8f5d4d24557887b4691fc219cefbc30e478bf7ed
Author: Paul Luse &lt;paul.e.luse@intel.com&gt;
Date:   Thu Jul 3 15:59:33 2014 -0700

    Erasure Code Documentation
    
    This patch adds all the relevant EC documentation to
    the source tree. Notable additions are:
      - Updated SAIO documentation
      - Updates to existing swift documentation; and
      - Erasure Coding overview
    
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    Co-Authored-By: Thiago da Silva &lt;thiago@redhat.com&gt;
    Co-Authored-By: John Dickinson &lt;me@not.mn&gt;
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    Co-Authored-By: Tushar Gohad &lt;tushar.gohad@intel.com&gt;
    Co-Authored-By: Samuel Merritt &lt;sam@swiftstack.com&gt;
    Co-Authored-By: Christian Schwede &lt;christian.schwede@enovance.com&gt;
    Co-Authored-By: Yuan Zhou &lt;yuan.zhou@intel.com&gt;
    Change-Id: I0403016a4bb7dad9535891632753b0e5e9d402eb
    Implements: blueprint swift-ec
    Signed-off-by: Thiago da Silva &lt;thiago@redhat.com&gt;

commit 647b66a2ce4c85c43dcca49776d35c5ebb9cf15e
Author: paul luse &lt;paul.e.luse@intel.com&gt;
Date:   Tue Oct 28 09:51:06 2014 -0700

    Erasure Code Reconstructor
    
    This patch adds the erasure code reconstructor. It follows the
    design of the replicator but:
      - There is no notion of update() or update_deleted().
      - There is a single job processor
      - Jobs are processed partition by partition.
      - At the end of processing a rebalanced or handoff partition, the
        reconstructor will remove successfully reverted objects if any.
    
    And various ssync changes such as the addition of reconstruct_fa()
    function called from ssync_sender which performs the actual
    reconstruction while sending the object to the receiver
    
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    Co-Authored-By: Thiago da Silva &lt;thiago@redhat.com&gt;
    Co-Authored-By: John Dickinson &lt;me@not.mn&gt;
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    Co-Authored-By: Tushar Gohad &lt;tushar.gohad@intel.com&gt;
    Co-Authored-By: Samuel Merritt &lt;sam@swiftstack.com&gt;
    Co-Authored-By: Christian Schwede &lt;christian.schwede@enovance.com&gt;
    Co-Authored-By: Yuan Zhou &lt;yuan.zhou@intel.com&gt;
    blueprint ec-reconstructor
    Change-Id: I7d15620dc66ee646b223bb9fff700796cd6bef51

commit b2189ef47ae08c39c348e7f4c90697ecb9ba64f9
Author: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
Date:   Fri Apr 3 16:23:14 2015 -0700

    Fix account reaper for &gt; 3 replicas
    
    There's a pre-existing IndexError in the pop from the container node
    list in reaper's reap_object method for object rings with a replica
    count greater than the container replica count.  Which is more likely
    on EC storage policies.
    
    When making the backend direct delete requests to the nodes once the
    container node's list is exhausted the generic exception handler logs
    the error and breaks out of any other backend object requests - but
    the reaper marches forward and eventually the tombstones are
    replicated.
    
    This change just cycles the container headers across all the nodes -
    which seems reasonable enough - but could certainly garner
    bikeshedding.
    
    Change-Id: I5897d00b0a8c1e05884945dd93d9ce891b207001

commit 61a9d35fd58381b7c299f125ef01d00f9b0203fe
Author: Yuan Zhou &lt;yuan.zhou@intel.com&gt;
Date:   Wed Dec 24 11:52:34 2014 +0800

    Update container sync to use internal client
    
    This patch changes container sync to use Internal Client instead
    of Direct Client.
    
    In the current design, container sync uses direct_get_object to
    get the newest source object(which talks to storage node directly).
    This works fine for replication storage policies however in
    erasure coding policies, direct_get_object would only return part
    of the object(it's encoded as several pieces). Using Internal
    Client can get the original object in EC case.
    
    Note that for the container sync put/delete part, it's working in
    EC since it's using Simple Client.
    
    Signed-off-by: Yuan Zhou &lt;yuan.zhou@intel.com&gt;
    
    DocImpact
    Change-Id: I91952bc9337f354ce6024bf8392046a1ecf6ecc9

commit decbcd24d41d6367901db16aaa2578f74870b6b5
Author: Samuel Merritt &lt;sam@swiftstack.com&gt;
Date:   Wed Oct 22 13:18:34 2014 -0700

    Foundational support for PUT and GET of erasure-coded objects
    
    This commit makes it possible to PUT an object into Swift and have it
    stored using erasure coding instead of replication, and also to GET
    the object back from Swift at a later time.
    
    This works by splitting the incoming object into a number of segments,
    erasure-coding each segment in turn to get fragments, then
    concatenating the fragments into fragment archives. Segments are 1 MiB
    in size, except the last, which is between 1 B and 1 MiB.
    
    +====================================================================+
    |                             object data                            |
    +====================================================================+
    
                                       |
              +------------------------+----------------------+
              |                        |                      |
              v                        v                      v
    
    +===================+    +===================+         +==============+
    |     segment 1     |    |     segment 2     |   ...   |   segment N  |
    +===================+    +===================+         +==============+
    
              |                       |
              |                       |
              v                       v
    
         /=========\             /=========\
         | pyeclib |             | pyeclib |         ...
         \=========/             \=========/
    
              |                       |
              |                       |
              +--&gt; fragment A-1       +--&gt; fragment A-2
              |                       |
              |                       |
              |                       |
              |                       |
              |                       |
              +--&gt; fragment B-1       +--&gt; fragment B-2
              |                       |
              |                       |
             ...                     ...
    
    Then, object server A gets the concatenation of fragment A-1, A-2,
    ..., A-N, so its .data file looks like this (called a "fragment archive"):
    
    +=====================================================================+
    |     fragment A-1     |     fragment A-2     |  ...  |  fragment A-N |
    +=====================================================================+
    
    Since this means that the object server never sees the object data as
    the client sent it, we have to do a few things to ensure data
    integrity.
    
    First, the proxy has to check the Etag if the client provided it; the
    object server can't do it since the object server doesn't see the raw
    data.
    
    Second, if the client does not provide an Etag, the proxy computes it
    and uses the MIME-PUT mechanism to provide it to the object servers
    after the object body. Otherwise, the object would not have an Etag at
    all.
    
    Third, the proxy computes the MD5 of each fragment archive and sends
    it to the object server using the MIME-PUT mechanism. With replicated
    objects, the proxy checks that the Etags from all the object servers
    match, and if they don't, returns a 500 to the client. This mitigates
    the risk of data corruption in one of the proxy --&gt; object connections,
    and signals to the client when it happens. With EC objects, we can't
    use that same mechanism, so we must send the checksum with each
    fragment archive to get comparable protection.
    
    On the GET path, the inverse happens: the proxy connects to a bunch of
    object servers (M of them, for an M+K scheme), reads one fragment at a
    time from each fragment archive, decodes those fragments into a
    segment, and serves the segment to the client.
    
    When an object server dies partway through a GET response, any
    partially-fetched fragment is discarded, the resumption point is wound
    back to the nearest fragment boundary, and the GET is retried with the
    next object server.
    
    GET requests for a single byterange work; GET requests for multiple
    byteranges do not.
    
    There are a number of things _not_ included in this commit. Some of
    them are listed here:
    
     * multi-range GET
    
     * deferred cleanup of old .data files
    
     * durability (daemon to reconstruct missing archives)
    
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    Co-Authored-By: Thiago da Silva &lt;thiago@redhat.com&gt;
    Co-Authored-By: John Dickinson &lt;me@not.mn&gt;
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    Co-Authored-By: Tushar Gohad &lt;tushar.gohad@intel.com&gt;
    Co-Authored-By: Paul Luse &lt;paul.e.luse@intel.com&gt;
    Co-Authored-By: Christian Schwede &lt;christian.schwede@enovance.com&gt;
    Co-Authored-By: Yuan Zhou &lt;yuan.zhou@intel.com&gt;
    Change-Id: I9c13c03616489f8eab7dcd7c5f21237ed4cb6fd2

commit b1eda4aef8a228961d5aafe7e4fbd4e812d233ad
Author: Samuel Merritt &lt;sam@swiftstack.com&gt;
Date:   Tue Sep 16 18:40:41 2014 -0700

    Allow sending object metadata after data
    
    This lets the proxy server send object metadata to the object server
    after the object data. This is necessary for EC, as it allows us to
    compute the etag of the object in the proxy server and still store it
    with the object.
    
    The wire format is a multipart MIME document. For sanity during a
    rolling upgrade, the multipart MIME document is only sent to the
    object server if it indicates, via 100 Continue header, that it knows
    how to consume it.
    
    Example 1 (new proxy, new obj server):
    
       proxy: PUT /p/a/c/o
              X-Backend-Obj-Metadata-Footer: yes
    
         obj: 100 Continue
            X-Obj-Metadata-Footer: yes
    
       proxy: --MIMEmimeMIMEmime...
    
    Example2: (new proxy, old obj server)
    
       proxy: PUT /p/a/c/o
              X-Backend-Obj-Metadata-Footer: yes
    
         obj: 100 Continue
    
       proxy: &lt;obj body&gt;
    
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    Co-Authored-By: Thiago da Silva &lt;thiago@redhat.com&gt;
    Co-Authored-By: John Dickinson &lt;me@not.mn&gt;
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    Co-Authored-By: Tushar Gohad &lt;tushar.gohad@intel.com&gt;
    Co-Authored-By: Paul Luse &lt;paul.e.luse@intel.com&gt;
    Co-Authored-By: Christian Schwede &lt;christian.schwede@enovance.com&gt;
    Co-Authored-By: Yuan Zhou &lt;yuan.zhou@intel.com&gt;
    Change-Id: Id38f7e93e3473f19ff88123ae0501000ed9b2e89

commit fa89064933fefa33702520b40734c11f08b2c569
Author: Alistair Coles &lt;alistair.coles@hp.com&gt;
Date:   Tue Mar 17 08:32:57 2015 +0000

    Per-policy DiskFile classes
    
    Adds specific disk file classes for EC policy types.
    
    The new ECDiskFile and ECDiskFileWriter classes are used by the
    ECDiskFileManager.
    
    ECDiskFileManager is registered with the DiskFileRouter for use with
    EC_POLICY type policies.
    
    Refactors diskfile tests into BaseDiskFileMixin and BaseDiskFileManagerMixin
    classes which are then extended in subclasses for the legacy
    replication-type DiskFile* and ECDiskFile* classes.
    
    Refactor to prefer use of a policy instance reference over a policy_index
    int to refer to a policy.
    
    Add additional verification to DiskFileManager.get_dev_path to validate the
    device root with common.constraints.check_dir, even when mount_check is
    disabled for use in on a virtual swift-all-in-one.
    
    Co-Authored-By: Thiago da Silva &lt;thiago@redhat.com&gt;
    Co-Authored-By: John Dickinson &lt;me@not.mn&gt;
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    Co-Authored-By: Tushar Gohad &lt;tushar.gohad@intel.com&gt;
    Co-Authored-By: Paul Luse &lt;paul.e.luse@intel.com&gt;
    Co-Authored-By: Samuel Merritt &lt;sam@swiftstack.com&gt;
    Co-Authored-By: Christian Schwede &lt;christian.schwede@enovance.com&gt;
    Co-Authored-By: Yuan Zhou &lt;yuan.zhou@intel.com&gt;
    Change-Id: I22f915160dc67a9e18f4738c1ddf068344e8ad5d

commit dd9d97458ea007024220a78dba8dd663e8b425d7
Author: John Dickinson &lt;me@not.mn&gt;
Date:   Fri Mar 20 10:17:25 2015 +0000

    Prevent unauthorized delete in versioned container
    
    An authenticated user can delete the most recent version of any
    versioned object who's name is known if the user has listing access
    to the x-versions-location container. Only Swift setups with
    allow_version setting are affected.
    
    This patch closes this bug, tracked as CVE-2015-1856
    
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    Co-Authored-By: Christian Schwede &lt;info@cschwede.de&gt;
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    
    Closes-Bug: 1430645
    Change-Id: Ibacc7413afe7cb6f77d92e5941dcfdf4768ffa18

commit a7078293349a01a7594f6457fccb1aca31d98fd4
Author: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
Date:   Tue Mar 31 22:35:37 2015 -0700

    Update test infrastructure
    
     * Get FakeConn ready for expect 100 continue
     * Use debug_logger more and with better interfaces
     * Fix patch_policies to be less annoying
    
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    Co-Authored-By: Thiago da Silva &lt;thiago@redhat.com&gt;
    Co-Authored-By: Tushar Gohad &lt;tushar.gohad@intel.com&gt;
    Co-Authored-By: Paul Luse &lt;paul.e.luse@intel.com&gt;
    Co-Authored-By: Samuel Merritt &lt;sam@swiftstack.com&gt;
    Co-Authored-By: Christian Schwede &lt;christian.schwede@enovance.com&gt;
    Co-Authored-By: Yuan Zhou &lt;yuan.zhou@intel.com&gt;
    Change-Id: I28c0a3539d994cbb8e6b94d63a23ed4ea6cb956d

commit ed5406628884432e23bbabb02d2855d4b51a332d
Author: Tushar Gohad &lt;tushar.gohad@intel.com&gt;
Date:   Mon Jun 30 11:14:28 2014 -0700

    Add support for policy types, 'erasure_coding' policy
    
    This patch extends the StoragePolicy class for non-replication storage
    policies, the first one being "erasure coding".
    
    Changes:
    
     - Add 'policy_type' support to BaseStoragePolicy class
     - Disallow direct instantiation of BaseStoragePolicy class
    
     - Subclass BaseStoragePolicy
    
       - "StoragePolicy":
         . Replication policy, default
         . policy_type = 'replication'
    
       - "ECStoragePolicy":
         . Erasure Coding policy
         . policy_type = 'erasure_coding'
         . Private member variables
           ec_type (EC backend),
           ec_num_data_fragments (number of fragments original
             data split into after erasure coding operation),
           ec_num_parity_fragments (number of parity fragments
           generated during erasure coding)
         . Private methods
           EC specific attributes and ring validator methods.
    
     - Swift will use PyECLib, a Python Erasure Coding library, for
       erasure coding operations. PyECLib is already an approved
       OpenStack core requirement.
       (https://bitbucket.org/kmgreen2/pyeclib/)
    
     - Add test cases for
       - 'policy_type' StoragePolicy member
       - policy_type == 'erasure_coding'
    
    DocImpact
    
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    Co-Authored-By: Thiago da Silva &lt;thiago@redhat.com&gt;
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    Co-Authored-By: Paul Luse &lt;paul.e.luse@intel.com&gt;
    Co-Authored-By: Samuel Merritt &lt;sam@swiftstack.com&gt;
    Co-Authored-By: Christian Schwede &lt;christian.schwede@enovance.com&gt;
    Co-Authored-By: Yuan Zhou &lt;yuan.zhou@intel.com&gt;
    Change-Id: Ie0e09796e3ec45d3e656fb7540d0e5a5709b8386
    Implements: blueprint ec-proxy-work

commit 16ee994c1ea4ddcfaeae26babada6382daa69bc9
Author: Christian Schwede &lt;christian.schwede@enovance.com&gt;
Date:   Wed Feb 18 10:17:23 2015 +0000

    Set connection timeout in container sync
    
    Container sync might get stuck without a connection timeout if the remote proxy
    is not responding.
    
    This patch sets a default timeout of 5.0 seconds for the connection attempt. The
    value is much higher than other connection timeouts inside Swift (0.5); however
    there might be a much higher latency to the remote peer, thus playing it safe.
    There is also a retry if the attempt timed out.
    
    Note that this setting only applies to the connection request itself. Setting
    this timeout does not apply when the remote proxy goes away during a request.
    
    Also added a short test to ensure urlopen is called with the timeout value.
    
    Co-Authored-By: Alistair Coles &lt;alistair.coles@hp.com&gt;
    
    Change-Id: Ic08a55157fa91fe1316653781adf4d66eead61bc
    Partial-Bug: 1419916

commit 376ecc74fccef390e4e4de66cae3ef20bcbd021f
Author: John Dickinson &lt;me@not.mn&gt;
Date:   Wed Apr 1 12:41:25 2015 -0700

    make `git review` easier
    
    Change-Id: I6032a7915586db6da25aafccf3dced581b37df9c

commit 8d3b3b2ee0a86b37b6ad1f4d201bfaa0103af07d
Author: Samuel Merritt &lt;sam@swiftstack.com&gt;
Date:   Sun Jan 11 13:41:35 2015 -0800

    Add some debug output to the ring builder
    
    Sometimes, I get handed a builder file in a support ticket and a
    question of the form "why is the balance [not] doing $thing?". When
    that happens, I add a bunch of print statements to my local
    swift/common/ring/builder.py, figure things out, and then delete the
    print statements. This time, instead of deleting the print statements,
    I turned them into debug() calls and added a "--debug" flag to the
    rebalance command in hopes that someone else will find it useful.
    
    Change-Id: I697af90984fa5b314ddf570280b4585ba0ba363c

commit cf21db4bc68aff190c55d416b406a44bf204ba36
Author: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
Date:   Thu Mar 26 21:43:48 2015 -0700

    Add Swift Design Principles to CONTRIBUTING.md
    
    This is based of work started a few design summits ago [1].
    
    With EC getting close I felt like I could the inspiration.
    
    1. https://etherpad.openstack.org/p/juno_swift_core_principles
    
    Change-Id: I90fa56d67003080fe3d7bc4e0fad053e3b0c8504
    Signed-off-by: Thiago da Silva &lt;thiago@redhat.com&gt;

commit a8129410030eb03836cf9323a52dc8030b495e77
Author: Tushar Gohad &lt;tushar.gohad@intel.com&gt;
Date:   Fri Mar 13 01:36:53 2015 -0700

    Bump eventlet version to 0.16.1
    
    This version adds support for multiple 100-continue responses
    via the API send_hundred_continue_response(), which we need for
    the two-phase scheme for PUTs with Erasure Coding
    
    Change-Id: I7154ef1dd96ab761894b09d5e6abf98a453f7b64

commit 75e84543aab5af8038e0e1a369fcf0ed10ea2509
Author: Hisashi Osanai &lt;osanai.hisashi@jp.fujitsu.com&gt;
Date:   Mon Mar 23 11:29:16 2015 +0900

    Clarify the description of backward compatibility in Keystoneauth's docstring
    
    If no prefix implies for the operator_roles and/or service_roles
    parameters applies to all reseller_prefixes in the code.
    But from backward comatibility point of view, the service_roles
    parameter is newly introduced parameter so it is better to clarify
    the docstring.
    
    Change-Id: I8b0d5aeff785c21b8a8b0f5b20f774fad868016d

commit 76b106fc017922997cbe6bef3bcee309e39c7c82
Author: Martin Kletzander &lt;mkletzan@redhat.com&gt;
Date:   Thu Mar 19 17:25:57 2015 +0100

    Fix common misspellings
    
    Wikipedia's list of common misspellings [1] has a machine-readable
    version.  This patch fixes those misspellings mentioned in the list
    which don't have multiple right variants (as e.g. "accension", which can
    be both "accession" and "ascension"), such misspellings are left
    untouched.  The list of changes was manually re-checked for false
    positives.
    
    [1] https://en.wikipedia.org/wiki/Wikipedia:Lists_of_common_misspellings/For_machines
    
    Change-Id: Ic9a5438629664f7cea216413a28acc0e8992da05
    Signed-off-by: Martin Kletzander &lt;mkletzan@redhat.com&gt;

commit a288d05ca5d4c66dab36df40b4216e2ed87e5a91
Author: OpenStack Proposal Bot &lt;openstack-infra@lists.openstack.org&gt;
Date:   Tue Mar 24 06:06:33 2015 +0000

    Imported Translations from Transifex
    
    For more information about this automatic import see:
    https://wiki.openstack.org/wiki/Translations/Infrastructure
    
    Change-Id: I6ae0dd0c34ac1d7173acacdd0dd4896619592e0c

commit 0a467936621009418a9c94f636b33bfb6d947a89
Author: Lorcan &lt;lorcan.browne@hp.com&gt;
Date:   Thu Mar 12 15:40:39 2015 +0000

    Add swift-recon feature to track swift-drive-audit error count
    
    This is a follow-on from a previous commit which added recon info
    for swift-drive-audit (https://review.openstack.org/#/c/122468/).
    
    Here, the "--drievaudit" option is added to swift-recon tool. This
    feature gives the statistics for the system-wide drive errors flagged
    by swift-drive-audit. An example of the output is as follows:
    (verbose mode)
    
    swift-recon --driveaudit -v
    ===============================================================================
    --&gt; Starting reconnaissance on 5 hosts
    ===============================================================================
    [2015-03-11 17:13:39] Checking drive-audit errors
    -&gt; http://1.2.3.4:6000/recon/driveaudit: {'drive_audit_errors': 14}
    -&gt; http://1.2.3.5:6000/recon/driveaudit: {'drive_audit_errors': 0}
    -&gt; http://1.2.3.6:6000/recon/driveaudit: {'drive_audit_errors': 37}
    -&gt; http://1.2.3.7:6000/recon/driveaudit: {'drive_audit_errors': 101}
    -&gt; http://1.2.3.8:6000/recon/driveaudit: {'drive_audit_errors': 0}
    [drive_audit_errors] low: 0, high: 101, avg: 30.4, total: 152, Failed: 0.0%, no_result: 0, reported: 5
    ===============================================================================
    
    Change-Id: Ia16c52a9d613eeb3de1a5a428d88dd1233631912

commit 23d0842dec250905f68df601926ba8228392b322
Author: Thiago da Silva &lt;thiago@redhat.com&gt;
Date:   Tue Feb 17 16:55:34 2015 -0500

    Refactoring the PUT method
    
    Extracting large chunks of the PUT method into smaller
    methods to improve maintainability and reuse of code.
    
    Based on the work that Clay Gerrard started:
    https://review.openstack.org/#/c/77812/
    
    Co-Authored-By: Clay Gerrard &lt;clay.gerrard@gmail.com&gt;
    
    Change-Id: Id479fc5b159a2782361ac4a6e4a6d8bbaee4fe85
    Signed-off-by: Thiago da Silva &lt;thiago@redhat.com&gt;

commit c3d2602c60d8a218409c9f95bef252e4811cbd29
Author: Mitsuhiro SHIGEMATSU &lt;shigematsu.mitsuhiro@lab.ntt.co.jp&gt;
Date:   Sat Mar 21 08:42:23 2015 +0900

    Fix typo in swift/test/unit/account/test_backend.py
    
    Change-Id: I6cab110599019471b4005f1584fc26fa2a85d02e

commit 7e64c811fe9ecae738474239a9f73e3c6f95ddea
Author: Alistair Coles &lt;alistair.coles@hp.com&gt;
Date:   Wed Feb 25 17:33:44 2015 +0000

    Enable in-process functional test policy to be configured
    
    Currently the in-process tests build a 2 replica, 4 partition,
    2 device object ring. This patch allows an alternative policy
    and ring to be specified for testing via environment variables
    that may optionally be set.
    
    SWIFT_TEST_IN_PROCESS_CONF_DIR - This points the test setup to a
      directory which may have a swift.conf file and ring file. The
      test setup will then prefer these conf files over the samples
      in '/etc'.
    
    SWIFT_TEST_POLICY - This causes the in-process test to
      use the specified policy from the swift.conf file and its
      associated ring for testing (first copying the conf and ring file
      and modifying device parameters to suit in-process testing). If
      not set, the tests will use the default policy.
    
    The in-process tests now start sufficient object servers for the
    ring file being tested against.
    
    This should allow in-process functional testing of various policies
    and rings (e.g. EC policies) without needing to reconfigure an SAIO
    for each test scenario.
    
    The refactoring of the in_process test setup code should also
    allow easier addition of other 'hard-coded' test policies/rings
    in the future.
    
    Change-Id: I24f5a13de3d296b400da1691dcb53423a9f8a463

commit 9ae0a0702c4a32407b1d00e93bd1be01e2ec26bc
Author: Kota Tsuyuzaki &lt;tsuyuzaki.kota@lab.ntt.co.jp&gt;
Date:   Fri Mar 20 00:59:15 2015 -0700

    Fix a lack of method arguments at tempauth
    
    This fixes a kind of trivial issue with TypeError caused by a lack
    of method argument at calling.
    
    When using 'Authorization' header with tempauth, tempauth calls
    _get_user_groups with 3 arguments (includes self) on current code
    but the method requires 4 arguments so it will go to fail with 500.
    
    This patch fixes to take correct arguments and adds an unit test
    for the case.
    
    Closes-Bug:1434465
    
    Change-Id: Ibf00c41fa8e5cfdaf49bc4d571e575d7f229ebfe

commit a624a593df7e92b06f5844e53a87a65c662aba4c
Author: Alistair Coles &lt;alistair.coles@hp.com&gt;
Date:   Thu Mar 19 11:02:09 2015 +0000

    Tighten up recon middleware unit tests
    
    Adds a test for get_expirer_info() and tightens up
    the test for get_async_info().
    
    While reviewing [1] I noticed that the existing tests on
    master will not catch a bug creeping into the arg strings
    that these methods pass to from_recon_cache().
    
    [1] https://review.openstack.org/#/c/163889
    
    Change-Id: Iee6f12aeff684d70435dbeea769ccc181021be79

commit 15b83f67d2fc6645a5e68ce923ca9a2d4d1b9805
Author: Alistair Coles &lt;alistair.coles@hp.com&gt;
Date:   Wed Mar 18 12:43:03 2015 +0000

    Test swift-object-info opens meta and ts files
    
    Adds a unit test to verify the change made in [1], i.e. that
    swift-object-info will read from .meta and .ts files as well
    as .data files.
    
    [1] change I43966d371218ad39414e9282cde579e48370a2a7
    
    Change-Id: I82dde36e3a96db1a21cfe9a4cca0d941e543dfd0
    Related-Bug: 1425679

commit 3f1feaee4215dde618431571983c64d0290bbea0
Author: OpenStack Proposal Bot &lt;openstack-infra@lists.openstack.org&gt;
Date:   Wed Mar 18 06:11:23 2015 +0000

    Imported Translations from Transifex
    
    For more information about this automatic import see:
    https://wiki.openstack.org/wiki/Translations/Infrastructure
    
    Change-Id: I2e0a6053fec208b3eea9a68416fdc616da0631a9

commit 3d3db0ab789f37a69fc178eeb74c8cc61e4c6c1b
Author: Christian Schwede &lt;christian.schwede@enovance.com&gt;
Date:   Fri Mar 13 13:19:44 2015 +0000

    Bump PyECLib version to &gt;= 1.0.3
    
    ECPyECLibException has been removed in 1.0.1, among other
    API/error handling enhancements in 1.0.3. Let's make sure
    the right version is used.
    
    Change-Id: Ie6e0c1b491017dd5096b14c23b610abc22b03d6a

commit fdb2ec0cc7428457a836a23f4b18348e037e6805
Author: Jiangmiao Gao &lt;tolbkni@gmail.com&gt;
Date:   Mon Mar 16 23:30:37 2015 +0800

    Add the missing "file" keyword for print
    
    All non-keyword arguments are converted to strings and written to
    the stream, the argument "sys.stderr" should be given keyword
    "file" as keyword argument.
    
    Change-Id: I1f9c4e41ed7a1d3246eae9179fd9221c0a834292

commit 51a8f9c64fa16a2625066e406bb9489aae67cb7f
Author: OpenStack Proposal Bot &lt;openstack-infra@lists.openstack.org&gt;
Date:   Mon Mar 16 06:10:17 2015 +0000

    Imported Translations from Transifex
    
    For more information about this automatic import see:
    https://wiki.openstack.org/wiki/Translations/Infrastructure
    
    Change-Id: I0058932520e008aa4bde7ce34d6c9f25424684b4

commit 99a3d1a1c5d9591eed5378cf83af78578b01b386
Author: Kota Tsuyuzaki &lt;tsuyuzaki.kota@lab.ntt.co.jp&gt;
Date:   Fri Mar 13 04:39:16 2015 -0700

    Fix the prefix of messages caputured from stderr
    
    Swift caputures both sys.stdout and sys.stderr messages and
    transfers them to syslog. However, whole of the messages
    uses the "STDOUT:" prefix, currently.
    
    It will be quite confusable for debugging purpose because we
    cannot make sure whether "Swift didn't caputure stderr" or
    "Swift captured stderr but didn't show it" when we want to log
    some stderr messages.
    
    This patch enables to allow a new prefix "STDERR:" and use it
    for sys.stderr.
    
    Change-Id: Idf4649e9860b77c3600a5cd0a3e0bd674b31fb4f

commit 9baafe7f305147c70d004402ebb05a22db85bc18
Author: Ricardo Ferreira &lt;ricardo.sff@gmail.com&gt;
Date:   Fri Mar 6 21:18:48 2015 +0000

    Allow swift-object-info to inspect .meta and .ts files
    
    Removing the check for ".data" extension makes it check
    *any* file for metadata, so it works with .meta and .ts
    filetypes.
    
    Change-Id: I43966d371218ad39414e9282cde579e48370a2a7
    Closes-Bug:1425679

commit 0eb27b96f267a1a8419efeb96d68e3773d70e049
Author: Prashanth Pai &lt;ppai@redhat.com&gt;
Date:   Thu Mar 5 19:01:38 2015 +0530

    Handle ENOSPC in mkstemp()
    
    mkstemp() can fail with ENOSPC when filesystem runs out of inodes.
    And fallocate() used to raise DiskFileNoSpace for all OSErrors.
    
    Change-Id: I8c95cb710107d8e481d068b00eda53dd805c00a5
    Signed-off-by: Prashanth Pai &lt;ppai@redhat.com&gt;

commit 16b435a4a8ae12f456a55872fd8ebe21b0841704
Author: Kota Tsuyuzaki &lt;tsuyuzaki.kota@lab.ntt.co.jp&gt;
Date:   Mon Feb 23 00:26:30 2015 -0800

    Fix ContainerBroker to use policy-0 in default
    
    Fix ContainerBroker to initialize as policy-0 on policy_stat
    table in default when storage_policy_index argument is NOT given.
    
    Current ContainerBroker makes policy-1 stats in default because
    the "None" value will be passed through to the last function of
    db access query (i.e. a query like as "INSERT INTO policy_stat
    (storage_policy_index) VALUES (None)" will appear) which results
    in a row "(1, 0, 0)" (the first value is the policy index) by
    the PRIMARY KEY constraint on sqlite.
    
    In worst case, container db keeps two policies, and then, ContainerBroker.get_info
    might return invalid (non-touched) policy_stat information as container information.
    (See tests in detail)
    
    When using ContainerBroker with no storage_policy_index argument,
    it should always act policy-0 simply.
    
    Note that this patch doesn't affect immediately Swift behavior because
    current swift ensures to use policy-0 on "Container-Server" when invalid
    policy (includes None) is given. However, we should recheck also in
    ContainerBroker for safety to prevent the unfortunate behavior above.
    
    Change-Id: If64f0c94c069a2cc3140c99f21b8d371c183e28a
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~ttx" class="sprite person">Thierry Carrez (ttx)</a>
    
    <time title="2015-04-30 10:07:50 UTC" datetime="2015-04-30T10:07:50.700596+00:00">on 2015-04-30</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in swift: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        2.3.0-rc1 &#8594; 2.3.0
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/swift/+bug/1430645/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/swift/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/swift/+bug/1430645/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/swift/+bug/1430645/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/swift/+bug/1430645/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/swift/+bug/1430645/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/swift/+bug/1430645/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/swift/+bug/1430645/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/swift/+bug/1430645/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/swift/+bug/1430645/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/swift/+bug/1430645/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4340823/+files/more-version-auth.patch">call authorize more</a>
        <small>
          (<a href="/swift/+bug/1430645/+attachment/4340823">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4340854/+files/check-authorize.patch">similar to the quick fix - call authorize at some point before we start making COPY requests (with unittests!)</a>
        <small>
          (<a href="/swift/+bug/1430645/+attachment/4340854">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4340900/+files/acltest.patch">acltest.patch</a>
        <small>
          (<a href="/swift/+bug/1430645/+attachment/4340900">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4342406/+files/acltest.patch">acltest.patch</a>
        <small>
          (<a href="/swift/+bug/1430645/+attachment/4342406">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4348555/+files/fixver.patch">fixver.patch</a>
        <small>
          (<a href="/swift/+bug/1430645/+attachment/4348555">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4350647/+files/acoles-version-attack.patch">acoles-version-attack.patch</a>
        <small>
          (<a href="/swift/+bug/1430645/+attachment/4350647">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4361760/+files/0001-Prevent-unauthorized-delete-in-versioned-container.patch">0001-Prevent-unauthorized-delete-in-versioned-container.patch</a>
        <small>
          (<a href="/swift/+bug/1430645/+attachment/4361760">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4365224/+files/0001-Prevent-unauthorized-delete-in-versioned-container.patch">patch for stable/juno</a>
        <small>
          (<a href="/swift/+bug/1430645/+attachment/4365224">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4365234/+files/acoles-version-attack-icehouse.patch">patch for stable/icehouse</a>
        <small>
          (<a href="/swift/+bug/1430645/+attachment/4365234">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/swift/+bug/1430645/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/swift/+bug/1430645/+attachment/4340822/+files/delete-the-world.sh">script to setup conditions to demonstrate the issue on swift-all-in-one</a>
        <small>
          (<a href="/swift/+bug/1430645/+attachment/4340822">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/swift/+bug/1430645/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"bug_is_private": false, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1430645", "web_link": "https://bugs.launchpad.net/bugs/1430645", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1430645, "private": false, "information_type": "Public Security", "name": null, "title": "[OSSA 2015-006] unauthorized delete from container with x-version-location (CVE-2015-1856)", "description": "The handling of object versions wrt container ACL's has been an area of interest lately and some questionable authorization behaviors have come to light:\n\nhttps://etherpad.openstack.org/p/object_version_and_ACL_use_cases\n\nUnfortunately I just discovered another one that actually seems damaging.  Ability to destroy data without write access.\n\nAny authenticated used can overwrite the most recent versions of any versioned object who's name is known in a container with the X-Versions-Location metadata field set if they have listing access to the x-versions-location container - regardless of their write authorization to the container.  Basically if you can list an x-versions-location container you can overwrite all the current data in the source container (if you know it's name) with old copies even if you don't have write (or read) access to the source container.\n\nBasically we're creating a preauthorized COPY from from the x-versions-location container (assuming the user has listing access to the x-versions-location container, and an old version exists) without checking to see if authenticated user has write access to the destination.\n\nScript to reproduce the problem is attached.\n\nPossible patch to follow.", "owner_link": "https://bugs.launchpad.net/api/devel/~clay-gerrard", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/bug_tasks", "duplicate_of_link": null, "date_created": "2015-03-11T06:44:05.366368+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/subscriptions", "date_last_updated": "2015-04-30T10:07:52.369078+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 266, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/attachments", "security_related": true, "latest_patch_uploaded": "2015-04-03T18:02:29.838879+00:00", "tags": ["in-stable-icehouse", "in-stable-juno"], "date_last_message": "2015-04-21T15:22:34.687775+00:00", "number_of_duplicates": 0, "message_count": 46, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1430645/linked_merge_proposals", "http_etag": "\"a94c3fda00992c1f16bf26109e208e2bae066c10-2d65dfdc0fe4607341bd54a16b8caf7fd3ab0496\""}, "total_comments_and_activity": 80, "related_features": {}, "information_type_data": {"PUBLIC": {"is_private": false, "name": "Public", "order": 0, "description": "Everyone can see this information.\n", "value": "PUBLIC", "description_css_class": "choice-description"}, "PRIVATESECURITY": {"is_private": true, "name": "Private Security", "order": 2, "description": "Only the security group can see this information.\n ", "value": "PRIVATESECURITY", "description_css_class": "choice-description"}, "PUBLICSECURITY": {"is_private": false, "name": "Public Security", "order": 1, "description": "Everyone can see this security related information.\n", "value": "PUBLICSECURITY", "description_css_class": "choice-description"}, "USERDATA": {"is_private": true, "name": "Private", "order": 3, "description": "Only shared with users permitted to see private user information.\n", "value": "USERDATA", "description_css_class": "choice-description"}}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/swift/+bug/1430645", "web_link": "https://bugs.launchpad.net/swift/+bug/1430645", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1430645", "milestone_link": "https://bugs.launchpad.net/api/devel/swift/+milestone/2.3.0", "status": "Fix Released", "importance": "Undecided", "assignee_link": null, "bug_target_display_name": "OpenStack Object Storage (swift)", "bug_target_name": "swift", "bug_watch_link": null, "date_assigned": null, "date_created": "2015-03-11T06:44:05.366368+00:00", "date_confirmed": "2015-03-11T08:07:48.371946+00:00", "date_incomplete": null, "date_in_progress": "2015-04-14T16:42:00.003422+00:00", "date_closed": "2015-04-15T07:39:44.044960+00:00", "date_left_new": "2015-03-11T08:07:48.371946+00:00", "date_triaged": "2015-04-14T16:42:00.003422+00:00", "date_fix_committed": "2015-04-14T16:42:00.003422+00:00", "date_fix_released": "2015-04-15T07:39:44.044960+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~clay-gerrard", "target_link": "https://bugs.launchpad.net/api/devel/swift", "title": "Bug #1430645 in OpenStack Object Storage (swift): \"[OSSA 2015-006] unauthorized delete from container with x-version-location (CVE-2015-1856)\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/swift/+bug/1430645/related_tasks", "is_complete": true, "http_etag": "\"d80a1747216836fea4e2fdccf1a3d4dbe67731dd-11c09882699f348846faefa52f41258dff790bdb\""}, "bugtask_data": {"1789057": {"delete_link": "https://bugs.launchpad.net/swift/+bug/1430645/+delete", "bug_title": "[OSSA 2015-006] unauthorized delete from container with x-version-location (CVE-2015-1856)", "user_can_unassign": false, "importance_value": "Undecided", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary1789057", "target_is_product": true, "user_can_edit_milestone": false, "prefix": "swift", "bugtask_path": "/swift/+bug/1430645", "id": 1789057, "milestone_value": "https://bugs.launchpad.net/api/devel/swift/+milestone/2.3.0", "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task1789057", "targetname": "OpenStack Object Storage (swift)", "assignee_is_team": null, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": null, "status_value": "Fix Released"}, "1789213": {"delete_link": "https://bugs.launchpad.net/ossa/+bug/1430645/+delete", "bug_title": "[OSSA 2015-006] unauthorized delete from container with x-version-location (CVE-2015-1856)", "user_can_unassign": false, "importance_value": "Medium", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary1789213", "target_is_product": true, "user_can_edit_milestone": false, "prefix": "ossa", "bugtask_path": "/ossa/+bug/1430645", "id": 1789213, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task1789213", "targetname": "OpenStack Security Advisory", "assignee_is_team": null, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": null, "status_value": "Fix Released"}}, "subscribers_portlet_url_data": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1430645", "web_link": "https://bugs.launchpad.net/bugs/1430645"}, "initial_comment_batch_offset": 41, "first visible_recent_comment": 5};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 59 queries/external actions issued in 1.60 seconds

    Features: {'app.maintenance_message': None, 'hard_timeout': '9000', 'js.yui_version': None, 'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'baselayout.careers_link.disabled': None, 'bugs.affected_count_includes_dupes.disabled': None, 'visible_render_time': None, 'profiling.enabled': None, 'bugs.nominations.bug_supervisors_can_target': 'on'}

    r0d8de2b

    -->

</html>

