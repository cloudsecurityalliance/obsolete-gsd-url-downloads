<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 1177201 &ndash; VUL-0: CVE-2020-28049: sddm: race condition in setting up Xorg -auth file in conjunction with Xorg -displayfd parameter</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="https://bugzilla.suse.com/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=1177201&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=1177201">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=1177201">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=1177201">



    
    <link href="skins/standard/global.css?1411227340"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css?1411227331" rel="stylesheet"
            type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css?1411227331" rel="stylesheet"
            type="text/css" ><link href="skins/standard/global.css?1411227340" rel="stylesheet"
            type="text/css" ><link href="skins/standard/show_bug.css?1416528352" rel="stylesheet"
            type="text/css" ><link href="extensions/Voting/web/style.css?1411227348" rel="stylesheet"
            type="text/css" ><!--[if lte IE 7]>
      


      <link href="skins/standard/IE-fixes.css?1411227340" rel="stylesheet"
            type="text/css" >
<![endif]-->

    <link href="skins/contrib/SUSE/global.css?1411227340" rel="stylesheet"
            type="text/css" 
          title="SUSE">

    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js?1411227335"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js?1411227333"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js?1411227329"></script><script type="text/javascript" src="js/yui/connection/connection-min.js?1411227329"></script><script type="text/javascript" src="js/yui/json/json-min.js?1411227333"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js?1411227334"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js?1411227335"></script><script type="text/javascript" src="js/global.js?1411227336"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 1
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 1177201 – VUL-0: CVE-2020-28049: sddm: race condition in setting up Xorg -auth file in conjunction with Xorg -displayfd parameter",  
                             "show_bug.cgi?id=1177201" );
        document.title = "Bug 1177201 – VUL-0: CVE-2020-28049: sddm: race condition in setting up Xorg -auth file in conjunction with Xorg -displayfd parameter";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 1177201 – VUL-0: CVE-2020-28049: sddm: race condition in setting up Xorg -auth file in conjunction with Xorg -displayfd parameter", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script type="text/javascript" src="js/util.js?1411227336"></script><script type="text/javascript" src="js/field.js?1414105521"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" ><link href="extensions/Testopia/css/testopia.css" rel="stylesheet" type="text/css">
    <link href="extensions/Testopia/extjs/examples/ux/css/RowEditor.css" rel="stylesheet" type="text/css"  />
    <script type="text/javascript">
        Testopia_user = {login: "", id: 0};
        DEFAULT_CASE_STATUS = 'CONFIRMED';
    </script>
  </head>



  <body onload=""
        class="bugzilla-suse-com bz_bug bz_status_NEW bz_product_openSUSE_Distribution bz_component_Security bz_bug_1177201 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<!--div id="tmp_warning_wnd" style="
    position:fixed; 
    color:red; 
    font-size:20px; 
    top:50px; 
    left:10%; 
    right:10%; 
    padding:1em;
    background-color:#ffffff;
    border:3px solid red;
    z-index:9999;
    text-align:center;">
  This Bugzilla is for TESTING ONLY. All new bugs and comments WILL BE LOST. Use <a href="https://bugzilla.suse.com">bugzilla.suse.com</a> instead.
  <button style="
      background:none;
      border:0;
      box-shadow:none;
      color:red;
      text-shadow:none;
      position:absolute;
      right:0;
      top:0;" onclick="document.getElementById('tmp_warning_wnd').style.display='none';">[X]</button>
</div-->

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;1177201</p>
    </td>

    <td id="subtitle">
      <p class="subheader">VUL-0: CVE-2020-28049: sddm: race condition in setting up Xorg -auth file in conjunction with Xorg -displayfd parameter</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2020-11-11 14:46:39 UTC</p>
    </td>
</tr>
</table>

<table id="lang_links_container" cellpadding="0" cellspacing="0"
       class="bz_default_hidden"><tr><td>
</td></tr></table>
<ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>

  <li>
        <span class="separator">| </span>
        <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <!--a id="login_link_top" href="show_bug.cgi?id=CVE-2020-28049&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a-->
  <a id="login_link_top" href="show_bug.cgi?id=CVE-2020-28049&amp;GoAheadAndLogIn=1">Log In</a>


  <form action="show_bug.cgi?id=CVE-2020-28049" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login_top"
        onsubmit="return check_mini_login_fields( '_top' );"
  >
    <input id="Bugzilla_login_top" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('_top')"
    >
    <input class="bz_password" 
           id="Bugzilla_password_top" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
           onfocus="mini_login_on_focus('_top')"
    >
    <input type="submit" name="GoAheadAndLogIn" value="Log in" 
            id="log_in_top">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_top');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_top');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
<li id="forgot_container_top">
  <span class="separator">| </span>
  <a id="forgot_link_top" href="https://idp-portal.suse.com/univention/self-service/#page=passwordreset">Forgot Password</a>
</li>
</ul>
</div> 

<div id="bugzilla-body">

<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2020-11-11 14:46:39">
  <input type="hidden" name="longdesclength" value="36">
  <input type="hidden" name="id" value="1177201">
  <input type="hidden" name="token" value="1635630761-Aeh4fpTdwIiuT3wZfnLZF63WVNH5k1pmkXKlL9NZDAs">
<div class="bz_alias_short_desc_container edit_form">
     <a href="show_bug.cgi?id=1177201"><b>Bug&nbsp;1177201</b></a> -<span id="summary_alias_container" class="bz_default_hidden">
        (<span id="alias_nonedit_display">CVE-2020-28049</span>) 
      <span id="short_desc_nonedit_display">VUL-0: CVE-2020-28049: sddm: race condition in setting up Xorg -auth file in conjunction with Xorg -displayfd parameter</span>
     </span>  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">(CVE-2020-28049)
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=glossary.html#short_desc"
  >Summary:</a>
</label>
</th>
          <td><span title="VUL-0: CVE-2020-28049: sddm: race condition in setting up Xorg -auth file in conjunction with Xorg -displayfd parameter">VUL-0: CVE-2020-28049: sddm: race condition in setting up Xorg -auth file in ...
        </span>
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('VUL-0: CVE-2020-28049: sddm: race condition in setting up Xorg -auth file in conjunction with Xorg -displayfd parameter', 'CVE-2020-28049');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=status_resolution_matrix.html">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">NEW
      </span>
    </td>
  </tr>

          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=glossary.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >openSUSE</td>
      </tr>

    
    
    
    <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >openSUSE Distribution</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=glossary.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >openSUSE</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=openSUSE Distribution"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Security</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=glossary.html#version"
  >Version:</a>
</label>
</th>
        <td>Leap 15.1
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=glossary.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">Other
       Other
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority">
          <a href="page.cgi?id=glossary.html#priority">Priority</a></label>:
      </th>
      <td>P3 - Medium
        <label for="severity">
          <b>Severity</b></label>:
       Normal<span id="votes_container">
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=1177201#vote_1177201">vote</a>)
  </span>
      </td>
    </tr>

      <tr>
        <th class="field_label">
          <label for="target_milestone">
            <a href="page.cgi?id=glossary.html#target_milestone">
            Target&nbsp;Milestone</a></label>:
        </th><td>Leap 15.1
  </td>
      </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=glossary.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Security Team bot</span>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">

    <label for="qa_contact" accesskey="q">

  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=glossary.html#qa_contact"
  >QA Contact:</a>
</label>
</th>
      <td><span class="vcard"><span class="fn">E-mail List</span>
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'security-team\x40suse.de',
        'qa-bugs\x40suse.de');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=glossary.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
  
    <tr><th class="field_label "
    id="field_label_status_whiteboard">

    <label for="status_whiteboard" accesskey="w">

  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=glossary.html#status_whiteboard"
  >Whiteboard:</a>
</label>
</th><td colspan="2">  
  </td>
    </tr>
  
    <tr>
      <th class="field_label">
        <label for="keywords" accesskey="k">
          <a href="describekeywords.cgi"><u>K</u>eywords</a></label>:
      </th>
      <td class="field_value" colspan="2">
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=glossary.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=glossary.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=1177201&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=1177201">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2020-10-01 14:42 UTC by <span class="vcard"><span class="fn">Fabian Vogt</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2020-11-11 14:46 UTC 
      (<a href="show_activity.cgi?id=1177201">History</a>)
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>3 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="atoptsoglou">atoptsoglou</option>
                <option value="matthias.gerstner">matthias.gerstner</option>
                <option value="meissner">meissner</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=glossary.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         <tr><th class="field_label "
    id="field_label_cf_foundby">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_foundby"
  >Found By:</a>

</th>
  <td class="field_value "
      id="field_container_cf_foundby"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_nts_priority">


  <a 
      title="A custom Free Text field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_nts_priority"
  >Services Priority:</a>

</th>
  <td class="field_value "
      id="field_container_cf_nts_priority"  colspan="2"></td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_biz_priority">


  <a 
      title="A custom Free Text field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_biz_priority"
  >Business Priority:</a>

</th>
  <td class="field_value "
      id="field_container_cf_biz_priority"  colspan="2"></td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_blocker">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_blocker"
  >Blocker:</a>

</th>
  <td class="field_value "
      id="field_container_cf_blocker"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_marketing_qa_status">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_marketing_qa_status"
  >Marketing QA Status:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_marketing_qa_status"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_it_deployment">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_it_deployment"
  >IT Deployment:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_it_deployment"  colspan="2">---</td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         <ul>
    <li><a href="tr_new_case.cgi?product=openSUSE%20Distribution&bug=1177201">Create test case</a></li>
</ul><ul>
  <li><a href="enter_bug.cgi?cloned_bug_id=1177201">Clone This Bug</a></li>
</ul>
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>



  <tr class="bz_attach_footer">
    <td colspan="2">
        <a href="attachment.cgi?bugid=1177201&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=1177201&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1411227336" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>




<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-02 12:12:06 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I was able to reproduce this with sddm. As an addendum to the reproducer from
<a href="show_bug.cgi?id=1177201#c0">comment 0</a>: you need to set an appropriate DISPLAY environment variable for
this work from e.g. an SSH connection outside of a graphical session. For sddm
`export DISPLAY=:0` is enough.

I also managed to start an xterm in the sddm greeter context, but sddm seems
to kill or unmap that window quickly again. Using an X aware program tailored
towards this attack (I tested using an adjusted version of my xwmfs [1]
project), it is possible to keep the existing connection to the X server even
after a regular user performs a graphical login. Consequences are for example,
that an arbitrary unprivileged local user can kill other user's X
applications, retrieve/change window names, or read/write the
clipboard/primary selection. In other words a big information leak and
integrity violation.

I don't know if this attack vector is enough to gain root privileges. This
would require that the greeter is running as root and that the access to the X
display while the greeter runs somehow makes root privileges possible.

The good thing is that the issue can only be exploited once during boot or
when the X server is restarted.

Strangely enough I was not able to reproduce the same using `gdm`. Either the
race condition is way shorter there, or it uses some other measures to prevent
the race in the first place. It is passing the `-auth` and `-displayfd`
switches just like `sddm` does, however.

My first guess would be, without having looked closely into the involved code,
that this special usage of `-auth` and `-displayfd` needs a secure handover
protocol i.e. connections to the X display should only become possible once
the greeter has fully written the auth file and somehow signaled this to the
Xserver. An hacky way to fix it would also be for the Xserver to reject all
connections when `-auth` was passed but the specified file is not existing or
not containing valid information.

What's your take on this issue Stefan?

[1]: <a href="https://github.com/gerstner-hub/xwmfs">https://github.com/gerstner-hub/xwmfs</a></pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Fabian Vogt</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-02 13:12:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to Matthias Gerstner from <a href="show_bug.cgi?id=1177201#c4">comment #4</a>)
<span class="quote">&gt; I was able to reproduce this with sddm. As an addendum to the reproducer from
&gt; <a href="show_bug.cgi?id=1177201#c0">comment 0</a>: you need to set an appropriate DISPLAY environment variable for
&gt; this work from e.g. an SSH connection outside of a graphical session. For
&gt; sddm
&gt; `export DISPLAY=:0` is enough.
&gt; 
&gt; I also managed to start an xterm in the sddm greeter context, but sddm seems
&gt; to kill or unmap that window quickly again.</span >

AFAICT the greeter appears in foreground, and without a running WM it's not
possible to interact with anything behind the greeter. 

<span class="quote">&gt; Using an X aware program tailored
&gt; towards this attack (I tested using an adjusted version of my xwmfs [1]
&gt; project), it is possible to keep the existing connection to the X server even
&gt; after a regular user performs a graphical login. Consequences are for
&gt; example,
&gt; that an arbitrary unprivileged local user can kill other user's X
&gt; applications, retrieve/change window names, or read/write the
&gt; clipboard/primary selection. In other words a big information leak and
&gt; integrity violation.</span >

And also capture all input and output, including username/password in the login
screen...

<span class="quote">&gt; I don't know if this attack vector is enough to gain root privileges. This
&gt; would require that the greeter is running as root and that the access to the
&gt; X
&gt; display while the greeter runs somehow makes root privileges possible.</span >

The greeter runs as &quot;sddm&quot; user and doesn't have any special privileges itself.
So it shouldn't immediately result in a privesc.

<span class="quote">&gt; The good thing is that the issue can only be exploited once during boot or
&gt; when the X server is restarted.</span >

The requirement is that there is normal user access possible, so triggering X
to start in such cases is not too far off (logout when owning a graphical session,
triggering creation of a new graphical session on a different VT over dbus)

<span class="quote">&gt; Strangely enough I was not able to reproduce the same using `gdm`. Either the
&gt; race condition is way shorter there, or it uses some other measures to
&gt; prevent
&gt; the race in the first place. It is passing the `-auth` and `-displayfd`
&gt; switches just like `sddm` does, however.</span >

See the last paragraph of my initial comment.

<span class="quote">&gt; My first guess would be, without having looked closely into the involved
&gt; code,
&gt; that this special usage of `-auth` and `-displayfd` needs a secure handover
&gt; protocol i.e. connections to the X display should only become possible once
&gt; the greeter has fully written the auth file and somehow signaled this to the
&gt; Xserver. An hacky way to fix it would also be for the Xserver to reject all
&gt; connections when `-auth` was passed but the specified file is not existing or
&gt; not containing valid information.
&gt; 
&gt; What's your take on this issue Stefan?
&gt; 
&gt; [1]: <a href="https://github.com/gerstner-hub/xwmfs">https://github.com/gerstner-hub/xwmfs</a></span ></pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Dirsch</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-02 14:08:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Not sure what I can contribute to this discussion. You digged much deeper into this as I did. Just one thing to add. The way gdm starts the Xserver - as I recently learned.

The X arguments in gdm:

/usr/bin/X vt2 (could be vt2-7)
-displayfd x
-auth xxxx 
-background none 
-noreset 
-keeptty 
-verbose 7 (could be 7 or 3)
-core
-listen tcp (if allow_remote_connections set to &quot;yes&quot; in /etc/gdm/custom.conf)
-nolisten tcp (default)</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-05 09:41:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="mailto:fvogt&#64;suse.com">fvogt&#64;suse.com</a> from <a href="show_bug.cgi?id=1177201#c5">comment #5</a>)
<span class="quote">&gt; AFAICT the greeter appears in foreground, and without a running WM it's not
&gt; possible to interact with anything behind the greeter.</span >

Makes sense.

<span class="quote">&gt; The requirement is that there is normal user access possible, so triggering X
&gt; to start in such cases is not too far off (logout when owning a graphical session,
&gt; triggering creation of a new graphical session on a different VT over dbus)</span >

Yes this would be true for multi users graphical systems. Which are rather
rare these days. I was thinking more of something like a compromised `nobody`
account or something similar.

<span class="quote">&gt; See the last paragraph of my initial comment.</span >

Ah I see. So the point here is that gdm probably writes out the XAuthority
file before starting Xorg.

So what is left to do for this issue on our side is about the following:

- identifying other common display managers that are affected by default
- determining if this more of an Xorg issue or more of a display manager
  issue. In the end we can send out reports to all affected parties.

I will try to find some more time today to do this.</pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-05 12:55:26 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I checked and none of the other major display managers seem to be affected by
this, at least not by default (checked gdm, xdm, lightdm, lxdm).

In the xserver code function `CheckAuthorization` we can get some hints about
how Xorg handles changes to Xauthority files:

```
        /*
         * If the authorization file has at least one entry for this server,
         * disable local access. (loadauth &gt; 0)
         *
         * If there are zero entries (either initially or when the
         * authorization file is later reloaded), or if a valid
         * authorization file was never loaded, enable local access.
         * (loadauth == 0 || !loaded)
         *
         * If the authorization file was loaded initially (with valid
         * entries for this server), and reloading it later fails, don't
         * change anything. (loadauth == -1 &amp;&amp; loaded)
         */
```

`CheckAuthorization()` seems to be executed every time a new user tries to
connect to the XServer. During every execution the server checks whether the
modification time of the file changed and if so, reloads its contents.

This means that the Xserver has *some* support to recognize updates to the
authority file. But since there is no means of synchronization that would
allow the Xserver to read changed Xauthority files in a race-free fashion this
feature is shaky. If the Xserver would *not* do this, however, then the issue
discovered in this bug could become permanent.

The Xserver(1) man page states regarding `-auth`:

```
       -auth authorization-file
	       specifies a file which contains a collection of authorization records used  to  authenticate  ac‐
	       cess. See also the xdm(1) and Xsecurity(7) manual pages.
```

I would say that this doesn't cover the file not yet existing or not yet
having the correct content when the Xserver is started up. Therefore I'm
starting to think that the issue is more on the sddm side than on the Xserver
side.

My suggestion is to report this privately to sddm upstream and maybe give the
Xorg people a hint about this issue and that a safer default would be better
when `-auth` is specified but the file does not exist yet or is empty.</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Fabian Vogt</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-05 13:26:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to Matthias Gerstner from <a href="show_bug.cgi?id=1177201#c8">comment #8</a>)
<span class="quote">&gt; I checked and none of the other major display managers seem to be affected by
&gt; this, at least not by default (checked gdm, xdm, lightdm, lxdm).
&gt; 
&gt; In the xserver code function `CheckAuthorization` we can get some hints about
&gt; how Xorg handles changes to Xauthority files:
&gt; 
&gt; ```
&gt;         /*
&gt;          * If the authorization file has at least one entry for this server,
&gt;          * disable local access. (loadauth &gt; 0)
&gt;          *
&gt;          * If there are zero entries (either initially or when the
&gt;          * authorization file is later reloaded), or if a valid
&gt;          * authorization file was never loaded, enable local access.
&gt;          * (loadauth == 0 || !loaded)
&gt;          *
&gt;          * If the authorization file was loaded initially (with valid
&gt;          * entries for this server), and reloading it later fails, don't
&gt;          * change anything. (loadauth == -1 &amp;&amp; loaded)
&gt;          */
&gt; ```
&gt; 
&gt; `CheckAuthorization()` seems to be executed every time a new user tries to
&gt; connect to the XServer. During every execution the server checks whether the
&gt; modification time of the file changed and if so, reloads its contents.
&gt; 
&gt; This means that the Xserver has *some* support to recognize updates to the
&gt; authority file. But since there is no means of synchronization that would
&gt; allow the Xserver to read changed Xauthority files in a race-free fashion
&gt; this
&gt; feature is shaky.</span >

libXau provides XauLockAuth/XauUnlockAuth, which are probably supposed to take
care of that.

<span class="quote">&gt; If the Xserver would *not* do this, however, then the issue
&gt; discovered in this bug could become permanent.
&gt; 
&gt; The Xserver(1) man page states regarding `-auth`:
&gt; 
&gt; ```
&gt;        -auth authorization-file
&gt; 	       specifies a file which contains a collection of authorization
&gt; records used  to  authenticate  ac‐
&gt; 	       cess. See also the xdm(1) and Xsecurity(7) manual pages.
&gt; ```
&gt; 
&gt; I would say that this doesn't cover the file not yet existing or not yet
&gt; having the correct content when the Xserver is started up. Therefore I'm
&gt; starting to think that the issue is more on the sddm side than on the Xserver
&gt; side.</span >

Yes, that's how far I got as well before I filed the report. It's just that there
is absolutely no document explaining how this is designed to work and what DMs
are supposed to do here, so without that there's just no way to write an entry
with the proper display number for the auth file. I can't tell whether that's
intentional or not and so the question about what a DM is actually expected to
write there remains. I really don't want to base critical code like that on
guesses and assumptions.

<span class="quote">&gt; My suggestion is to report this privately to sddm upstream and maybe give the
&gt; Xorg people a hint about this issue and that a safer default would be better
&gt; when `-auth` is specified but the file does not exist yet or is empty.</span >

I did the former as a heads-up and prepared a patch which does something similar
like gdm, but uses &quot;0&quot; instead of passing an empty display number as that is at
least shown properly in &quot;xauth list&quot;. AFAICT currently the X server doesn't care
about the display number or the host name and matches with every MIT-MAGIC-COOKIE-1
entry.

&#64;sndirsch: Can you ask upstream X about this? Some official document on how DMs
are supposed to write -auth + -displayfd would be useful and ideally also hardening,
like refusing connections if the passed file is empty or does not exist.</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-05 13:59:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="mailto:fvogt&#64;suse.com">fvogt&#64;suse.com</a> from <a href="show_bug.cgi?id=1177201#c9">comment #9</a>)
<span class="quote">&gt; libXau provides XauLockAuth/XauUnlockAuth, which are probably supposed to take
&gt; care of that.</span >

As long as the xserver doesn't call those functions that's not helping much
...

If the xserver would use those locking functions then the useage of -auth and
-displayfd could be made safe. sddm would need to lock the file before
starting the xserver, then wait for the display number, write the file, only
then unlock.

<span class="quote">&gt; Yes, that's how far I got as well before I filed the report. It's just that there
&gt; is absolutely no document explaining how this is designed to work and what DMs
&gt; are supposed to do here, so without that there's just no way to write an entry
&gt; with the proper display number for the auth file.</span >

Since sddm is the only DM that is affected by this there's a chance that it's
not supposed to work this specific way at all. But you simply will have to get
the info from Xorg people, this is beyond the security topic as such.

<span class="quote">&gt; AFAICT currently the X server doesn't care about the display number or the
&gt; host name and matches with every MIT-MAGIC-COOKIE-1 entry.</span >

The display number would only be of interest to the Xserver if the same
Xauthority file would be used for multiple displays at the same time. Since
each X server instance can only serve one display this wouldn't make much
sense.

Therefore writing the display number into the authority file is probably
unnecessary. But again you would need to get confirmation from Xorg people.
This X11 stuff is pretty strange at times.</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Dirsch</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-05 14:33:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Well, I doubt there is any documentation/special knowledge in the X community how to (best) use these -auth/-displayfd Xserver options for displaymanagers. I would guess displaymanagers, which came after xdm initially copied the usage from xdm (kdm and gdm) and when there were changes in xdm due to this it was adjusted in those as well (if it didn't go unnoticed there!).

Nevertheless you could ask on the xorg-devel mailing list or in #xorg-devel on freenode, if you like. I'm not so happy playing proxy here since usually this ends up in questions to me, which you could ask better than me.

<a href="https://lists.x.org/mailman/listinfo/xorg-devel">https://lists.x.org/mailman/listinfo/xorg-devel</a>
#xorg-devel (freenode)

The security team must have some contact to X developers usually caring about the security updates (unfortunately I don't have these). That would be another option to use as contact.</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-06 09:40:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="mailto:sndirsch&#64;suse.com">sndirsch&#64;suse.com</a> from <a href="show_bug.cgi?id=1177201#c11">comment #11</a>)
<span class="quote">&gt; Well, I doubt there is any documentation/special knowledge in the X
&gt; community how to (best) use these -auth/-displayfd Xserver options for
&gt; displaymanagers.</span >

This is most probably simply a grey area, like so many in the X11 context.
Maybe a scenario like this was considered somewhen in the past but never quite
implemented fully (e.g. missing locking calls).

<span class="quote">&gt; The security team must have some contact to X developers usually caring
&gt; about the security updates (unfortunately I don't have these). That would be
&gt; another option to use as contact.</span >

We are members of the list <a href="mailto:xorg-security&#64;lists.x.org">xorg-security&#64;lists.x.org</a>. You can post your
question there and discuss it. But make it clear that the issue is under
EMBARGO. I guess it is more up to sddm upstream to decide when to publish
this.</pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-07 11:49:50 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&#64;fvogt: do you need any additinal support with this? Did you start a security
incident process with sddm upstream?</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Fabian Vogt</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-07 12:29:04 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to Matthias Gerstner from <a href="show_bug.cgi?id=1177201#c13">comment #13</a>)
<span class="quote">&gt; &#64;fvogt: do you need any additinal support with this? Did you start a security
&gt; incident process with sddm upstream?</span >

Not yet, I'd do that once I've got the patch tested properly. If this needs a CVE (probably), could you allocate one (like for <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - VUL-0: CVE-2018-14345: sddm: unlock existing sessions without authentication if ReuseSession=true"
   href="show_bug.cgi?id=1101450">bug 1101450</a>)?</pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-07 12:54:00 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="mailto:fvogt&#64;suse.com">fvogt&#64;suse.com</a> from <a href="show_bug.cgi?id=1177201#c14">comment #14</a>)
<span class="quote">&gt; Not yet, I'd do that once I've got the patch tested properly. If this needs a CVE (probably), could you allocate one (like for <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - VUL-0: CVE-2018-14345: sddm: unlock existing sessions without authentication if ReuseSession=true"
   href="show_bug.cgi?id=1101450">bug 1101450</a>)?</span >

We can request one via the Mitre CVE form. But that means we need to share it
with Mitre, which we would like to do only when we are close to publishing the
issue.

Is sddm part of some bigger project like KDE or close to Red Hat? Then they
should be able to use one of their own CVEs. Generally you should always ask
upstream first how they like to handle CVE assignment.</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Dirsch</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-19 02:50:27 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Looks like this needs to be addressed in sddm. In case my assumption turns out to be wrong and it needs to be handled i n Xserver instead please feel free to put me in the loop again. Thanks!</pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-21 08:01:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Are there any news regarding the upstream embargo process? If there are any
emails exchanged regarding this it would be good to include <a href="mailto:security&#64;suse.de">security&#64;suse.de</a>
to keep us in the loop.

We will apply our usual 90 days max CRD for the time being until we know more
from upstream:

Internal CRD: 2020-12-30 or earlier</pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Fabian Vogt</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-10-21 08:12:16 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I wrote a mail to the maintainers with patches on the 10th, but didn't get a reaction so far. I'll send a ping end of this week, with <a href="mailto:security&#64;suse.de">security&#64;suse.de</a> in CC.</pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-02 12:22:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="mailto:fvogt&#64;suse.com">fvogt&#64;suse.com</a> from <a href="show_bug.cgi?id=1177201#c20">comment #20</a>)
<span class="quote">&gt; I asked about the CVE assignment and got this back:
&gt; 
&gt; &gt;&gt; For the release, having the CVE ID in the changelog already would be ideal.
&gt; &gt;&gt; Did you allocate one already or should I ask the SUSE sec team to get one?
&gt; &gt;&gt;
&gt; &gt;Please have the SUSE sec team get one, thanks.</span >

Actually we don't have any special powers in this regard. We can only actively
assign CVEs for SUSE's own software, not for external projects. For external
projects the following CVE form needs to be used:

<a href="https://cveform.mitre.org">https://cveform.mitre.org</a>

You could basically do this yourself. It will usually take one work day until
the CVE is communicated by Mitre.

Did you come to an agreement with upstream and/or the X.org guys about whether
this is an sddm-only issue or a larger X.org issue? This would be an important
pointer for the CVE contents, too.</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Fabian Vogt</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-02 12:57:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to Matthias Gerstner from <a href="show_bug.cgi?id=1177201#c21">comment #21</a>)
<span class="quote">&gt; (In reply to <a href="mailto:fvogt&#64;suse.com">fvogt&#64;suse.com</a> from <a href="show_bug.cgi?id=1177201#c20">comment #20</a>)
&gt; &gt; I asked about the CVE assignment and got this back:
&gt; &gt; 
&gt; &gt; &gt;&gt; For the release, having the CVE ID in the changelog already would be ideal.
&gt; &gt; &gt;&gt; Did you allocate one already or should I ask the SUSE sec team to get one?
&gt; &gt; &gt;&gt;
&gt; &gt; &gt;Please have the SUSE sec team get one, thanks.
&gt; 
&gt; Actually we don't have any special powers in this regard. We can only
&gt; actively
&gt; assign CVEs for SUSE's own software, not for external projects. For external
&gt; projects the following CVE form needs to be used:
&gt; 
&gt; <a href="https://cveform.mitre.org">https://cveform.mitre.org</a>
&gt; 
&gt; You could basically do this yourself. It will usually take one work day until
&gt; the CVE is communicated by Mitre.</span >

Ah, ok. It's not entirely clear to me how the process works, so I'll leave that to someone else, at least this time.

<span class="quote">&gt; Did you come to an agreement with upstream and/or the X.org guys about
&gt; whether
&gt; this is an sddm-only issue or a larger X.org issue? This would be an
&gt; important
&gt; pointer for the CVE contents, too.</span >

CVE-2015-3164 seems similar enough that I assume that the developers are
aware of it and they mitigated it for Xwayland. It's also somewhat documented
in the Xsecurity(7) man page, though that doesn't seem to be installed here (?):
<a href="https://www.x.org/releases/current/doc/man/man1/Xserver.1.xhtml#heading10">https://www.x.org/releases/current/doc/man/man1/Xserver.1.xhtml#heading10</a>

<span class="quote">&gt; If this file contains any authorization records, the local host is not automatically allowed access to the server, and only clients which send one of the authorization records contained in the file in the connection setup information will be allowed access.</span ></pre>
    </div><div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-02 13:43:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="mailto:fvogt&#64;suse.com">fvogt&#64;suse.com</a> from <a href="show_bug.cgi?id=1177201#c22">comment #22</a>)
<span class="quote">&gt; &gt; You could basically do this yourself. It will usually take one work day until
&gt; &gt; the CVE is communicated by Mitre.
&gt; 
&gt; Ah, ok. It's not entirely clear to me how the process works, so I'll leave that to someone else, at least this time.</span >

Okay I will fill out the request form.</pre>
    </div><div id="c24" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-03 08:02:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Mitre assigned CVE-2020-28049 for this issue.</pre>
    </div><div id="c25" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Fabian Vogt</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-03 10:05:31 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to Matthias Gerstner from <a href="show_bug.cgi?id=1177201#c24">comment #24</a>)
<span class="quote">&gt; Mitre assigned CVE-2020-28049 for this issue.</span >

SDDM v0.19.0 is out, with the CVE mentioned in the changelog: <a href="https://github.com/sddm/sddm/releases/tag/v0.19.0">https://github.com/sddm/sddm/releases/tag/v0.19.0</a></pre>
    </div><div id="c26" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-03 11:08:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Okay, publishing this bug, too.

This will needs updates in Leap 15.0 and 15.1. Will you take care of it?

Do you want to write a posting to the oss-sec mailing list making people aware
of this issue? Otherwise I'd do it.</pre>
    </div><div id="c27" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Fabian Vogt</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-03 12:25:12 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to Matthias Gerstner from <a href="show_bug.cgi?id=1177201#c26">comment #26</a>)
<span class="quote">&gt; Okay, publishing this bug, too.
&gt; 
&gt; This will needs updates in Leap 15.0 and 15.1. Will you take care of it?</span >

Yep: <a href="https://build.opensuse.org/request/show/845707">https://build.opensuse.org/request/show/845707</a>
For TW it's <a href="https://build.opensuse.org/request/show/845708">https://build.opensuse.org/request/show/845708</a>

<span class="quote">&gt; Do you want to write a posting to the oss-sec mailing list making people
&gt; aware
&gt; of this issue? Otherwise I'd do it.</span >

I asked upstream what they prefer, but didn't get an answer yet. IMO you can go ahead with the mail as that shouldn't be needlessly delayed.</pre>
    </div><div id="c30" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-04 09:25:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm adjust the bug summary to make it clear that this is an issue in sddm.</pre>
    </div><div id="c31" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthias Gerstner</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-04 10:56:04 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I published this on oss-sec [1].

[1]: <a href="https://www.openwall.com/lists/oss-security/2020/11/04/2">https://www.openwall.com/lists/oss-security/2020/11/04/2</a></pre>
    </div><div id="c33" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Swamp Workflow Management</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-07 17:14:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >openSUSE-SU-2020:1870-1: An update that fixes one vulnerability is now available.

Category: security (moderate)
Bug References: 1177201
CVE References: CVE-2020-28049
JIRA References: 
Sources used:
openSUSE Leap 15.2 (src):    sddm-0.18.0-lp152.5.3.1
openSUSE Leap 15.1 (src):    sddm-0.18.0-lp151.3.6.1</pre>
    </div><div id="c34" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Swamp Workflow Management</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-10 17:17:21 UTC
        </span>
      </div>



<pre class="bz_comment_text" >openSUSE-SU-2020:1897-1: An update that fixes one vulnerability is now available.

Category: security (moderate)
Bug References: 1177201
CVE References: CVE-2020-28049
JIRA References: 
Sources used:
openSUSE Backports SLE-15-SP1 (src):    sddm-0.18.0-bp151.4.6.1</pre>
    </div><div id="c35" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1177201#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Swamp Workflow Management</span>
</span>
        </span>

        <span class="bz_comment_time">
          2020-11-11 14:46:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >openSUSE-SU-2020:1899-1: An update that fixes one vulnerability is now available.

Category: security (moderate)
Bug References: 1177201
CVE References: CVE-2020-28049
JIRA References: 
Sources used:
openSUSE Backports SLE-15-SP2 (src):    sddm-0.18.0-bp152.5.3.1</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=1177201">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=1177201">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=1177201">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>

  <li>
        <span class="separator">| </span>
        <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <!--a id="login_link_bottom" href="show_bug.cgi?id=CVE-2020-28049&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a-->
  <a id="login_link_bottom" href="show_bug.cgi?id=CVE-2020-28049&amp;GoAheadAndLogIn=1">Log In</a>


  <form action="show_bug.cgi?id=CVE-2020-28049" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login_bottom"
        onsubmit="return check_mini_login_fields( '_bottom' );"
  >
    <input id="Bugzilla_login_bottom" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('_bottom')"
    >
    <input class="bz_password" 
           id="Bugzilla_password_bottom" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_bottom" value="password"
           title="Password"
           onfocus="mini_login_on_focus('_bottom')"
    >
    <input type="submit" name="GoAheadAndLogIn" value="Log in" 
            id="log_in_bottom">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_bottom');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_bottom');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
<li id="forgot_container_bottom">
  <span class="separator">| </span>
  <a id="forgot_link_bottom" href="https://idp-portal.suse.com/univention/self-service/#page=passwordreset">Forgot Password</a>
</li>
</ul>
  </li>

  
    


  <form id="testopia_helper_frm"></form><ul class="links">
    <li>Legal: </li>
    <li><a href="http://en.opensuse.org/Terms_of_site">openSUSE</a></li>
    <li><a href="https://www.suse.com/company/legal/">SUSE</a></li>
  </ul>
</ul>

  <div class="outro"></div>
</div>


</body>
</html>