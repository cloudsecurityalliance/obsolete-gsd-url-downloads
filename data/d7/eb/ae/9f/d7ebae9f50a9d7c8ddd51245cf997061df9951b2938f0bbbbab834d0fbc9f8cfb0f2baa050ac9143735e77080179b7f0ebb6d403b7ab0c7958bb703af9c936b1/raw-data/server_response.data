<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    
    
      
    
    
      Issue 1061053002: Fix PartialCircularBuffer OOB memcpy(). -
    
    Code Review
  </title>
  <link rel="icon" href="/static/favicon.ico" />
  <link type="text/css" rel="stylesheet"
  href="/static/styles.css?v=408576698
" />
  <script type="text/javascript" src="/static/autocomplete/lib/jquery.js"></script>
  <script type="text/javascript"
    src="/static/script.js?v=408576698
"></script>
   <!-- head block to insert js/css for forms processing -->
   
   <!-- /head -->
</head>
<body onunload="M_unloadPage();">

<!-- Begin help window -->
<script type="text/javascript"><!--
var xsrfToken = 'ca5d6eab0f93167da8b4986d398e1eb4';
var helpDisplayed = false;
document.onclick = M_clickCommon;
var media_url = "/static/";
var base_url = "/";
// -->
</script>
<div id="help" style="display: none;">

<div style="font-size: medium; text-align: center;">Keyboard Shortcuts</div>
<hr />
<table class="shortcuts">
  <tr valign="top">
    <td>
      <table>
        <tr>
          <td></td><th>File</th>
        </tr>
        <tr>
          <td><span>u</span> <b>:</b></td><td>up to issue</td>
        </tr>
        <tr>
          <td><span>j</span> / <span>k</span> <b>:</b></td><td>jump to file after / before current file</td>
        </tr>
        <tr>
          <td><span>J</span> / <span>K</span> <b>:</b></td><td>jump to next file with a comment after / before current file</td>
        </tr>
        <tr>
          <td></td><th>Side-by-side diff</th>
        </tr>
        <tr>
          <td><span>i</span> <b>:</b></td><td>toggle intra-line diffs</td>
        </tr>
        <tr>
          <td><span>e</span> <b>:</b></td><td>expand all comments</td>
        </tr>
        <tr>
          <td><span>c</span> <b>:</b></td><td>collapse all comments</td>
        </tr>
        <tr>
          <td><span>s</span> <b>:</b></td><td>toggle showing all comments</td>
        </tr>
        <tr>
          <td><span>n</span> / <span>p</span> <b>:</b></td><td>next / previous diff chunk or comment</td>
        </tr>
        <tr>
          <td><span>N</span> / <span>P</span> <b>:</b></td><td>next / previous comment</td>
        </tr>
        <tr>
          <td><span>&lt;Up&gt;</span> / <span>&lt;Down&gt;</span> <b>:</b></td><td>next / previous line</td>
        </tr>
      </table>
    </td>
    <td>
      <table>
        <tr>
          <td></td><th>Issue</th>
        </tr>
        <tr>
          <td><span>u</span> <b>:</b></td><td>up to list of issues</td>
        </tr>
        <tr>
          <td><span>j</span> / <span>k</span> <b>:</b></td><td>jump to patch after / before current patch</td>
        </tr>
        <tr>
          <td><span>o</span> / <span>&lt;Enter&gt;</span> <b>:</b></td><td>open current patch in side-by-side view</td>
        </tr>
        <tr>
          <td><span>i</span> <b>:</b></td><td>open current patch in unified diff view</td>
        </tr>
        <tr><td>&nbsp;</td></tr>
          <tr><td></td><th>Issue List</th></tr>
        <tr>
          <td><span>j</span> / <span>k</span> <b>:</b></td><td>jump to issue after / before current issue</td>
        </tr>
        <tr>
          <td><span>o</span> / <span>&lt;Enter&gt;</span> <b>:</b></td><td>open current issue</td>
        </tr>
      </table>
    </td>
  </tr>

</table>
</div>
<!-- End help window -->

<div align="right">

<div style="float:left; font-size:x-large"><img style="vertical-align:middle" src="/static/chromium-24.png" /> Chromium Code Reviews</div>




<b>chromiumcodereview-hr@appspot.gserviceaccount.com (chromiumcodereview-hr)</b>
|

<span style="color:red">Please choose your nickname with</span>
<a class="novisit" href="/settings">Settings</a>
|


<a class="novisit" target="_blank"
   href="http://code.google.com/p/rietveld/wiki/CodeReviewHelp">Help</a>

|
<a class="novisit" href="http://www.chromium.org/">Chromium Project</a>
|
<a class="novisit" href="https://chromium-review.googlesource.com/dashboard/self?polygerrit=1">Gerrit Changes</a>
|

<a class="novisit" href="https://codereview.chromium.org/_ah/logout?continue=https://accounts.google.com/Logout%3Fcontinue%3Dhttps://uc.appengine.google.com/_ah/logout%253Fcontinue%253Dhttps://google.com/url%25253Fsa%25253DD%252526q%25253Dhttps://codereview.chromium.org/1061053002%252526ust%25253D1608689524984162%252526usg%25253DAFQjCNGkLWxyPW4C2fV2CPHCkcWMeG9yTQ%26service%3Dah">Sign out</a>

</div>
<div class="counter">(517)</div>
<br />
<div class="mainmenu">
  
  <a href="/" class="active">Issues</a>
  <a href="/search">Search</a>

</div>
<div class="mainmenu2">
  
  
    &nbsp;&nbsp;&nbsp;
    <a href="/mine">My Issues</a>
    |
    <a href="/starred">Starred</a>
    &nbsp;&nbsp;&nbsp;
    <a href="/all?closed=0">Open</a>
    |
    <a href="/all?closed=1">Closed</a>
    |
    <a href="/all">All</a>
  

</div>

<div>

  <h2>
    <span id="issue-star-1061053002">
  
    
      <img src="/static/star-dark.gif" width="15" height="15" border="0">
    
  
</span>

    Issue <a href="/1061053002/"
               onmouseover="M_showPopUp(this, 'popup-issue');">
            1061053002</a>:
    Fix PartialCircularBuffer OOB memcpy().  (Closed) 
  </h2>

  <table class="issue-details" border="0" width="100%">
    <tr valign="top">

      <td class="meta" width="20%">
        <div class="issue_details_sidebar">
          <div><b>Created:</b><br/>
            5 years, 8 months ago by <a href="/user/gzobqq" onMouseOver="M_showUserInfoPopup(this)">gzobqq</a>
          </div>
          <div><b>Modified:</b><br/>
            3 years, 4 months ago
          </div>
          <div><b>Reviewers:</b><br/>
            <span class='approval'><a href="/user/Nico" onMouseOver="M_showUserInfoPopup(this)">Nico</a></span>, <a href="/user/inferno" onMouseOver="M_showUserInfoPopup(this)">inferno</a>
          </div>
          
          <div><b>CC:</b><br/>
            chromium-reviews, Henrik Grunell, tommi (sloooow) - chr√∂me
          </div>
          
          
          <div><b>Base URL:</b><br/>
            
            https://chromium.googlesource.com/chromium/src.git@master
            
          </div>
          
          
          <div><b>Target Ref:</b><br/>
            refs/pending/heads/master
          </div>
          
          
          <div><b>Project:</b><br/>
            <a href="/search?project=chromium">
              chromium
            </a>
          </div>
          
          <div><b>Visibility:</b><br/>
            
                Public.
            
          </div>
          
          <div><a title="Find reviews for the same repository ID - c14d891d44f0afff64e56ed7c9702df1d807b1ee"
               href="/search?repo_guid=c14d891d44f0afff64e56ed7c9702df1d807b1ee">
            <b>More Reviews</b></a>
          </div>
          
        </div>
      </td>

      <td style="padding-left: .8em; padding-right: .8em;" width="80%">
        




  <h3><a id="issue-description-pointer"
     href="javascript:M_toggleSection('issue-description')"
     class="toggled-section opentriangle">
    Description</a></h3>
  <div id="issue-description">Fix PartialCircularBuffer OOB memcpy().

BUG=<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=474029">474029</a>
TEST=PartialCircularBufferTest.WrapTwiceWithSingleWrite
NOPRESUBMIT=true

Committed: <a href="https://crrev.com/ab42594ec3070953971f43b384f38f3c2b65d4ea">https://crrev.com/ab42594ec3070953971f43b384f38f3c2b65d4ea</a>
Cr-Commit-Position: refs/heads/master@{#326341}
  </div>




  <h3>
    <a id="ps-1-pointer"
       href="/1061053002/#ps1"
       onclick="M_toggleSectionForPS('1061053002', '1')"
       class="toggled-section ">
      Patch Set 1
      
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-1"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-20001-pointer"
       href="/1061053002/#ps20001"
       onclick="M_toggleSectionForPS('1061053002', '20001')"
       class="toggled-section ">
      Patch Set 2
      : CHECK to DCHECK
      <span class="anchor">#</span>
    </a>
  </h3>

  
    <div>
      <i>Total comments:</i> 10
      
    </div>
  

  <div id="ps-20001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-40001-pointer"
       href="/1061053002/#ps40001"
       onclick="M_toggleSectionForPS('1061053002', '40001')"
       class="toggled-section ">
      Patch Set 3
      : Addressed comments
      <span class="anchor">#</span>
    </a>
  </h3>

  
    <div>
      <i>Total comments:</i> 7
      
    </div>
  

  <div id="ps-40001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-60001-pointer"
       href="/1061053002/#ps60001"
       onclick="M_toggleSectionForPS('1061053002', '60001')"
       class="toggled-section opentriangle">
      Patch Set 4
      : Addressed comments
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-60001"
  
       style="">
    
<div class="issue-list">

  <div class="pagination">
    <div style="float: left;">
      <i>Created:</i> 5 years, 8 months ago
    </div>
    <div style="float: right;">
      
        Download
          <a href="/download/issue1061053002_60001.diff"
            title="Patchset in text format">[raw]</a>
          <a href="/tarball/1061053002/60001"
            title="Tarball containing the original and patched files">[tar.bz2]</a>
      
    </div>
    <div style="clear:both;"></div>
  </div>

  <table id="queues" style="clear:both;">
    <tr align="left">
      <th colspan="2"></th>
      <th>Unified diffs</th>
      <th>Side-by-side diffs</th>
      <th>Delta from patch set</th>
      <th colspan="3">Stats <font style='font-weight: normal'>(<i>+60 lines, -20 lines</i>)</font></th>
      <th>Patch</th>
    </tr>

    
      <tr name="patch">
        <td class="first" width="14"><img src="/static/closedtriangle.gif"
    style="visibility: hidden;" width="12" height="9" /></td>
        <td style="white-space: nowrap">M</td>
        <td>
          <a class="noul"
             href="/1061053002/patch/60001/70002">
            chrome/common/partial_circular_buffer.h
          </a>
        </td>
        <td>
          <a class="noul"
             href="/1061053002/diff/60001/chrome/common/partial_circular_buffer.h">
            View
          </a>
        </td>
        <td style="white-space: nowrap">
        
          <a href="/1061053002/diff2/1:60001/chrome/common/partial_circular_buffer.h"
             title="Delta from patch set 1">1</a>
        
          <a href="/1061053002/diff2/20001:60001/chrome/common/partial_circular_buffer.h"
             title="Delta from patch set 2">2</a>
        
          <a href="/1061053002/diff2/40001:60001/chrome/common/partial_circular_buffer.h"
             title="Delta from patch set 3">3</a>
        
        </td>
        
          <td style="white-space: nowrap">1 chunk</td>
          <td style="white-space: nowrap">+1 line, -1 line</td>
        
        <td style="white-space: nowrap">
          
            0 comments
            
            
          
        </td>
        <td>
          <a href="/download/issue1061053002_60001_70002.diff"
             title="Download patch for chrome/common/partial_circular_buffer.h">
            Download
          </a>
        </td>
      </tr>
    
      <tr name="patch">
        <td class="first" width="14"><img src="/static/closedtriangle.gif"
    style="visibility: hidden;" width="12" height="9" /></td>
        <td style="white-space: nowrap">M</td>
        <td>
          <a class="noul"
             href="/1061053002/patch/60001/70001">
            chrome/common/partial_circular_buffer.cc
          </a>
        </td>
        <td>
          <a class="noul"
             href="/1061053002/diff/60001/chrome/common/partial_circular_buffer.cc">
            View
          </a>
        </td>
        <td style="white-space: nowrap">
        
          <a href="/1061053002/diff2/1:60001/chrome/common/partial_circular_buffer.cc"
             title="Delta from patch set 1">1</a>
        
          <a href="/1061053002/diff2/20001:60001/chrome/common/partial_circular_buffer.cc"
             title="Delta from patch set 2">2</a>
        
          <a href="/1061053002/diff2/40001:60001/chrome/common/partial_circular_buffer.cc"
             title="Delta from patch set 3">3</a>
        
        </td>
        
          <td style="white-space: nowrap">1 chunk</td>
          <td style="white-space: nowrap">+38 lines, -19 lines</td>
        
        <td style="white-space: nowrap">
          
            0 comments
            
            
          
        </td>
        <td>
          <a href="/download/issue1061053002_60001_70001.diff"
             title="Download patch for chrome/common/partial_circular_buffer.cc">
            Download
          </a>
        </td>
      </tr>
    
      <tr name="patch">
        <td class="first" width="14"><img src="/static/closedtriangle.gif"
    style="visibility: hidden;" width="12" height="9" /></td>
        <td style="white-space: nowrap">M</td>
        <td>
          <a class="noul"
             href="/1061053002/patch/60001/70003">
            chrome/common/partial_circular_buffer_unittest.cc
          </a>
        </td>
        <td>
          <a class="noul"
             href="/1061053002/diff/60001/chrome/common/partial_circular_buffer_unittest.cc">
            View
          </a>
        </td>
        <td style="white-space: nowrap">
        
          <a href="/1061053002/diff2/1:60001/chrome/common/partial_circular_buffer_unittest.cc"
             title="Delta from patch set 1">1</a>
        
          <a href="/1061053002/diff2/20001:60001/chrome/common/partial_circular_buffer_unittest.cc"
             title="Delta from patch set 2">2</a>
        
        </td>
        
          <td style="white-space: nowrap">1 chunk</td>
          <td style="white-space: nowrap">+21 lines, -0 lines</td>
        
        <td style="white-space: nowrap">
          
            0 comments
            
            
          
        </td>
        <td>
          <a href="/download/issue1061053002_60001_70003.diff"
             title="Download patch for chrome/common/partial_circular_buffer_unittest.cc">
            Download
          </a>
        </td>
      </tr>
    
  </table>

  
  
</div>

  
  </div>
  
    <script language="JavaScript" type="text/javascript">
         <!--
         var lastPSId = 60001;
         // -->
       </script>
  




  <h3>
    <a id="messages-pointer"
       href="javascript:M_toggleSection('messages')"
       class="toggled-section opentriangle">
      Messages
    </a>
  </h3>

  
    <div><i>
    Total messages: 34 (6 generated)
    </i></div>
  

  <div id="messages">
    <div style="margin-bottom: .5em;">
      <a href="javascript:M_expandAllVisibleComments('cl', 34)">
        Expand Messages</a>
      |
      <a href="javascript:M_collapseAllVisibleComments('cl', 34)">
        Collapse Messages</a>
      
      |
      <a href="javascript:M_showGeneratedComments(34)">
        Show Generated Messages</a>
      |
      <a href="javascript:M_hideGeneratedComments(34)">
        Hide Generated Messages</a>
      
    </div>

    
      <div class="message    generated"
           style="display: none"
           id="generated-msg1"
           name="0">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(0)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-0">
                          gzobqq@gmail.com changed reviewers: + thakis@chromium.org - grunell@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-07 07:19:21 UTC)
                <a href="#msg1">#1</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-0"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-0"
            ><a href="mailto:gzobqq@gmail.com">gzobqq@gmail.com</a> changed reviewers:
+ <a href="mailto:thakis@chromium.org">thakis@chromium.org</a>
- <a href="mailto:grunell@chromium.org">grunell@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg2"
           name="1">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(1)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-1">
                          Nico, PTAL
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-07 07:20:39 UTC)
                <a href="#msg2">#2</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-1"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-1"
            >Nico, PTAL</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg3"
           name="2">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(2)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Nico</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-2">
                          https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer.cc File chrome/common/partial_circular_buffer.cc (right): https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer.cc#newcode64 chrome/common/partial_circular_buffer.cc:64: uint32 PartialCircularBuffer::Read(void* buffer, uint32 buffer_size) { Doesn&#39;t this have ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-07 16:42:16 UTC)
                <a href="#msg3">#3</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-2"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-2"
            ><a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer.cc" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
File chrome/common/partial_circular_buffer.cc (right):

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer.cc#newcode64" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.cc:64: uint32
PartialCircularBuffer::Read(void* buffer, uint32 buffer_size) {
Doesn&#39;t this have the same problem?

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer.cc#newcode142" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.cc:142: const uint8* input =
static_cast&lt;const uint8*&gt;(buffer);
I can&#39;t see the bug, but if writing a buffer several times the size of the
circular buffer makes sense in some situations, should the implementation be
less wasteful? This does a memcpy() per overlap at the moment. It&#39;s probably
possible to do something like

  if (buffer_size &gt; size_of_cycle) {
    buffer = buffer + buffer_size - size_of_cycle;
    int slop = buffer_size % size_of_cycle;
    position_ = position_ + (position_ - wrap_position + slop + size_of_cycle) %
size_of_cycle;
    buffer_size = size_of_cycle;
  }

somewhere at the top of the function and keep the exisiting code, so that every
element is written only once.

(warning: code written without testing or even drawing boxes on a piece of
paper; it&#39;s likely wrong)

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer_unittest.cc" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
File chrome/common/partial_circular_buffer_unittest.cc (right):

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer_unittest.cc#newcode194" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer_unittest.cc:194: size_t input_size =
sizeof(kInputData);
const size_t kInputSize

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer_unittest.cc#newcode195" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer_unittest.cc:195: size_t large_size =
input_size * 7;
const size_t kLargeSize

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer_unittest.cc#newcode196" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer_unittest.cc:196: scoped_ptr&lt;uint8[]&gt;
large_input(new uint8[large_size]);
Shouldn&#39;t this easily fit on the stack?</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg4"
           name="3">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(3)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Nico</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-3">
                          (+ author and reviewer; maybe they remember anything about this)
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-07 16:43:05 UTC)
                <a href="#msg4">#4</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-3"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-3"
            >(+ author and reviewer; maybe they remember anything about this)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg5"
           name="4">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(4)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-4">
                          PTAL https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer.cc File chrome/common/partial_circular_buffer.cc (right): https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer.cc#newcode64 chrome/common/partial_circular_buffer.cc:64: uint32 PartialCircularBuffer::Read(void* buffer, uint32 buffer_size) { On 2015/04/07 ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-08 12:59:03 UTC)
                <a href="#msg5">#5</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-4"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-4"
            >PTAL

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer.cc" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
File chrome/common/partial_circular_buffer.cc (right):

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer.cc#newcode64" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.cc:64: uint32
PartialCircularBuffer::Read(void* buffer, uint32 buffer_size) {
On 2015/04/07 16:42:16, Nico wrote:
&gt; Doesn&#39;t this have the same problem?

It is a complicated function. I spent some time thinking about it though and it
is probably correct.

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer.cc#newcode142" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.cc:142: const uint8* input =
static_cast&lt;const uint8*&gt;(buffer);
On 2015/04/07 16:42:16, Nico wrote:
&gt; I can&#39;t see the bug

The second DoWrite() lacks a bounds check and can OOB write.

&gt; but if writing a buffer several times the size of the
&gt; circular buffer makes sense in some situations, should the implementation be
&gt; less wasteful? This does a memcpy() per overlap at the moment. It&#39;s probably
&gt; possible to do something like
&gt; 
&gt;   if (buffer_size &gt; size_of_cycle) {
&gt;     buffer = buffer + buffer_size - size_of_cycle;
&gt;     int slop = buffer_size % size_of_cycle;
&gt;     position_ = position_ + (position_ - wrap_position + slop + size_of_cycle)
%
&gt; size_of_cycle;
&gt;     buffer_size = size_of_cycle;
&gt;   }
&gt; 
&gt; somewhere at the top of the function and keep the exisiting code, so that
every
&gt; element is written only once.
&gt; 
&gt; (warning: code written without testing or even drawing boxes on a piece of
&gt; paper; it&#39;s likely wrong)

It&#39;s a bit more complicated, because the part to skip might be in the middle of
the buffer. That happens when the first part is non-wrapping, position_ &lt;
wrap_position.

Done.

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer_unittest.cc" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
File chrome/common/partial_circular_buffer_unittest.cc (right):

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer_unittest.cc#newcode194" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer_unittest.cc:194: size_t input_size =
sizeof(kInputData);
On 2015/04/07 16:42:16, Nico wrote:
&gt; const size_t kInputSize

Done.

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer_unittest.cc#newcode195" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer_unittest.cc:195: size_t large_size =
input_size * 7;
On 2015/04/07 16:42:16, Nico wrote:
&gt; const size_t kLargeSize

Done.

<a href="https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_circular_buffer_unittest.cc#newcode196" rel="nofollow">https://codereview.chromium.org/1061053002/diff/20001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer_unittest.cc:196: scoped_ptr&lt;uint8[]&gt;
large_input(new uint8[large_size]);
On 2015/04/07 16:42:16, Nico wrote:
&gt; Shouldn&#39;t this easily fit on the stack?

Done.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message  approval  "
           
           id="msg6"
           name="5">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(5)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Nico</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-5">
                          This lgtm. The distribution of work between Write() and DoWrite feels a bit awkward. https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.cc ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-08 23:13:05 UTC)
                <a href="#msg6">#6</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-5"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-5"
            >This lgtm. The distribution of work between Write() and DoWrite feels a bit
awkward.

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.cc" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
File chrome/common/partial_circular_buffer.cc (right):

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.cc#newcode64" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.cc:64: uint32
PartialCircularBuffer::Read(void* buffer, uint32 buffer_size) {
Ah, hmm, this doesn&#39;t allow reading more than the buffer size, I see. So if I
write 100 bytes to the buffer (with your patch) and the buffer size is only 6,
I&#39;ll only get 6 bytes back. That makes sense.

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.cc#newcode163" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.cc:163: // Finally write the wrapping
part.
Say that this loop will run at most twice.

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.cc#newcode179" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.cc:179: if (position_ &gt;= data_size_)
If this happens, it will always be ==, not &gt;=, right? Maybe keep the
DCHECK_EQ(position_, data_size_) in this if?

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.h" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
File chrome/common/partial_circular_buffer.h (right):

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.h#newcode55" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.h:55: uint32 DoWrite(const uint8* input,
uint32 input_size);
Document what this returns, mention that it can return less than input_size if
it needs to wrap.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg7"
           name="6">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(6)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-6">
                          &gt; This lgtm. The distribution of work between Write() and DoWrite feels a bit &gt; ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-09 08:36:40 UTC)
                <a href="#msg7">#7</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-6"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-6"
            >&gt; This lgtm. The distribution of work between Write() and DoWrite feels a bit
&gt; awkward.

Thanks for the review. I&#39;m guessing what feels awkward is that DoWrite() handles
most of the write except wrapping. I moved the loop to DoWrite(). So DoWrite()
now handles all the input passed to it.

I think I&#39;ll wait for another 24 hours in case you have more comments and then
CQ.

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.cc" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
File chrome/common/partial_circular_buffer.cc (right):

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.cc#newcode163" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.cc:163: // Finally write the wrapping
part.
On 2015/04/08 23:13:05, Nico wrote:
&gt; Say that this loop will run at most twice.

Done.

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.cc#newcode179" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.cc:179: if (position_ &gt;= data_size_)
On 2015/04/08 23:13:05, Nico wrote:
&gt; If this happens, it will always be ==, not &gt;=, right? Maybe keep the
&gt; DCHECK_EQ(position_, data_size_) in this if?

Done.

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.h" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
File chrome/common/partial_circular_buffer.h (right):

<a href="https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_circular_buffer.h#newcode55" rel="nofollow">https://codereview.chromium.org/1061053002/diff/40001/chrome/common/partial_c...</a>
chrome/common/partial_circular_buffer.h:55: uint32 DoWrite(const uint8* input,
uint32 input_size);
On 2015/04/08 23:13:05, Nico wrote:
&gt; Document what this returns, mention that it can return less than input_size if
&gt; it needs to wrap.

I changed DoWrite() to handle the complete input instead.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg8"
           name="7">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(7)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-7">
                          Nico: I guess I can&#39;t CQ before you LGTM the latest commit. PTAL once you ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-10 17:21:39 UTC)
                <a href="#msg8">#8</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-7"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-7"
            >Nico: I guess I can&#39;t CQ before you LGTM the latest commit. PTAL once you get
back.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg9"
           name="8">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(8)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-8">
                          gzobqq@gmail.com changed reviewers: + sky@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 04:35:55 UTC)
                <a href="#msg9">#9</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-8"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-8"
            ><a href="mailto:gzobqq@gmail.com">gzobqq@gmail.com</a> changed reviewers:
+ <a href="mailto:sky@chromium.org">sky@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg10"
           name="9">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(9)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-9">
                          sky@, perhaps you could take a look at this? Patch set 3 was LGTM&#39;d by ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 04:43:37 UTC)
                <a href="#msg10">#10</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-9"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-9"
            >sky@, perhaps you could take a look at this?

Patch set 3 was LGTM&#39;d by Nico. Patch set 4 fixes some nits and refactors a loop
from Write() to DoWrite(). I think it needs an LGTM as well, before I can CQ
this. Nico has been OOO for a while though.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message  approval  "
           
           id="msg11"
           name="10">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(10)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Nico</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-10">
                          On 2015/04/22 04:43:37, gzobqq wrote: &gt; sky@, perhaps you could take a look at this? ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 04:48:59 UTC)
                <a href="#msg11">#11</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-10"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-10"
            >On 2015/04/22 04:43:37, gzobqq wrote:
&gt; sky@, perhaps you could take a look at this?
&gt; 
&gt; Patch set 3 was LGTM&#39;d by Nico. Patch set 4 fixes some nits and refactors a
loop
&gt; from Write() to DoWrite(). I think it needs an LGTM as well, before I can CQ
&gt; this. Nico has been OOO for a while though.

Oh sorry I didn&#39;t see that you need another lgtm to CQ (I guess that&#39;s new?)
Lgtm</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg12"
           name="11">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(11)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-11">
                          gzobqq@gmail.com changed reviewers: - sky@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 08:52:21 UTC)
                <a href="#msg12">#12</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-11"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-11"
            ><a href="mailto:gzobqq@gmail.com">gzobqq@gmail.com</a> changed reviewers:
- <a href="mailto:sky@chromium.org">sky@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg13"
           name="12">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(12)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-12">
                          On 2015/04/22 04:48:59, Nico (OOO sick) wrote: &gt; On 2015/04/22 04:43:37, gzobqq wrote: &gt; &gt; ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 08:55:27 UTC)
                <a href="#msg13">#13</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-12"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-12"
            >On 2015/04/22 04:48:59, Nico (OOO sick) wrote:
&gt; On 2015/04/22 04:43:37, gzobqq wrote:
&gt; &gt; sky@, perhaps you could take a look at this?
&gt; &gt; 
&gt; &gt; Patch set 3 was LGTM&#39;d by Nico. Patch set 4 fixes some nits and refactors a
&gt; loop
&gt; &gt; from Write() to DoWrite(). I think it needs an LGTM as well, before I can CQ
&gt; &gt; this. Nico has been OOO for a while though.
&gt; 
&gt; Oh sorry I didn&#39;t see that you need another lgtm to CQ (I guess that&#39;s new?)
&gt; Lgtm

Nico: Thanks for taking another look. The CQ box is still disabled for me. Not
sure what&#39;s up with that. Perhaps because I&#39;m an external reporter with a gmail
account? Anyhow,

inferno: Will the security guys take it from here for the commit and merge?</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg14"
           name="13">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(13)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>inferno</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-13">
                          The CQ bit was checked by inferno@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 16:49:43 UTC)
                <a href="#msg14">#14</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-13"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-13"
            >The CQ bit was checked by <a href="mailto:inferno@chromium.org">inferno@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg15"
           name="14">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(14)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>inferno</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-14">
                          On 2015/04/22 08:55:27, gzobqq wrote: &gt; On 2015/04/22 04:48:59, Nico (OOO sick) wrote: &gt; &gt; ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 16:50:09 UTC)
                <a href="#msg15">#15</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-14"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-14"
            >On 2015/04/22 08:55:27, gzobqq wrote:
&gt; On 2015/04/22 04:48:59, Nico (OOO sick) wrote:
&gt; &gt; On 2015/04/22 04:43:37, gzobqq wrote:
&gt; &gt; &gt; sky@, perhaps you could take a look at this?
&gt; &gt; &gt; 
&gt; &gt; &gt; Patch set 3 was LGTM&#39;d by Nico. Patch set 4 fixes some nits and refactors
a
&gt; &gt; loop
&gt; &gt; &gt; from Write() to DoWrite(). I think it needs an LGTM as well, before I can
CQ
&gt; &gt; &gt; this. Nico has been OOO for a while though.
&gt; &gt; 
&gt; &gt; Oh sorry I didn&#39;t see that you need another lgtm to CQ (I guess that&#39;s new?)
&gt; &gt; Lgtm
&gt; 
&gt; Nico: Thanks for taking another look. The CQ box is still disabled for me. Not
&gt; sure what&#39;s up with that. Perhaps because I&#39;m an external reporter with a
gmail
&gt; account? Anyhow,
&gt; 
&gt; inferno: Will the security guys take it from here for the commit and merge?

It was a protected issue, that is why. Now i removed it and marked for cq.
thanks for noticing.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg16"
           name="15">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(15)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-15">
                          CQ is trying da patch. Follow status at https://chromium-cq-status.appspot.com/patch-status/1061053002/60001
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 16:51:31 UTC)
                <a href="#msg16">#16</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-15"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-15"
            >CQ is trying da patch. Follow status at
 <a href="https://chromium-cq-status.appspot.com/patch-status/1061053002/60001" rel="nofollow">https://chromium-cq-status.appspot.com/patch-status/1061053002/60001</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg17"
           name="16">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(16)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-16">
                          The CQ bit was unchecked by commit-bot@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 17:06:14 UTC)
                <a href="#msg17">#17</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-16"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-16"
            >The CQ bit was unchecked by <a href="mailto:commit-bot@chromium.org">commit-bot@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg18"
           name="17">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(17)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-17">
                          Try jobs failed on following builders: chromium_presubmit on tryserver.chromium.linux (JOB_FAILED, http://build.chromium.org/p/tryserver.chromium.linux/builders/chromium_presubmit/builds/58142)
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 17:06:57 UTC)
                <a href="#msg18">#18</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-17"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-17"
            >Try jobs failed on following builders:
  chromium_presubmit on tryserver.chromium.linux (JOB_FAILED,
<a href="http://build.chromium.org/p/tryserver.chromium.linux/builders/chromium_presubmit/builds/58142" rel="nofollow">http://build.chromium.org/p/tryserver.chromium.linux/builders/chromium_presub...</a>)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg19"
           name="18">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(18)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>inferno</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-18">
                          The CQ bit was checked by inferno@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 17:12:06 UTC)
                <a href="#msg19">#19</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-18"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-18"
            >The CQ bit was checked by <a href="mailto:inferno@chromium.org">inferno@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg20"
           name="19">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(19)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-19">
                          CQ is trying da patch. Follow status at https://chromium-cq-status.appspot.com/patch-status/1061053002/60001
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 17:14:13 UTC)
                <a href="#msg20">#20</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-19"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-19"
            >CQ is trying da patch. Follow status at
 <a href="https://chromium-cq-status.appspot.com/patch-status/1061053002/60001" rel="nofollow">https://chromium-cq-status.appspot.com/patch-status/1061053002/60001</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg21"
           name="20">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(20)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-20">
                          Committed patchset #4 (id:60001)
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 18:25:11 UTC)
                <a href="#msg21">#21</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-20"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-20"
            >Committed patchset #4 (id:60001)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg22"
           name="21">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(21)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-21">
                          Patchset 4 (id:??) landed as https://crrev.com/ab42594ec3070953971f43b384f38f3c2b65d4ea Cr-Commit-Position: refs/heads/master@{#326341}
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 18:26:01 UTC)
                <a href="#msg22">#22</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-21"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-21"
            >Patchset 4 (id:??) landed as
<a href="https://crrev.com/ab42594ec3070953971f43b384f38f3c2b65d4ea" rel="nofollow">https://crrev.com/ab42594ec3070953971f43b384f38f3c2b65d4ea</a>
Cr-Commit-Position: refs/heads/master@{#326341}</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg23"
           name="22">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(22)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-22">
                          inferno: Thanks for explaining. Now, the trybot wants my entry in AUTHORS. I&#39;d rather stay ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 18:48:30 UTC)
                <a href="#msg23">#23</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-22"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-22"
            >inferno: Thanks for explaining.

Now, the trybot wants my entry in AUTHORS. I&#39;d rather stay anonymous. I could
add for example &quot;Gzob Qq &lt;<a href="mailto:gzobqq@gmail.com&gt;&quot;">gzobqq@gmail.com&gt;&quot;</a>, but it&#39;s not my real name. Would
that be ok?</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg24"
           name="23">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(23)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-23">
                          On 2015/04/22 18:48:30, gzobqq wrote: &gt; inferno: Thanks for explaining. &gt; &gt; Now, the trybot ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 18:51:18 UTC)
                <a href="#msg24">#24</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-23"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-23"
            >On 2015/04/22 18:48:30, gzobqq wrote:
&gt; inferno: Thanks for explaining.
&gt; 
&gt; Now, the trybot wants my entry in AUTHORS. I&#39;d rather stay anonymous. I could
&gt; add for example &quot;Gzob Qq &lt;mailto:gzobqq@gmail.com&gt;&quot;, but it&#39;s not my real
name. Would
&gt; that be ok?

Ah nevermind, CQ worked anyway.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg25"
           name="24">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(24)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Nico</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-24">
                          On 2015/04/22 18:51:18, gzobqq wrote: &gt; On 2015/04/22 18:48:30, gzobqq wrote: &gt; &gt; inferno: Thanks ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-22 18:52:51 UTC)
                <a href="#msg25">#25</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-24"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-24"
            >On 2015/04/22 18:51:18, gzobqq wrote:
&gt; On 2015/04/22 18:48:30, gzobqq wrote:
&gt; &gt; inferno: Thanks for explaining.
&gt; &gt; 
&gt; &gt; Now, the trybot wants my entry in AUTHORS. I&#39;d rather stay anonymous. I
could
&gt; &gt; add for example &quot;Gzob Qq &lt;mailto:gzobqq@gmail.com&gt;&quot;, but it&#39;s not my real
&gt; name. Would
&gt; &gt; that be ok?
&gt; 
&gt; Ah nevermind, CQ worked anyway.

Oh, that&#39;s a great point actually. Did you sign the CLA? See
<a href="https://www.chromium.org/developers/contributing-code/external-contributor-checklist" rel="nofollow">https://www.chromium.org/developers/contributing-code/external-contributor-ch...</a>
I think that requires a real name, and without this we can&#39;t take your patch.
(Sorry, should&#39;ve checked that in addition to the code)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg26"
           name="25">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(25)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-25">
                          On 2015/04/22 18:52:51, Nico (OOO sick) wrote: &gt; On 2015/04/22 18:51:18, gzobqq wrote: &gt; &gt; ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-23 03:33:47 UTC)
                <a href="#msg26">#26</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-25"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-25"
            >On 2015/04/22 18:52:51, Nico (OOO sick) wrote:
&gt; On 2015/04/22 18:51:18, gzobqq wrote:
&gt; &gt; On 2015/04/22 18:48:30, gzobqq wrote:
&gt; &gt; &gt; inferno: Thanks for explaining.
&gt; &gt; &gt; 
&gt; &gt; &gt; Now, the trybot wants my entry in AUTHORS. I&#39;d rather stay anonymous. I
&gt; could
&gt; &gt; &gt; add for example &quot;Gzob Qq &lt;mailto:gzobqq@gmail.com&gt;&quot;, but it&#39;s not my real
&gt; &gt; name. Would
&gt; &gt; &gt; that be ok?
&gt; &gt; 
&gt; &gt; Ah nevermind, CQ worked anyway.
&gt; 
&gt; Oh, that&#39;s a great point actually. Did you sign the CLA? See
&gt;
<a href="https://www.chromium.org/developers/contributing-code/external-contributor-checklist" rel="nofollow">https://www.chromium.org/developers/contributing-code/external-contributor-ch...</a>
&gt; I think that requires a real name, and without this we can&#39;t take your patch.
&gt; (Sorry, should&#39;ve checked that in addition to the code)

Yeah, sorry for not bringing it up before. I did sign the CLA with my real name.
I&#39;d rather not add it to the public AUTHORS though.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg27"
           name="26">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(26)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Nico</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-26">
                          On 2015/04/23 03:33:47, gzobqq wrote: &gt; On 2015/04/22 18:52:51, Nico (OOO sick) wrote: &gt; &gt; ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-23 03:40:58 UTC)
                <a href="#msg27">#27</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-26"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-26"
            >On 2015/04/23 03:33:47, gzobqq wrote:
&gt; On 2015/04/22 18:52:51, Nico (OOO sick) wrote:
&gt; &gt; On 2015/04/22 18:51:18, gzobqq wrote:
&gt; &gt; &gt; On 2015/04/22 18:48:30, gzobqq wrote:
&gt; &gt; &gt; &gt; inferno: Thanks for explaining.
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; Now, the trybot wants my entry in AUTHORS. I&#39;d rather stay anonymous. I
&gt; &gt; could
&gt; &gt; &gt; &gt; add for example &quot;Gzob Qq &lt;mailto:gzobqq@gmail.com&gt;&quot;, but it&#39;s not my
real
&gt; &gt; &gt; name. Would
&gt; &gt; &gt; &gt; that be ok?
&gt; &gt; &gt; 
&gt; &gt; &gt; Ah nevermind, CQ worked anyway.
&gt; &gt; 
&gt; &gt; Oh, that&#39;s a great point actually. Did you sign the CLA? See
&gt; &gt;
&gt;
<a href="https://www.chromium.org/developers/contributing-code/external-contributor-checklist" rel="nofollow">https://www.chromium.org/developers/contributing-code/external-contributor-ch...</a>
&gt; &gt; I think that requires a real name, and without this we can&#39;t take your
patch.
&gt; &gt; (Sorry, should&#39;ve checked that in addition to the code)
&gt; 
&gt; Yeah, sorry for not bringing it up before. I did sign the CLA with my real
name.
&gt; I&#39;d rather not add it to the public AUTHORS though.

If you signed the CLA, I think it&#39;s ok to add some pseudonym to the authors file
as long as you also add the same email address that you put in the CLA ‚Äì¬†would
that work for you?</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg28"
           name="27">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(27)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-27">
                          On 2015/04/23 03:40:58, Nico (OOO sick) wrote: &gt; On 2015/04/23 03:33:47, gzobqq wrote: &gt; &gt; ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-23 03:50:40 UTC)
                <a href="#msg28">#28</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-27"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-27"
            >On 2015/04/23 03:40:58, Nico (OOO sick) wrote:
&gt; On 2015/04/23 03:33:47, gzobqq wrote:
&gt; &gt; On 2015/04/22 18:52:51, Nico (OOO sick) wrote:
&gt; &gt; &gt; On 2015/04/22 18:51:18, gzobqq wrote:
&gt; &gt; &gt; &gt; On 2015/04/22 18:48:30, gzobqq wrote:
&gt; &gt; &gt; &gt; &gt; inferno: Thanks for explaining.
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; Now, the trybot wants my entry in AUTHORS. I&#39;d rather stay anonymous.
I
&gt; &gt; &gt; could
&gt; &gt; &gt; &gt; &gt; add for example &quot;Gzob Qq &lt;mailto:gzobqq@gmail.com&gt;&quot;, but it&#39;s not my
&gt; real
&gt; &gt; &gt; &gt; name. Would
&gt; &gt; &gt; &gt; &gt; that be ok?
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; Ah nevermind, CQ worked anyway.
&gt; &gt; &gt; 
&gt; &gt; &gt; Oh, that&#39;s a great point actually. Did you sign the CLA? See
&gt; &gt; &gt;
&gt; &gt;
&gt;
<a href="https://www.chromium.org/developers/contributing-code/external-contributor-checklist" rel="nofollow">https://www.chromium.org/developers/contributing-code/external-contributor-ch...</a>
&gt; &gt; &gt; I think that requires a real name, and without this we can&#39;t take your
&gt; patch.
&gt; &gt; &gt; (Sorry, should&#39;ve checked that in addition to the code)
&gt; &gt; 
&gt; &gt; Yeah, sorry for not bringing it up before. I did sign the CLA with my real
&gt; name.
&gt; &gt; I&#39;d rather not add it to the public AUTHORS though.
&gt; 
&gt; If you signed the CLA, I think it&#39;s ok to add some pseudonym to the authors
file
&gt; as long as you also add the same email address that you put in the CLA
‚Äì&amp;nbsp;would
&gt; that work for you?

Yeah, that is ok. I will create a new CL for that.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg29"
           name="28">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(28)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Nico</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-28">
                          On 2015/04/23 03:50:40, gzobqq wrote: &gt; On 2015/04/23 03:40:58, Nico (OOO sick) wrote: &gt; &gt; ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 03:57:51 UTC)
                <a href="#msg29">#29</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-28"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-28"
            >On 2015/04/23 03:50:40, gzobqq wrote:
&gt; On 2015/04/23 03:40:58, Nico (OOO sick) wrote:
&gt; &gt; On 2015/04/23 03:33:47, gzobqq wrote:
&gt; &gt; &gt; On 2015/04/22 18:52:51, Nico (OOO sick) wrote:
&gt; &gt; &gt; &gt; On 2015/04/22 18:51:18, gzobqq wrote:
&gt; &gt; &gt; &gt; &gt; On 2015/04/22 18:48:30, gzobqq wrote:
&gt; &gt; &gt; &gt; &gt; &gt; inferno: Thanks for explaining.
&gt; &gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; &gt; Now, the trybot wants my entry in AUTHORS. I&#39;d rather stay
anonymous.
&gt; I
&gt; &gt; &gt; &gt; could
&gt; &gt; &gt; &gt; &gt; &gt; add for example &quot;Gzob Qq &lt;mailto:gzobqq@gmail.com&gt;&quot;, but it&#39;s not my
&gt; &gt; real
&gt; &gt; &gt; &gt; &gt; name. Would
&gt; &gt; &gt; &gt; &gt; &gt; that be ok?
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; Ah nevermind, CQ worked anyway.
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; Oh, that&#39;s a great point actually. Did you sign the CLA? See
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt;
<a href="https://www.chromium.org/developers/contributing-code/external-contributor-checklist" rel="nofollow">https://www.chromium.org/developers/contributing-code/external-contributor-ch...</a>
&gt; &gt; &gt; &gt; I think that requires a real name, and without this we can&#39;t take your
&gt; &gt; patch.
&gt; &gt; &gt; &gt; (Sorry, should&#39;ve checked that in addition to the code)
&gt; &gt; &gt; 
&gt; &gt; &gt; Yeah, sorry for not bringing it up before. I did sign the CLA with my real
&gt; &gt; name.
&gt; &gt; &gt; I&#39;d rather not add it to the public AUTHORS though.
&gt; &gt; 
&gt; &gt; If you signed the CLA, I think it&#39;s ok to add some pseudonym to the authors
&gt; file
&gt; &gt; as long as you also add the same email address that you put in the CLA
&gt; ‚Äì&amp;nbsp;would
&gt; &gt; that work for you?
&gt; 
&gt; Yeah, that is ok. I will create a new CL for that.

Did that ever happen?</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg30"
           name="29">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(29)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-29">
                          On 2015/04/29 03:57:51, Nico wrote: &gt; On 2015/04/23 03:50:40, gzobqq wrote: &gt; &gt; On 2015/04/23 ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 19:41:08 UTC)
                <a href="#msg30">#30</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-29"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-29"
            >On 2015/04/29 03:57:51, Nico wrote:
&gt; On 2015/04/23 03:50:40, gzobqq wrote:
&gt; &gt; On 2015/04/23 03:40:58, Nico (OOO sick) wrote:
&gt; &gt; &gt; On 2015/04/23 03:33:47, gzobqq wrote:
&gt; &gt; &gt; &gt; On 2015/04/22 18:52:51, Nico (OOO sick) wrote:
&gt; &gt; &gt; &gt; &gt; On 2015/04/22 18:51:18, gzobqq wrote:
&gt; &gt; &gt; &gt; &gt; &gt; On 2015/04/22 18:48:30, gzobqq wrote:
&gt; &gt; &gt; &gt; &gt; &gt; &gt; inferno: Thanks for explaining.
&gt; &gt; &gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; &gt; &gt; Now, the trybot wants my entry in AUTHORS. I&#39;d rather stay
&gt; anonymous.
&gt; &gt; I
&gt; &gt; &gt; &gt; &gt; could
&gt; &gt; &gt; &gt; &gt; &gt; &gt; add for example &quot;Gzob Qq &lt;mailto:gzobqq@gmail.com&gt;&quot;, but it&#39;s not
my
&gt; &gt; &gt; real
&gt; &gt; &gt; &gt; &gt; &gt; name. Would
&gt; &gt; &gt; &gt; &gt; &gt; &gt; that be ok?
&gt; &gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; &gt; Ah nevermind, CQ worked anyway.
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; Oh, that&#39;s a great point actually. Did you sign the CLA? See
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt;
<a href="https://www.chromium.org/developers/contributing-code/external-contributor-checklist" rel="nofollow">https://www.chromium.org/developers/contributing-code/external-contributor-ch...</a>
&gt; &gt; &gt; &gt; &gt; I think that requires a real name, and without this we can&#39;t take your
&gt; &gt; &gt; patch.
&gt; &gt; &gt; &gt; &gt; (Sorry, should&#39;ve checked that in addition to the code)
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; Yeah, sorry for not bringing it up before. I did sign the CLA with my
real
&gt; &gt; &gt; name.
&gt; &gt; &gt; &gt; I&#39;d rather not add it to the public AUTHORS though.
&gt; &gt; &gt; 
&gt; &gt; &gt; If you signed the CLA, I think it&#39;s ok to add some pseudonym to the
authors
&gt; &gt; file
&gt; &gt; &gt; as long as you also add the same email address that you put in the CLA
&gt; &gt; ‚Äì&amp;nbsp;would
&gt; &gt; &gt; that work for you?
&gt; &gt; 
&gt; &gt; Yeah, that is ok. I will create a new CL for that.
&gt; 
&gt; Did that ever happen?

It did now. Thanks for reminding me.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg31"
           name="30">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(30)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>gzobqq</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-30">
                          AUTHORS CL link: https://codereview.chromium.org/1117763002/
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 19:43:18 UTC)
                <a href="#msg31">#31</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-30"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-30"
            >AUTHORS CL link: <a href="https://codereview.chromium.org/1117763002/" rel="nofollow">https://codereview.chromium.org/1117763002/</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg32"
           name="31">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(31)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>parmar.priyanka22</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-31">
                          On 2015/04/29 19:43:18, gzobqq wrote: &gt; AUTHORS CL link: https://codereview.chromium.org/1117763002/ Thanks this is great &lt;a ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                3 years, 6 months ago
		(2017-06-24 20:24:38 UTC)
                <a href="#msg32">#32</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-31"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-31"
            >On 2015/04/29 19:43:18, gzobqq wrote:
&gt; AUTHORS CL link: <a href="https://codereview.chromium.org/1117763002/" rel="nofollow">https://codereview.chromium.org/1117763002/</a>

Thanks this is great &lt;a href=&quot;http://snapchatloginonline.co&quot;&gt;Snapchat Login&lt;/a&gt;</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg33"
           name="32">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(32)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>parmar.priyanka22</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-32">
                          On 2017/06/24 20:24:38, parmar.priyanka22 wrote: &gt; On 2015/04/29 19:43:18, gzobqq wrote: &gt; &gt; AUTHORS CL ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                3 years, 6 months ago
		(2017-06-24 20:25:00 UTC)
                <a href="#msg33">#33</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-32"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-32"
            >On 2017/06/24 20:24:38, parmar.priyanka22 wrote:
&gt; On 2015/04/29 19:43:18, gzobqq wrote:
&gt; &gt; AUTHORS CL link: <a href="https://codereview.chromium.org/1117763002/" rel="nofollow">https://codereview.chromium.org/1117763002/</a>
&gt; 
&gt; Thanks this is great <a href="http://snapchatloginonline.co" rel="nofollow">http://snapchatloginonline.co</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg34"
           name="33">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(33)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>popatlal4317</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden; display: none;"
                           class="extra"
                           id="cl-preview-33">
                          On 2017/06/24 20:25:00, parmar.priyanka22 wrote: &gt; On 2017/06/24 20:24:38, parmar.priyanka22 wrote: &gt; &gt; On 2015/04/29 ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                3 years, 4 months ago
		(2017-08-10 19:04:01 UTC)
                <a href="#msg34">#34</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-33"
             >
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-33"
            >On 2017/06/24 20:25:00, parmar.priyanka22 wrote:
&gt; On 2017/06/24 20:24:38, parmar.priyanka22 wrote:
&gt; &gt; On 2015/04/29 19:43:18, gzobqq wrote:
&gt; &gt; &gt; AUTHORS CL link: <a href="https://codereview.chromium.org/1117763002/" rel="nofollow">https://codereview.chromium.org/1117763002/</a>
&gt; &gt; 
&gt; &gt; Thanks this is great <a href="http://snapchatloginonline.co" rel="nofollow">http://snapchatloginonline.co</a>

&gt; &gt; Thank u so much for this one my brother :D <a href="http://uktvnow-apk.com" rel="nofollow">http://uktvnow-apk.com</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    

    <div>
      <a href="javascript:M_expandAllVisibleComments('cl', 34)">
        Expand Messages</a>
      |
      <a href="javascript:M_collapseAllVisibleComments('cl', 34)">
        Collapse Messages</a>
      
      |
      <a href="javascript:M_showGeneratedComments(34)">
        Show Generated Messages</a>
      |
      <a href="javascript:M_hideGeneratedComments(34)">
        Hide Generated Messages</a>
      
    </div>

  </div>

<script language="JavaScript" type="text/javascript">
<!--
var lastMsgID = 34;
// -->
</script>




<script language="JavaScript" type="text/javascript">
  <!--
    document.onkeydown = M_changelistKeyDown;
    var dashboardState = new M_DashboardState(window, 'patch', 'M_CLPatchMarker');
    var issueId = 1061053002;
    M_toggleIssueOverviewByAnchor();
  // -->
</script>



      </td>
    </tr>
  </table>

</div>

  
    <div class="popup" id="popup-issue">
      <b>Issue 1061053002: Fix PartialCircularBuffer OOB memcpy().
     (Closed) </b><br/>
      Created 5 years, 8 months ago by gzobqq<br/>
      Modified 3 years, 4 months ago<br/>
      Reviewers: Nico, inferno<br/>
      Base URL: https://chromium.googlesource.com/chromium/src.git@master<br/>
      Comments: 17
      
    </div>
  


<p></p>
<div style="float: left;">
  <a target="_blank" href="http://code.google.com/appengine/"><img border="0"
   src="/static/appengine-noborder-120x30.gif"
   alt="Powered by Google App Engine" /></a>
</div>

<div class="extra" style="font-size: 9pt; float: right; text-align: right;">
  <div style="margin-top: .3em;">This is Rietveld <a href='http://code.google.com/p/rietveld/source/list'>408576698
</a></div>
</div>


<script>
  // Google Analytics.
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55762617-11', {
    'allowLinker': true,
    'siteSpeedSampleRate': 100
  });
  ga('require', 'linker');
  ga('linker:autoLink',
     ['chromiumcodereview.appspot.com', 'codereview.chromium.org'] );
  ga('send', 'pageview');

  // CRDX Feedback button.
  (function(i,s,o,g,r,a,m){i['CrDXObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://storage.googleapis.com/crdx-feedback.appspot.com/feedback.js','crdx');

  crdx('setFeedbackButtonLink',
      'https://bugs.chromium.org/p/chromium/issues/entry?cc=andybons@chromium.org&components=Infra%3ECodereview%3ERietveld&labels=Infra-DX');
</script>


</body>
</html>
