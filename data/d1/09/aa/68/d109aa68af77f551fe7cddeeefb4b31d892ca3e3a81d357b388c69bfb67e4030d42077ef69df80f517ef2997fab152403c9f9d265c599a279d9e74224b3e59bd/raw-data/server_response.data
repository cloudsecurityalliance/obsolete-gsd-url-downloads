<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>7950bf47b6944546a0aff11a7184947de9591b51 - platform/external/libavc - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://accounts.google.com/AccountChooser?service=gerritcodereview&amp;continue=https://android.googlesource.com/login/platform/external/libavc/%2B/7950bf47b6944546a0aff11a7184947de9591b51">Sign in</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">android</a> / <a class="Breadcrumbs-crumb" href="/platform/">platform</a> / <a class="Breadcrumbs-crumb" href="/platform/external/">external</a> / <a class="Breadcrumbs-crumb" href="/platform/external/libavc/">libavc</a> / <span class="Breadcrumbs-crumb">7950bf47b6944546a0aff11a7184947de9591b51</span></div><div class="u-monospace Metadata"><table><tr><th class="Metadata-title">commit</th><td>7950bf47b6944546a0aff11a7184947de9591b51</td><td><span>[<a href="/platform/external/libavc/+log/7950bf47b6944546a0aff11a7184947de9591b51">log</a>]</span> <span>[<a href="/platform/external/libavc/+archive/7950bf47b6944546a0aff11a7184947de9591b51.tar.gz">tgz</a>]</span></td></tr><tr><th class="Metadata-title">author</th><td>Harish Mahendrakar &lt;harish.mahendrakar@ittiam.com&gt;</td><td>Thu Dec 15 18:04:53 2016 +0530</td></tr><tr><th class="Metadata-title">committer</th><td>Ray Essick &lt;essick@google.com&gt;</td><td>Mon Feb 13 19:14:18 2017 +0000</td></tr><tr><th class="Metadata-title">tree</th><td><a href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/">aac602980a2d20094f760c71a6cabe71acf10be3</a></td></tr><tr><th class="Metadata-title">parent</th><td><a href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51%5E">43a184ad481e2346f03f1398af74c04a3bb46e4d</a> <span>[<a href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51%5E%21/">diff</a>]</span></td></tr></table></div><pre class="u-pre u-monospace MetadataMessage">Fix in returning end of bitstream error for MBAFF

In case of MBAFF streams, slices should terminate on
even MB boundary. If bytes are exhausted with odd number
of MBs decoded for MBAff, then treat that as error.

Bug: 33933140

Change-Id: <a href="https://android-review.googlesource.com/#/q/Ifc26b66ff8ebdb3aec5c0d6c512e4cac3f54c5b7">Ifc26b66ff8ebdb3aec5c0d6c512e4cac3f54c5b7</a>
</pre><ul class="DiffTree"><li><a href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/decoder/ih264d_parse_islice.c">decoder/ih264d_parse_islice.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51%5E%21/#F0">diff</a>]</span></li><li><a href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/decoder/ih264d_parse_pslice.c">decoder/ih264d_parse_pslice.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51%5E%21/#F1">diff</a>]</span></li></ul><div class="DiffSummary">2 files changed</div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: aac602980a2d20094f760c71a6cabe71acf10be3</div><ol class="FileList"><li class="FileList-item FileList-item--regularFile" title="Regular file - Android.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/Android.mk">Android.mk</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - common/"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/common/">common/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.arm.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/decoder.arm.mk">decoder.arm.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.arm64.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/decoder.arm64.mk">decoder.arm64.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.mips.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/decoder.mips.mk">decoder.mips.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.mips64.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/decoder.mips64.mk">decoder.mips64.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/decoder.mk">decoder.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.x86.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/decoder.x86.mk">decoder.x86.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.x86_64.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/decoder.x86_64.mk">decoder.x86_64.mk</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - decoder/"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/decoder/">decoder/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - encoder.arm.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/encoder.arm.mk">encoder.arm.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - encoder.arm64.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/encoder.arm64.mk">encoder.arm64.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - encoder.mips.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/encoder.mips.mk">encoder.mips.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - encoder.mips64.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/encoder.mips64.mk">encoder.mips64.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - encoder.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/encoder.mk">encoder.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - encoder.x86.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/encoder.x86.mk">encoder.x86.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - encoder.x86_64.mk"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/encoder.x86_64.mk">encoder.x86_64.mk</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - encoder/"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/encoder/">encoder/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - test/"><a class="FileList-itemLink" href="/platform/external/libavc/+/7950bf47b6944546a0aff11a7184947de9591b51/test/">test/</a></li></ol></div></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>