<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/keystone/+bug/1873290/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1873290 “[OSSA-2020-005] OAuth1 request token authorize sil...” : Bugs : OpenStack Identity (keystone)</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1873290" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1873290/bug.atom" title="Bug 1873290 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="Sorry for using &quot;trustor&quot; and &quot;trustee&quot; terms in OAuth1 context, but these terms clearly describe users positions.

OpenStack CLI explicitly requires an OAuth1 &quot;trustor&quot; to specify a role for an OAuth1 Access Token:

$ openstack request token authorize
usage: openstack request token authorize [-h]
                                         [-f {json,shell,table,value,yaml}]
                                         [-c COLUMN] [--noindent]
                                         [--prefix PREFI..." />
      <meta property="og:description" content="Sorry for using &quot;trustor&quot; and &quot;trustee&quot; terms in OAuth1 context, but these terms clearly describe users positions.

OpenStack CLI explicitly requires an OAuth1 &quot;trustor&quot; to specify a role for an OAuth1 Access Token:

$ openstack request token authorize
usage: openstack request token authorize [-h]
                                         [-f {json,shell,table,value,yaml}]
                                         [-c COLUMN] [--noindent]
                                         [--prefix PREFI..." />
    

    
    
      <meta property="og:title" content="Bug #1873290 “[OSSA-2020-005] OAuth1 request token authorize sil...” : Bugs : OpenStack Identity (keystone)" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1873290" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["api-ref", "caching", "configuration", "default-roles", "documentation", "federation", "fernet", "fix-requires-microversion", "hierarchical-multitenancy", "i18n", "jwt", "ldap", "limits", "logging", "low-hanging-fruit", "meeting-topic", "notifications", "ocata-backport-potential", "office-hours", "ops", "password", "pci", "performance", "pike-backport-potential", "pki", "policy", "python3", "queens-backport-potential", "rc-potential", "revoke", "rfe", "rocky-backport-potential", "security", "sql", "system-scope", "test-improvement", "trusts", "upgrades", "user-experience", "x509"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/keystone/+bug/1873290/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/keystone"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/keystone">OpenStack Identity (keystone)</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/keystone">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/keystone">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/keystone">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/keystone">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/keystone">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/keystone">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    [OSSA-2020-005] OAuth1 request token authorize silently ignores roles parameter (CVE-2020-12690)
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1873290 reported by
      <a href="https://launchpad.net/~kay-diam" class="sprite person">kay</a>
      <time title="2020-04-16 14:56:56 UTC" datetime="2020-04-16T14:56:56.202723+00:00">on 2020-04-16</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">264</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary2592789">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/keystone/+bug/1873290/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2592789">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/keystone">OpenStack Identity (keystone)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/keystone/+bug/1873290/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/keystone/+bug/1873290/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceMEDIUM">Medium</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2592789">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~krinkle">Colleen Murphy</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2592789">
     <td colspan="7"><form action="/keystone/+bug/1873290/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/keystone">OpenStack Identity (keystone)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~kay-diam" class="sprite person">kay</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2020-04-16 14:56:56 UTC" datetime="2020-04-16T14:56:56.202723+00:00">2020-04-16</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2020-04-17 03:52:30 UTC" datetime="2020-04-17T03:52:30.278994+00:00">2020-04-17</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2020-04-17 03:52:42 UTC" datetime="2020-04-17T03:52:42.101573+00:00">2020-04-17</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2020-04-17 03:52:30 UTC" datetime="2020-04-17T03:52:30.278994+00:00">2020-04-17</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2020-05-07 04:37:56 UTC" datetime="2020-05-07T04:37:56.552574+00:00">2020-05-07</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="keystone.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="keystone.target.option.package" name="keystone.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="keystone.target.distribution" name="keystone.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="keystone.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="keystone.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="keystone.target.package"
                         name="keystone.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;keystone.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('keystone.target.package');
              var select_menu = Y.DOM.byId('keystone.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-keystone-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": null, "step_title": "Search by name", "header": "Select a package", "vocabulary_filters": [], "show_create_team": false, "input_element": "keystone.target.package", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "DistributionPackage", "show_widget_id": "show-widget-keystone-target-package"};
        var show_widget_id = 'show-widget-keystone-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="keystone.target.option.product" name="keystone.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="keystone" id="keystone.target.product"
                         name="keystone.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;keystone.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('keystone.target.product');
              var select_menu = Y.DOM.byId('keystone.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-keystone-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": "keystone", "step_title": "Search", "header": "Select a project", "vocabulary_filters": [], "show_create_team": false, "input_element": "keystone.target.product", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "Product", "show_widget_id": "show-widget-keystone-target-product"};
        var show_widget_id = 'show-widget-keystone-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="keystone.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="keystone.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="keystone.status" name="keystone.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="keystone.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceMEDIUM">Medium</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="keystone.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="keystone.assignee.assign_to_me" name="keystone.assignee.option" value="keystone.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="keystone.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="keystone.assignee.assigned_to" name="keystone.assignee.option" value="keystone.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="keystone.assignee.assigned_to">
              Colleen Murphy (krinkle)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="keystone.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="keystone.comment_on_change" name="keystone.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2592823">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ossa/+bug/1873290/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2592823">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/ossa">OpenStack Security Advisory</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ossa/+bug/1873290/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ossa/+bug/1873290/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2592823">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2592823">
     <td colspan="7"><form action="/ossa/+bug/1873290/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ossa">OpenStack Security Advisory</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2020-04-16 16:34:46 UTC" datetime="2020-04-16T16:34:46.149152+00:00">2020-04-16</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2020-05-06 16:07:45 UTC" datetime="2020-05-06T16:07:45.775319+00:00">2020-05-06</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2020-05-06 16:07:45 UTC" datetime="2020-05-06T16:07:45.775319+00:00">2020-05-06</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2020-05-06 18:57:22 UTC" datetime="2020-05-06T18:57:22.424963+00:00">2020-05-06</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ossa.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="ossa.target.option.package" name="ossa.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ossa.target.distribution" name="ossa.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ossa.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ossa.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ossa.target.package"
                         name="ossa.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ossa.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ossa.target.package');
              var select_menu = Y.DOM.byId('ossa.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ossa-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": null, "step_title": "Search by name", "header": "Select a package", "vocabulary_filters": [], "show_create_team": false, "input_element": "ossa.target.package", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "DistributionPackage", "show_widget_id": "show-widget-ossa-target-package"};
        var show_widget_id = 'show-widget-ossa-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ossa.target.option.product" name="ossa.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="ossa" id="ossa.target.product"
                         name="ossa.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ossa.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ossa.target.product');
              var select_menu = Y.DOM.byId('ossa.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ossa-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_assign_me_button": false, "extra_no_results_message": null, "picker_type": "default", "selected_value_metadata": null, "remove_team_text": "Remove team", "selected_value": "ossa", "step_title": "Search", "header": "Select a project", "vocabulary_filters": [], "show_create_team": false, "input_element": "ossa.target.product", "assign_me_text": "Pick me", "remove_person_text": "Remove person", "show_remove_button": false, "vocabulary_name": "Product", "show_widget_id": "show-widget-ossa-target-product"};
        var show_widget_id = 'show-widget-ossa-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ossa.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ossa.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ossa.status" name="ossa.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ossa.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ossa.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ossa.assignee.assign_to_nobody" name="ossa.assignee.option" value="ossa.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ossa.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ossa.assignee.assign_to_me" name="ossa.assignee.option" value="ossa.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ossa.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ossa.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ossa.comment_on_change" name="ossa.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/keystone/+bug/1873290/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/keystone/+bug/1873290/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/keystone/+bug/1873290/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>Sorry for using &quot;trustor&quot; and &quot;trustee&quot; terms in OAuth1 context, but these terms clearly describe users positions.</p>
<p>OpenStack CLI explicitly requires an OAuth1 &quot;trustor&quot; to specify a role for an OAuth1 Access Token:</p>
<p>$ openstack request token authorize<br />
usage: openstack request token authorize [-h]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<wbr />-f {json,shell,<wbr />table,value,<wbr />yaml}]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<wbr />-c COLUMN] [--noindent]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<wbr />--prefix PREFIX]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<wbr />--max-width &lt;integer&gt;] [--fit-width]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<wbr />--print-<wbr />empty] --request-key<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<wbr />request-<wbr />key&gt; --role &lt;role&gt;<br />
openstack request token authorize: error: the following arguments are required: --request-key, --role</p>
<p>However a specified role is silently ignored and OAuth1 token gets all OAuth1 &quot;trustor&quot; roles.</p>
<p><a rel="nofollow" href="https://github.com/openstack/keystone/blob/7bb6314e40d6947294260324e84a58de191f8609/keystone/api/os_oauth1.py#L287">https:/<wbr />/github.<wbr />com/openstack/<wbr />keystone/<wbr />blob/7bb6314e40<wbr />d6947294260324e<wbr />84a58de191f8609<wbr />/keystone/<wbr />api/os_<wbr />oauth1.<wbr />py#L287</a></p>
<p>As an OAuth1 &quot;trustor&quot; I expect the &quot;trustee&quot; to have only accepted roles.</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          <span>See <a href="comments/0">original description</a></span>
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="unofficial-tag" href="/keystone/+bugs?field.tag=in-stable-pike">in-stable-pike</a>
            <a class="unofficial-tag" href="/keystone/+bugs?field.tag=in-stable-queens">in-stable-queens</a>
            <a class="unofficial-tag" href="/keystone/+bugs?field.tag=in-stable-rocky">in-stable-rocky</a>
            <a class="unofficial-tag" href="/keystone/+bugs?field.tag=in-stable-stein">in-stable-stein</a>
            <a class="unofficial-tag" href="/keystone/+bugs?field.tag=in-stable-train">in-stable-train</a>
            <a class="unofficial-tag" href="/keystone/+bugs?field.tag=in-stable-ussuri">in-stable-ussuri</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2020-12690" title="An issue was discovered in OpenStack ...">2020-12690</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~kay-diam" class="sprite person">kay (kay-diam)</a>
    
    <time title="2020-04-16 15:05:51 UTC" datetime="2020-04-16T15:05:51.528197+00:00">on 2020-04-16</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-16T16:35:38.240231+00:00" title="2020-04-16 16:35:38 UTC">on 2020-04-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Since this report concerns a possible security risk, an incomplete<br />
security advisory task has been added while the core security<br />
reviewers for the affected project or projects confirm the bug and<br />
discuss the scope of any vulnerability along with potential<br />
solutions.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Since this report concerns a possible security risk, an incomplete
security advisory task has been added while the core security
reviewers for the affected project or projects confirm the bug and
discuss the scope of any vulnerability along with potential
solutions.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Incomplete
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-17T03:52:22.781163+00:00" title="2020-04-17 03:52:22 UTC">on 2020-04-17</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5355867/+files/0003-Ensure-OAuth1-authorized-roles-are-respected.patch">0003-Ensure-OAuth1-authorized-roles-are-respected.patch</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1873290/+attachment/5355867">Edit</a>
        (16.8 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Attaching patch which also addresses the remainder of <a rel="nofollow" href="https://bugs.launchpad.net/keystone/+bug/1872735">https:/<wbr />/bugs.launchpad<wbr />.net/keystone/<wbr />+bug/1872735</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Attaching patch which also addresses the remainder of https://bugs.launchpad.net/keystone/+bug/1872735</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in keystone: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Medium
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Colleen Murphy (krinkle)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-17T15:18:18.836926+00:00" title="2020-04-17 15:18:18 UTC">on 2020-04-17</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5356206/+files/0003-Ensure-OAuth1-authorized-roles-are-respected.patch">0003-Ensure-OAuth1-authorized-roles-are-respected.patch</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1873290/+attachment/5356206">Edit</a>
        (19.6 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Corrected the patch to account for <a href="/bugs/1872755" class="bug-link">bug 1872755</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Corrected the patch to account for bug 1872755</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
    
    <time title="2020-04-21 17:06:38 UTC" datetime="2020-04-21T17:06:38.221415+00:00">on 2020-04-21</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in keystone: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        none &#8594; ussuri-rc1
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-21T21:35:09.990526+00:00" title="2020-04-21 21:35:09 UTC">on 2020-04-21</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The included ps looks ok to me.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The included ps looks ok to me.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~lbragstad" class="sprite person">Lance Bragstad (lbragstad)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-21T22:04:51.313588+00:00" title="2020-04-21 22:04:51 UTC">on 2020-04-21</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>+2 from me on the proposed patch in comment #3.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">+2 from me on the proposed patch in comment #3.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-27T16:51:48.593311+00:00" title="2020-04-27 16:51:48 UTC">on 2020-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Is a CVE being requested for this? How can we move this forward?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Is a CVE being requested for this? How can we move this forward?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in keystone: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        ussuri-rc1 &#8594; none
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-27T20:00:47.201267+00:00" title="2020-04-27 20:00:47 UTC">on 2020-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>If I&#x27;m reading the report correctly, this sounds like it could represent an unintended privilege escalation, though I&#x27;ll defer to those more familiar with Keystone as to whether it&#x27;s exploitable in practice. If it is, then it sounds like a class A report, in which case we&#x27;ll want to draft an impact description, request a CVE and propose a disclosure timeline once stable branch backports are confirmed viable.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">If I'm reading the report correctly, this sounds like it could represent an unintended privilege escalation, though I'll defer to those more familiar with Keystone as to whether it's exploitable in practice. If it is, then it sounds like a class A report, in which case we'll want to draft an impact description, request a CVE and propose a disclosure timeline once stable branch backports are confirmed viable.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-27T20:12:58.002025+00:00" title="2020-04-27 20:12:58 UTC">on 2020-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Yes, it&#x27;s looking like unintended privilege escalation, so Class A in this case.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Yes, it's looking like unintended privilege escalation, so Class A in this case.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-27T20:15:48.671639+00:00" title="2020-04-27 20:15:48 UTC">on 2020-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>First impact draft below, please review:</p>
<p>Title: OAuth1 request token authorize silently ignores roles parameter<br />
Reporter: kay<br />
Products: Keystone<br />
Affects: &lt;15.0.1, ==16.0.0</p>
<p>Description:<br />
kay reported a vulnerability in Keystone&#x27;s OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended, possibly giving unintended escalated access.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">First impact draft below, please review:

Title: OAuth1 request token authorize silently ignores roles parameter
Reporter: kay
Products: Keystone
Affects: &lt;15.0.1, ==16.0.0

Description:
kay reported a vulnerability in Keystone's OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended, possibly giving unintended escalated access.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-27T20:55:27.012257+00:00" title="2020-04-27 20:55:27 UTC">on 2020-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5362031/+files/0003-Ensure-OAuth1-authorized-roles-are-respected.patch">0003-Ensure-OAuth1-authorized-roles-are-respected.patch</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1873290/+attachment/5362031">Edit</a>
        (19.7 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p><span class="foldable-quoted">&gt; so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended
</span></p>
<p>Technically it&#x27;s not the OAuth1 access token that contains too many roles but the keystone token. I&#x27;m attaching a new version of the patch which updates the release notes to clarify that point.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">&gt; so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended

Technically it's not the OAuth1 access token that contains too many roles but the keystone token. I'm attaching a new version of the patch which updates the release notes to clarify that point.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-27T21:05:56.471323+00:00" title="2020-04-27 21:05:56 UTC">on 2020-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Updated to add the distinction between the two tokens:</p>
<p>Title: OAuth1 request token authorize silently ignores roles parameter<br />
Reporter: kay<br />
Products: Keystone<br />
Affects: &lt;15.0.1, ==16.0.0</p>
<p>Description:<br />
kay reported a vulnerability in Keystone&#x27;s OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was used to request a keystone token, the keystone token would contain every role assignment the creator had for the project. This results in the provided keystone token having more role assignments than the creator intended, possibly giving unintended escalated access.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Updated to add the distinction between the two tokens:

Title: OAuth1 request token authorize silently ignores roles parameter
Reporter: kay
Products: Keystone
Affects: &lt;15.0.1, ==16.0.0

Description:
kay reported a vulnerability in Keystone's OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was used to request a keystone token, the keystone token would contain every role assignment the creator had for the project. This results in the provided keystone token having more role assignments than the creator intended, possibly giving unintended escalated access.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-27T21:21:47.022823+00:00" title="2020-04-27 21:21:47 UTC">on 2020-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>lgtm</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">lgtm</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-27T21:57:18.118468+00:00" title="2020-04-27 21:57:18 UTC">on 2020-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Gage&#x27;s impact description in comment #11 seems fine to me, we should proceed with a CVE request for this.</p>
<p>The fact that exploitation is limited to trusted users and needs someone with the desired permissions to at least issue an OAuth1 token, the risk of continuing discussion in public seems limited. How does everyone feel about switching to a public workflow for this report?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Gage's impact description in comment #11 seems fine to me, we should proceed with a CVE request for this.

The fact that exploitation is limited to trusted users and needs someone with the desired permissions to at least issue an OAuth1 token, the risk of continuing discussion in public seems limited. How does everyone feel about switching to a public workflow for this report?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-27T23:07:25.430989+00:00" title="2020-04-27 23:07:25 UTC">on 2020-04-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Given the relationship with the more serious <a href="/bugs/1872735" class="bug-link">bug 1872735</a> and the fact that the proposed patch references and applies on top of the fix for that bug, I do not think it&#x27;s safe make this bug public.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Given the relationship with the more serious bug 1872735 and the fact that the proposed patch references and applies on top of the fix for that bug, I do not think it's safe make this bug public.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-28T18:27:27.268530+00:00" title="2020-04-28 18:27:27 UTC">on 2020-04-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks Colleen, in that case I suppose they should be disclosed at the same time, either though coincident advisories or by switching this to a public workflow once fixes for 1872735 are published.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks Colleen, in that case I suppose they should be disclosed at the same time, either though coincident advisories or by switching this to a public workflow once fixes for 1872735 are published.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-28T21:11:27.666053+00:00" title="2020-04-28 21:11:27 UTC">on 2020-04-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Awaiting CVE, does the patch here apply cleanly to Stein/Train?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Awaiting CVE, does the patch here apply cleanly to Stein/Train?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-28T22:10:28.081225+00:00" title="2020-04-28 22:10:28 UTC">on 2020-04-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5362998/+files/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-train">train</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1873290/+attachment/5362998">Edit</a>
        (20.0 KiB,
        text/plain)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>It does not apply cleanly. Attaching the modified backports for stein and train.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">It does not apply cleanly. Attaching the modified backports for stein and train.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-28T22:11:09.520279+00:00" title="2020-04-28 22:11:09 UTC">on 2020-04-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5362999/+files/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-stein">stein</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1873290/+attachment/5362999">Edit</a>
        (20.0 KiB,
        text/plain)
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-30T03:39:01.192877+00:00" title="2020-04-30 03:39:01 UTC">on 2020-04-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Waiting on a response for the CVE.</p>
<p>I&#x27;d like to propose next Tuesday (May 5th) as the proper disclosure date as well for this. Does that sound reasonable?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Waiting on a response for the CVE.

I'd like to propose next Tuesday (May 5th) as the proper disclosure date as well for this. Does that sound reasonable?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-04-30T21:17:10.408867+00:00" title="2020-04-30 21:17:10 UTC">on 2020-04-30</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>May 5 should work as long as we send a downstream stakeholder notification with the patches for this no later than tomorrow (Friday, May 1).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">May 5 should work as long as we send a downstream stakeholder notification with the patches for this no later than tomorrow (Friday, May 1).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-01T15:14:33.479549+00:00" title="2020-05-01 15:14:33 UTC">on 2020-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>In retrospect, what with the tight timeline and this being a major holiday weekend for much of the World, let&#x27;s push the advisory date to Wednesday May 6.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">In retrospect, what with the tight timeline and this being a major holiday weekend for much of the World, let's push the advisory date to Wednesday May 6.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-01T15:59:55.608561+00:00" title="2020-05-01 15:59:55 UTC">on 2020-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Sounds reasonable, we will still send out the notification today.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Sounds reasonable, we will still send out the notification today.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-01T17:47:22.499994+00:00" title="2020-05-01 17:47:22 UTC">on 2020-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>notification sent for this one.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">notification sent for this one.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mnaser" class="sprite person">Mohammed Naser (mnaser)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-01T20:58:00.559597+00:00" title="2020-05-01 20:58:00 UTC">on 2020-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi everyone,</p>
<p>I think the patch is not applying cleanly:</p>
<p>============<br />
➜  keystone git:(master) (☸ N/A) pwd<br />
/Users/<wbr />mnaser/<wbr />src/opendev.<wbr />org/openstack/<wbr />keystone<br />
➜  keystone git:(master) (☸ N/A) git status<br />
On branch master<br />
Your branch is up to date with &#x27;origin/master&#x27;.</p>
<p>nothing to commit, working tree clean<br />
➜  keystone git:(master) (☸ N/A) patch -p1 &lt; ~/Downloads/<wbr />0003-Ensure-<wbr />OAuth1-<wbr />authorized-<wbr />roles-are-<wbr />respected.<wbr />patch-master<br />
patching file keystone/<wbr />api/_shared/<wbr />EC2_S3_<wbr />Resource.<wbr />py<br />
Hunk #1 FAILED at 84.<br />
Hunk #2 FAILED at 104.<br />
Hunk #3 FAILED at 122.<br />
Hunk #4 FAILED at 148.<br />
4 out of 4 hunks FAILED -- saving rejects to file keystone/<wbr />api/_shared/<wbr />EC2_S3_<wbr />Resource.<wbr />py.rej<br />
patching file keystone/<wbr />api/credentials<wbr />.py<br />
Hunk #1 FAILED at 74.<br />
Hunk #2 succeeded at 85 with fuzz 2 (offset -7 lines).<br />
Hunk #3 FAILED at 152.<br />
Hunk #4 FAILED at 168.<br />
3 out of 4 hunks FAILED -- saving rejects to file keystone/<wbr />api/credentials<wbr />.py.rej<br />
patching file keystone/<wbr />models/<wbr />token_model.<wbr />py<br />
patching file keystone/<wbr />tests/unit/<wbr />test_v3_<wbr />credential.<wbr />py<br />
Hunk #2 succeeded at 260 with fuzz 2 (offset -83 lines).<br />
Hunk #3 succeeded at 502 (offset -172 lines).<br />
patching file keystone/<wbr />tests/unit/<wbr />test_v3_<wbr />oauth1.<wbr />py<br />
patching file releasenotes/notes/<a href="/bugs/1873290" class="bug-link">bug-1873290</a>-ff7f8e4cee15b7<wbr />5a.yaml<br />
➜  keystone git:(master) ✗ (☸ N/A)<br />
============</p>
<p>Some parts (like in credentials.py reference code that doesn&#x27;t seem to exist anywhere visible to me).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi everyone,

I think the patch is not applying cleanly:

============
➜  keystone git:(master) (☸ N/A) pwd
/Users/mnaser/src/opendev.org/openstack/keystone
➜  keystone git:(master) (☸ N/A) git status
On branch master
Your branch is up to date with 'origin/master'.

nothing to commit, working tree clean
➜  keystone git:(master) (☸ N/A) patch -p1 &lt; ~/Downloads/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-master
patching file keystone/api/_shared/EC2_S3_Resource.py
Hunk #1 FAILED at 84.
Hunk #2 FAILED at 104.
Hunk #3 FAILED at 122.
Hunk #4 FAILED at 148.
4 out of 4 hunks FAILED -- saving rejects to file keystone/api/_shared/EC2_S3_Resource.py.rej
patching file keystone/api/credentials.py
Hunk #1 FAILED at 74.
Hunk #2 succeeded at 85 with fuzz 2 (offset -7 lines).
Hunk #3 FAILED at 152.
Hunk #4 FAILED at 168.
3 out of 4 hunks FAILED -- saving rejects to file keystone/api/credentials.py.rej
patching file keystone/models/token_model.py
patching file keystone/tests/unit/test_v3_credential.py
Hunk #2 succeeded at 260 with fuzz 2 (offset -83 lines).
Hunk #3 succeeded at 502 (offset -172 lines).
patching file keystone/tests/unit/test_v3_oauth1.py
patching file releasenotes/notes/bug-1873290-ff7f8e4cee15b75a.yaml
➜  keystone git:(master) ✗ (☸ N/A)
============

Some parts (like in credentials.py reference code that doesn't seem to exist anywhere visible to me).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-01T21:34:22.749659+00:00" title="2020-05-01 21:34:22 UTC">on 2020-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi Mohammed, the patch here is the third in a series, the other patches can be found in <a href="/bugs/1872735" class="bug-link">bug 1872735</a> (1st) and <a href="/bugs/1872755" class="bug-link">bug 1872755</a> (2nd) (noted as related bugs in the commit message of this patch). The bugs all affect primarily keystone/<wbr />api/credentials<wbr />.py and keystone/<wbr />api/_shared/<wbr />EC2_S3_<wbr />Resource.<wbr />py so it is unfortunately difficult to tease them into independent patches.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi Mohammed, the patch here is the third in a series, the other patches can be found in bug 1872735 (1st) and bug 1872755 (2nd) (noted as related bugs in the commit message of this patch). The bugs all affect primarily keystone/api/credentials.py and keystone/api/_shared/EC2_S3_Resource.py so it is unfortunately difficult to tease them into independent patches.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mnaser" class="sprite person">Mohammed Naser (mnaser)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-01T22:04:35.459772+00:00" title="2020-05-01 22:04:35 UTC">on 2020-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Gotcha, so the patches are indeed stacked.  Sorry for missing that.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Gotcha, so the patches are indeed stacked.  Sorry for missing that.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-01T22:41:55.820717+00:00" title="2020-05-01 22:41:55 UTC">on 2020-05-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Actually, in addition to that they also conflict with another related patch that was just merged in master <a rel="nofollow" href="https://review.opendev.org/724124">https:/<wbr />/review.<wbr />opendev.<wbr />org/724124</a>. Working on an updated stack now.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Actually, in addition to that they also conflict with another related patch that was just merged in master https://review.opendev.org/724124. Working on an updated stack now.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/28" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~nickthetait" class="sprite person">Nick Tait (nickthetait)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-02T01:01:26.213988+00:00" title="2020-05-02 01:01:26 UTC">on 2020-05-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/28"> #28</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I support Class A for this bug too. As far as the description, I don&#x27;t have many specific improvements to suggest except the last sentence might be improved as &quot;This results in a malicious user gaining more role assignments than the creator intended, such as admin access.&quot; Here are the parts that confuse me:</p>
<p>&quot;Previously&quot; was this recent or ancient news? does it matter?<br />
&quot;ignored&quot; by what component(s)?<br />
Difficult to distinguish between the two (access vs keystone) tokens. Can this be simplified somehow?<br />
&quot;the creator&quot; does this refer to the user, an administrator, keystone, or something else?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I support Class A for this bug too. As far as the description, I don't have many specific improvements to suggest except the last sentence might be improved as "This results in a malicious user gaining more role assignments than the creator intended, such as admin access." Here are the parts that confuse me:

"Previously" was this recent or ancient news? does it matter?
"ignored" by what component(s)?
Difficult to distinguish between the two (access vs keystone) tokens. Can this be simplified somehow?
"the creator" does this refer to the user, an administrator, keystone, or something else?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/29" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-04T04:52:18.808559+00:00" title="2020-05-04 04:52:18 UTC">on 2020-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/29"> #29</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve reworked the patch for this bug to be independently appliable. Attaching patches for master, ussuri, train, and stein.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've reworked the patch for this bug to be independently appliable. Attaching patches for master, ussuri, train, and stein.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/30" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-04T04:52:44.641103+00:00" title="2020-05-04 04:52:44 UTC">on 2020-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/30"> #30</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5365980/+files/0001-Ensure-OAuth1-authorized-roles-are-respected.patch">ussuri</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1873290/+attachment/5365980">Edit</a>
        (5.2 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/31" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-04T04:53:09.629501+00:00" title="2020-05-04 04:53:09 UTC">on 2020-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/31"> #31</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5365981/+files/0001-Ensure-OAuth1-authorized-roles-are-respected.patch">train</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1873290/+attachment/5365981">Edit</a>
        (5.3 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/32" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-04T04:53:46.611286+00:00" title="2020-05-04 04:53:46 UTC">on 2020-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/32"> #32</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5365982/+files/0001-Ensure-OAuth1-authorized-roles-are-respected.patch">stein</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1873290/+attachment/5365982">Edit</a>
        (5.3 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/33" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-04T22:58:05.606684+00:00" title="2020-05-04 22:58:05 UTC">on 2020-05-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/33"> #33</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5366509/+files/0001-Ensure-OAuth1-authorized-roles-are-respected.patch">rocky</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1873290/+attachment/5366509">Edit</a>
        (5.5 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;m attaching a patch for rocky even though it has reached EM to help distros that need to support older releases.</p>
<p>To mitigate this bug for older branches, I recommend disabling &#x27;oauth1&#x27; as an authentication method by removing it from the comma-separated list in the [auth]/methods config option in keystone.conf. Alternatively, although the default policy rules for these actions are already very restrictive, you can further restrict them by disabling them completely with policy rules such as:</p>
<p>&quot;identity:<wbr />create_<wbr />consumer&quot;<wbr />: &quot;!&quot;<br />
&quot;identity:<wbr />update_<wbr />consumer&quot;<wbr />: &quot;!&quot;<br />
&quot;identity:<wbr />authorize_<wbr />request_<wbr />token&quot;: &quot;!&quot;</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'm attaching a patch for rocky even though it has reached EM to help distros that need to support older releases.

To mitigate this bug for older branches, I recommend disabling 'oauth1' as an authentication method by removing it from the comma-separated list in the [auth]/methods config option in keystone.conf. Alternatively, although the default policy rules for these actions are already very restrictive, you can further restrict them by disabling them completely with policy rules such as:

"identity:create_consumer": "!"
"identity:update_consumer": "!"
"identity:authorize_request_token": "!"</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/34" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-06T15:11:32.332439+00:00" title="2020-05-06 15:11:32 UTC">on 2020-05-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/34"> #34</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The embargo for this bug has expired, will be making public and fixes will be available in gerrit here shortly.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The embargo for this bug has expired, will be making public and fixes will be available in gerrit here shortly.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/35" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-06T15:15:56.724191+00:00" title="2020-05-06 15:15:56 UTC">on 2020-05-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/35">
                <strong>Fix proposed to keystone (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/35"> #35</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: master<br />
Review: <a rel="nofollow" href="https://review.opendev.org/725885">https:/<wbr />/review.<wbr />opendev.<wbr />org/725885</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: master
Review: https://review.opendev.org/725885</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/36" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-06T15:16:49.877402+00:00" title="2020-05-06 15:16:49 UTC">on 2020-05-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/36">
                <strong>Fix proposed to keystone (stable/ussuri)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/36"> #36</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/ussuri<br />
Review: <a rel="nofollow" href="https://review.opendev.org/725887">https:/<wbr />/review.<wbr />opendev.<wbr />org/725887</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/ussuri
Review: https://review.opendev.org/725887</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/37" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-06T15:17:54.254564+00:00" title="2020-05-06 15:17:54 UTC">on 2020-05-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/37">
                <strong>Fix proposed to keystone (stable/train)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/37"> #37</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/train<br />
Review: <a rel="nofollow" href="https://review.opendev.org/725890">https:/<wbr />/review.<wbr />opendev.<wbr />org/725890</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/train
Review: https://review.opendev.org/725890</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/38" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-06T15:18:46.108375+00:00" title="2020-05-06 15:18:46 UTC">on 2020-05-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/38">
                <strong>Fix proposed to keystone (stable/stein)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/38"> #38</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/stein<br />
Review: <a rel="nofollow" href="https://review.opendev.org/725892">https:/<wbr />/review.<wbr />opendev.<wbr />org/725892</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/stein
Review: https://review.opendev.org/725892</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/39" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-06T15:20:16.927438+00:00" title="2020-05-06 15:20:16 UTC">on 2020-05-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/39">
                <strong>Fix proposed to keystone (stable/rocky)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/39"> #39</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/rocky<br />
Review: <a rel="nofollow" href="https://review.opendev.org/725894">https:/<wbr />/review.<wbr />opendev.<wbr />org/725894</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/rocky
Review: https://review.opendev.org/725894</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/40" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-06T18:57:25.445276+00:00" title="2020-05-06 18:57:25 UTC">on 2020-05-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/40">
                <strong>Fix merged to ossa (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/40"> #40</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/725917">https:/<wbr />/review.<wbr />opendev.<wbr />org/725917</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/ossa/commit/?id=3696964abeeef77b725d452b1cda8c79568d5ad0">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />ossa/commit/<wbr />?id=3696964abee<wbr />ef77b725d452b1c<wbr />da8c79568d5ad0</a><br />
Submitter: Zuul<br />
Branch:    master</p>
<p>commit 3696964abeeef77<wbr />b725d452b1cda8c<wbr />79568d5ad0<br />
Author: Gage Hugo &lt;email address hidden&gt;<br />
Date:   Wed May 6 11:06:58 2020 -0500</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Add OSSA-2020-005 (CVE Pending)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I6b422cc4491d2c<wbr />785565716ee4d07<wbr />ca58efcdb0a<br />
&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: #1873290</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/725917
Committed: https://git.openstack.org/cgit/openstack/ossa/commit/?id=3696964abeeef77b725d452b1cda8c79568d5ad0
Submitter: Zuul
Branch:    master

commit 3696964abeeef77b725d452b1cda8c79568d5ad0
Author: Gage Hugo &lt;gagehugo@gmail.com&gt;
Date:   Wed May 6 11:06:58 2020 -0500

    Add OSSA-2020-005 (CVE Pending)
    
    Change-Id: I6b422cc4491d2c785565716ee4d07ca58efcdb0a
    Closes-Bug: #1873290
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/41" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-06T22:37:30.464703+00:00" title="2020-05-06 22:37:30 UTC">on 2020-05-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/41">
                <strong>Fix proposed to keystone (stable/pike)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/41"> #41</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/pike<br />
Review: <a rel="nofollow" href="https://review.opendev.org/726016">https:/<wbr />/review.<wbr />opendev.<wbr />org/726016</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/pike
Review: https://review.opendev.org/726016</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/42" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-07T04:37:58.262231+00:00" title="2020-05-07 04:37:58 UTC">on 2020-05-07</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/42">
                <strong>Fix merged to keystone (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/42"> #42</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/725885">https:/<wbr />/review.<wbr />opendev.<wbr />org/725885</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/keystone/commit/?id=6c73690f779a42a5c62914b6bc37f0ac2f41a3e3">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />keystone/<wbr />commit/<wbr />?id=6c73690f779<wbr />a42a5c62914b6bc<wbr />37f0ac2f41a3e3</a><br />
Submitter: Zuul<br />
Branch:    master</p>
<p>commit 6c73690f779a42a<wbr />5c62914b6bc37f0<wbr />ac2f41a3e3<br />
Author: Colleen Murphy &lt;email address hidden&gt;<br />
Date:   Thu Apr 16 20:35:46 2020 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Ensure OAuth1 authorized roles are respected</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Without this patch, when an OAuth1 request token is authorized with a<br />
&nbsp;&nbsp;&nbsp;&nbsp;limited set of roles, the roles for the access token are ignored when<br />
&nbsp;&nbsp;&nbsp;&nbsp;the user uses it to request a keystone token. This means that user of an<br />
&nbsp;&nbsp;&nbsp;&nbsp;access token can use it to escallate their role assignments beyond what<br />
&nbsp;&nbsp;&nbsp;&nbsp;was authorized by the creator. This patch fixes the issue by ensuring<br />
&nbsp;&nbsp;&nbsp;&nbsp;the token model accounts for an OAuth1-scoped token and correctly<br />
&nbsp;&nbsp;&nbsp;&nbsp;populating the roles for it.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I02f9836fbd4d7e<wbr />629653977fc3414<wbr />76cfd89859e<br />
&nbsp;&nbsp;&nbsp;&nbsp;Closes-bug: #1873290</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/725885
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=6c73690f779a42a5c62914b6bc37f0ac2f41a3e3
Submitter: Zuul
Branch:    master

commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3
Author: Colleen Murphy &lt;colleen.murphy@suse.com&gt;
Date:   Thu Apr 16 20:35:46 2020 -0700

    Ensure OAuth1 authorized roles are respected
    
    Without this patch, when an OAuth1 request token is authorized with a
    limited set of roles, the roles for the access token are ignored when
    the user uses it to request a keystone token. This means that user of an
    access token can use it to escallate their role assignments beyond what
    was authorized by the creator. This patch fixes the issue by ensuring
    the token model accounts for an OAuth1-scoped token and correctly
    populating the roles for it.
    
    Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
    Closes-bug: #1873290
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in keystone: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
    
    <time title="2020-05-07 18:43:44 UTC" datetime="2020-05-07T18:43:44.867319+00:00">on 2020-05-07</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - OAuth1 request token authorize silently ignores roles parameter<br />+ [OSSA-2020-005] OAuth1 request token authorize silently ignores roles<br />+ parameter (CVE-2020-12690)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/43" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-07T19:52:52.915803+00:00" title="2020-05-07 19:52:52 UTC">on 2020-05-07</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/43">
                <strong>Fix merged to keystone (stable/ussuri)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/43"> #43</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/725887">https:/<wbr />/review.<wbr />opendev.<wbr />org/725887</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/keystone/commit/?id=ba89d27793c2d3a26ad95642660fa9bd820ed3be">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />keystone/<wbr />commit/<wbr />?id=ba89d27793c<wbr />2d3a26ad9564266<wbr />0fa9bd820ed3be</a><br />
Submitter: Zuul<br />
Branch:    stable/ussuri</p>
<p>commit ba89d27793c2d3a<wbr />26ad95642660fa9<wbr />bd820ed3be<br />
Author: Colleen Murphy &lt;email address hidden&gt;<br />
Date:   Thu Apr 16 20:35:46 2020 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Ensure OAuth1 authorized roles are respected</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Without this patch, when an OAuth1 request token is authorized with a<br />
&nbsp;&nbsp;&nbsp;&nbsp;limited set of roles, the roles for the access token are ignored when<br />
&nbsp;&nbsp;&nbsp;&nbsp;the user uses it to request a keystone token. This means that user of an<br />
&nbsp;&nbsp;&nbsp;&nbsp;access token can use it to escallate their role assignments beyond what<br />
&nbsp;&nbsp;&nbsp;&nbsp;was authorized by the creator. This patch fixes the issue by ensuring<br />
&nbsp;&nbsp;&nbsp;&nbsp;the token model accounts for an OAuth1-scoped token and correctly<br />
&nbsp;&nbsp;&nbsp;&nbsp;populating the roles for it.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I02f9836fbd4d7e<wbr />629653977fc3414<wbr />76cfd89859e<br />
&nbsp;&nbsp;&nbsp;&nbsp;Closes-bug: #1873290<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 6c73690f779a42a<wbr />5c62914b6bc37f0<wbr />ac2f41a3e3)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/725887
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=ba89d27793c2d3a26ad95642660fa9bd820ed3be
Submitter: Zuul
Branch:    stable/ussuri

commit ba89d27793c2d3a26ad95642660fa9bd820ed3be
Author: Colleen Murphy &lt;colleen.murphy@suse.com&gt;
Date:   Thu Apr 16 20:35:46 2020 -0700

    Ensure OAuth1 authorized roles are respected
    
    Without this patch, when an OAuth1 request token is authorized with a
    limited set of roles, the roles for the access token are ignored when
    the user uses it to request a keystone token. This means that user of an
    access token can use it to escallate their role assignments beyond what
    was authorized by the creator. This patch fixes the issue by ensuring
    the token model accounts for an OAuth1-scoped token and correctly
    populating the roles for it.
    
    Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
    Closes-bug: #1873290
    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-ussuri
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/44" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-08T13:58:54.543534+00:00" title="2020-05-08 13:58:54 UTC">on 2020-05-08</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/44">
                <strong>Fix proposed to keystone (stable/queens)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/44"> #44</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/queens<br />
Review: <a rel="nofollow" href="https://review.opendev.org/726395">https:/<wbr />/review.<wbr />opendev.<wbr />org/726395</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/queens
Review: https://review.opendev.org/726395</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/45" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-11T02:55:24.063336+00:00" title="2020-05-11 02:55:24 UTC">on 2020-05-11</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/45">
                <strong>Fix merged to keystone (stable/train)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/45"> #45</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/725890">https:/<wbr />/review.<wbr />opendev.<wbr />org/725890</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/keystone/commit/?id=fe4d48d554a1a8ce1806de2831218907328dc89a">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />keystone/<wbr />commit/<wbr />?id=fe4d48d554a<wbr />1a8ce1806de2831<wbr />218907328dc89a</a><br />
Submitter: Zuul<br />
Branch:    stable/train</p>
<p>commit fe4d48d554a1a8c<wbr />e1806de28312189<wbr />07328dc89a<br />
Author: Colleen Murphy &lt;email address hidden&gt;<br />
Date:   Thu Apr 16 20:35:46 2020 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Ensure OAuth1 authorized roles are respected</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Without this patch, when an OAuth1 request token is authorized with a<br />
&nbsp;&nbsp;&nbsp;&nbsp;limited set of roles, the roles for the access token are ignored when<br />
&nbsp;&nbsp;&nbsp;&nbsp;the user uses it to request a keystone token. This means that user of an<br />
&nbsp;&nbsp;&nbsp;&nbsp;access token can use it to escallate their role assignments beyond what<br />
&nbsp;&nbsp;&nbsp;&nbsp;was authorized by the creator. This patch fixes the issue by ensuring<br />
&nbsp;&nbsp;&nbsp;&nbsp;the token model accounts for an OAuth1-scoped token and correctly<br />
&nbsp;&nbsp;&nbsp;&nbsp;populating the roles for it.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I02f9836fbd4d7e<wbr />629653977fc3414<wbr />76cfd89859e<br />
&nbsp;&nbsp;&nbsp;&nbsp;Closes-bug: #1873290<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 6c73690f779a42a<wbr />5c62914b6bc37f0<wbr />ac2f41a3e3)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit ba89d27793c2d3a<wbr />26ad95642660fa9<wbr />bd820ed3be)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/725890
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=fe4d48d554a1a8ce1806de2831218907328dc89a
Submitter: Zuul
Branch:    stable/train

commit fe4d48d554a1a8ce1806de2831218907328dc89a
Author: Colleen Murphy &lt;colleen.murphy@suse.com&gt;
Date:   Thu Apr 16 20:35:46 2020 -0700

    Ensure OAuth1 authorized roles are respected
    
    Without this patch, when an OAuth1 request token is authorized with a
    limited set of roles, the roles for the access token are ignored when
    the user uses it to request a keystone token. This means that user of an
    access token can use it to escallate their role assignments beyond what
    was authorized by the creator. This patch fixes the issue by ensuring
    the token model accounts for an OAuth1-scoped token and correctly
    populating the roles for it.
    
    Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
    Closes-bug: #1873290
    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-train
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/46" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-11T09:03:56.346474+00:00" title="2020-05-11 09:03:56 UTC">on 2020-05-11</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/46">
                <strong>Fix merged to keystone (stable/stein)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/46"> #46</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/725892">https:/<wbr />/review.<wbr />opendev.<wbr />org/725892</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/keystone/commit/?id=330911cee48b5105ec121d96b23aed197551b561">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />keystone/<wbr />commit/<wbr />?id=330911cee48<wbr />b5105ec121d96b2<wbr />3aed197551b561</a><br />
Submitter: Zuul<br />
Branch:    stable/stein</p>
<p>commit 330911cee48b510<wbr />5ec121d96b23aed<wbr />197551b561<br />
Author: Colleen Murphy &lt;email address hidden&gt;<br />
Date:   Thu Apr 16 20:35:46 2020 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Ensure OAuth1 authorized roles are respected</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Without this patch, when an OAuth1 request token is authorized with a<br />
&nbsp;&nbsp;&nbsp;&nbsp;limited set of roles, the roles for the access token are ignored when<br />
&nbsp;&nbsp;&nbsp;&nbsp;the user uses it to request a keystone token. This means that user of an<br />
&nbsp;&nbsp;&nbsp;&nbsp;access token can use it to escallate their role assignments beyond what<br />
&nbsp;&nbsp;&nbsp;&nbsp;was authorized by the creator. This patch fixes the issue by ensuring<br />
&nbsp;&nbsp;&nbsp;&nbsp;the token model accounts for an OAuth1-scoped token and correctly<br />
&nbsp;&nbsp;&nbsp;&nbsp;populating the roles for it.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I02f9836fbd4d7e<wbr />629653977fc3414<wbr />76cfd89859e<br />
&nbsp;&nbsp;&nbsp;&nbsp;Closes-bug: #1873290<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 6c73690f779a42a<wbr />5c62914b6bc37f0<wbr />ac2f41a3e3)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit ba89d27793c2d3a<wbr />26ad95642660fa9<wbr />bd820ed3be)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 5ff52dbaa208299<wbr />1d229d8557a8e4b<wbr />65256d6c53)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/725892
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=330911cee48b5105ec121d96b23aed197551b561
Submitter: Zuul
Branch:    stable/stein

commit 330911cee48b5105ec121d96b23aed197551b561
Author: Colleen Murphy &lt;colleen.murphy@suse.com&gt;
Date:   Thu Apr 16 20:35:46 2020 -0700

    Ensure OAuth1 authorized roles are respected
    
    Without this patch, when an OAuth1 request token is authorized with a
    limited set of roles, the roles for the access token are ignored when
    the user uses it to request a keystone token. This means that user of an
    access token can use it to escallate their role assignments beyond what
    was authorized by the creator. This patch fixes the issue by ensuring
    the token model accounts for an OAuth1-scoped token and correctly
    populating the roles for it.
    
    Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
    Closes-bug: #1873290
    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-stein
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/47" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-13T06:16:25.993522+00:00" title="2020-05-13 06:16:25 UTC">on 2020-05-13</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/47">
                <strong>Fix merged to keystone (stable/rocky)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/47"> #47</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/725894">https:/<wbr />/review.<wbr />opendev.<wbr />org/725894</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/keystone/commit/?id=10bc689a6796f85c44d19e0c18f0e37b0a87474c">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />keystone/<wbr />commit/<wbr />?id=10bc689a679<wbr />6f85c44d19e0c18<wbr />f0e37b0a87474c</a><br />
Submitter: Zuul<br />
Branch:    stable/rocky</p>
<p>commit 10bc689a6796f85<wbr />c44d19e0c18f0e3<wbr />7b0a87474c<br />
Author: Colleen Murphy &lt;email address hidden&gt;<br />
Date:   Thu Apr 16 20:35:46 2020 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Ensure OAuth1 authorized roles are respected</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Without this patch, when an OAuth1 request token is authorized with a<br />
&nbsp;&nbsp;&nbsp;&nbsp;limited set of roles, the roles for the access token are ignored when<br />
&nbsp;&nbsp;&nbsp;&nbsp;the user uses it to request a keystone token. This means that user of an<br />
&nbsp;&nbsp;&nbsp;&nbsp;access token can use it to escallate their role assignments beyond what<br />
&nbsp;&nbsp;&nbsp;&nbsp;was authorized by the creator. This patch fixes the issue by ensuring<br />
&nbsp;&nbsp;&nbsp;&nbsp;the token model accounts for an OAuth1-scoped token and correctly<br />
&nbsp;&nbsp;&nbsp;&nbsp;populating the roles for it.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Modified to work with older test helper function:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keystone/<wbr />tests/unit/<wbr />test_v3_<wbr />oauth1.<wbr />py</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I02f9836fbd4d7e<wbr />629653977fc3414<wbr />76cfd89859e<br />
&nbsp;&nbsp;&nbsp;&nbsp;Closes-bug: #1873290<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 6c73690f779a42a<wbr />5c62914b6bc37f0<wbr />ac2f41a3e3)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit ba89d27793c2d3a<wbr />26ad95642660fa9<wbr />bd820ed3be)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 5ff52dbaa208299<wbr />1d229d8557a8e4b<wbr />65256d6c53)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 2483a578a80a916<wbr />d9f5acd672d8583<wbr />0385b236e2)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/725894
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=10bc689a6796f85c44d19e0c18f0e37b0a87474c
Submitter: Zuul
Branch:    stable/rocky

commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c
Author: Colleen Murphy &lt;colleen.murphy@suse.com&gt;
Date:   Thu Apr 16 20:35:46 2020 -0700

    Ensure OAuth1 authorized roles are respected
    
    Without this patch, when an OAuth1 request token is authorized with a
    limited set of roles, the roles for the access token are ignored when
    the user uses it to request a keystone token. This means that user of an
    access token can use it to escallate their role assignments beyond what
    was authorized by the creator. This patch fixes the issue by ensuring
    the token model accounts for an OAuth1-scoped token and correctly
    populating the roles for it.
    
    Modified to work with older test helper function:
    
      keystone/tests/unit/test_v3_oauth1.py
    
    Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
    Closes-bug: #1873290
    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)
    (cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-rocky
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/48" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-14T18:59:57.091922+00:00" title="2020-05-14 18:59:57 UTC">on 2020-05-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/48">
                <strong>Fix merged to keystone (stable/queens)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/48"> #48</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/726395">https:/<wbr />/review.<wbr />opendev.<wbr />org/726395</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/keystone/commit/?id=fac58fdfbe31a5b93ef65b70927b3df632c689c9">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />keystone/<wbr />commit/<wbr />?id=fac58fdfbe3<wbr />1a5b93ef65b7092<wbr />7b3df632c689c9</a><br />
Submitter: Zuul<br />
Branch:    stable/queens</p>
<p>commit fac58fdfbe31a5b<wbr />93ef65b70927b3d<wbr />f632c689c9<br />
Author: Colleen Murphy &lt;email address hidden&gt;<br />
Date:   Thu Apr 16 20:35:46 2020 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Ensure OAuth1 authorized roles are respected</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Without this patch, when an OAuth1 request token is authorized with a<br />
&nbsp;&nbsp;&nbsp;&nbsp;limited set of roles, the roles for the access token are ignored when<br />
&nbsp;&nbsp;&nbsp;&nbsp;the user uses it to request a keystone token. This means that user of an<br />
&nbsp;&nbsp;&nbsp;&nbsp;access token can use it to escallate their role assignments beyond what<br />
&nbsp;&nbsp;&nbsp;&nbsp;was authorized by the creator. This patch fixes the issue by ensuring<br />
&nbsp;&nbsp;&nbsp;&nbsp;the token model accounts for an OAuth1-scoped token and correctly<br />
&nbsp;&nbsp;&nbsp;&nbsp;populating the roles for it.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Modified to work with older test helper function:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keystone/<wbr />tests/unit/<wbr />test_v3_<wbr />oauth1.<wbr />py</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Conflicts:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keystone/<wbr />models/<wbr />token_model.<wbr />py</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The keystone token model was refactored in the Rocky release. This<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commit only backports the test so that we have test coverage against<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the bug and proves there wasn&#x27;t a regression in Queens. As such, the<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code changes to token_model.py (where the bug was introduced) are not<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;applicable to Queens.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;releaseno<wbr />tes/notes/<a href="/bugs/1873290" class="bug-link">bug-1873290</a>-ff7f8e4cee15b7<wbr />5a.yaml</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removed the release note since there isn&#x27;t anything to signal to<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operators regarding a vulnerability. We&#x27;re only adding test coverage<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to prove that stable/queens isn&#x27;t vulnerable.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I02f9836fbd4d7e<wbr />629653977fc3414<wbr />76cfd89859e<br />
&nbsp;&nbsp;&nbsp;&nbsp;Closes-bug: #1873290<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 6c73690f779a42a<wbr />5c62914b6bc37f0<wbr />ac2f41a3e3)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit ba89d27793c2d3a<wbr />26ad95642660fa9<wbr />bd820ed3be)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 5ff52dbaa208299<wbr />1d229d8557a8e4b<wbr />65256d6c53)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 2483a578a80a916<wbr />d9f5acd672d8583<wbr />0385b236e2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 10bc689a6796f85<wbr />c44d19e0c18f0e3<wbr />7b0a87474c)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/726395
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=fac58fdfbe31a5b93ef65b70927b3df632c689c9
Submitter: Zuul
Branch:    stable/queens

commit fac58fdfbe31a5b93ef65b70927b3df632c689c9
Author: Colleen Murphy &lt;colleen.murphy@suse.com&gt;
Date:   Thu Apr 16 20:35:46 2020 -0700

    Ensure OAuth1 authorized roles are respected
    
    Without this patch, when an OAuth1 request token is authorized with a
    limited set of roles, the roles for the access token are ignored when
    the user uses it to request a keystone token. This means that user of an
    access token can use it to escallate their role assignments beyond what
    was authorized by the creator. This patch fixes the issue by ensuring
    the token model accounts for an OAuth1-scoped token and correctly
    populating the roles for it.
    
    Modified to work with older test helper function:
    
      keystone/tests/unit/test_v3_oauth1.py
    
    Conflicts:
    
      keystone/models/token_model.py
    
      The keystone token model was refactored in the Rocky release. This
      commit only backports the test so that we have test coverage against
      the bug and proves there wasn't a regression in Queens. As such, the
      code changes to token_model.py (where the bug was introduced) are not
      applicable to Queens.
    
      releasenotes/notes/bug-1873290-ff7f8e4cee15b75a.yaml
    
      Removed the release note since there isn't anything to signal to
      operators regarding a vulnerability. We're only adding test coverage
      to prove that stable/queens isn't vulnerable.
    
    Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
    Closes-bug: #1873290
    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)
    (cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)
    (cherry picked from commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-queens
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/49" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-06-02T17:31:38.086899+00:00" title="2020-06-02 17:31:38 UTC">on 2020-06-02</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/49">
                <strong>Fix merged to keystone (stable/pike)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/49"> #49</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/726016">https:/<wbr />/review.<wbr />opendev.<wbr />org/726016</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/keystone/commit/?id=7653847a04e56555b8d172a3d5c76a95533cdec7">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />keystone/<wbr />commit/<wbr />?id=7653847a04e<wbr />56555b8d172a3d5<wbr />c76a95533cdec7</a><br />
Submitter: Zuul<br />
Branch:    stable/pike</p>
<p>commit 7653847a04e5655<wbr />5b8d172a3d5c76a<wbr />95533cdec7<br />
Author: Colleen Murphy &lt;email address hidden&gt;<br />
Date:   Thu Apr 16 20:35:46 2020 -0700</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Ensure OAuth1 authorized roles are respected</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Without this patch, when an OAuth1 request token is authorized with a<br />
&nbsp;&nbsp;&nbsp;&nbsp;limited set of roles, the roles for the access token are ignored when<br />
&nbsp;&nbsp;&nbsp;&nbsp;the user uses it to request a keystone token. This means that user of an<br />
&nbsp;&nbsp;&nbsp;&nbsp;access token can use it to escallate their role assignments beyond what<br />
&nbsp;&nbsp;&nbsp;&nbsp;was authorized by the creator. This patch fixes the issue by ensuring<br />
&nbsp;&nbsp;&nbsp;&nbsp;the token model accounts for an OAuth1-scoped token and correctly<br />
&nbsp;&nbsp;&nbsp;&nbsp;populating the roles for it.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Modified to work with older test helper function:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keystone/<wbr />tests/unit/<wbr />test_v3_<wbr />oauth1.<wbr />py</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Conflicts:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keystone/<wbr />models/<wbr />token_model.<wbr />py</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The keystone token model was refactored in the Rocky release. This<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commit only backports the test so that we have test coverage against<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the bug and proves there wasn&#x27;t a regression in Queens. As such, the<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code changes to token_model.py (where the bug was introduced) are not<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;applicable to Pike.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;releaseno<wbr />tes/notes/<a href="/bugs/1873290" class="bug-link">bug-1873290</a>-ff7f8e4cee15b7<wbr />5a.yaml</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removed the release note since there isn&#x27;t anything to signal to<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operators regarding a vulnerability. We&#x27;re only adding test coverage<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to prove that stable/queens isn&#x27;t vulnerable.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I02f9836fbd4d7e<wbr />629653977fc3414<wbr />76cfd89859e<br />
&nbsp;&nbsp;&nbsp;&nbsp;Closes-bug: #1873290<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 6c73690f779a42a<wbr />5c62914b6bc37f0<wbr />ac2f41a3e3)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit ba89d27793c2d3a<wbr />26ad95642660fa9<wbr />bd820ed3be)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 5ff52dbaa208299<wbr />1d229d8557a8e4b<wbr />65256d6c53)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 2483a578a80a916<wbr />d9f5acd672d8583<wbr />0385b236e2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 10bc689a6796f85<wbr />c44d19e0c18f0e3<wbr />7b0a87474c)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit d590441ce6897a7<wbr />a169db7262eb17b<wbr />cd5d90bcd2)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/726016
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=7653847a04e56555b8d172a3d5c76a95533cdec7
Submitter: Zuul
Branch:    stable/pike

commit 7653847a04e56555b8d172a3d5c76a95533cdec7
Author: Colleen Murphy &lt;colleen.murphy@suse.com&gt;
Date:   Thu Apr 16 20:35:46 2020 -0700

    Ensure OAuth1 authorized roles are respected
    
    Without this patch, when an OAuth1 request token is authorized with a
    limited set of roles, the roles for the access token are ignored when
    the user uses it to request a keystone token. This means that user of an
    access token can use it to escallate their role assignments beyond what
    was authorized by the creator. This patch fixes the issue by ensuring
    the token model accounts for an OAuth1-scoped token and correctly
    populating the roles for it.
    
    Modified to work with older test helper function:
    
      keystone/tests/unit/test_v3_oauth1.py
    
    Conflicts:
    
      keystone/models/token_model.py
    
      The keystone token model was refactored in the Rocky release. This
      commit only backports the test so that we have test coverage against
      the bug and proves there wasn't a regression in Queens. As such, the
      code changes to token_model.py (where the bug was introduced) are not
      applicable to Pike.
    
      releasenotes/notes/bug-1873290-ff7f8e4cee15b75a.yaml
    
      Removed the release note since there isn't anything to signal to
      operators regarding a vulnerability. We're only adding test coverage
      to prove that stable/queens isn't vulnerable.
    
    Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
    Closes-bug: #1873290
    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)
    (cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)
    (cherry picked from commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c)
    (cherry picked from commit d590441ce6897a7a169db7262eb17bcd5d90bcd2)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-pike
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/50" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jichenjc" class="sprite person">jichenjc (jichenjc)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-07-10T03:02:14.482219+00:00" title="2020-07-10 03:02:14 UTC">on 2020-07-10</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/50"> #50</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I see the code is refactory at</p>
<p>commit 04a54966578c1fa<wbr />17bb1b962769a87<wbr />c1213ff21f<br />
Author: Lance Bragstad &lt;email address hidden&gt;<br />
Date:   Thu Apr 5 16:49:52 2018 +0000</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Introduce new TokenModel object</p>
<p>so the fix are based on the refactoried code<br />
we are still maintaining internal newton code which is before the refactory<br />
will that be affect by this issue or not? can you help to comment? THanks</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I see the code is refactory at 

commit 04a54966578c1fa17bb1b962769a87c1213ff21f
Author: Lance Bragstad &lt;lbragstad@gmail.com&gt;
Date:   Thu Apr 5 16:49:52 2018 +0000

    Introduce new TokenModel object


so the fix are based on the refactoried code
we are still maintaining internal newton code which is before the refactory
will that be affect by this issue or not? can you help to comment? THanks</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/51" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-07-10T13:43:04+00:00" title="2020-07-10 13:43:04 UTC">on 2020-07-10</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1873290/comments/51">
                <strong>Re: [Bug 1873290] Re: [OSSA-2020-005] OAuth1 request token authorize silently ignores roles parameter (CVE-2020-12690)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/51"> #51</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On 2020-07-10 03:02:14 -0000 (-0000), jichenjc wrote:<br />
[...]<br />
<span class="foldable-quoted">
&gt; we are still maintaining internal newton code which is before the<br />
&gt; refactory will that be affect by this issue or not? can you help<br />
&gt; to comment? THanks
</span></p>
<p>You may find it much easier to backport the fix from the stable/pike<br />
branch:</p>
<p><a rel="nofollow" href="https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7">https:/<wbr />/opendev.<wbr />org/openstack/<wbr />keystone/<wbr />commit/<wbr />7653847a04e5655<wbr />5b8d172a3d5c76a<wbr />95533cdec7</a></p>
<p>Checking out the newton-eol tag, `git cherry-pick 7653847` applies<br />
cleanly for me with no conflicts. Note I have not tested this patch<br />
on Newton, and you might want additional feedback from Keystone devs<br />
as to whether this is safe (or even necessary) on Newton.<br />
--<br />
Jeremy Stanley</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On 2020-07-10 03:02:14 -0000 (-0000), jichenjc wrote:
[...]
&gt; we are still maintaining internal newton code which is before the
&gt; refactory will that be affect by this issue or not? can you help
&gt; to comment? THanks

You may find it much easier to backport the fix from the stable/pike
branch:

https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7

Checking out the newton-eol tag, `git cherry-pick 7653847` applies
cleanly for me with no conflicts. Note I have not tested this patch
on Newton, and you might want additional feedback from Keystone devs
as to whether this is safe (or even necessary) on Newton.
-- 
Jeremy Stanley
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/52" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jichenjc" class="sprite person">jichenjc (jichenjc)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-07-15T04:05:19.333561+00:00" title="2020-07-15 04:05:19 UTC">on 2020-07-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/52"> #52</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>THanks for the comments, Jeremy, from the link above, it says:</p>
<p><a rel="nofollow" href="https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7">https:/<wbr />/opendev.<wbr />org/openstack/<wbr />keystone/<wbr />commit/<wbr />7653847a04e5655<wbr />5b8d172a3d5c76a<wbr />95533cdec7</a><br />
```<br />
The keystone token model was refactored in the Rocky release. This<br />
&nbsp;&nbsp;commit only backports the test so that we have test coverage against<br />
&nbsp;&nbsp;the bug and proves there wasn&#x27;t a regression in Queens. As such, the<br />
&nbsp;&nbsp;code changes to token_model.py (where the bug was introduced) are not<br />
&nbsp;&nbsp;applicable to Pike.<br />
```<br />
so I think the reason you can cherry pick</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">THanks for the comments, Jeremy, from the link above, it says:


https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7
```
The keystone token model was refactored in the Rocky release. This
  commit only backports the test so that we have test coverage against
  the bug and proves there wasn't a regression in Queens. As such, the
  code changes to token_model.py (where the bug was introduced) are not
  applicable to Pike.
```
so I think the reason you can cherry pick </textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/53" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jichenjc" class="sprite person">jichenjc (jichenjc)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-07-15T04:09:12.265109+00:00" title="2020-07-15 04:09:12 UTC">on 2020-07-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/53"> #53</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>sorry, hit `post ` too fast<br />
so from the comments I think the code logic is changed from Pike<br />
which means, actually the code before Pike should not be affected<br />
that&#x27;s the reason why only a test case is added but no real code updated<br />
guess that&#x27;s the reason ..</p>
<p>so it means it will not affect keystone which is prior to Pike<br />
while the CVE says all keystone prior to 15.0.0..</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">sorry, hit `post ` too fast
so from the comments I think the code logic is changed from Pike
which means, actually the code before Pike should not be affected 
that's the reason why only a test case is added but no real code updated
guess that's the reason ..

so it means it will not affect keystone which is prior to Pike
while the CVE says all keystone prior to 15.0.0..</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/54" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-07-15T13:55:51.987317+00:00" title="2020-07-15 13:55:51 UTC">on 2020-07-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/54"> #54</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>jichenjc: Ahh, yes, a closer reading of the patch indicates you&#x27;re correct. This vulnerability is not, from what I can see, present in releases up through Queens.</p>
<p>Generally our advisories assume that if the oldest supported release (at time of writing that was 15.0.0 codenamed Rocky) is vulnerable then all versions prior to it are also vulnerable. In this case it sounds like the vulnerability was introduced in Rocky, so versions prior to it are not at risk.</p>
<p>That said, it is probably a good idea to assume there are other unpatched vulnerabilities in Newton, as we don&#x27;t issue advisories for any which get discovered only in unmaintained versions of our software (including stable branches in an &quot;extended maintenance&quot; state).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">jichenjc: Ahh, yes, a closer reading of the patch indicates you're correct. This vulnerability is not, from what I can see, present in releases up through Queens.

Generally our advisories assume that if the oldest supported release (at time of writing that was 15.0.0 codenamed Rocky) is vulnerable then all versions prior to it are also vulnerable. In this case it sounds like the vulnerability was introduced in Rocky, so versions prior to it are not at risk.

That said, it is probably a good idea to assume there are other unpatched vulnerabilities in Newton, as we don't issue advisories for any which get discovered only in unmaintained versions of our software (including stable branches in an "extended maintenance" state).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/55" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-07-15T14:07:11.296365+00:00" title="2020-07-15 14:07:11 UTC">on 2020-07-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/55"> #55</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Er, sorry, oldest maintained release at time of writing for OSSA-2020-005 was 15.0.0 codenamed Stein. Since the vulnerability also affected the 14.0.0 Rocky release where it was introduced, a fix was backported to the stable/rocky branch (under extended maintenance) as a courtesy, but no new point release will be tagged for it per OpenStack&#x27;s extended maintenance policy.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Er, sorry, oldest maintained release at time of writing for OSSA-2020-005 was 15.0.0 codenamed Stein. Since the vulnerability also affected the 14.0.0 Rocky release where it was introduced, a fix was backported to the stable/rocky branch (under extended maintenance) as a courtesy, but no new point release will be tagged for it per OpenStack's extended maintenance policy.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1873290/comments/56" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jichenjc" class="sprite person">jichenjc (jichenjc)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-07-16T01:31:28.979722+00:00" title="2020-07-16 01:31:28 UTC">on 2020-07-16</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1873290/comments/56"> #56</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Jeremy:<br />
ok, got it , really appreciate your kindly help and time in providing the info<br />
thanks a lot ~</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Jeremy:
ok, got it , really appreciate your kindly help and time in providing the info
thanks a lot ~</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/keystone/+bug/1873290/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/keystone/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/keystone/+bug/1873290/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/keystone/+bug/1873290/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/keystone/+bug/1873290/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/keystone/+bug/1873290/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/keystone/+bug/1873290/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/keystone/+bug/1873290/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/keystone/+bug/1873290/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/keystone/+bug/1873290/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/keystone/+bug/1873290/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5355867/+files/0003-Ensure-OAuth1-authorized-roles-are-respected.patch">0003-Ensure-OAuth1-authorized-roles-are-respected.patch</a>
        <small>
          (<a href="/keystone/+bug/1873290/+attachment/5355867">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5356206/+files/0003-Ensure-OAuth1-authorized-roles-are-respected.patch">0003-Ensure-OAuth1-authorized-roles-are-respected.patch</a>
        <small>
          (<a href="/keystone/+bug/1873290/+attachment/5356206">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5362031/+files/0003-Ensure-OAuth1-authorized-roles-are-respected.patch">0003-Ensure-OAuth1-authorized-roles-are-respected.patch</a>
        <small>
          (<a href="/keystone/+bug/1873290/+attachment/5362031">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5365980/+files/0001-Ensure-OAuth1-authorized-roles-are-respected.patch">ussuri</a>
        <small>
          (<a href="/keystone/+bug/1873290/+attachment/5365980">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5365981/+files/0001-Ensure-OAuth1-authorized-roles-are-respected.patch">train</a>
        <small>
          (<a href="/keystone/+bug/1873290/+attachment/5365981">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5365982/+files/0001-Ensure-OAuth1-authorized-roles-are-respected.patch">stein</a>
        <small>
          (<a href="/keystone/+bug/1873290/+attachment/5365982">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5366509/+files/0001-Ensure-OAuth1-authorized-roles-are-respected.patch">rocky</a>
        <small>
          (<a href="/keystone/+bug/1873290/+attachment/5366509">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/keystone/+bug/1873290/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5362998/+files/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-train">train</a>
        <small>
          (<a href="/keystone/+bug/1873290/+attachment/5362998">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite download-icon" href="https://bugs.launchpad.net/keystone/+bug/1873290/+attachment/5362999/+files/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-stein">stein</a>
        <small>
          (<a href="/keystone/+bug/1873290/+attachment/5362999">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/keystone/+bug/1873290/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/1873290", "self_link": "https://bugs.launchpad.net/api/devel/bugs/1873290"}, "information_type_data": {"PUBLIC": {"description": "Everyone can see this information.\n", "name": "Public", "is_private": false, "order": 0, "description_css_class": "choice-description", "value": "PUBLIC"}, "PUBLICSECURITY": {"description": "Everyone can see this security related information.\n", "name": "Public Security", "is_private": false, "order": 1, "description_css_class": "choice-description", "value": "PUBLICSECURITY"}, "USERDATA": {"description": "Only shared with users permitted to see private user information.\n", "name": "Private", "is_private": true, "order": 3, "description_css_class": "choice-description", "value": "USERDATA"}, "PRIVATESECURITY": {"description": "Only the security group can see this information.\n ", "name": "Private Security", "is_private": true, "order": 2, "description_css_class": "choice-description", "value": "PRIVATESECURITY"}}, "total_comments_and_activity": 90, "bug_is_private": false, "related_features": {}, "first visible_recent_comment": 16, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1873290", "web_link": "https://bugs.launchpad.net/bugs/1873290", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1873290, "private": false, "information_type": "Public Security", "name": null, "title": "[OSSA-2020-005] OAuth1 request token authorize silently ignores roles parameter (CVE-2020-12690)", "description": "Sorry for using \"trustor\" and \"trustee\" terms in OAuth1 context, but these terms clearly describe users positions.\n\nOpenStack CLI explicitly requires an OAuth1 \"trustor\" to specify a role for an OAuth1 Access Token:\n\n$ openstack request token authorize\nusage: openstack request token authorize [-h]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[-f {json,shell,table,value,yaml}]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[-c COLUMN] [--noindent]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[--prefix PREFIX]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[--max-width \u003cinteger\u003e] [--fit-width]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[--print-empty] --request-key\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u003crequest-key\u003e --role \u003crole\u003e\nopenstack request token authorize: error: the following arguments are required: --request-key, --role\n\nHowever a specified role is silently ignored and OAuth1 token gets all OAuth1 \"trustor\" roles.\n\nhttps://github.com/openstack/keystone/blob/7bb6314e40d6947294260324e84a58de191f8609/keystone/api/os_oauth1.py#L287\n\nAs an OAuth1 \"trustor\" I expect the \"trustee\" to have only accepted roles.", "owner_link": "https://bugs.launchpad.net/api/devel/~kay-diam", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/bug_tasks", "duplicate_of_link": null, "date_created": "2020-04-16T14:56:56.202723+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/subscriptions", "date_last_updated": "2020-07-16T01:31:29.390354+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 264, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/attachments", "security_related": true, "latest_patch_uploaded": "2020-05-04T22:58:05.606684+00:00", "tags": ["in-stable-pike", "in-stable-queens", "in-stable-rocky", "in-stable-stein", "in-stable-train", "in-stable-ussuri"], "date_last_message": "2020-07-16T01:31:28.979722+00:00", "number_of_duplicates": 0, "message_count": 57, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1873290/linked_merge_proposals", "http_etag": "\"bad882d1268ac90ce9f2fc016d25620f2736e61d-0ff8a74f80de8e976a0796bf5fa0809738fc5fd5\""}, "bugtask_data": {"2592789": {"assignee_vocabulary": "AllUserTeamsParticipation", "user_can_unassign": false, "bugtask_path": "/keystone/+bug/1873290", "assignee_value": "krinkle", "user_can_edit_status": true, "bug_title": "[OSSA-2020-005] OAuth1 request token authorize silently ignores roles parameter (CVE-2020-12690)", "user_can_edit_milestone": false, "prefix": "keystone", "form_row_id": "task2592789", "target_is_product": true, "user_can_edit_importance": false, "assignee_is_team": false, "delete_link": "https://bugs.launchpad.net/keystone/+bug/1873290/+delete", "user_can_edit_assignee": false, "milestone_widget_items": "[]", "status_widget_items": "[]", "status_value": "Fix Released", "importance_value": "Medium", "hide_assignee_team_selection": true, "user_can_delete": false, "row_id": "tasksummary2592789", "assignee_vocabulary_filters": [], "targetname": "OpenStack Identity (keystone)", "importance_widget_items": "[]", "milestone_value": null, "id": 2592789}, "2592823": {"assignee_vocabulary": "AllUserTeamsParticipation", "user_can_unassign": false, "bugtask_path": "/ossa/+bug/1873290", "assignee_value": null, "user_can_edit_status": true, "bug_title": "[OSSA-2020-005] OAuth1 request token authorize silently ignores roles parameter (CVE-2020-12690)", "user_can_edit_milestone": false, "prefix": "ossa", "form_row_id": "task2592823", "target_is_product": true, "user_can_edit_importance": false, "assignee_is_team": null, "delete_link": "https://bugs.launchpad.net/ossa/+bug/1873290/+delete", "user_can_edit_assignee": false, "milestone_widget_items": "[]", "status_widget_items": "[]", "status_value": "Fix Released", "importance_value": "Undecided", "hide_assignee_team_selection": true, "user_can_delete": false, "row_id": "tasksummary2592823", "assignee_vocabulary_filters": [], "targetname": "OpenStack Security Advisory", "importance_widget_items": "[]", "milestone_value": null, "id": 2592823}}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/keystone/+bug/1873290", "web_link": "https://bugs.launchpad.net/keystone/+bug/1873290", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1873290", "milestone_link": null, "status": "Fix Released", "importance": "Medium", "assignee_link": "https://bugs.launchpad.net/api/devel/~krinkle", "bug_target_display_name": "OpenStack Identity (keystone)", "bug_target_name": "keystone", "bug_watch_link": null, "date_assigned": "2020-04-17T03:52:42.101573+00:00", "date_created": "2020-04-16T14:56:56.202723+00:00", "date_confirmed": "2020-04-17T03:52:30.278994+00:00", "date_incomplete": null, "date_in_progress": "2020-04-17T03:52:30.278994+00:00", "date_closed": "2020-05-07T04:37:56.552574+00:00", "date_left_new": "2020-04-17T03:52:30.278994+00:00", "date_triaged": "2020-04-17T03:52:30.278994+00:00", "date_fix_committed": "2020-05-07T04:37:56.552574+00:00", "date_fix_released": "2020-05-07T04:37:56.552574+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~kay-diam", "target_link": "https://bugs.launchpad.net/api/devel/keystone", "title": "Bug #1873290 in OpenStack Identity (keystone): \"[OSSA-2020-005] OAuth1 request token authorize silently ignores roles parameter (CVE-2020-12690)\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/keystone/+bug/1873290/related_tasks", "is_complete": true, "http_etag": "\"d22cf9120943824804b357ab45c769f918d45615-a23bd353470d4b2f49683851fcdebd06747edce1\""}, "initial_comment_batch_offset": 41};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 58 queries/external actions issued in 1.17 seconds

    Features: {'app.maintenance_message': None, 'visible_render_time': None, 'bugs.affected_count_includes_dupes.disabled': None, 'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'bugs.nominations.bug_supervisors_can_target': 'on', 'baselayout.careers_link.disabled': None, 'hard_timeout': '9000', 'js.yui_version': None, 'profiling.enabled': None}

    r0d8de2b

    -->

</html>

