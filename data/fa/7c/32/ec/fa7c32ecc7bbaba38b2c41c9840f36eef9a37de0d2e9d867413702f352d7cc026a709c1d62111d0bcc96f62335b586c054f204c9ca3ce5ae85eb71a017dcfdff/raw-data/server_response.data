<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>OpenWrt bugs:: OpenWrt/LEDE Project: Tasklist</title>

    <meta name="description" content="Flyspray, a Bug Tracking System written in PHP." />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <link rel="index" id="indexlink" type="text/html" href="https://bugs.openwrt.org/" />
        <link rel="section" type="text/html" href="https://bugs.openwrt.org/?project=2" />
        <link media="screen" href="https://bugs.openwrt.org/themes/CleanFS/theme.css" rel="stylesheet" type="text/css" />
<link media="print"  href="https://bugs.openwrt.org/themes/CleanFS/theme_print.css" rel="stylesheet" type="text/css" />
    <link href="https://bugs.openwrt.org/themes/CleanFS/font-awesome.min.css" rel="stylesheet" type="text/css" />
	<link media="screen" href="https://bugs.openwrt.org/themes/CleanFS/custom_openwrt.css" rel="stylesheet" type="text/css" />
    <link rel="alternate" type="application/rss+xml" title="Flyspray RSS 1.0 Feed"
          href="https://bugs.openwrt.org/feed.php?feed_type=rss1&amp;project=2" />
    <link rel="alternate" type="application/rss+xml" title="Flyspray RSS 2.0 Feed"
          href="https://bugs.openwrt.org/feed.php?feed_type=rss2&amp;project=2" />
	<link rel="alternate" type="application/atom+xml" title="Flyspray Atom 0.3 Feed"
	      href="https://bugs.openwrt.org/feed.php?feed_type=atom&amp;project=2" />

    <script type="text/javascript" src="https://bugs.openwrt.org/js/prototype/prototype.js"></script>
    <script type="text/javascript" src="https://bugs.openwrt.org/js/script.aculo.us/scriptaculous.js"></script>
            <script type="text/javascript" src="https://bugs.openwrt.org/js/index.js"></script>
                <script type="text/javascript" src="https://bugs.openwrt.org/js/tabs.js"></script>
    <script type="text/javascript" src="https://bugs.openwrt.org/js/functions.js"></script>
    <script type="text/javascript" src="https://bugs.openwrt.org/js/jscalendar/calendar_stripped.js"></script>
    <script type="text/javascript" src="https://bugs.openwrt.org/js/jscalendar/calendar-setup_stripped.js"> </script>
    <script type="text/javascript" src="https://bugs.openwrt.org/js/jscalendar/lang/calendar-en.js"></script>
    <script type="text/javascript" src="https://bugs.openwrt.org/js/lightbox/js/lightbox.js"></script>
        <link rel="stylesheet" href="https://bugs.openwrt.org/js/lightbox/css/lightbox.css" type="text/css" media="screen" />
    <!--[if IE]>
    <link media="screen" href="https://bugs.openwrt.org/themes/CleanFS/ie.css" rel="stylesheet" type="text/css" />
    <![endif]-->
     
<meta name="robots" content="nofollow"></head>
<body onload="/* window.setTimeout('Effect.Fade(\'successanderrors\', {duration:.3})', 10000); */
        " class="index p2">

    <h1 id="title"><a href="https://bugs.openwrt.org/">
	<img src="https://bugs.openwrt.org//openwrt_icon_dark-120.png" />	<span>OpenWrt/LEDE Project</span>
    </a></h1>
    <input id="menu1" type="checkbox">
<label id="labelmenu1" for="menu1"></label>
<div id="menu"><ul id="menu-list"><li class="first">
	<input type="checkbox" id="s_loginbox" />
        <label for="s_loginbox" id="show_loginbox" accesskey="l">Login!</label>
        <div id="loginbox" class="popup"><form id="login" action="https://bugs.openwrt.org/index.php?do=authenticate" method="post">
<div id="login_input">
	<input placeholder="Username" class="text" type="text" id="lbl_user_name" name="user_name" size="17" maxlength="32" />
	<input placeholder="Password" class="password" type="password" id="lbl_password" name="password" size="17" maxlength="100" />
	<label for="lbl_remember">Remember me</label>
	<input type="checkbox" id="lbl_remember" name="remember_login" />
	<input type="hidden" name="return_to" value="/" />
	<input type="submit" value="Login!" name="login" id="login_button" />
</div>
<div id="login_links">
              <a id="registerlink"
                href="https://bugs.openwrt.org/index.php?do=register">Register</a>
                  <a id="forgotlink"
                href="https://bugs.openwrt.org/index.php?do=lostpw">Lost password?</a>
        </div>
<div id="login_oauth">
                  <a class="btn-github" href="index.php?do=oauth&provider=github&return_to=Lw==">
              <i class="fa fa-github"></i> Sign in with Github              </a>
    </div>
</form>
</div>
	</li></ul>
</div><div id="pm-menu">
	<input id="pmmenu" type="checkbox">
	<label id="labelpmmenu" for="pmmenu"></label>
	<ul id="pm-menu-list"><li class="first">
		<a id="toplevellink"
				href="https://bugs.openwrt.org/index.php?do=toplevel&amp;project=2">Overview</a>
	</li><li>
		<a id="homelink"
		 class="active" 		href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2">Tasklist</a>
	</li><li>
		<a id="roadmaplink"
				href="https://bugs.openwrt.org/index.php?do=roadmap&amp;project=2">Roadmap</a>
	</li>	</ul>
	<div id="pmcontrol">
		<div id="projectselector">			<form id="projectselectorform" action="https://bugs.openwrt.org/index.php" method="get">
				<select name="project" onchange="document.getElementById('projectselectorform').submit()">
				<option value="0">All Projects</option><optgroup><option value="2" selected="selected">OpenWrt/LEDE Project</option></optgroup>				</select>
				<noscript><button type="submit">Switch</button></noscript>
				<input type="hidden" name="do" value="index" />
				<input type="hidden" value="1" name="switch" />
							</form>
		</div>
		<div id="showtask">			<form action="https://bugs.openwrt.org/index.php" method="get">
				<noscript><button type="submit">Show Task #</button></noscript>
				<input id="task_id" name="show_task" class="text" type="text" size="10" accesskey="t" placeholder="Show Task #" />
			</form>
		</div>
	</div>
</div>

		<div id="successanderrors" onclick="this.style.display='none'">
					<div class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Error #10: This task does not exist.</div>				</div>
	
<div id="content">
	<div class="clear"></div>
			<div id="intromessage">
<h5 id="welcometotheopenwrtprojectbugreportingandissuetrackingsystem">Welcome to the OpenWrt Project bug reporting and issue tracking system</h5>
<div class="level5">

<p>
Problems to be reported here are for the current OpenWrt and legacy LEDE Project&rsquo;s targets, sources, toolchain, core packages, build procedures, distribution and infrastructure. Guidelines for submitting a good bug report can be found at the  <a href="https://openwrt.org/bugs" class="urlextern" title="https://openwrt.org/bugs">OpenWrt Project website</a><a href="" class="internallink"></a>. Problems related to <strong>LuCI</strong> or <strong>OpenWrt</strong> packages need to be reported in their repositories: 
</p>
<ul>
<li class="level1"><div class="li"> LuCI - <a href="https://github.com/openwrt/luci/issues" class="urlextern" title="https://github.com/openwrt/luci/issues">https://github.com/openwrt/luci/issues</a><a href="" class="internallink"></a></div>
</li>
<li class="level1"><div class="li"> Packages - <a href="https://github.com/openwrt/packages/issues" class="urlextern" title="https://github.com/openwrt/packages/issues">https://github.com/openwrt/packages/issues</a><a href="" class="internallink"></a></div>
</li>
</ul>

<p>
 Notifications of all submissions and task changes are sent to <a href="mailto:openwrt-bugs@infradead.org" class="mail JSnocheck" title="openwrt-bugs@infradead.org">openwrt-bugs@infradead.org</a><a href="" class="internallink"></a>.
</p>

</div>
</div>
	<script type="text/javascript">
    //Used for dynamically displaying the bulk edit pane, when Checkboxes are >1
    function BulkEditCheck()
    {
        var form = document.getElementById('massops');
        var count = 0;
        for(var n=0;n < form.length;n++){
            if(form[n].name == 'ids[]' && form[n].checked){
                count++;
            }
        }

        if(count == 0)
        {
            Effect.Fade('bulk_edit_selectedItems',{ duration: 0.2 });
        }
        if(count == 1)
        {
            Effect.Appear('bulk_edit_selectedItems',{ duration: 0.2 });
        }
    }

    function massSelectBulkEditCheck()
    {
        var form = document.getElementById('massops');
        var check_count = 0, uncheck_count;
        for(var n=0;n < form.length;n++){
            if(form[n].name == 'ids[]'){
		if(form[n].checked)
		    check_count++;
		else
		    uncheck_count++;
            }
        }

        if(check_count == 0)
        {
            Effect.Appear('bulk_edit_selectedItems',{ duration: 0.2 });
        }

        if(uncheck_count == 0)
        {
            Effect.Fade('bulk_edit_selectedItems',{ duration: 0.2 });
        }
    }

    function ClearAssignments()
    {
        document.getElementById('bulk_assignment').options.length = 0;
    }
</script>



<form id="search" action="https://bugs.openwrt.org/index.php" method="get">
  <button id="searchthisproject" type="submit">Search this project for</button>
  <input class="text" id="searchtext" name="string" type="text" size="20"
   maxlength="100" value="" accesskey="q"/>
  <input type="hidden" name="project" value="2"/>
  <input type="hidden" name="do" value="index"/>
  <input type='submit' name='export_list' value='Export Tasklist'/>
<style>
#sc2,#s_searchstate{display:none;}
#searchstateactions{color:#999;display:block;cursor:pointer;}
#s_searchstate:checked ~ #sc2 {display:block;}
#s_searchstate ~ label::before { content: "\25bc";}
#s_searchstate:checked ~ label::before { content: "\25b2";}
</style>
<input id="s_searchstate" type="checkbox" name="advancedsearch"/>
<label id="searchstateactions" for="s_searchstate">Advanced</label>
<div id="sc2" class="switchcontent">
<fieldset class="advsearch_misc">
   <legend>Miscellaneous</legend>
   <input type="checkbox" name="search_in_comments" value="1" id="sic" />                    <label class="left" for="sic">Search in comments</label>

                    <input type="checkbox" name="search_in_details" value="1" id="search_in_details" />                    <label class="left" for="search_in_details">Search details</label>

                    <input type="checkbox" name="search_for_all" value="1" id="sfa" />                    <label class="left" for="sfa">Search for all words</label>

                    <input type="checkbox" name="only_watched" value="1" id="only_watched" />                    <label class="left" for="only_watched">Tasks I watch</label>

                    <input type="checkbox" name="only_primary" value="1" id="only_primary" />                    <label class="left" for="only_primary">Tasks not blocking other tasks</label>

		<input type="checkbox" name="only_blocker" value="1" id="only_blocker" />		<label class="left" for="only_blocker" id="blockerlabel">Tasks blocking other tasks</label>
		<span id="blockerornoblocker">Blocker or nonblocker, selecting both filter options doesn&#039;t make sense.</span>
		<style>
		#blockerornoblocker {display:none;color:#c00;}
		#only_primary:checked ~ #only_blocker:checked ~ #blockerornoblocker {display:inline;}
		</style>
		
                    <input type="checkbox" name="has_attachment" value="1" id="has_attachment" />                    <label class="left" for="has_attachment">Has attachment</label>

                    <input type="checkbox" name="hide_subtasks" value="1" id="hide_subtasks" />                    <label class="left" for="hide_subtasks">Hide SubTasks</label>
                </fieldset>

                <fieldset class="advsearch_task">
                    <legend>Task Properties</legend>
            <!-- Task Type -->
		                        <div class="search_select">
		                            <label class="default multisel" for="type">Task Type</label>
                        <select name="type[]" id="type" multiple="multiple" size="8">
                            <option value="" selected="selected">All Task Types</option><option value="1">Bug Report</option><option value="3">Build Failure</option>                        </select>
                    </div>

            <!-- Severity -->
		                        <div class="search_select">
		                            <label class="default multisel" for="sev">Severity</label>
                        <select name="sev[]" id="sev" multiple="multiple" size="8">
                            <option value="" selected="selected">All Severities</option><option value="5">Critical</option><option value="4">High</option><option value="3">Medium</option><option value="2">Low</option><option value="1">Very Low</option>                        </select>
                    </div>

            <!-- Priority -->
		                        <div class="search_select">
		                            <label class="default multisel" for="pri">Priority</label>
                        <select name="pri[]" id="pri" multiple="multiple" size="8">
                            <option value="" selected="selected">All Priorities</option><option value="6">Very High</option><option value="5">High</option><option value="4">Medium</option><option value="3">Low</option><option value="2">Very Low</option><option value="1">Defer</option>                        </select>
                    </div>

            <!-- Due Version -->
		                        <div class="search_select">
		                            <label class="default multisel" for="due">Due In Version</label>
                        <select name="due[]" id="due" multiple="multiple" size="8">
                            <option value="" selected="selected">Due In Any Version</option><option value="0">Unassigned</option><option value="2">Trunk</option><option value="11">openwrt-21.02</option><option value="10">openwrt-19.07</option><option value="8">openwrt-18.06</option><option value="6">All</option>                        </select>
                    </div>

            <!-- Reportedin -->
		                        <div class="search_select">
		                            <label class="default multisel" for="reported">Reported Version</label>
                        <select name="reported[]" id="reported" multiple="multiple" size="8">
                            <option value="" selected="selected">Reported In Any Version</option><option value="2">Trunk</option><option value="11">openwrt-21.02</option><option value="10">openwrt-19.07</option><option value="8">openwrt-18.06</option><option value="6">All</option>                        </select>
                    </div>

            <!-- Category -->
		                        <div class="search_select">
		                            <label class="default multisel" for="cat">Category</label>
                        <select name="cat[]" id="cat" multiple="multiple" size="8">
                            <option value="" selected="selected">All Categories</option><option value="11">Base system</option><option value="12">Documentation</option><option value="5">Kernel</option><option value="6">Packages</option><option value="8">Toolchain</option><option value="9">Website</option><option value="21">Forum site</option><option value="22">Flyspray</option><option value="10">Other</option><option value="20">None</option>                        </select>
                    </div>

            <!-- Status -->
		                        <div class="search_select">
		                            <label class="default multisel" for="status">Status</label>
                        <select name="status[]" id="status" multiple="multiple" size="8">
                            <option value="">All Statuses</option><option value="open" selected="selected">All Open Tasks</option><option value="closed">All Closed Tasks</option><option value="1">Unconfirmed</option><option value="2">New</option><option value="3">Assigned</option><option value="4">Researching</option><option value="5">Waiting on reporter</option><option value="6">Requires testing</option>                        </select>
                    </div>

            <!-- Progress -->
		                        <div class="search_select">
		                            <label class="default multisel" for="percent">Percent Complete</label>
                        <!-- legacy: tpl_options()
                        <select name="percent[]" id="percent" multiple="multiple" size="12">
                                                        <option value="" selected="selected">Any Progress</option><option value="0">0</option><option value="10">10</option><option value="20">20</option><option value="30">30</option><option value="40">40</option><option value="50">50</option><option value="60">60</option><option value="70">70</option><option value="80">80</option><option value="90">90</option><option value="100">100</option>                        </select>
                        -->
<select name="percent[]" id="percent" multiple="multiple" size="12">
<option value="" selected="selected">Any Progress</option>
<option value="0" class="percent0">0</option>
<option value="10" class="percent10">10</option>
<option value="20" class="percent20">20</option>
<option value="30" class="percent30">30</option>
<option value="40" class="percent40">40</option>
<option value="50" class="percent50">50</option>
<option value="60" class="percent60">60</option>
<option value="70" class="percent70">70</option>
<option value="80" class="percent80">80</option>
<option value="90" class="percent90">90</option>
<option value="100" class="percent100">100</option>
</select>                    </div>
                    <div class="clear"></div>
                </fieldset>

                <fieldset class="advsearch_users">
                    <legend>Users</legend>
                    <label class="default multisel" for="opened">Opened by</label>
                    <input class="users text"  type="text" name="opened" id="opened" value="" />
<span class="autocomplete" id="opened_complete"></span>
<script type="text/javascript">
    showstuff('opened_complete');
    new Ajax.Autocompleter('opened', 'opened_complete', 'https://bugs.openwrt.org/js/callbacks/usersearch.php', {})
</script>

		                        <label class="default multisel" for="dev">Assigned To</label>
                    <input class="users text"  type="text" name="dev" id="dev" value="" />
<span class="autocomplete" id="dev_complete"></span>
<script type="text/javascript">
    showstuff('dev_complete');
    new Ajax.Autocompleter('dev', 'dev_complete', 'https://bugs.openwrt.org/js/callbacks/usersearch.php', {})
</script>
                    <label class="default multisel" for="closed">Closed by</label>
                    <input class="users text"  type="text" name="closed" id="closed" value="" />
<span class="autocomplete" id="closed_complete"></span>
<script type="text/javascript">
    showstuff('closed_complete');
    new Ajax.Autocompleter('closed', 'closed_complete', 'https://bugs.openwrt.org/js/callbacks/usersearch.php', {})
</script>
                </fieldset>

                <fieldset class="advsearch_dates">
                    <legend>Dates</legend>
            <!-- Due Date -->
		                        <div class="dateselect">
		                            <label for="duedatefrom">Due from</label>
<input id="duedatefrom" type="text" class="text" size="10" name="duedatefrom" value="" />

<a class="datelink" href="#" id="duedatefromdateview">
  <!--<img src="" alt="Select Date" />-->
</a>
<script type="text/javascript">Calendar.setup({daFormat: '%Y-%m-%d',inputField: "duedatefrom", button: "duedatefromdateview"});</script>                        <label for="duedateto">to</label>
<input id="duedateto" type="text" class="text" size="10" name="duedateto" value="" />

<a class="datelink" href="#" id="duedatetodateview">
  <!--<img src="" alt="Select Date" />-->
</a>
<script type="text/javascript">Calendar.setup({daFormat: '%Y-%m-%d',inputField: "duedateto", button: "duedatetodateview"});</script>                    </div>
                    <div class="dateselect">
                        <label for="changedfrom">Changed from</label>
<input id="changedfrom" type="text" class="text" size="10" name="changedfrom" value="" />

<a class="datelink" href="#" id="changedfromdateview">
  <!--<img src="" alt="Select Date" />-->
</a>
<script type="text/javascript">Calendar.setup({daFormat: '%Y-%m-%d',inputField: "changedfrom", button: "changedfromdateview"});</script>                        <label for="changedto">to</label>
<input id="changedto" type="text" class="text" size="10" name="changedto" value="" />

<a class="datelink" href="#" id="changedtodateview">
  <!--<img src="" alt="Select Date" />-->
</a>
<script type="text/javascript">Calendar.setup({daFormat: '%Y-%m-%d',inputField: "changedto", button: "changedtodateview"});</script>                    </div>
                    <div class="dateselect">
                        <label for="openedfrom">Opened from</label>
<input id="openedfrom" type="text" class="text" size="10" name="openedfrom" value="" />

<a class="datelink" href="#" id="openedfromdateview">
  <!--<img src="" alt="Select Date" />-->
</a>
<script type="text/javascript">Calendar.setup({daFormat: '%Y-%m-%d',inputField: "openedfrom", button: "openedfromdateview"});</script>                        <label for="openedto">to</label>
<input id="openedto" type="text" class="text" size="10" name="openedto" value="" />

<a class="datelink" href="#" id="openedtodateview">
  <!--<img src="" alt="Select Date" />-->
</a>
<script type="text/javascript">Calendar.setup({daFormat: '%Y-%m-%d',inputField: "openedto", button: "openedtodateview"});</script>                    </div>
                    <div class="dateselect">
                        <label for="closedfrom">Closed from</label>
<input id="closedfrom" type="text" class="text" size="10" name="closedfrom" value="" />

<a class="datelink" href="#" id="closedfromdateview">
  <!--<img src="" alt="Select Date" />-->
</a>
<script type="text/javascript">Calendar.setup({daFormat: '%Y-%m-%d',inputField: "closedfrom", button: "closedfromdateview"});</script>                        <label for="closedto">to</label>
<input id="closedto" type="text" class="text" size="10" name="closedto" value="" />

<a class="datelink" href="#" id="closedtodateview">
  <!--<img src="" alt="Select Date" />-->
</a>
<script type="text/javascript">Calendar.setup({daFormat: '%Y-%m-%d',inputField: "closedto", button: "closedtodateview"});</script>                    </div>
                </fieldset>
            </div>
</form>
<div id="tasklist">
<form action="https://bugs.openwrt.org/index.php?project=2" method="post" name="massops" enctype="multipart/form-data" id="massops"><input type="hidden" name="csrftoken" value="683508711" /><div>
<script type="text/javascript">
	var cX = 0; var cY = 0; var rX = 0; var rY = 0;
	function UpdateCursorPosition(e){ cX = e.pageX; cY = e.pageY;}
	function UpdateCursorPositionDocAll(e){ cX = e.clientX; cY = e.clientY;}
	if(document.all) { document.onmousemove = UpdateCursorPositionDocAll; }
	else { document.onmousemove = UpdateCursorPosition; }
	function AssignPosition(d) {
		if (self.pageYOffset) {
			rX = self.pageXOffset;
			rY = self.pageYOffset;
		} else if(document.documentElement && document.documentElement.scrollTop) {
			rX = document.documentElement.scrollLeft;
			rY = document.documentElement.scrollTop;
		} else if(document.body) {
			rX = document.body.scrollLeft;
			rY = document.body.scrollTop;
		}
		if (document.all) {
			cX += rX;
			cY += rY;
		}
		d.style.left = (cX+10) + "px";
		d.style.top = (cY+10) + "px";
	}
	function Show(elem, id) {
		if(cY == 0) return;
		var div = document.getElementById("desc_"+id);
		AssignPosition(div);
		div.style.display = "block";
	}
	function Hide(elem, id)	{
		document.getElementById("desc_"+id).style.display = "none";
	}
</script>	
<table id="tasklist_table">
<colgroup>
	<col class="caret" />
			<col class="dateopened" />
		<col class="id" />
		<col class="category" />
		<col class="tasktype" />
		<col class="priority" />
		<col class="severity" />
		<col class="summary" />
		<col class="reportedin" />
		<col class="status" />
	</colgroup>
<thead>
<tr>
	<th class="caret"></th>
	<th class="dateopened"><a title="Sort by this column" href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;order=dateopened&amp;sort=desc">Opened</a></th><th class="id"><a title="Sort by this column" href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;order=id&amp;sort=desc">ID</a></th><th class="category"><a title="Sort by this column" href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;order=category&amp;sort=asc">Category</a></th><th class="tasktype"><a title="Sort by this column" href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;order=tasktype&amp;sort=asc">Task Type</a></th><th class="priority"><a title="Sort by this column" href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;order=priority&amp;sort=desc">Priority</a></th><th class="severity"><a title="Sort by this column" href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;order=severity&amp;sort=desc">Severity</a></th><th class="summary"><a title="Sort by this column" href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;order=summary&amp;sort=desc">Summary</a></th><th class="reportedin"><a title="Sort by this column" href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;order=reportedin&amp;sort=desc">Reported In</a></th><th class="status"><a title="Sort by this column" href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;order=status&amp;sort=desc">Status</a></th></tr>
</thead>
<tbody>
<tr id="task3943" class="severity4">
	<td class="caret"></td>
	<td class='task_dateopened'>20.07.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3943" title="New | ujail breaks after some uptime | 0%" >3943</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev4'>High</td><td class='task_summary' onmouseover="Show(this,3943)" onmouseout="Hide(this, 3943)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3943" title="New | ujail breaks after some uptime | 0%" >ujail breaks after some uptime</a><i class="tag t2128 " title="dnsmasq ujail"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta2'>New</td>	<td id="desc_3943" class="descbox box">
	<b>Task Description</b>
	
<p>
When a device with procd-ujail installed has been running for a while (hit it today with 28d uptime), restarting dnsmasq results in dnsmasq no longer being started, there is only the ujail process. There are no errors displayed on stdout/stderr while restarting, nor in syslog.
</p>
<pre class="code">
root@ar0:~# /etc/init.d/dnsmasq restart
udhcpc: started, v1.33.1
udhcpc: sending discover
udhcpc: no lease, failing
udhcpc: started, v1.33.1
udhcpc: sending discover
udhcpc: no lease, failing
udhcpc: started, v1.33.1
udhcpc: sending discover
udhcpc: no lease, failing
udhcpc: started, v1.33.1
udhcpc: sending discover
udhcpc: no lease, failing
</pre>
<pre class="code">
Tue Jul 20 15:17:15 2021 user.notice dnsmasq: DNS rebinding protection is active, will discard upstream RFC1918 responses!
Tue Jul 20 15:17:15 2021 user.notice dnsmasq: Allowing 127.0.0.0/8 responses
Tue Jul 20 15:17:15 2021 user.notice dnsmasq: Allowing RFC1918 responses for domain plex.direct
</pre>
<pre class="code">
root@ar0:~# ps aux | grep dnsmasq
root     21289  0.0  0.0   2088   872 ?        S    15:17   0:00 /sbin/ujail -n dnsmasq -u -l -r /dev/null -r /dev/urandom -r /etc/TZ -r /etc/dnsmasq.conf -r /etc/ethers -r /etc/group -r /etc/hosts -r /etc/passwd -r /sbin/hotplug-call -r /tftpboot -r /tmp/dnsmasq.d -r /tmp/etc/dnsmasq.conf.main -r /tmp/hosts/dhcp.main -r /usr/lib/dnsmasq/dhcp-script.sh -r /usr/share/dnsmasq/dhcpbogushostname.conf -r /usr/share/dnsmasq/rfc6761.conf -r /usr/share/dnsmasq/trust-anchors.conf -w /var/lib/dhcp.leases -w /var/run/dnsmasq/ -- /usr/sbin/dnsmasq -C /tmp/etc/dnsmasq.conf.main -k -x /var/run/dnsmasq/dnsmasq.main.pid
root     21455  0.0  0.0   1132   468 pts/1    S+   15:19   0:00 grep dnsmasq
root@ar0:~# ss -anput | grep dnsmasq
root@ar0:~#
</pre>

<p>
Commenting out the lines in the init script starting with procd_add_jail and then restarting the service solves the problem. The problem also does not occur when dnsmasq is started during boot.
</p>

<p>
I&rsquo;ve seen this problem before, mentioned it a few times on <acronym title="Internet Relay Chat">IRC</acronym>, the first time was in October 2020, so before 21.02 was branched, so it&rsquo;s very likely this problem exists there as well.
</p>

<p>
I didn&rsquo;t reboot the system where I&rsquo;m currently experiencing this, I&rsquo;ve commented out the procd_add_jail lines instead. Uncommenting those lines brings back the problem, so further investigation is possible.
</p>

<p>
This seems to be a general problem with ujail, as even a simple echo refuses to start:
</p>
<pre class="code">
# ujail -d1 -n blah -r /tmp -- /bin/echo test
jail: adding mount /tmp /tmp bind(1) ro(1) err(0)
jail: Using namespaces(0x28020000), capabilities(0), seccomp(0)
jail: adding mount /bin/echo /bin/echo bind(1) ro(1) err(1)
jail: adding mount /lib/ld-musl-x86_64.so.1 /lib/ld-musl-x86_64.so.1 bind(1) ro(1) err(1)
jail: adding library /lib/libgcc_s.so.1 (libgcc_s.so.1)
jail: adding library /lib/libc.so (libc.so)
</pre>

<p>
The process hangs here until killed with kill -9.<br />Running in strace, the process hangs on epoll_pwait.<br />Backtrace with gdbserver:
</p>
<pre class="code">
#0  epoll_pwait (fd=3, ev=ev@entry=0x7ffff7f802c0 &lt;events&gt;, cnt=cnt@entry=10, to=1834444156, sigs=sigs@entry=0x0) at ./arch/x86_64/syscall_arch.h:61
#1  0x00007ffff7fa7ada in epoll_wait (fd=&lt;optimized out&gt;, ev=ev@entry=0x7ffff7f802c0 &lt;events&gt;, cnt=cnt@entry=10, to=&lt;optimized out&gt;)
    at src/linux/epoll.c:36
#2  0x00007ffff7f7805f in uloop_fetch_events (timeout=&lt;optimized out&gt;)
    at /home/stijn/Development/OpenWrt/openwrt/build_dir/target-x86_64_musl/libubox-2021-08-19-d716ac4b/uloop-epoll.c:73
#3  uloop_run_events (timeout=&lt;optimized out&gt;)
    at /home/stijn/Development/OpenWrt/openwrt/build_dir/target-x86_64_musl/libubox-2021-08-19-d716ac4b/uloop.c:170
#4  uloop_run_timeout (timeout=-1) at /home/stijn/Development/OpenWrt/openwrt/build_dir/target-x86_64_musl/libubox-2021-08-19-d716ac4b/uloop.c:555
#5  0x000055555555b915 in ?? ()
#6  0x00007ffff7f69bb8 in ?? ()
#7  0xffffffff01203ff2 in ?? ()
#8  0x00007ffff7ffd880 in ?? () from /home/stijn/Development/OpenWrt/openwrt/scripts/../staging_dir/target-x86_64_musl/root-x86/lib/ld-musl-x86_64.so.1
#9  0x00007ffff7fe30a0 in do_init_fini (queue=&lt;optimized out&gt;) at ldso/dynlink.c:1545
#10 0x00007ffff7ff80e0 in ?? () from /home/stijn/Development/OpenWrt/openwrt/scripts/../staging_dir/target-x86_64_musl/root-x86/lib/ld-musl-x86_64.so.1
#11 0x00007fffffffecb8 in ?? ()
#12 0x00007ffff7fa5d3c in libc_start_main_stage2 (main=0x6b77814f93720b1f, argc=1431674893, argv=0x55555555a00d) at src/env/__libc_start_main.c:94
#13 0x000055555555ba5b in ?? ()
#14 0x0000000000000008 in ?? ()
#15 0x00007fffffffeeca in ?? ()
#16 0x00007fffffffeed6 in ?? ()
#17 0x00007fffffffeed9 in ?? ()
#18 0x00007fffffffeede in ?? ()
#19 0x00007fffffffeee1 in ?? ()
#20 0x00007fffffffeee6 in ?? ()
#21 0x00007fffffffeee9 in ?? ()
#22 0x00007fffffffeef3 in ?? ()
#23 0x0000000000000000 in ?? ()
</pre>
	</td>
</tr>
<tr id="task3559" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>02.01.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3559" title="New | uclient-fetch fails to download more than 2 files | 0%" >3559</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,3559)" onmouseout="Hide(this, 3559)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3559" title="New | uclient-fetch fails to download more than 2 files | 0%" >uclient-fetch fails to download more than 2 files</a><i class="tag t1943 " title="uclient-fetch"></i></td><td class='task_reportedin'>All</td><td class='task_status sta2'>New</td>	<td id="desc_3559" class="descbox box">
	<b>Task Description</b>
	
<p>
uclient-fetch has support for downloading several files:
</p>
<pre class="code">
uclient-fetch URL1 URL2 URL3 ...
</pre>

<p>
However, this only works for the first two URLs. The third and above URLs simply cause uclient-fetch to re-download the second <acronym title="Uniform Resource Locator">URL</acronym> again.
</p>

<p>
In addition, only the first <acronym title="Uniform Resource Locator">URL</acronym> is checked for validity. If a subsequent <acronym title="Uniform Resource Locator">URL</acronym> is invalid, then the previous <acronym title="Uniform Resource Locator">URL</acronym> is re-used:
</p>
<pre class="code">
uclient-fetch http://example.com invalid
</pre>

<p>
This example will download <a href="http://example.com" class="urlextern" title="http://example.com">http://example.com</a> twice.<br />
</p>
	</td>
</tr>
<tr id="task3552" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>01.01.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3552" title="New | Linksys RE6500 bootloops with latest snapshots | 0%" >3552</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,3552)" onmouseout="Hide(this, 3552)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3552" title="New | Linksys RE6500 bootloops with latest snapshots | 0%" >Linksys RE6500 bootloops with latest snapshots</a><i class="tag t238 " title="mt7621"></i><i class="tag t164" title="ramips"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta2'>New</td>	<td id="desc_3552" class="descbox box">
	<b>Task Description</b>
	
<p>
The RE6500 was working fine on an old 19.07 snapshot: OpenWrt 19.07-SNAPSHOT r10578-b3d70f628b
</p>

<p>
I sysupgraded to latest snapshot and it does not come up. Judging from the LEDs, it seems to bootloop.
</p>

<p>
Booting the latest snapshot initramfs through TFTP works. I sysupgraded again from the initramfs, and it still bootloops.
</p>

<p>
Possibly related to <a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3539" title="Unconfirmed | ramips/mt7620 snapshot does not boot | 0%" >FS#3539</a>. I will try to get a serial output to see what happens.<br />
</p>
	</td>
</tr>
<tr id="task3070" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>08.05.2020</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3070" title="New | kmod-cryptodev: WARNING: possible circular locking dependency de | 0%" >3070</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,3070)" onmouseout="Hide(this, 3070)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3070" title="New | kmod-cryptodev: WARNING: possible circular locking dependency de | 0%" >kmod-cryptodev: WARNING: possible circular locking depe</a>...</td><td class='task_reportedin'>Trunk</td><td class='task_status sta2'>New</td>	<td id="desc_3070" class="descbox box">
	<b>Task Description</b>
	
<p>
OpenWrt master r13174-73fa1aba94 on octeon with kernel 5.4
</p>
<pre class="code">
[   70.971145] 
[   70.972662] ======================================================
[   70.978843] WARNING: possible circular locking dependency detected
[   70.985029] 5.4.39 #0 Not tainted
[   70.988348] ------------------------------------------------------
[   70.994531] unbound/2895 is trying to acquire lock:
[   70.999414] 800000041baeb868 (&amp;pcr-&gt;fcrypt.sem){+.+.}, at: crypto_get_session_by_sid+0x40/0x12b8 [cryptodev]
[   71.009267] 
[   71.009267] but task is already holding lock:
[   71.015103] 800000041b911468 (&amp;ses_new-&gt;sem){+.+.}, at: crypto_get_session_by_sid+0xbc/0x12b8 [cryptodev]
[   71.024691] 
[   71.024691] which lock already depends on the new lock.
[   71.024691] 
[   71.032866] 
[   71.032866] the existing dependency chain (in reverse order) is:
[   71.040347] 
[   71.040347] -&gt; #1 (&amp;ses_new-&gt;sem){+.+.}:
[   71.045773]        lock_acquire+0xe0/0x220
[   71.049888]        __mutex_lock+0x94/0x628
[   71.054001]        crypto_get_session_by_sid+0xbc/0x12b8 [cryptodev]
[   71.060365]        crypto_get_session_by_sid+0x1e4/0x12b8 [cryptodev]
[   71.066806]
[   71.066806] -&gt; #0 (&amp;pcr-&gt;fcrypt.sem){+.+.}:
[   71.072485]        check_noncircular+0x1a8/0x260
[   71.077110]        __lock_acquire+0x12f8/0x19f8
[   71.081648]        lock_acquire+0xe0/0x220
[   71.085754]        __mutex_lock+0x94/0x628
[   71.089862]        crypto_get_session_by_sid+0x40/0x12b8 [cryptodev]
[   71.096226]        crypto_get_session_by_sid+0x6cc/0x12b8 [cryptodev]
[   71.102666]
[   71.102666] other info that might help us debug this:
[   71.102666]
[   71.110668]  Possible unsafe locking scenario:
[   71.110668]
[   71.116588]        CPU0                    CPU1
[   71.121119]        ----                    ----
[   71.125650]   lock(&amp;ses_new-&gt;sem);
[   71.129058]                                lock(&amp;pcr-&gt;fcrypt.sem);
[   71.135242]                                lock(&amp;ses_new-&gt;sem);
[   71.141165]   lock(&amp;pcr-&gt;fcrypt.sem);
[   71.144834]
[   71.144834]  *** DEADLOCK ***
[   71.144834]
[   71.150756] 1 lock held by unbound/2895:
[   71.154681]  #0: 800000041b911468 (&amp;ses_new-&gt;sem){+.+.}, at: crypto_get_session_by_sid+0xbc/0x12b8 [cryptodev]
[   71.164700]
[   71.164700] stack backtrace:
[   71.169067] CPU: 1 PID: 2895 Comm: unbound Not tainted 5.4.39 #0
[   71.175075] Stack : ffffffff82790000 0000000000000000 0000000010108ce0 ed34220aed96997f
[   71.183091]         ed34220aed96997f 0000000000000000 800000041bb976f8 ffffffff837d0000
[   71.191106]         0000000000000000 0000000000000001 0000000000000000 ffffffff811ac4bc
[   71.199118]         6e626f756e64204e 0000000000000000 ffffffffffffffff 0000000000000010
[   71.207132]         0000000000000000 ffffffff81b40000 fffe000000000000 ffffffff81bc0000
[   71.215145]         0000000000000000 0000000000000000 ffffffff81b40000 0000000000000000
[   71.223158]         800000041f2e6200 0000000000000000 ffffffff81597628 1e00000010734ac7
[   71.231173]         0000000000000001 800000041bb94000 800000041bb976f0 47500c0a872e7996
[   71.239186]         ffffffff81865d8c 0000000000000000 800000041bb97828 ed34220aed96997f
[   71.247198]         ffffffff81b40bf7 ffffffff81865c54 ffffffff8111d4c8 ffffffff81a42a50
[   71.255213]         ...
[   71.257668] Call Trace:
[   71.260136] [&lt;ffffffff8111d4c8&gt;] show_stack+0x40/0x128
[   71.265288] [&lt;ffffffff81865d8c&gt;] dump_stack+0xe4/0x150
[   71.270444] [&lt;ffffffff8119fb58&gt;] check_noncircular+0x1a8/0x260
[   71.276289] [&lt;ffffffff811a2d38&gt;] __lock_acquire+0x12f8/0x19f8
[   71.282046] [&lt;ffffffff811a3d80&gt;] lock_acquire+0xe0/0x220
[   71.287374] [&lt;ffffffff8188532c&gt;] __mutex_lock+0x94/0x628
[   71.292706] [&lt;ffffffffc02a7638&gt;] crypto_get_session_by_sid+0x40/0x12b8 [cryptodev]
[   71.300290] [&lt;ffffffffc02a7cc4&gt;] crypto_get_session_by_sid+0x6cc/0x12b8 [cryptodev]
</pre>
	</td>
</tr>
<tr id="task2690" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>21.12.2019</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2690" title="New | Imagebuilder: &quot;opkg_install_pkg: Package size mismatch&quot; error | 0%" >2690</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,2690)" onmouseout="Hide(this, 2690)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2690" title="New | Imagebuilder: &quot;opkg_install_pkg: Package size mismatch&quot; error | 0%" >Imagebuilder: &quot;opkg_install_pkg: Package size mismatch&quot;</a>...<i class="tag t387 " title="imagebuilder"></i><i class="tag t133" title="opkg"></i></td><td class='task_reportedin'>All</td><td class='task_status sta2'>New</td>	<td id="desc_2690" class="descbox box">
	<b>Task Description</b>
	
<p>
The Imagebuilder fails in the following situation: 
</p>
<ul>
<li class="level1"><div class="li"> download and unpack the imagebuilder</div>
</li>
<li class="level1"><div class="li"> build an image: <strong>it works</strong></div>
</li>
<li class="level1"><div class="li"> wait a few days/weeks</div>
</li>
<li class="level1"><div class="li"> try to build an image again with the same imagebuilder: <strong>it fails</strong></div>
</li>
</ul>

<p>
 It fails quite late during building with lots of errors like this:
</p>
<pre class="code">   opkg_install_pkg: Package size mismatch: libubox is 19365 bytes, expecting 19361 bytes
   opkg_install_cmd: Cannot install package luci.
   opkg_install_pkg: Package size mismatch: libuci is 15454 bytes, expecting 15461 bytes
   opkg_install_cmd: Cannot install package base-files.
   opkg_install_pkg: Package size mismatch: busybox is 212951 bytes, expecting 212973 bytes
   opkg_install_cmd: Cannot install package busybox.</pre>

<p>
This happens with stable releases (18.06.5), RC releases (19.07.0-rc2), and with several targets.
</p>

<p>
It looks like package sizes are somehow kept in a local cache during the first build, and are not updated when building again a few days later. This is strange because the imagebuilder seems to fetch new versions of the <code>Packages.gz</code> files.
</p>

<p>
Below is the full log. 
</p>
<pre class="code">  $ make image PROFILE=rb-nor-flash-16M&quot;&quot; BIN_DIR=&quot;${IMAGEBUILDER_DIR}&quot; EXTRA_IMAGE_NAME=&quot;rzn&quot; FILES=&quot;files/&quot; PACKAGES=&quot;luci luci-mod-admin-full luci-i18n-base-en luci-i18n-base-fr luci-i18n-firewall-fr -ppp -ppp-mod-pppoe -kmod-ppp -kmod-pppoe -kmod-pppox&quot;
  
  Building images for ar71xx - MikroTik RouterBoard (16 MB SPI NOR)
  Packages: luci luci-mod-admin-full luci-i18n-base-en luci-i18n-base-fr luci-i18n-firewall-fr base-files busybox dnsmasq dropbear firewall fstools ip6tables iptables kernel kmod-ath9k kmod-gpio-button-hotplug kmod-ledtrig-gpio libc libgcc logd mtd netifd odhcp6c odhcpd-ipv6only opkg rbcfg rssileds swconfig uboot-envtools uci uclient-fetch wpad-mini
  
  Downloading http://downloads.openwrt.org/releases/18.06.5/targets/ar71xx/mikrotik/packages/Packages.gz
  Updated list of available packages in /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/build_dir/target-mips_24kc_musl/root-ar71xx/../../../../../../../../../home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/openwrt_core
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/base/Packages.gz
  Updated list of available packages in /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/build_dir/target-mips_24kc_musl/root-ar71xx/../../../../../../../../../home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/openwrt_base
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/luci/Packages.gz
  Updated list of available packages in /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/build_dir/target-mips_24kc_musl/root-ar71xx/../../../../../../../../../home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/openwrt_luci
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/packages/Packages.gz
  Updated list of available packages in /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/build_dir/target-mips_24kc_musl/root-ar71xx/../../../../../../../../../home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/openwrt_packages
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/routing/Packages.gz
  Updated list of available packages in /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/build_dir/target-mips_24kc_musl/root-ar71xx/../../../../../../../../../home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/openwrt_routing
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/telephony/Packages.gz
  Updated list of available packages in /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/build_dir/target-mips_24kc_musl/root-ar71xx/../../../../../../../../../home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/openwrt_telephony
  Downloading file:packages/Packages
  Updated list of available packages in /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/build_dir/target-mips_24kc_musl/root-ar71xx/../../../../../../../../../home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/imagebuilder
  
  Installing packages...
  Installing libc (1.1.19-2) to root...
  Installing libgcc (7.3.0-2) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/libgcc_7.3.0-2_mips_24kc.ipk.
  Configuring libgcc.
  Configuring libc.
  Installing kernel (4.9.198-1-3ba2e8c5db2fc4389b537731cf37120c) to root...
  Configuring kernel.
  Installing luci (git-19.353.67991-868abc1-1) to root...
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/luci/luci_git-19.353.67991-868abc1-1_all.ipk
  Installing libubox (2018-07-25-c83a84af-2) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/libubox_2018-07-25-c83a84af-2_mips_24kc.ipk.
  Installing luci-mod-admin-full (git-19.353.67991-868abc1-1) to root...
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/luci/luci-mod-admin-full_git-19.353.67991-868abc1-1_mips_24kc.ipk
  Installing luci-i18n-base-en (git-19.353.67991-868abc1-1) to root...
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/luci/luci-i18n-base-en_git-19.353.67991-868abc1-1_all.ipk
  Installing luci-base (git-19.353.67991-868abc1-1) to root...
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/luci/luci-base_git-19.353.67991-868abc1-1_mips_24kc.ipk
  Installing luci-i18n-base-fr (git-19.353.67991-868abc1-1) to root...
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/luci/luci-i18n-base-fr_git-19.353.67991-868abc1-1_all.ipk
  Installing luci-i18n-firewall-fr (git-19.353.67991-868abc1-1) to root...
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/luci/luci-i18n-firewall-fr_git-19.353.67991-868abc1-1_all.ipk
  Installing luci-app-firewall (git-19.353.67991-868abc1-1) to root...
  Downloading http://downloads.openwrt.org/releases/18.06.5/packages/mips_24kc/luci/luci-app-firewall_git-19.353.67991-868abc1-1_all.ipk
  Installing base-files (194.2-r7897-9d401013fc) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/base-files_194.2-r7897-9d401013fc_mips_24kc.ipk.
  Installing libuci (2019-05-17-f199b961-1) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/libuci_2019-05-17-f199b961-1_mips_24kc.ipk.
  Installing busybox (1.28.4-3) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/busybox_1.28.4-3_mips_24kc.ipk.
  Installing dnsmasq (2.80-1.4) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/dnsmasq_2.80-1.4_mips_24kc.ipk.
  Installing dropbear (2017.75-7.1) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/dropbear_2017.75-7.1_mips_24kc.ipk.
  Installing firewall (2018-08-13-1c4d5bcd-1) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/firewall_2018-08-13-1c4d5bcd-1_mips_24kc.ipk.
  Installing fstools (2019-03-28-ff1ded63-5) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/fstools_2019-03-28-ff1ded63-5_mips_24kc.ipk.
  Installing ip6tables (1.6.2-3) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/ip6tables_1.6.2-3_mips_24kc.ipk.
  Installing kmod-nf-reject6 (4.9.198-1) to root...
  Downloading file:packages/kmod-nf-reject6_4.9.198-1_mips_24kc.ipk
  Installing kmod-nf-ipt (4.9.198-1) to root...
  Downloading file:packages/kmod-nf-ipt_4.9.198-1_mips_24kc.ipk
  Installing kmod-nf-ipt6 (4.9.198-1) to root...
  Downloading file:packages/kmod-nf-ipt6_4.9.198-1_mips_24kc.ipk
  Installing kmod-ipt-core (4.9.198-1) to root...
  Downloading file:packages/kmod-ipt-core_4.9.198-1_mips_24kc.ipk
  Installing kmod-ip6tables (4.9.198-1) to root...
  Downloading file:packages/kmod-ip6tables_4.9.198-1_mips_24kc.ipk
  Installing libip4tc (1.6.2-3) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/libip4tc_1.6.2-3_mips_24kc.ipk.
  Installing libip6tc (1.6.2-3) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/libip6tc_1.6.2-3_mips_24kc.ipk.
  Installing libxtables (1.6.2-3) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/libxtables_1.6.2-3_mips_24kc.ipk.
  Installing iptables (1.6.2-3) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/iptables_1.6.2-3_mips_24kc.ipk.
  Package iptables (1.6.2-3) installed in root is up to date.
  Package kernel (4.9.198-1-3ba2e8c5db2fc4389b537731cf37120c) installed in root is up to date.
  Installing kmod-ath9k (4.9.198+2017-11-01-10) to root...
  Downloading file:packages/kmod-ath9k_4.9.198%2b2017-11-01-10_mips_24kc.ipk
  Installing libnl-tiny (0.1-5) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/libnl-tiny_0.1-5_mips_24kc.ipk.
  Installing kmod-gpio-button-hotplug (4.9.198-2) to root...
  Downloading file:packages/kmod-gpio-button-hotplug_4.9.198-2_mips_24kc.ipk
  Installing kmod-ledtrig-gpio (4.9.198-1) to root...
  Downloading file:packages/kmod-ledtrig-gpio_4.9.198-1_mips_24kc.ipk
  Package libc (1.1.19-2) installed in root is up to date.
  Package libgcc (7.3.0-2) installed in root is up to date.
  Installing logd (2018-02-14-128bc35f-2) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/logd_2018-02-14-128bc35f-2_mips_24kc.ipk.
  Installing mtd (23) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/mtd_23_mips_24kc.ipk.
  Installing libubox (2018-07-25-c83a84af-2) to root...
  Installing netifd (2019-01-31-a2aba5c7-2.1) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/netifd_2019-01-31-a2aba5c7-2.1_mips_24kc.ipk.
  Installing odhcp6c (2018-07-14-67ae6a71-15) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/odhcp6c_2018-07-14-67ae6a71-15_mips_24kc.ipk.
  Installing odhcpd-ipv6only (1.15-3) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/odhcpd-ipv6only_1.15-3_mips_24kc.ipk.
  Installing opkg (2019-06-14-dcbc142e-1) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/opkg_2019-06-14-dcbc142e-1_mips_24kc.ipk.
  Installing rbcfg (2) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/rbcfg_2_mips_24kc.ipk.
  Installing rssileds (0.2-1) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/rssileds_0.2-1_mips_24kc.ipk.
  Installing swconfig (11) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/swconfig_11_mips_24kc.ipk.
  Installing uboot-envtools (2018.03-1) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/uboot-envtools_2018.03-1_mips_24kc.ipk.
  Installing uci (2019-05-17-f199b961-1) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/uci_2019-05-17-f199b961-1_mips_24kc.ipk.
  Installing uclient-fetch (2018-11-24-3ba74ebc-1) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/uclient-fetch_2018-11-24-3ba74ebc-1_mips_24kc.ipk.
  Installing wpad-mini (2018-05-21-62566bc2-8) to root...
  Copying /home/foo/doc/openwrt_imagebuilder/openwrt-imagebuilder-18.06.5-ar71xx-mikrotik.Linux-x86_64/dl/wpad-mini_2018-05-21-62566bc2-8_mips_24kc.ipk.
  Configuring kmod-nf-reject6.
  Configuring uboot-envtools.
  Configuring kmod-ledtrig-gpio.
  Configuring rbcfg.
  Configuring luci-app-firewall.
  Configuring kmod-nf-ipt.
  Configuring libxtables.
  Configuring libip4tc.
  Configuring kmod-nf-ipt6.
  Configuring kmod-ipt-core.
  Configuring kmod-ip6tables.
  Configuring fstools.
  Configuring libip6tc.
  Configuring luci-base.
  Configuring luci-mod-admin-full.
  Configuring kmod-gpio-button-hotplug.
  Configuring luci-i18n-firewall-fr.
  Configuring iptables.
  Configuring ip6tables.
  Configuring luci-i18n-base-en.
  Configuring luci-i18n-base-fr.
  Collected errors:
   * opkg_install_pkg: Package size mismatch: libubox is 19365 bytes, expecting 19361 bytes
   * opkg_install_cmd: Cannot install package luci.
   * opkg_install_pkg: Package size mismatch: libuci is 15454 bytes, expecting 15461 bytes
   * opkg_install_cmd: Cannot install package base-files.
   * opkg_install_pkg: Package size mismatch: busybox is 212951 bytes, expecting 212973 bytes
   * opkg_install_cmd: Cannot install package busybox.
   * opkg_install_pkg: Package size mismatch: dnsmasq is 99783 bytes, expecting 99775 bytes
   * opkg_install_cmd: Cannot install package dnsmasq.
   * opkg_install_pkg: Package size mismatch: dropbear is 86613 bytes, expecting 86610 bytes
   * opkg_install_cmd: Cannot install package dropbear.
   * opkg_install_pkg: Package size mismatch: firewall is 40776 bytes, expecting 40777 bytes
   * opkg_install_cmd: Cannot install package firewall.
   * opkg_install_pkg: Package size mismatch: libnl-tiny is 12953 bytes, expecting 12948 bytes
   * opkg_install_cmd: Cannot install package kmod-ath9k.
   * opkg_install_pkg: Package size mismatch: logd is 10114 bytes, expecting 10111 bytes
   * opkg_install_cmd: Cannot install package logd.
   * opkg_install_pkg: Package size mismatch: libubox is 19365 bytes, expecting 19361 bytes
   * opkg_install_cmd: Cannot install package mtd.
   * opkg_install_pkg: Package size mismatch: netifd is 62005 bytes, expecting 62004 bytes
   * opkg_install_cmd: Cannot install package netifd.
   * opkg_install_pkg: Package size mismatch: odhcp6c is 23650 bytes, expecting 23646 bytes
   * opkg_install_cmd: Cannot install package odhcp6c.
   * opkg_install_pkg: Package size mismatch: odhcpd-ipv6only is 28830 bytes, expecting 28845 bytes
   * opkg_install_cmd: Cannot install package odhcpd-ipv6only.
   * opkg_install_pkg: Package size mismatch: opkg is 58890 bytes, expecting 58895 bytes
   * opkg_install_cmd: Cannot install package opkg.
   * opkg_install_pkg: Package size mismatch: rssileds is 4056 bytes, expecting 4059 bytes
   * opkg_install_cmd: Cannot install package rssileds.
   * opkg_install_pkg: Package size mismatch: swconfig is 9478 bytes, expecting 9484 bytes
   * opkg_install_cmd: Cannot install package swconfig.
   * opkg_install_pkg: Package size mismatch: uci is 7267 bytes, expecting 7262 bytes
   * opkg_install_cmd: Cannot install package uci.
   * opkg_install_pkg: Package size mismatch: uclient-fetch is 7489 bytes, expecting 7485 bytes
   * opkg_install_cmd: Cannot install package uclient-fetch.
   * opkg_install_pkg: Package size mismatch: wpad-mini is 258733 bytes, expecting 258725 bytes
   * opkg_install_cmd: Cannot install package wpad-mini.
  make[2]: *** [Makefile:153: package_install] Error 255
  make[1]: *** [Makefile:114: _call_image] Error 2
  make: *** [Makefile:193: image] Error 2</pre>
	</td>
</tr>
<tr id="task2541" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>09.10.2019</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2541" title="New | Hardware offloading causes some flows to fail to be NAT-ed | 0%" >2541</a></td><td class='task_category'>Kernel</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,2541)" onmouseout="Hide(this, 2541)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2541" title="New | Hardware offloading causes some flows to fail to be NAT-ed | 0%" >Hardware offloading causes some flows to fail to be NAT</a>...<i class="tag t1258 " title="hw offloading"></i><i class="tag t238" title="mt7621"></i></td><td class='task_reportedin'>openwrt-19.07</td><td class='task_status sta2'>New</td>	<td id="desc_2541" class="descbox box">
	<b>Task Description</b>
	
<p>
Just after a reboot, some flows are not NATed: packets from a machine in the LAN are sent to the <acronym title="Wide Area Network">WAN</acronym> port with a private source IP address.
</p>

<p>
This is on a Linksys RE6500 (ramips mt7621) running openwrt 19.07-SNAPSHOT r10578-b3d70f628.<br />It is configured with <code>flow_offloading</code> and <code>flow_offloading_hw</code>.
</p>

<p>
Here is a tcpdump capture showing the problem on the <acronym title="Wide Area Network">WAN</acronym> port (<code>172.23.184.0/24</code> is my LAN address space):
</p>
<pre class="code">root@openwrt:~# tcpdump -n -i eth0.20 net 172.23.184.0/24
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on eth0.20, link-type EN10MB (Ethernet), capture size 262144 bytes
18:51:21.756552 IP 172.23.184.119.51001 &gt; 91.224.XX.YY.52001: UDP, length 112
18:51:22.651556 IP 172.23.184.119.51001 &gt; 91.224.XX.YY.52001: UDP, length 148
18:51:26.681032 IP 172.23.184.119.51001 &gt; 91.224.XX.YY.52001: UDP, length 768
18:51:27.771654 IP 172.23.184.119.51001 &gt; 91.224.XX.YY.52001: UDP, length 148</pre>

<p>
Here is what <code>conntrack -L</code> says:
</p>
<pre class="code">udp      17 55 src=172.23.184.119 dst=91.224.XX.YY sport=51001 dport=52001 packets=93 bytes=20412 [UNREPLIED] src=91.224.XX.YY dst=172.23.184.119 sport=52001 dport=51001 packets=0 bytes=0 mark=0 use=1</pre>

<p>
Notice the second <code>dst=</code> that shows the private IP address of the LAN machine.
</p>

<p>
After restarting the firewall, the flow is correctly NAT-ed and <code>conntrack -L</code> shows the correct entry (193.33.ZZ.WW is my public IP address):
</p>
<pre class="code">udp      17 175 src=172.23.184.119 dst=91.224.XX.YY sport=51001 dport=52001 packets=4 bytes=704 [UNREPLIED] src=91.224.XX.YY dst=193.33.ZZ.WW sport=52001 dport=51001 packets=0 bytes=0 mark=0 use=1</pre>

<p>
 <strong>Note:</strong> when I only enable <code>flow_offloading</code>, the issue does not appear anymore, so this really seems to be an issue with the hw offloading integration in the firewall.<br />
</p>
	</td>
</tr>
<tr id="task2283" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>14.05.2019</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2283" title="Assigned | m76: crash when creating an additional monitor interface | 0%" >2283</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,2283)" onmouseout="Hide(this, 2283)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2283" title="Assigned | m76: crash when creating an additional monitor interface | 0%" >m76: crash when creating an additional monitor interfac</a>...<i class="tag t114 " title="mt76"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta3'>Assigned</td>	<td id="desc_2283" class="descbox box">
	<b>Task Description</b>
	
<p>
OpenWrt: b65a270c851ee422f26a0af10c879ebb87cb8f76<br />mt76: 4.14.108+2019-03-27-a11b6734-1
</p>

<p>
While debugging an unicast wifi bug, I tried to create a mon0 interface<br />iw wlan0 interface add mon0 type monitor.
</p>
<pre class="code">
Modules:	mt7603e@830f0000+87a0	mt76@83128000+6060	mac80211@83080000+6a240	iptable_raw@83111000+2e0	iptable_nat@831c5000+340	iptable_mangle@83bd7000+400	iptable_filter@83135000+360	ipt_REJECT@831c3000+3a0	ipt_MASQUERADE@8311f000+280	ipt_ECN@83bca000+560	ip_tables@831c0000+2650	cfg80211@83000000+35fb0	xt_time@83bbd000+6c0	xt_tcpudp@83baa000+6e0	xt_tcpmss@831ac000+400	xt_statistic@8311d000+320	xt_state@83151000+2a0xt_recent@831ae000+1bf0	xt_nat@83bd0000+5e0	xt_multiport@83bd6000+4e0	xt_mark@83134000+280	xt_mac@83bd3000+240	xt_limit@8315f000+480	xt_length@83125000+2a0	xt_hl@83132000+300	xt_helper@83126000+340	xt_ecn@83127000+520	xt_dscp@8313c000+3c0	xt_conntrack@83ba8000+8e0	xt_connmark@8311c000+420	xt_connlimit@83136000+1110	xt_connbytes@83bcd000+620	xt_comment@83117000+1c0	xt_TCPMSS@83bd2000+800	xt_REDIRECT@83bce000+2a0	xt_LOG@83bcc000+280	xt_HL@83bc9000+520	xt_FLOWOFFLOAD@83bc7000+ab0	xt_DSCP@8313b000+5c0	xt_CT@8313d000+9e0	xt_CLASSIFY@83131000+220	x_tables@83bc0000+30f0	nf_reject_ipv4@83130000+780	nf_nat_redirect@8311e000+560	nf_nat_masquerade_ipv4@83bac000+590	nf_conntrack_ipv4@83bb8000+1100	nf_nat_ipv4@83bba000+c70	nf_nat@83120000+2250	nf_log_ipv4@83bad000+dc0	nf_log_common@83116000+980	nf_flow_table_hw@83bbe000+820	nf_flow_table@83ba4000+3310	nf_defrag_ipv4@83153000+3e0	nf_conntrack_rtcache@83112000+8a0	compat@83118000+1700	act_connmark@83113000+850	nf_conntrack@83100000+d2c0	sch_tbf@8314e000+1680	sch_ingress@8314a000+4a0	sch_htb@83ba0000+36d0	sch_hfsc@83158000+39e0	em_u32@831ba000+200	cls_u32@83154000+2330	cls_tcindex@8314c000+15c0	cls_route@831be000+1540	cls_matchall@831a3000+a20	cls_fw@83144000+1000	cls_flow@83148000+1780	cls_basic@831bb000+d00	act_skbedit@831b4000+9f0	act_mirred@831b5000+e50	ifb@831a0000+be0	l2tp_ip@8316e000+1410	l2tp_eth@831a4000+a00	l2tp_netlink@831a6000+1f90	l2tp_core@831a8000+3110	udp_tunnel@83b99000+920	leds_gpio@83b4f000+b20	gpio_button_hotplug@83b50000+1900
&lt;6&gt;[    0.191477] UDP hash table entries: 256 (order: 0, 4096 bytes)
&lt;6&gt;[    0.197077] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
&lt;6&gt;[    0.203431] NET: Registered protocol family 1
&lt;7&gt;[    0.207612] PCI: CLS 0 bytes, default 32
&lt;4&gt;[    0.210849] Crashlog allocated RAM at address 0x3f00000
&lt;6&gt;[    0.217463] workingset: timestamp_bits=30 max_order=14 bucket_order=0
&lt;6&gt;[    0.229138] squashfs: version 4.0 (2009/01/31) Phillip Lougher
&lt;6&gt;[    0.234765] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
&lt;6&gt;[    0.254072] io scheduler noop registered
&lt;6&gt;[    0.257804] io scheduler deadline registered (default)
&lt;6&gt;[    0.263580] Serial: 8250/16550 driver, 3 ports, IRQ sharing disabled
&lt;6&gt;[    0.270756] console [ttyS0] disabled
&lt;6&gt;[    0.274257] 10000c00.uartlite: ttyS0 at MMIO 0x10000c00 (irq = 28, base_baud = 2500000) is a 16550A
&lt;6&gt;[    0.282984] console [ttyS0] enabled
&lt;6&gt;[    0.289970] bootconsole [early0] disabled
&lt;3&gt;[    0.298544] cacheinfo: Failed to find cpu0 device node
&lt;4&gt;[    0.303799] cacheinfo: Unable to detect cache hierarchy for CPU 0
&lt;6&gt;[    0.310628] spi-mt7621 10000b00.spi: sys_freq: 193333333
&lt;6&gt;[    0.329261] m25p80 spi0.0: s25fl064k (8192 Kbytes)
&lt;5&gt;[    0.334207] 4 fixed-partitions partitions found on MTD device spi0.0
&lt;5&gt;[    0.340643] Creating 4 MTD partitions on &quot;spi0.0&quot;:
&lt;5&gt;[    0.345526] 0x000000000000-0x000000020000 : &quot;boot&quot;
&lt;5&gt;[    0.351255] 0x000000020000-0x0000007c0000 : &quot;firmware&quot;
&lt;5&gt;[    0.359405] 2 tplink-fw partitions found on MTD device firmware
&lt;5&gt;[    0.365482] Creating 2 MTD partitions on &quot;firmware&quot;:
&lt;5&gt;[    0.370527] 0x000000000000-0x00000014f3a3 : &quot;kernel&quot;
&lt;5&gt;[    0.376451] 0x00000014f3a4-0x0000007a0000 : &quot;rootfs&quot;
&lt;5&gt;[    0.382277] mtd: device 3 (rootfs) set to be root filesystem
&lt;5&gt;[    0.389534] 1 squashfs-split partitions found on MTD device rootfs
&lt;5&gt;[    0.395888] 0x000000390000-0x0000007a0000 : &quot;rootfs_data&quot;
&lt;5&gt;[    0.402220] 0x0000007c0000-0x0000007d0000 : &quot;config&quot;
&lt;5&gt;[    0.408051] 0x0000007d0000-0x000000800000 : &quot;factory&quot;
&lt;6&gt;[    0.414688] libphy: Fixed MDIO Bus: probed
&lt;6&gt;[    0.431000] rt3050-esw 10110000.esw: link changed 0x00
&lt;6&gt;[    0.437801] mtk_soc_eth 10100000.ethernet eth0: mediatek frame engine at 0xb0100000, irq 5
&lt;6&gt;[    0.447188] NET: Registered protocol family 17
&lt;6&gt;[    0.451831] 8021q: 802.1Q VLAN Support v1.8
&lt;6&gt;[    0.468953] VFS: Mounted root (squashfs filesystem) readonly on device 31:3.
&lt;6&gt;[    0.476929] Freeing unused kernel memory: 136K
&lt;4&gt;[    0.481474] This architecture does not have kernel memory protection.
&lt;14&gt;[    1.719920] init: Console is alive
&lt;14&gt;[    1.723707] init: - watchdog -
&lt;5&gt;[    2.267376] random: fast init done
&lt;14&gt;[    3.000227] kmodloader: loading kernel modules from /etc/modules-boot.d/*
&lt;14&gt;[    3.073195] kmodloader: done loading kernel modules from /etc/modules-boot.d/*
&lt;14&gt;[    3.091032] init: - preinit -
&lt;6&gt;[    4.256850] rt3050-esw 10110000.esw: link changed 0x00
&lt;5&gt;[    4.687762] random: procd: uninitialized urandom read (4 bytes read)
&lt;13&gt;[    4.780523] mount_root: jffs2 not ready yet, using temporary tmpfs overlay
&lt;12&gt;[    4.822673] urandom-seed: Seed file not found (/etc/urandom.seed)
&lt;14&gt;[    4.918017] procd: - early -
&lt;14&gt;[    4.921055] procd: - watchdog -
&lt;14&gt;[    5.550307] procd: - watchdog -
&lt;14&gt;[    5.553880] procd: - ubus -
&lt;5&gt;[    5.600493] random: ubusd: uninitialized urandom read (4 bytes read)
&lt;5&gt;[    5.667639] random: ubusd: uninitialized urandom read (4 bytes read)
&lt;14&gt;[    5.675598] procd: - init -
&lt;14&gt;[    6.002174] kmodloader: loading kernel modules from /etc/modules.d/*
&lt;6&gt;[    6.011883] l2tp_core: L2TP core driver, V2.0
&lt;6&gt;[    6.017941] l2tp_netlink: L2TP netlink interface
&lt;6&gt;[    6.024375] l2tp_eth: L2TP ethernet pseudowire support (L2TPv3)
&lt;6&gt;[    6.032295] l2tp_ip: L2TP IP encapsulation support (L2TPv3)
&lt;6&gt;[    6.044769] Mirror/redirect action on
&lt;6&gt;[    6.141161] u32 classifier
&lt;6&gt;[    6.143986]     input device check on
&lt;6&gt;[    6.147693]     Actions configured
&lt;6&gt;[    6.239795] nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
&lt;6&gt;[    6.260517] Loading modules backported from Linux version v4.19.23-0-g67d52fae61c1
&lt;6&gt;[    6.268272] Backport generated by backports.git v4.19.23-1-0-g480a925a
&lt;6&gt;[    6.488990] xt_time: kernel timezone is -0000
&lt;6&gt;[    6.514755] ip_tables: (C) 2000-2006 Netfilter Core Team
&lt;6&gt;[    6.566528] mt76_wmac 10300000.wmac: ASIC revision: 76280001
&lt;6&gt;[    7.593554] mt76_wmac 10300000.wmac: Firmware Version: 20151201
&lt;6&gt;[    7.599575] mt76_wmac 10300000.wmac: Build Time: 20151201183641
&lt;6&gt;[    7.621350] mt76_wmac 10300000.wmac: firmware init done
&lt;6&gt;[    7.728549] rt3050-esw 10110000.esw: link changed 0x01
&lt;7&gt;[    7.792147] ieee80211 phy0: Selected rate control algorithm 'minstrel_ht'
&lt;14&gt;[    7.802137] kmodloader: done loading kernel modules from /etc/modules.d/*
&lt;4&gt;[    9.177342] urandom_read: 6 callbacks suppressed
&lt;5&gt;[    9.177353] random: jshn: uninitialized urandom read (4 bytes read)
&lt;6&gt;[   11.971477] rt3050-esw 10110000.esw: link changed 0x00
&lt;6&gt;[   15.521829] rt3050-esw 10110000.esw: link changed 0x01
&lt;6&gt;[   40.298153] rt3050-esw 10110000.esw: link changed 0x00
&lt;6&gt;[   43.783225] rt3050-esw 10110000.esw: link changed 0x01
&lt;6&gt;[   44.432507] device eth0 entered promiscuous mode
&lt;6&gt;[   50.910274] br-lan: port 1(eth0.1) entered blocking state
&lt;6&gt;[   50.915855] br-lan: port 1(eth0.1) entered disabled state
&lt;6&gt;[   50.921660] device eth0.1 entered promiscuous mode
&lt;6&gt;[   50.939619] br-lan: port 1(eth0.1) entered blocking state
&lt;6&gt;[   50.945176] br-lan: port 1(eth0.1) entered forwarding state
&lt;6&gt;[   51.073380] br-lan: port 1(eth0.1) entered disabled state
&lt;6&gt;[   51.080911] device eth0.1 left promiscuous mode
&lt;6&gt;[   51.085686] br-lan: port 1(eth0.1) entered disabled state
&lt;6&gt;[   51.170750] br-lan: port 1(eth0.1) entered blocking state
&lt;6&gt;[   51.176313] br-lan: port 1(eth0.1) entered disabled state
&lt;6&gt;[   51.182108] device eth0.1 entered promiscuous mode
&lt;6&gt;[   51.234695] br-lan: port 1(eth0.1) entered blocking state
&lt;6&gt;[   51.240185] br-lan: port 1(eth0.1) entered forwarding state
&lt;6&gt;[   54.284409] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[   54.290155] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[   54.295937] device wlan0 entered promiscuous mode
&lt;6&gt;[   55.227079] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[   55.232548] br-lan: port 2(wlan0) entered forwarding state
&lt;6&gt;[   65.499313] device wlan0 left promiscuous mode
&lt;6&gt;[   65.504001] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[   67.659749] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[   67.665252] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[   67.670929] device wlan0 entered promiscuous mode
&lt;6&gt;[   67.675848] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[   67.681236] br-lan: port 2(wlan0) entered forwarding state
&lt;6&gt;[   67.687263] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[   70.171904] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[   70.177326] br-lan: port 2(wlan0) entered forwarding state
&lt;4&gt;[   74.063128] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
&lt;4&gt;[   74.076565] jffs2_build_filesystem(): unlocking the mtd device... 
&lt;4&gt;[   74.076626] done.
&lt;4&gt;[   74.084920] jffs2_build_filesystem(): erasing all blocks after the end marker... 
&lt;5&gt;[   75.341427] random: crng init done
&lt;4&gt;[   89.806667] done.
&lt;5&gt;[   89.808667] jffs2: notice: (2808) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
&lt;4&gt;[   90.097054] overlayfs: upper fs does not support tmpfile.
&lt;6&gt;[95491.758861] device wlan0 left promiscuous mode
&lt;6&gt;[95491.763556] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[95496.123525] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[95496.128998] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[95496.134779] device wlan0 entered promiscuous mode
&lt;6&gt;[95496.139678] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[95496.145064] br-lan: port 2(wlan0) entered forwarding state
&lt;6&gt;[95496.151480] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[95497.434477] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[95497.439926] br-lan: port 2(wlan0) entered forwarding state
&lt;6&gt;[181891.461089] device wlan0 left promiscuous mode
&lt;6&gt;[181891.465866] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[181895.862824] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[181895.868387] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[181895.874262] device wlan0 entered promiscuous mode
&lt;6&gt;[181897.223872] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[181897.229417] br-lan: port 2(wlan0) entered forwarding state
&lt;6&gt;[268291.119138] device wlan0 left promiscuous mode
&lt;6&gt;[268291.123910] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[268296.605568] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[268296.611162] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[268296.616932] device wlan0 entered promiscuous mode
&lt;6&gt;[268298.034899] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[268298.040440] br-lan: port 2(wlan0) entered forwarding state
&lt;6&gt;[354690.783285] device wlan0 left promiscuous mode
&lt;6&gt;[354690.788153] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[354695.110340] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[354695.115924] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[354695.121790] device wlan0 entered promiscuous mode
&lt;6&gt;[354696.496658] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[354696.502208] br-lan: port 2(wlan0) entered forwarding state
&lt;6&gt;[441090.473174] device wlan0 left promiscuous mode
&lt;6&gt;[441090.478041] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[441094.831626] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[441094.837188] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[441094.843056] device wlan0 entered promiscuous mode
&lt;6&gt;[441094.848063] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[441094.853538] br-lan: port 2(wlan0) entered forwarding state
&lt;6&gt;[441094.860044] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[441096.143580] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[441096.149126] br-lan: port 2(wlan0) entered forwarding state
&lt;6&gt;[527490.172730] device wlan0 left promiscuous mode
&lt;6&gt;[527490.177478] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[527494.541946] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[527494.547517] br-lan: port 2(wlan0) entered disabled state
&lt;6&gt;[527494.553391] device wlan0 entered promiscuous mode
&lt;6&gt;[527495.938895] br-lan: port 2(wlan0) entered blocking state
&lt;6&gt;[527495.944394] br-lan: port 2(wlan0) entered forwarding state
&lt;1&gt;[592589.839671] CPU 0 Unable to handle kernel paging request at virtual address 000002c8, epc == 830af554, ra == 83082384
&lt;4&gt;[592589.850591] Oops[#1]:
&lt;4&gt;[592589.852986] CPU: 0 PID: 0 Comm: swapper Not tainted 4.14.108 #0
&lt;4&gt;[592589.859074] task: 803cb430 task.stack: 803c6000
&lt;4&gt;[592589.863748] $ 0   : 00000000 80410000 00000000 00000000
&lt;4&gt;[592589.869140] $ 4   : 00000000 838cbd80 00000000 00000000
&lt;4&gt;[592589.874531] $ 8   : 838cb1c8 82f18516 00000010 43420000
&lt;4&gt;[592589.879922] $12   : 087f0000 00000000 000a9a0e 00000004
&lt;4&gt;[592589.885312] $16   : 838cbd80 00000000 830ecbc0 830ecbc0
&lt;4&gt;[592589.890703] $20   : 83b61bf0 830f73ac 00000001 00000000
&lt;4&gt;[592589.896093] $24   : 00000010 801bcbe0                  
&lt;4&gt;[592589.901484] $28   : 803c6000 83807e18 830ede88 83082384
&lt;4&gt;[592589.906876] Hi    : 005a1ac2
&lt;4&gt;[592589.909878] Lo    : ef14c145
&lt;4&gt;[592589.912889] epc   : 830af554 0x830af554 [mac80211@83080000+0x6a240]
&lt;4&gt;[592589.919330] ra    : 83082384 0x83082384 [mac80211@83080000+0x6a240]
&lt;4&gt;[592589.925764] Status: 1100e403	KERNEL EXL IE 
&lt;4&gt;[592589.930096] Cause : 00800008 (ExcCode 02)
&lt;4&gt;[592589.934243] BadVA : 000002c8
&lt;4&gt;[592589.937246] PrId  : 00019655 (MIPS 24KEc)
&lt;4&gt;[592589.941392] Modules linked in: mt7603e mt76 mac80211 iptable_raw iptable_nat iptable_mangle iptable_filter ipt_REJECT ipt_MASQUERADE ipt_ECN ip_tables cfg80211 xt_time xt_tcpudp xt_tcpmss xt_statistic xt_state xt_recent xt_nat xt_multiport xt_mark xt_mac xt_limit xt_length xt_hl xt_helper xt_ecn xt_dscp xt_conntrack xt_connmark xt_connlimit xt_connbytes xt_comment xt_TCPMSS xt_REDIRECT xt_LOG xt_HL xt_FLOWOFFLOAD xt_DSCP xt_CT xt_CLASSIFY x_tables nf_reject_ipv4 nf_nat_redirect nf_nat_masquerade_ipv4 nf_conntrack_ipv4 nf_nat_ipv4 nf_nat nf_log_ipv4 nf_log_common nf_flow_table_hw nf_flow_table nf_defrag_ipv4 nf_conntrack_rtcache compat act_connmark nf_conntrack sch_tbf sch_ingress sch_htb sch_hfsc em_u32 cls_u32 cls_tcindex cls_route cls_matchall cls_fw cls_flow cls_basic act_skbedit act_mirred ifb
&lt;4&gt;[592590.013247]  l2tp_ip l2tp_eth l2tp_netlink l2tp_core udp_tunnel leds_gpio gpio_button_hotplug
&lt;4&gt;[592590.021995] Process swapper (pid: 0, threadinfo=803c6000, task=803cb430, tls=00000000)
&lt;4&gt;[592590.030101] Stack : 83807e7c 0000008a 00000000 838cbd80 838cbd80 83082384 00000050 830ecbc0
&lt;4&gt;[592590.038670]         83b61bf0 830f73ac 830ed4e0 00000000 838cb180 00000000 00000000 830ecbc0
&lt;4&gt;[592590.047239]         83b61bf0 830f73ac 830ed4e0 00000001 830ecbc0 830adb78 00000cfc 0000033f
&lt;4&gt;[592590.055808]         8381b800 00000080 00000000 00000000 00060036 00000000 830ed4e0 83b61bf0
&lt;4&gt;[592590.064376]         00000004 00000003 00000006 830f73f0 83807ee0 80058f30 803dfc40 00000003
&lt;4&gt;[592590.072945]         ...
&lt;4&gt;[592590.075510] Call Trace:
&lt;4&gt;[592590.075556] [&lt;83082384&gt;] 0x83082384 [mac80211@83080000+0x6a240]
&lt;4&gt;[592590.084214] [&lt;830f73ac&gt;] 0x830f73ac [mt7603e@830f0000+0x87a0]
&lt;4&gt;[592590.090146] [&lt;830f73ac&gt;] 0x830f73ac [mt7603e@830f0000+0x87a0]
&lt;4&gt;[592590.096068] [&lt;830adb78&gt;] 0x830adb78 [mac80211@83080000+0x6a240]
&lt;4&gt;[592590.102173] [&lt;830f73f0&gt;] 0x830f73f0 [mt7603e@830f0000+0x87a0]
&lt;4&gt;[592590.108088] [&lt;80058f30&gt;] 0x80058f30
&lt;4&gt;[592590.111724] [&lt;830b4d80&gt;] 0x830b4d80 [mac80211@83080000+0x6a240]
&lt;4&gt;[592590.117809] [&lt;80009e70&gt;] 0x80009e70
&lt;4&gt;[592590.121449] [&lt;830f7548&gt;] 0x830f7548 [mt7603e@830f0000+0x87a0]
&lt;4&gt;[592590.127377] [&lt;8002d078&gt;] 0x8002d078
&lt;4&gt;[592590.130998] [&lt;80009e70&gt;] 0x80009e70
&lt;4&gt;[592590.134619] [&lt;80351a20&gt;] 0x80351a20
&lt;4&gt;[592590.138240] [&lt;8005d978&gt;] 0x8005d978
&lt;4&gt;[592590.141866] [&lt;80058f30&gt;] 0x80058f30
&lt;4&gt;[592590.145491] [&lt;80009e70&gt;] 0x80009e70
&lt;4&gt;[592590.149109] 
&lt;4&gt;[592590.150701] Code: 27bdffe8  afbf0014  afb00010 &lt;8c9002c8&gt; 8caa00a4  1080001e  8e090438  8e030044  0123402a 
&lt;4&gt;[592590.160690] 
&lt;4&gt;[592590.162335] ---[ end trace 25bbd90279e222f9 ]---

===================================
</pre>
	</td>
</tr>
<tr id="task2176" class="severity4">
	<td class="caret"></td>
	<td class='task_dateopened'>10.03.2019</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2176" title="New | ubiquiti loco xw (AR9342 Rev.2) stops receiving on wireless  | 0%" >2176</a></td><td class='task_category'>Kernel</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev4'>High</td><td class='task_summary' onmouseover="Show(this,2176)" onmouseout="Hide(this, 2176)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2176" title="New | ubiquiti loco xw (AR9342 Rev.2) stops receiving on wireless  | 0%" >ubiquiti loco xw (AR9342 Rev.2) stops receiving on wire</a>...<i class="tag t1376 " title="ubnt ubiquiti loco xw ar9342 ath9k"></i></td><td class='task_reportedin'>All</td><td class='task_status sta2'>New</td>	<td id="desc_2176" class="descbox box">
	<b>Task Description</b>
	
<p>
This bug has been existing as long as the ubiquiti loco xw 5 ghz hardware is around, probably what we are dealing with is a hardware bug in the AR9342 Rev. 2 chip. It is somehow hard to reproduce, but it hits us reliable every couple of hours, sometimes days, running any version of OpenWrt up to todays master branch. It just happened again and this time I decided to check if the bug is actually listed on FS &ndash; in addition to creating the usual cron-job executing `iw dev wlan0 scan` every minute. There is even a watchdog in the community libremesh repository designed to catch exactly this bug:<br /><a href="https://github.com/libremesh/lime-packages/blob/master/packages/cotonete/Makefile#L21" class="urlextern" title="https://github.com/libremesh/lime-packages/blob/master/packages/cotonete/Makefile#L21">https://github.com/libremesh/lime-packages/blob/master/packages/cotonete/Makefile#L21</a>
</p>

<p>
So to run into it, here we got 2 ubiquiti nanobeam m5 devices running OpenWrt ar71xx/generic loco-m-xw pointing at each other over a distance of roughly 2km. This link is acceptable, but not perfect and slightly asymmetric.
</p>

<p>
Device A (worse RX SNR):<br />
</p>
<pre class="code">
Station f0:9f:c2:xx:xx:7a (on wlan0-mesh)
	inactive time:	0 ms
	rx bytes:	1433997029
	rx packets:	8589913
	tx bytes:	23160025785
	tx packets:	15667682
	tx retries:	677924
	tx failed:	0
	rx drop misc:	30076
	signal:  	-76 [-79, -79] dBm
	signal avg:	-74 [-77, -77] dBm
	Toffset:	4887897799 us
	tx bitrate:	43.3 MBit/s MCS 10 short GI
	rx bitrate:	43.3 MBit/s MCS 4 short GI
	expected throughput:	24.536Mbps
	mesh llid:	0
	mesh plid:	0
	mesh plink:	ESTAB
	mesh local PS mode:	ACTIVE
	mesh peer PS mode:	ACTIVE
	mesh non-peer PS mode:	ACTIVE
	authorized:	yes
	authenticated:	yes
	associated:	yes
	preamble:	long
	WMM/WME:	yes
	MFP:		yes
	TDLS peer:	no
	DTIM period:	2
	beacon interval:100
	connected time:	18117 seconds
</pre>

<p>
Device B (better RX SNR)<br />
</p>
<pre class="code">
Station fc:ec:da:xx:xx:8c (on wlan0-mesh)
	inactive time:	20 ms
	rx bytes:	23442553203
	rx packets:	16047526
	tx bytes:	1274688573
	tx packets:	8251479
	tx retries:	1337700
	tx failed:	2932
	rx drop misc:	45195
	signal:  	-72 [-79, -73] dBm
	signal avg:	-71 [-78, -73] dBm
	Toffset:	18446744068821653812 us
	tx bitrate:	57.8 MBit/s MCS 11 short GI
	rx bitrate:	43.3 MBit/s MCS 10 short GI
	last ack signal:24 dBm
	expected throughput:	24.536Mbps
	mesh llid:	0
	mesh plid:	0
	mesh plink:	ESTAB
	mesh local PS mode:	ACTIVE
	mesh peer PS mode:	ACTIVE
	mesh non-peer PS mode:	ACTIVE
	authorized:	yes
	authenticated:	yes
	associated:	yes
	preamble:	long
	WMM/WME:	yes
	MFP:		yes
	TDLS peer:	no
	DTIM period:	2
	beacon interval:100
	connected time:	18179 seconds
</pre>

<p>
Now it so happens that device A (and always only device A!) becomes deaf after some hours of mostly sending lots of traffic to device B. It will continue to send beacons, but loose all associations. device B will keep trying setting up a link, but it keeps ending up in &lsquo;BLOCKED&rsquo; state and dumps using a monitor mode interface show that device A simply doesn&rsquo;t react at all to any of the frames send by device B. A simple `iw dev wlan0 scan` on device A (which doesn&rsquo;t give any results) fixes the problem.
</p>

<p>
The channel seems rather unused otherwise and signal quality only varies by weather conditions. Interestingly this seems to happen on non-DFS channels only. And it happens on Ad-Hoc mode (unencrypted, never tried encrypted) and 802.11s (open ie. setup via `iw` tool as well as with SAE ie. running `wpa_supplicant`) equally. It doesn&rsquo;t happen on all nodes, but only on those with rather bad signal or at least one far-off neighbor.
</p>

<p>
Maybe related to <a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=1246" title="Unconfirmed | Ubnt Nanostation Loco M2 - WDS link drops out after a few hours | 0%" >FS#1246</a>
</p>

<p>
 I saw this occuring on ubnt nanostation loco m5 XW as well as on all nanobeam m5 variants (which is supposedly compatible with the loco-m-xw image).
</p>
<pre class="code">
ieee80211 phy0: Atheros AR9340 Rev:2 mem=0xb8100000, irq=47
</pre>

<p>
WiFi EEPROM of the devices:
</p>
<pre class="code">
*
00001000  02 02 F0 9F C2 XX XX XX  00 30 3a 31 35 3a 36 64  |.....XXX.0:15:6d|
00001010  3a 64 64 3a 64 65 3a 61  64 00 00 00 00 00 1f 00  |:dd:de:ad.......|
00001020  33 01 00 00 00 00 04 00  00 00 2d 04 03 00 08 ff  |3.........-.....|
00001030  20 01 00 00 00 20 02 00  00 cc cc 0c 00 50 01 50  | .... .......P.P|
00001040  01 50 01 00 00 00 00 00  00 21 00 a4 00 00 00 00  |.P.......!......|
00001050  ff 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00001060  0e 0e 03 00 2c e2 00 02  0e 1c e0 e0 00 0c e0 e0  |....,...........|
00001070  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00001080  00 00 00 00 00 00 00 00  00 00 70 89 ac 00 00 00  |..........p.....|
00001090  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
000010c0  00 00 00 70 ac 70 89 ac  70 89 ac 70 89 ac 22 22  |...p.p..p..p..&quot;&quot;|
000010d0  22 22 22 22 22 22 22 22  20 1c 22 22 20 1c 22 22  |&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; .&quot;&quot; .&quot;&quot;|
000010e0  20 1c 24 24 20 18 16 14  20 16 14 12 20 20 1c 14  | .$$ ... ...  ..|
000010f0  24 24 20 18 16 14 20 16  14 12 20 20 1c 14 24 24  |$$ ... ...  ..$$|
00001100  20 18 16 14 20 16 14 12  20 20 1c 14 22 22 1e 16  | ... ...  ..&quot;&quot;..|
00001110  14 12 1e 14 12 10 20 20  1c 14 22 22 1e 16 14 12  |......  ..&quot;&quot;....|
00001120  1e 14 12 10 20 20 1c 14  22 22 1e 16 14 12 1e 14  |....  ..&quot;&quot;......|
00001130  12 10 20 20 1c 14 11 12  15 17 41 42 45 47 31 32  |..  ......ABEG12|
00001140  35 37 70 75 ac b8 70 75  ac b8 70 75 ac b8 70 75  |57pu..pu..pu..pu|
00001150  ac b8 70 75 ac b8 70 75  ac b8 70 75 ac b8 70 75  |..pu..pu..pu..pu|
*
00001170  ac b8 3c 7c 3c 7c 3c 7c  3c 7c 3c 7c 3c 7c 3c 7c  |..&lt;|&lt;|&lt;|&lt;|&lt;|&lt;|&lt;||
00001180  3c 7c 3c 7c 3c 7c 3c 7c  3c 7c 3c 7c 3c 7c 3c 7c  |&lt;|&lt;|&lt;|&lt;|&lt;|&lt;|&lt;|&lt;||
*
000011a0  3c 7c 10 01 00 00 22 22  02 00 00 00 00 00 00 00  |&lt;|....&quot;&quot;........|
000011b0  00 00 00 00 00 00 44 00  00 00 00 00 00 ff 00 00  |......D.........|
000011c0  00 00 00 00 00 00 00 00  00 00 00 00 ff 0e 0e 03  |................|
000011d0  00 2d e2 00 02 0e 1c 00  00 00 00 00 00 00 00 00  |.-..............|
000011e0  00 00 00 00 00 00 00 00  00 44 44 00 00 00 00 00  |.........DD.....|
000011f0  00 00 00 00 00 00 00 4c  58 68 8c a4 b4 bd cd d9  |.......LXh......|
00001200  00 89 00 00 00 dc 00 89  00 00 00 e0 00 8a 00 00  |................|
00001210  00 e2 00 8b 00 00 00 de  00 8b 00 00 00 de 00 8b  |................|
00001220  00 00 00 dc 00 89 00 00  00 da 00 8b 00 00 00 e0  |................|
00001230  00 89 00 00 00 e4 00 8a  00 00 00 e7 00 8b 00 00  |................|
00001240  00 e6 00 8b 00 00 00 e2  00 8c 00 00 00 e1 00 8c  |................|
00001250  00 00 00 df 00 8b 00 00  00 dd 00 8b 00 00 00 00  |................|
00001260  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00001280  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 4c  |...............L|
00001290  54 68 78 8c a0 b4 c5 4c  54 68 78 8c a0 b4 c5 4c  |Thx....LThx....L|
000012a0  54 68 78 8c a0 b4 c5 26  20 1e 1c 26 20 1e 1c 26  |Thx....&amp; ..&amp; ..&amp;|
000012b0  20 1e 1c 26 20 1e 1c 26  20 1e 1c 26 20 1e 1c 26  | ..&amp; ..&amp; ..&amp; ..&amp;|
000012c0  20 1e 1c 26 20 1e 1c 26  22 20 1e 1c 1a 20 1e 1c  | ..&amp; ..&amp;&quot; ... ..|
000012d0  1a 00 00 00 00 26 22 20  1e 1c 1a 20 1e 1c 1a 00  |.....&amp;&quot; ... ....|
000012e0  00 00 00 26 22 20 1e 1c  1a 20 1e 1c 1a 00 00 00  |...&amp;&quot; ... ......|
000012f0  00 26 22 20 1e 1c 1a 20  1e 1c 1a 00 00 00 00 26  |.&amp;&quot; ... .......&amp;|
00001300  22 20 1e 1c 1a 20 1e 1c  1a 00 00 00 00 26 22 20  |&quot; ... .......&amp;&quot; |
00001310  1e 1c 1a 20 1e 1c 1a 00  00 00 00 26 22 20 1e 1c  |... .......&amp;&quot; ..|
00001320  1a 20 1e 1c 1a 00 00 00  00 26 22 20 1e 1c 1a 20  |. .......&amp;&quot; ... |
00001330  1e 1c 1a 00 00 00 00 26  22 20 1e 1c 1a 20 1e 1c  |.......&amp;&quot; ... ..|
00001340  1a 00 00 00 00 26 22 20  1e 1c 1a 20 1e 1c 1a 00  |.....&amp;&quot; ... ....|
00001350  00 00 00 26 22 20 1e 1c  1a 20 1e 1c 1a 00 00 00  |...&amp;&quot; ... ......|
00001360  00 26 22 20 1e 1c 1a 20  1e 1c 1a 00 00 00 00 26  |.&amp;&quot; ... .......&amp;|
00001370  22 20 1e 1c 1a 20 1e 1c  1a 00 00 00 00 26 22 20  |&quot; ... .......&amp;&quot; |
00001380  1e 1c 1a 20 1e 1c 1a 00  00 00 00 26 22 20 1e 1c  |... .......&amp;&quot; ..|
00001390  1a 20 1e 1c 1a 00 00 00  00 26 22 20 1e 1c 1a 20  |. .......&amp;&quot; ... |
000013a0  1e 1c 1a 00 00 00 00 10  16 18 40 46 48 30 36 38  |..........@FH068|
000013b0  4c 54 68 78 8c a0 b9 cd  4c 54 68 78 8c a0 b9 cd  |LThx....LThx....|
*
000013f0  4c 54 68 78 8c a0 b9 cd  3c 7c 3c 7c 3c 7c 3c 7c  |LThx....&lt;|&lt;|&lt;|&lt;||
00001400  3c 7c 3c 7c 3c 7c 3c 7c  3c 7c 3c 7c 3c 7c 3c 7c  |&lt;|&lt;|&lt;|&lt;|&lt;|&lt;|&lt;|&lt;||
*
00001440  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  |................|
*
</pre>
	</td>
</tr>
<tr id="task1958" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>18.11.2018</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=1958" title="New | uqmi: unicode characters in SMS confuse uqmi | 0%" >1958</a></td><td class='task_category'>Packages</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,1958)" onmouseout="Hide(this, 1958)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=1958" title="New | uqmi: unicode characters in SMS confuse uqmi | 0%" >uqmi: unicode characters in SMS confuse uqmi</a><i class="tag t1282 " title="uqmi sms"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta2'>New</td>	<td id="desc_1958" class="descbox box">
	<b>Task Description</b>
	
<p>
When using uqmi &ndash;get-message the message ends up truncated in case it contains unicode characters like german umlauts.<br />
</p>
	</td>
</tr>
<tr id="task1837" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>07.09.2018</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=1837" title="New | Kernel oops when using wireguard and mangle/fwmark | 0%" >1837</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,1837)" onmouseout="Hide(this, 1837)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=1837" title="New | Kernel oops when using wireguard and mangle/fwmark | 0%" >Kernel oops when using wireguard and mangle/fwmark</a></td><td class='task_reportedin'>openwrt-19.07</td><td class='task_status sta2'>New</td>	<td id="desc_1837" class="descbox box">
	<b>Task Description</b>
	
<p>
On OpenWrt 18.06.1 x86/64 when using mwan3 with two wireguard interfaces in fail-over configuration, kernel crashes.<br />The machine got a single Ethernet interface being the head-unit connected to a VLAN switch.
</p>
<pre class="code">
Fri Sep  7 18:13:18 2018 kern.err kernel: [24612.664463] INFO: rcu_sched self-detected stall on CPU
Fri Sep  7 18:13:18 2018 kern.err kernel: [24612.664907] 	1-...: (5999 ticks this GP) idle=9ee/140000000000001/0 softirq=961867/961867 fqs=2711
Fri Sep  7 18:13:18 2018 kern.err kernel: [24612.665571] 	 (t=6000 jiffies g=358062 c=358061 q=4475)
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.665986] NMI backtrace for cpu 1
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.666301] CPU: 1 PID: 14102 Comm: kworker/1:0 Not tainted 4.14.63 #0
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.666775] Hardware name: XXXXXXXXXX
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.667240] Workqueue: wg-crypt-XXXXX 0xffffffffa01dbab0 [wireguard@ffffffffa01d8000+0x2d000]
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.667891] Call Trace:
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.668145]  &lt;IRQ&gt;
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.668372]  0xffffffff8159c6d0
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.668662]  0xffffffff815a0000
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.668950]  ? 0xffffffff810418d0
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.669251]  0xffffffff815a0060
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.669544]  0xffffffff81041924
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.669836]  0xffffffff810c22e3
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.670128]  0xffffffff810c176f
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.670421]  ? 0xffffffff8109fe35
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.670720]  ? 0xffffffff810a0062
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.671020]  0xffffffff810c432a
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.671309]  0xffffffff810d0f5e
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.671599]  0xffffffff810c4c4f
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.671892]  0xffffffff810c4df6
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.672182]  0xffffffff81602392
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.672473]  0xffffffff81601a61
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.672760]  &lt;/IRQ&gt;
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.672994] RIP: 0010:0xffffffff814e7682
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.673327] RSP: 0018:ffffc90000cb3a30 EFLAGS: 00000246 ORIG_RAX: ffffffffffffff10
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.673912] RAX: 00000000000001f8 RBX: ffffc90000cb3af8 RCX: 0000000000000000
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.674426] RDX: ffff880077923e00 RSI: 00000000deb48eb9 RDI: ffff88007aa28e68
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.674944] RBP: ffffc90000cb3a80 R08: 0000000000000000 R09: 0000000000000000
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.675456] R10: ffff88007aa28e00 R11: 0000000000000001 R12: ffff880077923e00
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.675966] R13: ffffc90000cb3a90 R14: ffff8800786e3a00 R15: ffff88007a360000
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.676484]  0xffffffff814e7a0a
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.676773]  0xffffffff814e7d89
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.677065]  0xffffffff81532536
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.677359]  0xffffffffa01800a7 [iptable_mangle@ffffffffa0180000+0x3000]
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.677845]  0xffffffff814e2966
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.678137]  0xffffffff814ed868
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.678430]  ? 0xffffffff814ebed0
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.678725]  0xffffffff814ed897
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.679014]  0xffffffff8152b6bb
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.679309]  0xffffffffa002145e [udp_tunnel@ffffffffa0021000+0x3000]
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.679786]  0xffffffffa01ddf81 [wireguard@ffffffffa01d8000+0x2d000]
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.680256]  ? 0xffffffff811038aa
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.680555]  ? 0xffffffff810c5454
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.680854]  0xffffffffa01dbb5a [wireguard@ffffffffa01d8000+0x2d000]
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.681321]  0xffffffff81091cf4
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.681613]  0xffffffff8109204b
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.681903]  0xffffffff81096d42
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.682191]  ? 0xffffffff81091e40
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.682487]  ? 0xffffffff81096c30
Fri Sep  7 18:13:18 2018 kern.warn kernel: [24612.682788]  0xffffffff816001ef
</pre>

<p>
Bootlog:<br />
</p>
<pre class="code">
[    0.000000] Linux version 4.14.63 (buildbot@builds-03.infra.lede-project.org) (gcc version 7.3.0 (OpenWrt GCC 7.3.0 r7102-3f3a2c9)) #0 SMP Wed Aug 15 20:42:39 2018
[    0.000000] Command line: BOOT_IMAGE=/boot/vmlinuz root=PARTUUID=cbad8a62-02 rootfstype=squashfs rootwait console=tty0 console=ttyS0,115200n8 noinitrd
[    0.000000] Disabled fast string operations
[    0.000000] x86/fpu: x87 FPU will use FXSAVE
[    0.000000] e820: BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009ebff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009ec00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007f1b2fff] usable
[    0.000000] BIOS-e820: [mem 0x000000007f1b3000-0x000000007f1fafff] ACPI NVS
[    0.000000] BIOS-e820: [mem 0x000000007f1fb000-0x000000007f314fff] reserved
[    0.000000] BIOS-e820: [mem 0x000000007f315000-0x000000007f324fff] ACPI data
[    0.000000] BIOS-e820: [mem 0x000000007f325000-0x000000007f33bfff] reserved
[    0.000000] BIOS-e820: [mem 0x000000007f33c000-0x000000007f343fff] ACPI NVS
[    0.000000] BIOS-e820: [mem 0x000000007f344000-0x000000007f358fff] reserved
[    0.000000] BIOS-e820: [mem 0x000000007f359000-0x000000007f359fff] ACPI NVS
[    0.000000] BIOS-e820: [mem 0x000000007f35a000-0x000000007f377fff] reserved
[    0.000000] BIOS-e820: [mem 0x000000007f378000-0x000000007f37bfff] ACPI NVS
[    0.000000] BIOS-e820: [mem 0x000000007f37c000-0x000000007f38afff] reserved
[    0.000000] BIOS-e820: [mem 0x000000007f38b000-0x000000007f39bfff] ACPI NVS
[    0.000000] BIOS-e820: [mem 0x000000007f39c000-0x000000007f39dfff] reserved
[    0.000000] BIOS-e820: [mem 0x000000007f39e000-0x000000007f39efff] ACPI NVS
[    0.000000] BIOS-e820: [mem 0x000000007f39f000-0x000000007f3ccfff] reserved
[    0.000000] BIOS-e820: [mem 0x000000007f3cd000-0x000000007f40ffff] ACPI NVS
[    0.000000] BIOS-e820: [mem 0x000000007f410000-0x000000007f58efff] usable
[    0.000000] BIOS-e820: [mem 0x000000007f58f000-0x000000007f6e5fff] reserved
[    0.000000] BIOS-e820: [mem 0x000000007f6e6000-0x000000007f6effff] usable
[    0.000000] BIOS-e820: [mem 0x000000007f6f0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000e0000000-0x00000000efffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fec00000-0x00000000fec00fff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fed00000-0x00000000fed00fff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fed1c000-0x00000000fed8ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fee00000-0x00000000fee00fff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000ffe00000-0x00000000ffffffff] reserved
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] SMBIOS 2.7 present.
[    0.000000] DMI: Medion E1230/E1230, BIOS 208 02/10/2012
[    0.000000] tsc: Fast TSC calibration failed
[    0.000000] tsc: Unable to calibrate against PIT
[    0.000000] tsc: No reference (HPET/PMTIMER) available
[    0.000000] e820: update [mem 0x00000000-0x00000fff] usable ==&gt; reserved
[    0.000000] e820: remove [mem 0x000a0000-0x000fffff] usable
[    0.000000] e820: last_pfn = 0x7f6f0 max_arch_pfn = 0x400000000
[    0.000000] MTRR default type: uncachable
[    0.000000] MTRR fixed ranges enabled:
[    0.000000]   00000-9FFFF write-back
[    0.000000]   A0000-BFFFF uncachable
[    0.000000]   C0000-E7FFF write-through
[    0.000000]   E8000-FFFFF write-protect
[    0.000000] MTRR variable ranges enabled:
[    0.000000]   0 base 000000000 mask F80000000 write-back
[    0.000000]   1 base 07F700000 mask FFFF00000 write-through
[    0.000000]   2 base 07F800000 mask FFF800000 uncachable
[    0.000000]   3 disabled
[    0.000000]   4 disabled
[    0.000000]   5 disabled
[    0.000000]   6 disabled
[    0.000000] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.000000] found SMP MP-table at [mem 0x000fcd10-0x000fcd1f] mapped at [ffffffffff400d10]
[    0.000000] Base memory trampoline at [ffff880000098000] 98000 size 24576
[    0.000000] BRK [0x01e07000, 0x01e07fff] PGTABLE
[    0.000000] BRK [0x01e08000, 0x01e08fff] PGTABLE
[    0.000000] BRK [0x01e09000, 0x01e09fff] PGTABLE
[    0.000000] BRK [0x01e0a000, 0x01e0afff] PGTABLE
[    0.000000] BRK [0x01e0b000, 0x01e0bfff] PGTABLE
[    0.000000] BRK [0x01e0c000, 0x01e0cfff] PGTABLE
[    0.000000] ACPI: Early table checksum verification disabled
[    0.000000] ACPI: RSDP 0x00000000000F0450 000024 (v02 MEDION)
[    0.000000] ACPI: XSDT 0x000000007F315070 00005C (v01 MEDION MEDIONAG 00000001 AMI  00010013)
[    0.000000] ACPI: FACP 0x000000007F3236E8 0000F4 (v04 MEDION MEDIONAG 00000001 AMI  00010013)
[    0.000000] ACPI: DSDT 0x000000007F315158 00E58C (v02 MEDION MEDIONAG 00000001 INTL 20051117)
[    0.000000] ACPI: FACS 0x000000007F390F80 000040
[    0.000000] ACPI: APIC 0x000000007F3237E0 000072 (v03 MEDION MEDIONAG 00000001 AMI  00010013)
[    0.000000] ACPI: SLIC 0x000000007F323858 000176 (v01 MEDION MEDIONAG 00000001 MSFT 00000001)
[    0.000000] ACPI: ECDT 0x000000007F3239D0 0000C1 (v01 MEDION MEDIONAG 00000001 AMI. 00000005)
[    0.000000] ACPI: MCFG 0x000000007F323A98 00003C (v01 MEDION MEDIONAG 00000001 MSFT 00000097)
[    0.000000] ACPI: HPET 0x000000007F323AD8 000038 (v01 MEDION MEDIONAG 00000001 AMI. 00000005)
[    0.000000] ACPI: SSDT 0x000000007F323B10 000655 (v01 PmRef  CpuPm    00003000 INTL 20051117)
[    0.000000] ACPI: Local APIC address 0xfee00000
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.000000]   DMA32    [mem 0x0000000001000000-0x000000007f6effff]
[    0.000000]   Normal   empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000001000-0x000000000009dfff]
[    0.000000]   node   0: [mem 0x0000000000100000-0x000000007f1b2fff]
[    0.000000]   node   0: [mem 0x000000007f410000-0x000000007f58efff]
[    0.000000]   node   0: [mem 0x000000007f6e6000-0x000000007f6effff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000001000-0x000000007f6effff]
[    0.000000] On node 0 totalpages: 520921
[    0.000000]   DMA zone: 64 pages used for memmap
[    0.000000]   DMA zone: 21 pages reserved
[    0.000000]   DMA zone: 3997 pages, LIFO batch:0
[    0.000000]   DMA32 zone: 8092 pages used for memmap
[    0.000000]   DMA32 zone: 516924 pages, LIFO batch:31
[    0.000000] ACPI: PM-Timer IO Port: 0x408
[    0.000000] ACPI: Local APIC address 0xfee00000
[    0.000000] ACPI: LAPIC_NMI (acpi_id[0xff] high edge lint[0x1])
[    0.000000] IOAPIC[0]: apic_id 4, version 32, address 0xfec00000, GSI 0-23
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.000000] ACPI: IRQ0 used by override.
[    0.000000] ACPI: IRQ9 used by override.
[    0.000000] Using ACPI (MADT) for SMP configuration information
[    0.000000] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.000000] smpboot: Allowing 4 CPUs, 0 hotplug CPUs
[    0.000000] e820: [mem 0x80000000-0xdfffffff] available for PCI devices
[    0.000000] Booting paravirtualized kernel on bare hardware
[    0.000000] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.000000] random: get_random_bytes called from 0xffffffff81cb0b09 with crng_init=0
[    0.000000] setup_percpu: NR_CPUS:8 nr_cpumask_bits:8 nr_cpu_ids:4 nr_node_ids:1
[    0.000000] percpu: Embedded 42 pages/cpu @ffff88007ee00000 s132056 r8192 d31784 u524288
[    0.000000] pcpu-alloc: s132056 r8192 d31784 u524288 alloc=1*2097152
[    0.000000] pcpu-alloc: [0] 0 1 2 3 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 512744
[    0.000000] Kernel command line: BOOT_IMAGE=/boot/vmlinuz root=PARTUUID=cbad8a62-02 rootfstype=squashfs rootwait console=tty0 console=ttyS0,115200n8 noinitrd
[    0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes)
[    0.000000] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes)
[    0.000000] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes)
[    0.000000] Calgary: detecting Calgary via BIOS EBDA area
[    0.000000] Calgary: Unable to locate Rio Grande table in EBDA - bailing!
[    0.000000] Memory: 2032612K/2083684K available (8200K kernel code, 527K rwdata, 1312K rodata, 1052K init, 420K bss, 51072K reserved, 0K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[    0.000000] Hierarchical RCU implementation.
[    0.000000] 	CONFIG_RCU_FANOUT set to non-default value of 32
[    0.000000] 	RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=4.
[    0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4
[    0.000000] NR_IRQS: 4352, nr_irqs: 456, preallocated irqs: 16
[    0.000000] spurious 8259A interrupt: IRQ7.
[    0.000000] Console: colour VGA+ 80x25
[    0.000000] console [tty0] enabled
[    0.000000] console [ttyS0] enabled
[    0.000000] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 133484882848 ns
[    0.000000] hpet clockevent registered
[    0.000000] tsc: Fast TSC calibration failed
[    0.040000] tsc: Unable to calibrate against PIT
[    0.040000] tsc: using HPET reference calibration
[    0.040000] tsc: Detected 1595.996 MHz processor
[    0.040000] Calibrating delay loop (skipped), value calculated using timer frequency.. 3191.99 BogoMIPS (lpj=15959960)
[    0.040000] pid_max: default: 32768 minimum: 301
[    0.040000] ACPI: Core revision 20170728
[    0.068326] ACPI: 2 ACPI AML tables successfully acquired and loaded
[    0.070105] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes)
[    0.070601] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes)
[    0.071425] Disabled fast string operations
[    0.071787] mce: CPU supports 5 MCE banks
[    0.072125] process: using mwait in idle threads
[    0.072500] Last level iTLB entries: 4KB 32, 2MB 0, 4MB 0
[    0.072914] Last level dTLB entries: 4KB 64, 2MB 0, 4MB 8, 1GB 0
[    0.073530] Freeing SMP alternatives memory: 28K
[    0.080265] smpboot: Max logical packages: 2
[    0.081106] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=0 pin2=0
[    0.190000] smpboot: CPU0: Intel(R) Atom(TM) CPU N2600   @ 1.60GHz (family: 0x6, model: 0x36, stepping: 0x1)
[    0.190000] Performance Events: PEBS fmt0+, Atom events, 8-deep LBR, Intel PMU driver.
[    0.190000] ... version:                3
[    0.190000] ... bit width:              40
[    0.190000] ... generic registers:      2
[    0.190000] ... value mask:             000000ffffffffff
[    0.190000] ... max period:             000000007fffffff
[    0.190000] ... fixed-purpose events:   3
[    0.190000] ... event mask:             0000000700000003
[    0.190000] Hierarchical SRCU implementation.
[    0.190000] smp: Bringing up secondary CPUs ...
[    0.190000] x86: Booting SMP configuration:
[    0.190000] .... node  #0, CPUs:      #1
[    0.010000] Disabled fast string operations
[    0.190000]  #2
[    0.010000] Disabled fast string operations
[    0.190386]  #3
[    0.010000] Disabled fast string operations
[    0.193013] smp: Brought up 1 node, 4 CPUs
[    0.193365] smpboot: Total of 4 processors activated (12767.96 BogoMIPS)
[    0.195434] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.196180] futex hash table entries: 1024 (order: 4, 65536 bytes)
[    0.197097] NET: Registered protocol family 16
[    0.198390] cpuidle: using governor ladder
[    0.198390] ACPI: bus type PCI registered
[    0.198390] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    0.200004] PCI: Using configuration type 1 for base access
[    0.217580] ACPI: Added _OSI(Module Device)
[    0.217940] ACPI: Added _OSI(Processor Device)
[    0.218293] ACPI: Added _OSI(3.0 _SCP Extensions)
[    0.218673] ACPI: Added _OSI(Processor Aggregator Device)
[    0.219086] ACPI: EC: EC started
[    0.219370] ACPI: EC: interrupt blocked
[    0.222270] ACPI: \: Used as first EC
[    0.222591] ACPI: \: GPE=0x1c, EC_CMD/EC_SC=0x66, EC_DATA=0x62
[    0.223021] ACPI: \: Used as boot ECDT EC to handle transactions
[    0.223763] ACPI: Executed 1 blocks of module-level executable AML code
[    0.240673] ACPI: [Firmware Bug]: BIOS _OSI(Linux) query ignored
[    0.242268] ACPI: Dynamic OEM Table Load:
[    0.242613] ACPI: SSDT 0xFFFF88007BD5D800 0002E9 (v01 PmRef  Cpu0Ist  00003000 INTL 20051117)
[    0.246636] ACPI: Dynamic OEM Table Load:
[    0.247070] ACPI: SSDT 0xFFFF88007BC81000 0006DB (v01 PmRef  Cpu0Cst  00003001 INTL 20051117)
[    0.254189] ACPI: Dynamic OEM Table Load:
[    0.256660] ACPI: SSDT 0xFFFF88007C6CB000 0001CF (v01 PmRef  ApIst    00003000 INTL 20051117)
[    0.257695] ACPI: Dynamic OEM Table Load:
[    0.260047] ACPI: SSDT 0xFFFF88007C7DE540 00008D (v01 PmRef  ApCst    00003000 INTL 20051117)
[    0.264783] ACPI: Interpreter enabled
[    0.265199] ACPI: (supports S0 S5)
[    0.265579] ACPI: Using IOAPIC for interrupt routing
[    0.268058] PCI: Using host bridge windows from ACPI; if necessary, use &quot;pci=nocrs&quot; and report a bug
[    0.270580] ACPI: GPE 0x02 active on init
[    0.272964] ACPI: Enabled 8 GPEs in block 00 to 1F
[    0.305839] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    0.305839] acpi PNP0A08:00: _OSC: OS supports [Segments MSI]
[    0.305839] acpi PNP0A08:00: _OSC failed (AE_ERROR); disabling ASPM
[    0.306311] PCI host bridge to bus 0000:00
[    0.306311] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    0.306311] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    0.306311] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    0.306311] pci_bus 0000:00: root bus resource [mem 0x000c0000-0x000dffff window]
[    0.306311] pci_bus 0000:00: root bus resource [mem 0x000e0000-0x000effff window]
[    0.306311] pci_bus 0000:00: root bus resource [mem 0x000f0000-0x000fffff window]
[    0.306311] pci_bus 0000:00: root bus resource [mem 0x7f800000-0x7fffffff window]
[    0.306311] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    0.306311] pci_bus 0000:00: root bus resource [bus 00-ff]
[    0.306721] pci 0000:00:00.0: [8086:0bf1] type 00 class 0x060000
[    0.310006] pci 0000:00:02.0: [8086:0be1] type 00 class 0x030000
[    0.310006] pci 0000:00:02.0: reg 0x10: [mem 0xdfb00000-0xdfbfffff]
[    0.310006] pci 0000:00:02.0: reg 0x14: [io  0xf100-0xf107]
[    0.315634] pci 0000:00:1b.0: [8086:27d8] type 00 class 0x040300
[    0.315634] pci 0000:00:1b.0: reg 0x10: [mem 0xdff00000-0xdff03fff 64bit]
[    0.315634] pci 0000:00:1b.0: PME# supported from D0 D3hot D3cold
[    0.315960] pci 0000:00:1c.0: [8086:27d0] type 01 class 0x060400
[    0.315960] pci 0000:00:1c.0: PME# supported from D0 D3hot D3cold
[    0.316454] pci 0000:00:1c.1: [8086:27d2] type 01 class 0x060400
[    0.316454] pci 0000:00:1c.1: PME# supported from D0 D3hot D3cold
[    0.316867] pci 0000:00:1c.2: [8086:27d4] type 01 class 0x060400
[    0.316867] pci 0000:00:1c.2: PME# supported from D0 D3hot D3cold
[    0.317285] pci 0000:00:1c.3: [8086:27d6] type 01 class 0x060400
[    0.317285] pci 0000:00:1c.3: PME# supported from D0 D3hot D3cold
[    0.317706] pci 0000:00:1d.0: [8086:27c8] type 00 class 0x0c0300
[    0.317706] pci 0000:00:1d.0: reg 0x20: [io  0xf0a0-0xf0bf]
[    0.318128] pci 0000:00:1d.1: [8086:27c9] type 00 class 0x0c0300
[    0.318128] pci 0000:00:1d.1: reg 0x20: [io  0xf080-0xf09f]
[    0.318515] pci 0000:00:1d.2: [8086:27ca] type 00 class 0x0c0300
[    0.318515] pci 0000:00:1d.2: reg 0x20: [io  0xf060-0xf07f]
[    0.318938] pci 0000:00:1d.3: [8086:27cb] type 00 class 0x0c0300
[    0.318938] pci 0000:00:1d.3: reg 0x20: [io  0xf040-0xf05f]
[    0.319336] pci 0000:00:1d.7: [8086:27cc] type 00 class 0x0c0320
[    0.319336] pci 0000:00:1d.7: reg 0x10: [mem 0xdff05000-0xdff053ff]
[    0.319336] pci 0000:00:1d.7: PME# supported from D0 D3hot D3cold
[    0.320072] pci 0000:00:1e.0: [8086:2448] type 01 class 0x060401
[    0.320513] pci 0000:00:1f.0: [8086:27bc] type 00 class 0x060100
[    0.323112] pci 0000:00:1f.2: [8086:27c1] type 00 class 0x010601
[    0.323112] pci 0000:00:1f.2: reg 0x10: [io  0xf0f0-0xf0f7]
[    0.323112] pci 0000:00:1f.2: reg 0x14: [io  0xf0e0-0xf0e3]
[    0.323112] pci 0000:00:1f.2: reg 0x18: [io  0xf0d0-0xf0d7]
[    0.323112] pci 0000:00:1f.2: reg 0x1c: [io  0xf0c0-0xf0c3]
[    0.323112] pci 0000:00:1f.2: reg 0x20: [io  0xf020-0xf02f]
[    0.323112] pci 0000:00:1f.2: reg 0x24: [mem 0xdff04000-0xdff043ff]
[    0.323112] pci 0000:00:1f.2: PME# supported from D3hot
[    0.323324] pci 0000:00:1f.3: [8086:27da] type 00 class 0x0c0500
[    0.323324] pci 0000:00:1f.3: reg 0x20: [io  0xf000-0xf01f]
[    0.324155] pci 0000:00:1c.0: PCI bridge to [bus 01]
[    0.324284] pci 0000:02:00.0: [1b73:1009] type 00 class 0x0c0330
[    0.324284] pci 0000:02:00.0: reg 0x10: [mem 0xdfe00000-0xdfe0ffff 64bit]
[    0.324284] pci 0000:02:00.0: reg 0x18: [mem 0xdfe11000-0xdfe11fff 64bit]
[    0.324284] pci 0000:02:00.0: reg 0x20: [mem 0xdfe10000-0xdfe10fff 64bit]
[    0.324284] pci 0000:02:00.0: supports D1
[    0.324284] pci 0000:02:00.0: PME# supported from D0 D1 D3hot D3cold
[    0.324922] pci 0000:00:1c.1: PCI bridge to [bus 02]
[    0.330068] pci 0000:00:1c.1:   bridge window [mem 0xdfe00000-0xdfefffff]
[    0.330359] pci 0000:03:00.0: [10ec:8136] type 00 class 0x020000
[    0.330469] pci 0000:03:00.0: reg 0x10: [io  0xe000-0xe0ff]
[    0.330614] pci 0000:03:00.0: reg 0x18: [mem 0xdfd04000-0xdfd04fff 64bit pref]
[    0.332600] pci 0000:03:00.0: reg 0x20: [mem 0xdfd00000-0xdfd03fff 64bit pref]
[    0.333006] pci 0000:03:00.0: supports D1 D2
[    0.333011] pci 0000:03:00.0: PME# supported from D0 D1 D2 D3hot D3cold
[    0.333210] pci 0000:00:1c.2: PCI bridge to [bus 03]
[    0.333620] pci 0000:00:1c.2:   bridge window [io  0xe000-0xefff]
[    0.333630] pci 0000:00:1c.2:   bridge window [mem 0xdfd00000-0xdfdfffff]
[    0.333927] pci 0000:04:00.0: [8086:0896] type 00 class 0x028000
[    0.334057] pci 0000:04:00.0: reg 0x10: [mem 0xdfc00000-0xdfc01fff 64bit]
[    0.334763] pci 0000:04:00.0: PME# supported from D0 D3hot D3cold
[    0.334942] pci 0000:00:1c.3: PCI bridge to [bus 04]
[    0.335350] pci 0000:00:1c.3:   bridge window [mem 0xdfc00000-0xdfcfffff]
[    0.335528] pci 0000:00:1e.0: PCI bridge to [bus 05] (subtractive decode)
[    0.336039] pci 0000:00:1e.0:   bridge window [io  0x0000-0x0cf7 window] (subtractive decode)
[    0.336044] pci 0000:00:1e.0:   bridge window [io  0x0d00-0xffff window] (subtractive decode)
[    0.336049] pci 0000:00:1e.0:   bridge window [mem 0x000a0000-0x000bffff window] (subtractive decode)
[    0.336053] pci 0000:00:1e.0:   bridge window [mem 0x000c0000-0x000dffff window] (subtractive decode)
[    0.336057] pci 0000:00:1e.0:   bridge window [mem 0x000e0000-0x000effff window] (subtractive decode)
[    0.336062] pci 0000:00:1e.0:   bridge window [mem 0x000f0000-0x000fffff window] (subtractive decode)
[    0.336066] pci 0000:00:1e.0:   bridge window [mem 0x7f800000-0x7fffffff window] (subtractive decode)
[    0.336070] pci 0000:00:1e.0:   bridge window [mem 0x80000000-0xfebfffff window] (subtractive decode)
[    0.336130] pci_bus 0000:00: on NUMA node 0
[    0.337515] ACPI: PCI Interrupt Link [LNKA] (IRQs 1 3 4 5 6 7 10 12 14 15) *11
[    0.338262] ACPI: PCI Interrupt Link [LNKB] (IRQs 1 3 4 5 6 7 *11 12 14 15)
[    0.338262] ACPI: PCI Interrupt Link [LNKC] (IRQs 1 3 4 5 6 7 *10 12 14 15)
[    0.338262] ACPI: PCI Interrupt Link [LNKD] (IRQs 1 3 4 5 6 7 *11 12 14 15)
[    0.340011] ACPI: PCI Interrupt Link [LNKE] (IRQs 1 3 4 5 6 7 10 12 14 15) *0, disabled.
[    0.340011] ACPI: PCI Interrupt Link [LNKF] (IRQs 1 3 4 5 6 7 11 12 14 15) *0, disabled.
[    0.340011] ACPI: PCI Interrupt Link [LNKG] (IRQs 1 3 4 5 6 7 *10 12 14 15)
[    0.340011] ACPI: PCI Interrupt Link [LNKH] (IRQs 1 3 4 5 6 7 11 12 14 15) *10
[    0.346039] ACPI: EC: interrupt unblocked
[    0.346039] ACPI: EC: event unblocked
[    0.346039] ACPI: \_SB_.PCI0.SBRG.EC0_: GPE=0x1c, EC_CMD/EC_SC=0x66, EC_DATA=0x62
[    0.346039] ACPI: \_SB_.PCI0.SBRG.EC0_: Used as boot DSDT EC to handle transactions and events
[    0.348684] SCSI subsystem initialized
[    0.349211] libata version 3.00 loaded.
[    0.349211] ACPI: bus type USB registered
[    0.349789] usbcore: registered new interface driver usbfs
[    0.350039] usbcore: registered new interface driver hub
[    0.350749] usbcore: registered new device driver usb
[    0.351384] PCI: Using ACPI for IRQ routing
[    0.351384] PCI: pci_cache_line_size set to 64 bytes
[    0.351384] e820: reserve RAM buffer [mem 0x0009ec00-0x0009ffff]
[    0.351384] e820: reserve RAM buffer [mem 0x7f1b3000-0x7fffffff]
[    0.351384] e820: reserve RAM buffer [mem 0x7f58f000-0x7fffffff]
[    0.351384] e820: reserve RAM buffer [mem 0x7f6f0000-0x7fffffff]
[    0.352856] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    0.353253] hpet0: 3 comparators, 64-bit 14.318180 MHz counter
[    0.355766] clocksource: Switched to clocksource hpet
[    0.356312] pnp: PnP ACPI init
[    0.357109] system 00:00: [mem 0xfed00000-0xfed003ff] has been reserved
[    0.357615] system 00:00: Plug and Play ACPI device, IDs PNP0103 PNP0c01 (active)
[    0.357767] system 00:01: [io  0x0680-0x069f] has been reserved
[    0.358214] system 00:01: [io  0x1000-0x1003] has been reserved
[    0.358667] system 00:01: [io  0x1010-0x101f] has been reserved
[    0.359103] system 00:01: [io  0xffff] has been reserved
[    0.359513] system 00:01: [io  0x0400-0x047f] has been reserved
[    0.359952] system 00:01: [io  0x0500-0x057f] has been reserved
[    0.359952] system 00:01: [io  0x0600-0x061f] has been reserved
[    0.359952] system 00:01: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.359952] system 00:02: [io  0x06a0-0x06af] has been reserved
[    0.359952] system 00:02: [io  0x06b0-0x06ff] has been reserved
[    0.359952] system 00:02: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.359952] pnp 00:03: Plug and Play ACPI device, IDs PNP0b00 (active)
[    0.359952] system 00:04: [io  0x04d0-0x04d1] has been reserved
[    0.359952] system 00:04: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.359952] system 00:05: [io  0x04d0-0x04d1] has been reserved
[    0.359952] system 00:05: [io  0x0400-0x047f] has been reserved
[    0.359952] system 00:05: [io  0x0500-0x053f] has been reserved
[    0.359952] system 00:05: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.359952] system 00:06: [io  0x025d] has been reserved
[    0.359952] system 00:06: [io  0x025c] has been reserved
[    0.359952] system 00:06: [mem 0xfec00000-0xfec00fff] could not be reserved
[    0.360167] system 00:06: [mem 0xfee00000-0xfee00fff] has been reserved
[    0.360645] system 00:06: [mem 0xfec10000-0xfec17fff] has been reserved
[    0.361121] system 00:06: [mem 0xfec18000-0xfec1ffff] has been reserved
[    0.361592] system 00:06: [mem 0xfec20000-0xfec27fff] has been reserved
[    0.362072] system 00:06: [mem 0xfec28000-0xfec2ffff] has been reserved
[    0.362553] system 00:06: [mem 0xff000000-0xffffffff] could not be reserved
[    0.363064] system 00:06: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.363263] pnp 00:07: Plug and Play ACPI device, IDs SYN1d1b SYN1d00 SYN0002 PNP0f13 (active)
[    0.363394] pnp 00:08: Plug and Play ACPI device, IDs PNP0303 PNP030b (active)
[    0.363524] system 00:09: [io  0x0240-0x0259] has been reserved
[    0.363991] system 00:09: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.364393] system 00:0a: [mem 0xfed1c000-0xfed1ffff] has been reserved
[    0.364879] system 00:0a: [mem 0x00000000-0x00003fff] could not be reserved
[    0.365372] system 00:0a: [mem 0x00000000-0x00000fff] could not be reserved
[    0.365873] system 00:0a: [mem 0x00000000-0x00000fff] could not be reserved
[    0.366363] system 00:0a: [mem 0xfed45000-0xfed8ffff] has been reserved
[    0.366857] system 00:0a: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.367408] system 00:0b: [mem 0xfed14000-0xfed19fff] has been reserved
[    0.367898] system 00:0b: [mem 0xe0000000-0xefffffff] has been reserved
[    0.368395] system 00:0b: Plug and Play ACPI device, IDs PNP0c01 (active)
[    0.368805] system 00:0c: [io  0x0400-0x047f] has been reserved
[    0.369252] system 00:0c: [io  0x0500-0x053f] has been reserved
[    0.369693] system 00:0c: [mem 0xfec00000-0xfec00fff] could not be reserved
[    0.370228] system 00:0c: [mem 0xfee00000-0xfee00fff] has been reserved
[    0.370705] system 00:0c: [mem 0xfed1c000-0xfed1ffff] has been reserved
[    0.371182] system 00:0c: [mem 0xfed20000-0xfed8ffff] could not be reserved
[    0.371676] system 00:0c: [mem 0xffe00000-0xffffffff] has been reserved
[    0.372171] system 00:0c: Plug and Play ACPI device, IDs PNP0c02 (active)
[    0.372179] pnp: PnP ACPI: found 13 devices
[    0.380957] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    0.381648] pci 0000:00:1c.0: bridge window [io  0x1000-0x0fff] to [bus 01] add_size 1000
[    0.381656] pci 0000:00:1c.0: bridge window [mem 0x00100000-0x000fffff 64bit pref] to [bus 01] add_size 200000 add_align 100000
[    0.381662] pci 0000:00:1c.0: bridge window [mem 0x00100000-0x000fffff] to [bus 01] add_size 200000 add_align 100000
[    0.381681] pci 0000:00:1c.1: bridge window [io  0x1000-0x0fff] to [bus 02] add_size 1000
[    0.381688] pci 0000:00:1c.1: bridge window [mem 0x00100000-0x000fffff 64bit pref] to [bus 02] add_size 200000 add_align 100000
[    0.381708] pci 0000:00:1c.2: bridge window [mem 0x00100000-0x000fffff 64bit pref] to [bus 03] add_size 200000 add_align 100000
[    0.381726] pci 0000:00:1c.3: bridge window [io  0x1000-0x0fff] to [bus 04] add_size 1000
[    0.381733] pci 0000:00:1c.3: bridge window [mem 0x00100000-0x000fffff 64bit pref] to [bus 04] add_size 200000 add_align 100000
[    0.381781] pci 0000:00:1c.0: BAR 8: assigned [mem 0x80000000-0x801fffff]
[    0.382273] pci 0000:00:1c.0: BAR 9: assigned [mem 0x80200000-0x803fffff 64bit pref]
[    0.382870] pci 0000:00:1c.1: BAR 9: assigned [mem 0x80400000-0x805fffff 64bit pref]
[    0.383462] pci 0000:00:1c.2: BAR 9: assigned [mem 0x80600000-0x807fffff 64bit pref]
[    0.384060] pci 0000:00:1c.3: BAR 9: assigned [mem 0x80800000-0x809fffff 64bit pref]
[    0.384646] pci 0000:00:1c.0: BAR 7: assigned [io  0x2000-0x2fff]
[    0.385095] pci 0000:00:1c.1: BAR 7: assigned [io  0x3000-0x3fff]
[    0.385545] pci 0000:00:1c.3: BAR 7: assigned [io  0x4000-0x4fff]
[    0.385998] pci 0000:00:1c.0: PCI bridge to [bus 01]
[    0.386387] pci 0000:00:1c.0:   bridge window [io  0x2000-0x2fff]
[    0.386830] pci 0000:00:1c.0:   bridge window [mem 0x80000000-0x801fffff]
[    0.387314] pci 0000:00:1c.0:   bridge window [mem 0x80200000-0x803fffff 64bit pref]
[    0.387902] pci 0000:00:1c.1: PCI bridge to [bus 02]
[    0.388285] pci 0000:00:1c.1:   bridge window [io  0x3000-0x3fff]
[    0.388736] pci 0000:00:1c.1:   bridge window [mem 0xdfe00000-0xdfefffff]
[    0.389226] pci 0000:00:1c.1:   bridge window [mem 0x80400000-0x805fffff 64bit pref]
[    0.389817] pci 0000:00:1c.2: PCI bridge to [bus 03]
[    0.390233] pci 0000:00:1c.2:   bridge window [io  0xe000-0xefff]
[    0.390690] pci 0000:00:1c.2:   bridge window [mem 0xdfd00000-0xdfdfffff]
[    0.391180] pci 0000:00:1c.2:   bridge window [mem 0x80600000-0x807fffff 64bit pref]
[    0.391775] pci 0000:00:1c.3: PCI bridge to [bus 04]
[    0.392157] pci 0000:00:1c.3:   bridge window [io  0x4000-0x4fff]
[    0.392608] pci 0000:00:1c.3:   bridge window [mem 0xdfc00000-0xdfcfffff]
[    0.393098] pci 0000:00:1c.3:   bridge window [mem 0x80800000-0x809fffff 64bit pref]
[    0.393700] pci 0000:00:1e.0: PCI bridge to [bus 05]
[    0.394103] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    0.394108] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    0.394113] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    0.394117] pci_bus 0000:00: resource 7 [mem 0x000c0000-0x000dffff window]
[    0.394122] pci_bus 0000:00: resource 8 [mem 0x000e0000-0x000effff window]
[    0.394126] pci_bus 0000:00: resource 9 [mem 0x000f0000-0x000fffff window]
[    0.394131] pci_bus 0000:00: resource 10 [mem 0x7f800000-0x7fffffff window]
[    0.394135] pci_bus 0000:00: resource 11 [mem 0x80000000-0xfebfffff window]
[    0.394140] pci_bus 0000:01: resource 0 [io  0x2000-0x2fff]
[    0.394144] pci_bus 0000:01: resource 1 [mem 0x80000000-0x801fffff]
[    0.394149] pci_bus 0000:01: resource 2 [mem 0x80200000-0x803fffff 64bit pref]
[    0.394153] pci_bus 0000:02: resource 0 [io  0x3000-0x3fff]
[    0.394158] pci_bus 0000:02: resource 1 [mem 0xdfe00000-0xdfefffff]
[    0.394162] pci_bus 0000:02: resource 2 [mem 0x80400000-0x805fffff 64bit pref]
[    0.394166] pci_bus 0000:03: resource 0 [io  0xe000-0xefff]
[    0.394171] pci_bus 0000:03: resource 1 [mem 0xdfd00000-0xdfdfffff]
[    0.394175] pci_bus 0000:03: resource 2 [mem 0x80600000-0x807fffff 64bit pref]
[    0.394179] pci_bus 0000:04: resource 0 [io  0x4000-0x4fff]
[    0.394184] pci_bus 0000:04: resource 1 [mem 0xdfc00000-0xdfcfffff]
[    0.394188] pci_bus 0000:04: resource 2 [mem 0x80800000-0x809fffff 64bit pref]
[    0.394193] pci_bus 0000:05: resource 4 [io  0x0000-0x0cf7 window]
[    0.394197] pci_bus 0000:05: resource 5 [io  0x0d00-0xffff window]
[    0.394202] pci_bus 0000:05: resource 6 [mem 0x000a0000-0x000bffff window]
[    0.394206] pci_bus 0000:05: resource 7 [mem 0x000c0000-0x000dffff window]
[    0.394210] pci_bus 0000:05: resource 8 [mem 0x000e0000-0x000effff window]
[    0.394215] pci_bus 0000:05: resource 9 [mem 0x000f0000-0x000fffff window]
[    0.394219] pci_bus 0000:05: resource 10 [mem 0x7f800000-0x7fffffff window]
[    0.394224] pci_bus 0000:05: resource 11 [mem 0x80000000-0xfebfffff window]
[    0.394458] NET: Registered protocol family 2
[    0.395149] TCP established hash table entries: 16384 (order: 5, 131072 bytes)
[    0.395801] TCP bind hash table entries: 16384 (order: 6, 262144 bytes)
[    0.396424] TCP: Hash tables configured (established 16384 bind 16384)
[    0.397028] UDP hash table entries: 1024 (order: 3, 32768 bytes)
[    0.397512] UDP-Lite hash table entries: 1024 (order: 3, 32768 bytes)
[    0.398146] NET: Registered protocol family 1
[    0.398540] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    0.401674] PCI: CLS 64 bytes, default 64
[    0.404203] workingset: timestamp_bits=62 max_order=19 bucket_order=0
[    0.408673] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.410642] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 249)
[    0.411230] io scheduler noop registered
[    0.411556] io scheduler deadline registered (default)
[    0.412180] gpio_it87: Unknown Chip found, Chip 0202 Revision 2
[    0.413720] hv_vmbus: registering driver hv_pci
[    0.414138] hv_vmbus: registering driver hyperv_fb
[    0.414552] intel_idle: MWAIT substates: 0x3020220
[    0.414554] intel_idle: v0.4.1 model 0x36
[    0.415019] intel_idle: lapic_timer_reliable_states 0xffffffff
[    0.415333] ACPI: AC Adapter [AC0] (on-line)
[    0.440589] input: Lid Switch as /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0D:00/input/input0
[    0.470262] ACPI: Lid Switch [LID]
[    0.470749] input: Sleep Button as /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0E:00/input/input1
[    0.471442] ACPI: Sleep Button [SLPB]
[    0.471890] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input2
[    0.472528] ACPI: Power Button [PWRF]
[    0.474911] (NULL device *): hwmon_device_register() is deprecated. Please convert the driver to use hwmon_device_register_with_info().
[    0.475996] thermal LNXTHERM:00: registered as thermal_zone0
[    0.476418] ACPI: Thermal Zone [THRM] (63 C)
[    0.477238] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.480090] Non-volatile memory driver v1.3
[    0.483829] loop: module loaded
[    0.484309] Guest personality initialized and is inactive
[    0.484904] VMCI host device registered (name=vmci, major=10, minor=63)
[    0.485403] Initialized host personality
[    0.485993] ACPI Warning: SystemIO range 0x0000000000000428-0x000000000000042F conflicts with OpRegion 0x0000000000000400-0x000000000000042F (\SWC1) (20170728/utaddress-247)
[    0.487067] ACPI Warning: SystemIO range 0x0000000000000428-0x000000000000042F conflicts with OpRegion 0x0000000000000400-0x000000000000047F (\PMIO) (20170728/utaddress-247)
[    0.488126] ACPI Warning: SystemIO range 0x0000000000000428-0x000000000000042F conflicts with OpRegion 0x0000000000000400-0x000000000000044F (\GPIS) (20170728/utaddress-247)
[    0.489188] ACPI Warning: SystemIO range 0x0000000000000428-0x000000000000042F conflicts with OpRegion 0x0000000000000400-0x000000000000047F (\PMIX) (20170728/utaddress-247)
[    0.490317] ACPI Warning: SystemIO range 0x0000000000000428-0x000000000000042F conflicts with OpRegion 0x0000000000000400-0x000000000000047F (\_SB.PCI0.VGA.TCOI) (20170728/utaddress-247)
[    0.491442] ACPI: If an ACPI driver is available for this device, you should use it instead of the native driver
[    0.492164] ACPI Warning: SystemIO range 0x0000000000000530-0x000000000000053F conflicts with OpRegion 0x0000000000000500-0x000000000000053B (\GPIO) (20170728/utaddress-247)
[    0.493231] ACPI Warning: SystemIO range 0x0000000000000530-0x000000000000053F conflicts with OpRegion 0x0000000000000500-0x000000000000057F (\GPXX) (20170728/utaddress-247)
[    0.495362] ACPI: If an ACPI driver is available for this device, you should use it instead of the native driver
[    0.496081] ACPI Warning: SystemIO range 0x0000000000000500-0x000000000000052F conflicts with OpRegion 0x0000000000000500-0x000000000000053B (\GPIO) (20170728/utaddress-247)
[    0.497151] ACPI Warning: SystemIO range 0x0000000000000500-0x000000000000052F conflicts with OpRegion 0x0000000000000500-0x000000000000057F (\GPXX) (20170728/utaddress-247)
[    0.498214] ACPI: If an ACPI driver is available for this device, you should use it instead of the native driver
[    0.498935] lpc_ich: Resource conflict(s) found affecting gpio_ich
[    0.499659] VMware PVSCSI driver - version 1.0.7.0-k
[    0.500186] hv_vmbus: registering driver hv_storvsc
[    0.500738] ahci 0000:00:1f.2: version 3.0
[    0.501106] ahci 0000:00:1f.2: SSS flag set, parallel bus scan disabled
[    0.501649] ahci 0000:00:1f.2: AHCI 0001.0100 32 slots 4 ports 3 Gbps 0x3 impl SATA mode
[    0.502258] ahci 0000:00:1f.2: flags: 64bit ncq stag pm led clo pio slum part 
[    0.504418] scsi host0: ahci
[    0.505055] scsi host1: ahci
[    0.505678] scsi host2: ahci
[    0.506330] scsi host3: ahci
[    0.506778] ata1: SATA max UDMA/133 abar m1024@0xdff04000 port 0xdff04100 irq 24
[    0.507357] ata2: SATA max UDMA/133 abar m1024@0xdff04000 port 0xdff04180 irq 24
[    0.507918] ata3: DUMMY
[    0.508159] ata4: DUMMY
[    0.508915] VMware vmxnet3 virtual NIC driver - version 1.4.a.0-k-NAPI
[    0.509469] hv_vmbus: registering driver hv_netvsc
[    0.509854] Fusion MPT base driver 3.04.20
[    0.510250] Copyright (c) 1999-2008 LSI Corporation
[    0.510709] Fusion MPT SPI Host driver 3.04.20
[    0.511120] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    0.511607] ehci-pci: EHCI PCI platform driver
[    0.512763] ehci-pci 0000:00:1d.7: EHCI Host Controller
[    0.513192] ehci-pci 0000:00:1d.7: new USB bus registered, assigned bus number 1
[    0.513793] ehci-pci 0000:00:1d.7: debug port 1
[    0.514113] ACPI: Battery Slot [BAT0] (battery present)
[    0.518488] ehci-pci 0000:00:1d.7: cache line size of 64 is not supported
[    0.518522] ehci-pci 0000:00:1d.7: irq 23, io mem 0xdff05000
[    0.540123] ehci-pci 0000:00:1d.7: USB 2.0 started, EHCI 1.00
[    0.541063] hub 1-0:1.0: USB hub found
[    0.541418] hub 1-0:1.0: 8 ports detected
[    0.542734] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    0.543221] ohci-pci: OHCI PCI platform driver
[    0.543620] ohci-platform: OHCI generic platform driver
[    0.544568] xhci_hcd 0000:02:00.0: xHCI Host Controller
[    0.544990] xhci_hcd 0000:02:00.0: new USB bus registered, assigned bus number 2
[    0.546233] xhci_hcd 0000:02:00.0: hcc params 0x200073a1 hci version 0x100 quirks 0x00080010
[    0.547982] hub 2-0:1.0: USB hub found
[    0.548435] hub 2-0:1.0: 2 ports detected
[    0.549241] xhci_hcd 0000:02:00.0: xHCI Host Controller
[    0.549668] xhci_hcd 0000:02:00.0: new USB bus registered, assigned bus number 3
[    0.550303] xhci_hcd 0000:02:00.0: Host supports USB 3.0  SuperSpeed
[    0.550935] usb usb3: We don't know the algorithms for LPM for this host, disabling LPM.
[    0.551899] hub 3-0:1.0: USB hub found
[    0.552349] hub 3-0:1.0: 2 ports detected
[    0.553301] usbcore: registered new interface driver usb-storage
[    0.553955] i8042: PNP: PS/2 Controller [PNP0303:PS2K,PNP0f13:PS2M] at 0x60,0x64 irq 1,12
[    0.556563] i8042: Detected active multiplexing controller, rev 1.1
[    0.559170] serio: i8042 KBD port at 0x60,0x64 irq 1
[    0.559568] serio: i8042 AUX0 port at 0x60,0x64 irq 12
[    0.559965] serio: i8042 AUX1 port at 0x60,0x64 irq 12
[    0.560407] serio: i8042 AUX2 port at 0x60,0x64 irq 12
[    0.560808] serio: i8042 AUX3 port at 0x60,0x64 irq 12
[    0.561255] hv_vmbus: registering driver hyperv_keyboard
[    0.561774] rtc_cmos 00:03: RTC can wake from S4
[    0.562370] rtc_cmos 00:03: rtc core: registered rtc_cmos as rtc0
[    0.562869] rtc_cmos 00:03: alarms up to one month, y3k, 242 bytes nvram, hpet irqs
[    0.564393] sdhci: Secure Digital Host Controller Interface driver
[    0.564865] sdhci: Copyright(c) Pierre Ossman
[    0.566006] hidraw: raw HID events driver (C) Jiri Kosina
[    0.566486] hv_vmbus: registering driver hid_hyperv
[    0.566915] usbcore: registered new interface driver usbhid
[    0.567337] usbhid: USB HID core driver
[    0.567684] hv_utils: Registering HyperV Utility Driver
[    0.568088] hv_vmbus: registering driver hv_util
[    0.568454] hv_vmbus: registering driver hv_balloon
[    0.569382] NET: Registered protocol family 10
[    0.570351] Segment Routing with IPv6
[    0.570715] NET: Registered protocol family 17
[    0.571097] bridge: filtering via arp/ip/ip6tables is no longer available by default. Update your scripts to load br_netfilter if you need this.
[    0.571999] 8021q: 802.1Q VLAN Support v1.8
[    0.572509] NET: Registered protocol family 40
[    0.573685] microcode: sig=0x30661, pf=0x8, revision=0x10c
[    0.574234] microcode: Microcode Update Driver: v2.2.
[    0.574273] sched_clock: Marking stable (573441123, 0)-&gt;(657968060, -84526937)
[    0.575503] registered taskstats version 1
[    0.576740] rtc_cmos 00:03: setting system clock to 2018-09-07 16:15:12 UTC (1536336912)
[    0.584900] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input3
[    0.831528] ata1: SATA link up 3.0 Gbps (SStatus 123 SControl 300)
[    0.834278] ata1.00: ATA-8: WDC WD3200BPVT-24JJ5T0, 01.01A01, max UDMA/133
[    0.834837] ata1.00: 625142448 sectors, multi 16: LBA48 NCQ (depth 31/32), AA
[    0.837583] ata1.00: configured for UDMA/133
[    0.838642] scsi 0:0:0:0: Direct-Access     ATA      WDC WD3200BPVT-2 1A01 PQ: 0 ANSI: 5
[    0.841240] sd 0:0:0:0: [sda] 625142448 512-byte logical blocks: (320 GB/298 GiB)
[    0.841885] sd 0:0:0:0: [sda] 4096-byte physical blocks
[    0.842433] sd 0:0:0:0: [sda] Write Protect is off
[    0.842862] sd 0:0:0:0: [sda] Mode Sense: 00 3a 00 00
[    0.843052] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    0.877982]  sda: sda1 sda2
[    0.880409] sd 0:0:0:0: [sda] Attached SCSI disk
[    1.171549] ata2: SATA link down (SStatus 0 SControl 300)
[    1.186977] VFS: Mounted root (squashfs filesystem) readonly on device 8:2.
[    1.194364] Freeing unused kernel memory: 1052K
[    1.230632] Write protecting the kernel read-only data: 12288k
[    1.235448] Freeing unused kernel memory: 2024K
[    1.252890] Freeing unused kernel memory: 736K
[    1.487895] tsc: Refined TSC clocksource calibration: 1595.999 MHz
[    1.488460] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x17016147f12, max_idle_ns: 440795216557 ns
[    1.566812] init: Console is alive
[    1.796421] kmodloader: loading kernel modules from /etc/modules-boot.d/*
[    1.821964] pps_core: LinuxPPS API ver. 1 registered
[    1.822364] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt;
[    1.823647] PTP clock support registered
[    1.824343] Button Hotplug driver version 0.4.1
[    1.824818] kmodloader: done loading kernel modules from /etc/modules-boot.d/*
[    1.830753] init: - preinit -
[    1.890124] usb 1-6: new high-speed USB device number 3 using ehci-pci
[    2.267747] random: jshn: uninitialized urandom read (4 bytes read)
[    2.309827] random: jshn: uninitialized urandom read (4 bytes read)
[    2.316834] random: jshn: uninitialized urandom read (4 bytes read)
[    2.470351] usb 1-7: new high-speed USB device number 4 using ehci-pci
[    2.490506] clocksource: Switched to clocksource tsc
[    2.691721] usb-storage 1-7:1.0: USB Mass Storage device detected
[    2.692832] scsi host4: usb-storage 1-7:1.0
[    3.754161] scsi 4:0:0:0: Direct-Access     Generic- Multi-Card       1.00 PQ: 0 ANSI: 0 CCS
[    3.765748] sd 4:0:0:0: [sdb] Attached SCSI removable disk
[    5.433172] urandom_read: 5 callbacks suppressed
[    5.433177] random: jshn: uninitialized urandom read (4 bytes read)
[    5.722679] F2FS-fs (loop0): Mounted with checkpoint version = 1a030d9d
[    5.751832] mount_root: switching to f2fs overlay
[    5.833723] EXT4-fs (sda1): mounted filesystem without journal. Opts: (null)
[    5.839672] urandom-seed: Seeding with /etc/urandom.seed
[    5.914891] procd: - early -
[    6.557234] procd: - ubus -
[    6.596946] random: ubusd: uninitialized urandom read (4 bytes read)
[    6.610617] procd: - init -
[    6.950178] kmodloader: loading kernel modules from /etc/modules.d/*
[    6.954303] tun: Universal TUN/TAP device driver, 1.6
[    6.958028] e1000: Intel(R) PRO/1000 Network Driver - version 7.3.21-k8-NAPI
[    6.958547] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    6.961325] igb: Intel(R) Gigabit Ethernet Network Driver - version 5.4.0-k
[    6.961834] igb: Copyright (c) 2007-2014 Intel Corporation.
[    6.964069] ip6_tables: (C) 2000-2006 Netfilter Core Team
[    7.426558] Netfilter messages via NETLINK v0.30.
[    7.428839] ip_set: protocol 6
[    7.450984] i2c /dev entries driver
[    7.487885] Loading modules backported from Linux version wt-2017-11-01-0-gfe248fc2c180
[    7.488578] Backport generated by backports.git v4.14-rc2-1-31-g86cf0e5d
[    7.492106] e1000e: Intel(R) PRO/1000 Network Driver - 3.2.6-k
[    7.492562] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    7.494282] ip_tables: (C) 2000-2006 Netfilter Core Team
[    7.898600] nf_conntrack version 0.5.0 (16384 buckets, 65536 max)
[    8.147745] r8169 Gigabit Ethernet driver 2.3LK-NAPI loaded
[    8.149259] r8169 0000:03:00.0 eth0: RTL8105e at 0xffffc9000000b000, e8:40:f2:3f:a9:58, XID 00a00000 IRQ 30
[    8.154185] wireguard: WireGuard 0.0.20180718 loaded. See www.wireguard.com for information.
[    8.155901] wireguard: Copyright (C) 2015-2018 Jason A. Donenfeld &lt;Jason@zx2c4.com&gt;. All Rights Reserved.
[    8.174092] xt_time: kernel timezone is -0000
[    8.411155] Intel(R) Wireless WiFi driver for Linux
[    8.411610] Copyright(c) 2003- 2015 Intel Corporation
[    8.445655] PPP generic driver version 2.4.2
[    8.447497] NET: Registered protocol family 24
[    8.454488] iwlwifi 0000:04:00.0: loaded firmware version 18.168.6.1 op_mode iwldvm
[    8.455168] iwlwifi 0000:04:00.0: CPTCFG_IWLWIFI_DEBUG disabled
[    8.455610] iwlwifi 0000:04:00.0: CPTCFG_IWLWIFI_DEBUGFS disabled
[    8.456054] iwlwifi 0000:04:00.0: CPTCFG_IWLWIFI_DEVICE_TRACING disabled
[    8.456529] iwlwifi 0000:04:00.0: Detected Intel(R) Centrino(R) Wireless-N 130 BGN, REV=0xB0
[    8.501089] ieee80211 phy0: Selected rate control algorithm 'iwl-agn-rs'
[    8.504079] kmodloader: done loading kernel modules from /etc/modules.d/*
[   11.792405] r8169 0000:03:00.0 eth0: link down
[   11.792453] r8169 0000:03:00.0 eth0: link down
[   11.903937] random: fast init done
[   13.415479] r8169 0000:03:00.0 eth0: link up
[   30.131354] random: crng init done
</pre>
	</td>
</tr>
<tr id="task692" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>08.04.2017</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=692" title="Assigned | WLAN AP not working on RasPi (bcm2710 target) | 50%" >692</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,692)" onmouseout="Hide(this, 692)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=692" title="Assigned | WLAN AP not working on RasPi (bcm2710 target) | 50%" >WLAN AP not working on RasPi (bcm2710 target)</a></td><td class='task_reportedin'>Trunk</td><td class='task_status sta3'>Assigned</td>	<td id="desc_692" class="descbox box">
	<b>Task Description</b>
	
<p>
When flashing the brcm2708 / bcm2710 target the WiFi interface gets stuck in &ldquo;client mode&rdquo; and the AP will not be able to be brought up. 
</p>

<p>
Some screenshots and a load of discussion here: <br /><a href="https://forum.lede-project.org/t/ap-mode-radio0-in-raspi-3-always-acts-as-a-client-shows-as-wlan0-in-luci/2885" class="urlextern" title="https://forum.lede-project.org/t/ap-mode-radio0-in-raspi-3-always-acts-as-a-client-shows-as-wlan0-in-luci/2885">https://forum.lede-project.org/t/ap-mode-radio0-in-raspi-3-always-acts-as-a-client-shows-as-wlan0-in-luci/2885</a>
</p>

<p>
Two more days of tinkering, wifi-up&rsquo;ing and -down&rsquo;ing did not bring me further. <br />I flashed another Pi3 (to exclude a hardware defect) with the same result. 
</p>

<p>
I tried latest snapshot and stable images. <br />I am happy to help debug  &ndash;  tell me what you need me to do. 
</p>

<p>
Greetings, <br />&ndash;Thomas<br />
</p>
	</td>
</tr>
<tr id="task634" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>17.03.2017</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=634" title="New | Factory flashing fails because LEDE filename is too long (&gt;= 64  | 0%" >634</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,634)" onmouseout="Hide(this, 634)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=634" title="New | Factory flashing fails because LEDE filename is too long (&gt;= 64  | 0%" >Factory flashing fails because LEDE filename is too lon</a>...<i class="tag t537 " title="factory"></i><i class="tag t536" title="TL-WR841Nv11"></i><i class="tag t250" title="filename"></i><i class="tag t179" title="TP-Link"></i></td><td class='task_reportedin'>All</td><td class='task_status sta2'>New</td>	<td id="desc_634" class="descbox box">
	<b>Task Description</b>
	
<p>
On a TP-Link TL-WR841N v11, flashing LEDE from the web interface of the stock firmware is not possible.
</p>

<p>
This is caused by a stupid check that refuses filename longer than 64 chars in the web interface.  The check is implemented in javascript and returns a cryptic error message like &ldquo;Please select a file to upload&rdquo;, as if no file was selected.
</p>

<p>
The current naming scheme is quite long:
</p>

<p>
$ echo &lsquo;lede-17.01.0-r3205-59508e3-ar71xx-generic-tl-wr841-v11-squashfs-factory-eu.bin&rsquo; | wc -c<br />79
</p>

<p>
Shortening the name like the following would decrease the length below 64 chars, and leave some space for a custom suffix (e.g. using EXTRA_IMAGE_NAME in the Imagebuilder):
</p>

<p>
$ echo &lsquo;lede-17.01.0-ar71xx-tlwr841v11-squashfs-factory-eu.bin&rsquo; | wc -c<br />55<br />
</p>
	</td>
</tr>
<tr id="task609" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>09.03.2017</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=609" title="New | procd: implement runlevel 1 | 0%" >609</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ2'>Feature Request</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,609)" onmouseout="Hide(this, 609)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=609" title="New | procd: implement runlevel 1 | 0%" >procd: implement runlevel 1</a></td><td class='task_reportedin'>Trunk</td><td class='task_status sta2'>New</td>	<td id="desc_609" class="descbox box">
	<b>Task Description</b>
	
<p>
Sysupgrade currently kills processes with SIGKILL if they don&rsquo;t shut down within 3 seconds after the SIGTERM signal. Some processes (e.g. domoticz) can take longer than 3 seconds to properly shut down. As this can potentially corrupt the sqlite database, it should be avoided.
</p>

<p>
While talking about this on <acronym title="Internet Relay Chat">IRC</acronym>, it was suggested we should implement an &ldquo;init 1&rdquo; equivalent in procd. Adding this ticket as a reminder.<br />
</p>
	</td>
</tr>
<tr id="task395" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>17.01.2017</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=395" title="New | mac80211.sh: detect_mac80211 should check available channels | 0%" >395</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,395)" onmouseout="Hide(this, 395)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=395" title="New | mac80211.sh: detect_mac80211 should check available channels | 0%" >mac80211.sh: detect_mac80211 should check available cha</a>...</td><td class='task_reportedin'>Trunk</td><td class='task_status sta2'>New</td>	<td id="desc_395" class="descbox box">
	<b>Task Description</b>
	
<p>
This problem was reported by few Netgear R8000 users and I managed to reproduce it. It&rsquo;s related to the following code:<br />
</p>
<pre class="code">		vht_cap=$(iw phy &quot;$dev&quot; info | grep -c 'VHT Capabilities')
		cap_5ghz=$(iw phy &quot;$dev&quot; info | grep -c &quot;Band 2&quot;)
		[ &quot;$vht_cap&quot; -gt 0 -a &quot;$cap_5ghz&quot; -gt 0 ] &amp;&amp; {
			mode_band=&quot;a&quot;;
			channel=&quot;36&quot;
			htmode=&quot;VHT80&quot;
		}</pre>



<h1 id="defaulthtmode">Default htmode</h1>
<div class="level1">

<p>
The first problem is that even if hardware supports VHT80 it may be not available for every/any current channel. If channel 36 doesn&rsquo;t support VHT80, for better user experience, it shouldn&rsquo;t be set in /etc/config/wireless by default. Example:
</p>
<pre class="code">root@lede:/# iw phy phy2 info
Wiphy phy2
        max # scan SSIDs: 10
        max scan IEs length: 2048 bytes
        max # sched scan SSIDs: 0
        max # match sets: 0
        max # scan plans: 1
        max scan plan interval: -1
        max scan plan iterations: 0
        Retry short limit: 7
        Retry long limit: 4
        Coverage class: 0 (up to 0m)
        Device supports roaming.
        Available Antennas: TX 0 RX 0
        Supported interface modes:
                 * IBSS
                 * managed
                 * AP
                 * P2P-client
                 * P2P-GO
                 * P2P-device
        Band 2:
                Capabilities: 0x1062
                        HT20/HT40
                        Static SM Power Save
                        RX HT20 SGI
                        RX HT40 SGI
                        No RX STBC
                        Max AMSDU length: 3839 bytes
                        DSSS/CCK HT40
                Maximum RX AMPDU length 65535 bytes (exponent: 0x003)
                Minimum RX AMPDU time spacing: 16 usec (0x07)
                HT TX/RX MCS rate indexes supported: 0-23
                VHT Capabilities (0x0c025820):
                        Max MPDU length: 3895
                        Supported Channel Width: neither 160 nor 80+80
                        short GI (80 MHz)
                        SU Beamformer
                        SU Beamformee
                VHT RX MCS set:
                        1 streams: MCS 0-9
                        2 streams: MCS 0-9
                        3 streams: MCS 0-9
                        4 streams: not supported
                        5 streams: not supported
                        6 streams: not supported
                        7 streams: not supported
                        8 streams: not supported
                VHT RX highest supported: 0 Mbps
                VHT TX MCS set:
                        1 streams: MCS 0-9
                        2 streams: MCS 0-9
                        3 streams: MCS 0-9
                        4 streams: not supported
                        5 streams: not supported
                        6 streams: not supported
                        7 streams: not supported
                        8 streams: not supported
                VHT TX highest supported: 0 Mbps
                Frequencies:
                        * 5170 MHz [34] (disabled)
                        * 5180 MHz [36] (20.0 dBm)
                        * 5190 MHz [38] (disabled)
                        * 5200 MHz [40] (20.0 dBm)
                        * 5210 MHz [42] (disabled)
                        * 5220 MHz [44] (20.0 dBm)
                        * 5230 MHz [46] (disabled)
                        * 5240 MHz [48] (20.0 dBm)
                        * 5260 MHz [52] (20.0 dBm) (no IR, radar detection)
                        * 5280 MHz [56] (20.0 dBm) (no IR, radar detection)
                        * 5300 MHz [60] (20.0 dBm) (no IR, radar detection)
                        * 5320 MHz [64] (20.0 dBm) (no IR, radar detection)
                        * 5500 MHz [100] (20.0 dBm) (no IR, radar detection)
                        * 5520 MHz [104] (20.0 dBm) (no IR, radar detection)
                        * 5540 MHz [108] (20.0 dBm) (no IR, radar detection)
                        * 5560 MHz [112] (20.0 dBm) (no IR, radar detection)
                        * 5580 MHz [116] (20.0 dBm) (no IR, radar detection)
                        * 5600 MHz [120] (20.0 dBm) (no IR, radar detection)
                        * 5620 MHz [124] (20.0 dBm) (no IR, radar detection)
                        * 5640 MHz [128] (20.0 dBm) (no IR, radar detection)
                        * 5660 MHz [132] (20.0 dBm) (no IR, radar detection)
                        * 5680 MHz [136] (20.0 dBm) (no IR, radar detection)
                        * 5700 MHz [140] (20.0 dBm) (no IR, radar detection)
                        * 5720 MHz [144] (disabled)
                        * 5745 MHz [149] (disabled)
                        * 5765 MHz [153] (disabled)
                        * 5785 MHz [157] (disabled)
                        * 5805 MHz [161] (disabled)
                        * 5825 MHz [165] (disabled)
        valid interface combinations:
                 * #{ managed } &lt;= 1, #{ P2P-device } &lt;= 1, #{ P2P-client, P2P-GO } &lt;= 1,
                   total &lt;= 3, #channels &lt;= 1
                 * #{ managed } &lt;= 1, #{ AP } &lt;= 1, #{ P2P-client } &lt;= 1, #{ P2P-device } &lt;= 1,
                   total &lt;= 4, #channels &lt;= 1
                 * #{ AP } &lt;= 4,
                   total &lt;= 4, #channels &lt;= 1, STA/AP BI must match
root@lede:/# iw phy phy2 channels
Band 2:
        * 5170 MHz [34] (disabled)
        * 5180 MHz [36] 
          Maximum TX power: 20.0 dBm
          Channel widths: 20MHz HT40+
        * 5190 MHz [38] (disabled)
        * 5200 MHz [40] 
          Maximum TX power: 20.0 dBm
          Channel widths: 20MHz HT40-
        * 5210 MHz [42] (disabled)
        * 5220 MHz [44] 
          Maximum TX power: 20.0 dBm
          Channel widths: 20MHz HT40+
        * 5230 MHz [46] (disabled)
        * 5240 MHz [48] 
          Maximum TX power: 20.0 dBm
          Channel widths: 20MHz HT40-
        * 5260 MHz [52] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40+
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5280 MHz [56] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40-
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5300 MHz [60] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40+
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5320 MHz [64] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40-
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5500 MHz [100] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40+
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5520 MHz [104] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40-
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5540 MHz [108] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40+
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5560 MHz [112] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40-
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5580 MHz [116] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40+
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5600 MHz [120] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40-
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5620 MHz [124] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40+
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5640 MHz [128] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40-
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5660 MHz [132] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40+
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5680 MHz [136] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz HT40-
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5700 MHz [140] 
          Maximum TX power: 20.0 dBm
          No IR
          Radar detection
          Channel widths: 20MHz
          DFS state: usable (for 163 sec)
          DFS CAC time: 0 ms
        * 5720 MHz [144] (disabled)
        * 5745 MHz [149] (disabled)
        * 5765 MHz [153] (disabled)
        * 5785 MHz [157] (disabled)
        * 5805 MHz [161] (disabled)
        * 5825 MHz [165] (disabled)</pre>

<p>
 as you can see, VHT80 isn&rsquo;t support on any currently available channel due to regulatory limits.<br />
</p>

</div>

<h1 id="defaultchannel">Default channel</h1>
<div class="level1">

<p>
Picking channel 36 blindly is a bad idea as it may not be available. In case of phy0/radio0 on Netgear R8000 only available channels are 149+ due to hardware/board design (see <a href="https://patchwork.kernel.org/patch/9516629/" class="urlextern" title="https://patchwork.kernel.org/patch/9516629/">ARM: BCM5301X: Set 5 GHz wireless frequency limits on Netgear R8000</a><a href="" class="internallink"></a>).<br />
</p>
<pre class="code">root@lede:/# iw phy phy0 info
Wiphy phy0
        max # scan SSIDs: 10
        max scan IEs length: 2048 bytes
        max # sched scan SSIDs: 0
        max # match sets: 0
        max # scan plans: 1
        max scan plan interval: -1
        max scan plan iterations: 0
        Retry short limit: 7
        Retry long limit: 4
        Coverage class: 0 (up to 0m)
        Device supports roaming.
        Available Antennas: TX 0 RX 0
        Supported interface modes:
                 * IBSS
                 * managed
                 * AP
                 * P2P-client
                 * P2P-GO
                 * P2P-device
        Band 2:
                Capabilities: 0x1062
                        HT20/HT40
                        Static SM Power Save
                        RX HT20 SGI
                        RX HT40 SGI
                        No RX STBC
                        Max AMSDU length: 3839 bytes
                        DSSS/CCK HT40
                Maximum RX AMPDU length 65535 bytes (exponent: 0x003)
                Minimum RX AMPDU time spacing: 16 usec (0x07)
                HT TX/RX MCS rate indexes supported: 0-23
                VHT Capabilities (0x0c025820):
                        Max MPDU length: 3895
                        Supported Channel Width: neither 160 nor 80+80
                        short GI (80 MHz)
                        SU Beamformer
                        SU Beamformee
                VHT RX MCS set:
                        1 streams: MCS 0-9
                        2 streams: MCS 0-9
                        3 streams: MCS 0-9
                        4 streams: not supported
                        5 streams: not supported
                        6 streams: not supported
                        7 streams: not supported
                        8 streams: not supported
                VHT RX highest supported: 0 Mbps
                VHT TX MCS set:
                        1 streams: MCS 0-9
                        2 streams: MCS 0-9
                        3 streams: MCS 0-9
                        4 streams: not supported
                        5 streams: not supported
                        6 streams: not supported
                        7 streams: not supported
                        8 streams: not supported
                VHT TX highest supported: 0 Mbps
                Frequencies:
                        * 5170 MHz [34] (disabled)
                        * 5180 MHz [36] (disabled)
                        * 5190 MHz [38] (disabled)
                        * 5200 MHz [40] (disabled)
                        * 5210 MHz [42] (disabled)
                        * 5220 MHz [44] (disabled)
                        * 5230 MHz [46] (disabled)
                        * 5240 MHz [48] (disabled)
                        * 5260 MHz [52] (disabled)
                        * 5280 MHz [56] (disabled)
                        * 5300 MHz [60] (disabled)
                        * 5320 MHz [64] (disabled)
                        * 5500 MHz [100] (disabled)
                        * 5520 MHz [104] (disabled)
                        * 5540 MHz [108] (disabled)
                        * 5560 MHz [112] (disabled)
                        * 5580 MHz [116] (disabled)
                        * 5600 MHz [120] (disabled)
                        * 5620 MHz [124] (disabled)
                        * 5640 MHz [128] (disabled)
                        * 5660 MHz [132] (disabled)
                        * 5680 MHz [136] (disabled)
                        * 5700 MHz [140] (disabled)
                        * 5720 MHz [144] (disabled)
                        * 5745 MHz [149] (20.0 dBm)
                        * 5765 MHz [153] (20.0 dBm)
                        * 5785 MHz [157] (20.0 dBm)
                        * 5805 MHz [161] (20.0 dBm)
                        * 5825 MHz [165] (20.0 dBm)
        valid interface combinations:
                 * #{ managed } &lt;= 1, #{ P2P-device } &lt;= 1, #{ P2P-client, P2P-GO } &lt;= 1,
                   total &lt;= 3, #channels &lt;= 1
                 * #{ managed } &lt;= 1, #{ AP } &lt;= 1, #{ P2P-client } &lt;= 1, #{ P2P-device } &lt;= 1,
                   total &lt;= 4, #channels &lt;= 1
                 * #{ AP } &lt;= 4,
                   total &lt;= 4, #channels &lt;= 1, STA/AP BI must match
root@lede:/# iw phy phy0 channels
Band 2:
        * 5170 MHz [34] (disabled)
        * 5180 MHz [36] (disabled)
        * 5190 MHz [38] (disabled)
        * 5200 MHz [40] (disabled)
        * 5210 MHz [42] (disabled)
        * 5220 MHz [44] (disabled)
        * 5230 MHz [46] (disabled)
        * 5240 MHz [48] (disabled)
        * 5260 MHz [52] (disabled)
        * 5280 MHz [56] (disabled)
        * 5300 MHz [60] (disabled)
        * 5320 MHz [64] (disabled)
        * 5500 MHz [100] (disabled)
        * 5520 MHz [104] (disabled)
        * 5540 MHz [108] (disabled)
        * 5560 MHz [112] (disabled)
        * 5580 MHz [116] (disabled)
        * 5600 MHz [120] (disabled)
        * 5620 MHz [124] (disabled)
        * 5640 MHz [128] (disabled)
        * 5660 MHz [132] (disabled)
        * 5680 MHz [136] (disabled)
        * 5700 MHz [140] (disabled)
        * 5720 MHz [144] (disabled)
        * 5745 MHz [149] 
          Maximum TX power: 20.0 dBm
          Channel widths: 20MHz HT40+ VHT80
        * 5765 MHz [153] 
          Maximum TX power: 20.0 dBm
          Channel widths: 20MHz HT40- VHT80
        * 5785 MHz [157] 
          Maximum TX power: 20.0 dBm
          Channel widths: 20MHz HT40+ VHT80
        * 5805 MHz [161] 
          Maximum TX power: 20.0 dBm
          Channel widths: 20MHz HT40- VHT80
        * 5825 MHz [165] 
          Maximum TX power: 20.0 dBm
          Channel widths: 20MHz</pre>

</div>
	</td>
</tr>
<tr id="task227" class="severity4">
	<td class="caret"></td>
	<td class='task_dateopened'>14.10.2016</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=227" title="Researching | VLAN support mismatch between preinit and default network config | 0%" >227</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev4'>High</td><td class='task_summary' onmouseover="Show(this,227)" onmouseout="Hide(this, 227)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=227" title="Researching | VLAN support mismatch between preinit and default network config | 0%" >VLAN support mismatch between preinit and default netwo</a>...<i class="tag t471 " title="WRT1900ACS"></i><i class="tag t357" title="mvebu"></i><i class="tag t264" title="vlan"></i><i class="tag t259" title="Switch"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta4'>Researching</td>	<td id="desc_227" class="descbox box">
	<b>Task Description</b>
	
<p>
PPPoE is broken on WRT1900ACS
</p>

<p>
Upgraded from Lede r578 to latest Lede r1814 and PPPOE doesn&rsquo;t work anymore altough the pppd version and PPPoE version are the same: <br /> - Linksys WRT1900ACS<br /> - LEDE reboot r1814
</p>

<p>
pppd debug log:
</p>

<p>
Plugin rp-pppoe.so loaded.<br />RP-PPPoE plugin version 3.8p compiled against pppd 2.4.7<br />Send PPPOE Discovery V1T1 PADI session 0&times;0 length 4<br /> dst ff:ff:ff:ff:ff:ff  src c2:56:27:ca:d7:d4<br /> [service-name]<br />Send PPPOE Discovery V1T1 PADI session 0&times;0 length 4<br /> dst ff:ff:ff:ff:ff:ff  src c2:56:27:ca:d7:d4<br /> [service-name]<br />Send PPPOE Discovery V1T1 PADI session 0&times;0 length 4<br /> dst ff:ff:ff:ff:ff:ff  src c2:56:27:ca:d7:d4<br /> [service-name]<br />Timeout waiting for PADO packets<br />Unable to complete PPPoE Discovery<br />Plugin rp-pppoe.so loaded.<br />RP-PPPoE plugin version 3.8p compiled against pppd 2.4.7<br />Send PPPOE Discovery V1T1 PADI session 0&times;0 length 4<br /> dst ff:ff:ff:ff:ff:ff  src c2:56:27:ca:d7:d4<br /> [service-name]<br />Send PPPOE Discovery V1T1 PADI session 0&times;0 length 4<br /> dst ff:ff:ff:ff:ff:ff  src c2:56:27:ca:d7:d4<br /> [service-name]<br />Send PPPOE Discovery V1T1 PADI session 0&times;0 length 4<br /> dst ff:ff:ff:ff:ff:ff  src c2:56:27:ca:d7:d4<br /> [service-name]
</p>

<p>
While on the same hardware running LEDE r578, the PPPoE module works as expected:
</p>

<p>
Plugin rp-pppoe.so loaded.<br />RP-PPPoE plugin version 3.8p compiled against pppd 2.4.7<br />Send PPPOE Discovery V1T1 PADI session 0&times;0 length 4<br /> dst ff:ff:ff:ff:ff:ff  src c2:56:27:ca:d7:d4<br /> [service-name]<br />Recv PPPOE Discovery V1T1 PADO session 0&times;0 length 40<br /> dst c2:56:27:ca:d7:d4  src a0:f3:e4:34:d8:21<br /> [service-name] [AC-name acc-aln1.hac] [AC-cookie  75 58 37 a5 ba 3c e4 a5 2a 61 bb 23 92 5c 1b dc]<br />Send PPPOE Discovery V1T1 PADR session 0&times;0 length 24<br /> dst a0:f3:e4:34:d8:21  src c2:56:27:ca:d7:d4<br /> [service-name] [AC-cookie  75 58 37 a5 ba 3c e4 a5 2a 61 bb 23 92 5c 1b dc]<br />Recv PPPOE Discovery V1T1 PADS session 0x30b length 4<br /> dst c2:56:27:ca:d7:d4  src a0:f3:e4:34:d8:21<br /> [service-name]<br />PADS: Service-Name: &lsquo;&rsquo; PPP session is 779<br />Connected to a0:f3:e4:34:d8:21 via interface eth0<br />using channel 2<br />Using interface pppoe-wan<br />Connect: pppoe-wan &larr;&rarr; eth0<br />sent [LCP ConfReq id=0&times;1 &lt;mru 1492&gt; &lt;magic 0xc6952556&gt;]<br />rcvd [LCP ConfReq id=0&times;66 &lt;mru 1492&gt; &lt;auth chap MD5&gt; &lt;magic 0x4cc73648&gt;]<br />sent [LCP ConfAck id=0&times;66 &lt;mru 1492&gt; &lt;auth chap MD5&gt; &lt;magic 0x4cc73648&gt;]<br />rcvd [LCP ConfAck id=0&times;1 &lt;mru 1492&gt; &lt;magic 0xc6952556&gt;]<br />sent [LCP EchoReq id=0&times;0 magic=0xc6952556]<br />rcvd [CHAP Challenge id=0&times;1 &lt;7131a44524d1de8f1cd1061cac6d8c071d8bfe7351bc4ea7bd08f56684428475f229ba177a192696ebab32&gt;, name = &ldquo;acc-aln1.hac&rdquo;]<br />sent [CHAP Response id=0&times;1 &lt;4bb1a418b298790b128ad4d7ef3109ad&gt;, name = &ldquo;bthomehub@btbroadband.com&rdquo;]<br />rcvd [LCP EchoRep id=0&times;0 magic=0x4cc73648]<br />rcvd [CHAP Success id=0&times;1 &ldquo;CHAP authentication success&rdquo;]<br />CHAP authentication succeeded: CHAP authentication success<br />CHAP authentication succeeded<br />peer from calling number A0:F3:E4:34:D8:21 authorized<br />sent [IPCP ConfReq id=0&times;1 &lt;addr 0.0.0.0&gt; &lt;ms-dns1 0.0.0.0&gt; &lt;ms-dns2 0.0.0.0&gt;]<br />sent [IPV6CP ConfReq id=0&times;1 &lt;addr fe80::c595:37d1:3987:1929&gt;]<br />rcvd [IPV6CP ConfReq id=0x7b &lt;addr fe80::0221:05ff:feb4:8824&gt;]<br />sent [IPV6CP ConfAck id=0x7b &lt;addr fe80::0221:05ff:feb4:8824&gt;]<br />rcvd [IPCP ConfReq id=0&times;38 &lt;addr 172.16.12.12&gt;]<br />sent [IPCP ConfAck id=0&times;38 &lt;addr 172.16.12.12&gt;]<br />rcvd [IPCP ConfNak id=0&times;1 &lt;addr 81.146.2.155&gt; &lt;ms-dns1 81.139.57.100&gt; &lt;ms-dns2 81.139.56.100&gt;]<br />sent [IPCP ConfReq id=0&times;2 &lt;addr 81.146.2.155&gt; &lt;ms-dns1 81.139.57.100&gt; &lt;ms-dns2 81.139.56.100&gt;]<br />rcvd [IPV6CP ConfAck id=0&times;1 &lt;addr fe80::c595:37d1:3987:1929&gt;]<br />local  LL address fe80::c595:37d1:3987:1929<br />remote LL address fe80::0221:05ff:feb4:8824<br />Script /lib/netifd/ppp-up started (pid 2646)<br />rcvd [IPCP ConfAck id=0&times;2 &lt;addr 81.146.2.155&gt; &lt;ms-dns1 81.139.57.100&gt; &lt;ms-dns2 81.139.56.100&gt;]<br />local  IP address 81.146.2.155<br />remote IP address 172.16.12.12<br />primary   <acronym title="Domain Name Server">DNS</acronym> address 81.139.57.100<br />secondary <acronym title="Domain Name Server">DNS</acronym> address 81.139.56.100<br />ppp.log<br />secondary <acronym title="Domain Name Server">DNS</acronym> address 81.139.56.100<br />Script /lib/netifd/ppp-up started (pid 2653)<br />Script /lib/netifd/ppp-up finished (pid 2646), status = 0&times;9 Script /lib/netifd/ppp-up finished (pid 2653), status = 0&times;9 
</p>
	</td>
</tr>
<tr id="task97" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>17.08.2016</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=97" title="New | dnsmasq doesn&#039;t receive updated dns servers when running inside  | 0%" >97</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,97)" onmouseout="Hide(this, 97)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=97" title="New | dnsmasq doesn&#039;t receive updated dns servers when running inside  | 0%" >dnsmasq doesn&#039;t receive updated dns servers when runnin</a>...<i class="tag t100 " title="resolv.conf.auto"></i><i class="tag t99" title="dnsmasq"></i><i class="tag t98" title="ujail"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta2'>New</td>	<td id="desc_97" class="descbox box">
	<b>Task Description</b>
	
<p>
Bind-mounting /tmp/resolv.conf.auto apparently doesn&rsquo;t forward inotify events arriving from the kernel when resolv.conf.auto was changed (e.g. upstream <acronym title="Domain Name Server">DNS</acronym> servers were received by a DHCP client or pppd). Restarting dnsmasq or running it without ujail solves the issue.<br />
</p>
	</td>
</tr>
<tr id="task50" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>13.07.2016</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=50" title="New | No image or non-verbose output created if image is too big | 0%" >50</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri4'>Medium</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,50)" onmouseout="Hide(this, 50)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=50" title="New | No image or non-verbose output created if image is too big | 0%" >No image or non-verbose output created if image is too </a>...</td><td class='task_reportedin'>Trunk</td><td class='task_status sta2'>New</td>	<td id="desc_50" class="descbox box">
	<b>Task Description</b>
	
<p>
The target/install target does not produce the *squashfs-factory.bin and *squashfs-sysupgrade.bin binaries if the images are too big to fit the selected flash size.<br />However, make doesn&rsquo;t say a word to the user but simply does not produce the files. The user has to either check the mtime of the files if they were created earlier or use 
</p>
<pre class="code">make target/install V=s</pre>

<p>
 to derive what&rsquo;s wrong.<br />According to jow on <acronym title="Internet Relay Chat">IRC</acronym> this is just an artifact of no way to bypass silent mode. That might be the common explanation but it is still a bug from my POV.<br />
</p>
	</td>
</tr>
<tr id="task3221" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>10.07.2020</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3221" title="New | ubox: validate.c: Link-Local IPv6 with interface ID not supporte | 0%" >3221</a></td><td class='task_category'>Packages</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri3'>Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,3221)" onmouseout="Hide(this, 3221)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3221" title="New | ubox: validate.c: Link-Local IPv6 with interface ID not supporte | 0%" >ubox: validate.c: Link-Local IPv6 with interface ID not</a>...<i class="tag t1807 " title="validata_data"></i><i class="tag t1545" title="ntp"></i><i class="tag t1349" title="link-local"></i><i class="tag t118" title="ipv6"></i><i class="tag t28" title="ubox"></i></td><td class='task_reportedin'>All</td><td class='task_status sta2'>New</td>	<td id="desc_3221" class="descbox box">
	<b>Task Description</b>
	
<p>
validate.c uses inet_pton for identifying IPv6 addresses [1], and this seems to not understand interface identifiers as used for Link-local IPv6 addresses.
</p>

<p>
Reproduce:
</p>
<pre class="code">
root@FFF-GW-Adrian:~# /sbin/validate_data host fdff::1
host - fdff::1 = true
root@FFF-GW-Adrian:~# /sbin/validate_data host fe80::1
host - fe80::1 = true
root@FFF-GW-Adrian:~# /sbin/validate_data host fe80::1%br-mesh
host - fe80::1%br-mesh = false
</pre>

<p>
This is a problem practically whenever validata_data is used to check uci values.
</p>

<p>
For example, it is not possible to use a link-local address for specifying an NTP server:
</p>

<p>
<a href="https://github.com/openwrt/openwrt/blob/master/package/utils/busybox/files/sysntpd#L33" class="urlextern" title="https://github.com/openwrt/openwrt/blob/master/package/utils/busybox/files/sysntpd#L33">https://github.com/openwrt/openwrt/blob/master/package/utils/busybox/files/sysntpd#L33</a>
</p>

<p>
If &lsquo;server:list(host)&rsquo; is changed to &lsquo;server:list(string)&rsquo; there, it obviously works fine, as it&rsquo;s just the validation.
</p>

<p>
[1] <a href="https://git.openwrt.org/?p=project/ubox.git;a=blob;f=validate/validate.c;h=e72b8117ecd8b680778b0f5c7637ed6546a7736b;hb=HEAD#l402" class="urlextern" title="https://git.openwrt.org/?p=project/ubox.git;a=blob;f=validate/validate.c;h=e72b8117ecd8b680778b0f5c7637ed6546a7736b;hb=HEAD#l402">https://git.openwrt.org/?p=project/ubox.git;a=blob;f=validate/validate.c;h=e72b8117ecd8b680778b0f5c7637ed6546a7736b;hb=HEAD#l402</a> 
</p>
	</td>
</tr>
<tr id="task3073" class="severity4">
	<td class="caret"></td>
	<td class='task_dateopened'>08.05.2020</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3073" title="Unconfirmed | AR8337/AR8327 Flow Control Enabled on Archer C7 v5 (and probably | 0%" >3073</a></td><td class='task_category'>Kernel</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri3'>Low</td><td class='task_severity sev4'>High</td><td class='task_summary' onmouseover="Show(this,3073)" onmouseout="Hide(this, 3073)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=3073" title="Unconfirmed | AR8337/AR8327 Flow Control Enabled on Archer C7 v5 (and probably | 0%" >AR8337/AR8327 Flow Control Enabled on Archer C7 v5 (and</a>...</td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_3073" class="descbox box">
	<b>Task Description</b>
	
<p>
I have a TP-Link Archer C7 v5 (ath79/generic) running OpenWrt 19.07.2 r10947-65030d81f3 and periodically one of my hosts sends out a long-running flood (10/sec) of MPCP Pause frames.  The AR8337 switch is configured to honor these frames on port 0 (CPU), and other ports, so stops switching frames essentially forever.
</p>

<p>
There is no way exposed to user to disable flow control.
</p>

<p>
Flow control should be turned off unless explicitly requested by the user (e.g., they are in a Datacenter/Enterprise environment and/or doing Fibre Channel over Ethernet).  This is exactly the opposite of how it currently is with the added benefit that the user cannot change the behavior.
</p>

<p>
Here&rsquo;s a tool that will helpfully generate MPCP Pause frames:<br /><a href="https://github.com/nwholloway/mpcp" class="urlextern" title="https://github.com/nwholloway/mpcp">https://github.com/nwholloway/mpcp</a>
</p>

<p>
You can use this to bring down your network indefinitely.  Additionally, since the AR8337 switch consumes these frames you will not be able to see them from the OpenWRT host.<br />
</p>
	</td>
</tr>
<tr id="task2781" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>29.01.2020</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2781" title="New | Archer C50 v4 Mac80211 Looses Internet Access after 20’+ Away fr | 100%" >2781</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri3'>Low</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,2781)" onmouseout="Hide(this, 2781)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2781" title="New | Archer C50 v4 Mac80211 Looses Internet Access after 20’+ Away fr | 100%" >Archer C50 v4 Mac80211 Looses Internet Access after 20’</a>...<i class="tag t1647 " title="Archer C50 v4"></i></td><td class='task_reportedin'>openwrt-19.07</td><td class='task_status sta2'>New</td>	<td id="desc_2781" class="descbox box">
	<b>Task Description</b>
	
<p>
Supply the following if possible:<br /> - Device problem occurs on<br /> - Software versions of OpenWrt/LEDE release, packages, etc.<br /> - Steps to reproduce
</p>
<pre class="code"> </pre>

<p>
Problem Device:<br />TP-Link Archer C50 (Canadian) v4 + v4.2
</p>

<p>
Software version:<br />openwrt 19.07 r10860, default packages versions.
</p>

<p>
Steps to reproduce:<br />Setup wireless like below. I&rsquo;ve intentionally left encryption set to &ldquo;none&rdquo; for both radio&rsquo;s for quick testing but i&rsquo;ve tested with WPA2 CCMP encryption with no change in results.
</p>

<p>
config wifi-device &lsquo;radio0&rsquo; option type &lsquo;mac80211&rsquo; option channel &lsquo;11&rsquo; option hwmode &lsquo;11g&rsquo; option path &lsquo;platform/10300000.wmac&rsquo; option htmode &lsquo;HT20&rsquo; option legacy_rates &lsquo;0&rsquo; option country &lsquo;CA&rsquo;
</p>

<p>
config wifi-iface &lsquo;default_radio0&rsquo; option device &lsquo;radio0&rsquo; option network &lsquo;lan&rsquo; option mode &lsquo;ap&rsquo; option ssid &lsquo;OpenWrt&rsquo; option encryption &lsquo;none&rsquo;
</p>

<p>
config wifi-device &lsquo;radio1&rsquo; option type &lsquo;mac80211&rsquo; option hwmode &lsquo;11a&rsquo; option path &lsquo;pci0000:00/0000:00:00.0/0000:01:00.0&rsquo; option htmode &lsquo;VHT80&rsquo; option channel &lsquo;112&rsquo; option legacy_rates &lsquo;0&rsquo; option country &lsquo;CA&rsquo;
</p>

<p>
config wifi-iface &lsquo;default_radio1&rsquo; option device &lsquo;radio1&rsquo; option network &lsquo;lan&rsquo; option mode &lsquo;ap&rsquo; option ssid &lsquo;OpenWrt&rsquo; option encryption &lsquo;none&rsquo;
</p>

<p>
Alternative Settings:
</p>

<p>
htmode &lsquo;HT40&rsquo; No change in results<br />channel &lsquo;1&rsquo;, &lsquo;6&rsquo;, &lsquo;11&rsquo; No change in results<br />disassoc_low_ack &lsquo;0&rsquo; No change in results<br />
</p>
	</td>
</tr>
<tr id="task2328" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>18.06.2019</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2328" title="New | Allocate resources to sort out odhcpd/dnsmasq interaction once a | 0%" >2328</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri3'>Low</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,2328)" onmouseout="Hide(this, 2328)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=2328" title="New | Allocate resources to sort out odhcpd/dnsmasq interaction once a | 0%" >Allocate resources to sort out odhcpd/dnsmasq interacti</a>...</td><td class='task_reportedin'>Trunk</td><td class='task_status sta2'>New</td>	<td id="desc_2328" class="descbox box">
	<b>Task Description</b>
	
<p>
As IPv6 is being adopted, increasingly people are seeing dnsmasq log &lsquo;spam&rsquo;.  See <a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=1492&amp;string=1492&amp;search_name=&amp;type%5B0%5D=&amp;sev%5B0%5D=&amp;pri%5B0%5D=&amp;due%5B0%5D=&amp;reported%5B0%5D=&amp;cat%5B0%5D=&amp;status%5B0%5D=open&amp;percent%5B0%5D=&amp;opened=&amp;dev=&amp;closed=&amp;duedatefrom=&amp;duedateto=&amp;changedfrom=&amp;changedto=&amp;openedfrom=&amp;openedto=&amp;closedfrom=&amp;closedto=" class="urlextern" title="https://bugs.openwrt.org/index.php?do=details&amp;task_id=1492&amp;string=1492&amp;search_name=&amp;type%5B0%5D=&amp;sev%5B0%5D=&amp;pri%5B0%5D=&amp;due%5B0%5D=&amp;reported%5B0%5D=&amp;cat%5B0%5D=&amp;status%5B0%5D=open&amp;percent%5B0%5D=&amp;opened=&amp;dev=&amp;closed=&amp;duedatefrom=&amp;duedateto=&amp;changedfrom=&amp;changedto=&amp;openedfrom=&amp;openedto=&amp;closedfrom=&amp;closedto=">https://bugs.openwrt.org/index.php?do=details&amp;task_id=1492&amp;string=1492&amp;search_name=&amp;type%5B0%5D=&amp;sev%5B0%5D=&amp;pri%5B0%5D=&amp;due%5B0%5D=&amp;reported%5B0%5D=&amp;cat%5B0%5D=&amp;status%5B0%5D=open&amp;percent%5B0%5D=&amp;opened=&amp;dev=&amp;closed=&amp;duedatefrom=&amp;duedateto=&amp;changedfrom=&amp;changedto=&amp;openedfrom=&amp;openedto=&amp;closedfrom=&amp;closedto=</a>
</p>

<p>
By default under openwrt, dhcpv4 leases are handled by dnsmasq whilst dhcpv6/RA is handled by openwrt&rsquo;s odhcpd.
</p>

<p>
odhcpd could handle both v4 &amp; v6 but does not yet have the same configuration flexibility for dhcp options as dnsmasq.  I guess this is why no one has been brave enough to switch to odhcpd for ipv4 operations as well as ipv6.
</p>

<p>
dnsmasq can also handle dhcpv6/RA but not quite as flexibly as odhcpd.  dnsmasq will automatically find IP6 prefixes on interfaces and start handling them, whilst openwrt&rsquo;s strategy with odhcpd is to only handle stuff we tell you to handle, don&rsquo;t do it automagically.
</p>

<p>
As dnsmasq is the default resolver for openwrt and the wider LAN, it needs to know about DHCP/hostname allocations.  For DHCPv4 this is easy, dnsmasq is controlling them.  For DHCPv6 a hosts file (called a statefile in the odhcpd code) is handed to dnsmasq.
</p>

<p>
By default this host file is not read dynamically, so odhcpd has to signal dnsmasq to re-read the host file (and clear caches etc etc) upon every ipv6 lease change.
</p>

<p>
This generates a lot of log spam and process startup overhead.  There are also questions about service operability during this time.
</p>

<p>
Effort needs to be put into sorting this out.
</p>

<p>
Temporary workarounds:
</p>

<p>
Use &lsquo;hostsdir&rsquo; dnsmasq option instead of &lsquo;addn-hosts&rsquo; - dnsmasq will dynamically scan changes/additions to hosts in hostsdir whereas addn-hosts needs a SIGHUP.  Host deletions cannot be handled by this method, so odhcpd would still need to SIGHUP on lease expiry.  It might reduce some of the spam.
</p>

<p>
Longer term:
</p>

<p>
Teach dnsmasq to accept hostname updates over an IPC mechanism.  ubus? and carry on using odhcpd for ipv6.
</p>

<p>
Teach dnsmasq to handle ipv6 prefix additions/deletions/handling via an IPC mechanism in the same way as odhcpd.  Drop odhcpd and use dnsmasq for everything.
</p>

<p>
Use odhcpd for everything and use another dns resolver that interfaces nicely with odhcpd.
</p>

<p>
 Why don&rsquo;t I see this problem:  I use dnsmasq to handle ipv6 but I&rsquo;m lucky enough that this works for me.
</p>

<p>
This needs fixing/funding to sort it out though. <br />
</p>
	</td>
</tr>
<tr id="task998" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>03.09.2017</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=998" title="New | packages: &quot;make packages/X/check&quot; should print warnings without  | 0%" >998</a></td><td class='task_category'>Packages</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri3'>Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,998)" onmouseout="Hide(this, 998)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=998" title="New | packages: &quot;make packages/X/check&quot; should print warnings without  | 0%" >packages: &quot;make packages/X/check&quot; should print warnings</a>...<i class="tag t486 " title="system"></i><i class="tag t170" title="build"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta2'>New</td>	<td id="desc_998" class="descbox box">
	<b>Task Description</b>
	
<p>
Currently, when running &ldquo;make check&rdquo; on a single package, it does not print any warning.  <code>V=s</code> is needed to see the warnings.  The build system should print the warnings in all cases, because that&rsquo;s what the user asks for!
</p>

<p>
To reproduce:
</p>
<pre class="code">
$ make package/nlbwmon/check 
 make[1] package/nlbwmon/check
 make[2] -C feeds/packages/net/nlbwmon check
</pre>
<pre class="code">
$ make package/nlbwmon/check V=s
make[1]: Entering directory '/tmp/lede'
make[2]: Entering directory '/tmp/lede/feeds/packages/net/nlbwmon'
WARNING: nlbwmon-2017-08-02-32fc0925.tar.xz is missing, please run make download before re-running this check
make[2]: Leaving directory '/tmp/lede/feeds/packages/net/nlbwmon'
make[1]: Leaving directory '/tmp/lede'
</pre>

<p>
The main target <code>make check</code> (without specifying any package) works fine, because it seems to run in verbose mode by default:
</p>
<pre class="code">
$ make check
make[3]: Entering directory '/tmp/lede/tools/gmp'
make[3]: Leaving directory '/tmp/lede/tools/gmp'
...
make[3]: Entering directory '/tmp/lede/package/network/utils/iwinfo'
WARNING: PKG_MIRROR_HASH is missing, set to 7bd294f50f8ec8c0497c5fbe5527f3ae098814cdfeecf4ccf78a2a8937611664
make[3]: Leaving directory '/tmp/lede/package/network/utils/iwinfo'
...
</pre>

<p>
I tried to fix the issue myself but this is way above my understanding of make.<br />
</p>
	</td>
</tr>
<tr id="task4116" class="severity4">
	<td class="caret"></td>
	<td class='task_dateopened'>30.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4116" title="Unconfirmed | qca9560-eth supports jumbo frames but is limited to 1516 | 0%" >4116</a></td><td class='task_category'>Kernel</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev4'>High</td><td class='task_summary' onmouseover="Show(this,4116)" onmouseout="Hide(this, 4116)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4116" title="Unconfirmed | qca9560-eth supports jumbo frames but is limited to 1516 | 0%" >qca9560-eth supports jumbo frames but is limited to 151</a>...<i class="tag t2202 " title="QCA956X mtu qca9560"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4116" class="descbox box">
	<b>Task Description</b>
	
<p>
- Device problem occurs on<br />GL.iNet GL-AR750S (NOR)
</p>

<p>
- Software versions of OpenWrt/LEDE release, packages, etc.<br />Trunk
</p>

<p>
- Steps to reproduce
</p>

<p>
Attempt to increase the mtu beyond 1516
</p>

<p>
ifconifg eth0 mtu 1517 
</p>
<hr />

<p>
According to all resources the QCA9560 supports jumbo frames, as does the switch (AR8337) in this device however for an undocumented unknown reason it&rsquo;s hard coded in `linux/ath79/files/drivers/net/ethernet/atheros/ag71xx/ag71xx_main.c:1640` to `1540`. Also for reasons I do not understand I can not increase the mtu beyond 1516 up to this limit of `1540` which I need for 802.11q (1522 frame size).
</p>

<p>
This code seems to need to be reviewed by someone with access to the datasheets for the QCA9560 to properly resolve this issue.<br />
</p>
	</td>
</tr>
<tr id="task4115" class="severity4">
	<td class="caret"></td>
	<td class='task_dateopened'>29.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4115" title="Unconfirmed | Wireless device is always disabled when using STA+AP with Travel | 0%" >4115</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev4'>High</td><td class='task_summary' onmouseover="Show(this,4115)" onmouseout="Hide(this, 4115)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4115" title="Unconfirmed | Wireless device is always disabled when using STA+AP with Travel | 0%" >Wireless device is always disabled when using STA+AP wi</a>...</td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4115" class="descbox box">
	<b>Task Description</b>
	
<p>
root@OpenWrt:~# opkg list | grep ath10k<br />ath10k-board-qca4019 - 20201118-3<br />ath10k-firmware-qca4019-ct - 2020-11-08-1<br />kmod-ath10k-ct - 5.4.154+2021-09-22-e6a7d5b5-1<br />root@OpenWrt:~# cat /etc/openwrt_release <br />DISTRIB_ID=&rsquo;OpenWrt&rsquo; DISTRIB_RELEASE=&rsquo;21.02.1&rsquo; DISTRIB_REVISION=&rsquo;r16325-88151b8303&rsquo; DISTRIB_TARGET=&rsquo;ipq40xx/generic&rsquo; DISTRIB_ARCH=&rsquo;arm_cortex-a7_neon-vfpv4&rsquo; DISTRIB_DESCRIPTION=&rsquo;OpenWrt 21.02.1 r16325-88151b8303&rsquo; DISTRIB_TAINTS=&rsquo;&rsquo;
</p>

<p>
I am running Openwrt on my new Fritzbox 4040.<br />I would like to make it my camping wifi AP, therefore I have installed travelmate. <br />Sadly it does not work as it should. <br />After every reboot, every and every change to the &ldquo;Client&rdquo; or &ldquo;Master&rdquo; Device, the &ldquo;Client&rdquo; Wifi is always disabled and has to be enabled manually. Also sometimes it takes ages to even get it going - with constant resetting of the device.<br />Also if the client wifi channels change, the AP+STA &ldquo;Construct&rdquo; does not work most of the time, even if enabled manually. This is by far not an ideal experience.<br />I am not sure if it additionally has something to do with DFS, thats why I have left my bug report at the ath10-ct github open. But greearb meant I should also contact you guys here.
</p>

<p>
<a href="https://github.com/greearb/ath10k-ct/issues/189" class="urlextern" title="https://github.com/greearb/ath10k-ct/issues/189">https://github.com/greearb/ath10k-ct/issues/189</a> I have posted a syslog and dmesg there.<br />
</p>
	</td>
</tr>
<tr id="task4114" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>29.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4114" title="Unconfirmed | R7800 radio0 (5ghz) is locked at 40 or 153 at 80mhz width | 0%" >4114</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4114)" onmouseout="Hide(this, 4114)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4114" title="Unconfirmed | R7800 radio0 (5ghz) is locked at 40 or 153 at 80mhz width | 0%" >R7800 radio0 (5ghz) is locked at 40 or 153 at 80mhz wid</a>...<i class="tag t2201 " title="r7800"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4114" class="descbox box">
	<b>Task Description</b>
	
<p>
 - Device problem occurs on Netgear R7800<br /> - Software versions OpenWRT 21.02.1 r16325-88151b8303<br /> - Steps to reproduce
</p>

<p>
1. Set radio0 (5ghz) channel to any channel that is not 40 or 153 at 80mhz width.<br />2a. If the manual channel selection frequency is within the 80mhz width of channels 40 or 153, radio0 will broadcast a wifi network that is actually at 40 or 153 (according to the Channel Analyzer feature).<br />2b. If the manual channel selection frequency is outside the above limits, radio0 will be disabled. 
</p>
<pre class="code"> </pre>

<p>
I am not sure if this is a hardware limitation of the R7800 or related to DFS but the tested channels should be outside the TDWR frequency range. 
</p>

<p>
dmesg log with a test of the channel set outside the 80mhz width of 40 and 153 (ex: 60, 116, 144) so the radio is disabled. Then the channel is set to 40/153 and it ends up working. 
</p>

<p>
[ 2897.661980] br-lan: port 3(wlan0) entered disabled state<br />[ 2897.664209] device wlan0 left promiscuous mode<br />[ 2897.666424] br-lan: port 3(wlan0) entered disabled state<br />[ 2903.621030] ath10k_pci 0000:01:00.0: 10.4 wmi init: vdevs: 16  peers: 48  tid: 96<br />[ 2903.621056] ath10k_pci 0000:01:00.0: msdu-desc: 2500  skid: 32<br />[ 2903.703062] ath10k_pci 0000:01:00.0: wmi print &lsquo;P 48/48 V 16 K 144 PH 176 T 186  msdu-desc: 2500  sw-crypt: 0 ct-sta: 0&rsquo; [ 2903.703912] ath10k_pci 0000:01:00.0: wmi print &lsquo;free: 84920 iram: 13156 sram: 11224&rsquo; [ 2904.090785] ath10k_pci 0000:01:00.0: rts threshold -1<br />[ 2904.091643] ath10k_pci 0000:01:00.0: Firmware lacks feature flag indicating a retry limit of &gt; 2 is OK, requested limit: 4<br />[ 2910.104019] ath10k_pci 0000:01:00.0: 10.4 wmi init: vdevs: 16  peers: 48  tid: 96<br />[ 2910.104045] ath10k_pci 0000:01:00.0: msdu-desc: 2500  skid: 32<br />[ 2910.186082] ath10k_pci 0000:01:00.0: wmi print &lsquo;P 48/48 V 16 K 144 PH 176 T 186  msdu-desc: 2500  sw-crypt: 0 ct-sta: 0&rsquo; [ 2910.186928] ath10k_pci 0000:01:00.0: wmi print &lsquo;free: 84920 iram: 13156 sram: 11224&rsquo; [ 2910.573428] ath10k_pci 0000:01:00.0: rts threshold -1<br />[ 2910.573700] ath10k_pci 0000:01:00.0: Firmware lacks feature flag indicating a retry limit of &gt; 2 is OK, requested limit: 4<br />[ 2910.579716] br-lan: port 3(wlan0) entered blocking state<br />[ 2910.588492] br-lan: port 3(wlan0) entered disabled state<br />[ 2910.594228] device wlan0 entered promiscuous mode<br />[ 2910.920831] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready<br />[ 2910.921053] br-lan: port 3(wlan0) entered blocking state<br />[ 2910.926269] br-lan: port 3(wlan0) entered forwarding state
</p>

<p>
 <br />
</p>
	</td>
</tr>
<tr id="task4113" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>27.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4113" title="Unconfirmed | uboot-lantiq u-boot-2013.10 tftpboot ignores given boot file nam | 0%" >4113</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4113)" onmouseout="Hide(this, 4113)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4113" title="Unconfirmed | uboot-lantiq u-boot-2013.10 tftpboot ignores given boot file nam | 0%" >uboot-lantiq u-boot-2013.10 tftpboot ignores given boot</a>...<i class="tag t2200 " title="tftpboot uboot-lantiq u-boot-2013.10"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4113" class="descbox box">
	<b>Task Description</b>
	
<p>
Device problem occurs on VGV7510KW22<br />OpenWrt master
</p>

<p>
U-Boot 2013.10-openwrt4 (Oct 27 2021 - 12:27:58) VGV7510KW22
</p>

<p>
Board: Arcadyan VGV7510KW22<br />SoC:   Lantiq VRX288 v1.2<br />CPU:   500 <acronym title="Megahertz">MHz</acronym> IO:    250 <acronym title="Megahertz">MHz</acronym> BUS:   250 <acronym title="Megahertz">MHz</acronym> BOOT:  NOR<br />DRAM:  64 MiB<br />Flash: 16 MiB<br />In:    serial<br />Out:   serial<br />Err:   serial<br />Net:   Phy not found<br />ltq-eth<br />Hit any key to stop autoboot:  0<br />VGV7510KW22 # printenv<br />addconsole=setenv bootargs $bootargs console=$consoledev,$baudrate<br />addeth=setenv bootargs $bootargs ethaddr=$ethaddr<br />addip=setenv bootargs $bootargs ip=$ipaddr:$serverip::::$netdev:off<br />addmachtype=setenv bootargs $bootargs machtype=VGV7510KW22<br />baudrate=115200<br />bootcmd=bootm ${kernel_addr}<br />bootdelay=2<br />consoledev=ttyLTQ1<br />ethact=ltq-eth<br />ethaddr=00:01:02:03:04:05<br />ipaddr=192.168.1.1<br />kernel_addr=0xB0080000<br />load-uboot-nor=tftpboot u-boot.bin<br />load-uboot-norspl=tftpboot u-boot.ltq.norspl<br />load-uboot-norspl-lzma=tftpboot u-boot.ltq.lzma.norspl<br />load-uboot-norspl-lzo=tftpboot u-boot.ltq.lzo.norspl<br />loadaddr=0&times;81000000 netdev=eth0<br />serverip=192.168.1.23<br />stderr=serial<br />stdin=serial<br />stdout=serial<br />write-uboot-nor=protect off 0xB0000000 +$filesize &amp;&amp; erase 0xB0000000 +$filesize &amp;&amp; cp.b $fileaddr 0xB0000000 $filesize
</p>

<p>
Environment size: 853/131068 bytes<br />VGV7510KW22 # run load-uboot-nor<br />ltq_phy: addr 17, link 1, speed 100, duplex 1<br />ltq_phy: addr 18, link 0, speed 10, duplex 0<br />ltq_phy: addr 19, link 0, speed 10, duplex 0<br />ltq_phy: addr 20, link 0, speed 10, duplex 0<br /><strong>* Warning: no boot file name; using &lsquo;0101A8C0.img&rsquo;
Using ltq-eth device<br />TFTP from server 192.168.1.23; our IP address is 192.168.1.1<br />Filename &lsquo;0101A8C0.img&rsquo;.<br />Load address: 0&times;81000000
Loading: T T

VGV7510KW22 # tftpboot xyz<br />ltq_phy: addr 17, link 1, speed 100, duplex 1<br />ltq_phy: addr 18, link 0, speed 10, duplex 0<br />ltq_phy: addr 19, link 0, speed 10, duplex 0<br />ltq_phy: addr 20, link 0, speed 10, duplex 0<br /></strong>* Warning: no boot file name; using &lsquo;0101A8C0.img&rsquo; Using ltq-eth device<br />TFTP from server 192.168.1.23; our IP address is 192.168.1.1<br />Filename &lsquo;0101A8C0.img&rsquo;.<br />Load address: 0&times;81000000 Loading: *<br />
</p>
	</td>
</tr>
<tr id="task4112" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>26.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4112" title="Unconfirmed | bcm53xx: vlan break with kernel 5.10.xxx | 0%" >4112</a></td><td class='task_category'>Kernel</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,4112)" onmouseout="Hide(this, 4112)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4112" title="Unconfirmed | bcm53xx: vlan break with kernel 5.10.xxx | 0%" >bcm53xx: vlan break with kernel 5.10.xxx</a><i class="tag t2199 " title="bcm55xx"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4112" class="descbox box">
	<b>Task Description</b>
	
<p>
 Target: bcm53xx<br />Device: Asus RT-AC88u<br />Version: OpenWrt SNAPSHOT, r17818
</p>

<p>
When trying to use a Vlan configuration with Kernel 5.10.xxx, I cannot use the tagged guest Vlan. Neither a connection nor a ping to the gateway of the guest network is possible. The same configuration under OpenWrt 21.02.0, r16279 (Kernel 5.4.143), the configuration works as expected. Please read the contents of / etc / config / network.
</p>
<pre class="code">
config interface 'loopback'
        option device 'lo'
        option proto 'static'
        option ipaddr '127.0.0.1'
        option netmask '255.0.0.0'

config globals 'globals'
        option ula_prefix 'fd3f:f501:9a6f::/48'

config device
        option name 'br-lan'
        option type 'bridge'
        list ports 'lan1'
        list ports 'lan2'
        list ports 'lan3'
        list ports 'lan4'
        option igmp_snooping '1'

config bridge-vlan                                                                                   
        option device 'br-lan'                                                                       
        option vlan '1'                                                                              
        list ports 'lan1:u*'                                                                         
        list ports 'lan2:u*'                                                                         
                                                                                                     
config bridge-vlan                                                                                   
        option device 'br-lan'                                                                       
        option vlan '3'                                                                              
        list ports 'lan1:t'                                                                          
        list ports 'lan3:u*'                                                                         
                                                                                                     
config device                                                                                        
        option type 'bridge'                                                                         
        option name 'br1'                                                                            
        list ports 'br-lan.1'                                                                        
        option igmp_snooping '1'                                                                     
                                                                                                     
config device                                                                                        
        option type 'bridge'                                                                         
        option name 'br3'                                                                            
        list ports 'br-lan.3'                                                                        
        option igmp_snooping '1'                                                                     
                                                                                                     
config interface 'lan'                                                                               
        option proto 'static'                                                                        
        option netmask '255.255.255.0'                                                               
        option ip6assign '60'                                                                        
        option ipaddr '192.168.5.111'                                                                
        option gateway '192.168.5.1'                                                                 
        option broadcast '192.168.5.255'                                                             
        list dns '192.168.5.1'                                                                       
        option device 'br1'                                                                          
        option metric '50'

config interface 'guest'                                                                             
        option proto 'static'                                                                        
        option netmask '255.255.255.0'                                                               
        option ip6assign '60'                                                                        
        option ipaddr '192.168.190.2'                                                                
        option gateway '192.168.190.1'                                                               
        option broadcast '192.168.190.255'                                                           
        list dns '192.168.190.1'                                                                     
        option device 'br3'                                                                          
        option metric '150'                                                                          
                                                                                                     
config interface 'wan'                                                                               
        option device 'wan'                                                                          
        option proto 'dhcp'                                                                          
                                                                                                     
config interface 'wan6'                                                                              
        option device 'wan'                                                                          
        option proto 'dhcpv6' 
</pre>

<p>
A quick note of the above file:<br />The bridges br1 and br3 are designed as a workaround so that wifi devices can reach the tagged subnets. Without this trick, WiFi devices cannot, for example, log into the guest network. The latter applies to both the kernel 5.4.xxx and the kernel 5.10.xxx.
</p>

<p>
On the forum user @patient0 confirmed this problem with kernel version 5.10 and 5.15 with my setup, please see <a href="https://forum.openwrt.org/t/openwrt-support-for-asus-rt-ac88u/78635/135" class="urlextern" title="https://forum.openwrt.org/t/openwrt-support-for-asus-rt-ac88u/78635/135">https://forum.openwrt.org/t/openwrt-support-for-asus-rt-ac88u/78635/135</a>.
</p>
	</td>
</tr>
<tr id="task4111" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>26.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4111" title="Unconfirmed | Software NAT offloading causing random high packet times on WNDR | 0%" >4111</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4111)" onmouseout="Hide(this, 4111)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4111" title="Unconfirmed | Software NAT offloading causing random high packet times on WNDR | 0%" >Software NAT offloading causing random high packet time</a>...</td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4111" class="descbox box">
	<b>Task Description</b>
	
<p>
Just upgraded from 19.07 to 21.02.0 on my WNDR3700v4 and noticed I was getting kicked from my <acronym title="Internet Relay Chat">IRC</acronym> bouncer. I couldn&rsquo;t catch it as a drop rather when doing a simple ping to my server I&rsquo;d see random 3 second ping.<br />Disabling NAT offloading I do not see this.<br />Using a service such as packetlosstest.com and enabling offloading I see the drops, as soon as I disable offloading it completes successfully.
</p>

<p>
I did not have this issue on 19.07 and would love to use this feature as it allows me to actually get the /full speed/ my <acronym title="Internet Service Provider">ISP</acronym> offers.<br />If there&rsquo;s anything else you&rsquo;d like me to try or some logs I could generate I&rsquo;d be glad.<br />
</p>
	</td>
</tr>
<tr id="task4110" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>26.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4110" title="Unconfirmed | Aerohive HiveAP 330 kernel.gz now too large to boot as of snapsh | 0%" >4110</a></td><td class='task_category'>Kernel</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4110)" onmouseout="Hide(this, 4110)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4110" title="Unconfirmed | Aerohive HiveAP 330 kernel.gz now too large to boot as of snapsh | 0%" >Aerohive HiveAP 330 kernel.gz now too large to boot as </a>...</td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4110" class="descbox box">
	<b>Task Description</b>
	
<p>
Supply the following if possible:<br /> - Device problem occurs on: Aerohive HiveAP 330<br /> - Software versions of OpenWrt/LEDE release, packages, etc.: Snapshot 2021-10-24 (Linux-5.10.75)<br /> - Steps to reproduce: 
</p>
<pre class="code"> 1: Sysupgrade to OpenWrt 21.02.0</pre>
<pre class="code"> 2: See the result: boot works:</pre>

<p>
 ```console<br />Hit any key to stop autoboot:  0 <br />Hit any key to interrupt boot from flash:  0 <br />## Booting kernel from Legacy Image at ee840000 ...
</p>
<pre class="code"> Image Name:   POWERPC OpenWrt Linux-5.4.143
 Created:      2021-08-31  22:20:08 UTC
 Image Type:   PowerPC Linux Kernel Image (gzip compressed)
 Data Size:    3710564 Bytes =  3.5 MB
 Load Address: 00000000
 Entry Point:  00000000
 Verifying Checksum ... OK</pre>

<p>
## Loading init Ramdisk from Legacy Image at 02000000 ...
</p>
<pre class="code"> Image Name:   OpenWrt fake ramdisk
 Created:      2021-08-31  22:20:08 UTC
 Image Type:   PowerPC Linux RAMDisk Image (uncompressed)
 Data Size:    0 Bytes =  0 kB
 Load Address: 00000000
 Entry Point:  00000000
 Verifying Checksum ... OK</pre>

<p>
## Flattened Device Tree blob at ec000000
</p>
<pre class="code"> Booting using the fdt blob at 0xec000000
 Uncompressing Kernel Image ... OK
 Loading Ramdisk to 10000000, end 10000000 ... OK
 Loading Device Tree to 00ffa000, end 00fffcb5 ... OK</pre>

<p>
ft_fixup_l2cache: FDT_ERR_NOTFOUND<br />[    0.000000] Memory CAM mapping: 256 Mb, residual: 0Mb<br />[    0.000000] Linux version 5.4.143 (builder@buildhost) (gcc version 8.4.0 (OpenWrt GCC 8.4.0 r16279-5cc0535800)) #0 SMP Tue Aug 31 22:20:08 2021<br />``` 
</p>
<pre class="code"> 3: Sysupgrade to OpenWrt snapshot.</pre>
<pre class="code"> 4: Upon attempted reboot, see the result: failure to boot:</pre>

<p>
 ```console<br />[mkennedy@fedora AP330]$ cat not_booting_snapshot <br />Hit any key to stop autoboot:  0 <br />Hit any key to interrupt boot from flash:  0<br />## Booting kernel from Legacy Image at ee840000 ...
</p>
<pre class="code"> Image Name:   POWERPC OpenWrt Linux-5.10.75
 Created:      2021-10-24  18:22:04 UTC
 Image Type:   PowerPC Linux Kernel Image (gzip compressed)
 Data Size:    4332488 Bytes =  4.1 MB
 Load Address: 00000000
 Entry Point:  00000000
 Verifying Checksum ... OK</pre>

<p>
## Loading init Ramdisk from Legacy Image at 02000000 ...
</p>
<pre class="code"> Image Name:   OpenWrt fake ramdisk
 Created:      2021-10-24  18:22:04 UTC
 Image Type:   PowerPC Linux RAMDisk Image (uncompressed)
 Data Size:    0 Bytes =  0 kB 
 Load Address: 00000000
 Entry Point:  00000000
 Verifying Checksum ... OK</pre>

<p>
## Flattened Device Tree blob at ec000000
</p>
<pre class="code"> Booting using the fdt blob at 0xec000000
 Uncompressing Kernel Image ... Error: inflate() returned -5</pre>

<p>
GUNZIP: uncompress, out-of-mem or overwrite error - must RESET board to recover
</p>
<pre class="code"> Loading Ramdisk to 10000000, end 10000000 ... OK
 Loading Device Tree to 00ffa000, end 00fffd46 ... OK</pre>

<p>
ft_fixup_l2cache: FDT_ERR_NOTFOUND
</p>

<p>
 U-Boot 2009.11 (Jan 12 2017 - 00:27:25), Build: jenkins-HiveOS-Honolulu_AP350_Rel-245<br />```
</p>

<p>
 <br />
</p>
	</td>
</tr>
<tr id="task4109" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>23.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4109" title="Unconfirmed | 5GHz Device Loses 5GHz WiFi Connection When Device Views 5GHz Ch | 0%" >4109</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,4109)" onmouseout="Hide(this, 4109)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4109" title="Unconfirmed | 5GHz Device Loses 5GHz WiFi Connection When Device Views 5GHz Ch | 0%" >5GHz Device Loses 5GHz WiFi Connection When Device View</a>...<i class="tag t2198 " title="WRT1900AC v1"></i></td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4109" class="descbox box">
	<b>Task Description</b>
	
<p>
- Device problem occurs on: Linksys WRT1900AC v1
</p>

<p>
 - Software versions of OpenWrt/LEDE release: OpenWrt 21.02.0 r16279-5cc0535800  
</p>
<pre class="code">   packages: wpad-openssl
             irqbalance (Changed 'enabled' from '0' to '1' in '/etc/config/irqbalance')</pre>

<p>
 - Things I tried to improve issue:
</p>
<pre class="code"> Added in Luci &gt; startup &gt; local startup the following commands:</pre>
<pre class="code"> echo &quot;0&quot; &gt;&gt; /sys/kernel/debug/ieee80211/phy0/mwlwifi/tx_amsdu
 echo &quot;0&quot; &gt;&gt; /sys/kernel/debug/ieee80211/phy1/mwlwifi/tx_amsdu</pre>
<pre class="code"> Luci &gt; Network &gt; DHCP and DNS: Unchecked Rebind Protection (to allow connections to private work network)</pre>
<pre class="code"> Luci &gt; Network &gt; Wireless: Edit wlan1 (5GHz network) settings: Interface Configuration &gt; Advanced Settings &gt; Disassociate On Low Acknowledgement: Unchecked. </pre>

<p>
  - Steps to reproduce: <br />When I simply view the radio1 (5GHz) spectrum in Luci (Luci &gt; Status &gt; Channel Analysis) webpage from any of my 5GHz devices (e.g. HP Envy-17ts laptop, Samsung Galaxy Tab-A tablet or Samsung Galaxy J7 phone), its 5GHz wireless connection to the router is dropped after a few seconds (while the webpage is updating), and it often doesn&rsquo;t automatically reconnect. In that case, turning device WiFi OFF then back ON (or for my laptop, switching to airplane mode ON, waiting a bit, then back to OFF) is often required to restore the 5GHz wireless connection. Note: it&rsquo;s the 5GHz connection between the device viewing the 5GHz webpage and the router that is dropped; The 5GHz radio1 on the router stays on (as verified by the logs and viewing 5GHz webpage from a 2.4GHz device, see below).
</p>

<p>
When I check the radio0 (2.4GHz) spectrum in Luci (Luci &gt; Status &gt; Channel Analysis) webpage from any of my 5GHz wireless devices, its 5GHz connection to the router never drops.
</p>

<p>
When I check the radio0 (2.4GHz) or radio1 (5GHz) spectrum in Luci (Luci &gt; Status &gt; Channel Analysis) webpages from any of my 2.4GHz devices, its 2.4GHz connection to the router never drops.
</p>

<p>
I&rsquo;ve attached both Kernel and System logs.<br />Please let me know if you need additional info.<br />Thank you for your assistance!<br />Ed
</p>
	</td>
</tr>
<tr id="task4108" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>23.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4108" title="Unconfirmed | 5GHz Device Loses 5GHz WiFi Connection | 0%" >4108</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4108)" onmouseout="Hide(this, 4108)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4108" title="Unconfirmed | 5GHz Device Loses 5GHz WiFi Connection | 0%" >5GHz Device Loses 5GHz WiFi Connection</a></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4108" class="descbox box">
	<b>Task Description</b>
	
<p>
- Device problem occurs on: Linksys WRT1900AC v1
</p>

<p>
 - Software versions of OpenWrt/LEDE release: OpenWrt 21.02.0 r16279-5cc0535800  
</p>
<pre class="code">   packages: wpad-openssl
             irqbalance (Changed 'enabled' from '0' to '1' in '/etc/config/irqbalance')</pre>

<p>
 - Things I tried to improve issue:
</p>
<pre class="code"> Added in Luci &gt; startup &gt; local startup the following commands:</pre>
<pre class="code"> echo &quot;0&quot; &gt;&gt; /sys/kernel/debug/ieee80211/phy0/mwlwifi/tx_amsdu
 echo &quot;0&quot; &gt;&gt; /sys/kernel/debug/ieee80211/phy1/mwlwifi/tx_amsdu</pre>
<pre class="code"> Luci &gt; Network &gt; DHCP and DNS: Unchecked Rebind Protection (to allow connections to private work network)</pre>
<pre class="code"> Luci &gt; Network &gt; Wireless: Edit wlan1 (5GHz network) settings: Interface Configuration &gt; Advanced Settings &gt; Disassociate On Low Acknowledgement: Unchecked. </pre>

<p>
  - Steps to reproduce: <br />When I simply view the radio1 (5GHz) spectrum in Luci (Luci &gt; Status &gt; Channel Analysis) webpage from any of my 5GHz devices (e.g. HP Envy-17ts laptop, Samsung Galaxy Tab-A tablet or Samsung Galaxy J7 phone), its 5GHz wireless connection to the router is dropped after a few seconds (while the webpage is updating), and it often doesn't automatically reconnect. In that case, turning device WiFi OFF then back ON (or for my laptop, switching to airplane mode ON, waiting a bit, then back to OFF) is often required to restore the 5GHz wireless connection. Note: it's the 5GHz connection between the device viewing the 5GHz webpage and the router that is dropped; The 5GHz radio1 on the router stays on (as verified by the logs and viewing 5GHz webpage from a 2.4GHz device, see below).
</p>

<p>
When I check the radio0 (2.4GHz) spectrum in Luci (Luci &gt; Status &gt; Channel Analysis) webpage from any of my 5GHz wireless devices, its 5GHz connection to the router never drops.
</p>

<p>
When I check the radio0 (2.4GHz) or radio1 (5GHz) spectrum in Luci (Luci &gt; Status &gt; Channel Analysis) webpages from any of my 2.4GHz devices, its 2.4GHz connection to the router never drops.
</p>

<p>
I've attached both Kernel and System logs.<br />Please let me know if you need additional info.<br />Thank you for your assistance!<br />Ed
</p>
	</td>
</tr>
<tr id="task4107" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>23.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4107" title="Unconfirmed | 5GHz Device Loses 5GHz WiFi Connection When Device Views 5GHz Ch | 0%" >4107</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,4107)" onmouseout="Hide(this, 4107)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4107" title="Unconfirmed | 5GHz Device Loses 5GHz WiFi Connection When Device Views 5GHz Ch | 0%" >5GHz Device Loses 5GHz WiFi Connection When Device View</a>...</td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4107" class="descbox box">
	<b>Task Description</b>
	
<p>
 - Device problem occurs on: Linksys WRT1900AC v1
</p>

<p>
 - Software versions of OpenWrt/LEDE release: OpenWrt 21.02.0 r16279-5cc0535800  
</p>
<pre class="code">   packages: wpad-openssl
             irqbalance (Changed 'enabled' from '0' to '1' in '/etc/config/irqbalance')</pre>

<p>
 - Things I tried to improve issue:
</p>
<pre class="code"> Added in Luci &gt; startup &gt; local startup the following commands:</pre>
<pre class="code"> echo &quot;0&quot; &gt;&gt; /sys/kernel/debug/ieee80211/phy0/mwlwifi/tx_amsdu
 echo &quot;0&quot; &gt;&gt; /sys/kernel/debug/ieee80211/phy1/mwlwifi/tx_amsdu</pre>
<pre class="code"> Luci &gt; Network &gt; DHCP and DNS: Unchecked Rebind Protection (to allow connections to private work network)</pre>
<pre class="code"> Luci &gt; Network &gt; Wireless: Edit wlan1 (5GHz network) settings: Interface Configuration &gt; Advanced Settings &gt; Disassociate On Low Acknowledgement: Unchecked. </pre>

<p>
  - Steps to reproduce: <br />When I simply view the radio1 (5GHz) spectrum in Luci (Luci &gt; Status &gt; Channel Analysis) webpage from any of my 5GHz devices (e.g. HP Envy-17ts laptop, Samsung Galaxy Tab-A tablet or Samsung Galaxy J7 phone), its 5GHz wireless connection to the router is dropped after a few seconds (while the webpage is updating), and it often doesn't automatically reconnect. In that case, turning device WiFi OFF then back ON (or for my laptop, switching to airplane mode ON, waiting a bit, then back to OFF) is often required to restore the 5GHz wireless connection. Note: it's the 5GHz connection between the device viewing the 5GHz webpage and the router that is dropped; The 5GHz radio1 on the router stays on (as verified by the logs and viewing 5GHz webpage from a 2.4GHz device, see below).
</p>

<p>
When I check the radio0 (2.4GHz) spectrum in Luci (Luci &gt; Status &gt; Channel Analysis) webpage from any of my 5GHz wireless devices, its 5GHz connection to the router never drops.
</p>

<p>
When I check the radio0 (2.4GHz) or radio1 (5GHz) spectrum in Luci (Luci &gt; Status &gt; Channel Analysis) webpages from any of my 2.4GHz devices, its 2.4GHz connection to the router never drops.
</p>

<p>
I've attached both Kernel and System logs.<br />Please let me know if you need additional info.<br />Thank you for your assistance!<br />Ed
</p>

<p>
 <br />
</p>
	</td>
</tr>
<tr id="task4106" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>23.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4106" title="Unconfirmed | Adding cfg80211 into the kernel causes build errror: libcrypto.a | 0%" >4106</a></td><td class='task_category'>Toolchain</td><td class='task_tasktype typ3'>Build Failure</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4106)" onmouseout="Hide(this, 4106)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4106" title="Unconfirmed | Adding cfg80211 into the kernel causes build errror: libcrypto.a | 0%" >Adding cfg80211 into the kernel causes build errror: li</a>...<i class="tag t2197 " title="pthread_once libcrypto kernel cfg80211"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4106" class="descbox box">
	<b>Task Description</b>
	
<p>
OpenWRT from git master (yesterday, b8e682a)<br />I&rsquo;m trying to build custom image for WRT1900AC (mvebu / Armada XP), kernel 5.10.75<br />After selecting CONFIG_MAC80211 in kernel_menuconfig, i get this error:
</p>
<pre class="code">  HOSTCC  scripts/extract-cert
/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../x86_64-pc-linux-gnu/bin/ld: /build/openwrt0/staging_dir/host/lib/libcrypto.a(libcrypto_la-eng_all.o): in function `ENGINE_load_builtin_engines':
eng_all.c:(.text+0x30): undefined reference to `pthread_once'
/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../x86_64-pc-linux-gnu/bin/ld: /build/openwrt0/staging_dir/host/lib/libcrypto.a(libcrypto_la-err.o): in function `ERR_load_ERR_strings':
err.c:(.text+0xcee): undefined reference to `pthread_once'
/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../x86_64-pc-linux-gnu/bin/ld: /build/openwrt0/staging_dir/host/lib/libcrypto.a(libcrypto_la-err_all.o): in function `ERR_load_crypto_strings':
err_all.c:(.text+0xaf): undefined reference to `pthread_once'
/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../x86_64-pc-linux-gnu/bin/ld: /build/openwrt0/staging_dir/host/lib/libcrypto.a(libcrypto_la-c_all.o): in function `OpenSSL_add_all_ciphers':
c_all.c:(.text+0x9af): undefined reference to `pthread_once'
/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../x86_64-pc-linux-gnu/bin/ld: /build/openwrt0/staging_dir/host/lib/libcrypto.a(libcrypto_la-c_all.o): in function `OpenSSL_add_all_digests':
c_all.c:(.text+0x9cf): undefined reference to `pthread_once'
/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../x86_64-pc-linux-gnu/bin/ld: /build/openwrt0/staging_dir/host/lib/libcrypto.a(libcrypto_la-crypto_init.o):crypto_init.c:(.text+0x51): more undefined references to `pthread_once' follow
collect2: error: ld returned 1 exit status
make[6]: *** [scripts/Makefile.host:95: scripts/extract-cert] Error 1
make[5]: *** [Makefile:1199: scripts] Error 2
make[5]: Leaving directory '/build/openwrt0/build_dir/target-arm_cortex-a9+vfpv3_musl_eabi/linux-mvebu_cortexa9/linux-5.10.75'
make[4]: *** [Makefile:19: /build/openwrt0/build_dir/target-arm_cortex-a9+vfpv3_musl_eabi/linux-mvebu_cortexa9/linux-5.10.75/.modules] Error 2
make[4]: Leaving directory '/build/openwrt0/target/linux/mvebu'
make[3]: *** [Makefile:11: compile] Error 2
make[3]: Leaving directory '/build/openwrt0/target/linux'
time: target/linux/compile#8.90#4.43#14.92
    ERROR: target/linux failed to build.</pre>

<p>
Somebody else reported this error here, with possible solution:<br /><a href="https://forum.openwrt.org/t/undefined-reference-to-pthread-once/65789" class="urlextern" title="https://forum.openwrt.org/t/undefined-reference-to-pthread-once/65789">https://forum.openwrt.org/t/undefined-reference-to-pthread-once/65789</a>
</p>

<p>
Thanks.<br />
</p>
	</td>
</tr>
<tr id="task4105" class="severity4">
	<td class="caret"></td>
	<td class='task_dateopened'>23.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4105" title="Unconfirmed | fw3 crashes when a device name is too long, leaving device isola | 0%" >4105</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev4'>High</td><td class='task_summary' onmouseover="Show(this,4105)" onmouseout="Hide(this, 4105)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4105" title="Unconfirmed | fw3 crashes when a device name is too long, leaving device isola | 0%" >fw3 crashes when a device name is too long, leaving dev</a>...</td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4105" class="descbox box">
	<b>Task Description</b>
	
<p>
After connecting to a PPPoE, fw3 crashes and leave the router completely isolated from internet.<br />It happens with multiple targets. This is from x86/64 in a VM:
</p>
<pre class="code">Thu Dec 31 23:05:49 2020 user.notice firewall: Reloading firewall due to ifup of xxx (xxx)
Thu Dec 31 23:05:49 2020 kern.info kernel: [   34.632472] fw3[3409]: segfault at 293531f0 ip 0000000000409353 sp 00007ffec12378f0 error 4 in fw3[404000+f000]
Thu Dec 31 23:05:49 2020 kern.info kernel: [   34.632508] Code: 41 00 48 89 c6 e9 48 ff ff ff 48 8b 7c 24 08 48 8d 54 24 40 be e5 36 41 00 e8 2b bb ff ff eb ad 31 db 48 8b 44 24 08 48 ff c3 &lt;48&gt; 8b b8 c8 00 00 00 39 98 c0 00 00 00 7e 0c 48 8b 3c df ff 15 84
</pre>

<p>
If I manually restart the firewall:
</p>
<pre class="code">* Forward 'vpn' -&gt; 'lan'
   * Zone 'lan'
   * Zone 'wan'
     ! Exception: interface name `pppoe-wanb_pppoe' must be shorter than IFNAMSIZ (15)     ! Skipping due to previous exception (code 2)
Segmentation fault
</pre>

<p>
The issue is only visible using a non-network console as after the firewall is gone, iptables is in a drop-all state.
</p>

<p>
fw3 should ignore the interface but not crash when this situation happens.<br />luci should prevent interface names/device names that will extrapolate IFNAMSIZ, specially PPPoE.<br />netifd should limit the number of extra chars in a device prefix (i.e.: &ldquo;br-&rdquo;, &ldquo;3g-&rdquo;) to make luci checks easier.<br />
</p>
	</td>
</tr>
<tr id="task4104" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>22.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4104" title="Unconfirmed | netifd: new bridge vlan ports are not applied correctly, if brid | 0%" >4104</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,4104)" onmouseout="Hide(this, 4104)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4104" title="Unconfirmed | netifd: new bridge vlan ports are not applied correctly, if brid | 0%" >netifd: new bridge vlan ports are not applied correctly</a>...</td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4104" class="descbox box">
	<b>Task Description</b>
	
<p>
If a bridge is created without any members, and vlan members are added later on, a reload of netifd does not properly create the bridge. A second reload of netifd is required for the bridge to appear.
</p>

<p>
The following network configuration can be used to reproduce the issue:<br />
</p>
<pre class="code">
config device 'switch0'
	option name 'switch0'
	option type 'bridge'

config bridge-vlan 'switch0_4'
	option device 'switch0'
	option vlan '4'

config bridge-vlan 'switch0_5'
	option device 'switch0'
	option vlan '5'
</pre>

<p>
Restart netifd. Add ports to bridge-vlans:<br />
</p>
<pre class="code">
uci set network.switch0_4.ports='eth0:t eth1:* eth2:* eth4:*'
uci set network.switch0_5.ports='eth0:* eth2:t'
</pre>

<p>
Reload netifd. The bridge configuration seems to be applied correctly, but the bridge is not created. A second reload of netifd is required. Starting the bridge manually (ifup switch0) also works.
</p>

<p>
Adding additional ports to an already existing and started bridge works as expected. Therefore, the bridge option 
</p>
<pre class="code">option bridge_empty '1'</pre>

<p>
 can be used to work around this problem.
</p>

<p>
Restarting netifd instead of reloading also works as expected.<br />
</p>
	</td>
</tr>
<tr id="task4103" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>22.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4103" title="Unconfirmed | Meraki MR33 5G radio : cannot maintain high channels | 0%" >4103</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4103)" onmouseout="Hide(this, 4103)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4103" title="Unconfirmed | Meraki MR33 5G radio : cannot maintain high channels | 0%" >Meraki MR33 5G radio : cannot maintain high channels</a></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4103" class="descbox box">
	<b>Task Description</b>
	
<p>
OpenWrt 19.07.8 r11364-ef56c85848 / LuCI openwrt-19.07 branch git-21.189.23240-7b931da
</p>

<p>
Name the affected device<br />Meraki MR33
</p>

<p>
What does it do that it should not do / what does it not do that it should do<br />5G Channels statically set (radio0) are ending up dropping to lower channels<br />Affects other high channels but will zero in on one example, channel 165<br />Note: Country set to <acronym title="Gigabyte">GB</acronym>
</p>

<p>
Steps to reproduce<br />As a test I set radio0 to 165 but in the morning was running on 52
</p>

<p>
What you have already done to workaround/fix the problem<br />fix to channel 48
</p>

<p>
Any additional info you think is important<br />I can get you one to play with remotely if it helps<br />
</p>
	</td>
</tr>
<tr id="task4102" class="severity4">
	<td class="caret"></td>
	<td class='task_dateopened'>21.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4102" title="Unconfirmed | netifd intermittently fails to bring up wireguard interface | 0%" >4102</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev4'>High</td><td class='task_summary' onmouseover="Show(this,4102)" onmouseout="Hide(this, 4102)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4102" title="Unconfirmed | netifd intermittently fails to bring up wireguard interface | 0%" >netifd intermittently fails to bring up wireguard inter</a>...<i class="tag t2196 " title="netifd wireguard"></i></td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4102" class="descbox box">
	<b>Task Description</b>
	
<p>
I have a wireguard interface that is defined in UCI, which normally works well.  Sometimes following a device reboot, wireguard will not be brought up at all.  When I then try to bring up the interface manually using &ldquo;ifup wg0&rdquo;, the wireguard.sh setup code is not even called.  Rebooting the router beings back normal wireguard functionality.
</p>

<p>
I have seen this on 21.02 (ramips &amp; ath79), 21.02-rc3 (ramips), and 19.07.3 (ar71xx).
</p>

<p>
It happens most frequently following an automatic 3am reboot.  It is difficult to reproduce on demand in the middle of the day.  I can cause it to happen in about 20% of 3am reboots by using a domain name for the wireguard peer which is a CNAME pointing to a CNAME pointing to a CNAME pointing to an A record.
</p>

<p>
@vgaetera thinks there might be a race condition in netifd, which is why I have tagged this report.
</p>

<p>
I have several routers in this state presently and can do any requested testing on them.
</p>

<p>
Other people are also seeing the same issue.  One person reports seeing the issue also when using an ip address for the peer (no <acronym title="Domain Name Server">DNS</acronym>).  A link to the forum discussion is <a href="https://forum.openwrt.org/t/wireguard-interfaces-sometimes-do-not-come-up-automatically-in-21-02/106012" class="urlextern" title="https://forum.openwrt.org/t/wireguard-interfaces-sometimes-do-not-come-up-automatically-in-21-02/106012">https://forum.openwrt.org/t/wireguard-interfaces-sometimes-do-not-come-up-automatically-in-21-02/106012</a> 
</p>
	</td>
</tr>
<tr id="task4100" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>20.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4100" title="Unconfirmed | SQUASHFS errors with OpenWrt 21.02 | 0%" >4100</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4100)" onmouseout="Hide(this, 4100)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4100" title="Unconfirmed | SQUASHFS errors with OpenWrt 21.02 | 0%" >SQUASHFS errors with OpenWrt 21.02</a></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4100" class="descbox box">
	<b>Task Description</b>
	
<p>
Supply the following if possible:<br /> - Device problem occurs on
</p>

<p>
Western Digital My Net N750
</p>

<p>
 - Software versions of OpenWrt/LEDE release, packages, etc.
</p>

<p>
openwrt-21.02.0 
</p>

<p>
strongswan, dnscrypt-proxy2, avahi-utils, luci-app-ddns
</p>

<p>
 - Steps to reproduce
</p>

<p>
I installed openwrt-21.02.0-ath79-generic-wd_mynet-n750-squashfs-sysupgrade.bin on a Western Digital My Net N750 that had been running openwrt-19. 
</p>

<p>
The router seemed okay initially but after power cycling, it started reporting errors:
</p>

<p>
Oct 17 12:20:37 router2 kernel: [   38.613970] SQUASHFS error: xz decompression failed, data probably corrupt<br />Oct 17 12:20:37 router2 kernel: [   38.621029] SQUASHFS error: squashfs_read_data failed to read block 0x23686e<br />Oct 17 12:20:37 router2 kernel: [   38.628199] SQUASHFS error: Unable to read fragment cache entry [23686e]<br />Oct 17 12:20:37 router2 kernel: [   38.635010] SQUASHFS error: Unable to read page, block 23686e, size 16b28
</p>

<p>
The filesystem problem would leave some random file damaged, so different services would fail. Over time, the router became less and less functional as various files became inaccessible and after a few cycles, wouldn&rsquo;t boot at all. 
</p>

<p>
I wondered if there was a problem with my old configuration on the new release (though I&rsquo;m not sure how that could damage the squashfs), so I reinstalled a few more times in different ways, e.g., doing a factory install (openwrt-21.02.0-ath79-generic-wd_mynet-n750-squashfs-factory.bin and then the upgrade) instead of just the upgrade, and configuring from scratch rather than from the backup. But each time I had the same problem with the router.  
</p>

<p>
It wasn&rsquo;t the same block on different installs, I noticed, but it seemed to be consistent for a particular installation attempt. 
</p>

<p>
Oct 17 16:11:14 router2 kernel: [   53.182571] SQUASHFS error: xz decompression failed, data probably corrupt<br />Oct 17 16:11:14 router2 kernel: [   53.189582] SQUASHFS error: squashfs_read_data failed to read block 0x21e9e6<br />Oct 17 16:11:14 router2 kernel: [   53.196749] SQUASHFS error: Unable to read fragment cache entry [21e9e6]<br />Oct 17 16:11:14 router2 kernel: [   53.203559] SQUASHFS error: Unable to read page, block 21e9e6, size fd9c
</p>

<p>
Once there were two blocks (I think this is a reboot of the install above):
</p>

<p>
Oct 17 16:29:04 router2 kernel: [   78.505075] SQUASHFS error: xz decompression failed, data probably corrupt<br />Oct 17 16:29:04 router2 kernel: [   78.512103] SQUASHFS error: squashfs_read_data failed to read block 0x1e6e76<br />Oct 17 16:29:05 router2 kernel: [   79.111366] SQUASHFS error: xz decompression failed, data probably corrupt<br />Oct 17 16:29:05 router2 kernel: [   79.118386] SQUASHFS error: squashfs_read_data failed to read block 0x21e9e6<br />Oct 17 16:29:05 router2 kernel: [   79.125565] SQUASHFS error: Unable to read fragment cache entry [21e9e6]<br />Oct 17 16:29:05 router2 kernel: [   79.132445] SQUASHFS error: Unable to read page, block 21e9e6, size fd9c
</p>

<p>
One time there was first a jffs error, followed by lots of squashfs errors. Sorry, I don&rsquo;t have the log for that one. 
</p>

<p>
I now realize that I should have tried power cycling a clean install a few times to see if there were errors right away or if they only happened after files were installed/changed. 
</p>

<p>
To check whether the router was just having a hardware problem, I reinstalled openwrt-19.07.8 and configured it the same. I have not seen any errors after a few power cycles, which points to a problem with the new release. I did not see any bug reports on this tracker that mention squashfs problems and googling, I did not find any useful discussions, hence this bug report. 
</p>

<p>
I guess it could be that the new release uses a bad bit of memory that the earlier release managed to miss. I looked for but didn&rsquo;t find a memory test utility, so I don&rsquo;t know how to examine that possibility. Though the fact that it was different blocks each time makes it not sound like a hardware problem. <br />
</p>
	</td>
</tr>
<tr id="task4099" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>20.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4099" title="Unconfirmed | Mesh 802.11s blackhole due to bogus mpath routes with nexthop 00 | 0%" >4099</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4099)" onmouseout="Hide(this, 4099)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4099" title="Unconfirmed | Mesh 802.11s blackhole due to bogus mpath routes with nexthop 00 | 0%" >Mesh 802.11s blackhole due to bogus mpath routes with n</a>...<i class="tag t2195 " title="mesh"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4099" class="descbox box">
	<b>Task Description</b>
	
<p>
- Device problem occurs on: reported by <a href="https://forum.openwrt.org/t/mesh-802-11s-routing-table-gets-filled-with-garbage-causing-a-black-hole-openwrt-21-02-rc4-mt7603e-mt7615e/104808" class="urlextern" title="https://forum.openwrt.org/t/mesh-802-11s-routing-table-gets-filled-with-garbage-causing-a-black-hole-openwrt-21-02-rc4-mt7603e-mt7615e/104808">a few users on different devices</a><a href="" class="internallink"></a>, I am using a mediatek based one
</p>

<p>
- I am experiencing this on current master, <a href="https://github.com/openwrt/openwrt/commit/ade56b8d9e" class="urlextern" title="https://github.com/openwrt/openwrt/commit/ade56b8d9e">ade56b8d9e</a><a href="" class="internallink"></a>
</p>

<p>
- Steps to reproduce: I am  not sure what exactly triggers this, the bug happens on its own periodically, if anyone has suggestions on specific actions to do to try to replicate it, please let me know
</p>

<p>
<strong>What happens</strong>:
</p>

<p>
Connection to the root mesh node is lost, but inspecting the status of the mesh links with &ldquo;iw mesh0 station dump&rdquo; or &ldquo;iw mesh1 station dump&rdquo; shows the links are active.
</p>

<p>
Inspecting &ldquo;iw mesh0 mpath dump&rdquo; or &ldquo;iw mesh1 mpath dump&rdquo; show a list of mac addresses which are from devices in the LAN, with an invalid next hop (00:00:00:00:00:00), which for some reason end up in the mesh routing table and fill it.
</p>

<p>
For example, when the problem starts showing up, the mesh routing table may look as follows:
</p>
<pre class="code">iw mesh1 mpath dump
DEST ADDR         NEXT HOP          IFACE	SN	METRIC	QLEN	EXPTIME		DTIM	DRET	FLAGS	HOP_COUNT	PATH_CHANGE
16:dd:0c:a4:ba:aa 00:00:00:00:00:00 mesh1	0	0	0	0	1600	4	0x0	0	0
fc:93:c3:3b:0b:fe 00:00:00:00:00:00 mesh1	0	0	0	0	1600	4	0x0	0	0
90:f4:c0:8f:de:80 00:00:00:00:00:00 mesh1	0	0	0	0	1600	4	0x0	0	0
bc:a1:da:cb:87:a8 00:00:00:00:00:00 mesh1	0	0	0	0	1600	4	0x0	0	0
1e:f7:95:47:4a:b3 00:00:00:00:00:00 mesh1	0	0	0	0	1600	4	0x0	0	0
3a:e2:e6:88:65:fb 00:00:00:00:00:00 mesh1	0	0	0	0	1600	4	0x0	0	0
6c:cd:48:37:af:bc 00:00:00:00:00:00 mesh1	0	0	0	0	1600	4	0x0	0	0
d8:54:0b:7c:20:46 00:00:00:00:00:00 mesh1	0	0	0	0	1600	4	0x0	0	0
ce:43:28:84:44:7e 00:00:00:00:00:00 mesh1	0	0	0	0	1600	4	0x0	0	0
26:75:58:0b:39:18 00:00:00:00:00:00 mesh1	0	0	0	0	1600	4	0x0	0	0
80:3f:5d:**:**:** 80:3f:5d:**:**:** mesh1	0	4857	0	0	0	0	0x10	1	1</pre>

<p>
After one minute, the size may have doubled or tripled. 
</p>

<p>
At some point one of the mesh nodes ends up in the routing table with a bogus route (with nexthop 00:00:00:00:00:00), which basically screws up routing 100%, until that happens, the other rough mesh routes do not cause issues, but once the black hole appears, removing the bogus mesh routes does not fix it, only turning off wifi and then on again fixes it.<br />
</p>
	</td>
</tr>
<tr id="task4098" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>20.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4098" title="Unconfirmed | MESH-SAE-AUTH-BLOCKED | 0%" >4098</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4098)" onmouseout="Hide(this, 4098)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4098" title="Unconfirmed | MESH-SAE-AUTH-BLOCKED | 0%" >MESH-SAE-AUTH-BLOCKED</a><i class="tag t2195 " title="mesh"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4098" class="descbox box">
	<b>Task Description</b>
	
<p>
- <strong>Device problem occurs on</strong>: reported by multiple users on <a href="https://github.com/libremesh/lime-packages/issues/837" class="urlextern" title="https://github.com/libremesh/lime-packages/issues/837">different devices</a><a href="" class="internallink"></a>, I am using <a href="http://www.win-star.com/en_us/product/WS_WN552K1_WN552K2_WN552K3.html" class="urlextern" title="http://www.win-star.com/en_us/product/WS_WN552K1_WN552K2_WN552K3.html">a mediatek based one</a><a href="" class="internallink"></a>
</p>

<p>
- I am experiencing this on current master, <strong>revision r2857+4-9d994f35b4</strong>
</p>

<p>
- <strong>Steps to reproduce</strong>: it randomly occurs some times when the root node of a mesh using plain 802.11s (mesh mode) + SAE/PSK2 authentication is rebooted (or a power outage), in order to replicate it, one would have to keep on rebooting aggressively until it happens. Maybe turning off and on wifi may be able to replicate it as well
</p>

<p>
<strong>What happens?</strong>
</p>

<p>
Some times, the devices in a mesh can&rsquo;t connect each other after a power outage or a reboot of the root node (the node which is connected to the gateway and allows the rest of the mesh to connect to the internet).
</p>

<p>
Log lines:
</p>
<pre class="code">Oct 20 13:04:40 OpenWrt wpa_supplicant[1335]: mesh0: MESH-SAE-AUTH-FAILURE addr=*0:3f:5d:**:**:1a
Oct 20 13:04:47 OpenWrt wpa_supplicant[1335]: mesh1: MESH-SAE-AUTH-FAILURE addr=*0:3f:5d:**:**:1b
Oct 20 13:04:59 OpenWrt wpa_supplicant[1335]: mesh0: MESH-SAE-AUTH-FAILURE addr=*0:3f:5d:**:**:1a
Oct 20 13:05:01 OpenWrt wpa_supplicant[1335]: mesh1: MESH-SAE-AUTH-FAILURE addr=*0:3f:5d:**:**:1b
Oct 20 13:05:11 OpenWrt wpa_supplicant[1335]: mesh0: MESH-SAE-AUTH-FAILURE addr=*0:3f:5d:**:**:1a
Oct 20 13:05:12 OpenWrt wpa_supplicant[1335]: mesh1: MESH-SAE-AUTH-FAILURE addr=*0:3f:5d:**:**:1b
Oct 20 13:05:24 OpenWrt wpa_supplicant[1335]: mesh0: MESH-SAE-AUTH-FAILURE addr=*0:3f:5d:**:**:1a
Oct 20 13:05:24 OpenWrt wpa_supplicant[1335]: mesh0: MESH-SAE-AUTH-BLOCKED addr=*0:3f:5d:**:**:1a duration=300
Oct 20 13:05:26 OpenWrt wpa_supplicant[1335]: mesh1: MESH-SAE-AUTH-FAILURE addr=*0:3f:5d:**:**:1b
Oct 20 13:05:26 OpenWrt wpa_supplicant[1335]: mesh1: MESH-SAE-AUTH-BLOCKED addr=*0:3f:5d:**:**:1b duration=300</pre>

<p>
When this happens, the links show up in &ldquo;iw mesh0 station dump&rdquo; or &ldquo;iw mesh1 station dump&rdquo; but in BLOCKED state.
</p>

<p>
Rebooting the nodes which have their link blocked at the same time fixes the issue, which seems to rule out an interference issue, because how can a reboot fix an interference issue?
</p>

<p>
I also tried setting &ldquo;cell_density &lsquo;1&rsquo;&rdquo; in the configuration of the radios, but the problem keep happening, it doesn&rsquo;t happen often, but when it happens it can wreak havoc.
</p>

<p>
The mesh configuration is the following:
</p>
<pre class="code">config wifi-device 'radio0'
	option type 'mac80211'
	option channel '11'
	option hwmode '11g'
	option path '1e140000.pcie/pci0000:00/0000:00:00.0/0000:01:00.0'
	option htmode 'HT20'
	option disabled '0'
	option log_level '0'
	option legacy_rates '0'
	option country 'US'
	option cell_density '1'

config wifi-device 'radio1'
	option type 'mac80211'
	option hwmode '11a'
	option path '1e140000.pcie/pci0000:00/0000:00:01.0/0000:02:00.0'
	option htmode 'VHT80'
	option disabled '0'
	option log_level '0'
	option channel '40'
	option country 'US'
	option cell_density '1'

config wifi-iface 'wifi_mesh0'
	option device 'radio0'
	option ifname 'mesh0'
	option mode 'mesh'
	option encryption 'psk2+ccmp'
	option key '***************'
	option mesh_id '***************'
	option network 'lan'
	option mesh_fwding '1'
	option mesh_rssi_threshold '-80'

config wifi-iface 'wifi_mesh1'
	option device 'radio1'
	option ifname 'mesh1'
	option mode 'mesh'
	option encryption 'psk2+ccmp'
	option key '***************'
	option mesh_id '***************'
	option network 'lan'
	option mesh_fwding '1'
	option mesh_rssi_threshold '-80'

config wifi-iface 'wifi_wlan0'
	option device 'radio0'
	option ifname 'wlan0'
	option mode 'ap'
	option encryption 'psk2'
	option key '***************'
	option ssid '***************'
	option network 'lan'
	option ieee80211r '1'
	option ft_psk_generate_local '1'
	option rsn_preauth '1'
	option reassociation_deadline '20000'
	option ft_over_ds '1'

config wifi-iface 'wifi_wlan1'
	option device 'radio1'
	option ifname 'wlan1'
	option mode 'ap'
	option encryption 'psk2'
	option key '***************'
	option ssid '***************'
	option network 'lan'
	option ieee80211r '1'
	option ft_psk_generate_local '1'
	option rsn_preauth '1'
	option reassociation_deadline '20000'
	option ft_over_ds '1'</pre>
	</td>
</tr>
<tr id="task4097" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>20.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4097" title="Unconfirmed | &quot;Fails&quot;: setting TxPower to 0,1,2 dBm with mt76 on GL-MT300N-V2  | 0%" >4097</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,4097)" onmouseout="Hide(this, 4097)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4097" title="Unconfirmed | &quot;Fails&quot;: setting TxPower to 0,1,2 dBm with mt76 on GL-MT300N-V2  | 0%" >&quot;Fails&quot;: setting TxPower to 0,1,2 dBm with mt76 on GL-M</a>...</td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4097" class="descbox box">
	<b>Task Description</b>
	
<p>
I own a power density meter (and now how to use it) and checked how 0..20 dBm setting and applying with LuCi affects power density.
</p>

<p>
Surprising <strong>not expected</strong> result: 0,1,2 dBm result in slightly <strong>higher</strong> power densities than 20 dBm. As expected: 3 dBm is a very lowe value, increasing with higher settings up to 20 dBm.
</p>

<p>
So either the driver or the hardware does not support that values, for whatever reason; might be a bug. I found nothing in the mt7628n data sheet for this issue.
</p>

<p>
Suggestion - LuCi should not allow to set these values, or mt76 (if it&rsquo;s not a bug in mt76) should set 3 dBm for 0,1,2 dBm.
</p>
	</td>
</tr>
<tr id="task4093" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>20.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4093" title="Unconfirmed | Error with 802.11r enabled: Daemon.err hostapd: nl80211: kernel  | 0%" >4093</a></td><td class='task_category'>Kernel</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,4093)" onmouseout="Hide(this, 4093)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4093" title="Unconfirmed | Error with 802.11r enabled: Daemon.err hostapd: nl80211: kernel  | 0%" >Error with 802.11r enabled: Daemon.err hostapd: nl80211</a>...<i class="tag t2193 " title="hostapd wireless 802.11r FT"></i></td><td class='task_reportedin'>All</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4093" class="descbox box">
	<b>Task Description</b>
	
<p>
Supply the following if possible:<br /> - TP-Link C6 and Netgear r7800 (but read from it in every combination)<br /> - have this since using OpenWRT 19.07<br /> - Enable 802.11r with Generate PMK locally but it happens also if manually configured
</p>
<pre class="code"> </pre>

<p>
 Wed Oct 20 08:13:57 2021 daemon.err hostapd: nl80211: kernel reports: key addition failed<br />Wed Oct 20 08:13:57 2021 daemon.info hostapd: wlan0: STA 14:c8:8b:XX:XX:XX IEEE 802.11: associated (aid 1)<br />Wed Oct 20 08:13:57 2021 daemon.notice hostapd: wlan0: AP-STA-CONNECTED 14:c8:8b:66:46:f7
</p>

<p>
<a href="https://forum.openwrt.org/t/daemon-err-hostapd-nl80211-kernel-reports-key-addition-failed-is-this-a-problem/100370/6" class="urlextern" title="https://forum.openwrt.org/t/daemon-err-hostapd-nl80211-kernel-reports-key-addition-failed-is-this-a-problem/100370/6">https://forum.openwrt.org/t/daemon-err-hostapd-nl80211-kernel-reports-key-addition-failed-is-this-a-problem/100370/6</a> 
</p>
	</td>
</tr>
<tr id="task4091" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>19.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4091" title="Unconfirmed | isl: PKG_SOURCE_URL dead | 0%" >4091</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4091)" onmouseout="Hide(this, 4091)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4091" title="Unconfirmed | isl: PKG_SOURCE_URL dead | 0%" >isl: PKG_SOURCE_URL dead</a></td><td class='task_reportedin'>All</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4091" class="descbox box">
	<b>Task Description</b>
	
<p>
See also <a href="https://groups.google.com/g/isl-development/c/JGaMo2VUu_8" class="urlextern" title="https://groups.google.com/g/isl-development/c/JGaMo2VUu_8">https://groups.google.com/g/isl-development/c/JGaMo2VUu_8</a>
</p>

<p>
Please change tools/isl/Makefile to<br />PKG_SOURCE_<acronym title="Uniform Resource Locator">URL</acronym>:=<a href="https://sourceforge.net/projects/libisl/files/" class="urlextern" title="https://sourceforge.net/projects/libisl/files/">https://sourceforge.net/projects/libisl/files/</a> 
</p>
	</td>
</tr>
<tr id="task4090" class="severity5">
	<td class="caret"></td>
	<td class='task_dateopened'>18.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4090" title="Unconfirmed | No configuration from ISP on Asus RT-AC85P | 0%" >4090</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev5'>Critical</td><td class='task_summary' onmouseover="Show(this,4090)" onmouseout="Hide(this, 4090)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4090" title="Unconfirmed | No configuration from ISP on Asus RT-AC85P | 0%" >No configuration from ISP on Asus RT-AC85P</a></td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4090" class="descbox box">
	<b>Task Description</b>
	
<p>
Supply the following if possible:<br /> - Device problem occurs on Asus RT-AC85P<br /> - Software versions of OpenWrt/LEDE release, packages, etc.: 21.02<br /> - Steps to reproduce
</p>
<pre class="code"> After installing latest released OpenWrt 21.02 to AC85P I found it is not able to get network configuration from ISP - WAN interface has no IP etc. </pre>

<p>
Some additional info: 
</p>
<ul>
<li class="level1"><div class="li"> My old TL-WR1043ND with OpenWrt 19.07 works good with my <acronym title="Internet Service Provider">ISP</acronym>.</div>
</li>
<li class="level1"><div class="li"> My desktop machine and all my several laptops works good with my <acronym title="Internet Service Provider">ISP</acronym> (connecting to is directly by cable).</div>
</li>
<li class="level1"><div class="li"> RT-AC85P with stock firmware works good with my <acronym title="Internet Service Provider">ISP</acronym>; it is getting network config from <acronym title="Internet Service Provider">ISP</acronym>.</div>
</li>
</ul>

<p>
 I made a call to my <acronym title="Internet Service Provider">ISP</acronym> support informing them my router not able to get network config on what they answered &ldquo;my router doesn&rsquo;t sends its MAC address&rdquo;.
</p>

<p>
An appropriate forum thread: <a href="https://forum.openwrt.org/t/no-configuration-from-isp-on-asus-rt-ac85p/108056/12" class="urlextern" title="https://forum.openwrt.org/t/no-configuration-from-isp-on-asus-rt-ac85p/108056/12">https://forum.openwrt.org/t/no-configuration-from-isp-on-asus-rt-ac85p/108056/12</a>  <br />
</p>
	</td>
</tr>
<tr id="task4089" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>18.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4089" title="Unconfirmed | TP-Link Archer C7 v5 - TEMPer1 (USB HID Device) not recognized | 0%" >4089</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,4089)" onmouseout="Hide(this, 4089)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4089" title="Unconfirmed | TP-Link Archer C7 v5 - TEMPer1 (USB HID Device) not recognized | 0%" >TP-Link Archer C7 v5 - TEMPer1 (USB HID Device) not rec</a>...</td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4089" class="descbox box">
	<b>Task Description</b>
	
<p>
I am using a TEMPer1 device and when connecting it to an Archer C7 v5, it is not recognized. In the log, there are following errors:
</p>

<p>
Mon Oct 18 19:25:57 2021 kern.info kernel: [  407.582498] usb 1-1: new low-speed USB device number 2 using ehci-platform<br />Mon Oct 18 19:26:12 2021 kern.err kernel: [  422.842461] usb 1-1: device descriptor read/64, error -145<br />Mon Oct 18 19:26:27 2021 kern.err kernel: [  438.282399] usb 1-1: device descriptor read/64, error -145<br />Mon Oct 18 19:26:28 2021 kern.info kernel: [  438.552372] usb 1-1: new low-speed USB device number 3 using ehci-platform<br />Mon Oct 18 19:26:43 2021 kern.err kernel: [  453.882301] usb 1-1: device descriptor read/64, error -145<br />Mon Oct 18 19:26:58 2021 kern.err kernel: [  469.322235] usb 1-1: device descriptor read/64, error -145<br />Mon Oct 18 19:26:59 2021 kern.info kernel: [  469.442282] usb usb1-port1: attempt power cycle<br />Mon Oct 18 19:26:59 2021 kern.info kernel: [  469.912231] usb 1-1: new low-speed USB device number 4 using ehci-platform<br />Mon Oct 18 19:27:10 2021 kern.err kernel: [  480.512195] usb 1-1: device not accepting address 4, error -145<br />Mon Oct 18 19:27:10 2021 kern.info kernel: [  480.662196] usb 1-1: new low-speed USB device number 5 using ehci-platform<br />Mon Oct 18 19:27:20 2021 kern.err kernel: [  491.232218] usb 1-1: device not accepting address 5, error -145<br />Mon Oct 18 19:27:20 2021 kern.err kernel: [  491.252221] usb usb1-port1: unable to enumerate USB device
</p>

<p>
I am using this device without any issues on other devices (e.g. TP-Link TL-WR842N/ND v2, Netgear WNDR3800, Netgear WNDR3800).
</p>

<p>
This errors occur in OWRT 19.07.8 as well as in OWRT 21.02.0.<br />The packages kmod-hid, kmod-hid-generic and kmod-usb-hid are installed.<br />
</p>
	</td>
</tr>
<tr id="task4088" class="severity5">
	<td class="caret"></td>
	<td class='task_dateopened'>16.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4088" title="Unconfirmed | make clean required for changes in $BUILDROOT/files/ to modify i | 0%" >4088</a></td><td class='task_category'>Toolchain</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev5'>Critical</td><td class='task_summary' onmouseover="Show(this,4088)" onmouseout="Hide(this, 4088)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4088" title="Unconfirmed | make clean required for changes in $BUILDROOT/files/ to modify i | 0%" >make clean required for changes in $BUILDROOT/files/ to</a>...</td><td class='task_reportedin'>openwrt-19.07</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4088" class="descbox box">
	<b>Task Description</b>
	
<p>
Supply the following if possible:<br /> - Device problem occurs on<br /> - Software versions of OpenWrt/LEDE release, packages, etc.<br /> - Steps to reproduce
</p>
<pre class="code"> </pre>

<p>
 It isn&rsquo;t and shouldn&rsquo;t need to be documented as it should automatically update files in files/ when make is ran.
</p>

<p>
I assume this is a hearing thing and some crazy people who don&rsquo;t think expect `make clean` or something?
</p>

<p>
I don&rsquo;t know why, but this shouldn&rsquo;t be this way.<br />
</p>
	</td>
</tr>
<tr id="task4087" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>16.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4087" title="Unconfirmed | Cannot use vlan 1 tagged with DSA in WRT1900ACS v2 | 0%" >4087</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4087)" onmouseout="Hide(this, 4087)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4087" title="Unconfirmed | Cannot use vlan 1 tagged with DSA in WRT1900ACS v2 | 0%" >Cannot use vlan 1 tagged with DSA in WRT1900ACS v2</a><i class="tag t2076 " title="dsa"></i></td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4087" class="descbox box">
	<b>Task Description</b>
	
<p>
Hello,
</p>

<p>
No matter what I change, I cannot create a wan.1 interface. Any other vlan id works:
</p>
<pre class="code">config device
        option name 'br-lan'
        option type 'bridge'
        list ports 'lan1'
        list ports 'lan2'
        list ports 'lan3'
        list ports 'lan4'

config interface 'lan'
        option device 'br-lan'
        option proto 'static'
        option netmask '255.255.255.0'
        option ip6assign '60'
        option ipaddr '192.168.1.4'
        option gateway '192.168.1.1'

config interface 'lan6'
        option proto 'dhcpv6'
        option device 'br-lan'
        option reqaddress 'try'
        option reqprefix 'auto'

config device
        option name 'br-guest'
        option type 'bridge'
        list ports 'wan.3'

config interface 'guest'
        option proto 'none'
        option device 'br-guest'

config device
        option type '8021q'
        option ifname 'wan'
        option vid '3'
        option name 'wan.3'

config device
        option type '8021q'
        option ifname 'wan'
        option vid '2'
        option name 'wan.2'

config interface 'test'
        option proto 'none'
        option device 'wan.1'

config device
        option type '8021q'
        option ifname 'wan'
        option vid '1'
        option name 'wan.1'</pre>

<p>
I want to add wan.1 to br-lan but the virtual device (wan.1) is never created. I created a test interface just to try to bring it up alone, but nothing made wan.1 appears.
</p>

<p>
I also tried ip-full and it also failed:
</p>

<p>
root@ap4:/etc/config# ip link add link wan name wan.1 type vlan id 2<br />root@ap4:/etc/config# ip link add link wan name wan.1 type vlan id 1<br />RTNETLINK answers: Not supported
</p>

<p>
Why vlan 1 is prohibit?<br />
</p>
	</td>
</tr>
<tr id="task4086" class="severity3">
	<td class="caret"></td>
	<td class='task_dateopened'>15.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4086" title="Unconfirmed | edgerouter 6p : missing usb3 support in initramfs | 0%" >4086</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev3'>Medium</td><td class='task_summary' onmouseover="Show(this,4086)" onmouseout="Hide(this, 4086)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4086" title="Unconfirmed | edgerouter 6p : missing usb3 support in initramfs | 0%" >edgerouter 6p : missing usb3 support in initramfs</a><i class="tag t2192 " title="edgerouter 6p"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4086" class="descbox box">
	<b>Task Description</b>
	
<p>
I had to add these lines :
</p>

<p>
CONFIG_USB_XHCI_HCD=y<br />CONFIG_USB_XHCI_PLATFORM=y
</p>

<p>
in openwrt/target/linux/octeon/config-5.4. Otherwise there is no /dev/sda1 device available for installing.<br />
</p>
	</td>
</tr>
<tr id="task4085" class="severity2">
	<td class="caret"></td>
	<td class='task_dateopened'>14.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4085" title="Unconfirmed | dnsmasq: cannot open or create lease file /tmp/dhcp.leases: Read | 0%" >4085</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev2'>Low</td><td class='task_summary' onmouseover="Show(this,4085)" onmouseout="Hide(this, 4085)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4085" title="Unconfirmed | dnsmasq: cannot open or create lease file /tmp/dhcp.leases: Read | 0%" >dnsmasq: cannot open or create lease file /tmp/dhcp.lea</a>...<i class="tag t2128 " title="dnsmasq ujail"></i></td><td class='task_reportedin'>Trunk</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4085" class="descbox box">
	<b>Task Description</b>
	
<p>
with a selfcompiled r17753 with mipsel ramips/mt7621 on &lsquo;TP-LINK Archer C6U&rsquo; It was working without these issues with r17560
</p>
<pre class="code">
Thu Oct 14 18:32:38 2021 user.err : jail: creat(/tmp/ujail-lhNbFK/tmp/dhcp.leases) failed: Read-only file system
Thu Oct 14 18:32:38 2021 daemon.crit dnsmasq[1]: cannot open or create lease file /tmp/dhcp.leases: Read-only file system
Thu Oct 14 18:32:38 2021 daemon.crit dnsmasq[1]: FAILED to start up
Thu Oct 14 18:32:43 2021 user.err : jail: creat(/tmp/ujail-FlhCEP/tmp/dhcp.leases) failed: Read-only file system
Thu Oct 14 18:32:43 2021 daemon.crit dnsmasq[1]: cannot open or create lease file /tmp/dhcp.leases: Read-only file system
Thu Oct 14 18:32:43 2021 daemon.crit dnsmasq[1]: FAILED to start up
Thu Oct 14 18:32:49 2021 user.err : jail: creat(/tmp/ujail-fHEJCC/tmp/dhcp.leases) failed: Read-only file system
Thu Oct 14 18:32:49 2021 daemon.crit dnsmasq[1]: cannot open or create lease file /tmp/dhcp.leases: Read-only file system
Thu Oct 14 18:32:49 2021 daemon.crit dnsmasq[1]: FAILED to start up
Thu Oct 14 18:32:50 2021 daemon.alert kalua: /usr/sbin/cron.monitorin: curl_it() [ERR] returning 4 after fetching 'http://intercity-vpn.de/networ...'
Thu Oct 14 18:32:54 2021 user.err : jail: creat(/tmp/ujail-jGfjpp/tmp/dhcp.leases) failed: Read-only file system
Thu Oct 14 18:32:54 2021 daemon.crit dnsmasq[1]: cannot open or create lease file /tmp/dhcp.leases: Read-only file system
Thu Oct 14 18:32:54 2021 daemon.crit dnsmasq[1]: FAILED to start up
Thu Oct 14 18:32:59 2021 user.err : jail: creat(/tmp/ujail-knefoG/tmp/dhcp.leases) failed: Read-only file system
Thu Oct 14 18:32:59 2021 daemon.crit dnsmasq[1]: cannot open or create lease file /tmp/dhcp.leases: Read-only file system
Thu Oct 14 18:32:59 2021 daemon.crit dnsmasq[1]: FAILED to start up
Thu Oct 14 18:33:02 2021 daemon.alert kalua: /usr/sbin/cron.monitorin: curl_it() [ERR] returning 4 after fetching 'http://intercity-vpn.de/networ...'
Thu Oct 14 18:33:04 2021 user.err : jail: creat(/tmp/ujail-jneGLN/tmp/dhcp.leases) failed: Read-only file system
Thu Oct 14 18:33:04 2021 daemon.crit dnsmasq[1]: cannot open or create lease file /tmp/dhcp.leases: Read-only file system
Thu Oct 14 18:33:04 2021 daemon.crit dnsmasq[1]: FAILED to start up
Thu Oct 14 18:33:04 2021 daemon.info procd: Instance dnsmasq::cfg01411c s in a crash loop 6 crashes, 0 seconds since last crash
</pre>

<p>
The filesystem looks normal:
</p>
<pre class="code">
root@box:~ :) df -h
Filesystem                Size      Used Available Use% Mounted on
/dev/root                 5.5M      5.5M         0 100% /rom
tmpfs                    59.4M      1.3M     58.1M   2% /tmp
/dev/mtdblock4            7.4M    476.0K      7.0M   6% /overlay
overlayfs:/overlay        7.4M    476.0K      7.0M   6% /
tmpfs                   512.0K         0    512.0K   0% /dev

root@liszt28-hybrid--37:~ :) echo foo &gt;/tmp/dhcp.leases.txt 

root@liszt28-hybrid--37:~ :) ls -l /tmp/dhcp.leases.txt
-rw-r--r--    1 root     root             4 Oct 14 18:37 /tmp/dhcp.leases.txt

root@liszt28-hybrid--37:~ :) ps | grep jail
 3898 root      2616 S    {hostapd} /sbin/ujail -n hostapd -U network -G network -C /etc/capabilities/wpad.json -c -- /usr/sbin/hostapd -s -g /var/run/hostapd/global
 3899 root      2616 S    {wpa_supplicant} /sbin/ujail -n wpa_supplicant -U network -G network -C /etc/capabilities/wpad.json -c -- /usr/sbin/wpa_supplicant -n -s -g /var/run/wpa_supplican
 4489 root      1280 S    grep jail

root@liszt28-hybrid--37:~ :) pidof dnsmasq || echo BAD
BAD

root@liszt28-hybrid--37:~ :) uci show dhcp
dhcp.@dnsmasq[0]=dnsmasq
dhcp.@dnsmasq[0].logqueries='0'
dhcp.@dnsmasq[0].domainneeded='0'
dhcp.@dnsmasq[0].boguspriv='1'
dhcp.@dnsmasq[0].filterwin2k='0'
dhcp.@dnsmasq[0].localise_queries='1'
dhcp.@dnsmasq[0].rebind_protection='0'
dhcp.@dnsmasq[0].rebind_localhost='0'
dhcp.@dnsmasq[0].expandhosts='1'
dhcp.@dnsmasq[0].nonegcache='0'
dhcp.@dnsmasq[0].authoritative='1'
dhcp.@dnsmasq[0].readethers='1'
dhcp.@dnsmasq[0].leasefile='/tmp/dhcp.leases'
dhcp.@dnsmasq[0].resolvfile='/tmp/resolv.conf.auto'
dhcp.@dnsmasq[0].addnhosts='/var/run/hosts_olsr' '/etc/local.hosts'
dhcp.@dnsmasq[0].server='8.8.8.8'
dhcp.@dnsmasq[0].notinterface='wan' 'wlan' 'wlanRADIO1'
dhcp.@dnsmasq[0].dhcpscript='/etc/dhcp-script.d/10dhcpscript'
dhcp.@dnsmasq[0].cachesize='1000'
dhcp.@dnsmasq[0].local='/internet/'
dhcp.@dnsmasq[0].domain='internet'
dhcp.lan=dhcp
dhcp.lan.interface='lan'
dhcp.lan.start='34'
dhcp.lan.limit='13'
dhcp.lan.force='1'
dhcp.lan.ignore='0'
dhcp.lan.leasetime='48h'
dhcp.wlan=dhcp
dhcp.wlan.force='1'
dhcp.wlan.ignore='0'
dhcp.wlan.interface='mastergate'
dhcp.wlan.dhcp_option='3,100.64.0.1' '6,100.64.0.1'
dhcp.wlan.leasetime='12h'
dhcp.wlan.start='100.65.35.2'
dhcp.wlan.limit='253'
dhcp.wan=dhcp
dhcp.wan.interface='wan'
dhcp.wan.ignore='1'
dhcp.@host[0]=host
dhcp.@host[0].ip='127.0.0.2'
dhcp.@host[0].mac='00:00:00:00:00:00'
dhcp.@host[0].name='lo-alias'
dhcp.@dhcp[3]=dhcp
dhcp.@dhcp[3].interface='loopback'
dhcp.@dhcp[3].start='2'
dhcp.@dhcp[3].limit='2'
dhcp.@dhcp[3].leasetime='1h'
dhcp.@dhcp[3].force='1'
dhcp.@dhcp[3].ignore='0'
</pre>
	</td>
</tr>
<tr id="task4084" class="severity4">
	<td class="caret"></td>
	<td class='task_dateopened'>14.10.2021</td><td class='task_id'><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4084" title="Unconfirmed | Problem with TL-WR842N v5 wifi and static IP | 0%" >4084</a></td><td class='task_category'>Base system</td><td class='task_tasktype typ1'>Bug Report</td><td class='task_priority pri2'>Very Low</td><td class='task_severity sev4'>High</td><td class='task_summary' onmouseover="Show(this,4084)" onmouseout="Hide(this, 4084)"><a href="https://bugs.openwrt.org/index.php?do=details&amp;task_id=4084" title="Unconfirmed | Problem with TL-WR842N v5 wifi and static IP | 0%" >Problem with TL-WR842N v5 wifi and static IP</a></td><td class='task_reportedin'>openwrt-21.02</td><td class='task_status sta1'>Unconfirmed</td>	<td id="desc_4084" class="descbox box">
	<b>Task Description</b>
	
<p>
Supply the following if possible:<br /> - TP-Link TL-WR842N v5<br /> - OpenWrt 21.02.0 r16279-5cc0535800 / LuCI openwrt-21.02 branch git-21.231.26241-422c175<br /> - I set to default all the settings. After it i set static IP for wan:<br />config interface &lsquo;wan&rsquo;
</p>
<pre class="code">option ifname 'eth0.2'
option proto 'static'
option gateway 'IP'
list dns '1.1.1.1'
list dns '8.8.8.8'
option netmask '255.255.255.0'
option ipaddr 'IP'</pre>

<p>
 and set the wifi:
</p>

<p>
config wifi-device &lsquo;radio0&rsquo;
</p>
<pre class="code">option type 'mac80211'
option channel '11'
option hwmode '11g'
option path 'platform/10300000.wmac'
option htmode 'HT40'
option disabled '0'</pre>

<p>
config wifi-iface &lsquo;wifinet1&rsquo;
</p>
<pre class="code">option ssid 'DIR-620'
option encryption 'none'
option device 'radio0'
option mode 'ap'
option network 'lan'
 </pre>

<p>
After set the settings it have connected about 8 wifi devices. After it it has regular dropdown an packets (i can see The timeout interval for the request has been exceeded. if i ping on my laptop from wifi connected)<br />
</p>
	</td>
</tr>
</tbody>
</table>
<table id="pagenumbers">
<tr>
	<td id="taskrange">Showing tasks 1 - 50 of 1344</td>
	<td id="numbers">Page 1 of 27<span class="pagenums DoNotPrint"><strong>1</strong> - <a href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;pagenum=2">2</a> - <a href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;pagenum=3">3</a> - <a href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;pagenum=4">4</a> - <a href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;pagenum=5">5</a> - <a id="next" accesskey="n" href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;pagenum=2">Next &gt;</a><a href="https://bugs.openwrt.org/index.php?do=tasklist&amp;project=2&amp;pagenum=27"> Last &gt;&gt;</a></span></td>
</tr>
</table>

<!-- Bulk editing Tasks -->
</div>
</form>
</div>
<input type="checkbox" id="s_shortcuts" />
<label for="s_shortcuts" id="shortcutlabel"><i class="fa fa-keyboard-o"></i> Keyboard shortcuts</label>
<label for="s_shortcuts" id="shortcutsmodal"></label>
<div id="shortcuts">
<label for="s_shortcuts" id="shortcutclose"><i class="fa fa-close fa-2x"></i></label>
<h3>Available keyboard shortcuts</h3>
<h4></h4>
<ul>
<li><kbd>SHIFT+ALT+l</kbd> Login Dialog / Logout</li>
<li><kbd>SHIFT+ALT+a</kbd> Add new task</li>
<li><kbd>SHIFT+ALT+m</kbd> My searches</li>
<li><kbd>SHIFT+ALT+t</kbd> focus taskid search</li>
</ul>
<h4>Tasklist</h4>
<ul>
<li><kbd>o</kbd> open selected task</li>
<li><kbd>j</kbd> move cursor down</li>
<li><kbd>k</kbd> move cursor up</li>
</ul>
<h4>Task Details</h4>
<ul>
<li><kbd>n</kbd> Next task</li>
<li><kbd>p</kbd> Previous task</li>
<li><kbd>SHIFT+ALT+e</kbd> <kbd>ENTER</kbd> Edit this task</li>
<li><kbd>SHIFT+ALT+y</kbd> Close Task</li>
</ul>
<h4>Task Editing</h4>
<ul>
<li><kbd>SHIFT+ALT+s</kbd> save task</li>
</ul>
</div>
</div>
<div id="footer">
      
  <!-- Please don't remove this line - it helps promote Flyspray -->
  <a href="http://flyspray.org/" class="offsite">Powered by Flyspray</a>
</div>
</body>
</html>
