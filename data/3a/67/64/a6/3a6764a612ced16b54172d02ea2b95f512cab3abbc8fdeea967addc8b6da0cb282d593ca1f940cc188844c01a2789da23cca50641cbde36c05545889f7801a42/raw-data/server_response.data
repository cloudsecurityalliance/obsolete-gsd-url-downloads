<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>69bfe2d957d903521d32324190c2754cb073be15 - kernel/common - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://accounts.google.com/AccountChooser?service=gerritcodereview&amp;continue=https://android.googlesource.com/login/kernel/common/%2B/69bfe2d957d903521d32324190c2754cb073be15">Sign in</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">android</a> / <a class="Breadcrumbs-crumb" href="/kernel/">kernel</a> / <a class="Breadcrumbs-crumb" href="/kernel/common/">common</a> / <span class="Breadcrumbs-crumb">69bfe2d957d903521d32324190c2754cb073be15</span></div><div class="u-monospace Metadata"><table><tr><th class="Metadata-title">commit</th><td>69bfe2d957d903521d32324190c2754cb073be15</td><td><span>[<a href="/kernel/common/+log/69bfe2d957d903521d32324190c2754cb073be15">log</a>]</span> <span>[<a href="/kernel/common/+archive/69bfe2d957d903521d32324190c2754cb073be15.tar.gz">tgz</a>]</span></td></tr><tr><th class="Metadata-title">author</th><td>Colin Cross &lt;ccross@android.com&gt;</td><td>Tue Aug 05 12:05:17 2014 -0700</td></tr><tr><th class="Metadata-title">committer</th><td>Colin Cross &lt;ccross@android.com&gt;</td><td>Tue Aug 12 19:42:56 2014 -0700</td></tr><tr><th class="Metadata-title">tree</th><td><a href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/">3aa7576106aab494e6530ccd3b9fe36969636ce1</a></td></tr><tr><th class="Metadata-title">parent</th><td><a href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15%5E">6af84c9aa53ebae9d6ac26df6de87c3fc0960ba0</a> <span>[<a href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15%5E%21/">diff</a>]</span></td></tr></table></div><pre class="u-pre u-monospace MetadataMessage">mm: fix prctl_set_vma_anon_name

prctl_set_vma_anon_name could attempt to set the name across
two vmas at the same time due to a typo, which might corrupt
the vma list.  Fix it to use tmp instead of end to limit
the name setting to a single vma at a time.

Change-Id: <a href="https://android-review.googlesource.com/#/q/Ie32d8ddb0fd547efbeedd6528acdab5ca5b308b4">Ie32d8ddb0fd547efbeedd6528acdab5ca5b308b4</a>
Reported-by: Jed Davis &lt;jld@mozilla.com&gt;
Signed-off-by: Colin Cross &lt;ccross@android.com&gt;
</pre><ul class="DiffTree"><li><a href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/kernel/sys.c">kernel/sys.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15%5E%21/#F0">diff</a>]</span></li></ul><div class="DiffSummary">1 file changed</div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: 3aa7576106aab494e6530ccd3b9fe36969636ce1</div><ol class="FileList"><li class="FileList-item FileList-item--regularFile" title="Regular file - .gitignore"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/.gitignore">.gitignore</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .mailmap"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/.mailmap">.mailmap</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - COPYING"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/COPYING">COPYING</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - CREDITS"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/CREDITS">CREDITS</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - Documentation/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/Documentation/">Documentation/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - Kbuild"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/Kbuild">Kbuild</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - Kconfig"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/Kconfig">Kconfig</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - MAINTAINERS"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/MAINTAINERS">MAINTAINERS</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - Makefile"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/Makefile">Makefile</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - README"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/README">README</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - REPORTING-BUGS"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/REPORTING-BUGS">REPORTING-BUGS</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - android/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/android/">android/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - arch/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/arch/">arch/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - block/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/block/">block/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - crypto/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/crypto/">crypto/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - drivers/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/drivers/">drivers/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - firmware/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/firmware/">firmware/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - fs/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/fs/">fs/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - include/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/include/">include/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - init/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/init/">init/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - ipc/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/ipc/">ipc/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - kernel/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/kernel/">kernel/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - lib/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/lib/">lib/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - mm/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/mm/">mm/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - net/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/net/">net/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - samples/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/samples/">samples/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - scripts/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/scripts/">scripts/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - security/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/security/">security/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - sound/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/sound/">sound/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - tools/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/tools/">tools/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - usr/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/usr/">usr/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - virt/"><a class="FileList-itemLink" href="/kernel/common/+/69bfe2d957d903521d32324190c2754cb073be15/virt/">virt/</a></li></ol></div></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>