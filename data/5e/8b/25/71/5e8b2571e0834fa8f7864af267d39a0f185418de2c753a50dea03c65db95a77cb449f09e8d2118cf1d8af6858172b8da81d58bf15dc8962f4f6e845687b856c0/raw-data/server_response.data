<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#870608 - CVE-2017-11548 - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=870608&quot;&gt;870608&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:870608@bugs.debian.org">#870608</a><br>
CVE-2017-11548</h1>
<div class="versiongraph"><a href="version.cgi?info=1;absolute=0;package=src%3Alibao;found=libao%2F1.2.0-1;collapse=1"><img alt="version graph" src="version.cgi?height=2;width=2;package=src%3Alibao;absolute=0;collapse=1;found=libao%2F1.2.0-1"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?src=libao">src:libao</a>;
Maintainer for <a href="pkgreport.cgi?src=libao">src:libao</a> is <a href="pkgreport.cgi?maint=ron%40debian.org">Ron Lee &lt;ron@debian.org&gt;</a>; </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=jmm%40debian.org">Moritz Muehlenhoff &lt;jmm@debian.org&gt;</a></p>
  <p>Date: Thu,  3 Aug 2017 11:15:01 UTC</p>

<p>Severity: important</p>
<p>Tags: security, upstream</p>

<p>Found in version libao/1.2.0-1</p>



</div>

<p><a href="mailto:870608@bugs.debian.org">Reply</a> or <a href="mailto:870608-subscribe@bugs.debian.org">subscribe</a> to this bug.</p>
<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=870608;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Ron Lee &lt;ron@debian.org&gt; -->
<!-- time:1501758904 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Ron Lee &lt;ron@debian.org&gt;</code>:<br>
<code>Bug#870608</code>; Package <code>src:libao</code>.
 (Thu, 03 Aug 2017 11:15:04 GMT) (<a href="bugreport.cgi?bug=870608;msg=2">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Moritz Muehlenhoff &lt;jmm@debian.org&gt; -->
<!-- time:1501758904 -->
<strong>Acknowledgement sent</strong>
to <code>Moritz Muehlenhoff &lt;jmm@debian.org&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Ron Lee &lt;ron@debian.org&gt;</code>.
 (Thu, 03 Aug 2017 11:15:04 GMT) (<a href="bugreport.cgi?bug=870608;msg=4">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=870608;msg=5">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=5">mbox</a>, <a href="mailto:870608@bugs.debian.org?body=On%20Thu%2C%2003%20Aug%202017%2013%3A11%3A07%20%2B0200%20Moritz%20Muehlenhoff%20%3Cjmm%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20libao%0A%3E%20Severity%3A%20important%0A%3E%20Tags%3A%20security%0A%3E%20%0A%3E%20This%20was%20assigned%20CVE-2017-11548%3A%0A%3E%20http%3A%2F%2Fseclists.org%2Ffulldisclosure%2F2017%2FJul%2F84%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20%20%20%20%20%20%20%20%20Moritz%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C150175866793.5365.12928748698321693719.reportbug%40hullmann.westfalen.local%3E&amp;References=%3C150175866793.5365.12928748698321693719.reportbug%40hullmann.westfalen.local%3E&amp;subject=Re%3A%20CVE-2017-11548">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jmm%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Moritz Muehlenhoff &lt;jmm@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> CVE-2017-11548</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 03 Aug 2017 13:11:07 +0200</div>
</div>
<pre class="message">Source: libao
Severity: important
Tags: security

This was assigned <a href="https://security-tracker.debian.org/tracker/CVE-2017-11548">CVE-2017-11548</a>:
<a href="http://seclists.org/fulldisclosure/2017/Jul/84">http://seclists.org/fulldisclosure/2017/Jul/84</a>

Cheers,
        Moritz


</pre>

<div class="msgreceived"><hr><p>
<a name="6"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1501760346 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;upstream security&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;security&#39;
            };
-->
<strong>Added tag(s) upstream.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Thu, 03 Aug 2017 11:39:06 GMT) (<a href="bugreport.cgi?bug=870608;msg=7">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="8"></a>
<!-- command:found -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1501760346 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libao/1.2.0-1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; []
            };
-->
<strong>Marked as found in versions libao/1.2.0-1.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Thu, 03 Aug 2017 11:39:06 GMT) (<a href="bugreport.cgi?bug=870608;msg=9">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="10"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Ron Lee &lt;ron@debian.org&gt; -->
<!-- time:1515830406 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Ron Lee &lt;ron@debian.org&gt;</code>:<br>
<code>Bug#870608</code>; Package <code>src:libao</code>.
 (Sat, 13 Jan 2018 08:00:06 GMT) (<a href="bugreport.cgi?bug=870608;msg=11">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=11">mbox</a>, <a href="#10">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="12"></a>
<!-- request_addr: Ron &lt;ron@debian.org&gt; -->
<!-- time:1515830406 -->
<strong>Acknowledgement sent</strong>
to <code>Ron &lt;ron@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Ron Lee &lt;ron@debian.org&gt;</code>.
 (Sat, 13 Jan 2018 08:00:06 GMT) (<a href="bugreport.cgi?bug=870608;msg=13">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=13">mbox</a>, <a href="#12">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="14"></a><a name="msg14"></a><a href="#14">Message #14</a> received at 870608@bugs.debian.org (<a href="bugreport.cgi?bug=870608;msg=14">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=14">mbox</a>, <a href="mailto:870608@bugs.debian.org?body=On%20Sat%2C%2013%20Jan%202018%2018%3A20%3A39%20%2B1030%20Ron%20%3Cron%40debian.org%3E%20wrote%3A%0A%3E%20Control%3A%20clone%20-1%20-2%0A%3E%20Control%3A%20reassign%20-2%20libmad%200.15.1b-8%0A%3E%20Control%3A%20block%20-1%20by%20-2%0A%3E%20%0A%3E%20On%20Thu%2C%20Aug%2003%2C%202017%20at%2001%3A11%3A07PM%20%2B0200%2C%20Moritz%20Muehlenhoff%20wrote%3A%0A%3E%20%3E%20Source%3A%20libao%0A%3E%20%3E%20Severity%3A%20important%0A%3E%20%3E%20Tags%3A%20security%0A%3E%20%3E%20%0A%3E%20%3E%20This%20was%20assigned%20CVE-2017-11548%3A%0A%3E%20%3E%20http%3A%2F%2Fseclists.org%2Ffulldisclosure%2F2017%2FJul%2F84%0A%3E%20%0A%3E%20FWIW%20wrt%20libao%2C%20I%20can%27t%20reproduce%20what%20was%20reported%20there%20on%20Stretch.%0A%3E%20The%20%27crasher%27%20example%20does%20still%20crash%2C%20but%20it%20blows%20up%20in%20libmad%2C%0A%3E%20not%20in%20libao%20...%0A%3E%20%0A%3E%20I%20don%27t%20see%20any%20commit%20in%20the%20upstream%20libao%20repo%20which%20would%20have%0A%3E%20addressed%20this%2C%20so%20I%20thought%20I%27d%20take%20a%20quick%20look%20myself%20while%20I%27m%0A%3E%20prepping%20a%20new%20upload.%0A%3E%20%0A%3E%20If%20I%20believe%20the%20backtrace%20from%20the%20original%20report%20-%20then%20at%20first%0A%3E%20blush%20by%20eye%2C%20the%20worst%20I%20can%20see%20this%20doing%20in%20libao%20is%20getting%20it%0A%3E%20to%20pass%20calloc%20some%20crazy%20large%20request%20to%20allocate%20-%20and%20then%20calloc%0A%3E%20faulting%20instead%20of%20just%20failing%20...%20%20which%20seems%20like%20a%20rather%20suspect%0A%3E%20outcome%20to%20see%20in%20its%20own%20right.%20%20But%20there%27s%20not%20enough%20detail%20in%20that%0A%3E%20backtrace%20to%20see%20what%20was%20really%20passed%20where.%0A%3E%20%0A%3E%20In%20theory%20libao%20might%20be%20able%20to%20do%20some%20stronger%2Fsafer%20checking%20there%2C%0A%3E%20but%20in%20that%20report%20we%20still%20have%3A%0A%3E%20%0A%3E%20%20caller%20passes%20it%20junk%20-%3E%20large%20calloc%20-%3E%20libc%20segfaults%0A%3E%20%0A%3E%20And%20since%20that%20code%20is%20managing%20allocations%20for%20channel%20mapping%2C%20and%0A%3E%20with%20things%20like%20ambisonics%20there%20could%20be%20an%20arbitrarily%20large%20number%0A%3E%20of%20channels%20to%20map%20...%20%20putting%20some%20arbitrary%20limit%20on%20the%20size%0A%3E%20passed%20to%20calloc%20in%20libao%20doesn%27t%20quite%20seem%20like%20a%20%22solution%22%20either.%0A%3E%20%0A%3E%20%0A%3E%20So%20while%20libao%20might%20be%20able%20to%20do%20something%20more%20to%20muffle%20this%20%28and%0A%3E%20there%20is%20room%20for%20improvement%20in%20that%20code%20-%20it%27s%20not%20actually%20checking%0A%3E%20to%20see%20if%20calloc%20failed%20everywhere%20that%20it%20probably%20should%20in%20a%20maximum%0A%3E%20paranoia%20world%2C%20but%20that%27s%20not%20the%20bug%20which%20this%20example%20file%20appears%0A%3E%20%20to%20have%20hit%29%2C%20I%27m%20not%20really%20seeing%20a%20%22bug%22%20in%20libao%20which%20this%20example%0A%3E%20%20demonstrates%2C%20let%20alone%20a%20real%20security%20issue%20resulting%20from%20it.%0A%3E%20%0A%3E%20Which%20means%20I%27m%20cloning%20it%20to%20libmad%2C%20since%20the%20next%20step%20here%20seems%0A%3E%20to%20fairly%20clearly%20be%20fixing%20whatever%20currently%20explodes%20in%20it%20with%0A%3E%20this%20example%20file%20-%20and%20when%20that%20is%20done%2C%20we%20can%20have%20another%20look%0A%3E%20in%20that%20light%20as%20to%20whether%20libao%20ought%20to%20be%20doing%20something%20more%20to%0A%3E%20protect%20its%20callers%20from%20themselves%20too%20...%0A%3E%20%0A%3E%20I%20won%27t%20close%20this%20copy%20for%20now%2C%20since%20I%20haven%27t%20fully%20analysed%20this%0A%3E%20all%20the%20way%20down%20%28and%20libmad%20doesn%27t%20have%20-dbg%7B%2Csyms%7D%20available%2C%20so%20I%0A%3E%20am%20going%20to%20stop%20here%20today%29.%20%20Below%20is%20what%20I%27m%20currently%20seeing%20on%0A%3E%20Stretch%20when%20running%20the%20example%20given.%0A%3E%20%0A%3E%20%20%20Cheers%2C%0A%3E%20%20%20Ron%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20Bug%23870608%3A%20CVE-2017-11548&amp;References=%3C150175866793.5365.12928748698321693719.reportbug%40hullmann.westfalen.local%3E%0A%20%3C20180113075039.GY2446%40hex.shelbyville.oz%3E&amp;In-Reply-To=%3C20180113075039.GY2446%40hex.shelbyville.oz%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ron%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ron &lt;ron@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Moritz Muehlenhoff &lt;jmm@debian.org&gt;, 870608@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#870608: CVE-2017-11548</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 13 Jan 2018 18:20:39 +1030</div>
</div>
<pre class="message">Control: clone -1 -2
Control: reassign -2 libmad 0.15.1b-8
Control: block -1 by -2

On Thu, Aug 03, 2017 at 01:11:07PM +0200, Moritz Muehlenhoff wrote:
&gt; Source: libao
&gt; Severity: important
&gt; Tags: security
&gt; 
&gt; This was assigned <a href="https://security-tracker.debian.org/tracker/CVE-2017-11548">CVE-2017-11548</a>:
&gt; <a href="http://seclists.org/fulldisclosure/2017/Jul/84">http://seclists.org/fulldisclosure/2017/Jul/84</a>

FWIW wrt libao, I can&#39;t reproduce what was reported there on Stretch.
The &#39;crasher&#39; example does still crash, but it blows up in libmad,
not in libao ...

I don&#39;t see any commit in the upstream libao repo which would have
addressed this, so I thought I&#39;d take a quick look myself while I&#39;m
prepping a new upload.

If I believe the backtrace from the original report - then at first
blush by eye, the worst I can see this doing in libao is getting it
to pass calloc some crazy large request to allocate - and then calloc
faulting instead of just failing ...  which seems like a rather suspect
outcome to see in its own right.  But there&#39;s not enough detail in that
backtrace to see what was really passed where.

In theory libao might be able to do some stronger/safer checking there,
but in that report we still have:

 caller passes it junk -&gt; large calloc -&gt; libc segfaults

And since that code is managing allocations for channel mapping, and
with things like ambisonics there could be an arbitrarily large number
of channels to map ...  putting some arbitrary limit on the size
passed to calloc in libao doesn&#39;t quite seem like a &quot;solution&quot; either.


So while libao might be able to do something more to muffle this (and
there is room for improvement in that code - it&#39;s not actually checking
to see if calloc failed everywhere that it probably should in a maximum
paranoia world, but that&#39;s not the bug which this example file appears
 to have hit), I&#39;m not really seeing a &quot;bug&quot; in libao which this example
 demonstrates, let alone a real security issue resulting from it.

Which means I&#39;m cloning it to libmad, since the next step here seems
to fairly clearly be fixing whatever currently explodes in it with
this example file - and when that is done, we can have another look
in that light as to whether libao ought to be doing something more to
protect its callers from themselves too ...

I won&#39;t close this copy for now, since I haven&#39;t fully analysed this
all the way down (and libmad doesn&#39;t have -dbg{,syms} available, so I
am going to stop here today).  Below is what I&#39;m currently seeing on
Stretch when running the example given.

  Cheers,
  Ron



$ gdb mpg321
(gdb) r libao_1.2.0_memory_corruption.mp3
Starting program: /usr/bin/mpg321 libao_1.2.0_memory_corruption.mp3
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.
High Performance MPEG 1.0/2.0/2.5 Audio Player for Layer 1, 2, and 3.
Version 0.3.2-1 (2012/03/25). Written and copyrights by Joe Drew,
now maintained by Nanakos Chrysostomos and others.
Uses code from various people. See &#39;README&#39; for more!
THIS SOFTWARE COMES WITH ABSOLUTELY NO WARRANTY! USE AT YOUR OWN RISK!

Playing MPEG stream from libao_1.2.0_memory_corruption.mp3 ...
MPEG 1.0 layer III, 192 kbit/s, 44100 Hz mono
*** Error in `/usr/bin/mpg321&#39;: double free or corruption (out): 0x0000000000623370 ***
======= Backtrace: =========
/lib/x86_64-linux-gnu/libc.so.6(+0x70bcb)[0x7ffff681abcb]
/lib/x86_64-linux-gnu/libc.so.6(+0x76f96)[0x7ffff6820f96]
/lib/x86_64-linux-gnu/libc.so.6(+0x777de)[0x7ffff68217de]
/usr/lib/x86_64-linux-gnu/libmad.so.0(mad_decoder_run+0x3b)[0x7ffff725ff2b]
/usr/bin/mpg321[0x403f61]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf1)[0x7ffff67ca2b1]
/usr/bin/mpg321[0x404e21]

Program received signal SIGABRT, Aborted.
__GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51
51	../sysdeps/unix/sysv/linux/raise.c: No such file or directory.
(gdb) bt
#0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51
#1  0x00007ffff67de3fa in __GI_abort () at abort.c:89
#2  0x00007ffff681abd0 in __libc_message (do_abort=do_abort@entry=2, fmt=fmt@entry=0x7ffff690fdd0 &quot;*** Error in `%s&#39;: %s: 0x%s ***\n&quot;)
    at ../sysdeps/posix/libc_fatal.c:175
#3  0x00007ffff6820f96 in malloc_printerr (action=3, str=0x7ffff690fe98 &quot;double free or corruption (out)&quot;, ptr=&lt;optimized out&gt;, ar_ptr=&lt;optimized out&gt;)
    at malloc.c:5049
#4  0x00007ffff68217de in _int_free (av=0x7ffff6b43b00 &lt;main_arena&gt;, p=0x623360, have_lock=0) at malloc.c:3905
#5  0x00007ffff725ff2b in mad_decoder_run () from /usr/lib/x86_64-linux-gnu/libmad.so.0
#6  0x0000000000403f61 in ?? ()
#7  0x00007ffff67ca2b1 in __libc_start_main (main=0x4037f0, argc=2, argv=0x7fffffffe648, init=&lt;optimized out&gt;, fini=&lt;optimized out&gt;, rtld_fini=&lt;optimized out&gt;, 
    stack_end=0x7fffffffe638) at ../csu/libc-start.c:291
#8  0x0000000000404e21 in ?? ()
#9  0x00007fffffffe638 in ?? ()
#10 0x000000000000001c in ?? ()
#11 0x0000000000000002 in ?? ()
#12 0x00007fffffffe863 in ?? ()
#13 0x00007fffffffe873 in ?? ()
#14 0x0000000000000000 in ?? ()



</pre>

<div class="msgreceived"><hr><p>
<a name="15"></a>
<!-- requester: Ron &lt;ron@debian.org&gt; -->
<!-- request_addr: 870608-submit@bugs.debian.org -->
<!-- time:1515830406 -->
<strong>Bug <a href="bugreport.cgi?bug=870608">870608</a> cloned as bug <a href="bugreport.cgi?bug=887057">887057</a></strong>
Request was from <code>Ron &lt;ron@debian.org&gt;</code>
to <code>870608-submit@bugs.debian.org</code>.
 (Sat, 13 Jan 2018 08:00:06 GMT) (<a href="bugreport.cgi?bug=870608;msg=16">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="17"></a>
<!-- command:block -->
<!-- requester: Ron &lt;ron@debian.org&gt; -->
<!-- request_addr: 870608-submit@bugs.debian.org -->
<!-- time:1515830409 -->
<!-- new_data:
$new_data = {
              &#39;blockedby&#39; =&gt; &#39;887057&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;blockedby&#39; =&gt; &#39;&#39;
            };
-->
<strong>Added blocking bug(s) of <a href="bugreport.cgi?bug=870608">870608</a>: <a href="bugreport.cgi?bug=887057">887057</a></strong>
Request was from <code>Ron &lt;ron@debian.org&gt;</code>
to <code>870608-submit@bugs.debian.org</code>.
 (Sat, 13 Jan 2018 08:00:09 GMT) (<a href="bugreport.cgi?bug=870608;msg=18">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=18">mbox</a>, <a href="#17">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="19"></a>
<!-- command:package -->
<!-- requester: Kurt Roeckx &lt;kurt@roeckx.be&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1515841023 -->
<!-- new_data:
$new_data = {
              &#39;package&#39; =&gt; &#39;mpg321&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;package&#39; =&gt; &#39;src:libao&#39;
            };
-->
<strong>Bug reassigned from package &#39;<a href="pkgreport.cgi?src=libao">src:libao</a>&#39; to &#39;<a href="pkgreport.cgi?package=mpg321">mpg321</a>&#39;.</strong>
Request was from <code>Kurt Roeckx &lt;kurt@roeckx.be&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 13 Jan 2018 10:57:03 GMT) (<a href="bugreport.cgi?bug=870608;msg=20">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=20">mbox</a>, <a href="#19">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="21"></a>
<!-- command:found -->
<!-- requester: Kurt Roeckx &lt;kurt@roeckx.be&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1515841024 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; []
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libao/1.2.0-1&#39;
                                  ]
            };
-->
<strong>No longer marked as found in versions libao/1.2.0-1.</strong>
Request was from <code>Kurt Roeckx &lt;kurt@roeckx.be&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 13 Jan 2018 10:57:04 GMT) (<a href="bugreport.cgi?bug=870608;msg=22">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=22">mbox</a>, <a href="#21">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="23"></a>
<!-- command:package -->
<!-- requester: kurt@roeckx.be (Kurt Roeckx) -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1515841385 -->
<!-- new_data:
$new_data = {
              &#39;package&#39; =&gt; &#39;src:libao&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;package&#39; =&gt; &#39;mpg321&#39;
            };
-->
<strong>Bug reassigned from package &#39;<a href="pkgreport.cgi?package=mpg321">mpg321</a>&#39; to &#39;<a href="pkgreport.cgi?src=libao">src:libao</a>&#39;.</strong>
Request was from <code>kurt@roeckx.be (Kurt Roeckx)</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 13 Jan 2018 11:03:05 GMT) (<a href="bugreport.cgi?bug=870608;msg=24">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=24">mbox</a>, <a href="#23">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="25"></a>
<!-- command:found -->
<!-- requester: kurt@roeckx.be (Kurt Roeckx) -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1515841386 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libao/1.2.0-1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; []
            };
-->
<strong>Marked as found in versions libao/1.2.0-1.</strong>
Request was from <code>kurt@roeckx.be (Kurt Roeckx)</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 13 Jan 2018 11:03:06 GMT) (<a href="bugreport.cgi?bug=870608;msg=26">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=26">mbox</a>, <a href="#25">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="27"></a>
<!-- command:block -->
<!-- requester: kurt@roeckx.be (Kurt Roeckx) -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1515841388 -->
<!-- new_data:
$new_data = {
              &#39;blockedby&#39; =&gt; &#39;887057 870406&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;blockedby&#39; =&gt; &#39;887057&#39;
            };
-->
<strong>Added blocking bug(s) of <a href="bugreport.cgi?bug=870608">870608</a>: <a href="bugreport.cgi?bug=870406">870406</a></strong>
Request was from <code>kurt@roeckx.be (Kurt Roeckx)</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 13 Jan 2018 11:03:08 GMT) (<a href="bugreport.cgi?bug=870608;msg=28">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=28">mbox</a>, <a href="#27">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="29"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Ron Lee &lt;ron@debian.org&gt; -->
<!-- time:1551838684 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Ron Lee &lt;ron@debian.org&gt;</code>:<br>
<code>Bug#870608</code>; Package <code>src:libao</code>.
 (Wed, 06 Mar 2019 02:18:04 GMT) (<a href="bugreport.cgi?bug=870608;msg=30">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=30">mbox</a>, <a href="#29">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="31"></a>
<!-- request_addr: Elimar Riesebieter &lt;riesebie@lxtec.de&gt; -->
<!-- time:1551838684 -->
<strong>Acknowledgement sent</strong>
to <code>Elimar Riesebieter &lt;riesebie@lxtec.de&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Ron Lee &lt;ron@debian.org&gt;</code>.
 (Wed, 06 Mar 2019 02:18:04 GMT) (<a href="bugreport.cgi?bug=870608;msg=32">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=32">mbox</a>, <a href="#31">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="33"></a><a name="msg33"></a><a href="#33">Message #33</a> received at 870608@bugs.debian.org (<a href="bugreport.cgi?bug=870608;msg=33">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=33">mbox</a>, <a href="mailto:870608@bugs.debian.org?subject=Re%3A%20There%20is%20a%20possible%20patch%20available&amp;References=%3C20190306021540.veurggceomzovxmt%40galadriel.home.lxtec.de%3E&amp;In-Reply-To=%3C20190306021540.veurggceomzovxmt%40galadriel.home.lxtec.de%3E&amp;body=On%20Wed%2C%206%20Mar%202019%2003%3A15%3A40%20%2B0100%20Elimar%20Riesebieter%20%3Criesebie%40lxtec.de%3E%20wrote%3A%0A%3E%20Hi%20all%2C%0A%3E%20%0A%3E%20did%20someone%20checked%0A%3E%20%0A%3E%20https%3A%2F%2Fgit.xiph.org%2F%3Fp%3Dlibao.git%3Ba%3Dcommit%3Bh%3Dd5221655dfd1a2156aa6be83b5aadea7c1e0f5bd%20%0A%3E%20%0A%3E%20%3F%0A%3E%20%0A%3E%20Elimar%0A%3E%20--%20%0A%3E%20%20%20We%20all%20know%20Linux%20is%20great...%20it%20does%20infinite%20loops%20in%205%20seconds.%0A%3E%20%20%20%20%20%20%20%20%20-Linus%20Torvalds%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=riesebie%40lxtec.de" alt="">
<div class="header"><span class="headerfield">From:</span> Elimar Riesebieter &lt;riesebie@lxtec.de&gt;</div>
<div class="header"><span class="headerfield">To:</span> 870608@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> 870406@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> There is a possible patch available</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 6 Mar 2019 03:15:40 +0100</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=870608;msg=33">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message wrapping">Hi all,

did someone checked

<a href="https://git.xiph.org/?p=libao.git;a=commit;h=d5221655dfd1a2156aa6be83b5aadea7c1e0f5bd">https://git.xiph.org/?p=libao.git;a=commit;h=d5221655dfd1a2156aa6be83b5aadea7c1e0f5bd</a> 

?

Elimar
-- 
  We all know Linux is great... it does infinite loops in 5 seconds.
        -Linus Torvalds
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=870608;filename=signature.asc;msg=33">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="34"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Ron Lee &lt;ron@debian.org&gt; -->
<!-- time:1551936425 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Ron Lee &lt;ron@debian.org&gt;</code>:<br>
<code>Bug#870608</code>; Package <code>src:libao</code>.
 (Thu, 07 Mar 2019 05:27:05 GMT) (<a href="bugreport.cgi?bug=870608;msg=35">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=35">mbox</a>, <a href="#34">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="36"></a>
<!-- request_addr: Ron &lt;ron@debian.org&gt; -->
<!-- time:1551936425 -->
<strong>Acknowledgement sent</strong>
to <code>Ron &lt;ron@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Ron Lee &lt;ron@debian.org&gt;</code>.
 (Thu, 07 Mar 2019 05:27:05 GMT) (<a href="bugreport.cgi?bug=870608;msg=37">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=37">mbox</a>, <a href="#36">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="38"></a><a name="msg38"></a><a href="#38">Message #38</a> received at 870608@bugs.debian.org (<a href="bugreport.cgi?bug=870608;msg=38">full text</a>, <a href="bugreport.cgi?bug=870608;mbox=yes;msg=38">mbox</a>, <a href="mailto:870608@bugs.debian.org?In-Reply-To=%3C20190307051939.GG16270%40hex.shelbyville.oz%3E&amp;References=%3C150175866793.5365.12928748698321693719.reportbug%40hullmann.westfalen.local%3E%0A%20%3C20190306021540.veurggceomzovxmt%40galadriel.home.lxtec.de%3E%0A%20%3C20190307051939.GG16270%40hex.shelbyville.oz%3E&amp;subject=Re%3A%20Bug%23870608%3A%20There%20is%20a%20possible%20patch%20available&amp;body=On%20Thu%2C%207%20Mar%202019%2015%3A49%3A40%20%2B1030%20Ron%20%3Cron%40debian.org%3E%20wrote%3A%0A%3E%20On%20Wed%2C%20Mar%2006%2C%202019%20at%2003%3A15%3A40AM%20%2B0100%2C%20Elimar%20Riesebieter%20wrote%3A%0A%3E%20%3E%20Hi%20all%2C%0A%3E%20%3E%20%0A%3E%20%3E%20did%20someone%20checked%0A%3E%20%3E%20%0A%3E%20%3E%20https%3A%2F%2Fgit.xiph.org%2F%3Fp%3Dlibao.git%3Ba%3Dcommit%3Bh%3Dd5221655dfd1a2156aa6be83b5aadea7c1e0f5bd%20%0A%3E%20%0A%3E%20You%20mean%20the%20commit%20which%20has%20%3A%3F%0A%3E%20%0A%3E%20%20author%20%20%20%20Ron%20%3Cron%40debian.org%3E%20%20Sat%2C%2013%20Jan%202018%2009%3A49%3A20%20%2B0000%20%2820%3A19%20%2B1030%29%0A%3E%20%20committer%20Ron%20%3Cron%40debian.org%3E%20%20Sat%2C%2013%20Jan%202018%2015%3A19%3A59%20%2B0000%20%2801%3A49%20%2B1030%29%0A%3E%20%0A%3E%20It%20was%20a%20while%20ago%20now%2C%20but%20yeah%2C%20I%20%2Aprobably%2A%20looked%20at%20that%20one%20...%0A%3E%20%0A%3E%20%0A%3E%20For%20the%20people%20on%20the%20other%20bug%28s%29%2C%20the%20analysis%20behind%20that%20is%20here%3A%0A%3E%20https%3A%2F%2Fbugs.debian.org%2Fcgi-bin%2Fbugreport.cgi%3Fbug%3D870608%2314%0A%3E%20%0A%3E%20And%20the%20tldr%20version%20is%2C%20you%20can%27t%20punt%20this%20back%20to%20libao%2C%20and%20that%0A%3E%20patch%20doesn%27t%20fix%20your%20bug.%20%20AFAICS%20there%20is%20no%20bug%20in%20libao%20detected%0A%3E%20by%20this%20%22CVE%22%2C%20its%20test%20case%20explodes%20in%20libmad%2C%20not%20libao%20-%20and%20the%0A%3E%20patch%20above%20just%20fixes%20some%20other%20potential%20issues%20I%20saw%20by%20eye%20while%0A%3E%20auditing%20libao%20enough%20to%20give%20the%20analysis%20above.%0A%3E%20%0A%3E%20%0A%3E%20And%20since%20Kurt%20seems%20to%20have%20done%20the%20same%20for%20libmad%20in%0A%3E%20https%3A%2F%2Fbugs.debian.org%2Fcgi-bin%2Fbugreport.cgi%3Fbug%3D870406%2325%0A%3E%20%0A%3E%20It%20looks%20like%20the%20ball%20is%20squarely%20in%20the%20court%20of%20whoever%20cares%20about%0A%3E%20mpg321%20to%20do%20some%20debugging%20next%20and%20find%20what%20it%27s%20doing%20wrong.%20%20And%0A%3E%20then%20_possibly_%20push%20back%20if%20some%20flaw%20in%20a%20support%20library%20really%20is%0A%3E%20exacerbating%20the%20mistake%20it%20makes.%0A%3E%20%0A%3E%20%20%20Cheers%2C%0A%3E%20%20%20Ron%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ron%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ron &lt;ron@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Elimar Riesebieter &lt;riesebie@lxtec.de&gt;, 870608@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> 870406@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#870608: There is a possible patch available</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 7 Mar 2019 15:49:40 +1030</div>
</div>
<pre class="message">On Wed, Mar 06, 2019 at 03:15:40AM +0100, Elimar Riesebieter wrote:
&gt; Hi all,
&gt; 
&gt; did someone checked
&gt; 
&gt; <a href="https://git.xiph.org/?p=libao.git;a=commit;h=d5221655dfd1a2156aa6be83b5aadea7c1e0f5bd">https://git.xiph.org/?p=libao.git;a=commit;h=d5221655dfd1a2156aa6be83b5aadea7c1e0f5bd</a> 

You mean the commit which has :?

 author    Ron &lt;ron@debian.org&gt;  Sat, 13 Jan 2018 09:49:20 +0000 (20:19 +1030)
 committer Ron &lt;ron@debian.org&gt;  Sat, 13 Jan 2018 15:19:59 +0000 (01:49 +1030)

It was a while ago now, but yeah, I *probably* looked at that one ...


For the people on the other bug(s), the analysis behind that is here:
<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=870608#14">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=870608#14</a>

And the tldr version is, you can&#39;t punt this back to libao, and that
patch doesn&#39;t fix your bug.  AFAICS there is no bug in libao detected
by this &quot;CVE&quot;, its test case explodes in libmad, not libao - and the
patch above just fixes some other potential issues I saw by eye while
auditing libao enough to give the analysis above.


And since Kurt seems to have done the same for libmad in
<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=870406#25">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=870406#25</a>

It looks like the ball is squarely in the court of whoever cares about
mpg321 to do some debugging next and find what it&#39;s doing wrong.  And
then _possibly_ push back if some flaw in a support library really is
exacerbating the mistake it makes.

  Cheers,
  Ron




</pre>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=870608">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:34:47 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
