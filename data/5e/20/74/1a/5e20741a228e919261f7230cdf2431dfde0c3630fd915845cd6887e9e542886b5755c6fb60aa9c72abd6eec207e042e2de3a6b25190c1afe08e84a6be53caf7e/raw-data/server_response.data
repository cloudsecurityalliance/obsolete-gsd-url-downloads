<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#737059 - python-pil: CVE-2014-1932 CVE-2014-1933 - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=737059&quot;&gt;737059&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:737059@bugs.debian.org">#737059</a><br>
python-pil: CVE-2014-1932 CVE-2014-1933</h1>
<div class="versiongraph"><a href="version.cgi?found=pillow%2F2.2.1-3.1;absolute=0;collapse=1;fixed=pillow%2F2.4.0-1;info=1;package=python-pil"><img alt="version graph" src="version.cgi?width=2;found=pillow%2F2.2.1-3.1;absolute=0;fixed=pillow%2F2.4.0-1;collapse=1;package=python-pil;height=2"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=python-pil">python-pil</a>;
Maintainer for <a href="pkgreport.cgi?package=python-pil">python-pil</a> is <a href="pkgreport.cgi?maint=doko%40debian.org">Matthias Klose &lt;doko@debian.org&gt;</a>; Source for <a href="pkgreport.cgi?package=python-pil">python-pil</a> is <a href="pkgreport.cgi?src=pillow">src:pillow</a> (<a href="https://tracker.debian.org/pkg/pillow">PTS</a>, <a href="https://buildd.debian.org/pillow">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=pillow">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=jwilk%40debian.org">Jakub Wilk &lt;jwilk@debian.org&gt;</a></p>
  <p>Date: Wed, 29 Jan 2014 20:21:06 UTC</p>

<p>Severity: important</p>
<p>Tags: fixed-upstream, security</p>

<p>Found in version pillow/2.2.1-3.1</p>
<p>Fixed in version pillow/2.4.0-1</p>

<p><strong>Done:</strong> Matthias Klose &lt;doko@debian.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p></div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=737059;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, jwilk@debian.org, Matthias Klose &lt;doko@debian.org&gt; -->
<!-- time:1391026870 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, jwilk@debian.org, Matthias Klose &lt;doko@debian.org&gt;</code>:<br>
<code>Bug#737059</code>; Package <code>python-pil</code>.
 (Wed, 29 Jan 2014 20:21:10 GMT) (<a href="bugreport.cgi?bug=737059;msg=2">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="3"></a><a name="msg3"></a><a href="#3">Message #3</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=737059;msg=3">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=3">mbox</a>, <a href="mailto:737059@bugs.debian.org?In-Reply-To=%3C20140129201903.GA14041%40jwilk.net%3E&amp;body=On%20Wed%2C%2029%20Jan%202014%2021%3A19%3A03%20%2B0100%20Jakub%20Wilk%20%3Cjwilk%40debian.org%3E%20wrote%3A%0A%3E%20Package%3A%20python-pil%0A%3E%20Version%3A%202.2.1-3.1%0A%3E%20Severity%3A%20important%0A%3E%20Tags%3A%20security%0A%3E%20%0A%3E%20PIL%2FJpegImagePlugin.py%20contains%20this%20code%3A%0A%3E%20%0A%3E%20%20%20%20%20%20def%20load_djpeg%28self%29%3A%0A%3E%20%0A%3E%20%20%20%20%20%20%20%20%20%20%23%20ALTERNATIVE%3A%20handle%20JPEGs%20via%20the%20IJG%20command%20line%20utilities%0A%3E%20%0A%3E%20%20%20%20%20%20%20%20%20%20import%20tempfile%2C%20os%0A%3E%20%20%20%20%20%20%20%20%20%20file%20%3D%20tempfile.mktemp%28%29%0A%3E%20%20%20%20%20%20%20%20%20%20os.system%28%22djpeg%20%25s%20%3E%25s%22%20%25%20%28self.filename%2C%20file%29%29%0A%3E%20%0A%3E%20%20From%20the%20tempfile.mktemp%28%29%20docstring%3A%20%E2%80%9CThis%20function%20is%20unsafe%20and%20%0A%3E%20should%20not%20be%20used.%20The%20file%20name%20refers%20to%20a%20file%20that%20did%20not%20exist%20at%20%0A%3E%20some%20point%2C%20but%20by%20the%20time%20you%20get%20around%20to%20creating%20it%2C%20someone%20else%20%0A%3E%20may%20have%20beaten%20you%20to%20the%20punch.%E2%80%9D%0A%3E%20%0A%3E%20There%20are%20other%20uses%20of%20tempfile.mktemp%28%29%20in%20the%20PIL%20codebase.%20They%20are%20%0A%3E%20most%20likely%20insecure%20too%2C%20but%20I%20haven%27t%20checked.%0A%3E%20%0A%3E%20--%20%0A%3E%20Jakub%20Wilk%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20python-pil%3A%20insecure%20use%20of%20%2Ftmp&amp;References=%3C20140129201903.GA14041%40jwilk.net%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jwilk%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Jakub Wilk &lt;jwilk@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> python-pil: insecure use of /tmp</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 29 Jan 2014 21:19:03 +0100</div>
</div>
<pre class="message flowed">Package: python-pil
Version: 2.2.1-3.1
Severity: important
Tags: security

PIL/JpegImagePlugin.py contains this code:

    def load_djpeg(self):

        # ALTERNATIVE: handle JPEGs via the IJG command line utilities

        import tempfile, os
        file = tempfile.mktemp()
        os.system(&quot;djpeg %s &gt;%s&quot; % (self.filename, file))

From the tempfile.mktemp() docstring: “This function is unsafe and 
should not be used. The file name refers to a file that did not exist at 
some point, but by the time you get around to creating it, someone else 
may have beaten you to the punch.”

There are other uses of tempfile.mktemp() in the PIL codebase. They are 
most likely insecure too, but I haven&#39;t checked.

-- 
Jakub Wilk


</pre>

<div class="infmessage"><hr><p>
<a name="4"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Matthias Klose &lt;doko@debian.org&gt; -->
<!-- time:1392067804 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Matthias Klose &lt;doko@debian.org&gt;</code>:<br>
<code>Bug#737059</code>; Package <code>python-pil</code>.
 (Mon, 10 Feb 2014 21:30:04 GMT) (<a href="bugreport.cgi?bug=737059;msg=5">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=5">mbox</a>, <a href="#4">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="6"></a><a name="msg6"></a><a href="#6">Message #6</a> received at 737059@bugs.debian.org (<a href="bugreport.cgi?bug=737059;msg=6">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=6">mbox</a>, <a href="mailto:737059@bugs.debian.org?References=%3C20140129201903.GA14041%40jwilk.net%3E%0A%20%3C20140210212713.GA19435%40jwilk.net%3E&amp;subject=Re%3A%20Bug%23737059%3A%20python-pil%3A%20insecure%20use%20of%20%2Ftmp&amp;In-Reply-To=%3C20140210212713.GA19435%40jwilk.net%3E&amp;body=On%20Mon%2C%2010%20Feb%202014%2022%3A27%3A43%20%2B0100%20Jakub%20Wilk%20%3Cjwilk%40debian.org%3E%20wrote%3A%0A%3E%20%2A%20Jakub%20Wilk%20%3Cjwilk%40debian.org%3E%2C%202014-01-29%2C%2021%3A19%3A%0A%3E%20%3EThere%20are%20other%20uses%20of%20tempfile.mktemp%28%29%20in%20the%20PIL%20codebase.%20They%20%0A%3E%20%3Eare%20most%20likely%20insecure%20too%2C%20but%20I%20haven%27t%20checked.%0A%3E%20%0A%3E%20I%20have%20now%20checked%20the%20rest%2C%20and%20they%20are%20all%20insecure.%0A%3E%20%0A%3E%20In%20PIL%2FEpsImagePlugin.py%3A%0A%3E%20%0A%3E%20%20%20%20%20%20file%20%3D%20tempfile.mktemp%28%29%0A%3E%20%0A%3E%20%20%20%20%20%20%23%20Build%20ghostscript%20command%0A%3E%20%20%20%20%20%20command%20%3D%20%5B%22gs%22%2C%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22-q%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20quite%20mode%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22-g%25dx%25d%22%20%25%20size%2C%20%20%20%20%20%20%20%20%23%20set%20output%20geometry%20%28pixels%29%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22-r%25d%22%20%25%20%2872%2Ascale%29%2C%20%20%20%20%20%23%20set%20input%20DPI%20%28dots%20per%20inch%29%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22-dNOPAUSE%20-dSAFER%22%2C%20%20%20%20%20%23%20don%27t%20pause%20between%20pages%2C%20safe%20mode%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22-sDEVICE%3Dppmraw%22%2C%20%20%20%20%20%20%20%23%20ppm%20driver%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22-sOutputFile%3D%25s%22%20%25%20file%2C%23%20output%20file%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%3E%20%0A%3E%20%20%20%20%20%20%23%20%5B...%5D%0A%3E%20%0A%3E%20%20%20%20%20%20%23%20push%20data%20through%20ghostscript%0A%3E%20%20%20%20%20%20try%3A%0A%3E%20%20%20%20%20%20%20%20%20%20gs%20%3D%20subprocess.Popen%28command%2C%20stdin%3Dsubprocess.PIPE%2C%20stdout%3Dsubprocess.PIPE%29%0A%3E%20%0A%3E%20In%20PIL%2FIptcImagePlugin.py%3A%0A%3E%20%0A%3E%20%20%20%20%20%20%20%20%20%20outfile%20%3D%20tempfile.mktemp%28%29%0A%3E%20%20%20%20%20%20%20%20%20%20o%20%3D%20open%28outfile%2C%20%22wb%22%29%0A%3E%20%20%20%20%20%20%20%20%20%20if%20encoding%20%3D%3D%20%22raw%22%3A%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20To%20simplify%20access%20to%20the%20extracted%20file%2C%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20prepend%20a%20PPM%20header%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20o.write%28%22P5%5Cn%25d%20%25d%5Cn255%5Cn%22%20%25%20self.size%29%0A%3E%20%0A%3E%20In%20PIL%2FImage.py%3A%0A%3E%20%0A%3E%20%20%20%20%20%20%20%20%20%20if%20not%20file%3A%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20file%20%3D%20tempfile.mktemp%28%29%0A%3E%20%20%20%20%20%20%20%20%20%20self.load%28%29%0A%3E%20%20%20%20%20%20%20%20%20%20if%20not%20format%20or%20format%20%3D%3D%20%22PPM%22%3A%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.im.save_ppm%28file%29%0A%3E%20%20%20%20%20%20%20%20%20%20else%3A%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20file%20%3D%20file%20%2B%20%22.%22%20%2B%20format%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.save%28file%2C%20format%29%0A%3E%20%0A%3E%20--%20%0A%3E%20Jakub%20Wilk%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jwilk%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Jakub Wilk &lt;jwilk@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 737059@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#737059: python-pil: insecure use of /tmp</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 10 Feb 2014 22:27:43 +0100</div>
</div>
<pre class="message flowed">* Jakub Wilk &lt;jwilk@debian.org&gt;, 2014-01-29, 21:19:
&gt;There are other uses of tempfile.mktemp() in the PIL codebase. They 
&gt;are most likely insecure too, but I haven&#39;t checked.

I have now checked the rest, and they are all insecure.

In PIL/EpsImagePlugin.py:

    file = tempfile.mktemp()

    # Build ghostscript command
    command = [&quot;gs&quot;,
               &quot;-q&quot;,                    # quite mode
               &quot;-g%dx%d&quot; % size,        # set output geometry (pixels)
               &quot;-r%d&quot; % (72*scale),     # set input DPI (dots per inch)
               &quot;-dNOPAUSE -dSAFER&quot;,     # don&#39;t pause between pages, safe mode
               &quot;-sDEVICE=ppmraw&quot;,       # ppm driver
               &quot;-sOutputFile=%s&quot; % file,# output file
            ]

    # [...]

    # push data through ghostscript
    try:
        gs = subprocess.Popen(command, stdin=subprocess.PIPE, stdout=subprocess.PIPE)

In PIL/IptcImagePlugin.py:

        outfile = tempfile.mktemp()
        o = open(outfile, &quot;wb&quot;)
        if encoding == &quot;raw&quot;:
            # To simplify access to the extracted file,
            # prepend a PPM header
            o.write(&quot;P5\n%d %d\n255\n&quot; % self.size)

In PIL/Image.py:

        if not file:
            file = tempfile.mktemp()
        self.load()
        if not format or format == &quot;PPM&quot;:
            self.im.save_ppm(file)
        else:
            file = file + &quot;.&quot; + format
            self.save(file, format)

-- 
Jakub Wilk


</pre>

<div class="msgreceived"><hr><p>
<a name="7"></a>
<!-- command:title -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1392100025 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;python-pil: CVE-2014-1932 CVE-2014-1933&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;python-pil: insecure use of /tmp&#39;
            };
-->
<strong>Changed Bug title to &#39;python-pil: CVE-2014-1932 CVE-2014-1933&#39; from &#39;python-pil: insecure use of /tmp&#39;</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Tue, 11 Feb 2014 06:27:05 GMT) (<a href="bugreport.cgi?bug=737059;msg=8">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=8">mbox</a>, <a href="#7">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="9"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Matthias Klose &lt;doko@debian.org&gt; -->
<!-- time:1394850244 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Matthias Klose &lt;doko@debian.org&gt;</code>:<br>
<code>Bug#737059</code>; Package <code>python-pil</code>.
 (Sat, 15 Mar 2014 02:24:04 GMT) (<a href="bugreport.cgi?bug=737059;msg=10">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=10">mbox</a>, <a href="#9">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="11"></a>
<!-- request_addr: Eric Soroos &lt;eric-debian@soroos.net&gt; -->
<!-- time:1394850244 -->
<strong>Acknowledgement sent</strong>
to <code>Eric Soroos &lt;eric-debian@soroos.net&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Matthias Klose &lt;doko@debian.org&gt;</code>.
 (Sat, 15 Mar 2014 02:24:04 GMT) (<a href="bugreport.cgi?bug=737059;msg=12">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="13"></a><a name="msg13"></a><a href="#13">Message #13</a> received at 737059@bugs.debian.org (<a href="bugreport.cgi?bug=737059;msg=13">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=13">mbox</a>, <a href="mailto:737059@bugs.debian.org?In-Reply-To=%3C53239592.4080206%40soroos.net%3E&amp;body=On%20Fri%2C%2014%20Mar%202014%2016%3A49%3A38%20-0700%20Eric%20Soroos%20%3Ceric-debian%40soroos.net%3E%20wrote%3A%0A%3E%20Previous%20patch%20will%20not%20apply%20cleanly%20on%202.3.%0A%3E%20%0A%3E%20This%20one%20applies%20cleanly%3A%20%0A%3E%20https%3A%2F%2Fgithub.com%2Fpython-imaging%2FPillow%2Fcommit%2F4e9f367dfd3f04c8f5d23f7f759ec12782e10ee7%0A%3E%20%0A%3E%20Thanks%2C%0A%3E%20%0A%3E%20eric%0A%3E%20%0A%3E%20%0A&amp;References=%3C53239592.4080206%40soroos.net%3E&amp;subject=Re%3A%20Patch%20for%202.3.0">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=eric-debian%40soroos.net" alt="">
<div class="header"><span class="headerfield">From:</span> Eric Soroos &lt;eric-debian@soroos.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> 737059@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Patch for 2.3.0</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 14 Mar 2014 16:49:38 -0700</div>
</div>
<pre class="message flowed">Previous patch will not apply cleanly on 2.3.

This one applies cleanly: 
<a href="https://github.com/python-imaging/Pillow/commit/4e9f367dfd3f04c8f5d23f7f759ec12782e10ee7">https://github.com/python-imaging/Pillow/commit/4e9f367dfd3f04c8f5d23f7f759ec12782e10ee7</a>

Thanks,

eric


</pre>

<div class="infmessage"><hr><p>
<a name="14"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Matthias Klose &lt;doko@debian.org&gt; -->
<!-- time:1394850247 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Matthias Klose &lt;doko@debian.org&gt;</code>:<br>
<code>Bug#737059</code>; Package <code>python-pil</code>.
 (Sat, 15 Mar 2014 02:24:07 GMT) (<a href="bugreport.cgi?bug=737059;msg=15">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=15">mbox</a>, <a href="#14">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="16"></a>
<!-- request_addr: Eric Soroos &lt;eric@soroos.net&gt; -->
<!-- time:1394850247 -->
<strong>Acknowledgement sent</strong>
to <code>Eric Soroos &lt;eric@soroos.net&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Matthias Klose &lt;doko@debian.org&gt;</code>.
 (Sat, 15 Mar 2014 02:24:07 GMT) (<a href="bugreport.cgi?bug=737059;msg=17">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=17">mbox</a>, <a href="#16">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="18"></a><a name="msg18"></a><a href="#18">Message #18</a> received at 737059@bugs.debian.org (<a href="bugreport.cgi?bug=737059;msg=18">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=18">mbox</a>, <a href="mailto:737059@bugs.debian.org?In-Reply-To=%3C53238DF4.30900%40soroos.net%3E&amp;body=On%20Fri%2C%2014%20Mar%202014%2016%3A17%3A08%20-0700%20Eric%20Soroos%20%3Ceric%40soroos.net%3E%20wrote%3A%0A%3E%20There%27s%20a%20patch%20available%20for%20this%20issue%3A%20%0A%3E%20https%3A%2F%2Fgithub.com%2Fwiredfool%2FPillow%2Fcommit%2F1e331e3e6a40141ca8eee4f5da9f74e895423b66%0A%3E%20%0A%3E%20It%27s%20been%20merged%20into%20HEAD%2C%20and%20will%20be%20released%20shortly%20as%202.3.1.%0A%3E%20%0A%3E%20eric%0A%3E%20%0A&amp;subject=Re%3A%20Patch%20available&amp;References=%3C53238DF4.30900%40soroos.net%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=eric%40soroos.net" alt="">
<div class="header"><span class="headerfield">From:</span> Eric Soroos &lt;eric@soroos.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> 737059@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Patch available</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 14 Mar 2014 16:17:08 -0700</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=737059;msg=18">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message flowed">There&#39;s a patch available for this issue: 
<a href="https://github.com/wiredfool/Pillow/commit/1e331e3e6a40141ca8eee4f5da9f74e895423b66">https://github.com/wiredfool/Pillow/commit/1e331e3e6a40141ca8eee4f5da9f74e895423b66</a>

It&#39;s been merged into HEAD, and will be released shortly as 2.3.1.

eric

</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=737059;filename=cve.patch;msg=18">cve.patch</a> (text/x-patch, attachment)]</pre>

<div class="msgreceived"><hr><p>
<a name="19"></a>
<!-- command:tag -->
<!-- requester: Henri Salo &lt;henri@nerv.fi&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1399113008 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;security fixed-upstream&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;security&#39;
            };
-->
<strong>Added tag(s) fixed-upstream.</strong>
Request was from <code>Henri Salo &lt;henri@nerv.fi&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 03 May 2014 10:30:08 GMT) (<a href="bugreport.cgi?bug=737059;msg=20">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=20">mbox</a>, <a href="#19">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="21"></a>
<!-- request_addr: Matthias Klose &lt;doko@debian.org&gt; -->
<!-- time:1402652528 -->
<strong>Reply sent</strong>
to <code>Matthias Klose &lt;doko@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Fri, 13 Jun 2014 09:42:08 GMT) (<a href="bugreport.cgi?bug=737059;msg=22">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=22">mbox</a>, <a href="#21">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="23"></a>
<!-- request_addr: Jakub Wilk &lt;jwilk@debian.org&gt; -->
<!-- time:1402652528 -->
<strong>Notification sent</strong>
to <code>Jakub Wilk &lt;jwilk@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Fri, 13 Jun 2014 09:42:08 GMT) (<a href="bugreport.cgi?bug=737059;msg=24">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=24">mbox</a>, <a href="#23">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="25"></a><a name="msg25"></a><a href="#25">Message #25</a> received at 737059-close@bugs.debian.org (<a href="bugreport.cgi?bug=737059;msg=25">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=25">mbox</a>, <a href="mailto:737059@bugs.debian.org?In-Reply-To=%3CE1WvNwX-000713-P6%40franck.debian.org%3E&amp;body=On%20Fri%2C%2013%20Jun%202014%2009%3A38%3A41%20%2B0000%20Matthias%20Klose%20%3Cdoko%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20pillow%0A%3E%20Source-Version%3A%202.4.0-1%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20pillow%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20737059%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Matthias%20Klose%20%3Cdoko%40debian.org%3E%20%28supplier%20of%20updated%20pillow%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA1%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Wed%2C%2016%20Apr%202014%2000%3A48%3A53%20%2B0200%0A%3E%20Source%3A%20pillow%0A%3E%20Binary%3A%20python-pil%20python-pil-dbg%20python-pil.imagetk%20python-pil.imagetk-dbg%20python-sane%20python-sane-dbg%20python3-pil%20python3-pil-dbg%20python3-pil.imagetk%20python3-pil.imagetk-dbg%20python3-sane%20python3-sane-dbg%20python-pil-doc%20python-imaging%0A%3E%20Architecture%3A%20source%20all%20amd64%0A%3E%20Version%3A%202.4.0-1%0A%3E%20Distribution%3A%20unstable%0A%3E%20Urgency%3A%20medium%0A%3E%20Maintainer%3A%20Matthias%20Klose%20%3Cdoko%40debian.org%3E%0A%3E%20Changed-By%3A%20Matthias%20Klose%20%3Cdoko%40debian.org%3E%0A%3E%20Description%3A%0A%3E%20%20python-imaging%20-%20Python%20Imaging%20Library%20compatibility%20layer%0A%3E%20%20python-pil%20-%20Python%20Imaging%20Library%20%28Pillow%20fork%29%0A%3E%20%20python-pil-dbg%20-%20Python%20Imaging%20Library%20%28debug%20extension%29%0A%3E%20%20python-pil-doc%20-%20Examples%20for%20the%20Python%20Imaging%20Library%0A%3E%20%20python-pil.imagetk%20-%20Python%20Imaging%20Library%20-%20ImageTk%20Module%20%28Pillow%20fork%29%0A%3E%20%20python-pil.imagetk-dbg%20-%20Python%20Imaging%20Library%20-%20ImageTk%20Module%20%28debug%20extension%29%0A%3E%20%20python-sane%20-%20Python%20Imaging%20Library%20-%20SANE%20interface%20%28Pillow%20fork%29%0A%3E%20%20python-sane-dbg%20-%20Python%20Imaging%20Library%20-%20SANE%20interface%20%28debug%20extension%29%0A%3E%20%20python3-pil%20-%20Python%20Imaging%20Library%20%28Python3%29%0A%3E%20%20python3-pil-dbg%20-%20Python%20Imaging%20Library%20%28Python3%20debug%20extension%29%0A%3E%20%20python3-pil.imagetk%20-%20Python%20Imaging%20Library%20-%20ImageTk%20Module%20%28Python3%29%0A%3E%20%20python3-pil.imagetk-dbg%20-%20Python%20Imaging%20Library%20-%20ImageTk%20Module%20%28Python3%20debug%20extension%29%0A%3E%20%20python3-sane%20-%20Python%20Imaging%20Library%20-%20SANE%20interface%20%28Python3%29%0A%3E%20%20python3-sane-dbg%20-%20Python%20Imaging%20Library%20-%20SANE%20interface%20%28Python3%20debug%20extension%29%0A%3E%20Closes%3A%20737059%20745714%20746051%0A%3E%20Changes%3A%0A%3E%20%20pillow%20%282.4.0-1%29%20unstable%3B%20urgency%3Dmedium%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20New%20upstream%20version.%0A%3E%20%20%20%20%20%20-%20Fix%20configuration%20on%20non-linux%20platforms.%20Closes%3A%20%23745714.%0A%3E%20%20%20%20%20%20-%20CVE-2014-1932%2C%20CVE-2014-1933%3A%20Fix%20insecure%20use%20of%20%2Ftmp.%20Closes%3A%20%23737059.%0A%3E%20%20%20%20%2A%20Fix%20detection%20of%20Tk.%20Closes%3A%20%23746051.%0A%3E%20Checksums-Sha1%3A%0A%3E%20%20ecc79de5504d3d0acfc35a693e543eb010e8212e%202176%20pillow_2.4.0-1.dsc%0A&amp;subject=Re%3A%20Bug%23737059%3A%20fixed%20in%20pillow%202.4.0-1&amp;References=%3CE1WvNwX-000713-P6%40franck.debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=doko%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Matthias Klose &lt;doko@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 737059-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#737059: fixed in pillow 2.4.0-1</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 13 Jun 2014 09:38:41 +0000</div>
</div>
<pre class="message">Source: pillow
Source-Version: 2.4.0-1

We believe that the bug you reported is fixed in the latest version of
pillow, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 737059@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Matthias Klose &lt;doko@debian.org&gt; (supplier of updated pillow package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Wed, 16 Apr 2014 00:48:53 +0200
Source: pillow
Binary: python-pil python-pil-dbg python-pil.imagetk python-pil.imagetk-dbg python-sane python-sane-dbg python3-pil python3-pil-dbg python3-pil.imagetk python3-pil.imagetk-dbg python3-sane python3-sane-dbg python-pil-doc python-imaging
Architecture: source all amd64
Version: 2.4.0-1
Distribution: unstable
Urgency: medium
Maintainer: Matthias Klose &lt;doko@debian.org&gt;
Changed-By: Matthias Klose &lt;doko@debian.org&gt;
Description:
 python-imaging - Python Imaging Library compatibility layer
 python-pil - Python Imaging Library (Pillow fork)
 python-pil-dbg - Python Imaging Library (debug extension)
 python-pil-doc - Examples for the Python Imaging Library
 python-pil.imagetk - Python Imaging Library - ImageTk Module (Pillow fork)
 python-pil.imagetk-dbg - Python Imaging Library - ImageTk Module (debug extension)
 python-sane - Python Imaging Library - SANE interface (Pillow fork)
 python-sane-dbg - Python Imaging Library - SANE interface (debug extension)
 python3-pil - Python Imaging Library (Python3)
 python3-pil-dbg - Python Imaging Library (Python3 debug extension)
 python3-pil.imagetk - Python Imaging Library - ImageTk Module (Python3)
 python3-pil.imagetk-dbg - Python Imaging Library - ImageTk Module (Python3 debug extension)
 python3-sane - Python Imaging Library - SANE interface (Python3)
 python3-sane-dbg - Python Imaging Library - SANE interface (Python3 debug extension)
Closes: <a href="bugreport.cgi?bug=737059">737059</a> <a href="bugreport.cgi?bug=745714">745714</a> <a href="bugreport.cgi?bug=746051">746051</a>
Changes:
 pillow (2.4.0-1) unstable; urgency=medium
 .
   * New upstream version.
     - Fix configuration on non-linux platforms. Closes: #<a href="bugreport.cgi?bug=745714">745714</a>.
     - <a href="https://security-tracker.debian.org/tracker/CVE-2014-1932">CVE-2014-1932</a>, <a href="https://security-tracker.debian.org/tracker/CVE-2014-1933">CVE-2014-1933</a>: Fix insecure use of /tmp. Closes: #<a href="bugreport.cgi?bug=737059">737059</a>.
   * Fix detection of Tk. Closes: #<a href="bugreport.cgi?bug=746051">746051</a>.
Checksums-Sha1:
 ecc79de5504d3d0acfc35a693e543eb010e8212e 2176 pillow_2.4.0-1.dsc
 67f6a072132c1343bbb547570d1e572f8c523f37 6339287 pillow_2.4.0.orig.tar.gz
 4674f00773127eddd4bcf71732740afa06207c16 13060 pillow_2.4.0-1.debian.tar.xz
 ea6757f089d58d303bee162772398557cc40d343 18446 python-pil-doc_2.4.0-1_all.deb
 4996b2bf0ed6e5dfd95590b4330aedd8fc14898d 9046 python-imaging_2.4.0-1_all.deb
 64fb270b6581bfaafbe3c84ab1cda969a0fc09bf 312596 python-pil_2.4.0-1_amd64.deb
 aec5f1856c24821600b2cdcb5aea2afc5ddecb6f 406840 python-pil-dbg_2.4.0-1_amd64.deb
 ec5bdacc7da5402e3d4f7a384d4251d219703d2d 12840 python-pil.imagetk_2.4.0-1_amd64.deb
 eb9bdfcb5950d0fb8329bdb05f4961af006f3696 12978 python-pil.imagetk-dbg_2.4.0-1_amd64.deb
 de32eaf2445ced4ca92dc8c9c4e6b1fa6dee2dff 24008 python-sane_2.4.0-1_amd64.deb
 394cadfb9de90e44a591ae0c333503d8b6dc856a 28564 python-sane-dbg_2.4.0-1_amd64.deb
 1e0f9e9727d2ed899147051638daa89ffbea9ca2 314472 python3-pil_2.4.0-1_amd64.deb
 9d745335aecf9f337e34d3a96582618deaf54c2c 431192 python3-pil-dbg_2.4.0-1_amd64.deb
 b6da20dd8b4a3ca825c9e23d677b65fcc0cf9c1c 13000 python3-pil.imagetk_2.4.0-1_amd64.deb
 039a8e2167c861981bf2178438922e56f4b5a6f6 13154 python3-pil.imagetk-dbg_2.4.0-1_amd64.deb
 f3604c9ac9b7b9b1a043a0dc776412aa9db6f03e 19818 python3-sane_2.4.0-1_amd64.deb
 92a215a91c04155c0847e5e96edd4170bd235494 30930 python3-sane-dbg_2.4.0-1_amd64.deb
Checksums-Sha256:
 fd0c1e52295a3b3dc98bd8dbb4da401e1ef407461c047eb67d003c50bef5be3a 2176 pillow_2.4.0-1.dsc
 2084ff42836d9db55022794d559f9bb27ff1204c9b67bf2921e3010832821879 6339287 pillow_2.4.0.orig.tar.gz
 44e5e1b96c419d7f0f323ec6740f6401e8a04b3f7e5212904f33659e1280f955 13060 pillow_2.4.0-1.debian.tar.xz
 53fc80db77fa0acd7b3aec6c6a78ef4ab370d7215590cfc4837d4429cad7c42c 18446 python-pil-doc_2.4.0-1_all.deb
 6dd75768a0f3eb3fa8e0ad52509236b3e38f88c21c9aace821ab790f14f97cb8 9046 python-imaging_2.4.0-1_all.deb
 3a606343ef3391a3e45f94de58194f25f9b54295cfe2dc0fea49c58a9a10f587 312596 python-pil_2.4.0-1_amd64.deb
 8aed0224851e0a52ea41e7a427d3a4e6da80fde363732cea9e9d0572695baa93 406840 python-pil-dbg_2.4.0-1_amd64.deb
 217b8f3098f0c7cfb1e1edf92aaa27d624120ce5bb670963369d173589076a57 12840 python-pil.imagetk_2.4.0-1_amd64.deb
 537f8b4ed7e0cd07e5ec896948c147ef6a81d7ea59658e8bbef00dd7c7623d73 12978 python-pil.imagetk-dbg_2.4.0-1_amd64.deb
 35ff0cb4c20f6c2fbeef4d1a04eb3488baddafdf14263964f245d500956f076e 24008 python-sane_2.4.0-1_amd64.deb
 29bfabd082ee169dedcf95a05d4bc73838016b7e62fbd912e9fc761731cca27d 28564 python-sane-dbg_2.4.0-1_amd64.deb
 d9895daf4a3dcaa8af743e96f82f38ad289562798cd2eaaf9f1c7a2e956a72d1 314472 python3-pil_2.4.0-1_amd64.deb
 2b14049a75c6afcff526d9c16b3bfa51d0504499fe42f8629420793d4624206a 431192 python3-pil-dbg_2.4.0-1_amd64.deb
 c31cf8aa9bd7b58969b2a83c59900ea07b378ab335d1a6a368a22121a7023939 13000 python3-pil.imagetk_2.4.0-1_amd64.deb
 df08bf758d41eb5c0603273b48ef641423b93dc3890d51f3e1516208cc0590b6 13154 python3-pil.imagetk-dbg_2.4.0-1_amd64.deb
 c1be9d9ddd48b6293d09a9b51ea1d7c44d6ae175e1de0105fc673258dafa2c3b 19818 python3-sane_2.4.0-1_amd64.deb
 e0658577b02f3d5e8b6c72c0001fe9a2f3d72e24e665ce7490f06c76b25015c9 30930 python3-sane-dbg_2.4.0-1_amd64.deb
Files:
 0d721729ce560d2aa595bd82a3af627b 18446 doc optional python-pil-doc_2.4.0-1_all.deb
 247d9dfabda516689c2bf13ee56fb5e6 9046 python optional python-imaging_2.4.0-1_all.deb
 3675091893763e477e865449e74760fc 312596 python optional python-pil_2.4.0-1_amd64.deb
 57dc22fd136a9690faecc819d24c86ae 406840 debug extra python-pil-dbg_2.4.0-1_amd64.deb
 3a1de8a463138381ec0a747f49e18130 12840 python optional python-pil.imagetk_2.4.0-1_amd64.deb
 241fec6b764e58176cd0f95166325f52 12978 debug extra python-pil.imagetk-dbg_2.4.0-1_amd64.deb
 21fb295cb2772a79e697903f98fee28d 24008 python optional python-sane_2.4.0-1_amd64.deb
 7ddaab9dc138e7885fdc0264d93f312e 28564 debug extra python-sane-dbg_2.4.0-1_amd64.deb
 3680881652cb5711902a88a5ee4b5e81 314472 python optional python3-pil_2.4.0-1_amd64.deb
 03aa866ea4dd2af8a26e8aa272b2a520 431192 debug extra python3-pil-dbg_2.4.0-1_amd64.deb
 e9e918bcd3a9382daa85a7ba43aa3ebb 13000 python optional python3-pil.imagetk_2.4.0-1_amd64.deb
 f3a5a9333be6902b24eeef397d1543b5 13154 debug extra python3-pil.imagetk-dbg_2.4.0-1_amd64.deb
 2f2e52900319ef8cddd4a330bb451e52 19818 python optional python3-sane_2.4.0-1_amd64.deb
 37560276ae374270f09f4890a19b8caf 30930 debug extra python3-sane-dbg_2.4.0-1_amd64.deb
 570628f19672455f7538fc686383684d 2176 python optional pillow_2.4.0-1.dsc
 d55fc57475cf255c9e9215de154b7ac4 6339287 python optional pillow_2.4.0.orig.tar.gz
 f5ba617e10055dbc8dd9a30d358bc35c 13060 python optional pillow_2.4.0-1.debian.tar.xz

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iEYEARECAAYFAlOauCQACgkQStlRaw+TLJzkRACgwpMPxFCdn4pP2Ajdzdo8T4Zh
Zv4An2rplB/4Iu6ZhvUUAa1ZAWXfXxbC
=uLlz
-----END PGP SIGNATURE-----



</pre>

<div class="msgreceived"><hr><p>
<a name="26"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1405150341 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Sat, 12 Jul 2014 07:32:21 GMT) (<a href="bugreport.cgi?bug=737059;msg=27">full text</a>, <a href="bugreport.cgi?bug=737059;mbox=yes;msg=27">mbox</a>, <a href="#26">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=737059">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:28:31 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
