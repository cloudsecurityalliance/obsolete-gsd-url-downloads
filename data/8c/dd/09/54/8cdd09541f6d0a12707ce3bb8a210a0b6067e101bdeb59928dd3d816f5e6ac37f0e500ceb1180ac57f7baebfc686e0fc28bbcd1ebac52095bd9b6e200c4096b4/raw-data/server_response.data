
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>mod_pagespeed Security Advisory: Insufficient Hostname Verification</title>
<style>body{font-family:sans-serif;margin:0;padding:0;line-height:1.5;word-wrap:break-word}a{color:#0288d1;text-decoration:none}a:hover{text-decoration:underline}#header,#navline{color:#fff}#header a,#navline a{color:#fff}#logoline{background-color:#0061ff;padding:1em}#logo{display:inline-block;position:relative;top:4px}#logotext{font-size:32px;display:inline-block}#navline a{background-color:#3d87ff;display:block;padding:.5em 1em .5em 1em}#content{margin:.5em;max-width:50em}code,pre{background:#f7f7f7;color:#37474f}.note,.note code{background:#e1f5fe;color:#0288d1}.note a{color:#0288d1;text-decoration:underline}.caution,.caution code{background:#fff3e0;color:#dd2c00}.caution a{color:#dd2c00;text-decoration:underline}.warning,.warning code{background:#fbe9e7;color:#d50000}.warning a{color:#d50000;text-decoration:underline}.note,.caution,.warning{padding:1em}pre{padding:1em;overflow:auto;line-height:1.1}table{margin-top:1em;margin-bottom:1em;border-collapse:collapse}th{color:#fff;vertical-align:middle;background-color:#555}td{border-top:1px solid #e0e0e0;background-color:#f7f7f7}th,td{padding:1em}li{margin-top:.5em;margin-bottom:.5em}img{max-width:100%}.table-wrapper{max-width:100%;overflow:auto}#downloads .download{margin-top:.5em;margin-bottom:.5em}#toc{border-left:4px solid #0061ff;font-size:.9em;max-width:25em;margin-top:1em;margin-left:1em}#toc-contents{color:#757575;font-weight:bold;padding-left:1em}#toc ul{list-style:none;list-style-position:inside;padding-left:1em}@media screen and (min-width:55em){#toc{float:right;max-width:18em;padding-right:1em}}.header-link{visibility:hidden;font-size:80%}h2:hover .header-link,h3:hover .header-link,h4:hover .header-link,h5:hover .header-link,h6:hover .header-link{visibility:initial;text-decoration:none}.column{margin:.5em}.columns{max-width:75em}@media screen and (min-width:50em){.column{display:inline-block;vertical-align:top}}</style>
</head>
<body>
<div id=header>
<div id=logoline>
<div id=logo>
<img src="https://www.gstatic.com/images/branding/product/1x/pagespeed_32dp.png" srcset="https://www.gstatic.com/images/branding/product/2x/pagespeed_32dp.png" width=32 height=32 alt="pagespeed logo">
</div>
<div id=logotext>Apache PageSpeed (Incubating)</div>
</div>
<div id=navline>
<a href="/doc/">&larr; documentation index</a>
</div>
</div>
<div id=toc></div>
<img src="/Nx80xincubator.png.pagespeed.ic.t-3OlvNsYS.png" height="80" align="right">
<div id=content>
<h1>mod_pagespeed Security Advisory: Insufficient Hostname Verification</h1>
<dl>
<dt>CVE Identifier:</dt>
<dd>CVE-2012-4001</dd>
<dt>Disclosed:</dt>
<dd>September 12, 2012</dd>
<dt>Versions Affected:</dt>
<dd>All versions of mod_pagespeed up to and including 0.10.22.4.</dd>
<dt>Summary:</dt>
<dd>mod_pagespeed performs insufficient verification of its own host name,
which makes it possible to trick it into doing HTTP fetches and resource
processing from arbitrary host names, including potentially bypassing
firewalls.</dd>
<dt>Solution:</dt>
<dd>mod_pagespeed 0.10.22.6 has been released with a fix.</dd>
<dt>Workaround:</dt>
<dd>If you are unable to upgrade to the new version, you can avoid this
issue by changing your Apache httpd configuration. Give any virtual host
that enables mod_pagespeed (and the global configuration, if it also enables
mod_pagespeed) an accurate explicit <code>ServerName</code>, and set the
options <code>UseCanonicalName</code> and
<code>UseCanonicalPhysicalPort</code> to <code>On</code> in each. Please be
aware, however, that depending on the version,
<a href="CVE-2012-4360">CVE-2012-4360</a> may also apply.
</dd>
</div>
<div id=footer>
<div id=navline>
<a href="/doc/">&larr; documentation index</a>
</div>
</div>
<script>function buildTocHelper(node,headers){if(node.nodeType==1){var nodeName=node.nodeName.toLowerCase();if(nodeName=="h2"||nodeName=="h3"||nodeName=="h4"||nodeName=="h5"||nodeName=="h6"){if(node.id){headers.push([nodeName,node.innerHTML,node.id]);node.appendChild(document.createTextNode("\u00A0"));var a=document.createElement("a");a.class="header-link";a.href="#"+node.id;a.textContent="\uD83D\uDD17";node.appendChild(a);}}else{for(var i=0;i<node.childNodes.length;i++){buildTocHelper(node.childNodes[i],headers);}}}}function buildToc(){var headers=[];buildTocHelper(document.body,headers);if(headers.length==0){return;}var toc=document.getElementById("toc");var tocContents=document.createElement("div");tocContents.id="toc-contents";tocContents.textContent="Contents";toc.appendChild(tocContents);var level=1;var currentUl=null;for(var i=0;i<headers.length;i++){var header=headers[i];var headerLevel=header[0];var headerValue=header[1];var headerId=header[2];var newLevel=parseInt(headerLevel.substring(1));while(newLevel>level){var newUl=document.createElement("ul");if(currentUl==null){toc.appendChild(newUl);}else{currentUl.appendChild(newUl);}currentUl=newUl;level++;}while(newLevel<level){currentUl=currentUl.parentNode;level--;}var li=document.createElement("li");var a=document.createElement("a");a.href="#"+headerId;a.textContent=headerValue;li.appendChild(a);currentUl.appendChild(li);}}function wrapTables(){var tables=document.getElementsByTagName("table");for(var i=0;i<tables.length;i++){var table=tables[i];var parent=table.parentNode;var div=document.createElement('div');div.className="table-wrapper";parent.insertBefore(div,table);div.appendChild(table);}}buildToc();wrapTables();</script>
<script>if(window.parent==window){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-105228961-1','auto',{'siteSpeedSampleRate':100});ga('send','pageview');}</script></body>
</html>
