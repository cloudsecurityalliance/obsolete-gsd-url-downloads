<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#766147 - php5-common: session cleanup can be misused to change modification time of arbitrary files to &quot;now&quot; when symlink protection not enabled - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=766147&quot;&gt;766147&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:766147@bugs.debian.org">#766147</a><br>
php5-common: session cleanup can be misused to change modification time of arbitrary files to &quot;now&quot; when symlink protection not enabled</h1>
<div class="versiongraph"><a href="version.cgi?info=1;found=php5%2F5.4.4-14%2Bdeb7u14;found=php5%2F5.4.35-0deb7u2;package=php5-common;collapse=1;absolute=0;fixed=5.4.35-0deb7u2;fixed=php5%2F5.4.35-0%2Bdeb7u1"><img alt="version graph" src="version.cgi?found=php5%2F5.4.4-14%2Bdeb7u14;found=php5%2F5.4.35-0deb7u2;width=2;package=php5-common;fixed=5.4.35-0deb7u2;fixed=php5%2F5.4.35-0%2Bdeb7u1;absolute=0;height=2;collapse=1"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=php5-common">php5-common</a>;
Maintainer for <a href="pkgreport.cgi?package=php5-common">php5-common</a> is <a href="pkgreport.cgi?maint=pkg-php-maint%40lists.alioth.debian.org">Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</a>; Source for <a href="pkgreport.cgi?package=php5-common">php5-common</a> is <a href="pkgreport.cgi?src=php5">src:php5</a> (<a href="https://tracker.debian.org/pkg/php5">PTS</a>, <a href="https://buildd.debian.org/php5">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=php5">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=Roman.Fiedler%40ait.ac.at">Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</a></p>
  <p>Date: Tue, 21 Oct 2014 07:54:11 UTC</p>

<p>Severity: normal</p>
<p>Tags: security</p>

<p>Found in versions php5/5.4.4-14+deb7u14, php5/5.4.35-0deb7u2</p>
<p>Fixed in versions 5.4.35-0deb7u2, php5/5.4.35-0+deb7u1</p>

<p><strong>Done:</strong> Ondřej Surý &lt;ondrej@debian.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p></div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=766147;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413878056 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Tue, 21 Oct 2014 07:54:16 GMT) (<a href="bugreport.cgi?bug=766147;msg=2">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt; -->
<!-- time:1413878056 -->
<strong>Acknowledgement sent</strong>
to <code>Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Tue, 21 Oct 2014 07:54:16 GMT) (<a href="bugreport.cgi?bug=766147;msg=4">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=5">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=5">mbox</a>, <a href="mailto:766147@bugs.debian.org?subject=Re%3A%20php5-common%3A%20session%20cleanup%20can%20be%20misused%20to%20change%20modification%0A%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%20protection%20not%20enabled&amp;References=%3C2ECE9D9EEF1F524185270138AE23265947D24985%40S0MSMAIL112.arc.local%3E&amp;body=On%20Tue%2C%2021%20Oct%202014%2007%3A52%3A46%20%2B0000%20Fiedler%20Roman%20%3CRoman.Fiedler%40ait.ac.at%3E%20wrote%3A%0A%3E%20Package%3A%20php5-common%20%0A%3E%20Version%3A%205.4.4-14%2Bdeb7u14%0A%3E%20Tags%3A%20security%0A%3E%20%0A%3E%20%2Fusr%2Flib%2Fphp5%2Fsessionclean%20from%20%5B1%5D%20enables%20any%20process%20allowed%20to%20create%0A%3E%20entries%20in%20%2Fvar%2Flib%2Fphp5%20to%20adjust%20the%20modification%20time%20of%20any%20file%20by%0A%3E%20waiting%20for%20the%20%2Fetc%2Fcron.d%2Fphp5%20session%20cleanup%20job%20to%20run.%20This%20requires%0A%3E%20%2Fproc%2Fsys%2Ffs%2Fprotected_symlinks%20to%20be%20set%20to%200%20%28off%29%2C%20which%20is%20not%20the%0A%3E%20default%20in%20Debian%207%20Wheezy%20and%20up%20according%20to%20information%20from%20Debian%0A%3E%20security%20team.%0A%3E%20%0A%3E%20Even%20for%20affected%20systems%2C%20the%20impact%20might%20be%20small%2C%20just%20annoying%3A%0A%3E%20%0A%3E%20%2A%20backup%2FIDS%20might%20be%20unhappy%20when%20file%20modification%20time%20is%20changed%20every%0A%3E%2030min%0A%3E%20%2A%20some%20spoolers%20might%20work%20differently%20since%20stale%20file%20could%20be%20prevented%0A%3E%20from%20reaching%20required%20age%20for%20next%20action%0A%3E%20%2A%20some%20privileged%20%2Fproc%20or%20%2Fsys%20entries%20might%20not%20handle%20modification%20time%0A%3E%20update%20correctly%20or%20react%20in%20a%20strange%20way%0A%3E%20%2A%20Sudo%20credentials%20cache%20might%20be%20affected%20%28not%20checked%29%0A%3E%20%0A%3E%20To%20my%20judgement%2C%20the%20session%20cleanup%20code%20does%20_NOT_%20allow%20to%20create%0A%3E%20arbitrary%20files%20%28%22touch%20-c%22%20is%20used%29%2C%20hence%20it%20would%20not%20be%20possible%20to%20use%0A%3E%20this%20to%20create%20e.g.%20%2Fetc%2Fsuid-debug%0A%3E%20%0A%3E%20POC%3A%0A%3E%20%0A%3E%20su%20-s%20%2Fbin%2Fbash%20nobody%0A%3E%20cd%20%2Fvar%2Flib%2Fphp5%0A%3E%20ln%20-s%20%2Fetc%2Fpasswd%20xxx%0A%3E%20cat%20%3E%20%22xxx%20yyy%22%0A%3E%20%23%20wait%0A%3E%20%0A%3E%20%5B1%5D%0A%3E%20http%3A%2F%2Fhttp.us.debian.org%2Fdebian%2Fpool%2Fmain%2Fp%2Fphp5%2Fphp5-common_5.4.4-14%2Bdeb7u%0A%3E%2014_i386.deb%0A%3E%20%0A&amp;In-Reply-To=%3C2ECE9D9EEF1F524185270138AE23265947D24985%40S0MSMAIL112.arc.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=Roman.Fiedler%40ait.ac.at" alt="">
<div class="header"><span class="headerfield">From:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</div>
<div class="header"><span class="headerfield">To:</span> &quot;submit@bugs.debian.org&quot; &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> php5-common: session cleanup can be misused to change modification
 time of arbitrary files to &quot;now&quot; when symlink protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Oct 2014 07:52:46 +0000</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=766147;msg=5">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Package: php5-common 
Version: 5.4.4-14+deb7u14
Tags: security

/usr/lib/php5/sessionclean from [1] enables any process allowed to create
entries in /var/lib/php5 to adjust the modification time of any file by
waiting for the /etc/cron.d/php5 session cleanup job to run. This requires
/proc/sys/fs/protected_symlinks to be set to 0 (off), which is not the
default in Debian 7 Wheezy and up according to information from Debian
security team.

Even for affected systems, the impact might be small, just annoying:

* backup/IDS might be unhappy when file modification time is changed every
30min
* some spoolers might work differently since stale file could be prevented
from reaching required age for next action
* some privileged /proc or /sys entries might not handle modification time
update correctly or react in a strange way
* Sudo credentials cache might be affected (not checked)

To my judgement, the session cleanup code does _NOT_ allow to create
arbitrary files (&quot;touch -c&quot; is used), hence it would not be possible to use
this to create e.g. /etc/suid-debug

POC:

su -s /bin/bash nobody
cd /var/lib/php5
ln -s /etc/passwd xxx
cat &gt; &quot;xxx yyy&quot;
# wait

[1]
<a href="http://http.us.debian.org/debian/pool/main/p/php5/php5-common_5.4.4-14+deb7u">http://http.us.debian.org/debian/pool/main/p/php5/php5-common_5.4.4-14+deb7u</a>
14_i386.deb

</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=766147;filename=smime.p7s;msg=5">smime.p7s</a> (application/pkcs7-signature, attachment)]</pre>

<div class="infmessage"><hr><p>
<a name="6"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413881468 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Tue, 21 Oct 2014 08:51:08 GMT) (<a href="bugreport.cgi?bug=766147;msg=7">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="8"></a>
<!-- request_addr: Ondřej Surý &lt;ondrej@sury.org&gt; -->
<!-- time:1413881468 -->
<strong>Acknowledgement sent</strong>
to <code>Ondřej Surý &lt;ondrej@sury.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Tue, 21 Oct 2014 08:51:08 GMT) (<a href="bugreport.cgi?bug=766147;msg=9">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="10"></a><a name="msg10"></a><a href="#10">Message #10</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=10">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=10">mbox</a>, <a href="mailto:766147@bugs.debian.org?In-Reply-To=%3C1413881384.489192.181434513.466A2998%40webmail.messagingengine.com%3E&amp;body=On%20Tue%2C%2021%20Oct%202014%2010%3A49%3A44%20%2B0200%20%3D%3FUTF-8%3FQ%3FOnd%3DC5%3D99ej%3D20Sur%3DC3%3DBD%3F%3D%20%3Condrej%40sury.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20TL%3BDR%3A%20%22s%2Ftouch%20-c%2Ftouch%20-c%20-h%2F%22%2C%20right%3F%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20Ondrej%0A%3E%20%0A%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2009%3A52%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20Package%3A%20php5-common%20%0A%3E%20%3E%20Version%3A%205.4.4-14%2Bdeb7u14%0A%3E%20%3E%20Tags%3A%20security%0A%3E%20%3E%20%0A%3E%20%3E%20%2Fusr%2Flib%2Fphp5%2Fsessionclean%20from%20%5B1%5D%20enables%20any%20process%20allowed%20to%20create%0A%3E%20%3E%20entries%20in%20%2Fvar%2Flib%2Fphp5%20to%20adjust%20the%20modification%20time%20of%20any%20file%20by%0A%3E%20%3E%20waiting%20for%20the%20%2Fetc%2Fcron.d%2Fphp5%20session%20cleanup%20job%20to%20run.%20This%0A%3E%20%3E%20requires%0A%3E%20%3E%20%2Fproc%2Fsys%2Ffs%2Fprotected_symlinks%20to%20be%20set%20to%200%20%28off%29%2C%20which%20is%20not%20the%0A%3E%20%3E%20default%20in%20Debian%207%20Wheezy%20and%20up%20according%20to%20information%20from%20Debian%0A%3E%20%3E%20security%20team.%0A%3E%20%3E%20%0A%3E%20%3E%20Even%20for%20affected%20systems%2C%20the%20impact%20might%20be%20small%2C%20just%20annoying%3A%0A%3E%20%3E%20%0A%3E%20%3E%20%2A%20backup%2FIDS%20might%20be%20unhappy%20when%20file%20modification%20time%20is%20changed%0A%3E%20%3E%20every%0A%3E%20%3E%2030min%0A%3E%20%3E%20%2A%20some%20spoolers%20might%20work%20differently%20since%20stale%20file%20could%20be%0A%3E%20%3E%20prevented%0A%3E%20%3E%20from%20reaching%20required%20age%20for%20next%20action%0A%3E%20%3E%20%2A%20some%20privileged%20%2Fproc%20or%20%2Fsys%20entries%20might%20not%20handle%20modification%0A%3E%20%3E%20time%0A%3E%20%3E%20update%20correctly%20or%20react%20in%20a%20strange%20way%0A%3E%20%3E%20%2A%20Sudo%20credentials%20cache%20might%20be%20affected%20%28not%20checked%29%0A%3E%20%3E%20%0A%3E%20%3E%20To%20my%20judgement%2C%20the%20session%20cleanup%20code%20does%20_NOT_%20allow%20to%20create%0A%3E%20%3E%20arbitrary%20files%20%28%22touch%20-c%22%20is%20used%29%2C%20hence%20it%20would%20not%20be%20possible%20to%0A%3E%20%3E%20use%0A%3E%20%3E%20this%20to%20create%20e.g.%20%2Fetc%2Fsuid-debug%0A%3E%20%3E%20%0A%3E%20%3E%20POC%3A%0A%3E%20%3E%20%0A%3E%20%3E%20su%20-s%20%2Fbin%2Fbash%20nobody%0A%3E%20%3E%20cd%20%2Fvar%2Flib%2Fphp5%0A%3E%20%3E%20ln%20-s%20%2Fetc%2Fpasswd%20xxx%0A%3E%20%3E%20cat%20%3E%20%22xxx%20yyy%22%0A%3E%20%3E%20%23%20wait%0A%3E%20%3E%20%0A%3E%20%3E%20%5B1%5D%0A%3E%20%3E%20http%3A%2F%2Fhttp.us.debian.org%2Fdebian%2Fpool%2Fmain%2Fp%2Fphp5%2Fphp5-common_5.4.4-14%2Bdeb7u%0A%3E%20%3E%2014_i386.deb%0A%3E%20%3E%20%0A%3E%20%3E%20_______________________________________________%0A%3E%20%3E%20pkg-php-maint%20mailing%20list%0A%3E%20%3E%20pkg-php-maint%40lists.alioth.debian.org%0A%3E%20%3E%20http%3A%2F%2Flists.alioth.debian.org%2Fcgi-bin%2Fmailman%2Flistinfo%2Fpkg-php-maint%0A%3E%20%3E%20Email%20had%201%20attachment%3A%0A%3E%20%3E%20%2B%20smime.p7s%0A%3E%20%3E%20%20%208k%20%28application%2Fpkcs7-signature%29%0A%3E%20%0A%3E%20%0A%3E%20--%20%0A&amp;References=%3C2ECE9D9EEF1F524185270138AE23265947D24985%40S0MSMAIL112.arc.local%3E%0A%20%3C1413881384.489192.181434513.466A2998%40webmail.messagingengine.com%3E&amp;subject=Re%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%20misused%0A%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ondrej%40sury.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ondřej Surý &lt;ondrej@sury.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;, 766147@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [php-maint] Bug#766147: php5-common: session cleanup can be misused
 to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Oct 2014 10:49:44 +0200</div>
</div>
<pre class="message">Hi,

TL;DR: &quot;s/touch -c/touch -c -h/&quot;, right?

Cheers,
Ondrej

On Tue, Oct 21, 2014, at 09:52, Fiedler Roman wrote:
&gt; Package: php5-common 
&gt; Version: 5.4.4-14+deb7u14
&gt; Tags: security
&gt; 
&gt; /usr/lib/php5/sessionclean from [1] enables any process allowed to create
&gt; entries in /var/lib/php5 to adjust the modification time of any file by
&gt; waiting for the /etc/cron.d/php5 session cleanup job to run. This
&gt; requires
&gt; /proc/sys/fs/protected_symlinks to be set to 0 (off), which is not the
&gt; default in Debian 7 Wheezy and up according to information from Debian
&gt; security team.
&gt; 
&gt; Even for affected systems, the impact might be small, just annoying:
&gt; 
&gt; * backup/IDS might be unhappy when file modification time is changed
&gt; every
&gt; 30min
&gt; * some spoolers might work differently since stale file could be
&gt; prevented
&gt; from reaching required age for next action
&gt; * some privileged /proc or /sys entries might not handle modification
&gt; time
&gt; update correctly or react in a strange way
&gt; * Sudo credentials cache might be affected (not checked)
&gt; 
&gt; To my judgement, the session cleanup code does _NOT_ allow to create
&gt; arbitrary files (&quot;touch -c&quot; is used), hence it would not be possible to
&gt; use
&gt; this to create e.g. /etc/suid-debug
&gt; 
&gt; POC:
&gt; 
&gt; su -s /bin/bash nobody
&gt; cd /var/lib/php5
&gt; ln -s /etc/passwd xxx
&gt; cat &gt; &quot;xxx yyy&quot;
&gt; # wait
&gt; 
&gt; [1]
&gt; <a href="http://http.us.debian.org/debian/pool/main/p/php5/php5-common_5.4.4-14+deb7u">http://http.us.debian.org/debian/pool/main/p/php5/php5-common_5.4.4-14+deb7u</a>
&gt; 14_i386.deb
&gt; 
&gt; _______________________________________________
&gt; pkg-php-maint mailing list
&gt; pkg-php-maint@lists.alioth.debian.org
&gt; <a href="http://lists.alioth.debian.org/cgi-bin/mailman/listinfo/pkg-php-maint">http://lists.alioth.debian.org/cgi-bin/mailman/listinfo/pkg-php-maint</a>
&gt; Email had 1 attachment:
&gt; + smime.p7s
&gt;   8k (application/pkcs7-signature)


-- 
Ondřej Surý &lt;ondrej@sury.org&gt;
Knot DNS (<a href="https://www.knot-dns.cz/">https://www.knot-dns.cz/</a>) – a high-performance DNS server


</pre>

<div class="infmessage"><hr><p>
<a name="11"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413883277 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Tue, 21 Oct 2014 09:21:17 GMT) (<a href="bugreport.cgi?bug=766147;msg=12">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="13"></a>
<!-- request_addr: Ondřej Surý &lt;ondrej@sury.org&gt; -->
<!-- time:1413883277 -->
<strong>Acknowledgement sent</strong>
to <code>Ondřej Surý &lt;ondrej@sury.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Tue, 21 Oct 2014 09:21:17 GMT) (<a href="bugreport.cgi?bug=766147;msg=14">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=14">mbox</a>, <a href="#13">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="15"></a><a name="msg15"></a><a href="#15">Message #15</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=15">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=15">mbox</a>, <a href="mailto:766147@bugs.debian.org?References=%3C2ECE9D9EEF1F524185270138AE23265947D24985%40S0MSMAIL112.arc.local%3E%0A%20%3C1413881384.489192.181434513.466A2998%40webmail.messagingengine.com%3E%0A%20%3C2ECE9D9EEF1F524185270138AE23265947D24A82%40S0MSMAIL112.arc.local%3E%0A%20%3C1413882545.496444.181442249.74819DDD%40webmail.messagingengine.com%3E&amp;subject=Re%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%20misused%0A%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled&amp;In-Reply-To=%3C1413882545.496444.181442249.74819DDD%40webmail.messagingengine.com%3E&amp;body=On%20Tue%2C%2021%20Oct%202014%2011%3A09%3A05%20%2B0200%20%3D%3FUTF-8%3FQ%3FOnd%3DC5%3D99ej%3D20Sur%3DC3%3DBD%3F%3D%20%3Condrej%40sury.org%3E%20wrote%3A%0A%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2010%3A55%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20TL%3BDR%3A%20%22s%2Ftouch%20-c%2Ftouch%20-c%20-h%2F%22%2C%20right%3F%0A%3E%20%3E%20%0A%3E%20%3E%20This%20will%20fix%20it%20for%20arbitrary%20symlinks%2C%20the%20only%20remaining%20issues%20would%0A%3E%20%3E%20be%0A%3E%20%3E%20%0A%3E%20%3E%20a%29%20keeping%20open%20a%20file%20%22..%20xxxx%22%2C%20which%20will%20update%20the%20parent%20directory%0A%3E%20%3E%20modification%20time.%0A%3E%20%0A%3E%20Which%20parent%20directory%3F%20The%20session%20dir%20or%20the%20symlink%20targe%20parent%0A%3E%20directory%3F%0A%3E%20%0A%3E%20%3E%20b%29%20keeping%20open%20a%20file%20%22%5Botherfilename%5D%20%5Brandom%5D%22%2C%20which%20will%20prevent%0A%3E%20%3E%20arbitrary%20other%20sessions%20from%20timing%20out.%20Since%20most%20likely%20malicious%0A%3E%20%3E%20process%20should%20be%20%22www-data%22%2C%20this%20is%20not%20of%20any%20significance.%0A%3E%20%0A%3E%20The%20httpd%20user%20%28www-data%29%20has%20access%20to%20all%20session%20files%20if%20the%0A%3E%20attacker%20know%20the%20session%20name.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20--%20%0A%3E%20Ond%C5%99ej%20Sur%C3%BD%20%3Condrej%40sury.org%3E%0A%3E%20Knot%20DNS%20%28https%3A%2F%2Fwww.knot-dns.cz%2F%29%20%E2%80%93%20a%20high-performance%20DNS%20server%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ondrej%40sury.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ondřej Surý &lt;ondrej@sury.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;, 766147@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [php-maint] Bug#766147: php5-common: session cleanup can be misused
 to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Oct 2014 11:09:05 +0200</div>
</div>
<pre class="message">On Tue, Oct 21, 2014, at 10:55, Fiedler Roman wrote:
&gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; 
&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; TL;DR: &quot;s/touch -c/touch -c -h/&quot;, right?
&gt; 
&gt; This will fix it for arbitrary symlinks, the only remaining issues would
&gt; be
&gt; 
&gt; a) keeping open a file &quot;.. xxxx&quot;, which will update the parent directory
&gt; modification time.

Which parent directory? The session dir or the symlink targe parent
directory?

&gt; b) keeping open a file &quot;[otherfilename] [random]&quot;, which will prevent
&gt; arbitrary other sessions from timing out. Since most likely malicious
&gt; process should be &quot;www-data&quot;, this is not of any significance.

The httpd user (www-data) has access to all session files if the
attacker know the session name.

Cheers,
-- 
Ondřej Surý &lt;ondrej@sury.org&gt;
Knot DNS (<a href="https://www.knot-dns.cz/">https://www.knot-dns.cz/</a>) – a high-performance DNS server


</pre>

<div class="infmessage"><hr><p>
<a name="16"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413883281 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Tue, 21 Oct 2014 09:21:21 GMT) (<a href="bugreport.cgi?bug=766147;msg=17">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=17">mbox</a>, <a href="#16">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="18"></a>
<!-- request_addr: Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt; -->
<!-- time:1413883281 -->
<strong>Acknowledgement sent</strong>
to <code>Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Tue, 21 Oct 2014 09:21:21 GMT) (<a href="bugreport.cgi?bug=766147;msg=19">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=19">mbox</a>, <a href="#18">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="20"></a><a name="msg20"></a><a href="#20">Message #20</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=20">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=20">mbox</a>, <a href="mailto:766147@bugs.debian.org?body=On%20Tue%2C%2021%20Oct%202014%2008%3A55%3A52%20%2B0000%20Fiedler%20Roman%20%3CRoman.Fiedler%40ait.ac.at%3E%20wrote%3A%0A%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%0A%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%0A%3E%20%3E%20TL%3BDR%3A%20%22s%2Ftouch%20-c%2Ftouch%20-c%20-h%2F%22%2C%20right%3F%0A%3E%20%0A%3E%20This%20will%20fix%20it%20for%20arbitrary%20symlinks%2C%20the%20only%20remaining%20issues%20would%20be%0A%3E%20%0A%3E%20a%29%20keeping%20open%20a%20file%20%22..%20xxxx%22%2C%20which%20will%20update%20the%20parent%20directory%20modification%20time.%0A%3E%20b%29%20keeping%20open%20a%20file%20%22%5Botherfilename%5D%20%5Brandom%5D%22%2C%20which%20will%20prevent%20arbitrary%20other%20sessions%20from%20timing%20out.%20Since%20most%20likely%20malicious%20process%20should%20be%20%22www-data%22%2C%20this%20is%20not%20of%20any%20significance.%0A%3E%20%0A%3E%20%5BRemoved%5D%0A&amp;In-Reply-To=%3C2ECE9D9EEF1F524185270138AE23265947D24A82%40S0MSMAIL112.arc.local%3E&amp;subject=Re%3A%20AW%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%0A%20misused%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled&amp;References=%3C2ECE9D9EEF1F524185270138AE23265947D24985%40S0MSMAIL112.arc.local%3E%0A%20%3C1413881384.489192.181434513.466A2998%40webmail.messagingengine.com%3E%0A%20%3C2ECE9D9EEF1F524185270138AE23265947D24A82%40S0MSMAIL112.arc.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=Roman.Fiedler%40ait.ac.at" alt="">
<div class="header"><span class="headerfield">From:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</div>
<div class="header"><span class="headerfield">To:</span> Ondřej Surý &lt;ondrej@sury.org&gt;,
        &quot;766147@bugs.debian.org&quot; &lt;766147@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> AW: [php-maint] Bug#766147: php5-common: session cleanup can be
 misused to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Oct 2014 08:55:52 +0000</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=766147;msg=20">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">&gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; 
&gt; Hi,
&gt; 
&gt; TL;DR: &quot;s/touch -c/touch -c -h/&quot;, right?

This will fix it for arbitrary symlinks, the only remaining issues would be

a) keeping open a file &quot;.. xxxx&quot;, which will update the parent directory modification time.
b) keeping open a file &quot;[otherfilename] [random]&quot;, which will prevent arbitrary other sessions from timing out. Since most likely malicious process should be &quot;www-data&quot;, this is not of any significance.

[Removed]
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=766147;filename=smime.p7s;msg=20">smime.p7s</a> (application/pkcs7-signature, attachment)]</pre>

<div class="infmessage"><hr><p>
<a name="21"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413883284 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Tue, 21 Oct 2014 09:21:24 GMT) (<a href="bugreport.cgi?bug=766147;msg=22">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=22">mbox</a>, <a href="#21">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="23"></a>
<!-- request_addr: Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt; -->
<!-- time:1413883285 -->
<strong>Acknowledgement sent</strong>
to <code>Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Tue, 21 Oct 2014 09:21:25 GMT) (<a href="bugreport.cgi?bug=766147;msg=24">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=24">mbox</a>, <a href="#23">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="25"></a><a name="msg25"></a><a href="#25">Message #25</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=25">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=25">mbox</a>, <a href="mailto:766147@bugs.debian.org?subject=Re%3A%20AW%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%0A%20misused%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled&amp;References=%3C2ECE9D9EEF1F524185270138AE23265947D24985%40S0MSMAIL112.arc.local%3E%0A%20%3C1413881384.489192.181434513.466A2998%40webmail.messagingengine.com%3E%0A%20%3C2ECE9D9EEF1F524185270138AE23265947D24A82%40S0MSMAIL112.arc.local%3E%0A%20%3C1413882545.496444.181442249.74819DDD%40webmail.messagingengine.com%3E%0A%20%3C2ECE9D9EEF1F524185270138AE23265947D24AD4%40S0MSMAIL112.arc.local%3E&amp;body=On%20Tue%2C%2021%20Oct%202014%2009%3A16%3A01%20%2B0000%20Fiedler%20Roman%20%3CRoman.Fiedler%40ait.ac.at%3E%20wrote%3A%0A%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%0A%3E%20%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2010%3A55%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20TL%3BDR%3A%20%22s%2Ftouch%20-c%2Ftouch%20-c%20-h%2F%22%2C%20right%3F%0A%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20This%20will%20fix%20it%20for%20arbitrary%20symlinks%2C%20the%20only%20remaining%20issues%20would%0A%3E%20%3E%20%3E%20be%0A%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20a%29%20keeping%20open%20a%20file%20%22..%20xxxx%22%2C%20which%20will%20update%20the%20parent%20directory%0A%3E%20%3E%20%3E%20modification%20time.%0A%3E%20%3E%20%0A%3E%20%3E%20Which%20parent%20directory%3F%20The%20session%20dir%20or%20the%20symlink%20targe%20parent%0A%3E%20%3E%20directory%3F%0A%3E%20%0A%3E%20The%20%2Fvar%2Flib%20directory%3A%20Since%20the%20the%20parsing%20of%20the%20lsof%20output%20is%20broken%20%28awk%20uses%20%22%249%22%29%2C%20an%20open%20file%20%22..%20xxxx%22%20will%20cause%20touch%20-c%20%22%2Fvar%2Flib%2Fphp5%2F..%22%20without%20involving%20any%20symlinks.%0A%3E%20%20%0A%3E%20%3E%20%3E%20b%29%20keeping%20open%20a%20file%20%22%5Botherfilename%5D%20%5Brandom%5D%22%2C%20which%20will%20prevent%0A%3E%20%3E%20%3E%20arbitrary%20other%20sessions%20from%20timing%20out.%20Since%20most%20likely%20malicious%0A%3E%20%3E%20%3E%20process%20should%20be%20%22www-data%22%2C%20this%20is%20not%20of%20any%20significance.%0A%3E%20%3E%20%0A%3E%20%3E%20The%20httpd%20user%20%28www-data%29%20has%20access%20to%20all%20session%20files%20if%20the%0A%3E%20%3E%20attacker%20know%20the%20session%20name.%0A%3E%20%0A%3E%20Yes%2C%20so%20no%20relevance%20with%20%22www-data%22.%20But%20e.g.%20user%20%22nobody%22%20could%20prevent%20any%20%22www-data%22%20session%20from%20timing%20out%20when%20knowing%20the%20name%2C%20just%20a%20subtle%20annoyance.%0A&amp;In-Reply-To=%3C2ECE9D9EEF1F524185270138AE23265947D24AD4%40S0MSMAIL112.arc.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=Roman.Fiedler%40ait.ac.at" alt="">
<div class="header"><span class="headerfield">From:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</div>
<div class="header"><span class="headerfield">To:</span> Ondřej Surý &lt;ondrej@sury.org&gt;,
        &quot;766147@bugs.debian.org&quot; &lt;766147@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> AW: [php-maint] Bug#766147: php5-common: session cleanup can be
 misused to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Oct 2014 09:16:01 +0000</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=766147;msg=25">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">&gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; 
&gt; On Tue, Oct 21, 2014, at 10:55, Fiedler Roman wrote:
&gt; &gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; &gt;
&gt; &gt; &gt; Hi,
&gt; &gt; &gt;
&gt; &gt; &gt; TL;DR: &quot;s/touch -c/touch -c -h/&quot;, right?
&gt; &gt;
&gt; &gt; This will fix it for arbitrary symlinks, the only remaining issues would
&gt; &gt; be
&gt; &gt;
&gt; &gt; a) keeping open a file &quot;.. xxxx&quot;, which will update the parent directory
&gt; &gt; modification time.
&gt; 
&gt; Which parent directory? The session dir or the symlink targe parent
&gt; directory?

The /var/lib directory: Since the the parsing of the lsof output is broken (awk uses &quot;$9&quot;), an open file &quot;.. xxxx&quot; will cause touch -c &quot;/var/lib/php5/..&quot; without involving any symlinks.
 
&gt; &gt; b) keeping open a file &quot;[otherfilename] [random]&quot;, which will prevent
&gt; &gt; arbitrary other sessions from timing out. Since most likely malicious
&gt; &gt; process should be &quot;www-data&quot;, this is not of any significance.
&gt; 
&gt; The httpd user (www-data) has access to all session files if the
&gt; attacker know the session name.

Yes, so no relevance with &quot;www-data&quot;. But e.g. user &quot;nobody&quot; could prevent any &quot;www-data&quot; session from timing out when knowing the name, just a subtle annoyance.
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=766147;filename=smime.p7s;msg=25">smime.p7s</a> (application/pkcs7-signature, attachment)]</pre>

<div class="infmessage"><hr><p>
<a name="26"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413884170 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Tue, 21 Oct 2014 09:36:10 GMT) (<a href="bugreport.cgi?bug=766147;msg=27">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=27">mbox</a>, <a href="#26">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="28"></a>
<!-- request_addr: Ondřej Surý &lt;ondrej@sury.org&gt; -->
<!-- time:1413884170 -->
<strong>Acknowledgement sent</strong>
to <code>Ondřej Surý &lt;ondrej@sury.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Tue, 21 Oct 2014 09:36:10 GMT) (<a href="bugreport.cgi?bug=766147;msg=29">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=29">mbox</a>, <a href="#28">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="30"></a><a name="msg30"></a><a href="#30">Message #30</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=30">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=30">mbox</a>, <a href="mailto:766147@bugs.debian.org?subject=Re%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%20misused%0A%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled&amp;References=%3C2ECE9D9EEF1F524185270138AE23265947D24985%40S0MSMAIL112.arc.local%3E%0A%20%3C1413881384.489192.181434513.466A2998%40webmail.messagingengine.com%3E%0A%20%3C2ECE9D9EEF1F524185270138AE23265947D24A82%40S0MSMAIL112.arc.local%3E%0A%20%3C1413882545.496444.181442249.74819DDD%40webmail.messagingengine.com%3E%0A%20%3C2ECE9D9EEF1F524185270138AE23265947D24AD4%40S0MSMAIL112.arc.local%3E%0A%20%3C1413884028.504257.181448337.207D0FE9%40webmail.messagingengine.com%3E&amp;body=On%20Tue%2C%2021%20Oct%202014%2011%3A33%3A48%20%2B0200%20%3D%3FUTF-8%3FQ%3FOnd%3DC5%3D99ej%3D20Sur%3DC3%3DBD%3F%3D%20%3Condrej%40sury.org%3E%20wrote%3A%0A%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2011%3A16%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2010%3A55%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20TL%3BDR%3A%20%22s%2Ftouch%20-c%2Ftouch%20-c%20-h%2F%22%2C%20right%3F%0A%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20This%20will%20fix%20it%20for%20arbitrary%20symlinks%2C%20the%20only%20remaining%20issues%20would%0A%3E%20%3E%20%3E%20%3E%20be%0A%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20a%29%20keeping%20open%20a%20file%20%22..%20xxxx%22%2C%20which%20will%20update%20the%20parent%20directory%0A%3E%20%3E%20%3E%20%3E%20modification%20time.%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20Which%20parent%20directory%3F%20The%20session%20dir%20or%20the%20symlink%20targe%20parent%0A%3E%20%3E%20%3E%20directory%3F%0A%3E%20%3E%20%0A%3E%20%3E%20The%20%2Fvar%2Flib%20directory%3A%20Since%20the%20the%20parsing%20of%20the%20lsof%20output%20is%0A%3E%20%3E%20broken%20%28awk%20uses%20%22%249%22%29%2C%20an%20open%20file%20%22..%20xxxx%22%20will%20cause%20touch%20-c%0A%3E%20%3E%20%22%2Fvar%2Flib%2Fphp5%2F..%22%20without%20involving%20any%20symlinks.%0A%3E%20%0A%3E%20I%20see...%0A%3E%20%0A%3E%20%5B%20-x%20%2Fusr%2Fbin%2Flsof%20%5D%20%26%26%20%2Fusr%2Fbin%2Flsof%20-w%20-l%20%2Bd%20%22%24%7B1%7D%22%20-Fn%20%7C%20grep%20-E%20%22%5En%22%0A%3E%20%7C%20cut%20-b%202-%20%7C%20xargs%20-i%20touch%20-c%20-h%20%7B%7D%0A%3E%20%0A%3E%20JFTR%20jessie%26sid%20has%20a%20new%20script%20that%20takes%20a%20different%20approach%20and%0A%3E%20might%20suffer%20from%20the%20same%20bug%20if%20you%20manage%20to%20open%20a%20file%20in%0A%3E%20%2Fvar%2Flib%2Fphp5%2Fsessions%2F%20with%20active%20php5%20process.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20--%20%0A%3E%20Ond%C5%99ej%20Sur%C3%BD%20%3Condrej%40sury.org%3E%0A%3E%20Knot%20DNS%20%28https%3A%2F%2Fwww.knot-dns.cz%2F%29%20%E2%80%93%20a%20high-performance%20DNS%20server%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C1413884028.504257.181448337.207D0FE9%40webmail.messagingengine.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ondrej%40sury.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ondřej Surý &lt;ondrej@sury.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;, 766147@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [php-maint] Bug#766147: php5-common: session cleanup can be misused
 to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Oct 2014 11:33:48 +0200</div>
</div>
<pre class="message">On Tue, Oct 21, 2014, at 11:16, Fiedler Roman wrote:
&gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; 
&gt; &gt; On Tue, Oct 21, 2014, at 10:55, Fiedler Roman wrote:
&gt; &gt; &gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Hi,
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; TL;DR: &quot;s/touch -c/touch -c -h/&quot;, right?
&gt; &gt; &gt;
&gt; &gt; &gt; This will fix it for arbitrary symlinks, the only remaining issues would
&gt; &gt; &gt; be
&gt; &gt; &gt;
&gt; &gt; &gt; a) keeping open a file &quot;.. xxxx&quot;, which will update the parent directory
&gt; &gt; &gt; modification time.
&gt; &gt; 
&gt; &gt; Which parent directory? The session dir or the symlink targe parent
&gt; &gt; directory?
&gt; 
&gt; The /var/lib directory: Since the the parsing of the lsof output is
&gt; broken (awk uses &quot;$9&quot;), an open file &quot;.. xxxx&quot; will cause touch -c
&gt; &quot;/var/lib/php5/..&quot; without involving any symlinks.

I see...

[ -x /usr/bin/lsof ] &amp;&amp; /usr/bin/lsof -w -l +d &quot;${1}&quot; -Fn | grep -E &quot;^n&quot;
| cut -b 2- | xargs -i touch -c -h {}

JFTR jessie&amp;sid has a new script that takes a different approach and
might suffer from the same bug if you manage to open a file in
/var/lib/php5/sessions/ with active php5 process.

Cheers,
-- 
Ondřej Surý &lt;ondrej@sury.org&gt;
Knot DNS (<a href="https://www.knot-dns.cz/">https://www.knot-dns.cz/</a>) – a high-performance DNS server


</pre>

<div class="infmessage"><hr><p>
<a name="31"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413886154 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Tue, 21 Oct 2014 10:09:14 GMT) (<a href="bugreport.cgi?bug=766147;msg=32">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=32">mbox</a>, <a href="#31">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="33"></a>
<!-- request_addr: Ondřej Surý &lt;ondrej@sury.org&gt; -->
<!-- time:1413886154 -->
<strong>Acknowledgement sent</strong>
to <code>Ondřej Surý &lt;ondrej@sury.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Tue, 21 Oct 2014 10:09:14 GMT) (<a href="bugreport.cgi?bug=766147;msg=34">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=34">mbox</a>, <a href="#33">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="35"></a><a name="msg35"></a><a href="#35">Message #35</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=35">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=35">mbox</a>, <a href="mailto:766147@bugs.debian.org?subject=Re%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%20misused%0A%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled&amp;References=%3C2ECE9D9EEF1F524185270138AE23265947D24985%40S0MSMAIL112.arc.local%3E%0A%20%3C1413881384.489192.181434513.466A2998%40webmail.messagingengine.com%3E%0A%20%3C2ECE9D9EEF1F524185270138AE23265947D24A82%40S0MSMAIL112.arc.local%3E%0A%20%3C1413882545.496444.181442249.74819DDD%40webmail.messagingengine.com%3E%0A%20%3C2ECE9D9EEF1F524185270138AE23265947D24AD4%40S0MSMAIL112.arc.local%3E%0A%20%3C1413884028.504257.181448337.207D0FE9%40webmail.messagingengine.com%3E%0A%20%3C1413885993.514556.181461485.6B4421D3%40webmail.messagingengine.com%3E&amp;body=On%20Tue%2C%2021%20Oct%202014%2012%3A06%3A33%20%2B0200%20%3D%3FUTF-8%3FQ%3FOnd%3DC5%3D99ej%3D20Sur%3DC3%3DBD%3F%3D%20%3Condrej%40sury.org%3E%20wrote%3A%0A%3E%20Control%3A%20tags%20-1%20%2Bpending%0A%3E%20%0A%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2011%3A33%2C%20Ond%C5%99ej%20Sur%C3%BD%20wrote%3A%0A%3E%20%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2011%3A16%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2010%3A55%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20TL%3BDR%3A%20%22s%2Ftouch%20-c%2Ftouch%20-c%20-h%2F%22%2C%20right%3F%0A%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20This%20will%20fix%20it%20for%20arbitrary%20symlinks%2C%20the%20only%20remaining%20issues%20would%0A%3E%20%3E%20%3E%20%3E%20%3E%20be%0A%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20a%29%20keeping%20open%20a%20file%20%22..%20xxxx%22%2C%20which%20will%20update%20the%20parent%20directory%0A%3E%20%3E%20%3E%20%3E%20%3E%20modification%20time.%0A%3E%20%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20%3E%20Which%20parent%20directory%3F%20The%20session%20dir%20or%20the%20symlink%20targe%20parent%0A%3E%20%3E%20%3E%20%3E%20directory%3F%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20The%20%2Fvar%2Flib%20directory%3A%20Since%20the%20the%20parsing%20of%20the%20lsof%20output%20is%0A%3E%20%3E%20%3E%20broken%20%28awk%20uses%20%22%249%22%29%2C%20an%20open%20file%20%22..%20xxxx%22%20will%20cause%20touch%20-c%0A%3E%20%3E%20%3E%20%22%2Fvar%2Flib%2Fphp5%2F..%22%20without%20involving%20any%20symlinks.%0A%3E%20%3E%20%0A%3E%20%3E%20I%20see...%0A%3E%20%0A%3E%20Thanks%20for%20the%20analysis%2C%20while%20the%20impact%20is%20very%20low%2C%20it%27s%20worth%0A%3E%20updating.%0A%3E%20%0A%3E%20%3E%20%5B%20-x%20%2Fusr%2Fbin%2Flsof%20%5D%20%26%26%20%2Fusr%2Fbin%2Flsof%20-w%20-l%20%2Bd%20%22%24%7B1%7D%22%20-Fn%20%7C%20grep%20-E%20%22%5En%22%0A%3E%20%3E%20%7C%20cut%20-b%202-%20%7C%20xargs%20-i%20touch%20-c%20-h%20%7B%7D%0A%3E%20%0A%3E%20This%20change%20will%20be%20included%20in%20next%20wheezy%20update%20of%20PHP.%0A%3E%20%0A%3E%20%3E%20JFTR%20jessie%26sid%20has%20a%20new%20script%20that%20takes%20a%20different%20approach%20and%0A%3E%20%3E%20might%20suffer%20from%20the%20same%20bug%20if%20you%20manage%20to%20open%20a%20file%20in%0A%3E%20%3E%20%2Fvar%2Flib%2Fphp5%2Fsessions%2F%20with%20active%20php5%20process.%0A%3E%20%0A%3E%20If%20you%20find%20a%20similar%20vulnerability%20in%20the%20new%20session%20script%2C%20please%0A%3E%20open%20a%20new%20bug.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20--%20%0A%3E%20Ond%C5%99ej%20Sur%C3%BD%20%3Condrej%40sury.org%3E%0A%3E%20Knot%20DNS%20%28https%3A%2F%2Fwww.knot-dns.cz%2F%29%20%E2%80%93%20a%20high-performance%20DNS%20server%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C1413885993.514556.181461485.6B4421D3%40webmail.messagingengine.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ondrej%40sury.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ondřej Surý &lt;ondrej@sury.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;, 766147@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [php-maint] Bug#766147: php5-common: session cleanup can be misused
 to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Oct 2014 12:06:33 +0200</div>
</div>
<pre class="message">Control: tags -1 +pending

On Tue, Oct 21, 2014, at 11:33, Ondřej Surý wrote:
&gt; On Tue, Oct 21, 2014, at 11:16, Fiedler Roman wrote:
&gt; &gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; &gt; 
&gt; &gt; &gt; On Tue, Oct 21, 2014, at 10:55, Fiedler Roman wrote:
&gt; &gt; &gt; &gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Hi,
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; TL;DR: &quot;s/touch -c/touch -c -h/&quot;, right?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; This will fix it for arbitrary symlinks, the only remaining issues would
&gt; &gt; &gt; &gt; be
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; a) keeping open a file &quot;.. xxxx&quot;, which will update the parent directory
&gt; &gt; &gt; &gt; modification time.
&gt; &gt; &gt; 
&gt; &gt; &gt; Which parent directory? The session dir or the symlink targe parent
&gt; &gt; &gt; directory?
&gt; &gt; 
&gt; &gt; The /var/lib directory: Since the the parsing of the lsof output is
&gt; &gt; broken (awk uses &quot;$9&quot;), an open file &quot;.. xxxx&quot; will cause touch -c
&gt; &gt; &quot;/var/lib/php5/..&quot; without involving any symlinks.
&gt; 
&gt; I see...

Thanks for the analysis, while the impact is very low, it&#39;s worth
updating.

&gt; [ -x /usr/bin/lsof ] &amp;&amp; /usr/bin/lsof -w -l +d &quot;${1}&quot; -Fn | grep -E &quot;^n&quot;
&gt; | cut -b 2- | xargs -i touch -c -h {}

This change will be included in next wheezy update of PHP.

&gt; JFTR jessie&amp;sid has a new script that takes a different approach and
&gt; might suffer from the same bug if you manage to open a file in
&gt; /var/lib/php5/sessions/ with active php5 process.

If you find a similar vulnerability in the new session script, please
open a new bug.

Cheers,
-- 
Ondřej Surý &lt;ondrej@sury.org&gt;
Knot DNS (<a href="https://www.knot-dns.cz/">https://www.knot-dns.cz/</a>) – a high-performance DNS server


</pre>

<div class="msgreceived"><hr><p>
<a name="36"></a>
<!-- command:tag -->
<!-- requester: Ondřej Surý &lt;ondrej@sury.org&gt; -->
<!-- request_addr: 766147-submit@bugs.debian.org -->
<!-- time:1413886154 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;security pending&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;security&#39;
            };
-->
<strong>Added tag(s) pending.</strong>
Request was from <code>Ondřej Surý &lt;ondrej@sury.org&gt;</code>
to <code>766147-submit@bugs.debian.org</code>.
 (Tue, 21 Oct 2014 10:09:14 GMT) (<a href="bugreport.cgi?bug=766147;msg=37">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=37">mbox</a>, <a href="#36">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="38"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413983890 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Wed, 22 Oct 2014 13:18:10 GMT) (<a href="bugreport.cgi?bug=766147;msg=39">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=39">mbox</a>, <a href="#38">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="40"></a>
<!-- request_addr: Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt; -->
<!-- time:1413983890 -->
<strong>Acknowledgement sent</strong>
to <code>Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Wed, 22 Oct 2014 13:18:10 GMT) (<a href="bugreport.cgi?bug=766147;msg=41">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=41">mbox</a>, <a href="#40">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="42"></a><a name="msg42"></a><a href="#42">Message #42</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=42">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=42">mbox</a>, <a href="mailto:766147@bugs.debian.org?body=On%20Wed%2C%2022%20Oct%202014%2013%3A14%3A36%20%2B0000%20Fiedler%20Roman%20%3CRoman.Fiedler%40ait.ac.at%3E%20wrote%3A%0A%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%0A%3E%20%3E%20Control%3A%20tags%20-1%20%2Bpending%0A%3E%20%3E%20%0A%3E%20%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2011%3A33%2C%20Ond%C5%99ej%20Sur%C3%BD%20wrote%3A%0A%3E%20%3E%20%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2011%3A16%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2010%3A55%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20TL%3BDR%3A%20%22s%2Ftouch%20-c%2Ftouch%20-c%20-h%2F%22%2C%20right%3F%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20This%20will%20fix%20it%20for%20arbitrary%20symlinks%2C%20the%20only%20remaining%20issues%20would%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20be%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20a%29%20keeping%20open%20a%20file%20%22..%20xxxx%22%2C%20which%20will%20update%20the%20parent%20directory%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20modification%20time.%0A%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20Which%20parent%20directory%3F%20The%20session%20dir%20or%20the%20symlink%20targe%20parent%0A%3E%20%3E%20%3E%20%3E%20%3E%20directory%3F%0A%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20The%20%2Fvar%2Flib%20directory%3A%20Since%20the%20the%20parsing%20of%20the%20lsof%20output%20is%0A%3E%20%3E%20%3E%20%3E%20broken%20%28awk%20uses%20%22%249%22%29%2C%20an%20open%20file%20%22..%20xxxx%22%20will%20cause%20touch%20-c%0A%3E%20%3E%20%3E%20%3E%20%22%2Fvar%2Flib%2Fphp5%2F..%22%20without%20involving%20any%20symlinks.%0A%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20I%20see...%0A%3E%20%3E%20%0A%3E%20%3E%20Thanks%20for%20the%20analysis%2C%20while%20the%20impact%20is%20very%20low%2C%20it%27s%20worth%0A%3E%20%3E%20updating.%0A%3E%20%3E%20%0A%3E%20%3E%20%3E%20%5B%20-x%20%2Fusr%2Fbin%2Flsof%20%5D%20%26%26%20%2Fusr%2Fbin%2Flsof%20-w%20-l%20%2Bd%20%22%24%7B1%7D%22%20-Fn%20%7C%20grep%20-E%20%22%5En%22%0A%3E%20%3E%20%3E%20%7C%20cut%20-b%202-%20%7C%20xargs%20-i%20touch%20-c%20-h%20%7B%7D%0A%3E%20%3E%20%0A%3E%20%3E%20This%20change%20will%20be%20included%20in%20next%20wheezy%20update%20of%20PHP.%0A%3E%20%0A%3E%20No%2C%20this%20seems%20not%20to%20solve%20it%20%28I%20hope%20I%20haven%27t%20screwed%20something%20up%20while%20testing%29%2C%20consider%20the%20sequence%20%28PID%20ordering%20is%20important%21%29%3A%0A%3E%20%0A%3E%20mkdir%20-p%20%24%27%2Fvar%2Flib%2Fphp5%2Fxxx%5Cn%2Fvar%2Flib%27%0A%3E%20ln%20-s%20%2Fetc%20%24%27%2Fvar%2Flib%2Fphp5%2Fxxx%5Cn%2Fvar%2Flib%2Fphp5%27%0A%3E%20sleep%201000%20%3E%20%27%2Fvar%2Flib%2Fphp5%2Fxxx%5C%27%20%26%0A%3E%20sleep%201000%20%3E%20%2Fvar%2Flib%2Fphp5%2Fpasswd%20%26%0A%3E%20%0A%3E%20Even%20touch%20-h%20does%20not%20help%20here%2C%20only%20kernel%20symlink%20protection%20prevents%20damage.%0A%3E%20%0A%3E%20But%20maybe%20this%20is%20a%20problem%20with%20xargs%20usage%3F%20If%20it%20is%20an%20xargs-bug%20this%20would%20have%20a%20much%20broader%20scope%2C%20more%20another%20topic%20for%20security%40d.%0A%3E%20%0A%3E%20%3E%20%3E%20JFTR%20jessie%26sid%20has%20a%20new%20script%20that%20takes%20a%20different%20approach%20and%0A%3E%20%3E%20%3E%20might%20suffer%20from%20the%20same%20bug%20if%20you%20manage%20to%20open%20a%20file%20in%0A%3E%20%3E%20%3E%20%2Fvar%2Flib%2Fphp5%2Fsessions%2F%20with%20active%20php5%20process.%0A%3E%20%3E%20%0A%3E%20%3E%20If%20you%20find%20a%20similar%20vulnerability%20in%20the%20new%20session%20script%2C%20please%0A%3E%20%3E%20open%20a%20new%20bug.%0A%3E%20%0A%3E%20Looking%20at%20the%20new%20script%2C%20I%20guess%20that%20it%20should%20be%20possible%20for%20any%20user%20allowed%20to%20write%20to%20sessions%20to%20update%20any%20file%20he%20has%20read%20access%20to%20it.%20But%20of%20course%2C%20it%20is%20not%20so%20simple%20as%20with%20old%20script.%0A%3E%20%0A%3E%20To%20proof%20this%2C%20I%20would%20have%20to%20prepare%20a%20machine%20with%20sid%20%28unless%20you%20have%20one%20ready%20with%20remote%20SSH%20for%20testing%29%0A&amp;In-Reply-To=%3C2ECE9D9EEF1F524185270138AE23265947D25545%40S0MSMAIL112.arc.local%3E&amp;subject=Re%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%0A%20misused%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled&amp;References=%3C2ECE9D9EEF1F524185270138AE23265947D25545%40S0MSMAIL112.arc.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=Roman.Fiedler%40ait.ac.at" alt="">
<div class="header"><span class="headerfield">From:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</div>
<div class="header"><span class="headerfield">To:</span> Ondřej Surý &lt;ondrej@sury.org&gt;,
        &quot;766147@bugs.debian.org&quot; &lt;766147@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [php-maint] Bug#766147: php5-common: session cleanup can be
 misused to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 22 Oct 2014 13:14:36 +0000</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=766147;msg=42">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">&gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; 
&gt; Control: tags -1 +pending
&gt; 
&gt; On Tue, Oct 21, 2014, at 11:33, Ondřej Surý wrote:
&gt; &gt; On Tue, Oct 21, 2014, at 11:16, Fiedler Roman wrote:
&gt; &gt; &gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; On Tue, Oct 21, 2014, at 10:55, Fiedler Roman wrote:
&gt; &gt; &gt; &gt; &gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; &gt; Hi,
&gt; &gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; &gt; TL;DR: &quot;s/touch -c/touch -c -h/&quot;, right?
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; This will fix it for arbitrary symlinks, the only remaining issues would
&gt; &gt; &gt; &gt; &gt; be
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; a) keeping open a file &quot;.. xxxx&quot;, which will update the parent directory
&gt; &gt; &gt; &gt; &gt; modification time.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Which parent directory? The session dir or the symlink targe parent
&gt; &gt; &gt; &gt; directory?
&gt; &gt; &gt;
&gt; &gt; &gt; The /var/lib directory: Since the the parsing of the lsof output is
&gt; &gt; &gt; broken (awk uses &quot;$9&quot;), an open file &quot;.. xxxx&quot; will cause touch -c
&gt; &gt; &gt; &quot;/var/lib/php5/..&quot; without involving any symlinks.
&gt; &gt;
&gt; &gt; I see...
&gt; 
&gt; Thanks for the analysis, while the impact is very low, it&#39;s worth
&gt; updating.
&gt; 
&gt; &gt; [ -x /usr/bin/lsof ] &amp;&amp; /usr/bin/lsof -w -l +d &quot;${1}&quot; -Fn | grep -E &quot;^n&quot;
&gt; &gt; | cut -b 2- | xargs -i touch -c -h {}
&gt; 
&gt; This change will be included in next wheezy update of PHP.

No, this seems not to solve it (I hope I haven&#39;t screwed something up while testing), consider the sequence (PID ordering is important!):

mkdir -p $&#39;/var/lib/php5/xxx\n/var/lib&#39;
ln -s /etc $&#39;/var/lib/php5/xxx\n/var/lib/php5&#39;
sleep 1000 &gt; &#39;/var/lib/php5/xxx\&#39; &amp;
sleep 1000 &gt; /var/lib/php5/passwd &amp;

Even touch -h does not help here, only kernel symlink protection prevents damage.

But maybe this is a problem with xargs usage? If it is an xargs-bug this would have a much broader scope, more another topic for security@d.

&gt; &gt; JFTR jessie&amp;sid has a new script that takes a different approach and
&gt; &gt; might suffer from the same bug if you manage to open a file in
&gt; &gt; /var/lib/php5/sessions/ with active php5 process.
&gt; 
&gt; If you find a similar vulnerability in the new session script, please
&gt; open a new bug.

Looking at the new script, I guess that it should be possible for any user allowed to write to sessions to update any file he has read access to it. But of course, it is not so simple as with old script.

To proof this, I would have to prepare a machine with sid (unless you have one ready with remote SSH for testing)
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=766147;filename=smime.p7s;msg=42">smime.p7s</a> (application/pkcs7-signature, attachment)]</pre>

<div class="infmessage"><hr><p>
<a name="43"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413988575 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Wed, 22 Oct 2014 14:36:15 GMT) (<a href="bugreport.cgi?bug=766147;msg=44">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=44">mbox</a>, <a href="#43">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="45"></a>
<!-- request_addr: Ondřej Surý &lt;ondrej@sury.org&gt; -->
<!-- time:1413988575 -->
<strong>Acknowledgement sent</strong>
to <code>Ondřej Surý &lt;ondrej@sury.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Wed, 22 Oct 2014 14:36:15 GMT) (<a href="bugreport.cgi?bug=766147;msg=46">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=46">mbox</a>, <a href="#45">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="47"></a><a name="msg47"></a><a href="#47">Message #47</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=47">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=47">mbox</a>, <a href="mailto:766147@bugs.debian.org?References=%3C2ECE9D9EEF1F524185270138AE23265947D25545%40S0MSMAIL112.arc.local%3E%0A%20%3C1413988421.992290.182018501.6B2E4FFF%40webmail.messagingengine.com%3E&amp;subject=Re%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%20misused%0A%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled&amp;In-Reply-To=%3C1413988421.992290.182018501.6B2E4FFF%40webmail.messagingengine.com%3E&amp;body=On%20Wed%2C%2022%20Oct%202014%2016%3A33%3A41%20%2B0200%20%3D%3FUTF-8%3FQ%3FOnd%3DC5%3D99ej%3D20Sur%3DC3%3DBD%3F%3D%20%3Condrej%40sury.org%3E%20wrote%3A%0A%3E%20This%20should%20then%20fix%20even%20your%20case...%0A%3E%20%0A%3E%20%5B%20-x%20%2Fusr%2Fbin%2Flsof%20%5D%20%26%26%20%2Fusr%2Fbin%2Flsof%20-w%20-l%20%2Bd%20%22%2Fvar%2Flib%2Fphp5%22%20-F0%20%7C%20sed%0A%3E%20-zne%20%22s%2F%5En%2F%2Fp%22%20%7C%20xargs%20-0i%20echo%20touch%20-c%20-h%20%22%27%7B%7D%27%22%0A%3E%20%0A%3E%20touch%20-c%20-h%20%27%2Fvar%2Flib%2Fphp5%2Fxxx%5C%27%0A%3E%20touch%20-c%20-h%20%27n%2Fvar%2Flib%2Fphp5%2Fpasswd%27%0A%3E%20%0A%3E%20Right%3F%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20Ondrej%0A%3E%20%0A%3E%20On%20Wed%2C%20Oct%2022%2C%202014%2C%20at%2015%3A14%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20Control%3A%20tags%20-1%20%2Bpending%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2011%3A33%2C%20Ond%C5%99ej%20Sur%C3%BD%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2011%3A16%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20On%20Tue%2C%20Oct%2021%2C%202014%2C%20at%2010%3A55%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20TL%3BDR%3A%20%22s%2Ftouch%20-c%2Ftouch%20-c%20-h%2F%22%2C%20right%3F%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20This%20will%20fix%20it%20for%20arbitrary%20symlinks%2C%20the%20only%20remaining%20issues%20would%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20be%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20a%29%20keeping%20open%20a%20file%20%22..%20xxxx%22%2C%20which%20will%20update%20the%20parent%20directory%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20modification%20time.%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20Which%20parent%20directory%3F%20The%20session%20dir%20or%20the%20symlink%20targe%20parent%0A%3E%20%3E%20%3E%20%3E%20%3E%20%3E%20directory%3F%0A%3E%20%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20%3E%20The%20%2Fvar%2Flib%20directory%3A%20Since%20the%20the%20parsing%20of%20the%20lsof%20output%20is%0A%3E%20%3E%20%3E%20%3E%20%3E%20broken%20%28awk%20uses%20%22%249%22%29%2C%20an%20open%20file%20%22..%20xxxx%22%20will%20cause%20touch%20-c%0A%3E%20%3E%20%3E%20%3E%20%3E%20%22%2Fvar%2Flib%2Fphp5%2F..%22%20without%20involving%20any%20symlinks.%0A%3E%20%3E%20%3E%20%3E%0A%3E%20%3E%20%3E%20%3E%20I%20see...%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20Thanks%20for%20the%20analysis%2C%20while%20the%20impact%20is%20very%20low%2C%20it%27s%20worth%0A%3E%20%3E%20%3E%20updating.%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20%3E%20%5B%20-x%20%2Fusr%2Fbin%2Flsof%20%5D%20%26%26%20%2Fusr%2Fbin%2Flsof%20-w%20-l%20%2Bd%20%22%24%7B1%7D%22%20-Fn%20%7C%20grep%20-E%20%22%5En%22%0A%3E%20%3E%20%3E%20%3E%20%7C%20cut%20-b%202-%20%7C%20xargs%20-i%20touch%20-c%20-h%20%7B%7D%0A%3E%20%3E%20%3E%20%0A%3E%20%3E%20%3E%20This%20change%20will%20be%20included%20in%20next%20wheezy%20update%20of%20PHP.%0A%3E%20%3E%20%0A%3E%20%3E%20No%2C%20this%20seems%20not%20to%20solve%20it%20%28I%20hope%20I%20haven%27t%20screwed%20something%20up%0A%3E%20%3E%20while%20testing%29%2C%20consider%20the%20sequence%20%28PID%20ordering%20is%20important%21%29%3A%0A%3E%20%3E%20%0A%3E%20%3E%20mkdir%20-p%20%24%27%2Fvar%2Flib%2Fphp5%2Fxxx%5Cn%2Fvar%2Flib%27%0A%3E%20%3E%20ln%20-s%20%2Fetc%20%24%27%2Fvar%2Flib%2Fphp5%2Fxxx%5Cn%2Fvar%2Flib%2Fphp5%27%0A%3E%20%3E%20sleep%201000%20%3E%20%27%2Fvar%2Flib%2Fphp5%2Fxxx%5C%27%20%26%0A%3E%20%3E%20sleep%201000%20%3E%20%2Fvar%2Flib%2Fphp5%2Fpasswd%20%26%0A%3E%20%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ondrej%40sury.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ondřej Surý &lt;ondrej@sury.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;, 766147@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [php-maint] Bug#766147: php5-common: session cleanup can be misused
 to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 22 Oct 2014 16:33:41 +0200</div>
</div>
<pre class="message">This should then fix even your case...

[ -x /usr/bin/lsof ] &amp;&amp; /usr/bin/lsof -w -l +d &quot;/var/lib/php5&quot; -F0 | sed
-zne &quot;s/^n//p&quot; | xargs -0i echo touch -c -h &quot;&#39;{}&#39;&quot;

touch -c -h &#39;/var/lib/php5/xxx\&#39;
touch -c -h &#39;n/var/lib/php5/passwd&#39;

Right?

Cheers,
Ondrej

On Wed, Oct 22, 2014, at 15:14, Fiedler Roman wrote:
&gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; 
&gt; &gt; Control: tags -1 +pending
&gt; &gt; 
&gt; &gt; On Tue, Oct 21, 2014, at 11:33, Ondřej Surý wrote:
&gt; &gt; &gt; On Tue, Oct 21, 2014, at 11:16, Fiedler Roman wrote:
&gt; &gt; &gt; &gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; On Tue, Oct 21, 2014, at 10:55, Fiedler Roman wrote:
&gt; &gt; &gt; &gt; &gt; &gt; &gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; &gt; &gt; Hi,
&gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; &gt; &gt; TL;DR: &quot;s/touch -c/touch -c -h/&quot;, right?
&gt; &gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; &gt; This will fix it for arbitrary symlinks, the only remaining issues would
&gt; &gt; &gt; &gt; &gt; &gt; be
&gt; &gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; &gt; a) keeping open a file &quot;.. xxxx&quot;, which will update the parent directory
&gt; &gt; &gt; &gt; &gt; &gt; modification time.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Which parent directory? The session dir or the symlink targe parent
&gt; &gt; &gt; &gt; &gt; directory?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; The /var/lib directory: Since the the parsing of the lsof output is
&gt; &gt; &gt; &gt; broken (awk uses &quot;$9&quot;), an open file &quot;.. xxxx&quot; will cause touch -c
&gt; &gt; &gt; &gt; &quot;/var/lib/php5/..&quot; without involving any symlinks.
&gt; &gt; &gt;
&gt; &gt; &gt; I see...
&gt; &gt; 
&gt; &gt; Thanks for the analysis, while the impact is very low, it&#39;s worth
&gt; &gt; updating.
&gt; &gt; 
&gt; &gt; &gt; [ -x /usr/bin/lsof ] &amp;&amp; /usr/bin/lsof -w -l +d &quot;${1}&quot; -Fn | grep -E &quot;^n&quot;
&gt; &gt; &gt; | cut -b 2- | xargs -i touch -c -h {}
&gt; &gt; 
&gt; &gt; This change will be included in next wheezy update of PHP.
&gt; 
&gt; No, this seems not to solve it (I hope I haven&#39;t screwed something up
&gt; while testing), consider the sequence (PID ordering is important!):
&gt; 
&gt; mkdir -p $&#39;/var/lib/php5/xxx\n/var/lib&#39;
&gt; ln -s /etc $&#39;/var/lib/php5/xxx\n/var/lib/php5&#39;
&gt; sleep 1000 &gt; &#39;/var/lib/php5/xxx\&#39; &amp;
&gt; sleep 1000 &gt; /var/lib/php5/passwd &amp;
&gt; 
&gt; Even touch -h does not help here, only kernel symlink protection prevents
&gt; damage.
&gt; 
&gt; But maybe this is a problem with xargs usage? If it is an xargs-bug this
&gt; would have a much broader scope, more another topic for security@d.
&gt; 
&gt; &gt; &gt; JFTR jessie&amp;sid has a new script that takes a different approach and
&gt; &gt; &gt; might suffer from the same bug if you manage to open a file in
&gt; &gt; &gt; /var/lib/php5/sessions/ with active php5 process.
&gt; &gt; 
&gt; &gt; If you find a similar vulnerability in the new session script, please
&gt; &gt; open a new bug.
&gt; 
&gt; Looking at the new script, I guess that it should be possible for any
&gt; user allowed to write to sessions to update any file he has read access
&gt; to it. But of course, it is not so simple as with old script.
&gt; 
&gt; To proof this, I would have to prepare a machine with sid (unless you
&gt; have one ready with remote SSH for testing)
&gt; Email had 1 attachment:
&gt; + smime.p7s
&gt;   8k (application/pkcs7-signature)


-- 
Ondřej Surý &lt;ondrej@sury.org&gt;
Knot DNS (<a href="https://www.knot-dns.cz/">https://www.knot-dns.cz/</a>) – a high-performance DNS server


</pre>

<div class="infmessage"><hr><p>
<a name="48"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413988583 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Wed, 22 Oct 2014 14:36:23 GMT) (<a href="bugreport.cgi?bug=766147;msg=49">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=49">mbox</a>, <a href="#48">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="50"></a>
<!-- request_addr: Ondřej Surý &lt;ondrej@sury.org&gt; -->
<!-- time:1413988583 -->
<strong>Acknowledgement sent</strong>
to <code>Ondřej Surý &lt;ondrej@sury.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Wed, 22 Oct 2014 14:36:23 GMT) (<a href="bugreport.cgi?bug=766147;msg=51">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=51">mbox</a>, <a href="#50">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="52"></a><a name="msg52"></a><a href="#52">Message #52</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=52">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=52">mbox</a>, <a href="mailto:766147@bugs.debian.org?subject=Re%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%20misused%0A%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled&amp;References=%3C2ECE9D9EEF1F524185270138AE23265947D25545%40S0MSMAIL112.arc.local%3E%0A%20%3C1413988554.992650.182019861.771A4B47%40webmail.messagingengine.com%3E&amp;body=On%20Wed%2C%2022%20Oct%202014%2016%3A35%3A54%20%2B0200%20%3D%3FUTF-8%3FQ%3FOnd%3DC5%3D99ej%3D20Sur%3DC3%3DBD%3F%3D%20%3Condrej%40sury.org%3E%20wrote%3A%0A%3E%20On%20Wed%2C%20Oct%2022%2C%202014%2C%20at%2015%3A14%2C%20Fiedler%20Roman%20wrote%3A%0A%3E%20%3E%20To%20proof%20this%2C%20I%20would%20have%20to%20prepare%20a%20machine%20with%20sid%20%28unless%20you%0A%3E%20%3E%20have%20one%20ready%20with%20remote%20SSH%20for%20testing%29%0A%3E%20%0A%3E%20You%20don%27t%20really%20need%20a%20sid%20machine%2C%20just%20copy%20the%20script%20from%20the%0A%3E%20package.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20--%20%0A%3E%20Ond%C5%99ej%20Sur%C3%BD%20%3Condrej%40sury.org%3E%0A%3E%20Knot%20DNS%20%28https%3A%2F%2Fwww.knot-dns.cz%2F%29%20%E2%80%93%20a%20high-performance%20DNS%20server%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C1413988554.992650.182019861.771A4B47%40webmail.messagingengine.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ondrej%40sury.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ondřej Surý &lt;ondrej@sury.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;, 766147@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [php-maint] Bug#766147: php5-common: session cleanup can be misused
 to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 22 Oct 2014 16:35:54 +0200</div>
</div>
<pre class="message">On Wed, Oct 22, 2014, at 15:14, Fiedler Roman wrote:
&gt; To proof this, I would have to prepare a machine with sid (unless you
&gt; have one ready with remote SSH for testing)

You don&#39;t really need a sid machine, just copy the script from the
package.

Cheers,
-- 
Ondřej Surý &lt;ondrej@sury.org&gt;
Knot DNS (<a href="https://www.knot-dns.cz/">https://www.knot-dns.cz/</a>) – a high-performance DNS server


</pre>

<div class="infmessage"><hr><p>
<a name="53"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1413994150 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Wed, 22 Oct 2014 16:09:10 GMT) (<a href="bugreport.cgi?bug=766147;msg=54">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=54">mbox</a>, <a href="#53">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="55"></a>
<!-- request_addr: Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt; -->
<!-- time:1413994150 -->
<strong>Acknowledgement sent</strong>
to <code>Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Wed, 22 Oct 2014 16:09:10 GMT) (<a href="bugreport.cgi?bug=766147;msg=56">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=56">mbox</a>, <a href="#55">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="57"></a><a name="msg57"></a><a href="#57">Message #57</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=57">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=57">mbox</a>, <a href="mailto:766147@bugs.debian.org?References=%3C2ECE9D9EEF1F524185270138AE23265947D2572E%40S0MSMAIL112.arc.local%3E&amp;subject=Re%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%0A%20misused%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled&amp;In-Reply-To=%3C2ECE9D9EEF1F524185270138AE23265947D2572E%40S0MSMAIL112.arc.local%3E&amp;body=On%20Wed%2C%2022%20Oct%202014%2016%3A03%3A51%20%2B0000%20Fiedler%20Roman%20%3CRoman.Fiedler%40ait.ac.at%3E%20wrote%3A%0A%3E%20%3E%20Von%3A%20Ond%C5%99ej%20Sur%C3%BD%20%5Bmailto%3Aondrej%40sury.org%5D%0A%3E%20%3E%20%0A%3E%20%3E%20This%20should%20then%20fix%20even%20your%20case...%0A%3E%20%3E%20%0A%3E%20%3E%20%5B%20-x%20%2Fusr%2Fbin%2Flsof%20%5D%20%26%26%20%2Fusr%2Fbin%2Flsof%20-w%20-l%20%2Bd%20%22%2Fvar%2Flib%2Fphp5%22%20-F0%20%7C%20sed%0A%3E%20%3E%20-zne%20%22s%2F%5En%2F%2Fp%22%20%7C%20xargs%20-0i%20echo%20touch%20-c%20-h%20%22%27%7B%7D%27%22%0A%3E%20%3E%20%0A%3E%20%3E%20touch%20-c%20-h%20%27%2Fvar%2Flib%2Fphp5%2Fxxx%5C%27%0A%3E%20%3E%20touch%20-c%20-h%20%27n%2Fvar%2Flib%2Fphp5%2Fpasswd%27%0A%3E%20%0A%3E%20Looks%20really%20good%2C%20I%27m%20at%20my%20wits%20end%20with%20any%20more%20comments%2Fimprovements.%0A%3E%20%0A%3E%20Only%20things%20I%20could%20think%20of%0A%3E%20%0A%3E%20%2A%20strange%20behaviour%20with%20multibyte%20encodings%20%28never%20dealt%20with%20that%20on%20C%20level%29%0A%3E%20%2A%20lsof%20peculiarities%20I%20did%20not%20notice%20till%20now%20%28e.g.%20races%29%0A%3E%20%0A%3E%20%5BSnip%5D%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=Roman.Fiedler%40ait.ac.at" alt="">
<div class="header"><span class="headerfield">From:</span> Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</div>
<div class="header"><span class="headerfield">To:</span> Ondřej Surý &lt;ondrej@sury.org&gt;,
        &quot;766147@bugs.debian.org&quot; &lt;766147@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [php-maint] Bug#766147: php5-common: session cleanup can be
 misused to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 22 Oct 2014 16:03:51 +0000</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=766147;msg=57">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">&gt; Von: Ondřej Surý [mailto:ondrej@sury.org]
&gt; 
&gt; This should then fix even your case...
&gt; 
&gt; [ -x /usr/bin/lsof ] &amp;&amp; /usr/bin/lsof -w -l +d &quot;/var/lib/php5&quot; -F0 | sed
&gt; -zne &quot;s/^n//p&quot; | xargs -0i echo touch -c -h &quot;&#39;{}&#39;&quot;
&gt; 
&gt; touch -c -h &#39;/var/lib/php5/xxx\&#39;
&gt; touch -c -h &#39;n/var/lib/php5/passwd&#39;

Looks really good, I&#39;m at my wits end with any more comments/improvements.

Only things I could think of

* strange behaviour with multibyte encodings (never dealt with that on C level)
* lsof peculiarities I did not notice till now (e.g. races)

[Snip]
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=766147;filename=smime.p7s;msg=57">smime.p7s</a> (application/pkcs7-signature, attachment)]</pre>

<div class="msgreceived"><hr><p>
<a name="58"></a>
<!-- command:found -->
<!-- requester: Ondřej Surý &lt;ondrej@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1416386729 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;php5/5.4.4-14+deb7u14&#39;,
                                    &#39;php5/5.4.35-0deb7u2&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;php5/5.4.4-14+deb7u14&#39;
                                  ]
            };
-->
<strong>Marked as found in versions php5/5.4.35-0deb7u2.</strong>
Request was from <code>Ondřej Surý &lt;ondrej@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 19 Nov 2014 08:45:29 GMT) (<a href="bugreport.cgi?bug=766147;msg=59">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=59">mbox</a>, <a href="#58">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="60"></a>
<!-- command:fixed -->
<!-- requester: Ondřej Surý &lt;ondrej@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1416386730 -->
<!-- new_data:
$new_data = {
              &#39;fixed_versions&#39; =&gt; [
                                    &#39;php5/5.4.35-0deb7u1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;fixed_versions&#39; =&gt; []
            };
-->
<strong>Marked as fixed in versions php5/5.4.35-0deb7u1.</strong>
Request was from <code>Ondřej Surý &lt;ondrej@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 19 Nov 2014 08:45:30 GMT) (<a href="bugreport.cgi?bug=766147;msg=61">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=61">mbox</a>, <a href="#60">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="62"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1416389773 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Wed, 19 Nov 2014 09:36:13 GMT) (<a href="bugreport.cgi?bug=766147;msg=63">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=63">mbox</a>, <a href="#62">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="64"></a>
<!-- request_addr: Bernard Massot &lt;bmassot@free.fr&gt; -->
<!-- time:1416389773 -->
<strong>Acknowledgement sent</strong>
to <code>Bernard Massot &lt;bmassot@free.fr&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Wed, 19 Nov 2014 09:36:13 GMT) (<a href="bugreport.cgi?bug=766147;msg=65">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=65">mbox</a>, <a href="#64">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="66"></a><a name="msg66"></a><a href="#66">Message #66</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=66">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=66">mbox</a>, <a href="mailto:766147@bugs.debian.org?body=On%20Wed%2C%2019%20Nov%202014%2010%3A33%3A21%20%2B0100%20Bernard%20Massot%20%3Cbmassot%40free.fr%3E%20wrote%3A%0A%3E%20Le%2021%2F10%2F2014%20%C3%A0%2012%3A06%2C%20Ond%C5%99ej%20Sur%C3%BD%20a%20%C3%A9crit%20%3A%0A%3E%20%3E%20This%20change%20will%20be%20included%20in%20next%20wheezy%20update%20of%20PHP.%0A%3E%20Debian%20Wheezy%20has%20Sed%204.2.1%2C%20whereas%20%22-z%22%20option%20was%20added%20in%20Sed%204.2.2.%0A%3E%20As%20a%20consequence%20%2Fusr%2Flib%2Fphp5%2Fsessionclean%20is%20broken%20on%20Debian%20Stable%21%0A%3E%20%0A%3E%20Please%20fix.%0A%3E%20--%20%0A%3E%20Bernard%20Massot%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20141119093321.GA11332%40bernard%3E&amp;subject=Re%3A%20%5Bphp-maint%5D%20Bug%23766147%3A%20php5-common%3A%20session%20cleanup%20can%20be%0A%20misused%20to%20change%20modification%20time%20of%20arbitrary%20files%20to%20%22now%22%20when%20symlink%0A%20protection%20not%20enabled&amp;References=%3C2ECE9D9EEF1F524185270138AE23265947D24985%40S0MSMAIL112.arc.local%3E%0A%20%3C1413881384.489192.181434513.466A2998%40webmail.messagingengine.com%3E%0A%20%3C2ECE9D9EEF1F524185270138AE23265947D24A82%40S0MSMAIL112.arc.local%3E%0A%20%3C1413882545.496444.181442249.74819DDD%40webmail.messagingengine.com%3E%0A%20%3C2ECE9D9EEF1F524185270138AE23265947D24AD4%40S0MSMAIL112.arc.local%3E%0A%20%3C1413884028.504257.181448337.207D0FE9%40webmail.messagingengine.com%3E%0A%20%3C1413885993.514556.181461485.6B4421D3%40webmail.messagingengine.com%3E%0A%20%3C20141119093321.GA11332%40bernard%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=bmassot%40free.fr" alt="">
<div class="header"><span class="headerfield">From:</span> Bernard Massot &lt;bmassot@free.fr&gt;</div>
<div class="header"><span class="headerfield">To:</span> 766147@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [php-maint] Bug#766147: php5-common: session cleanup can be
 misused to change modification time of arbitrary files to &quot;now&quot; when symlink
 protection not enabled</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 19 Nov 2014 10:33:21 +0100</div>
</div>
<pre class="message">Le 21/10/2014 à 12:06, Ondřej Surý a écrit :
&gt; This change will be included in next wheezy update of PHP.
Debian Wheezy has Sed 4.2.1, whereas &quot;-z&quot; option was added in Sed 4.2.2.
As a consequence /usr/lib/php5/sessionclean is broken on Debian Stable!

Please fix.
-- 
Bernard Massot


</pre>

<div class="msgreceived"><hr><p>
<a name="67"></a>
<!-- command:fixed -->
<!-- requester: Yves-Alexis Perez &lt;corsac@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1416394132 -->
<!-- new_data:
$new_data = {
              &#39;fixed_versions&#39; =&gt; [
                                    &#39;php5/5.4.35-0deb7u1&#39;,
                                    &#39;5.4.35-0deb7u2&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;fixed_versions&#39; =&gt; [
                                    &#39;php5/5.4.35-0deb7u1&#39;
                                  ]
            };
-->
<strong>Marked as fixed in versions 5.4.35-0deb7u2.</strong>
Request was from <code>Yves-Alexis Perez &lt;corsac@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 19 Nov 2014 10:48:52 GMT) (<a href="bugreport.cgi?bug=766147;msg=68">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=68">mbox</a>, <a href="#67">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="69"></a>
<!-- command:found -->
<!-- requester: Yves-Alexis Perez &lt;corsac@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1416394133 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;php5/5.4.4-14+deb7u14&#39;,
                                    &#39;php5/5.4.35-0deb7u2&#39;,
                                    &#39;php5/5.4.35-0+deb7u1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;php5/5.4.4-14+deb7u14&#39;,
                                    &#39;php5/5.4.35-0deb7u2&#39;
                                  ]
            };
-->
<strong>Marked as found in versions php5/5.4.35-0+deb7u1.</strong>
Request was from <code>Yves-Alexis Perez &lt;corsac@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 19 Nov 2014 10:48:53 GMT) (<a href="bugreport.cgi?bug=766147;msg=70">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=70">mbox</a>, <a href="#69">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="71"></a>
<!-- command:merge -->
<!-- requester: Yves-Alexis Perez &lt;corsac@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1416394137 -->
<!-- new_data:
$new_data = {
              &#39;mergedwith&#39; =&gt; &#39;770105 770108 770150 770151 770156 770164&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;mergedwith&#39; =&gt; &#39;&#39;
            };
-->
<strong>Merged <a href="bugreport.cgi?bug=766147">766147</a> <a href="bugreport.cgi?bug=770105">770105</a> <a href="bugreport.cgi?bug=770108">770108</a> <a href="bugreport.cgi?bug=770150">770150</a> <a href="bugreport.cgi?bug=770151">770151</a> <a href="bugreport.cgi?bug=770156">770156</a> <a href="bugreport.cgi?bug=770164">770164</a></strong>
Request was from <code>Yves-Alexis Perez &lt;corsac@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 19 Nov 2014 10:48:57 GMT) (<a href="bugreport.cgi?bug=766147;msg=72">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=72">mbox</a>, <a href="#71">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="73"></a>
<!-- command:merge -->
<!-- requester: Yves-Alexis Perez &lt;corsac@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1416394444 -->
<!-- new_data:
$new_data = {
              &#39;mergedwith&#39; =&gt; &#39;&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;mergedwith&#39; =&gt; &#39;770105 770108 770150 770151 770156 770164&#39;
            };
-->
<strong>Disconnected #766147 from all other report(s).</strong>
Request was from <code>Yves-Alexis Perez &lt;corsac@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 19 Nov 2014 10:54:04 GMT) (<a href="bugreport.cgi?bug=766147;msg=74">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=74">mbox</a>, <a href="#73">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="75"></a>
<!-- command:fixed -->
<!-- requester: Yves-Alexis Perez &lt;corsac@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1416394990 -->
<!-- new_data:
$new_data = {
              &#39;fixed_versions&#39; =&gt; [
                                    &#39;5.4.35-0deb7u2&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;fixed_versions&#39; =&gt; [
                                    &#39;php5/5.4.35-0deb7u1&#39;,
                                    &#39;5.4.35-0deb7u2&#39;
                                  ]
            };
-->
<strong>No longer marked as fixed in versions php5/5.4.35-0deb7u1.</strong>
Request was from <code>Yves-Alexis Perez &lt;corsac@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 19 Nov 2014 11:03:10 GMT) (<a href="bugreport.cgi?bug=766147;msg=76">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=76">mbox</a>, <a href="#75">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="77"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt; -->
<!-- time:1416395525 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#766147</code>; Package <code>php5-common</code>.
 (Wed, 19 Nov 2014 11:12:05 GMT) (<a href="bugreport.cgi?bug=766147;msg=78">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=78">mbox</a>, <a href="#77">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="79"></a>
<!-- request_addr: Ondřej Surý &lt;ondrej@sury.org&gt; -->
<!-- time:1416395525 -->
<strong>Acknowledgement sent</strong>
to <code>Ondřej Surý &lt;ondrej@sury.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;</code>.
 (Wed, 19 Nov 2014 11:12:05 GMT) (<a href="bugreport.cgi?bug=766147;msg=80">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=80">mbox</a>, <a href="#79">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="81"></a><a name="msg81"></a><a href="#81">Message #81</a> received at 766147@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=81">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=81">mbox</a>, <a href="mailto:766147@bugs.debian.org?References=%3C1416395328.3974479.192834061.3C7D0661%40webmail.messagingengine.com%3E&amp;subject=Fwd%3A%20Re%3A%20Fixed%20php5%20package%20for%20CVE-2014-3710&amp;In-Reply-To=%3C1416395328.3974479.192834061.3C7D0661%40webmail.messagingengine.com%3E&amp;body=On%20Wed%2C%2019%20Nov%202014%2012%3A08%3A48%20%2B0100%20%3D%3FUTF-8%3FQ%3FOnd%3DC5%3D99ej%3D20Sur%3DC3%3DBD%3F%3D%20%3Condrej%40sury.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20this%20is%20suggestion%20from%20Stefan%20Fritsch%20how%20to%20improve%20the%20security%20of%0A%3E%20the%20script%20even%20without%20%22sed%20-z%22.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20--%20%0A%3E%20Ond%C5%99ej%20Sur%C3%BD%20%3Condrej%40sury.org%3E%0A%3E%20Knot%20DNS%20%28https%3A%2F%2Fwww.knot-dns.cz%2F%29%20%E2%80%93%20a%20high-performance%20DNS%20server%0A%3E%20%0A%3E%20-----%20Original%20message%20-----%0A%3E%20From%3A%20Stefan%20Fritsch%20%3Csf%40sfritsch.de%3E%0A%3E%20To%3A%20Ond%C5%99ej%20Sur%C3%BD%20%3Condrej%40sury.org%3E%0A%3E%20Cc%3A%20Debian%20Security%20Team%20%3Cteam%40security.debian.org%3E%0A%3E%20Subject%3A%20Re%3A%20Fixed%20php5%20package%20for%20CVE-2014-3710%0A%3E%20Date%3A%20Wed%2C%2019%20Nov%202014%2012%3A00%3A55%20%2B0100%20%28CET%29%0A%3E%20%0A%3E%20On%20Wed%2C%2019%20Nov%202014%2C%20Ond%C5%99ej%20Sur%C3%BD%20wrote%3A%0A%3E%20%3E%20-%5B%20-x%20%2Fusr%2Fbin%2Flsof%20%5D%20%26%26%20%2Fusr%2Fbin%2Flsof%20-w%20-l%20%2Bd%20%22%24%7B1%7D%22%20-F0%20%7C%20sed%20-zne%0A%3E%20%3E%20%22s%2F%5En%2F%2Fp%22%20%7C%20xargs%20-0i%20echo%20touch%20-c%20-h%20%22%27%7B%7D%27%22%0A%3E%20%3E%20%2B%5B%20-x%20%2Fusr%2Fbin%2Flsof%20%5D%20%26%26%20%2Fusr%2Fbin%2Flsof%20-w%20-l%20%2Bd%20%22%24%7B1%7D%22%20%7C%20awk%20--%20%27%7B%20if%0A%3E%20%3E%20%28NR%20%3E%201%29%20%7B%20print%20%249%3B%20%7D%20%7D%27%20%7C%20xargs%20-i%20touch%20-c%20%7B%7D%0A%3E%20%0A%3E%20What%20is%20the%20echo%20in%20there%20for%3F%20That%20seems%20wrong.%20Also%20escaping%20arguments%20%0A%3E%20with%20%27%20%27%20is%20insecure%2C%20filenames%20may%20contain%20single%20quotes%2C%20too.%20Much%20%0A%3E%20better%20to%20let%20xargs%20do%20the%20splitting%20of%20the%20args.%0A%3E%20%0A%3E%20You%20can%20use%20perl%20to%20replace%20the%20sed%20-z%2C%20though%3A%0A%3E%20%0A%3E%20%5B%20-x%20%2Fusr%2Fbin%2Flsof%20%5D%20%26%26%20%2Fusr%2Fbin%2Flsof%20-w%20-l%20%2Bd%20%22%24%7B1%7D%22%20-F0%20%7C%20perl%20-0%20-n%0A%3E%20-e%20%27s%2F%5En%2F%2F%20and%20print%27%7Cxargs%20-0%20-r%20touch%20-c%20-h%0A%3E%20%0A%3E%20xargs%20-r%3A%20If%20%20the%20%20standard%20%20input%20does%20not%20contain%20any%20nonblanks%2C%20do%0A%3E%20not%20%0A%3E%20run%20the%20command.%0A%3E%20%0A%3E%20xargs%20-i%20is%20not%20neessary%20because%20the%20args%20are%20at%20the%20end%20of%20the%20command.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20Stefan%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ondrej%40sury.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ondřej Surý &lt;ondrej@sury.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 766147@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Fwd: Re: Fixed php5 package for CVE-2014-3710</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 19 Nov 2014 12:08:48 +0100</div>
</div>
<pre class="message">Hi,

this is suggestion from Stefan Fritsch how to improve the security of
the script even without &quot;sed -z&quot;.

Cheers,
-- 
Ondřej Surý &lt;ondrej@sury.org&gt;
Knot DNS (<a href="https://www.knot-dns.cz/">https://www.knot-dns.cz/</a>) – a high-performance DNS server

----- Original message -----
From: Stefan Fritsch &lt;sf@sfritsch.de&gt;
To: Ondřej Surý &lt;ondrej@sury.org&gt;
Cc: Debian Security Team &lt;team@security.debian.org&gt;
Subject: Re: Fixed php5 package for <a href="https://security-tracker.debian.org/tracker/CVE-2014-3710">CVE-2014-3710</a>
Date: Wed, 19 Nov 2014 12:00:55 +0100 (CET)

On Wed, 19 Nov 2014, Ondřej Surý wrote:
&gt; -[ -x /usr/bin/lsof ] &amp;&amp; /usr/bin/lsof -w -l +d &quot;${1}&quot; -F0 | sed -zne
&gt; &quot;s/^n//p&quot; | xargs -0i echo touch -c -h &quot;&#39;{}&#39;&quot;
&gt; +[ -x /usr/bin/lsof ] &amp;&amp; /usr/bin/lsof -w -l +d &quot;${1}&quot; | awk -- &#39;{ if
&gt; (NR &gt; 1) { print $9; } }&#39; | xargs -i touch -c {}

What is the echo in there for? That seems wrong. Also escaping arguments 
with &#39; &#39; is insecure, filenames may contain single quotes, too. Much 
better to let xargs do the splitting of the args.

You can use perl to replace the sed -z, though:

[ -x /usr/bin/lsof ] &amp;&amp; /usr/bin/lsof -w -l +d &quot;${1}&quot; -F0 | perl -0 -n
-e &#39;s/^n// and print&#39;|xargs -0 -r touch -c -h

xargs -r: If  the  standard  input does not contain any nonblanks, do
not 
run the command.

xargs -i is not neessary because the args are at the end of the command.

Cheers,
Stefan


</pre>

<div class="msgreceived"><hr><p>
<a name="82"></a>
<!-- request_addr: Ondřej Surý &lt;ondrej@debian.org&gt; -->
<!-- time:1420138265 -->
<strong>Reply sent</strong>
to <code>Ondřej Surý &lt;ondrej@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Thu, 01 Jan 2015 18:51:05 GMT) (<a href="bugreport.cgi?bug=766147;msg=83">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=83">mbox</a>, <a href="#82">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="84"></a>
<!-- request_addr: Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt; -->
<!-- time:1420138265 -->
<strong>Notification sent</strong>
to <code>Fiedler Roman &lt;Roman.Fiedler@ait.ac.at&gt;</code>:<br>
Bug acknowledged by developer.
 (Thu, 01 Jan 2015 18:51:05 GMT) (<a href="bugreport.cgi?bug=766147;msg=85">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=85">mbox</a>, <a href="#84">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="86"></a><a name="msg86"></a><a href="#86">Message #86</a> received at 766147-close@bugs.debian.org (<a href="bugreport.cgi?bug=766147;msg=86">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=86">mbox</a>, <a href="mailto:766147@bugs.debian.org?References=%3CE1Y6km4-0003oA-55%40franck.debian.org%3E&amp;subject=Re%3A%20Bug%23766147%3A%20fixed%20in%20php5%205.4.35-0%2Bdeb7u1&amp;In-Reply-To=%3CE1Y6km4-0003oA-55%40franck.debian.org%3E&amp;body=On%20Thu%2C%2001%20Jan%202015%2018%3A47%3A08%20%2B0000%20%3D%3Futf-8%3Fb%3FT25kxZllaiBTdXLDvQ%3D%3D%3F%3D%20%3Condrej%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20php5%0A%3E%20Source-Version%3A%205.4.35-0%2Bdeb7u1%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20php5%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20766147%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Ond%C5%99ej%20Sur%C3%BD%20%3Condrej%40debian.org%3E%20%28supplier%20of%20updated%20php5%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Tue%2C%2018%20Nov%202014%2006%3A34%3A02%20%2B0100%0A%3E%20Source%3A%20php5%0A%3E%20Binary%3A%20php5%20php5-common%20libapache2-mod-php5%20libapache2-mod-php5filter%20php5-cgi%20php5-cli%20php5-fpm%20libphp5-embed%20php5-dev%20php5-dbg%20php-pear%20php5-curl%20php5-enchant%20php5-gd%20php5-gmp%20php5-imap%20php5-interbase%20php5-intl%20php5-ldap%20php5-mcrypt%20php5-mysql%20php5-mysqlnd%20php5-odbc%20php5-pgsql%20php5-pspell%20php5-recode%20php5-snmp%20php5-sqlite%20php5-sybase%20php5-tidy%20php5-xmlrpc%20php5-xsl%0A%3E%20Architecture%3A%20source%20all%20amd64%0A%3E%20Version%3A%205.4.35-0%2Bdeb7u1%0A%3E%20Distribution%3A%20wheezy-security%0A%3E%20Urgency%3A%20high%0A%3E%20Maintainer%3A%20Debian%20PHP%20Maintainers%20%3Cpkg-php-maint%40lists.alioth.debian.org%3E%0A%3E%20Changed-By%3A%20Ond%C5%99ej%20Sur%C3%BD%20%3Condrej%40debian.org%3E%0A%3E%20Description%3A%20%0A%3E%20%20libapache2-mod-php5%20-%20server-side%2C%20HTML-embedded%20scripting%20language%20%28Apache%202%20module%29%0A%3E%20%20libapache2-mod-php5filter%20-%20server-side%2C%20HTML-embedded%20scripting%20language%20%28apache%202%20filter%20mo%0A%3E%20%20libphp5-embed%20-%20HTML-embedded%20scripting%20language%20%28Embedded%20SAPI%20library%29%0A%3E%20%20php-pear%20%20%20-%20PEAR%20-%20PHP%20Extension%20and%20Application%20Repository%0A%3E%20%20php5%20%20%20%20%20%20%20-%20server-side%2C%20HTML-embedded%20scripting%20language%20%28metapackage%29%0A%3E%20%20php5-cgi%20%20%20-%20server-side%2C%20HTML-embedded%20scripting%20language%20%28CGI%20binary%29%0A%3E%20%20php5-cli%20%20%20-%20command-line%20interpreter%20for%20the%20php5%20scripting%20language%0A%3E%20%20php5-common%20-%20Common%20files%20for%20packages%20built%20from%20the%20php5%20source%0A%3E%20%20php5-curl%20%20-%20CURL%20module%20for%20php5%0A%3E%20%20php5-dbg%20%20%20-%20Debug%20symbols%20for%20PHP5%0A%3E%20%20php5-dev%20%20%20-%20Files%20for%20PHP5%20module%20development%0A%3E%20%20php5-enchant%20-%20Enchant%20module%20for%20php5%0A%3E%20%20php5-fpm%20%20%20-%20server-side%2C%20HTML-embedded%20scripting%20language%20%28FPM-CGI%20binary%29%0A%3E%20%20php5-gd%20%20%20%20-%20GD%20module%20for%20php5%0A%3E%20%20php5-gmp%20%20%20-%20GMP%20module%20for%20php5%0A%3E%20%20php5-imap%20%20-%20IMAP%20module%20for%20php5%0A%3E%20%20php5-interbase%20-%20interbase%2Ffirebird%20module%20for%20php5%0A%3E%20%20php5-intl%20%20-%20internationalisation%20module%20for%20php5%0A%3E%20%20php5-ldap%20%20-%20LDAP%20module%20for%20php5%0A%3E%20%20php5-mcrypt%20-%20MCrypt%20module%20for%20php5%0A%3E%20%20php5-mysql%20-%20MySQL%20module%20for%20php5%0A%3E%20%20php5-mysqlnd%20-%20MySQL%20module%20for%20php5%20%28Native%20Driver%29%0A%3E%20%20php5-odbc%20%20-%20ODBC%20module%20for%20php5%0A%3E%20%20php5-pgsql%20-%20PostgreSQL%20module%20for%20php5%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ondrej%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Ondřej Surý &lt;ondrej@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 766147-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#766147: fixed in php5 5.4.35-0+deb7u1</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 01 Jan 2015 18:47:08 +0000</div>
</div>
<pre class="message">Source: php5
Source-Version: 5.4.35-0+deb7u1

We believe that the bug you reported is fixed in the latest version of
php5, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 766147@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Ondřej Surý &lt;ondrej@debian.org&gt; (supplier of updated php5 package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Tue, 18 Nov 2014 06:34:02 +0100
Source: php5
Binary: php5 php5-common libapache2-mod-php5 libapache2-mod-php5filter php5-cgi php5-cli php5-fpm libphp5-embed php5-dev php5-dbg php-pear php5-curl php5-enchant php5-gd php5-gmp php5-imap php5-interbase php5-intl php5-ldap php5-mcrypt php5-mysql php5-mysqlnd php5-odbc php5-pgsql php5-pspell php5-recode php5-snmp php5-sqlite php5-sybase php5-tidy php5-xmlrpc php5-xsl
Architecture: source all amd64
Version: 5.4.35-0+deb7u1
Distribution: wheezy-security
Urgency: high
Maintainer: Debian PHP Maintainers &lt;pkg-php-maint@lists.alioth.debian.org&gt;
Changed-By: Ondřej Surý &lt;ondrej@debian.org&gt;
Description: 
 libapache2-mod-php5 - server-side, HTML-embedded scripting language (Apache 2 module)
 libapache2-mod-php5filter - server-side, HTML-embedded scripting language (apache 2 filter mo
 libphp5-embed - HTML-embedded scripting language (Embedded SAPI library)
 php-pear   - PEAR - PHP Extension and Application Repository
 php5       - server-side, HTML-embedded scripting language (metapackage)
 php5-cgi   - server-side, HTML-embedded scripting language (CGI binary)
 php5-cli   - command-line interpreter for the php5 scripting language
 php5-common - Common files for packages built from the php5 source
 php5-curl  - CURL module for php5
 php5-dbg   - Debug symbols for PHP5
 php5-dev   - Files for PHP5 module development
 php5-enchant - Enchant module for php5
 php5-fpm   - server-side, HTML-embedded scripting language (FPM-CGI binary)
 php5-gd    - GD module for php5
 php5-gmp   - GMP module for php5
 php5-imap  - IMAP module for php5
 php5-interbase - interbase/firebird module for php5
 php5-intl  - internationalisation module for php5
 php5-ldap  - LDAP module for php5
 php5-mcrypt - MCrypt module for php5
 php5-mysql - MySQL module for php5
 php5-mysqlnd - MySQL module for php5 (Native Driver)
 php5-odbc  - ODBC module for php5
 php5-pgsql - PostgreSQL module for php5
 php5-pspell - pspell module for php5
 php5-recode - recode module for php5
 php5-snmp  - SNMP module for php5
 php5-sqlite - SQLite module for php5
 php5-sybase - Sybase / MS SQL Server module for php5
 php5-tidy  - tidy module for php5
 php5-xmlrpc - XML-RPC module for php5
 php5-xsl   - XSL module for php5
Closes: <a href="bugreport.cgi?bug=766147">766147</a> <a href="bugreport.cgi?bug=768309">768309</a> <a href="bugreport.cgi?bug=769127">769127</a>
Changes: 
 php5 (5.4.35-0+deb7u1) wheezy-security; urgency=high
 .
   [ Ondřej Surý ]
   * New upstream version 5.4.35
    + Core:
     - Fixed bug #68365 (zend_mm_heap corrupted after memory overflow in
       zend_hash_copy).
    + Fileinfo:
     - Fixed bug #68283 (fileinfo: out-of-bounds read in elf note
       headers). (<a href="https://security-tracker.debian.org/tracker/CVE-2014-3710">CVE-2014-3710</a>)
    + GMP:
     - Fixed bug #63595 (GMP memory management conflicts with other
       libraries using GMP).
    + PDO_pgsql:
     - Fixed bug #66584 (Segmentation fault on statement deallocation).
   * Fix SQL_DESC_OCTET_LENGTH not supported by ADS ODBC driver (PHP#68350)
     (Closes: #<a href="bugreport.cgi?bug=768309">768309</a>)
   * Fix ODBC not reading columns other than SQL_*CHAR correctly
     (PHP#68087) (Closes: #<a href="bugreport.cgi?bug=769127">769127</a>)
   * Improve resiliency against symlink attacks by spliting the file names
     with NULL character in the sessionclean script (Closes: #<a href="bugreport.cgi?bug=766147">766147</a>)
Checksums-Sha1: 
 c11640516131c0e190881ba010cced3e1d6346dc 4530 php5_5.4.35-0+deb7u1.dsc
 fb4e33f86d72d3b8b44e833b0a7fd8f84b45bd38 15335367 php5_5.4.35.orig.tar.gz
 bd66fe010050f9de8c0c0a2776fd7a776284d2b8 147954 php5_5.4.35-0+deb7u1.diff.gz
 ee2492de815075229df9757c0f19e31556237040 1024 php5_5.4.35-0+deb7u1_all.deb
 27bec447f4efd5270ca2b6df4262212f7e9eac2f 371846 php-pear_5.4.35-0+deb7u1_all.deb
 8d4650dfaca356b0e7bf7bc820bc43afe1892da3 620230 php5-common_5.4.35-0+deb7u1_amd64.deb
 4f367d6395c112b8aad2a4d6226625fdf3b2182a 2707484 libapache2-mod-php5_5.4.35-0+deb7u1_amd64.deb
 dc6a31ffb60d0e51fb2755930cb6044fd136ddcb 2706634 libapache2-mod-php5filter_5.4.35-0+deb7u1_amd64.deb
 e097c29c4e3bdea5e1bc126f5d0345f339034de4 5172268 php5-cgi_5.4.35-0+deb7u1_amd64.deb
 5e75d8c22c1bda8a92fb8715ac4996e8a899def0 2595144 php5-cli_5.4.35-0+deb7u1_amd64.deb
 ee859a7e3dc128086d5d34f01828f7f3ea758a47 2627620 php5-fpm_5.4.35-0+deb7u1_amd64.deb
 a268ed34f3938877fc1ec119f31de4fcdcc6d1c4 2704264 libphp5-embed_5.4.35-0+deb7u1_amd64.deb
 7da0194a591b0467be622b957e8f4c9ef8043299 501022 php5-dev_5.4.35-0+deb7u1_amd64.deb
 99924d1e2457c551a6a131685cff1b0c01f2bab4 16125890 php5-dbg_5.4.35-0+deb7u1_amd64.deb
 823b5ca829025e20fa69b8c5469bf73aae4c2c9c 29432 php5-curl_5.4.35-0+deb7u1_amd64.deb
 e326fc4d6706f1448d974d850a5a714b1c4344e9 9954 php5-enchant_5.4.35-0+deb7u1_amd64.deb
 97fa46693e3660b83f9a75ee3875d1c1bb288e00 35700 php5-gd_5.4.35-0+deb7u1_amd64.deb
 9c308276331063cf6770bd3da2783bfdc199682f 17010 php5-gmp_5.4.35-0+deb7u1_amd64.deb
 d60c0e7deb2c4940e88ff36c332d208a2c3c7ad9 35602 php5-imap_5.4.35-0+deb7u1_amd64.deb
 56a65ab725267b61c9933f488851b3cf9d5065eb 49638 php5-interbase_5.4.35-0+deb7u1_amd64.deb
 03cf5ce1947df3b760c22f5ff6d4fbdf8995b4c4 72164 php5-intl_5.4.35-0+deb7u1_amd64.deb
 15e2537a89c6d39aa2140c8b2fd7e9b9e3d620d0 23878 php5-ldap_5.4.35-0+deb7u1_amd64.deb
 22c5736a590d93f671d841457a473688ccda5410 16092 php5-mcrypt_5.4.35-0+deb7u1_amd64.deb
 270a9228315acc9bfec714f23d3c800ef11fe8b0 80860 php5-mysql_5.4.35-0+deb7u1_amd64.deb
 67ddfed342d18ed01459bd2d39e87cac1df31aac 164316 php5-mysqlnd_5.4.35-0+deb7u1_amd64.deb
 294a662a716cf6d9efb5083666c0804606a17fdd 36842 php5-odbc_5.4.35-0+deb7u1_amd64.deb
 7c4059c909b9bda1aee8b8feb5c6b777f3206775 64318 php5-pgsql_5.4.35-0+deb7u1_amd64.deb
 91fabe334d36a778b2fe5c739d1e84f6808d8143 8910 php5-pspell_5.4.35-0+deb7u1_amd64.deb
 efdae4d690b5d7d5cfd50701e7198d845e56e998 5204 php5-recode_5.4.35-0+deb7u1_amd64.deb
 9b201633aa6fff57569504f6fd2d8478402d64d0 21936 php5-snmp_5.4.35-0+deb7u1_amd64.deb
 de284505a540eff3ba5d23d944fc47170e7fec1a 30528 php5-sqlite_5.4.35-0+deb7u1_amd64.deb
 3a5d106c37dc9d5e83fe9ac568c3a2b73836c694 28928 php5-sybase_5.4.35-0+deb7u1_amd64.deb
 5c0157b68ebfc1bf4dd6523308a74556ac492ae6 19652 php5-tidy_5.4.35-0+deb7u1_amd64.deb
 8bd2add372f3a9d60f76484dfe5702a63c800f42 36360 php5-xmlrpc_5.4.35-0+deb7u1_amd64.deb
 a719047790fde981c7bf39b382999f098291598d 15472 php5-xsl_5.4.35-0+deb7u1_amd64.deb
Checksums-Sha256: 
 cddf2edb4964bd90959d6976c671fa406ce78cf5befc8a267dd68a4ac131e08f 4530 php5_5.4.35-0+deb7u1.dsc
 7ecab4ebb880b6d4f68bd4e3e49d837d4704fe26d81dc992b17b74151ee950a7 15335367 php5_5.4.35.orig.tar.gz
 58eafe068e84963d01b19716168a1e168228f14cf03a623fb3c28cd2519f1606 147954 php5_5.4.35-0+deb7u1.diff.gz
 f725e42bc8c4b25d8a892e502a71301aa11109df44aeb1a87c9ddb3f007d61ee 1024 php5_5.4.35-0+deb7u1_all.deb
 bd381afa3c5aa65c145ead824a6f6faa9ba5b3630ac9714d3f545f2714acfede 371846 php-pear_5.4.35-0+deb7u1_all.deb
 66756ad606c85b864a1511cd4956a0c66a2024673dfea868309533bf88527d9e 620230 php5-common_5.4.35-0+deb7u1_amd64.deb
 86b179bd2d4163b84d3afd53edd3c604f75a480ac8b0942eba5543c8b0201ede 2707484 libapache2-mod-php5_5.4.35-0+deb7u1_amd64.deb
 f6a9929fd8fe50294bf934a21b7d9a0a9598592e100a477f6b82e48f1b34aedf 2706634 libapache2-mod-php5filter_5.4.35-0+deb7u1_amd64.deb
 b101e386caa6922ee53bc5d1c976f4ce963de9c2925a22a097664dd06b231b06 5172268 php5-cgi_5.4.35-0+deb7u1_amd64.deb
 e064d4f6cf268bbdd1351e22292a6b8371bfe1af78e8b11e88ff9525e8da37f3 2595144 php5-cli_5.4.35-0+deb7u1_amd64.deb
 7c1f18ff9ec851cff80a6cc85dc716d33fb8cd30f81eefbde957c53c1042be4d 2627620 php5-fpm_5.4.35-0+deb7u1_amd64.deb
 dace432d38940217676fc265bf3bacbc2ce4d4d7ee4747bd917623293cc569c3 2704264 libphp5-embed_5.4.35-0+deb7u1_amd64.deb
 01591f814621e22722cd1df2471e719d942efab202ad7d51881a281388873a0d 501022 php5-dev_5.4.35-0+deb7u1_amd64.deb
 b025ea3d16056b8e1b849e677eabb6106d2e6e57c560405f65cb51166adea2a9 16125890 php5-dbg_5.4.35-0+deb7u1_amd64.deb
 9dfb812000950896c555a7b02dd5d91c6116c10d70dd89c230dba64c9c4298ff 29432 php5-curl_5.4.35-0+deb7u1_amd64.deb
 92634361f1dbdf97aedfae95ccbfbd34c21616c95f46c038d608f2f68bc3bd0c 9954 php5-enchant_5.4.35-0+deb7u1_amd64.deb
 b7d324679ebbc332608f29ec5f6c0a65b9db713fa3ebebf85ae29a91b59101e4 35700 php5-gd_5.4.35-0+deb7u1_amd64.deb
 df568f14d8eed5cb338d727c9391a3abca2133a2db6f2ba3c4d82c8b86920aea 17010 php5-gmp_5.4.35-0+deb7u1_amd64.deb
 ac7ecd1ed7f1a42850dfc49ae8cccb53342511da503491f6dd46761cfa95eb27 35602 php5-imap_5.4.35-0+deb7u1_amd64.deb
 f06cd047f68096902f609cf222ff9257979a85e2263fe52d6ddf28c5a6eebdd8 49638 php5-interbase_5.4.35-0+deb7u1_amd64.deb
 94fa56b2c0a863f031af07df97ae49a1f400b7d5908da6b146ea5aa0e4bc8de3 72164 php5-intl_5.4.35-0+deb7u1_amd64.deb
 fefdaad774dbdd6697ff46f8f38e65367be66e20bd0e704a2770592d15d656c6 23878 php5-ldap_5.4.35-0+deb7u1_amd64.deb
 50dbf87ee77c2046930db39755d40c14d0483249bccece42837473198f3b97b4 16092 php5-mcrypt_5.4.35-0+deb7u1_amd64.deb
 2d2849c33f49e1d57835f338f5cbbb70a1dab19154558784618e30551b1921d8 80860 php5-mysql_5.4.35-0+deb7u1_amd64.deb
 1f1a6ad1c4dfe026c65873e463b62f5818db38cb5d02d9aa0b0c9b6f05c41bd6 164316 php5-mysqlnd_5.4.35-0+deb7u1_amd64.deb
 9f450c774b9f2371b117e218ba61fce7e39661b323b054f0b11e06bbf81ace7e 36842 php5-odbc_5.4.35-0+deb7u1_amd64.deb
 02961f1ad481adaacc1f85b6225784efb6aa262c207c461b08617259b276bbff 64318 php5-pgsql_5.4.35-0+deb7u1_amd64.deb
 48198e6b8819e2adba42f0892d41fc3c2136f1007586bd959f39516466ad6e91 8910 php5-pspell_5.4.35-0+deb7u1_amd64.deb
 078f0fdb45c3a3991b806d870fa0eaed64fba65620c822b92759bc777290d862 5204 php5-recode_5.4.35-0+deb7u1_amd64.deb
 7d8e997197075454e0f71f890e0f84129fc04505c090e5e7026f2e8ddea4c729 21936 php5-snmp_5.4.35-0+deb7u1_amd64.deb
 c10970d3eff83c05a84abe4f3711a4a7e8e150265f62b9c77927c15d9345e651 30528 php5-sqlite_5.4.35-0+deb7u1_amd64.deb
 01e66d662c2d735fdfafa65091c7bcb6295149ce144b61e8704a4c8f984a29bb 28928 php5-sybase_5.4.35-0+deb7u1_amd64.deb
 63b12ae5581bcb49f13f7340c8b31fc45061c354df2a6fd367af8c55c6ed4377 19652 php5-tidy_5.4.35-0+deb7u1_amd64.deb
 d6811aff4d15758eb3d6b82e94101beb32ed0c99a0c566c96e16b302f5129f70 36360 php5-xmlrpc_5.4.35-0+deb7u1_amd64.deb
 f5bf9c7b49fd0c5c79867575fc804a6bfdfe0863863b13c6e962a3a1ec5a5266 15472 php5-xsl_5.4.35-0+deb7u1_amd64.deb
Files: 
 8ddbd8ca72f93c143ad759e1a075e522 4530 php optional php5_5.4.35-0+deb7u1.dsc
 da7bed3b65033c7f096c96572cd9ea45 15335367 php optional php5_5.4.35.orig.tar.gz
 cd8868ef1199e76240c01904bc522747 147954 php optional php5_5.4.35-0+deb7u1.diff.gz
 b85050c18eb9440677e767acc00f16a7 1024 php optional php5_5.4.35-0+deb7u1_all.deb
 ca18dbcb5e8a283110aa0a502f73c266 371846 php optional php-pear_5.4.35-0+deb7u1_all.deb
 6a463c103e0b900b1b40579b8364e2c2 620230 php optional php5-common_5.4.35-0+deb7u1_amd64.deb
 2e6e884e0d38ca5da834fc9814fec7ac 2707484 httpd optional libapache2-mod-php5_5.4.35-0+deb7u1_amd64.deb
 8e7353d576def8d820ab635931a11b25 2706634 httpd extra libapache2-mod-php5filter_5.4.35-0+deb7u1_amd64.deb
 8ac9fb018bff3941cd38648086f06401 5172268 php optional php5-cgi_5.4.35-0+deb7u1_amd64.deb
 bd675e6704f3e2380655fd685e0684e3 2595144 php optional php5-cli_5.4.35-0+deb7u1_amd64.deb
 aebac506441ed271fe58f773649bf44a 2627620 php optional php5-fpm_5.4.35-0+deb7u1_amd64.deb
 f69da71875f3c483e903742d58657aa7 2704264 php optional libphp5-embed_5.4.35-0+deb7u1_amd64.deb
 e90ef4758a2ed347a0bbe64ca30712a5 501022 php optional php5-dev_5.4.35-0+deb7u1_amd64.deb
 74e0f63961aa4af878169c7f13f279c9 16125890 debug extra php5-dbg_5.4.35-0+deb7u1_amd64.deb
 4f81bcbe7150eebe53dd2a0cb85100b1 29432 php optional php5-curl_5.4.35-0+deb7u1_amd64.deb
 cbab06a53a1caafdd7ecaafc1dda11f1 9954 php optional php5-enchant_5.4.35-0+deb7u1_amd64.deb
 06169f77633ce0b6511c386a323acce0 35700 php optional php5-gd_5.4.35-0+deb7u1_amd64.deb
 2df4e6529167247068a36c2189db5cf7 17010 php optional php5-gmp_5.4.35-0+deb7u1_amd64.deb
 cdb8537a109255b73f16200043dc0d12 35602 php optional php5-imap_5.4.35-0+deb7u1_amd64.deb
 ce36263258c6c82dfdb650614a71d0db 49638 php optional php5-interbase_5.4.35-0+deb7u1_amd64.deb
 347a2d727a4549660f78dc5ebd49cc23 72164 php optional php5-intl_5.4.35-0+deb7u1_amd64.deb
 f68a6ad2ab4f9ca2da9a61f48681a609 23878 php optional php5-ldap_5.4.35-0+deb7u1_amd64.deb
 9ad77878532bef7d9d26dca9e2c5464a 16092 php optional php5-mcrypt_5.4.35-0+deb7u1_amd64.deb
 96f62d6cd692b4aa18d0d5b91936e2bf 80860 php optional php5-mysql_5.4.35-0+deb7u1_amd64.deb
 f936c5bf463ab22ae046c9d87bc9ecb2 164316 php extra php5-mysqlnd_5.4.35-0+deb7u1_amd64.deb
 790c540b1b4ab36e6fffea6eeaf17842 36842 php optional php5-odbc_5.4.35-0+deb7u1_amd64.deb
 d4b722f04254b8faa5da011eca840f5f 64318 php optional php5-pgsql_5.4.35-0+deb7u1_amd64.deb
 afdd3be22016fb06a7fcc06c1a5501f4 8910 php optional php5-pspell_5.4.35-0+deb7u1_amd64.deb
 65a4b3a7d352e90b082b90a2f2914b0c 5204 php optional php5-recode_5.4.35-0+deb7u1_amd64.deb
 3b96c95a7e3cdcceb0628f886ac52638 21936 php optional php5-snmp_5.4.35-0+deb7u1_amd64.deb
 484469fbfa839c0a5d8b101cb1699300 30528 php optional php5-sqlite_5.4.35-0+deb7u1_amd64.deb
 9615c8b872140a6c29c9ae8734549ece 28928 php optional php5-sybase_5.4.35-0+deb7u1_amd64.deb
 36a80036e09a0c94e82c7e512b3e198f 19652 php optional php5-tidy_5.4.35-0+deb7u1_amd64.deb
 7645431608b5374a350ee003ec17df44 36360 php optional php5-xmlrpc_5.4.35-0+deb7u1_amd64.deb
 abc9fe40c4311e6f330d6c14fd827030 15472 php optional php5-xsl_5.4.35-0+deb7u1_amd64.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQJ8BAEBCgBmBQJUaw/qXxSAAAAAAC4AKGlzc3Vlci1mcHJAbm90YXRpb25zLm9w
ZW5wZ3AuZmlmdGhob3JzZW1hbi5uZXQzMEI5MzNEODBGQ0UzRDk4MUEyRDM4RkIw
Qzk5QjcwRUY0RkNCQjA3AAoJEAyZtw70/LsHuNEQAIeQK638enAS84Vvprsia/S2
L7EbEPZHI1dHkUgvI0QRgV9hvK6H7+NcMtg+QMdTQI2RZ4KJANAtcjWIfik8cx6F
uM8n+t5nPv5X/OQgk4E9KuTJXK/klb1cxXqFvbalr+1CfE0gQLhMJnVuORyi9Nnx
d5z5edrPFRPdOR35LY39Xs4xiGq/kAY4ygPgGsfwQIZINb/di1Aa01Xhevofa3+e
sRRK7dbM5NMb7wSqHA0Wxqnw1Vkr+saVaEXliRzBPLL6lZg0PvasWMfzB0b1rpZE
fU672WHb4Z+nEp2hCeLCfQzCD1299hS63n2mn6raJIMu6kVrVZhUIUJ1dOjWbW4a
afBCSSF60jdkrvIiTRqE3SUdedCRbP3H2aaIWge1YEa7Jo6dhHomCWpYEZ4jaHi4
nFSXghpKlDoJjdBvGKb6v/0eD0NTu/Msi1uyB07H7AwA4Flhyn+m6n9aYo/ZRq5n
2EB01KQuL0K+GZXbwgf6PKu3AtIhH/YnOqrVuWnV0YTXiNsCIzVetZbWFz9OcSsW
Sku4Hfg+/EAPLayJqUFdC2jwy6TZZjmUb5C8074ZJMaiXFnIR2c26jNyt02kp9ND
kmlY6aN9BAhuZSC76BpZqI4ibbiBEHMaADSipt7/7/2LzNSxIoQAMuWosVoKMwbL
GicNfKNzZqYEhE/PRW+u
=qHZL
-----END PGP SIGNATURE-----



</pre>

<div class="msgreceived"><hr><p>
<a name="87"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1422602794 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Fri, 30 Jan 2015 07:26:34 GMT) (<a href="bugreport.cgi?bug=766147;msg=88">full text</a>, <a href="bugreport.cgi?bug=766147;mbox=yes;msg=88">mbox</a>, <a href="#87">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=766147">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:30:03 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
