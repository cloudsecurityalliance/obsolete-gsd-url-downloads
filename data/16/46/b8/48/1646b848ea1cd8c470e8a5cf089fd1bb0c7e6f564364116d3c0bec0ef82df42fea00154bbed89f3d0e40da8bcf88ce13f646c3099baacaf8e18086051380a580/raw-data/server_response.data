<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>bcfc7124f6ef9f1ec128fb2e90de774a5b33d199 - platform/external/libhevc - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://accounts.google.com/AccountChooser?service=gerritcodereview&amp;continue=https://android.googlesource.com/login/platform/external/libhevc/%2B/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199">Sign in</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">android</a> / <a class="Breadcrumbs-crumb" href="/platform/">platform</a> / <a class="Breadcrumbs-crumb" href="/platform/external/">external</a> / <a class="Breadcrumbs-crumb" href="/platform/external/libhevc/">libhevc</a> / <span class="Breadcrumbs-crumb">bcfc7124f6ef9f1ec128fb2e90de774a5b33d199</span></div><div class="u-monospace Metadata"><table><tr><th class="Metadata-title">commit</th><td>bcfc7124f6ef9f1ec128fb2e90de774a5b33d199</td><td><span>[<a href="/platform/external/libhevc/+log/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199">log</a>]</span> <span>[<a href="/platform/external/libhevc/+archive/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199.tar.gz">tgz</a>]</span></td></tr><tr><th class="Metadata-title">author</th><td>Naveen Kumar Ponnusamy &lt;naveenkumar.p@ittiam.com&gt;</td><td>Mon Mar 06 16:31:51 2017 +0530</td></tr><tr><th class="Metadata-title">committer</th><td>gitbuildkicker &lt;android-build@google.com&gt;</td><td>Wed Mar 22 14:59:32 2017 -0700</td></tr><tr><th class="Metadata-title">tree</th><td><a href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/">fa4a53b778bdb66f762554e897184bf311e98d2c</a></td></tr><tr><th class="Metadata-title">parent</th><td><a href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199%5E">a1424724a00d62ac5efa0e27953eed66850d662f</a> <span>[<a href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199%5E%21/">diff</a>]</span></td></tr></table></div><pre class="u-pre u-monospace MetadataMessage">Return error from cabac init if offset is greater than range

When the offset was greater than range, the bitstream was read
more than the valid range in leaf-level cabac parsing modules.
Error check was added to cabac init to fix this issue. Additionally
end of slice and slice error were signalled to suppress further
parsing of current slice.

Bug: 34897036
Change-Id: <a href="https://android-review.googlesource.com/#/q/I1263f1d1219684ffa6e952c76e5a08e9a933c9d2">I1263f1d1219684ffa6e952c76e5a08e9a933c9d2</a>
(cherry picked from commit 3b175da88a1807d19cdd248b74bce60e57f05c6a)
(cherry picked from commit b92314c860d01d754ef579eafe55d7377962b3ba)
</pre><ul class="DiffTree"><li><a href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/decoder/ihevcd_cabac.c">decoder/ihevcd_cabac.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199%5E%21/#F0">diff</a>]</span></li><li><a href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/decoder/ihevcd_parse_slice.c">decoder/ihevcd_parse_slice.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199%5E%21/#F1">diff</a>]</span></li></ul><div class="DiffSummary">2 files changed</div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: fa4a53b778bdb66f762554e897184bf311e98d2c</div><ol class="FileList"><li class="FileList-item FileList-item--regularFile" title="Regular file - Android.mk"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/Android.mk">Android.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - MODULE_LICENSE_APACHE2"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/MODULE_LICENSE_APACHE2">MODULE_LICENSE_APACHE2</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - NOTICE"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/NOTICE">NOTICE</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - common/"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/common/">common/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.arm.mk"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/decoder.arm.mk">decoder.arm.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.arm64.mk"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/decoder.arm64.mk">decoder.arm64.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.mips.mk"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/decoder.mips.mk">decoder.mips.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.mips64.mk"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/decoder.mips64.mk">decoder.mips64.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.mk"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/decoder.mk">decoder.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.x86.mk"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/decoder.x86.mk">decoder.x86.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - decoder.x86_64.mk"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/decoder.x86_64.mk">decoder.x86_64.mk</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - decoder/"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/decoder/">decoder/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - test/"><a class="FileList-itemLink" href="/platform/external/libhevc/+/bcfc7124f6ef9f1ec128fb2e90de774a5b33d199/test/">test/</a></li></ol></div></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>