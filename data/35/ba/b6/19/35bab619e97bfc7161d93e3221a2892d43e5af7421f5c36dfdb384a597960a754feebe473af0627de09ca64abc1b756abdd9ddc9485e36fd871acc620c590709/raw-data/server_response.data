<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    
    
      
    
    
      Issue 1059413004: Add a validator for intent:// URLs. -
    
    Code Review
  </title>
  <link rel="icon" href="/static/favicon.ico" />
  <link type="text/css" rel="stylesheet"
  href="/static/styles.css?v=408576698
" />
  <script type="text/javascript" src="/static/autocomplete/lib/jquery.js"></script>
  <script type="text/javascript"
    src="/static/script.js?v=408576698
"></script>
   <!-- head block to insert js/css for forms processing -->
   
   <!-- /head -->
</head>
<body onunload="M_unloadPage();">

<!-- Begin help window -->
<script type="text/javascript"><!--
var xsrfToken = '6c016902d7881153f54ddc00357e95b1';
var helpDisplayed = false;
document.onclick = M_clickCommon;
var media_url = "/static/";
var base_url = "/";
// -->
</script>
<div id="help" style="display: none;">

<div style="font-size: medium; text-align: center;">Keyboard Shortcuts</div>
<hr />
<table class="shortcuts">
  <tr valign="top">
    <td>
      <table>
        <tr>
          <td></td><th>File</th>
        </tr>
        <tr>
          <td><span>u</span> <b>:</b></td><td>up to issue</td>
        </tr>
        <tr>
          <td><span>j</span> / <span>k</span> <b>:</b></td><td>jump to file after / before current file</td>
        </tr>
        <tr>
          <td><span>J</span> / <span>K</span> <b>:</b></td><td>jump to next file with a comment after / before current file</td>
        </tr>
        <tr>
          <td></td><th>Side-by-side diff</th>
        </tr>
        <tr>
          <td><span>i</span> <b>:</b></td><td>toggle intra-line diffs</td>
        </tr>
        <tr>
          <td><span>e</span> <b>:</b></td><td>expand all comments</td>
        </tr>
        <tr>
          <td><span>c</span> <b>:</b></td><td>collapse all comments</td>
        </tr>
        <tr>
          <td><span>s</span> <b>:</b></td><td>toggle showing all comments</td>
        </tr>
        <tr>
          <td><span>n</span> / <span>p</span> <b>:</b></td><td>next / previous diff chunk or comment</td>
        </tr>
        <tr>
          <td><span>N</span> / <span>P</span> <b>:</b></td><td>next / previous comment</td>
        </tr>
        <tr>
          <td><span>&lt;Up&gt;</span> / <span>&lt;Down&gt;</span> <b>:</b></td><td>next / previous line</td>
        </tr>
      </table>
    </td>
    <td>
      <table>
        <tr>
          <td></td><th>Issue</th>
        </tr>
        <tr>
          <td><span>u</span> <b>:</b></td><td>up to list of issues</td>
        </tr>
        <tr>
          <td><span>j</span> / <span>k</span> <b>:</b></td><td>jump to patch after / before current patch</td>
        </tr>
        <tr>
          <td><span>o</span> / <span>&lt;Enter&gt;</span> <b>:</b></td><td>open current patch in side-by-side view</td>
        </tr>
        <tr>
          <td><span>i</span> <b>:</b></td><td>open current patch in unified diff view</td>
        </tr>
        <tr><td>&nbsp;</td></tr>
          <tr><td></td><th>Issue List</th></tr>
        <tr>
          <td><span>j</span> / <span>k</span> <b>:</b></td><td>jump to issue after / before current issue</td>
        </tr>
        <tr>
          <td><span>o</span> / <span>&lt;Enter&gt;</span> <b>:</b></td><td>open current issue</td>
        </tr>
      </table>
    </td>
  </tr>

</table>
</div>
<!-- End help window -->

<div align="right">

<div style="float:left; font-size:x-large"><img style="vertical-align:middle" src="/static/chromium-24.png" /> Chromium Code Reviews</div>




<b>chromiumcodereview-hr@appspot.gserviceaccount.com (chromiumcodereview-hr)</b>
|

<span style="color:red">Please choose your nickname with</span>
<a class="novisit" href="/settings">Settings</a>
|


<a class="novisit" target="_blank"
   href="http://code.google.com/p/rietveld/wiki/CodeReviewHelp">Help</a>

|
<a class="novisit" href="http://www.chromium.org/">Chromium Project</a>
|
<a class="novisit" href="https://chromium-review.googlesource.com/dashboard/self?polygerrit=1">Gerrit Changes</a>
|

<a class="novisit" href="https://codereview.chromium.org/_ah/logout?continue=https://accounts.google.com/Logout%3Fcontinue%3Dhttps://uc.appengine.google.com/_ah/logout%253Fcontinue%253Dhttps://google.com/url%25253Fsa%25253DD%252526q%25253Dhttps://codereview.chromium.org/1059413004%252526ust%25253D1608469349397177%252526usg%25253DAFQjCNFYez5J-bzuiAeDiqz2D33s24RX-g%26service%3Dah">Sign out</a>

</div>
<div class="counter">(262)</div>
<br />
<div class="mainmenu">
  
  <a href="/" class="active">Issues</a>
  <a href="/search">Search</a>

</div>
<div class="mainmenu2">
  
  
    &nbsp;&nbsp;&nbsp;
    <a href="/mine">My Issues</a>
    |
    <a href="/starred">Starred</a>
    &nbsp;&nbsp;&nbsp;
    <a href="/all?closed=0">Open</a>
    |
    <a href="/all?closed=1">Closed</a>
    |
    <a href="/all">All</a>
  

</div>

<div>

  <h2>
    <span id="issue-star-1059413004">
  
    
      <img src="/static/star-dark.gif" width="15" height="15" border="0">
    
  
</span>

    Issue <a href="/1059413004/"
               onmouseover="M_showPopUp(this, 'popup-issue');">
            1059413004</a>:
    Add a validator for intent:// URLs.  (Closed) 
  </h2>

  <table class="issue-details" border="0" width="100%">
    <tr valign="top">

      <td class="meta" width="20%">
        <div class="issue_details_sidebar">
          <div><b>Created:</b><br/>
            5 years, 8 months ago by <a href="/user/Chris%20Palmer" onMouseOver="M_showUserInfoPopup(this)">Chris Palmer</a>
          </div>
          <div><b>Modified:</b><br/>
            5 years, 7 months ago
          </div>
          <div><b>Reviewers:</b><br/>
            <a href="/user/Ted%20C" onMouseOver="M_showUserInfoPopup(this)">Ted C</a>, <a href="/user/palmer" onMouseOver="M_showUserInfoPopup(this)">palmer</a>, <span class='approval'><a href="/user/Yaron" onMouseOver="M_showUserInfoPopup(this)">Yaron</a></span>, <a href="/user/Jaekyun%20Seok%20(inactive)" onMouseOver="M_showUserInfoPopup(this)">Jaekyun Seok (inactive)</a>, <a href="/user/Jay%20Civelli" onMouseOver="M_showUserInfoPopup(this)">Jay Civelli</a>
          </div>
          
          <div><b>CC:</b><br/>
            chromium-reviews
          </div>
          
          
          <div><b>Base URL:</b><br/>
            
            https://chromium.googlesource.com/chromium/src.git@master
            
          </div>
          
          
          <div><b>Target Ref:</b><br/>
            refs/pending/heads/master
          </div>
          
          
          <div><b>Project:</b><br/>
            <a href="/search?project=chromium">
              chromium
            </a>
          </div>
          
          <div><b>Visibility:</b><br/>
            
                Public.
            
          </div>
          
          <div><a title="Find reviews for the same repository ID - c14d891d44f0afff64e56ed7c9702df1d807b1ee"
               href="/search?repo_guid=c14d891d44f0afff64e56ed7c9702df1d807b1ee">
            <b>More Reviews</b></a>
          </div>
          
        </div>
      </td>

      <td style="padding-left: .8em; padding-right: .8em;" width="80%">
        




  <h3><a id="issue-description-pointer"
     href="javascript:M_toggleSection('issue-description')"
     class="toggled-section opentriangle">
    Description</a></h3>
  <div id="issue-description">Add a validator for intent:// URLs.

BUG=<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=462843">462843</a>, <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=482113">482113</a>
Committed: <a href="https://crrev.com/e8b8c72eb8eb462c52a707c556d53d350bbd408d">https://crrev.com/e8b8c72eb8eb462c52a707c556d53d350bbd408d</a>
Cr-Commit-Position: refs/heads/master@{#327613}
  </div>




  <h3>
    <a id="ps-1-pointer"
       href="/1059413004/#ps1"
       onclick="M_toggleSectionForPS('1059413004', '1')"
       class="toggled-section ">
      Patch Set 1
      
      <span class="anchor">#</span>
    </a>
  </h3>

  
    <div>
      <i>Total comments:</i> 6
      
    </div>
  

  <div id="ps-1"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-20001-pointer"
       href="/1059413004/#ps20001"
       onclick="M_toggleSectionForPS('1059413004', '20001')"
       class="toggled-section ">
      Patch Set 2
      : Allow Extras; require that standard keys appear only once; use Matchers; more test cases.
      <span class="anchor">#</span>
    </a>
  </h3>

  
    <div>
      <i>Total comments:</i> 3
      
    </div>
  

  <div id="ps-20001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-40001-pointer"
       href="/1059413004/#ps40001"
       onclick="M_toggleSectionForPS('1059413004', '40001')"
       class="toggled-section ">
      Patch Set 3
      : Handle extras as blobs. Add some tests using extras.
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-40001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-60001-pointer"
       href="/1059413004/#ps60001"
       onclick="M_toggleSectionForPS('1059413004', '60001')"
       class="toggled-section ">
      Patch Set 4
      : Defend against null dereferences.
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-60001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-80001-pointer"
       href="/1059413004/#ps80001"
       onclick="M_toggleSectionForPS('1059413004', '80001')"
       class="toggled-section ">
      Patch Set 5
      : Call each assert directly, to help debug tests.
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-80001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-100001-pointer"
       href="/1059413004/#ps100001"
       onclick="M_toggleSectionForPS('1059413004', '100001')"
       class="toggled-section ">
      Patch Set 6
      : Add logging to debug bot-only test failures.
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-100001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-120001-pointer"
       href="/1059413004/#ps120001"
       onclick="M_toggleSectionForPS('1059413004', '120001')"
       class="toggled-section ">
      Patch Set 7
      : Document the intent of the positive tests, too.
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-120001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-140001-pointer"
       href="/1059413004/#ps140001"
       onclick="M_toggleSectionForPS('1059413004', '140001')"
       class="toggled-section ">
      Patch Set 8
      : It seems URI does not like _ in hostnames?
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-140001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-160001-pointer"
       href="/1059413004/#ps160001"
       onclick="M_toggleSectionForPS('1059413004', '160001')"
       class="toggled-section ">
      Patch Set 9
      : The _ test reliably passes locally and fails on the bot; reversing the assert reliably reverses the…
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-160001"
  
       style="display:none">
  
  </div>
  

  <h3>
    <a id="ps-180001-pointer"
       href="/1059413004/#ps180001"
       onclick="M_toggleSectionForPS('1059413004', '180001')"
       class="toggled-section opentriangle">
      Patch Set 10
      : Why are the presubmit checks different on the bots vs. local? import org.chromium.base.Log;
      <span class="anchor">#</span>
    </a>
  </h3>

  

  <div id="ps-180001"
  
       style="">
    
<div class="issue-list">

  <div class="pagination">
    <div style="float: left;">
      <i>Created:</i> 5 years, 7 months ago
    </div>
    <div style="float: right;">
      
        Download
          <a href="/download/issue1059413004_180001.diff"
            title="Patchset in text format">[raw]</a>
          <a href="/tarball/1059413004/180001"
            title="Tarball containing the original and patched files">[tar.bz2]</a>
      
    </div>
    <div style="clear:both;"></div>
  </div>

  <table id="queues" style="clear:both;">
    <tr align="left">
      <th colspan="2"></th>
      <th>Unified diffs</th>
      <th>Side-by-side diffs</th>
      <th>Delta from patch set</th>
      <th colspan="3">Stats <font style='font-weight: normal'>(<i>+212 lines, -0 lines</i>)</font></th>
      <th>Patch</th>
    </tr>

    
      <tr name="patch">
        <td class="first" width="14"><img src="/static/closedtriangle.gif"
    style="visibility: hidden;" width="12" height="9" /></td>
        <td style="white-space: nowrap">M</td>
        <td>
          <a class="noul"
             href="/1059413004/patch/180001/190001">
            chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java
          </a>
        </td>
        <td>
          <a class="noul"
             href="/1059413004/diff/180001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java">
            View
          </a>
        </td>
        <td style="white-space: nowrap">
        
          <a href="/1059413004/diff2/1:180001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java"
             title="Delta from patch set 1">1</a>
        
          <a href="/1059413004/diff2/20001:180001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java"
             title="Delta from patch set 2">2</a>
        
          <a href="/1059413004/diff2/40001:180001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java"
             title="Delta from patch set 3">3</a>
        
          <a href="/1059413004/diff2/60001:180001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java"
             title="Delta from patch set 4">4</a>
        
          <a href="/1059413004/diff2/80001:180001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java"
             title="Delta from patch set 5">5</a>
        
          <a href="/1059413004/diff2/100001:180001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java"
             title="Delta from patch set 6">6</a>
        
          <a href="/1059413004/diff2/120001:180001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java"
             title="Delta from patch set 7">7</a>
        
          <a href="/1059413004/diff2/140001:180001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java"
             title="Delta from patch set 8">8</a>
        
          <a href="/1059413004/diff2/160001:180001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java"
             title="Delta from patch set 9">9</a>
        
        </td>
        
          <td style="white-space: nowrap">3 chunks</td>
          <td style="white-space: nowrap">+157 lines, -0 lines</td>
        
        <td style="white-space: nowrap">
          
            0 comments
            
            
          
        </td>
        <td>
          <a href="/download/issue1059413004_180001_190001.diff"
             title="Download patch for chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java">
            Download
          </a>
        </td>
      </tr>
    
      <tr name="patch">
        <td class="first" width="14"><img src="/static/closedtriangle.gif"
    style="visibility: hidden;" width="12" height="9" /></td>
        <td style="white-space: nowrap">M</td>
        <td>
          <a class="noul"
             href="/1059413004/patch/180001/190002">
            chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java
          </a>
        </td>
        <td>
          <a class="noul"
             href="/1059413004/diff/180001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java">
            View
          </a>
        </td>
        <td style="white-space: nowrap">
        
          <a href="/1059413004/diff2/1:180001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java"
             title="Delta from patch set 1">1</a>
        
          <a href="/1059413004/diff2/20001:180001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java"
             title="Delta from patch set 2">2</a>
        
          <a href="/1059413004/diff2/40001:180001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java"
             title="Delta from patch set 3">3</a>
        
          <a href="/1059413004/diff2/60001:180001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java"
             title="Delta from patch set 4">4</a>
        
          <a href="/1059413004/diff2/80001:180001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java"
             title="Delta from patch set 5">5</a>
        
          <a href="/1059413004/diff2/100001:180001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java"
             title="Delta from patch set 6">6</a>
        
          <a href="/1059413004/diff2/120001:180001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java"
             title="Delta from patch set 7">7</a>
        
          <a href="/1059413004/diff2/140001:180001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java"
             title="Delta from patch set 8">8</a>
        
        </td>
        
          <td style="white-space: nowrap">1 chunk</td>
          <td style="white-space: nowrap">+55 lines, -0 lines</td>
        
        <td style="white-space: nowrap">
          
            0 comments
            
            
          
        </td>
        <td>
          <a href="/download/issue1059413004_180001_190002.diff"
             title="Download patch for chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java">
            Download
          </a>
        </td>
      </tr>
    
  </table>

  
  
</div>

  
  </div>
  
    <script language="JavaScript" type="text/javascript">
         <!--
         var lastPSId = 180001;
         // -->
       </script>
  




  <h3>
    <a id="messages-pointer"
       href="javascript:M_toggleSection('messages')"
       class="toggled-section opentriangle">
      Messages
    </a>
  </h3>

  
    <div><i>
    Total messages: 37 (12 generated)
    </i></div>
  

  <div id="messages">
    <div style="margin-bottom: .5em;">
      <a href="javascript:M_expandAllVisibleComments('cl', 37)">
        Expand Messages</a>
      |
      <a href="javascript:M_collapseAllVisibleComments('cl', 37)">
        Collapse Messages</a>
      
      |
      <a href="javascript:M_showGeneratedComments(37)">
        Show Generated Messages</a>
      |
      <a href="javascript:M_hideGeneratedComments(37)">
        Hide Generated Messages</a>
      
    </div>

    
      <div class="message    generated"
           style="display: none"
           id="generated-msg1"
           name="0">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(0)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-0">
                          palmer@chromium.org changed reviewers: + jaekyun@chromium.org, palmer@chromium.org, tedchoc@chromium.org, yfriedman@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-24 01:19:05 UTC)
                <a href="#msg1">#1</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-0"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-0"
            ><a href="mailto:palmer@chromium.org">palmer@chromium.org</a> changed reviewers:
+ <a href="mailto:jaekyun@chromium.org">jaekyun@chromium.org</a>, <a href="mailto:palmer@chromium.org">palmer@chromium.org</a>, <a href="mailto:tedchoc@chromium.org">tedchoc@chromium.org</a>,
<a href="mailto:yfriedman@chromium.org">yfriedman@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg2"
           name="1">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(1)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-1">
                          PTAL. Part 1 of 2. Thanks!
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-24 01:19:05 UTC)
                <a href="#msg2">#2</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-1"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-1"
            >PTAL. Part 1 of 2. Thanks!</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg3"
           name="2">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(2)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Jaekyun Seok (inactive)</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-2">
                          https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java File chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java (right): https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java#newcode238 chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java:238: || parts.length &gt; 7 parts.length could be bigger than ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-24 02:05:52 UTC)
                <a href="#msg3">#3</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-2"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-2"
            ><a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org...</a>
File chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java
(right):

<a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java#newcode238" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org...</a>
chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java:238: ||
parts.length &gt; 7
parts.length could be bigger than 7 because extra fields can be added.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg4"
           name="3">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(3)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Yaron</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-3">
                          https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java File chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java (right): https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java#newcode229 chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java:229: if (!Pattern.matches(&quot;^[\\w\\.-]*$&quot;, parsed.getHost())) { I would build a Matcher ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-24 16:04:18 UTC)
                <a href="#msg4">#4</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-3"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-3"
            ><a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org...</a>
File chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java
(right):

<a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java#newcode229" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org...</a>
chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java:229: if
(!Pattern.matches(&quot;^[\\w\\.-]*$&quot;, parsed.getHost())) {
I would build a Matcher and use that since it&#39;s re-used throughout the loop

<a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/javatests/sr...</a>
File
chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java
(right):

<a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java#newcode122" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/javatests/sr...</a>
chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java:122:
+ &quot;authenticator.AUTHENTICATE;end&#39;,&#39;*&#39;);&quot;
There&#39;s a lot of other validation that is currently untested.

Are there plausible exploits for fields other than &quot;action&quot; that we can add
tests for?</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg5"
           name="4">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(4)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-4">
                          https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java File chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java (right): https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java#newcode229 chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java:229: if (!Pattern.matches(&quot;^[\\w\\.-]*$&quot;, parsed.getHost())) { &gt; I would build a ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-24 18:05:22 UTC)
                <a href="#msg5">#5</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-4"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-4"
            ><a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org...</a>
File chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java
(right):

<a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java#newcode229" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org...</a>
chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java:229: if
(!Pattern.matches(&quot;^[\\w\\.-]*$&quot;, parsed.getHost())) {
&gt; I would build a Matcher and use that since it&#39;s re-used throughout the loop

Not exactly; note the allowed &quot;-&quot; (which is legal in DNS names but not in e.g.
Java package names, AFAIK).

That said, I do re-use the same pattern several times in the loop, so I suppose
I can pre-compile a Pattern for it.

<a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java#newcode238" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/java/src/org...</a>
chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java:238: ||
parts.length &gt; 7
On 2015/04/24 02:05:52, Jaekyun Seok wrote:
&gt; parts.length could be bigger than 7 because extra fields can be added.

Done.

<a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/javatests/sr...</a>
File
chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java
(right):

<a href="https://codereview.chromium.org/1059413004/diff/1/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java#newcode122" rel="nofollow">https://codereview.chromium.org/1059413004/diff/1/chrome/android/javatests/sr...</a>
chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java:122:
+ &quot;authenticator.AUTHENTICATE;end&#39;,&#39;*&#39;);&quot;
&gt; There&#39;s a lot of other validation that is currently untested.
&gt; 
&gt; Are there plausible exploits for fields other than &quot;action&quot; that we can add
&gt; tests for?

Definitely. Adding more tests now. The above was written quickly before heading
home last night, just to get something for you all to look at. :)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg6"
           name="5">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(5)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-5">
                          OK, see what you think now. Thanks!
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-24 18:14:01 UTC)
                <a href="#msg6">#6</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-5"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-5"
            >OK, see what you think now. Thanks!</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg7"
           name="6">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(6)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Yaron</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-6">
                          https://codereview.chromium.org/1059413004/diff/20001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java File chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java (right): https://codereview.chromium.org/1059413004/diff/20001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java#newcode261 chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java:261: if (2 != pair.length) return false; I think this ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 8 months ago
		(2015-04-24 20:38:17 UTC)
                <a href="#msg7">#7</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-6"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-6"
            ><a href="https://codereview.chromium.org/1059413004/diff/20001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java" rel="nofollow">https://codereview.chromium.org/1059413004/diff/20001/chrome/android/java/src...</a>
File chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java
(right):

<a href="https://codereview.chromium.org/1059413004/diff/20001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java#newcode261" rel="nofollow">https://codereview.chromium.org/1059413004/diff/20001/chrome/android/java/src...</a>
chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java:261: if (2
!= pair.length) return false;
I think this breaks &quot;extras&quot;. see below

<a href="https://codereview.chromium.org/1059413004/diff/20001/chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java#newcode286" rel="nofollow">https://codereview.chromium.org/1059413004/diff/20001/chrome/android/java/src...</a>
chrome/android/java/src/org/chromium/chrome/browser/UrlUtilities.java:286: //
beware: Here Lurks Madness.
I guess this is a deliberate &quot;fail closed&quot; but I worry that the madness is
present and we could break legitimate functionality. I honestly don&#39;t know so
doing some digging.

Looks like extras can be specified as a:
- single char
- .
- key
- =
- value

both key/value are encoded as URIs. I&#39;m not saying we need to fully parse extras
but it seems that uri-escaped charactres + &quot;[.=]&quot; gives the full set of allowed
values.

<a href="https://codereview.chromium.org/1059413004/diff/20001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java" rel="nofollow">https://codereview.chromium.org/1059413004/diff/20001/chrome/android/javatest...</a>
File
chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java
(right):

<a href="https://codereview.chromium.org/1059413004/diff/20001/chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java#newcode116" rel="nofollow">https://codereview.chromium.org/1059413004/diff/20001/chrome/android/javatest...</a>
chrome/android/javatests/src/org/chromium/chrome/browser/UrlUtilitiesTest.java:116:
&quot;intent://wump_hey.example.com/#Intent;package=com.example.wump;&quot;
Please add a test with extras</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg8"
           name="7">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(7)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-7">
                          OK, I think the new patchset handles extras about as well as we can. PTAL.
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-27 23:38:14 UTC)
                <a href="#msg8">#8</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-7"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-7"
            >OK, I think the new patchset handles extras about as well as we can. PTAL.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg9"
           name="8">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(8)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-8">
                          palmer@chromium.org changed reviewers: + jcivelli@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 01:10:57 UTC)
                <a href="#msg9">#9</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-8"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-8"
            ><a href="mailto:palmer@chromium.org">palmer@chromium.org</a> changed reviewers:
+ <a href="mailto:jcivelli@chromium.org">jcivelli@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg10"
           name="9">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(9)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-9">
                          Adding jcivelli FYI.
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 01:10:57 UTC)
                <a href="#msg10">#10</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-9"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-9"
            >Adding jcivelli FYI.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message  approval  "
           
           id="msg11"
           name="10">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(10)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Yaron</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-10">
                          I think this now lgtm I guess one thing that it leaves a little open ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 01:35:34 UTC)
                <a href="#msg11">#11</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-10"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-10"
            >I think this now lgtm

I guess one thing that it leaves a little open is when/where to apply this. I
saw the downstream change but why is this not done for example in say
IntentHandler. There are also other places where chrome intents out to another
app. Can you elaborate on this here or in the bug thread?</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg12"
           name="11">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(11)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-11">
                          I filed https://code.google.com/p/chromium/issues/detail?id=482113 to track adding calls to validateIntentUrl now.
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 18:43:55 UTC)
                <a href="#msg12">#12</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-11"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-11"
            >I filed <a href="https://code.google.com/p/chromium/issues/detail?id=482113" rel="nofollow">https://code.google.com/p/chromium/issues/detail?id=482113</a> to track
adding calls to validateIntentUrl now.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg13"
           name="12">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(12)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-12">
                          I filed https://code.google.com/p/chromium/issues/detail?id=482113 to track adding calls to validateIntentUrl now.
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 18:43:58 UTC)
                <a href="#msg13">#13</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-12"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-12"
            >I filed <a href="https://code.google.com/p/chromium/issues/detail?id=482113" rel="nofollow">https://code.google.com/p/chromium/issues/detail?id=482113</a> to track
adding calls to validateIntentUrl now.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg14"
           name="13">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(13)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-13">
                          The CQ bit was checked by palmer@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 18:44:53 UTC)
                <a href="#msg14">#14</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-13"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-13"
            >The CQ bit was checked by <a href="mailto:palmer@chromium.org">palmer@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg15"
           name="14">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(14)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-14">
                          CQ is trying da patch. Follow status at https://chromium-cq-status.appspot.com/patch-status/1059413004/40001
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 18:46:04 UTC)
                <a href="#msg15">#15</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-14"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-14"
            >CQ is trying da patch. Follow status at
 <a href="https://chromium-cq-status.appspot.com/patch-status/1059413004/40001" rel="nofollow">https://chromium-cq-status.appspot.com/patch-status/1059413004/40001</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg16"
           name="15">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(15)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-15">
                          The CQ bit was unchecked by commit-bot@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 19:44:15 UTC)
                <a href="#msg16">#16</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-15"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-15"
            >The CQ bit was unchecked by <a href="mailto:commit-bot@chromium.org">commit-bot@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg17"
           name="16">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(16)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-16">
                          Try jobs failed on following builders: linux_android_rel_ng on tryserver.chromium.linux (JOB_FAILED, http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_rel_ng/builds/17104)
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 19:44:15 UTC)
                <a href="#msg17">#17</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-16"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-16"
            >Try jobs failed on following builders:
  linux_android_rel_ng on tryserver.chromium.linux (JOB_FAILED,
<a href="http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_rel_ng/builds/17104" rel="nofollow">http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_r...</a>)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg18"
           name="17">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(17)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-17">
                          The CQ bit was checked by palmer@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 20:10:12 UTC)
                <a href="#msg18">#18</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-17"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-17"
            >The CQ bit was checked by <a href="mailto:palmer@chromium.org">palmer@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg19"
           name="18">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(18)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-18">
                          The patchset sent to the CQ was uploaded after l-g-t-m from yfriedman@chromium.org Link to the ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 20:10:13 UTC)
                <a href="#msg19">#19</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-18"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-18"
            >The patchset sent to the CQ was uploaded after l-g-t-m from
<a href="mailto:yfriedman@chromium.org">yfriedman@chromium.org</a>
Link to the patchset: <a href="https://codereview.chromium.org/1059413004/#ps60001" rel="nofollow">https://codereview.chromium.org/1059413004/#ps60001</a>
(title: &quot;Defend against null dereferences.&quot;)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg20"
           name="19">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(19)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-19">
                          CQ is trying da patch. Follow status at https://chromium-cq-status.appspot.com/patch-status/1059413004/60001
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 20:10:27 UTC)
                <a href="#msg20">#20</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-19"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-19"
            >CQ is trying da patch. Follow status at
 <a href="https://chromium-cq-status.appspot.com/patch-status/1059413004/60001" rel="nofollow">https://chromium-cq-status.appspot.com/patch-status/1059413004/60001</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg21"
           name="20">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(20)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-20">
                          The CQ bit was unchecked by commit-bot@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 21:15:21 UTC)
                <a href="#msg21">#21</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-20"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-20"
            >The CQ bit was unchecked by <a href="mailto:commit-bot@chromium.org">commit-bot@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg22"
           name="21">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(21)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-21">
                          Try jobs failed on following builders: linux_android_rel_ng on tryserver.chromium.linux (JOB_FAILED, http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_rel_ng/builds/17147)
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-28 21:15:22 UTC)
                <a href="#msg22">#22</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-21"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-21"
            >Try jobs failed on following builders:
  linux_android_rel_ng on tryserver.chromium.linux (JOB_FAILED,
<a href="http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_rel_ng/builds/17147" rel="nofollow">http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_r...</a>)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg23"
           name="22">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(22)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-22">
                          &gt; Try jobs failed on following builders: &gt; linux_android_rel_ng on tryserver.chromium.linux (JOB_FAILED, &gt; http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_rel_ng/builds/17147) Does ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 17:52:21 UTC)
                <a href="#msg23">#23</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-22"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-22"
            >&gt; Try jobs failed on following builders:
&gt;   linux_android_rel_ng on tryserver.chromium.linux (JOB_FAILED,
&gt;
<a href="http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_rel_ng/builds/17147" rel="nofollow">http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_r...</a>)

Does anyone have a clue as to why this is failing (line 118)? It does not fail
for me on 2 devices running 2 different versions of Android. All tests pass for
me locally.

assertTrue(UrlUtilities.validateIntentUrl(
 119                
&quot;intent://wump_hey.example.com/#Intent;package=com.example.wump;&quot;
 120                 + &quot;scheme=eeek;action=frighten_children;end;&quot;));</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg24"
           name="23">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(23)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Yaron</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-23">
                          On 2015/04/29 17:52:21, palmer wrote: &gt; &gt; Try jobs failed on following builders: &gt; &gt; ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 18:50:21 UTC)
                <a href="#msg24">#24</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-23"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-23"
            >On 2015/04/29 17:52:21, palmer wrote:
&gt; &gt; Try jobs failed on following builders:
&gt; &gt;   linux_android_rel_ng on tryserver.chromium.linux (JOB_FAILED,
&gt; &gt;
&gt;
<a href="http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_rel_ng/builds/17147" rel="nofollow">http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_r...</a>)
&gt; 
&gt; Does anyone have a clue as to why this is failing (line 118)? It does not fail
&gt; for me on 2 devices running 2 different versions of Android. All tests pass
for
&gt; me locally.
&gt; 
&gt; assertTrue(UrlUtilities.validateIntentUrl(
&gt;  119                
&gt; &quot;intent://wump_hey.example.com/#Intent;package=com.example.wump;&quot;
&gt;  120                 + &quot;scheme=eeek;action=frighten_children;end;&quot;));

Can you add logs to each early return to see which assert is failing?
The only other weirdness I&#39;ve seen sometimes only on bots is to run
build/android/provision_devices.py which makes some changes to your device
config.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg25"
           name="24">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(24)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>Ted C</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-24">
                          Is it the underscore in wump_hey (all others are wump-hey)? That doesn&#39;t look like it ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 18:55:09 UTC)
                <a href="#msg25">#25</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-24"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-24"
            >Is it the underscore in wump_hey (all others are wump-hey)?  That doesn&#39;t
look like it should match &quot;^[\\w\\.-]*$&quot;

Granted, why that wouldn&#39;t fail locally is probably more frightening.

Might be worth a brief comment above each test assert to clarify what
exactly it is verifying (I can&#39;t tell if that test is to verify that _
works or whether it is a side effect).

- Ted

On Wed, Apr 29, 2015 at 10:52 AM, &lt;<a href="mailto:palmer@chromium.org">palmer@chromium.org</a>&gt; wrote:

&gt; Try jobs failed on following builders:
&gt;&gt;    linux_android_rel_ng on tryserver.chromium.linux (JOB_FAILED,
&gt;&gt;
&gt;
&gt;
&gt;
<a href="http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_rel_ng/builds/17147" rel="nofollow">http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_android_r...</a>
&gt; )
&gt;
&gt; Does anyone have a clue as to why this is failing (line 118)? It does not
&gt; fail
&gt; for me on 2 devices running 2 different versions of Android. All tests
&gt; pass for
&gt; me locally.
&gt;
&gt; assertTrue(UrlUtilities.validateIntentUrl(
&gt;  119
&gt; &quot;intent://wump_hey.example.com/#Intent;package=com.example.wump;&quot;
&gt;  120                 + &quot;scheme=eeek;action=frighten_children;end;&quot;));
&gt;
&gt; <a href="https://codereview.chromium.org/1059413004/" rel="nofollow">https://codereview.chromium.org/1059413004/</a>
&gt;

To unsubscribe from this group and stop receiving emails from it, send an email
to <a href="mailto:chromium-reviews+unsubscribe@chromium.org">chromium-reviews+unsubscribe@chromium.org</a>.
</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg26"
           name="25">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(25)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-25">
                          &gt; Can you add logs to each early return to see which assert is failing? ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 19:06:05 UTC)
                <a href="#msg26">#26</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-25"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-25"
            >&gt; Can you add logs to each early return to see which assert is failing?

OK, will try that.

&gt; The only other weirdness I&#39;ve seen sometimes only on bots is to run
&gt; build/android/provision_devices.py which makes some changes to your device
&gt; config.

Trying that...</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg27"
           name="26">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(26)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-26">
                          On 2015/04/29 18:55:09, Ted C wrote: &gt; Is it the underscore in wump_hey (all others ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 19:07:35 UTC)
                <a href="#msg27">#27</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-26"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-26"
            >On 2015/04/29 18:55:09, Ted C wrote:
&gt; Is it the underscore in wump_hey (all others are wump-hey)?  That doesn&#39;t
&gt; look like it should match &quot;^[\\w\\.-]*$&quot;

\w includes _.
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html" rel="nofollow">https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html</a>:

    \w    A word character: [a-zA-Z_0-9]

&gt; Might be worth a brief comment above each test assert to clarify what
&gt; exactly it is verifying (I can&#39;t tell if that test is to verify that _
&gt; works or whether it is a side effect).

OK.</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg28"
           name="27">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(27)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-27">
                          The CQ bit was checked by palmer@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 22:05:56 UTC)
                <a href="#msg28">#28</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-27"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-27"
            >The CQ bit was checked by <a href="mailto:palmer@chromium.org">palmer@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg29"
           name="28">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(28)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-28">
                          The patchset sent to the CQ was uploaded after l-g-t-m from yfriedman@chromium.org Link to the ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 22:05:56 UTC)
                <a href="#msg29">#29</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-28"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-28"
            >The patchset sent to the CQ was uploaded after l-g-t-m from
<a href="mailto:yfriedman@chromium.org">yfriedman@chromium.org</a>
Link to the patchset: <a href="https://codereview.chromium.org/1059413004/#ps160001" rel="nofollow">https://codereview.chromium.org/1059413004/#ps160001</a>
(title: &quot;The _ test reliably passes locally and fails on the bot; reversing the
assert reliably reverses the…&quot;)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg30"
           name="29">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(29)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-29">
                          CQ is trying da patch. Follow status at https://chromium-cq-status.appspot.com/patch-status/1059413004/160001
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 22:06:44 UTC)
                <a href="#msg30">#30</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-29"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-29"
            >CQ is trying da patch. Follow status at
 <a href="https://chromium-cq-status.appspot.com/patch-status/1059413004/160001" rel="nofollow">https://chromium-cq-status.appspot.com/patch-status/1059413004/160001</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg31"
           name="30">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(30)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-30">
                          The CQ bit was unchecked by commit-bot@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 22:15:50 UTC)
                <a href="#msg31">#31</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-30"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-30"
            >The CQ bit was unchecked by <a href="mailto:commit-bot@chromium.org">commit-bot@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg32"
           name="31">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(31)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-31">
                          Try jobs failed on following builders: chromium_presubmit on tryserver.chromium.linux (JOB_FAILED, http://build.chromium.org/p/tryserver.chromium.linux/builders/chromium_presubmit/builds/60060)
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 22:15:51 UTC)
                <a href="#msg32">#32</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-31"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-31"
            >Try jobs failed on following builders:
  chromium_presubmit on tryserver.chromium.linux (JOB_FAILED,
<a href="http://build.chromium.org/p/tryserver.chromium.linux/builders/chromium_presubmit/builds/60060" rel="nofollow">http://build.chromium.org/p/tryserver.chromium.linux/builders/chromium_presub...</a>)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg33"
           name="32">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(32)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-32">
                          The CQ bit was checked by palmer@chromium.org
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 22:57:54 UTC)
                <a href="#msg33">#33</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-32"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-32"
            >The CQ bit was checked by <a href="mailto:palmer@chromium.org">palmer@chromium.org</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    generated"
           style="display: none"
           id="generated-msg34"
           name="33">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(33)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>palmer</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-33">
                          The patchset sent to the CQ was uploaded after l-g-t-m from yfriedman@chromium.org Link to the ...
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 22:57:54 UTC)
                <a href="#msg34">#34</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-33"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-33"
            >The patchset sent to the CQ was uploaded after l-g-t-m from
<a href="mailto:yfriedman@chromium.org">yfriedman@chromium.org</a>
Link to the patchset: <a href="https://codereview.chromium.org/1059413004/#ps180001" rel="nofollow">https://codereview.chromium.org/1059413004/#ps180001</a>
(title: &quot;Why are the presubmit checks different on the bots vs. local? import
org.chromium.base.Log;&quot;)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message    "
           
           id="msg35"
           name="34">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(34)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-34">
                          CQ is trying da patch. Follow status at https://chromium-cq-status.appspot.com/patch-status/1059413004/180001
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 22:59:03 UTC)
                <a href="#msg35">#35</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-34"
             style="display: none;">
          <div class="message-body">
            
            <pre name="cl-message-34"
            >CQ is trying da patch. Follow status at
 <a href="https://chromium-cq-status.appspot.com/patch-status/1059413004/180001" rel="nofollow">https://chromium-cq-status.appspot.com/patch-status/1059413004/180001</a></pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg36"
           name="35">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(35)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden;"
                           class="extra"
                           id="cl-preview-35">
                          Committed patchset #10 (id:180001)
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 23:28:19 UTC)
                <a href="#msg36">#36</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-35"
             style="display: none;">
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-35"
            >Committed patchset #10 (id:180001)</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    
      <div class="message issue_was_closed   "
           
           id="msg37"
           name="36">
        <div class="header">
          <table border="0" width="100%" cellspacing="0" cellpadding="0">
            <tr class="comment_title"
                onclick="M_switchChangelistComment(36)">
              <td style="padding-left: 5px; white-space: nowrap;">
                <b>commit-bot: I haz the power</b>
              </td>
              <td width="100%" style="overflow:hidden;">
                <table style="table-layout:fixed; white-space: nowrap;"
                       width="100%">
                  <tr>
                    <td>
                      <span style="white-space: nowrap; overflow: hidden; display: none;"
                           class="extra"
                           id="cl-preview-36">
                          Patchset 10 (id:??) landed as https://crrev.com/e8b8c72eb8eb462c52a707c556d53d350bbd408d Cr-Commit-Position: refs/heads/master@{#327613}
                      </span>
                    </td>
                  </tr>
                </table>
              </td>
              <td align="right"
                  style="white-space: nowrap; padding-right: 5px; padding-left: 3px;">
                5 years, 7 months ago
		(2015-04-29 23:29:20 UTC)
                <a href="#msg37">#37</a>
              </td>
            </tr>
          </table>
        </div>

        <div id="cl-comment-36"
             >
          <div class="message-body">
            
              <span class="extra-note">
                Message was sent while issue was closed.
              </span>
            
            <pre name="cl-message-36"
            >Patchset 10 (id:??) landed as
<a href="https://crrev.com/e8b8c72eb8eb462c52a707c556d53d350bbd408d" rel="nofollow">https://crrev.com/e8b8c72eb8eb462c52a707c556d53d350bbd408d</a>
Cr-Commit-Position: refs/heads/master@{#327613}</pre>
          </div>
          <div class="message-footer"></div>
        </div>

      </div>
    

    <div>
      <a href="javascript:M_expandAllVisibleComments('cl', 37)">
        Expand Messages</a>
      |
      <a href="javascript:M_collapseAllVisibleComments('cl', 37)">
        Collapse Messages</a>
      
      |
      <a href="javascript:M_showGeneratedComments(37)">
        Show Generated Messages</a>
      |
      <a href="javascript:M_hideGeneratedComments(37)">
        Hide Generated Messages</a>
      
    </div>

  </div>

<script language="JavaScript" type="text/javascript">
<!--
var lastMsgID = 37;
// -->
</script>




<script language="JavaScript" type="text/javascript">
  <!--
    document.onkeydown = M_changelistKeyDown;
    var dashboardState = new M_DashboardState(window, 'patch', 'M_CLPatchMarker');
    var issueId = 1059413004;
    M_toggleIssueOverviewByAnchor();
  // -->
</script>



      </td>
    </tr>
  </table>

</div>

  
    <div class="popup" id="popup-issue">
      <b>Issue 1059413004: Add a validator for intent:// URLs.
     (Closed) </b><br/>
      Created 5 years, 8 months ago by Chris Palmer<br/>
      Modified 5 years, 7 months ago<br/>
      Reviewers: Ted C, Jaekyun Seok (inactive), Yaron, palmer, Jay Civelli<br/>
      Base URL: https://chromium.googlesource.com/chromium/src.git@master<br/>
      Comments: 9
      
    </div>
  


<p></p>
<div style="float: left;">
  <a target="_blank" href="http://code.google.com/appengine/"><img border="0"
   src="/static/appengine-noborder-120x30.gif"
   alt="Powered by Google App Engine" /></a>
</div>

<div class="extra" style="font-size: 9pt; float: right; text-align: right;">
  <div style="margin-top: .3em;">This is Rietveld <a href='http://code.google.com/p/rietveld/source/list'>408576698
</a></div>
</div>


<script>
  // Google Analytics.
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55762617-11', {
    'allowLinker': true,
    'siteSpeedSampleRate': 100
  });
  ga('require', 'linker');
  ga('linker:autoLink',
     ['chromiumcodereview.appspot.com', 'codereview.chromium.org'] );
  ga('send', 'pageview');

  // CRDX Feedback button.
  (function(i,s,o,g,r,a,m){i['CrDXObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://storage.googleapis.com/crdx-feedback.appspot.com/feedback.js','crdx');

  crdx('setFeedbackButtonLink',
      'https://bugs.chromium.org/p/chromium/issues/entry?cc=andybons@chromium.org&components=Infra%3ECodereview%3ERietveld&labels=Infra-DX');
</script>


</body>
</html>
