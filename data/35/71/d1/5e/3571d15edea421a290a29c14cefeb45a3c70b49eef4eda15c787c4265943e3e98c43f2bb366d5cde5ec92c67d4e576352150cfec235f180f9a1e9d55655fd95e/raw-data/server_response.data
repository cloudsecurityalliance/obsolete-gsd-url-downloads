<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#756630 - shadow: CVE-2017-12424: newusers fails with multiple users - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=756630&quot;&gt;756630&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:756630@bugs.debian.org">#756630</a><br>
shadow: CVE-2017-12424: newusers fails with multiple users</h1>
<div class="versiongraph"><a href="version.cgi?package=passwd;collapse=1;info=1;absolute=0;fixed=shadow%2F1%3A4.5-1"><img alt="version graph" src="version.cgi?collapse=1;width=2;package=passwd;fixed=shadow%2F1%3A4.5-1;height=2;absolute=0"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=passwd">passwd</a>;
Maintainer for <a href="pkgreport.cgi?package=passwd">passwd</a> is <a href="pkgreport.cgi?maint=pkg-shadow-devel%40lists.alioth.debian.org">Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</a>; Source for <a href="pkgreport.cgi?package=passwd">passwd</a> is <a href="pkgreport.cgi?src=shadow">src:shadow</a> (<a href="https://tracker.debian.org/pkg/shadow">PTS</a>, <a href="https://buildd.debian.org/shadow">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=shadow">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=manfred%40dri.at">Manfred Richter &lt;manfred@dri.at&gt;</a></p>
  <p>Date: Thu, 31 Jul 2014 14:57:01 UTC</p>

<p>Severity: normal</p>
<p>Tags: fixed-upstream, patch, security, upstream</p>

<p>Fixed in version shadow/1:4.5-1</p>

<p><strong>Done:</strong> Balint Reczey &lt;rbalint@ubuntu.com&gt;</p>

<p>Bug is archived. No further changes may be made.<p></div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=756630;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, unknown-package@qa.debian.org -->
<!-- time:1406818626 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, unknown-package@qa.debian.org</code>:<br>
<code>Bug#756630</code>; Package <code>newusers</code>.
 (Thu, 31 Jul 2014 14:57:06 GMT) (<a href="bugreport.cgi?bug=756630;msg=2">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Manfred Richter &lt;manfred@dri.at&gt; -->
<!-- time:1406818626 -->
<strong>Acknowledgement sent</strong>
to <code>Manfred Richter &lt;manfred@dri.at&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>unknown-package@qa.debian.org</code>.
 (Thu, 31 Jul 2014 14:57:06 GMT) (<a href="bugreport.cgi?bug=756630;msg=4">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=756630;msg=5">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=5">mbox</a>, <a href="mailto:756630@bugs.debian.org?In-Reply-To=%3C53DA52AA.40206%40dri.at%3E&amp;References=%3C53DA52AA.40206%40dri.at%3E&amp;body=On%20Thu%2C%2031%20Jul%202014%2016%3A28%3A58%20%2B0200%20Manfred%20Richter%20%3Cmanfred%40dri.at%3E%20wrote%3A%0A%3E%20Package%3Anewusers%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%201.%20There%20are%20no%20such%20programs%20as%20%2Ainstallation-report%20%2Aand%2Areportbug%0A%3E%20%0A%3E%202.%20My%20problem%3A%0A%3E%20%2AWhat%20happend%20to%20the%20program%20%22newusers%22%3F%0A%3E%20%0A%3E%20root%40srv2%3A~%23%20newusers%20new_users%0A%3E%20%2A%2A%2A%20Error%20in%20%60newusers%27%3A%20double%20free%20or%20corruption%20%28%21prev%29%3A%20%0A%3E%200x000000000193e200%20%2A%2A%2A%0A%3E%20Aborted%0A%3E%20%0A&amp;subject=Re%3A%20Package%3Anewusers">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=manfred%40dri.at" alt="">
<div class="header"><span class="headerfield">From:</span> Manfred Richter &lt;manfred@dri.at&gt;</div>
<div class="header"><span class="headerfield">To:</span> submit@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Package:newusers</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 31 Jul 2014 16:28:58 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=756630;msg=5">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message flowed">Package:newusers



1. There are no such programs as *installation-report *and*reportbug

2. My problem:
*What happend to the program &quot;newusers&quot;?

root@srv2:~# newusers new_users
*** Error in `newusers&#39;: double free or corruption (!prev): 
0x000000000193e200 ***
Aborted

</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=756630;msg=5">Message part 2</a> (text/html, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="6"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, unknown-package@qa.debian.org -->
<!-- time:1406830871 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, unknown-package@qa.debian.org</code>:<br>
<code>Bug#756630</code>; Package <code>newusers</code>.
 (Thu, 31 Jul 2014 18:21:11 GMT) (<a href="bugreport.cgi?bug=756630;msg=7">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="8"></a><a name="msg8"></a><a href="#8">Message #8</a> received at 756630@bugs.debian.org (<a href="bugreport.cgi?bug=756630;msg=8">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=8">mbox</a>, <a href="mailto:756630@bugs.debian.org?In-Reply-To=%3C20140731181706.GF1260%40sid.nuvreauspam%3E&amp;References=%3C53DA52AA.40206%40dri.at%3E%0A%20%3C20140731181706.GF1260%40sid.nuvreauspam%3E&amp;subject=Re%3A%20Bug%23756630%3A%20Package%3Anewusers&amp;body=On%20Thu%2C%2031%20Jul%202014%2021%3A17%3A06%20%2B0300%20Andrei%20POPESCU%20%3Candreimpopescu%40gmail.com%3E%20wrote%3A%0A%3E%20Control%3A%20reassign%20-1%20passwd%0A%3E%20%0A%3E%20On%20Jo%2C%2031%20iul%2014%2C%2016%3A28%3A58%2C%20Manfred%20Richter%20wrote%3A%0A%3E%20%3E%20Package%3Anewusers%0A%3E%20%3E%20%0A%3E%20%3E%20%0A%3E%20%3E%20%0A%3E%20%3E%201.%20There%20are%20no%20such%20programs%20as%20%2Ainstallation-report%20%2Aand%2Areportbug%0A%3E%20%0A%3E%20https%3A%2F%2Fpackages.debian.org%2Freportbug%0A%3E%20https%3A%2F%2Fpackages.debian.org%2Finstallation-report%0A%3E%20%0A%3E%20%3E%202.%20My%20problem%3A%0A%3E%20%3E%20%2AWhat%20happend%20to%20the%20program%20%22newusers%22%3F%0A%3E%20%3E%20%0A%3E%20%3E%20root%40srv2%3A~%23%20newusers%20new_users%0A%3E%20%3E%20%2A%2A%2A%20Error%20in%20%60newusers%27%3A%20double%20free%20or%20corruption%20%28%21prev%29%3A%0A%3E%20%3E%200x000000000193e200%20%2A%2A%2A%0A%3E%20%3E%20Aborted%0A%3E%20%3E%20%0A%3E%20%0A%3E%20--%20%0A%3E%20http%3A%2F%2Fwiki.debian.org%2FFAQsFromDebianUser%0A%3E%20Offtopic%20discussions%20among%20Debian%20users%20and%20developers%3A%0A%3E%20http%3A%2F%2Flists.alioth.debian.org%2Fmailman%2Flistinfo%2Fd-community-offtopic%0A%3E%20http%3A%2F%2Fnuvreauspam.ro%2Fgpg-transition.txt%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=andreimpopescu%40gmail.com" alt="">
<div class="header"><span class="headerfield">From:</span> Andrei POPESCU &lt;andreimpopescu@gmail.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> Manfred Richter &lt;manfred@dri.at&gt;, 756630@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> passwd@packages.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#756630: Package:newusers</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 31 Jul 2014 21:17:06 +0300</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=756630;msg=8">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Control: reassign -1 passwd

On Jo, 31 iul 14, 16:28:58, Manfred Richter wrote:
&gt; Package:newusers
&gt; 
&gt; 
&gt; 
&gt; 1. There are no such programs as *installation-report *and*reportbug

<a href="https://packages.debian.org/reportbug">https://packages.debian.org/reportbug</a>
<a href="https://packages.debian.org/installation-report">https://packages.debian.org/installation-report</a>

&gt; 2. My problem:
&gt; *What happend to the program &quot;newusers&quot;?
&gt; 
&gt; root@srv2:~# newusers new_users
&gt; *** Error in `newusers&#39;: double free or corruption (!prev):
&gt; 0x000000000193e200 ***
&gt; Aborted
&gt; 

-- 
<a href="http://wiki.debian.org/FAQsFromDebianUser">http://wiki.debian.org/FAQsFromDebianUser</a>
Offtopic discussions among Debian users and developers:
<a href="http://lists.alioth.debian.org/mailman/listinfo/d-community-offtopic">http://lists.alioth.debian.org/mailman/listinfo/d-community-offtopic</a>
<a href="http://nuvreauspam.ro/gpg-transition.txt">http://nuvreauspam.ro/gpg-transition.txt</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=756630;filename=signature.asc;msg=8">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="9"></a>
<!-- command:package -->
<!-- requester: Andrei POPESCU &lt;andreimpopescu@gmail.com&gt; -->
<!-- request_addr: 756630-submit@bugs.debian.org -->
<!-- time:1406830871 -->
<!-- new_data:
$new_data = {
              &#39;package&#39; =&gt; &#39;passwd&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;package&#39; =&gt; &#39;newusers&#39;
            };
-->
<strong>Bug reassigned from package &#39;<a href="pkgreport.cgi?package=newusers">newusers</a>&#39; to &#39;<a href="pkgreport.cgi?package=passwd">passwd</a>&#39;.</strong>
Request was from <code>Andrei POPESCU &lt;andreimpopescu@gmail.com&gt;</code>
to <code>756630-submit@bugs.debian.org</code>.
 (Thu, 31 Jul 2014 18:21:11 GMT) (<a href="bugreport.cgi?bug=756630;msg=10">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=10">mbox</a>, <a href="#9">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="11"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt; -->
<!-- time:1409644805 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#756630</code>; Package <code>passwd</code>.
 (Tue, 02 Sep 2014 08:00:05 GMT) (<a href="bugreport.cgi?bug=756630;msg=12">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="13"></a>
<!-- request_addr: monga@debian.org -->
<!-- time:1409644805 -->
<strong>Acknowledgement sent</strong>
to <code>monga@debian.org</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>.
 (Tue, 02 Sep 2014 08:00:05 GMT) (<a href="bugreport.cgi?bug=756630;msg=14">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=14">mbox</a>, <a href="#13">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="15"></a><a name="msg15"></a><a href="#15">Message #15</a> received at 756630@bugs.debian.org (<a href="bugreport.cgi?bug=756630;msg=15">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=15">mbox</a>, <a href="mailto:756630@bugs.debian.org?References=%3CCAB2A3Xk3ai-Yhp2Ccfw%2Bp5OKKz5v2sWWfQFmUTBmHqmr1QXdcA%40mail.gmail.com%3E&amp;In-Reply-To=%3CCAB2A3Xk3ai-Yhp2Ccfw%2Bp5OKKz5v2sWWfQFmUTBmHqmr1QXdcA%40mail.gmail.com%3E&amp;body=On%20Tue%2C%202%20Sep%202014%2009%3A59%3A09%20%2B0200%20Mattia%20Monga%20%3Cmonga%40debian.org%3E%20wrote%3A%0A%3E%20%20I%20can%20confirm%20the%20bug%20on%20jessie.%0A%3E%20%0A%3E%20newusers%20file%0A%3E%20%0A%3E%20works%20correctly%20if%20file%20contains%20just%20one%20line%2C%20but%20it%20fails%20when%20it%0A%3E%20has%20multiple%20entries%0A%3E%20%0A%3E%20%2A%2A%2A%20Error%20in%20%60newusers%27%3A%20free%28%29%3A%20invalid%20next%20size%20%28fast%29%3A%200xf95b5ed8%20%2A%2A%2A%0A%3E%20Aborted%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20The%20bug%20is%20know%20also%20here%0A%3E%20%0A%3E%20https%3A%2F%2Fbugs.launchpad.net%2Fubuntu%2F%2Bsource%2Fshadow%2F%2Bbug%2F1266675%0A%3E%20%0A%3E%20%0A%3E%20Best%2C%0A%3E%20%0A%3E%20--%20%0A%3E%20Mattia%20Monga%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20newusers%20fails%20with%20multiple%20users">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=monga%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Mattia Monga &lt;monga@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 756630@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> newusers fails with multiple users</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 2 Sep 2014 09:59:09 +0200</div>
</div>
<pre class="message"> I can confirm the bug on jessie.

newusers file

works correctly if file contains just one line, but it fails when it
has multiple entries

*** Error in `newusers&#39;: free(): invalid next size (fast): 0xf95b5ed8 ***
Aborted



The bug is know also here

<a href="https://bugs.launchpad.net/ubuntu/+source/shadow/+bug/1266675">https://bugs.launchpad.net/ubuntu/+source/shadow/+bug/1266675</a>


Best,

-- 
Mattia Monga


</pre>

<div class="infmessage"><hr><p>
<a name="16"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt; -->
<!-- time:1466502671 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#756630</code>; Package <code>passwd</code>.
 (Tue, 21 Jun 2016 09:51:11 GMT) (<a href="bugreport.cgi?bug=756630;msg=17">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=17">mbox</a>, <a href="#16">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="18"></a>
<!-- request_addr: Mònica Ramírez Arceda &lt;monica@debian.org&gt; -->
<!-- time:1466502671 -->
<strong>Acknowledgement sent</strong>
to <code>Mònica Ramírez Arceda &lt;monica@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>.
 (Tue, 21 Jun 2016 09:51:11 GMT) (<a href="bugreport.cgi?bug=756630;msg=19">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=19">mbox</a>, <a href="#18">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="20"></a><a name="msg20"></a><a href="#20">Message #20</a> received at 756630@bugs.debian.org (<a href="bugreport.cgi?bug=756630;msg=20">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=20">mbox</a>, <a href="mailto:756630@bugs.debian.org?subject=Re%3A%20newusers%20fails%20adding%20multiple%20users&amp;body=On%20Tue%2C%2021%20Jun%202016%2011%3A42%3A25%20%2B0200%20%3D%3Futf-8%3FQ%3FM%3DC3%3DB2nica_Ram%3DC3%3DADrez%3F%3D%20Arceda%20%3Cmonica%40debian.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20I%20can%20confirm%20this%20bug.%20Using%20a%20file%20with%205%20new%20users%20I%20get%20the%0A%3E%20following%20error%3A%0A%3E%20%0A%3E%20%23%20newusers%205users.csv%20%0A%3E%20%2A%2A%2A%20Error%20in%20%60newusers%27%3A%20double%20free%20or%20corruption%20%28%21prev%29%3A%200x0000000001ae2d10%20%2A%2A%2A%0A%3E%20Aborted%0A%3E%20%0A%3E%20A%20curious%20detail%3A%20if%20the%20first%204%20users%20are%20already%20created%20and%20I%20run%0A%3E%20newusers%2C%20the%205th%20one%20is%20added%20without%20problems.%20If%20I%20have%206%20users%20in%0A%3E%20the%20file%20and%20the%20first%205%20users%20are%20already%20created%20the%206th%20one%20is%20added%0A%3E%20without%20problems.%20And%20so%20on.%0A%3E%20%0A%3E%20%24%20dpkg%20-s%20passwd%20%7C%20grep%20%27Version%27%0A%3E%20Version%3A%201%3A4.2-3.1%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C87ziqeri7y.fsf%40probeta.net%3E&amp;References=%3C87ziqeri7y.fsf%40probeta.net%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=monica%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Mònica Ramírez Arceda &lt;monica@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 756630@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> newusers fails adding multiple users</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Jun 2016 11:42:25 +0200</div>
</div>
<pre class="message">Hi,

I can confirm this bug. Using a file with 5 new users I get the
following error:

# newusers 5users.csv 
*** Error in `newusers&#39;: double free or corruption (!prev): 0x0000000001ae2d10 ***
Aborted

A curious detail: if the first 4 users are already created and I run
newusers, the 5th one is added without problems. If I have 6 users in
the file and the first 5 users are already created the 6th one is added
without problems. And so on.

$ dpkg -s passwd | grep &#39;Version&#39;
Version: 1:4.2-3.1


</pre>

<div class="infmessage"><hr><p>
<a name="21"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt; -->
<!-- time:1466894884 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#756630</code>; Package <code>passwd</code>.
 (Sat, 25 Jun 2016 22:48:04 GMT) (<a href="bugreport.cgi?bug=756630;msg=22">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=22">mbox</a>, <a href="#21">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="23"></a>
<!-- request_addr: &quot;Serge E. Hallyn&quot; &lt;serge@hallyn.com&gt; -->
<!-- time:1466894884 -->
<strong>Acknowledgement sent</strong>
to <code>&quot;Serge E. Hallyn&quot; &lt;serge@hallyn.com&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>.
 (Sat, 25 Jun 2016 22:48:04 GMT) (<a href="bugreport.cgi?bug=756630;msg=24">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=24">mbox</a>, <a href="#23">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="25"></a><a name="msg25"></a><a href="#25">Message #25</a> received at 756630@bugs.debian.org (<a href="bugreport.cgi?bug=756630;msg=25">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=25">mbox</a>, <a href="mailto:756630@bugs.debian.org?subject=Re%3A%20%5BPkg-shadow-devel%5D%20Bug%23756630%3A%20newusers%20fails%20adding%20multiple%0A%20users&amp;body=On%20Sat%2C%2025%20Jun%202016%2017%3A36%3A52%20-0500%20%22Serge%20E.%20Hallyn%22%20%3Cserge%40hallyn.com%3E%20wrote%3A%0A%3E%20On%20Tue%2C%20Jun%2021%2C%202016%20at%2011%3A42%3A25AM%20%2B0200%2C%20M%C3%B2nica%20Ram%C3%ADrez%20Arceda%20wrote%3A%0A%3E%20%3E%20Hi%2C%0A%3E%20%3E%20%0A%3E%20%3E%20I%20can%20confirm%20this%20bug.%20Using%20a%20file%20with%205%20new%20users%20I%20get%20the%0A%3E%20%3E%20following%20error%3A%0A%3E%20%3E%20%0A%3E%20%3E%20%23%20newusers%205users.csv%20%0A%3E%20%3E%20%2A%2A%2A%20Error%20in%20%60newusers%27%3A%20double%20free%20or%20corruption%20%28%21prev%29%3A%200x0000000001ae2d10%20%2A%2A%2A%0A%3E%20%3E%20Aborted%0A%3E%20%0A%3E%20Could%20you%20run%20that%20in%20gdb%20and%20show%20the%20backtrace%20here%3F%20%20It%20smells%20like%0A%3E%20a%20bad%20realloc.%0A%3E%20%0A%3E%20%3E%20A%20curious%20detail%3A%20if%20the%20first%204%20users%20are%20already%20created%20and%20I%20run%0A%3E%20%3E%20newusers%2C%20the%205th%20one%20is%20added%20without%20problems.%20If%20I%20have%206%20users%20in%0A%3E%20%3E%20the%20file%20and%20the%20first%205%20users%20are%20already%20created%20the%206th%20one%20is%20added%0A%3E%20%3E%20without%20problems.%20And%20so%20on.%0A%3E%20%3E%20%0A%3E%20%3E%20%24%20dpkg%20-s%20passwd%20%7C%20grep%20%27Version%27%0A%3E%20%3E%20Version%3A%201%3A4.2-3.1%0A%3E%20%3E%20%0A%3E%20%3E%20_______________________________________________%0A%3E%20%3E%20Pkg-shadow-devel%20mailing%20list%0A%3E%20%3E%20Pkg-shadow-devel%40lists.alioth.debian.org%0A%3E%20%3E%20http%3A%2F%2Flists.alioth.debian.org%2Fcgi-bin%2Fmailman%2Flistinfo%2Fpkg-shadow-devel%0A%3E%20%0A%3E%20%0A&amp;References=%3C87ziqeri7y.fsf%40probeta.net%3E%0A%20%3C20160625223652.GA30448%40mail.hallyn.com%3E&amp;In-Reply-To=%3C20160625223652.GA30448%40mail.hallyn.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=serge%40hallyn.com" alt="">
<div class="header"><span class="headerfield">From:</span> &quot;Serge E. Hallyn&quot; &lt;serge@hallyn.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> Mònica Ramírez Arceda &lt;monica@debian.org&gt;,
	756630@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [Pkg-shadow-devel] Bug#756630: newusers fails adding multiple
 users</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 25 Jun 2016 17:36:52 -0500</div>
</div>
<pre class="message">On Tue, Jun 21, 2016 at 11:42:25AM +0200, Mònica Ramírez Arceda wrote:
&gt; Hi,
&gt; 
&gt; I can confirm this bug. Using a file with 5 new users I get the
&gt; following error:
&gt; 
&gt; # newusers 5users.csv 
&gt; *** Error in `newusers&#39;: double free or corruption (!prev): 0x0000000001ae2d10 ***
&gt; Aborted

Could you run that in gdb and show the backtrace here?  It smells like
a bad realloc.

&gt; A curious detail: if the first 4 users are already created and I run
&gt; newusers, the 5th one is added without problems. If I have 6 users in
&gt; the file and the first 5 users are already created the 6th one is added
&gt; without problems. And so on.
&gt; 
&gt; $ dpkg -s passwd | grep &#39;Version&#39;
&gt; Version: 1:4.2-3.1
&gt; 
&gt; _______________________________________________
&gt; Pkg-shadow-devel mailing list
&gt; Pkg-shadow-devel@lists.alioth.debian.org
&gt; <a href="http://lists.alioth.debian.org/cgi-bin/mailman/listinfo/pkg-shadow-devel">http://lists.alioth.debian.org/cgi-bin/mailman/listinfo/pkg-shadow-devel</a>


</pre>

<div class="infmessage"><hr><p>
<a name="26"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt; -->
<!-- time:1492386303 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#756630</code>; Package <code>passwd</code>.
 (Sun, 16 Apr 2017 23:45:03 GMT) (<a href="bugreport.cgi?bug=756630;msg=27">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=27">mbox</a>, <a href="#26">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="28"></a>
<!-- request_addr: James Collier &lt;jcollier-debian@matahua.com&gt; -->
<!-- time:1492386303 -->
<strong>Acknowledgement sent</strong>
to <code>James Collier &lt;jcollier-debian@matahua.com&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>.
 (Sun, 16 Apr 2017 23:45:03 GMT) (<a href="bugreport.cgi?bug=756630;msg=29">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=29">mbox</a>, <a href="#28">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="30"></a><a name="msg30"></a><a href="#30">Message #30</a> received at 756630@bugs.debian.org (<a href="bugreport.cgi?bug=756630;msg=30">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=30">mbox</a>, <a href="mailto:756630@bugs.debian.org?body=On%20Mon%2C%2017%20Apr%202017%2011%3A36%3A47%20%2B1200%20James%20Collier%20%3Cjcollier-debian%40matahua.com%3E%20wrote%3A%0A%3E%20As%20requested%3A%0A%3E%20%24%20%20file%20%2Fusr%2Fsbin%2Fnewusers%0A%3E%20%2Fusr%2Fsbin%2Fnewusers%3A%20ELF%2064-bit%20LSB%20shared%20object%2C%20x86-64%2C%20version%201%20%0A%3E%20%28SYSV%29%2C%20dynamically%20linked%2C%20interpreter%20%2Flib64%2Fld-linux-x86-64.so.2%2C%20for%20%0A%3E%20GNU%2FLinux%202.6.32%2C%20%0A%3E%20BuildID%5Bsha1%5D%3D7dffe9a6fe6e2d86a9181e9928d8baea6b389c78%2C%20stripped%0A%3E%20...%0A%3E%20%28gdb%29%20run%20newusers%0A%3E%20Starting%20program%3A%20%2Fusr%2Fsbin%2Fnewusers%20newusers%0A%3E%20%5BThread%20debugging%20using%20libthread_db%20enabled%5D%0A%3E%20Using%20host%20libthread_db%20library%20%22%2Flib%2Fx86_64-linux-gnu%2Flibthread_db.so.1%22.%0A%3E%20%2A%2A%2A%20Error%20in%20%60%2Fusr%2Fsbin%2Fnewusers%27%3A%20double%20free%20or%20corruption%20%28%21prev%29%3A%20%0A%3E%200x00005555557812e0%20%2A%2A%2A%0A%3E%20%0A%3E%20Program%20received%20signal%20SIGABRT%2C%20Aborted.%0A%3E%200x00007ffff71f6067%20in%20__GI_raise%20%28sig%3Dsig%40entry%3D6%29%20at%20%0A%3E%20..%2Fnptl%2Fsysdeps%2Funix%2Fsysv%2Flinux%2Fraise.c%3A56%0A%3E%2056%20%20%20%20..%2Fnptl%2Fsysdeps%2Funix%2Fsysv%2Flinux%2Fraise.c%3A%20No%20such%20file%20or%20directory.%0A%3E%20%28gdb%29%20bt%0A%3E%20%230%20%200x00007ffff71f6067%20in%20__GI_raise%20%28sig%3Dsig%40entry%3D6%29%20at%20%0A%3E%20..%2Fnptl%2Fsysdeps%2Funix%2Fsysv%2Flinux%2Fraise.c%3A56%0A%3E%20%231%20%200x00007ffff71f7448%20in%20__GI_abort%20%28%29%20at%20abort.c%3A89%0A%3E%20%232%20%200x00007ffff72341b4%20in%20__libc_message%20%28do_abort%3Ddo_abort%40entry%3D1%2C%20%0A%3E%20fmt%3Dfmt%40entry%3D0x7ffff7329210%20%22%2A%2A%2A%20Error%20in%20%60%25s%27%3A%20%25s%3A%200x%25s%20%2A%2A%2A%5Cn%22%29%0A%3E%20%20%20%20%20%20at%20..%2Fsysdeps%2Fposix%2Flibc_fatal.c%3A175%0A%3E%20%233%20%200x00007ffff723998e%20in%20malloc_printerr%20%28action%3D1%2C%20str%3D0x7ffff7329318%20%0A%3E%20%22double%20free%20or%20corruption%20%28%21prev%29%22%2C%20ptr%3D%3Coptimized%20out%3E%29%20at%20malloc.c%3A4996%0A%3E%20%234%20%200x00007ffff723a696%20in%20_int_free%20%28av%3D%3Coptimized%20out%3E%2C%20p%3D%3Coptimized%20%0A%3E%20out%3E%2C%20have_lock%3D0%29%20at%20malloc.c%3A3840%0A%3E%20%235%20%200x000055555555f027%20in%20%3F%3F%20%28%29%0A%3E%20%236%20%200x000055555555cdb5%20in%20%3F%3F%20%28%29%0A%3E%20%237%20%200x000055555555cf6e%20in%20%3F%3F%20%28%29%0A%3E%20%238%20%200x000055555555a359%20in%20%3F%3F%20%28%29%0A%3E%20%239%20%200x00005555555581e5%20in%20%3F%3F%20%28%29%0A%3E%20%2310%200x00007ffff71e2b45%20in%20__libc_start_main%20%28main%3D0x555555557870%2C%20%0A%3E%20argc%3D2%2C%20argv%3D0x7fffffffe978%2C%20init%3D%3Coptimized%20out%3E%2C%20fini%3D%3Coptimized%20out%3E%2C%0A%3E%20%20%20%20%20%20rtld_fini%3D%3Coptimized%20out%3E%2C%20stack_end%3D0x7fffffffe968%29%20at%20%0A%3E%20libc-start.c%3A287%0A%3E%20%2311%200x00005555555593d7%20in%20%3F%3F%20%28%29%0A%3E%20%28gdb%29%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20%5BPkg-shadow-devel%5D%20Bug%23756630%3A%20newusers%20fails%20adding%20multiple%0A%20users&amp;References=%3C87ziqeri7y.fsf%40probeta.net%3E%0A%20%3C20160625223652.GA30448%40mail.hallyn.com%3E%0A%20%3C20160625223652.GA30448%40mail.hallyn.com%3E%0A%20%3Ce06f8bb8-dcbf-b7fa-97b2-f06c19889f01%40matahua.com%3E&amp;In-Reply-To=%3Ce06f8bb8-dcbf-b7fa-97b2-f06c19889f01%40matahua.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jcollier-debian%40matahua.com" alt="">
<div class="header"><span class="headerfield">From:</span> James Collier &lt;jcollier-debian@matahua.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> 756630@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [Pkg-shadow-devel] Bug#756630: newusers fails adding multiple
 users</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 17 Apr 2017 11:36:47 +1200</div>
</div>
<pre class="message flowed">As requested:
$  file /usr/sbin/newusers
/usr/sbin/newusers: ELF 64-bit LSB shared object, x86-64, version 1 
(SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for 
GNU/Linux 2.6.32, 
BuildID[sha1]=7dffe9a6fe6e2d86a9181e9928d8baea6b389c78, stripped
...
(gdb) run newusers
Starting program: /usr/sbin/newusers newusers
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.
*** Error in `/usr/sbin/newusers&#39;: double free or corruption (!prev): 
0x00005555557812e0 ***

Program received signal SIGABRT, Aborted.
0x00007ffff71f6067 in __GI_raise (sig=sig@entry=6) at 
../nptl/sysdeps/unix/sysv/linux/raise.c:56
56    ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.
(gdb) bt
#0  0x00007ffff71f6067 in __GI_raise (sig=sig@entry=6) at 
../nptl/sysdeps/unix/sysv/linux/raise.c:56
#1  0x00007ffff71f7448 in __GI_abort () at abort.c:89
#2  0x00007ffff72341b4 in __libc_message (do_abort=do_abort@entry=1, 
fmt=fmt@entry=0x7ffff7329210 &quot;*** Error in `%s&#39;: %s: 0x%s ***\n&quot;)
    at ../sysdeps/posix/libc_fatal.c:175
#3  0x00007ffff723998e in malloc_printerr (action=1, str=0x7ffff7329318 
&quot;double free or corruption (!prev)&quot;, ptr=&lt;optimized out&gt;) at malloc.c:4996
#4  0x00007ffff723a696 in _int_free (av=&lt;optimized out&gt;, p=&lt;optimized 
out&gt;, have_lock=0) at malloc.c:3840
#5  0x000055555555f027 in ?? ()
#6  0x000055555555cdb5 in ?? ()
#7  0x000055555555cf6e in ?? ()
#8  0x000055555555a359 in ?? ()
#9  0x00005555555581e5 in ?? ()
#10 0x00007ffff71e2b45 in __libc_start_main (main=0x555555557870, 
argc=2, argv=0x7fffffffe978, init=&lt;optimized out&gt;, fini=&lt;optimized out&gt;,
    rtld_fini=&lt;optimized out&gt;, stack_end=0x7fffffffe968) at 
libc-start.c:287
#11 0x00005555555593d7 in ?? ()
(gdb)




</pre>

<div class="infmessage"><hr><p>
<a name="31"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt; -->
<!-- time:1492515005 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#756630</code>; Package <code>passwd</code>.
 (Tue, 18 Apr 2017 11:30:05 GMT) (<a href="bugreport.cgi?bug=756630;msg=32">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=32">mbox</a>, <a href="#31">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="33"></a>
<!-- request_addr: Tomas Mraz &lt;tmraz@fedoraproject.org&gt; -->
<!-- time:1492515006 -->
<strong>Acknowledgement sent</strong>
to <code>Tomas Mraz &lt;tmraz@fedoraproject.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>.
 (Tue, 18 Apr 2017 11:30:06 GMT) (<a href="bugreport.cgi?bug=756630;msg=34">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=34">mbox</a>, <a href="#33">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="35"></a><a name="msg35"></a><a href="#35">Message #35</a> received at 756630@bugs.debian.org (<a href="bugreport.cgi?bug=756630;msg=35">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=35">mbox</a>, <a href="mailto:756630@bugs.debian.org?References=%3C87ziqeri7y.fsf%40probeta.net%3E%0A%09%20%3C20160625223652.GA30448%40mail.hallyn.com%3E%0A%09%20%3C20160625223652.GA30448%40mail.hallyn.com%3E%0A%09%20%3Ce06f8bb8-dcbf-b7fa-97b2-f06c19889f01%40matahua.com%3E%0A%20%3C1492514372.2627.10.camel%40fedoraproject.org%3E&amp;In-Reply-To=%3C1492514372.2627.10.camel%40fedoraproject.org%3E&amp;body=On%20Tue%2C%2018%20Apr%202017%2013%3A19%3A32%20%2B0200%20Tomas%20Mraz%20%3Ctmraz%40fedoraproject.org%3E%20wrote%3A%0A%3E%20On%20Mon%2C%202017-04-17%20at%2011%3A36%20%2B1200%2C%20James%20Collier%20wrote%3A%0A%3E%20%3E%20As%20requested%3A%0A%3E%20%3E%20%24%C2%A0%C2%A0file%20%2Fusr%2Fsbin%2Fnewusers%0A%3E%20%3E%20%2Fusr%2Fsbin%2Fnewusers%3A%20ELF%2064-bit%20LSB%20shared%20object%2C%20x86-64%2C%20version%201%C2%A0%0A%3E%20%3E%20%28SYSV%29%2C%20dynamically%20linked%2C%20interpreter%20%2Flib64%2Fld-linux-x86-64.so.2%2C%0A%3E%20%3E%20for%C2%A0%0A%3E%20%3E%20GNU%2FLinux%202.6.32%2C%C2%A0%0A%3E%20%3E%20BuildID%5Bsha1%5D%3D7dffe9a6fe6e2d86a9181e9928d8baea6b389c78%2C%20stripped%0A%3E%20%3E%20...%0A%3E%20%3E%20%28gdb%29%20run%20newusers%0A%3E%20%3E%20Starting%20program%3A%20%2Fusr%2Fsbin%2Fnewusers%20newusers%0A%3E%20%3E%20%5BThread%20debugging%20using%20libthread_db%20enabled%5D%0A%3E%20%3E%20Using%20host%20libthread_db%20library%20%22%2Flib%2Fx86_64-linux-%0A%3E%20%3E%20gnu%2Flibthread_db.so.1%22.%0A%3E%20%3E%20%2A%2A%2A%20Error%20in%20%60%2Fusr%2Fsbin%2Fnewusers%27%3A%20double%20free%20or%20corruption%0A%3E%20%3E%20%28%21prev%29%3A%C2%A0%0A%3E%20%3E%200x00005555557812e0%20%2A%2A%2A%0A%3E%20%0A%3E%20This%20should%20be%20fixed%20by%20%0A%3E%20https%3A%2F%2Fgithub.com%2Fshadow-maint%2Fshadow%2Fcommit%2F954e3d2e7113e9ac06632aee3c69b8d818cc8952%0A%3E%20%0A%3E%20Tomas%20Mraz%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20%5BPkg-shadow-devel%5D%20Bug%23756630%3A%20Bug%23756630%3A%20newusers%20fails%0A%20adding%20multiple%20users">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=tmraz%40fedoraproject.org" alt="">
<div class="header"><span class="headerfield">From:</span> Tomas Mraz &lt;tmraz@fedoraproject.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> James Collier &lt;jcollier-debian@matahua.com&gt;, 756630@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: [Pkg-shadow-devel] Bug#756630: Bug#756630: newusers fails
 adding multiple users</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 18 Apr 2017 13:19:32 +0200</div>
</div>
<pre class="message">On Mon, 2017-04-17 at 11:36 +1200, James Collier wrote:
&gt; As requested:
&gt; $  file /usr/sbin/newusers
&gt; /usr/sbin/newusers: ELF 64-bit LSB shared object, x86-64, version 1 
&gt; (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2,
&gt; for 
&gt; GNU/Linux 2.6.32, 
&gt; BuildID[sha1]=7dffe9a6fe6e2d86a9181e9928d8baea6b389c78, stripped
&gt; ...
&gt; (gdb) run newusers
&gt; Starting program: /usr/sbin/newusers newusers
&gt; [Thread debugging using libthread_db enabled]
&gt; Using host libthread_db library &quot;/lib/x86_64-linux-
&gt; gnu/libthread_db.so.1&quot;.
&gt; *** Error in `/usr/sbin/newusers&#39;: double free or corruption
&gt; (!prev): 
&gt; 0x00005555557812e0 ***

This should be fixed by 
<a href="https://github.com/shadow-maint/shadow/commit/954e3d2e7113e9ac06632aee3c69b8d818cc8952">https://github.com/shadow-maint/shadow/commit/954e3d2e7113e9ac06632aee3c69b8d818cc8952</a>

Tomas Mraz



</pre>

<div class="infmessage"><hr><p>
<a name="36"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt; -->
<!-- time:1501870325 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#756630</code>; Package <code>passwd</code>.
 (Fri, 04 Aug 2017 18:12:05 GMT) (<a href="bugreport.cgi?bug=756630;msg=37">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=37">mbox</a>, <a href="#36">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="38"></a>
<!-- request_addr: Seth Arnold &lt;seth.arnold@canonical.com&gt; -->
<!-- time:1501870325 -->
<strong>Acknowledgement sent</strong>
to <code>Seth Arnold &lt;seth.arnold@canonical.com&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;</code>.
 (Fri, 04 Aug 2017 18:12:05 GMT) (<a href="bugreport.cgi?bug=756630;msg=39">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=39">mbox</a>, <a href="#38">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="40"></a><a name="msg40"></a><a href="#40">Message #40</a> received at 756630@bugs.debian.org (<a href="bugreport.cgi?bug=756630;msg=40">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=40">mbox</a>, <a href="mailto:756630@bugs.debian.org?References=%3C20170804180805.GA14731%40hunt%3E&amp;In-Reply-To=%3C20170804180805.GA14731%40hunt%3E&amp;body=On%20Fri%2C%204%20Aug%202017%2011%3A08%3A05%20-0700%20Seth%20Arnold%20%3Cseth.arnold%40canonical.com%3E%20wrote%3A%0A%3E%20Hello%3B%20even%20though%20this%20doesn%27t%20directly%20allow%20crossing%20security%0A%3E%20boundaries%20I%20thought%20it%20best%20to%20make%20this%20visible%20in%20case%20management%0A%3E%20tools%20may%20have%20their%20boundaries%20crossed%20due%20to%20this.%0A%3E%20%0A%3E%20Use%20CVE-2017-12424.%0A%3E%20%0A%3E%20Thanks%0A&amp;subject=Re%3A%20Use%20CVE-2017-12424.">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=seth.arnold%40canonical.com" alt="">
<div class="header"><span class="headerfield">From:</span> Seth Arnold &lt;seth.arnold@canonical.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> 756630@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Use CVE-2017-12424.</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 4 Aug 2017 11:08:05 -0700</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=756630;msg=40">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hello; even though this doesn&#39;t directly allow crossing security
boundaries I thought it best to make this visible in case management
tools may have their boundaries crossed due to this.

Use <a href="https://security-tracker.debian.org/tracker/CVE-2017-12424">CVE-2017-12424</a>.

Thanks
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=756630;filename=signature.asc;msg=40">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="41"></a>
<!-- command:title -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1501875546 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;shadow: CVE-2017-12424: newusers fails with multiple users&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;Package:newusers&#39;
            };
-->
<strong>Changed Bug title to &#39;shadow: CVE-2017-12424: newusers fails with multiple users&#39; from &#39;Package:newusers&#39;.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Fri, 04 Aug 2017 19:39:06 GMT) (<a href="bugreport.cgi?bug=756630;msg=42">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=42">mbox</a>, <a href="#41">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="43"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1501875546 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;patch upstream security fixed-upstream&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;&#39;
            };
-->
<strong>Added tag(s) fixed-upstream, security, upstream, and patch.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Fri, 04 Aug 2017 19:39:06 GMT) (<a href="bugreport.cgi?bug=756630;msg=44">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=44">mbox</a>, <a href="#43">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="45"></a>
<!-- request_addr: Balint Reczey &lt;rbalint@ubuntu.com&gt; -->
<!-- time:1506532864 -->
<strong>Reply sent</strong>
to <code>Balint Reczey &lt;rbalint@ubuntu.com&gt;</code>:<br>
You have taken responsibility.
 (Wed, 27 Sep 2017 17:21:04 GMT) (<a href="bugreport.cgi?bug=756630;msg=46">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=46">mbox</a>, <a href="#45">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="47"></a>
<!-- request_addr: Manfred Richter &lt;manfred@dri.at&gt; -->
<!-- time:1506532864 -->
<strong>Notification sent</strong>
to <code>Manfred Richter &lt;manfred@dri.at&gt;</code>:<br>
Bug acknowledged by developer.
 (Wed, 27 Sep 2017 17:21:04 GMT) (<a href="bugreport.cgi?bug=756630;msg=48">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=48">mbox</a>, <a href="#47">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="49"></a><a name="msg49"></a><a href="#49">Message #49</a> received at 756630-close@bugs.debian.org (<a href="bugreport.cgi?bug=756630;msg=49">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=49">mbox</a>, <a href="mailto:756630@bugs.debian.org?In-Reply-To=%3CE1dxFzH-0006jA-TH%40fasolo.debian.org%3E&amp;References=%3CE1dxFzH-0006jA-TH%40fasolo.debian.org%3E&amp;subject=Re%3A%20Bug%23756630%3A%20fixed%20in%20shadow%201%3A4.5-1&amp;body=On%20Wed%2C%2027%20Sep%202017%2017%3A19%3A07%20%2B0000%20Balint%20Reczey%20%3Crbalint%40ubuntu.com%3E%20wrote%3A%0A%3E%20Source%3A%20shadow%0A%3E%20Source-Version%3A%201%3A4.5-1%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20shadow%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20756630%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Balint%20Reczey%20%3Crbalint%40ubuntu.com%3E%20%28supplier%20of%20updated%20shadow%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA256%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Wed%2C%2027%20Sep%202017%2012%3A45%3A23%20-0400%0A%3E%20Source%3A%20shadow%0A%3E%20Binary%3A%20passwd%20login%20uidmap%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%201%3A4.5-1%0A%3E%20Distribution%3A%20unstable%0A%3E%20Urgency%3A%20medium%0A%3E%20Maintainer%3A%20Shadow%20package%20maintainers%20%3Cpkg-shadow-devel%40lists.alioth.debian.org%3E%0A%3E%20Changed-By%3A%20Balint%20Reczey%20%3Crbalint%40ubuntu.com%3E%0A%3E%20Description%3A%0A%3E%20%20login%20%20%20%20%20%20-%20system%20login%20tools%0A%3E%20%20passwd%20%20%20%20%20-%20change%20and%20administer%20password%20and%20group%20data%0A%3E%20%20uidmap%20%20%20%20%20-%20programs%20to%20help%20use%20subuids%0A%3E%20Closes%3A%20756630%20857803%20865762%0A%3E%20Changes%3A%0A%3E%20%20shadow%20%281%3A4.5-1%29%20unstable%3B%20urgency%3Dmedium%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20New%20upstream%20version%204.5%0A%3E%20%20%20%20%20%20-%20Fix%20buffer%20overflow%20if%20NULL%20line%20is%20present%20in%20db%20%28CVE-2017-12424%29%0A%3E%20%20%20%20%20%20%20%20%28Closes%3A%20%23756630%29%0A%3E%20%20%20%20%20%20-%20Make%20the%20sp_lstchg%20shadow%20field%20reproducible%20%28Closes%3A%20%23857803%29%0A%3E%20%20%20%20%20%20-%20Fix%20regression%20in%20useradd%20not%20loading%20defaults%20properly.%0A%3E%20%20%20%20%20%20%20%20%28Closes%3A%20%23865762%29%0A%3E%20%20%20%20%2A%20Refresh%20patches%0A%3E%20%20%20%20%2A%20Drop%20patches%20manipulating%20su%20argument%20concatenation%3A%0A%3E%20%20%20%20%2A%20Cut%20redundant%20information%20from%20Debian-specific%20README%20files%0A%3E%20%20%20%20%2A%20Revert%20adding%20pts%2F0%20and%20pts%2F1%20to%20securetty.%0A%3E%20%20%20%20%20%20Adding%20pts%2F%2A%20defeats%20the%20purpose%20of%20securetty.%20Let%20containers%20add%20it%20if%0A%3E%20%20%20%20%20%20needed%20as%20described%20in%20%23830255.%0A%3E%20%20%20%20%2A%20Use%20my%20%40ubuntu.com%20email%20address%20in%20Maintainer%20field%0A%3E%20Checksums-Sha1%3A%0A%3E%20%20f13fd80b70b35fabdbeeffb86971c2f1fe06f89b%202282%20shadow_4.5-1.dsc%0A%3E%20%2016f366e1b2bb7dbc53af91dbdd2d03e1702cf919%201344524%20shadow_4.5.orig.tar.xz%0A%3E%20%20f694c1310522e5f36f1a5c110152ed04865187c3%20462752%20shadow_4.5-1.debian.tar.xz%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=rbalint%40ubuntu.com" alt="">
<div class="header"><span class="headerfield">From:</span> Balint Reczey &lt;rbalint@ubuntu.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> 756630-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#756630: fixed in shadow 1:4.5-1</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 27 Sep 2017 17:19:07 +0000</div>
</div>
<pre class="message">Source: shadow
Source-Version: 1:4.5-1

We believe that the bug you reported is fixed in the latest version of
shadow, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 756630@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Balint Reczey &lt;rbalint@ubuntu.com&gt; (supplier of updated shadow package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Wed, 27 Sep 2017 12:45:23 -0400
Source: shadow
Binary: passwd login uidmap
Architecture: source
Version: 1:4.5-1
Distribution: unstable
Urgency: medium
Maintainer: Shadow package maintainers &lt;pkg-shadow-devel@lists.alioth.debian.org&gt;
Changed-By: Balint Reczey &lt;rbalint@ubuntu.com&gt;
Description:
 login      - system login tools
 passwd     - change and administer password and group data
 uidmap     - programs to help use subuids
Closes: <a href="bugreport.cgi?bug=756630">756630</a> <a href="bugreport.cgi?bug=857803">857803</a> <a href="bugreport.cgi?bug=865762">865762</a>
Changes:
 shadow (1:4.5-1) unstable; urgency=medium
 .
   * New upstream version 4.5
     - Fix buffer overflow if NULL line is present in db (<a href="https://security-tracker.debian.org/tracker/CVE-2017-12424">CVE-2017-12424</a>)
       (Closes: #<a href="bugreport.cgi?bug=756630">756630</a>)
     - Make the sp_lstchg shadow field reproducible (Closes: #<a href="bugreport.cgi?bug=857803">857803</a>)
     - Fix regression in useradd not loading defaults properly.
       (Closes: #<a href="bugreport.cgi?bug=865762">865762</a>)
   * Refresh patches
   * Drop patches manipulating su argument concatenation:
   * Cut redundant information from Debian-specific README files
   * Revert adding pts/0 and pts/1 to securetty.
     Adding pts/* defeats the purpose of securetty. Let containers add it if
     needed as described in #830255.
   * Use my @ubuntu.com email address in Maintainer field
Checksums-Sha1:
 f13fd80b70b35fabdbeeffb86971c2f1fe06f89b 2282 shadow_4.5-1.dsc
 16f366e1b2bb7dbc53af91dbdd2d03e1702cf919 1344524 shadow_4.5.orig.tar.xz
 f694c1310522e5f36f1a5c110152ed04865187c3 462752 shadow_4.5-1.debian.tar.xz
Checksums-Sha256:
 1e93b2e4cb3f0f14a52dd9603bf8153f31a3117c580c0b46fd94822437516ff6 2282 shadow_4.5-1.dsc
 22b0952dc944b163e2370bb911b11ca275fc80ad024267cf21e496b28c23d500 1344524 shadow_4.5.orig.tar.xz
 0aa8980eddef9159ee6532d40bda92237ad2163dcc2bb6601aecc415ab9662ee 462752 shadow_4.5-1.debian.tar.xz
Files:
 85e9f6101d566e975a4dd09bb11f5b3d 2282 admin required shadow_4.5-1.dsc
 dc6263258eab3dbeb66c8687841ae4a9 1344524 admin required shadow_4.5.orig.tar.xz
 34ff6d315dcccec4b2ec5e96f79f48af 462752 admin required shadow_4.5-1.debian.tar.xz

-----BEGIN PGP SIGNATURE-----

iQIwBAEBCAAaBQJZy9hUExxyYmFsaW50QHVidW50dS5jb20ACgkQ9mTSVrRpGn3B
2A/7BZz3Jc4aV1O0O0EfLSreUqxOeEAH0s6OtlMgzamLfbKMeqoB37PYHt1YEYRO
GV79XLUB1tU0heEvymDunpLSf+DiO3Ae1BcxjejTI3wjPIZHdHDaI4QR1kVV/INz
WvBTutzzUQZ07IDBrkzdlYOCgoet+TCFOPVy5YPxoQxnKm/3dPqVTwHVUO7ZT1px
2cvfJUXUhthlHzvqru7Rb0FXAotgqh75AL6wyvtJghfm/wVQAjLoc5dvbYezwFwV
2C9k/6N2slrg+3D+sUcH520K9WgQLF1K8ftNbTyFn9Np2tWXLcot6UtjM/7GnTYo
ymfYv+1dElUezrHVjlXgf51msbPX/p4tfCg/NRGJRj5XSXAGU2UP1dS2uLs0kqre
1AQA/VhOPGTFyHUSvtS8DzGO0jDCXCecnE7JE7jtozcNihpMXkzRXFAmgowFnxfP
lhyn418vdgRmJaRsm8oo0XTESDEKQjxYs3w5hUfHBby9x3q5Cr7qWw/7ufRiAc7p
jFNVqOpg/af/kD3Pcg96hBCBBCSThV23ql6bMMdCaBEWQZYedpO+zz/QO/6ULnWL
cCgs05RlxLKr849D8mDqJwiKWc7vrmlXI0tJIz6uouMBivocFmLfIE1m5OPrKEkT
ZGfWwVxJf6DPiSAPxhenJi8jBsYM6i1IjC6TPiLhbQOSklQ=
=oGpF
-----END PGP SIGNATURE-----



</pre>

<div class="msgreceived"><hr><p>
<a name="50"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1509434801 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Tue, 31 Oct 2017 07:26:41 GMT) (<a href="bugreport.cgi?bug=756630;msg=51">full text</a>, <a href="bugreport.cgi?bug=756630;mbox=yes;msg=51">mbox</a>, <a href="#50">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=756630">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:29:43 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
