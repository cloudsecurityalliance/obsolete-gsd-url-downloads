<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>669ecc2f5e80ff924fa20ce7445354a7c5bcfd98 - platform/system/core - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://accounts.google.com/AccountChooser?service=gerritcodereview&amp;continue=https://android.googlesource.com/login/platform/system/core/%2B/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98">Sign in</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">android</a> / <a class="Breadcrumbs-crumb" href="/platform/">platform</a> / <a class="Breadcrumbs-crumb" href="/platform/system/">system</a> / <a class="Breadcrumbs-crumb" href="/platform/system/core/">core</a> / <span class="Breadcrumbs-crumb">669ecc2f5e80ff924fa20ce7445354a7c5bcfd98</span></div><div class="u-monospace Metadata"><table><tr><th class="Metadata-title">commit</th><td>669ecc2f5e80ff924fa20ce7445354a7c5bcfd98</td><td><span>[<a href="/platform/system/core/+log/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98">log</a>]</span> <span>[<a href="/platform/system/core/+archive/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98.tar.gz">tgz</a>]</span></td></tr><tr><th class="Metadata-title">author</th><td>Nick Kralevich &lt;nnk@google.com&gt;</td><td>Fri Jan 30 17:38:06 2015 -0800</td></tr><tr><th class="Metadata-title">committer</th><td>The Android Automerger &lt;android-build@google.com&gt;</td><td>Fri Feb 26 14:34:11 2016 -0800</td></tr><tr><th class="Metadata-title">tree</th><td><a href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/">98b17dff8675f39e4b09fa433d39ffec6fe3f8a5</a></td></tr><tr><th class="Metadata-title">parent</th><td><a href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98%5E">75ac84c0bf57d646dfae468916fcdcc071570293</a> <span>[<a href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98%5E%21/">diff</a>]</span></td></tr></table></div><pre class="u-pre u-monospace MetadataMessage">ensure /data/tombstones exists on all Android devices

/data/tombstones is referenced by core platform code, but is not
guaranteed to exist on all Android devices. Move the directory
creation out of device specific files and into the core
init.rc file.

Bug: <a href="https://code.google.com/p/android/issues/detail?id=93207">https://code.google.com/p/android/issues/detail?id=93207</a>
Change-Id: <a href="https://android-review.googlesource.com/#/q/I94ae5199a6a32c4fe555ca994fc4a8345e0c9690">I94ae5199a6a32c4fe555ca994fc4a8345e0c9690</a>

Bug: <a href="http://b/26403620">http://b/26403620</a>
(cherry picked from commit 0359d778a564a5c63baba08a33484fb69eda4d1e)
</pre><ul class="DiffTree"><li><a href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/rootdir/init.rc">rootdir/init.rc</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98%5E%21/#F0">diff</a>]</span></li></ul><div class="DiffSummary">1 file changed</div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: 98b17dff8675f39e4b09fa433d39ffec6fe3f8a5</div><ol class="FileList"><li class="FileList-item FileList-item--regularFile" title="Regular file - .gitignore"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/.gitignore">.gitignore</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - Android.mk"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/Android.mk">Android.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - CleanSpec.mk"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/CleanSpec.mk">CleanSpec.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - MODULE_LICENSE_APACHE2"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/MODULE_LICENSE_APACHE2">MODULE_LICENSE_APACHE2</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - NOTICE"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/NOTICE">NOTICE</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - README"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/README">README</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - ThirdPartyProject.prop"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/ThirdPartyProject.prop">ThirdPartyProject.prop</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - adb/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/adb/">adb/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - adf/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/adf/">adf/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - cpio/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/cpio/">cpio/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - debuggerd/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/debuggerd/">debuggerd/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - fastboot/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/fastboot/">fastboot/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - fastbootd/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/fastbootd/">fastbootd/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - fs_mgr/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/fs_mgr/">fs_mgr/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - gpttool/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/gpttool/">gpttool/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - healthd/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/healthd/">healthd/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - include/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/include/">include/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - init/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/init/">init/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libbacktrace/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libbacktrace/">libbacktrace/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libcutils/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libcutils/">libcutils/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libdiskconfig/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libdiskconfig/">libdiskconfig/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libion/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libion/">libion/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - liblog/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/liblog/">liblog/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libmemtrack/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libmemtrack/">libmemtrack/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libmincrypt/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libmincrypt/">libmincrypt/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libnativebridge/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libnativebridge/">libnativebridge/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libnetutils/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libnetutils/">libnetutils/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libpixelflinger/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libpixelflinger/">libpixelflinger/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libprocessgroup/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libprocessgroup/">libprocessgroup/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libsparse/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libsparse/">libsparse/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libsuspend/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libsuspend/">libsuspend/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libsync/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libsync/">libsync/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libsysutils/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libsysutils/">libsysutils/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libusbhost/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libusbhost/">libusbhost/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libutils/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libutils/">libutils/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libziparchive/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libziparchive/">libziparchive/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libzipfile/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/libzipfile/">libzipfile/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - lmkd/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/lmkd/">lmkd/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - logcat/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/logcat/">logcat/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - logd/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/logd/">logd/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - logwrapper/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/logwrapper/">logwrapper/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - mkbootimg/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/mkbootimg/">mkbootimg/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - netcfg/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/netcfg/">netcfg/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - reboot/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/reboot/">reboot/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - rootdir/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/rootdir/">rootdir/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - run-as/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/run-as/">run-as/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - sdcard/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/sdcard/">sdcard/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - toolbox/"><a class="FileList-itemLink" href="/platform/system/core/+/669ecc2f5e80ff924fa20ce7445354a7c5bcfd98/toolbox/">toolbox/</a></li></ol></div></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>