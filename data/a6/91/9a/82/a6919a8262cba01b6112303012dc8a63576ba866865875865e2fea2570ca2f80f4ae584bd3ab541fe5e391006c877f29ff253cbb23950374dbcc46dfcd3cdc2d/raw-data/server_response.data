<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>9e29523b9537983b4c4b205ff868d0b3bca0383b - platform/frameworks/av - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://accounts.google.com/AccountChooser?service=gerritcodereview&amp;continue=https://android.googlesource.com/login/platform/frameworks/av/%2B/9e29523b9537983b4c4b205ff868d0b3bca0383b">Sign in</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">android</a> / <a class="Breadcrumbs-crumb" href="/platform/">platform</a> / <a class="Breadcrumbs-crumb" href="/platform/frameworks/">frameworks</a> / <a class="Breadcrumbs-crumb" href="/platform/frameworks/av/">av</a> / <span class="Breadcrumbs-crumb">9e29523b9537983b4c4b205ff868d0b3bca0383b</span></div><div class="u-monospace Metadata"><table><tr><th class="Metadata-title">commit</th><td>9e29523b9537983b4c4b205ff868d0b3bca0383b</td><td><span>[<a href="/platform/frameworks/av/+log/9e29523b9537983b4c4b205ff868d0b3bca0383b">log</a>]</span> <span>[<a href="/platform/frameworks/av/+archive/9e29523b9537983b4c4b205ff868d0b3bca0383b.tar.gz">tgz</a>]</span></td></tr><tr><th class="Metadata-title">author</th><td>Eric Laurent &lt;elaurent@google.com&gt;</td><td>Fri Jan 08 10:52:38 2016 -0800</td></tr><tr><th class="Metadata-title">committer</th><td>Eric Laurent &lt;elaurent@google.com&gt;</td><td>Mon Jan 11 18:08:30 2016 +0000</td></tr><tr><th class="Metadata-title">tree</th><td><a href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/">e26b62c7419fe2a7f521d704e64e687a119441a2</a></td></tr><tr><th class="Metadata-title">parent</th><td><a href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b%5E">3d6a7149802928ecf3f58b7218b0e82699b492df</a> <span>[<a href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b%5E%21/">diff</a>]</span></td></tr></table></div><pre class="u-pre u-monospace MetadataMessage">fix possible overflow in effect wrappers.

Add checks on parameter size field in effect command handlers
to avoid overflow leading to invalid comparison with min allowed
size for command and reply buffers.

Bug: 26347509.
Change-Id: <a href="https://android-review.googlesource.com/#/q/I20e6a9b6de8e5172b957caa1ac9410b9752efa4d">I20e6a9b6de8e5172b957caa1ac9410b9752efa4d</a>
(cherry picked from commit ad1bd92a49d78df6bc6e75bee68c517c1326f3cf)
</pre><ul class="DiffTree"><li><a href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/media/libeffects/lvm/wrapper/Bundle/EffectBundle.cpp">media/libeffects/lvm/wrapper/Bundle/EffectBundle.cpp</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b%5E%21/#F0">diff</a>]</span></li><li><a href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/media/libeffects/lvm/wrapper/Reverb/EffectReverb.cpp">media/libeffects/lvm/wrapper/Reverb/EffectReverb.cpp</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b%5E%21/#F1">diff</a>]</span></li></ul><div class="DiffSummary">2 files changed</div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: e26b62c7419fe2a7f521d704e64e687a119441a2</div><ol class="FileList"><li class="FileList-item FileList-item--regularFile" title="Regular file - CleanSpec.mk"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/CleanSpec.mk">CleanSpec.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - MODULE_LICENSE_APACHE2"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/MODULE_LICENSE_APACHE2">MODULE_LICENSE_APACHE2</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - NOTICE"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/NOTICE">NOTICE</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - camera/"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/camera/">camera/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - cmds/"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/cmds/">cmds/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - drm/"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/drm/">drm/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - include/"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/include/">include/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libvideoeditor/"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/libvideoeditor/">libvideoeditor/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - media/"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/media/">media/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - services/"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/services/">services/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - tools/"><a class="FileList-itemLink" href="/platform/frameworks/av/+/9e29523b9537983b4c4b205ff868d0b3bca0383b/tools/">tools/</a></li></ol></div></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>