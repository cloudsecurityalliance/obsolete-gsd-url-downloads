<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/keystone/+bug/1855080/+index" />

    <meta charset="UTF-8" />
    <title>Bug #1855080 “[OSSA-2019-006] Credentials API allows listing and...” : Bugs : OpenStack Identity (keystone)</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/1855080" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/1855080/bug.atom" title="Bug 1855080 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="Tested against Stein and Train.

# User creating a credential, i.e totp or similar
$ OS_CLOUD=1 openstack token issue
| project_id | c3caf1b55bb84b78a795fd81838e5160
| user_id    | 9971b0f13d2d4a578212d028a53c3209
$ OS_CLOUD=1 openstack credential create --type test 9971b0f13d2d4a578212d028a53c3209 test-data
$ OS_CLOUD=1 openstack credential list
+----------------------------------+------+----------------------------------+-----------+------------+
| ID                               | Type | ..." />
      <meta property="og:description" content="Tested against Stein and Train.

# User creating a credential, i.e totp or similar
$ OS_CLOUD=1 openstack token issue
| project_id | c3caf1b55bb84b78a795fd81838e5160
| user_id    | 9971b0f13d2d4a578212d028a53c3209
$ OS_CLOUD=1 openstack credential create --type test 9971b0f13d2d4a578212d028a53c3209 test-data
$ OS_CLOUD=1 openstack credential list
+----------------------------------+------+----------------------------------+-----------+------------+
| ID                               | Type | ..." />
    

    
    
      <meta property="og:title" content="Bug #1855080 “[OSSA-2019-006] Credentials API allows listing and...” : Bugs : OpenStack Identity (keystone)" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/1855080" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["a11y", "api-ref", "appstream", "bionic", "bisect-done", "bitesize", "caching", "cherry-pick", "community-security", "configuration", "default-roles", "desktop-file", "disco", "dist-upgrade", "documentation", "federation", "fernet", "fix-requires-microversion", "focal", "ftbfs", "groovy", "hierarchical-multitenancy", "hirsute", "hw-specific", "i18n", "impish", "jammy", "jwt", "kernel-bug", "ldap", "limits", "logging", "low-hanging-fruit", "manpage", "meeting-topic", "metabug", "multiarch", "needs-bisect", "needs-design", "needs-packaging", "needs-reassignment", "notifications", "ocata-backport-potential", "office-hours", "ops", "package-conflict", "packaging", "password", "patch", "patch-accepted-debian", "patch-accepted-upstream", "patch-forwarded-debian", "patch-forwarded-upstream", "patch-needswork", "patch-rejected", "patch-rejected-debian", "patch-rejected-upstream", "pci", "performance", "performing-bisect", "pike-backport-potential", "pki", "policy", "py2-removal", "python3", "qt4-removal", "queens-backport-potential", "rc-potential", "regression-proposed", "regression-release", "regression-update", "revoke", "rfe", "rocky-backport-potential", "security", "sql", "string-fix", "suspend-resume", "system-scope", "systemd-boot", "test-improvement", "testcase", "touch", "trusts", "unmetdeps", "upgrade-software-version", "upgrades", "user-experience", "verification-done-bionic", "verification-done-focal", "verification-done-groovy", "verification-done-hirsute", "verification-done-impish", "verification-done-xenial", "verification-failed-bionic", "verification-failed-groovy", "verification-failed-impish", "verification-failed-xenial", "verification-needed-bionic", "verification-needed-focal", "verification-needed-groovy", "verification-needed-hirsute", "verification-needed-impish", "verification-needed-trusty", "verification-needed-xenial", "wayland", "x509", "xenial"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/keystone/+bug/1855080/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/keystone"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/keystone">OpenStack Identity (keystone)</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/keystone">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/keystone">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/keystone">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/keystone">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/keystone">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/keystone">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    [OSSA-2019-006] Credentials API allows listing and retrieving of all users credentials (CVE-2019-19687)
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #1855080 reported by
      <a href="https://launchpad.net/~dpreussker" class="sprite person">Daniel &#x27;f0o&#x27; Preussker</a>
      <time title="2019-12-04 10:14:12 UTC" datetime="2019-12-04T10:14:12.956263+00:00">on 2019-12-04</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">264</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary2555369">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/keystone/+bug/1855080/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2555369">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/keystone">OpenStack Identity (keystone)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/keystone/+bug/1855080/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/keystone/+bug/1855080/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceCRITICAL">Critical</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2555369">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~krinkle">Colleen Murphy</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2555369">
     <td colspan="7"><form action="/keystone/+bug/1855080/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/keystone">OpenStack Identity (keystone)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~dpreussker" class="sprite person">Daniel &#x27;f0o&#x27; Preussker</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2019-12-04 10:14:12 UTC" datetime="2019-12-04T10:14:12.956263+00:00">2019-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2019-12-04 17:53:54 UTC" datetime="2019-12-04T17:53:54.920145+00:00">2019-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2019-12-04 19:45:29 UTC" datetime="2019-12-04T19:45:29.773363+00:00">2019-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2019-12-04 19:45:29 UTC" datetime="2019-12-04T19:45:29.826281+00:00">2019-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2019-12-06 02:20:26 UTC" datetime="2019-12-06T02:20:26.390195+00:00">2019-12-06</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="keystone.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="keystone.target.option.package" name="keystone.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="keystone.target.distribution" name="keystone.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="keystone.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="keystone.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="keystone.target.package"
                         name="keystone.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;keystone.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('keystone.target.package');
              var select_menu = Y.DOM.byId('keystone.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-keystone-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "keystone.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-keystone-target-package", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-keystone-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="keystone.target.option.product" name="keystone.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="keystone" id="keystone.target.product"
                         name="keystone.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;keystone.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('keystone.target.product');
              var select_menu = Y.DOM.byId('keystone.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-keystone-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "keystone.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-keystone-target-product", "selected_value": "keystone", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-keystone-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="keystone.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="keystone.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="keystone.status" name="keystone.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="keystone.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceCRITICAL">Critical</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="keystone.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="keystone.assignee.assign_to_me" name="keystone.assignee.option" value="keystone.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="keystone.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="keystone.assignee.assigned_to" name="keystone.assignee.option" value="keystone.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="keystone.assignee.assigned_to">
              Colleen Murphy (krinkle)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="keystone.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="keystone.comment_on_change" name="keystone.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2555436">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ossa/+bug/1855080/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2555436">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/ossa">OpenStack Security Advisory</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ossa/+bug/1855080/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ossa/+bug/1855080/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2555436">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~gagehugo">Gage Hugo</a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2555436">
     <td colspan="7"><form action="/ossa/+bug/1855080/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ossa">OpenStack Security Advisory</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2019-12-04 14:29:17 UTC" datetime="2019-12-04T14:29:17.086946+00:00">2019-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2019-12-04 19:47:47 UTC" datetime="2019-12-04T19:47:47.721351+00:00">2019-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2019-12-04 19:49:21 UTC" datetime="2019-12-04T19:49:21.241347+00:00">2019-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2020-01-02 20:11:08 UTC" datetime="2020-01-02T20:11:08.749885+00:00">2020-01-02</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2020-01-02 20:11:08 UTC" datetime="2020-01-02T20:11:08.749885+00:00">2020-01-02</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ossa.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="ossa.target.option.package" name="ossa.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ossa.target.distribution" name="ossa.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ossa.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ossa.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ossa.target.package"
                         name="ossa.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ossa.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ossa.target.package');
              var select_menu = Y.DOM.byId('ossa.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ossa-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ossa.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ossa-target-package", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-ossa-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ossa.target.option.product" name="ossa.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="ossa" id="ossa.target.product"
                         name="ossa.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ossa.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ossa.target.product');
              var select_menu = Y.DOM.byId('ossa.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ossa-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "ossa.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-ossa-target-product", "selected_value": "ossa", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-ossa-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ossa.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ossa.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ossa.status" name="ossa.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ossa.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceHIGH">High</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ossa.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ossa.assignee.assign_to_me" name="ossa.assignee.option" value="ossa.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ossa.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ossa.assignee.assigned_to" name="ossa.assignee.option" value="ossa.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ossa.assignee.assigned_to">
              Gage Hugo (gagehugo)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ossa.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ossa.comment_on_change" name="ossa.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
        
          
  <tr id="tasksummary2555370">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ubuntu/+source/keystone/+bug/1855080/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary2555370">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/keystone" title="Latest release: 2:17.0.1-0ubuntu1, uploaded to main on 2021-09-17 11:44:13.387990+00:00 by Chris MacNaughton (chris.macnaughton), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)">keystone (Ubuntu)</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ubuntu/+source/keystone/+bug/1855080/+editstatus" style="float: left" class="value statusFIXRELEASED">Fix Released</a>
          <a href="https://bugs.launchpad.net/ubuntu/+source/keystone/+bug/1855080/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary2555370">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task2555370">
     <td colspan="7"><form action="/ubuntu/+source/keystone/+bug/1855080/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ubuntu/+source/keystone">keystone (Ubuntu)</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~dpreussker" class="sprite person">Daniel &#x27;f0o&#x27; Preussker</a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2019-12-04 10:15:52 UTC" datetime="2019-12-04T10:15:52.754440+00:00">2019-12-04</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2020-05-22 04:42:53 UTC" datetime="2020-05-22T04:42:53.426555+00:00">2020-05-22</time>
      </td>
    </tr>
    
    <tr>
      <th>Started work:</th>
      <td>
        <time title="2020-05-22 04:42:53 UTC" datetime="2020-05-22T04:42:53.426555+00:00">2020-05-22</time>
      </td>
    </tr>
    <tr>
      <th>Completed:</th>
      <td>
        <time title="2020-05-22 04:42:53 UTC" datetime="2020-05-22T04:42:53.426555+00:00">2020-05-22</time>
      </td>
    </tr>
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ubuntu_keystone.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ubuntu_keystone.target.option.package" name="ubuntu_keystone.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ubuntu_keystone.target.distribution" name="ubuntu_keystone.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ubuntu_keystone.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ubuntu_keystone.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="keystone" id="ubuntu_keystone.target.package"
                         name="ubuntu_keystone.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_keystone.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_keystone.target.package');
              var select_menu = Y.DOM.byId('ubuntu_keystone.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_keystone-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a package", "vocabulary_filters": [], "input_element": "ubuntu_keystone.target.package", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search by name", "show_widget_id": "show-widget-ubuntu_keystone-target-package", "selected_value": "keystone", "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "DistributionPackage"};
        var show_widget_id = 'show-widget-ubuntu_keystone-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" id="ubuntu_keystone.target.option.product" name="ubuntu_keystone.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ubuntu_keystone.target.product"
                         name="ubuntu_keystone.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ubuntu_keystone.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ubuntu_keystone.target.product');
              var select_menu = Y.DOM.byId('ubuntu_keystone.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ubuntu_keystone-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"remove_person_text": "Remove person", "picker_type": "default", "extra_no_results_message": null, "header": "Select a project", "vocabulary_filters": [], "input_element": "ubuntu_keystone.target.product", "show_remove_button": false, "show_assign_me_button": false, "step_title": "Search", "show_widget_id": "show-widget-ubuntu_keystone-target-product", "selected_value": null, "selected_value_metadata": null, "remove_team_text": "Remove team", "assign_me_text": "Pick me", "show_create_team": false, "vocabulary_name": "Product"};
        var show_widget_id = 'show-widget-ubuntu_keystone-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_keystone.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ubuntu_keystone.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ubuntu_keystone.status" name="ubuntu_keystone.status" size="1" >
<option selected="selected" value="Fix Released">Fix Released</option>
</select>
</div>
<input name="ubuntu_keystone.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceUNDECIDED">Undecided</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ubuntu_keystone.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" checked="checked" id="ubuntu_keystone.assignee.assign_to_nobody" name="ubuntu_keystone.assignee.option" value="ubuntu_keystone.assignee.assign_to_nobody" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_keystone.assignee.assign_to_nobody">
          Nobody
        </label>
      </td>
    </tr>
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ubuntu_keystone.assignee.assign_to_me" name="ubuntu_keystone.assignee.option" value="ubuntu_keystone.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ubuntu_keystone.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ubuntu_keystone.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ubuntu_keystone.comment_on_change" name="ubuntu_keystone.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/keystone/+bug/1855080/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/keystone/+bug/1855080/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/keystone/+bug/1855080/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>Tested against Stein and Train.</p>
<p># User creating a credential, i.e totp or similar<br />
$ OS_CLOUD=1 openstack token issue<br />
| project_id | c3caf1b55bb84b7<wbr />8a795fd81838e51<wbr />60<br />
| user_id    | 9971b0f13d2d4a5<wbr />78212d028a53c32<wbr />09<br />
$ OS_CLOUD=1 openstack credential create --type test 9971b0f13d2d4a5<wbr />78212d028a53c32<wbr />09 test-data<br />
$ OS_CLOUD=1 openstack credential list<br />
+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />-----+-<wbr />-------<wbr />----+<br />
| ID                               | Type | User ID                          | Data      | Project ID |<br />
+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />-----+-<wbr />-------<wbr />----+<br />
| 0a3a2d3b7dad488<wbr />6b0bbf61b6cd7d2<wbr />b0 | test | 9971b0f13d2d4a5<wbr />78212d028a53c32<wbr />09 | test-data | None       |<br />
+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />-----+-<wbr />-------<wbr />----+</p>
<p># Different User but same Project<br />
$ OS_CLOUD=2 openstack token issue<br />
| project_id | c3caf1b55bb84b7<wbr />8a795fd81838e51<wbr />60<br />
| user_id    | 6b28a0b073fc4ac<wbr />7843f33190ebc5c<wbr />3c<br />
$ OS_CLOUD=2 openstack credential list<br />
+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />-----+-<wbr />-------<wbr />----+<br />
| ID                               | Type | User ID                          | Data      | Project ID |<br />
+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />-----+-<wbr />-------<wbr />----+<br />
| 0a3a2d3b7dad488<wbr />6b0bbf61b6cd7d2<wbr />b0 | test | 9971b0f13d2d4a5<wbr />78212d028a53c32<wbr />09 | test-data | None       |<br />
+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />-----+-<wbr />-------<wbr />----+</p>
<p># Different User and Different Project<br />
$ OS_CLOUD=3 openstack token issue<br />
| project_id | d43f20ae5a7e4f3<wbr />6b7017102773844<wbr />01<br />
| user_id    | 2e48f1a7d147439<wbr />1a826a2b9700e59<wbr />49<br />
$ OS_CLOUD=3 openstack credential list<br />
+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />-----+-<wbr />-------<wbr />----+<br />
| ID                               | Type | User ID                          | Data      | Project ID |<br />
+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />-----+-<wbr />-------<wbr />----+<br />
| 0a3a2d3b7dad488<wbr />6b0bbf61b6cd7d2<wbr />b0 | test | 9971b0f13d2d4a5<wbr />78212d028a53c32<wbr />09 | test-data | None       |<br />
+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />+------<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />+------<wbr />-----+-<wbr />-------<wbr />----+</p>
<p>As shown anyone who&#x27;s authenticated can retrieve any credentials including their &#x27;secret&#x27;.</p>
<p>This is a rather severe information disclosure vulnerability and completely defies the purpose of TOTP or MFA as these credentials are not kept secure or private whatsoever.</p>
<p>If Auth-rules are configured allow login with only &#x27;topt&#x27; it would be extremely easy to assume a different user&#x27;s identity.</p>
<p>A CVE should be issued for this. I can take care of that paperwork.</p>
<p>Versions affected and tested:</p>
<p>Train/ubuntu:<br />
$ dpkg -l | grep keystone<br />
ii  keystone                             2:16.0.<wbr />0-0ubuntu1~<wbr />cloud0                                    all          OpenStack identity service - Daemons<br />
ii  keystone-common                      2:16.0.<wbr />0-0ubuntu1~<wbr />cloud0                                    all          OpenStack identity service - Common files<br />
ii  python-<wbr />keystoneauth1                 3.13.1-<wbr />0ubuntu1~<wbr />cloud0                                      all          authentication library for OpenStack Identity - Python 2.7<br />
ii  python-<wbr />keystoneclient                1:3.19.<wbr />0-0ubuntu1~<wbr />cloud0                                    all          client library for the OpenStack Keystone API - Python 2.x<br />
ii  python-<wbr />keystonemiddlew<wbr />are            6.0.0-0ubuntu1~<wbr />cloud0                                       all          Middleware for OpenStack Identity (Keystone) - Python 2.x<br />
ii  python3-keystone                     2:16.0.<wbr />0-0ubuntu1~<wbr />cloud0                                    all          OpenStack identity service - Python 3 library<br />
ii  python3-<wbr />keystoneauth1                3.17.1-<wbr />0ubuntu1~<wbr />cloud0                                      all          authentication library for OpenStack Identity - Python 3.x<br />
ii  python3-<wbr />keystoneclient               1:3.21.<wbr />0-0ubuntu1~<wbr />cloud0                                    all          client library for the OpenStack Keystone API - Python 3.x<br />
ii  python3-<wbr />keystonemiddlew<wbr />are           7.0.1-0ubuntu1~<wbr />cloud0                                       all          Middleware for OpenStack Identity (Keystone) - Python 3.x</p>
<p>Stein/RHEL:<br />
$ rpm -qa | grep keystone<br />
python3-<wbr />keystoneclient-<wbr />3.19.0-<wbr />0.2019031207033<wbr />0.6c4bb8b.<wbr />el8ost.<wbr />noarch<br />
openstack-<wbr />keystone-<wbr />15.0.1-<wbr />0.2019072006041<wbr />2.5f27c4b.<wbr />el8ost.<wbr />noarch<br />
python3-<wbr />keystoneauth1-<wbr />3.13.1-<wbr />0.2019031105241<wbr />4.bde07bc.<wbr />el8ost.<wbr />noarch<br />
python3-<wbr />keystonemiddlew<wbr />are-6.0.<wbr />0-0.20190312071<wbr />144.fca37ea.<wbr />el8ost.<wbr />noarch<br />
python3-<wbr />keystone-<wbr />15.0.1-<wbr />0.2019072006041<wbr />2.5f27c4b.<wbr />el8ost.<wbr />noarch</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          <span>See <a href="comments/0">original description</a></span>
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="official-tag" href="/keystone/+bugs?field.tag=patch">patch</a>
            <a class="unofficial-tag" href="/keystone/+bugs?field.tag=in-stable-stein">in-stable-stein</a>
            <a class="unofficial-tag" href="/keystone/+bugs?field.tag=in-stable-train">in-stable-train</a>
          </span>
          
          <a href="+edit" title="Edit tags" id="tags-trigger" class="sprite edit action-icon">Edit</a>
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2019-19687" title="OpenStack Keystone 15.0.0 and 16.0.0 ...">2019-19687</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T14:30:12.386977+00:00" title="2019-12-04 14:30:12 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Incomplete
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
    
    <time title="2019-12-04 17:53:54 UTC" datetime="2019-12-04T17:53:54.366681+00:00">on 2019-12-04</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in keystone: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Confirmed
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; Critical
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T18:11:54.144657+00:00" title="2019-12-04 18:11:54 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1855080/+attachment/5309809/+files/1855080.patch">1855080.patch</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1855080/+attachment/5309809">Edit</a>
        (746 bytes,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Partial patch (needs a test)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Partial patch (needs a test)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~krinkle" class="sprite person">Colleen Murphy (krinkle)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T18:57:11.595993+00:00" title="2019-12-04 18:57:11 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1855080/+attachment/5309814/+files/0001-Fix-credential-list-for-project-members.patch">0001-Fix-credential-list-for-project-members.patch</a>
        <a class="sprite edit action-icon" href="/keystone/+bug/1855080/+attachment/5309814">Edit</a>
        (7.1 KiB,
        text/plain)
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Full patch attached</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Full patch attached</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T19:10:05.786272+00:00" title="2019-12-04 19:10:05 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Since the details were already disclosed[0] earlier today in #openstack-<wbr />keystone, I recommend we don&#x27;t maintain an embargo for this and instead treat it as a public report[1].</p>
<p>[0] <a rel="nofollow" href="http://eavesdrop.openstack.org/irclogs/%23openstack-keystone/%23openstack-keystone.2019-12-04.log.html#t2019-12-04T09:49:13">http://<wbr />eavesdrop.<wbr />openstack.<wbr />org/irclogs/<wbr />%23openstack-<wbr />keystone/<wbr />%23openstack-<wbr />keystone.<wbr />2019-12-<wbr />04.log.<wbr />html#t2019-<wbr />12-04T09:<wbr />49:13</a><br />
[1] <a rel="nofollow" href="https://security.openstack.org/vmt-process.html#process">https:/<wbr />/security.<wbr />openstack.<wbr />org/vmt-<wbr />process.<wbr />html#process</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Since the details were already disclosed[0] earlier today in #openstack-keystone, I recommend we don't maintain an embargo for this and instead treat it as a public report[1].

[0] http://eavesdrop.openstack.org/irclogs/%23openstack-keystone/%23openstack-keystone.2019-12-04.log.html#t2019-12-04T09:49:13
[1] https://security.openstack.org/vmt-process.html#process</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dpreussker" class="sprite person">Daniel &#x27;f0o&#x27; Preussker (dpreussker)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T19:14:44.646662+00:00" title="2019-12-04 19:14:44 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Apologies for the IRC disclosure, this was before I realized what I just ran into. I fully suspected the issue within my policy definition and only upon further looking at it and cross-referencing on a different OpenStack platform I understood that this was indeed a Security Issue and not just a config fail.</p>
<p>Should I request a CVE on your behalf? Or is that being tracked by the VulnTeam?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Apologies for the IRC disclosure, this was before I realized what I just ran into. I fully suspected the issue within my policy definition and only upon further looking at it and cross-referencing on a different OpenStack platform I understood that this was indeed a Security Issue and not just a config fail.

Should I request a CVE on your behalf? Or is that being tracked by the VulnTeam?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T19:32:13.537224+00:00" title="2019-12-04 19:32:13 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>You can request a CVE if you wish, but the VMT usually does so as part of the process[0]. So either way one will get made for this.</p>
<p>[0] <a rel="nofollow" href="https://security.openstack.org/vmt-process.html#send-cve-request">https:/<wbr />/security.<wbr />openstack.<wbr />org/vmt-<wbr />process.<wbr />html#send-<wbr />cve-request</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">You can request a CVE if you wish, but the VMT usually does so as part of the process[0]. So either way one will get made for this.

[0] https://security.openstack.org/vmt-process.html#send-cve-request</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dpreussker" class="sprite person">Daniel &#x27;f0o&#x27; Preussker (dpreussker)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T19:35:43.563505+00:00" title="2019-12-04 19:35:43 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>If the VMT wants to take it with Mitre I&#x27;m more than happy with that. Last time I was involved with Octavia where they didnt had VMT correspondence so I filled out the forms for them.</p>
<p>Nice to be able to lean back for once as a reporter, just kidding ;)</p>
<p>Please do let me know if I can be of any help or assist in any way.</p>
<p>I can apply and test patches against Train/Ubuntu (UCA repo) but sadly not against RHEL because that&#x27;s running Red Hat OpenStack Platform (support would void).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">If the VMT wants to take it with Mitre I'm more than happy with that. Last time I was involved with Octavia where they didnt had VMT correspondence so I filled out the forms for them.

Nice to be able to lean back for once as a reporter, just kidding ;)

Please do let me know if I can be of any help or assist in any way.

I can apply and test patches against Train/Ubuntu (UCA repo) but sadly not against RHEL because that's running Red Hat OpenStack Platform (support would void).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T19:36:49.152353+00:00" title="2019-12-04 19:36:49 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Agreed with fungi, with the details of this out in IRC, we can treat this as a public report.  Looks like we have a patch already as well, so things are moving fairly quickly in terms of getting this fixed.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Agreed with fungi, with the details of this out in IRC, we can treat this as a public report.  Looks like we have a patch already as well, so things are moving fairly quickly in terms of getting this fixed.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
    
    <time title="2019-12-04 19:42:10 UTC" datetime="2019-12-04T19:42:10.951704+00:00">on 2019-12-04</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T19:45:31.485538+00:00" title="2019-12-04 19:45:31 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/9">
                <strong>Fix proposed to keystone (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: master<br />
Review: <a rel="nofollow" href="https://review.opendev.org/697355">https:/<wbr />/review.<wbr />opendev.<wbr />org/697355</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: master
Review: https://review.opendev.org/697355</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in keystone: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Colleen Murphy (krinkle)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; In Progress
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T19:47:12.015595+00:00" title="2019-12-04 19:47:12 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/10">
                <strong>Re: Credentials API allows listing and retrieving of all user's credentials</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The OpenStack VMT will request a CVE assignment from MITRE once we agree on a complete impact description for this report. If you&#x27;re interested in the details of our report handling processes, you can find them here: <a rel="nofollow" href="https://security.openstack.org/vmt-process.html#process">https:/<wbr />/security.<wbr />openstack.<wbr />org/vmt-<wbr />process.<wbr />html#process</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The OpenStack VMT will request a CVE assignment from MITRE once we agree on a complete impact description for this report. If you're interested in the details of our report handling processes, you can find them here: https://security.openstack.org/vmt-process.html#process</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Incomplete &#8594; Confirmed
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Gage Hugo (gagehugo)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~crichton" class="sprite person">Ubuntu Foundations Team Bug Bot (crichton)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-04T20:25:26.259257+00:00" title="2019-12-04 20:25:26 UTC">on 2019-12-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The attachment &quot;1855080.patch&quot; seems to be a patch.  If it isn&#x27;t, please remove the &quot;patch&quot; flag from the attachment, remove the &quot;patch&quot; tag, and if you are a member of the ~ubuntu-reviewers, unsubscribe the team.</p>
<p>[This is an automated message performed by a Launchpad user owned by ~brian-murray, for any issues please contact him.]</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The attachment "1855080.patch" seems to be a patch.  If it isn't, please remove the "patch" flag from the attachment, remove the "patch" tag, and if you are a member of the ~ubuntu-reviewers, unsubscribe the team.

[This is an automated message performed by a Launchpad user owned by ~brian-murray, for any issues please contact him.]</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: patch
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-05T00:35:41.130587+00:00" title="2019-12-05 00:35:41 UTC">on 2019-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I wrote up an impact description for use in an upcoming OpenStack Security Advisory and associated CVE request. Please suggest any improvements or suggestions:</p>
<p>Title: Credentials API allows listing and retrieving of all user&#x27;s credentials<br />
Reporter: Daniel &#x27;f0o&#x27; Preussker ()<br />
Products: Keystone<br />
Affects: &gt;=15.0.0, &lt;=16.0.0</p>
<p>Description:<br />
Daniel &#x27;f0o&#x27; Preussker reported a vulnerability in Keystone&#x27;s list credentials API. Any user with a role on a project is able to list any credentials with the /v3/credentials API when enforce_scope is false. Users with a role on a project are able to view any other users&#x27; credentials, which could leak sign-on information for Time-based One Time Passwords (TOTP) or othewise. Deployments running keystone with enforce_scope set to false are affected.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I wrote up an impact description for use in an upcoming OpenStack Security Advisory and associated CVE request. Please suggest any improvements or suggestions:


Title: Credentials API allows listing and retrieving of all user's credentials
Reporter: Daniel 'f0o' Preussker ()
Products: Keystone
Affects: &gt;=15.0.0, &lt;=16.0.0

Description:
Daniel 'f0o' Preussker reported a vulnerability in Keystone's list credentials API. Any user with a role on a project is able to list any credentials with the /v3/credentials API when enforce_scope is false. Users with a role on a project are able to view any other users' credentials, which could leak sign-on information for Time-based One Time Passwords (TOTP) or othewise. Deployments running keystone with enforce_scope set to false are affected.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-05T17:57:21.000455+00:00" title="2019-12-05 17:57:21 UTC">on 2019-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Daniel, is there any organization you want credited along with you for reporting this defect?</p>
<p>Gage, I think the use of &quot;user&#x27;s&quot; in the title (copied from the report itself) incorrectly suggests that a user only has access to credentials for their own user rather than, as the description explains, for all users in that project. Instead maybe try &quot;Credentials API allows listing and retrieving of project credentials&quot; or something like that? As for the affects line, assuming this problem was only introduced in Stein, you want &quot;==15.0.0, ==16.0.0&quot; (wow, were there really no stable/stein point releases?!?) or alternatively &quot;&gt;=15.0.0 &lt;15.0.1, &gt;=16.0.0 &lt;16.0.1&quot; to accurately reflect that any point releases will contain the fix.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Daniel, is there any organization you want credited along with you for reporting this defect?

Gage, I think the use of "user's" in the title (copied from the report itself) incorrectly suggests that a user only has access to credentials for their own user rather than, as the description explains, for all users in that project. Instead maybe try "Credentials API allows listing and retrieving of project credentials" or something like that? As for the affects line, assuming this problem was only introduced in Stein, you want "==15.0.0, ==16.0.0" (wow, were there really no stable/stein point releases?!?) or alternatively "&gt;=15.0.0 &lt;15.0.1, &gt;=16.0.0 &lt;16.0.1" to accurately reflect that any point releases will contain the fix.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dpreussker" class="sprite person">Daniel &#x27;f0o&#x27; Preussker (dpreussker)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-05T18:39:41+00:00" title="2019-12-05 18:39:41 UTC">on 2019-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/14">
                <strong>Re: [Bug 1855080] Re: Credentials API allows listing and retrieving of all user's credentials</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/keystone/+bug/1855080/comments/14/+download">Download full text</a> (6.1 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>No. I&#x27;m not affiliated with any organisation in this regard. Just like the Octavia OSSA haha.</p>
<p>Thanks for asking tho :)</p>
<p>On December 5, 2019 5:57:21 PM UTC, Jeremy Stanley &lt;email address hidden&gt; wrote:<br />
<span class="foldable-quoted">
&gt;Daniel, is there any organization you want credited along with you for<br />
&gt;reporting this defect?<br />
&gt;<br />
&gt;Gage, I think the use of &quot;user&#x27;s&quot; in the title (copied from the report<br />
&gt;itself) incorrectly suggests that a user only has access to credentials<br />
&gt;for their own user rather than, as the description explains, for all<br />
&gt;users in that project. Instead maybe try &quot;Credentials API allows<br />
&gt;listing<br />
&gt;and retrieving of project credentials&quot; or something like that? As for<br />
&gt;the affects line, assuming this problem was only introduced in Stein,<br />
&gt;you want &quot;==15.0.0, ==16.0.0&quot; (wow, were there really no stable/stein<br />
&gt;point releases?!?) or alternatively &quot;&gt;=15.0.0 &lt;15.0.1, &gt;=16.0.0<br />
&gt;&lt;16.0.1&quot;<br />
&gt;to accurately reflect that any point releases will contain the fix.<br />
&gt;<br />
&gt;--<br />
&gt;You received this bug notification because you are subscribed to the<br />
&gt;bug<br />
&gt;report.<br />
&gt;<a rel="nofollow" href="https://bugs.launchpad.net/bugs/1855080">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />1855080</a><br />
&gt;<br />
&gt;Title:<br />
&gt;  Credentials API allows listing and retrieving of all user&#x27;s<br />
&gt;  credentials<br />
&gt;<br />
&gt;Status in OpenStack Identity (keystone):<br />
&gt;  In Progress<br />
&gt;Status in OpenStack Security Advisory:<br />
&gt;  Confirmed<br />
&gt;Status in keystone package in Ubuntu:<br />
&gt;  New<br />
&gt;<br />
&gt;Bug description:<br />
&gt;  Tested against Stein and Train.<br />
&gt;<br />
&gt;  # User creating a credential, i.e totp or similar<br />
&gt;  $ OS_CLOUD=1 openstack token issue<br />
&gt;  | project_id | c3caf1b55bb84b7<wbr />8a795fd81838e51<wbr />60<br />
&gt;  | user_id    | 9971b0f13d2d4a5<wbr />78212d028a53c32<wbr />09<br />
&gt;$ OS_CLOUD=1 openstack credential create --type test<br />
&gt;9971b0f13d2d4a<wbr />578212d028a53c3<wbr />209 test-data<br />
&gt;  $ OS_CLOUD=1 openstack credential list<br />
&gt;+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />-+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />------+<wbr />-------<wbr />-----+<br />
&gt;| ID                               | Type | User ID<br />
&gt;     | Data      | Project ID |<br />
&gt;+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />-+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />------+<wbr />-------<wbr />-----+<br />
&gt;| 0a3a2d3b7dad488<wbr />6b0bbf61b6cd7d2<wbr />b0 | test |<br />
&gt;9971b0f13d2d4a<wbr />578212d028a53c3<wbr />209 | test-data | None       |<br />
&gt;+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />-+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />------+<wbr />-------<wbr />-----+<br />
&gt;<br />
&gt;  # Different User but same Project<br />
&gt;  $ OS_CLOUD=2 openstack token issue<br />
&gt;  | project_id | c3caf1b55bb84b7<wbr />8a795fd81838e51<wbr />60<br />
&gt;  | user_id    | 6b28a0b073fc4ac<wbr />7843f33190ebc5c<wbr />3c<br />
&gt;  $ OS_CLOUD=2 openstack credential list<br />
&gt;+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />-+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />------+<wbr />-------<wbr />-----+<br />
&gt;| ID                               | Type | User ID<br />
&gt;     | Data      | Project ID |<br />
&gt;+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />-+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />------+<wbr />-------<wbr />-----+<br />
&gt;| 0a3a2d3b7dad488<wbr />6b0bbf61b6cd7d2<wbr />b0 | test |<br />
&gt;9971b0f13d2d4a<wbr />578212d028a53c3<wbr />209 | test-data | None       |<br />
&gt;+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />-+-----<wbr />-------<wbr />-------<wbr />-------<wbr />-------<wbr />-+-----<wbr />------+<wbr />-------<wbr />-----+<br />
&gt;<br />
&gt;  # Different User and Different Project<br />
&gt;  $ OS_CLOUD=3 openstack token issue<br />
&gt;  | project_id | d43f20ae5a7e4f3<wbr />6b7017102773844<wbr />01<br />
&gt;  | user_id    | 2e48f1a7d147439<wbr />1a826a2b9700e59<wbr />49<br />
&gt;  $ OS_CLOUD=3 openstack cre...
</span></p></div>
    
    <p>
      <a href="/keystone/+bug/1855080/comments/14">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">No. I'm not affiliated with any organisation in this regard. Just like the Octavia OSSA haha.

Thanks for asking tho :)

On December 5, 2019 5:57:21 PM UTC, Jeremy Stanley &lt;fungi@yuggoth.org&gt; wrote:
&gt;Daniel, is there any organization you want credited along with you for
&gt;reporting this defect?
&gt;
&gt;Gage, I think the use of "user's" in the title (copied from the report
&gt;itself) incorrectly suggests that a user only has access to credentials
&gt;for their own user rather than, as the description explains, for all
&gt;users in that project. Instead maybe try "Credentials API allows
&gt;listing
&gt;and retrieving of project credentials" or something like that? As for
&gt;the affects line, assuming this problem was only introduced in Stein,
&gt;you want "==15.0.0, ==16.0.0" (wow, were there really no stable/stein
&gt;point releases?!?) or alternatively "&gt;=15.0.0 &lt;15.0.1, &gt;=16.0.0
&gt;&lt;16.0.1"
&gt;to accurately reflect that any point releases will contain the fix.
&gt;
&gt;-- 
&gt;You received this bug notification because you are subscribed to the
&gt;bug
&gt;report.
&gt;https://bugs.launchpad.net/bugs/1855080
&gt;
&gt;Title:
&gt;  Credentials API allows listing and retrieving of all user's
&gt;  credentials
&gt;
&gt;Status in OpenStack Identity (keystone):
&gt;  In Progress
&gt;Status in OpenStack Security Advisory:
&gt;  Confirmed
&gt;Status in keystone package in Ubuntu:
&gt;  New
&gt;
&gt;Bug description:
&gt;  Tested against Stein and Train.
&gt;
&gt;  # User creating a credential, i.e totp or similar
&gt;  $ OS_CLOUD=1 openstack token issue
&gt;  | project_id | c3caf1b55bb84b78a795fd81838e5160
&gt;  | user_id    | 9971b0f13d2d4a578212d028a53c3209
&gt;$ OS_CLOUD=1 openstack credential create --type test
&gt;9971b0f13d2d4a578212d028a53c3209 test-data
&gt;  $ OS_CLOUD=1 openstack credential list
&gt;+----------------------------------+------+----------------------------------+-----------+------------+
&gt;| ID                               | Type | User ID                    
&gt;     | Data      | Project ID |
&gt;+----------------------------------+------+----------------------------------+-----------+------------+
&gt;| 0a3a2d3b7dad4886b0bbf61b6cd7d2b0 | test |
&gt;9971b0f13d2d4a578212d028a53c3209 | test-data | None       |
&gt;+----------------------------------+------+----------------------------------+-----------+------------+
&gt;
&gt;  # Different User but same Project
&gt;  $ OS_CLOUD=2 openstack token issue
&gt;  | project_id | c3caf1b55bb84b78a795fd81838e5160
&gt;  | user_id    | 6b28a0b073fc4ac7843f33190ebc5c3c
&gt;  $ OS_CLOUD=2 openstack credential list
&gt;+----------------------------------+------+----------------------------------+-----------+------------+
&gt;| ID                               | Type | User ID                    
&gt;     | Data      | Project ID |
&gt;+----------------------------------+------+----------------------------------+-----------+------------+
&gt;| 0a3a2d3b7dad4886b0bbf61b6cd7d2b0 | test |
&gt;9971b0f13d2d4a578212d028a53c3209 | test-data | None       |
&gt;+----------------------------------+------+----------------------------------+-----------+------------+
&gt;
&gt;  # Different User and Different Project
&gt;  $ OS_CLOUD=3 openstack token issue
&gt;  | project_id | d43f20ae5a7e4f36b701710277384401
&gt;  | user_id    | 2e48f1a7d1474391a826a2b9700e5949
&gt;  $ OS_CLOUD=3 openstack credential list
&gt;+----------------------------------+------+----------------------------------+-----------+------------+
&gt;| ID                               | Type | User ID                    
&gt;     | Data      | Project ID |
&gt;+----------------------------------+------+----------------------------------+-----------+------------+
&gt;| 0a3a2d3b7dad4886b0bbf61b6cd7d2b0 | test |
&gt;9971b0f13d2d4a578212d028a53c3209 | test-data | None       |
&gt;+----------------------------------+------+----------------------------------+-----------+------------+
&gt;
&gt;  As shown anyone who's authenticated can retrieve any credentials
&gt;  including their 'secret'.
&gt;
&gt;  This is a rather severe information disclosure vulnerability and
&gt;  completely defies the purpose of TOTP or MFA as these credentials are
&gt;  not kept secure or private whatsoever.
&gt;
&gt;  If Auth-rules are configured allow login with only 'topt' it would be
&gt;  extremely easy to assume a different user's identity.
&gt;
&gt;  A CVE should be issued for this. I can take care of that paperwork.
&gt;
&gt;  Versions affected and tested:
&gt;
&gt;  Train/ubuntu:
&gt;  $ dpkg -l | grep keystone
&gt;ii  keystone                             2:16.0.0-0ubuntu1~cloud0      
&gt;                      all          OpenStack identity service - Daemons
&gt;ii  keystone-common                      2:16.0.0-0ubuntu1~cloud0      
&gt;                 all          OpenStack identity service - Common files
&gt;ii  python-keystoneauth1                 3.13.1-0ubuntu1~cloud0        
&gt;all          authentication library for OpenStack Identity - Python 2.7
&gt;ii  python-keystoneclient                1:3.19.0-0ubuntu1~cloud0      
&gt;all          client library for the OpenStack Keystone API - Python 2.x
&gt;ii  python-keystonemiddleware            6.0.0-0ubuntu1~cloud0         
&gt; all          Middleware for OpenStack Identity (Keystone) - Python 2.x
&gt;ii  python3-keystone                     2:16.0.0-0ubuntu1~cloud0      
&gt;             all          OpenStack identity service - Python 3 library
&gt;ii  python3-keystoneauth1                3.17.1-0ubuntu1~cloud0        
&gt;all          authentication library for OpenStack Identity - Python 3.x
&gt;ii  python3-keystoneclient               1:3.21.0-0ubuntu1~cloud0      
&gt;all          client library for the OpenStack Keystone API - Python 3.x
&gt;ii  python3-keystonemiddleware           7.0.1-0ubuntu1~cloud0         
&gt; all          Middleware for OpenStack Identity (Keystone) - Python 3.x
&gt;
&gt;  Stein/RHEL:
&gt;  $ rpm -qa | grep keystone
&gt;  python3-keystoneclient-3.19.0-0.20190312070330.6c4bb8b.el8ost.noarch
&gt;  openstack-keystone-15.0.1-0.20190720060412.5f27c4b.el8ost.noarch
&gt;  python3-keystoneauth1-3.13.1-0.20190311052414.bde07bc.el8ost.noarch
&gt;python3-keystonemiddleware-6.0.0-0.20190312071144.fca37ea.el8ost.noarch
&gt;  python3-keystone-15.0.1-0.20190720060412.5f27c4b.el8ost.noarch
&gt;
&gt;To manage notifications about this bug go to:
&gt;https://bugs.launchpad.net/keystone/+bug/1855080/+subscriptions

-- 
Sent from my Android device with K-9 Mail. Please excuse my brevity.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-05T18:56:00.413726+00:00" title="2019-12-05 18:56:00 UTC">on 2019-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/15">
                <strong>Re: Credentials API allows listing and retrieving of all user's credentials</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Updated, please review:</p>
<p>Title: Credentials API allows non-admin to list and retrieve every users&#x27; credentials<br />
Reporter: Daniel &#x27;f0o&#x27; Preussker<br />
Products: Keystone<br />
Affects: ==15.0.0, ==16.0.0</p>
<p>Description:<br />
Daniel &#x27;f0o&#x27; Preussker reported a vulnerability in Keystone&#x27;s list credentials API. Any user with a role on a project is able to list any credentials with the /v3/credentials API when enforce_scope is false. Users with a role on a project are able to view any other users&#x27; credentials, which could leak sign-on information for Time-based One Time Passwords (TOTP) or othewise. Deployments running keystone with enforce_scope set to false are affected. There will be a slight performance impact for the list credentials API once this issue is fixed.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Updated, please review:

Title: Credentials API allows non-admin to list and retrieve every users' credentials
Reporter: Daniel 'f0o' Preussker
Products: Keystone
Affects: ==15.0.0, ==16.0.0

Description:
Daniel 'f0o' Preussker reported a vulnerability in Keystone's list credentials API. Any user with a role on a project is able to list any credentials with the /v3/credentials API when enforce_scope is false. Users with a role on a project are able to view any other users' credentials, which could leak sign-on information for Time-based One Time Passwords (TOTP) or othewise. Deployments running keystone with enforce_scope set to false are affected. There will be a slight performance impact for the list credentials API once this issue is fixed.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
    
    <time title="2019-12-05 19:05:55 UTC" datetime="2019-12-05T19:05:55.761696+00:00">on 2019-12-05</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - Credentials API allows listing and retrieving of all user&#x27;s credentials<br />+ Credentials API allows listing and retrieving of all users&#x27; credentials
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-05T19:24:02.130413+00:00" title="2019-12-05 19:24:02 UTC">on 2019-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/16">
                <strong>Re: Credentials API allows listing and retrieving of all users' credentials</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Somewhat of a grammar nit on the updated title, but it would be &quot;every user&#x27;s&quot; or &quot;all users&#x27;&quot; (placement of the apostrophe in possessive nouns is significant for indicating plurality, and &quot;every&quot; modifies a singular noun as opposed to &quot;all&quot; which modifies a plural). This nuance in the English language is why I suggested dodging &quot;users&#x27;&quot; or &quot;user&#x27;s&quot; and picking different, less ambiguous phrasing so as to avoid confusion for non-native readers of English when skimming the advisory title.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Somewhat of a grammar nit on the updated title, but it would be "every user's" or "all users'" (placement of the apostrophe in possessive nouns is significant for indicating plurality, and "every" modifies a singular noun as opposed to "all" which modifies a plural). This nuance in the English language is why I suggested dodging "users'" or "user's" and picking different, less ambiguous phrasing so as to avoid confusion for non-native readers of English when skimming the advisory title.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-05T19:48:59.144091+00:00" title="2019-12-05 19:48:59 UTC">on 2019-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Ah ok, I&#x27;ll remove the apostrophe then.</p>
<p>Updated, please review:</p>
<p>Title: Credentials API allows non-admin to list and retrieve all users credentials<br />
Reporter: Daniel &#x27;f0o&#x27; Preussker<br />
Products: Keystone<br />
Affects: ==15.0.0, ==16.0.0</p>
<p>Description:<br />
Daniel &#x27;f0o&#x27; Preussker reported a vulnerability in Keystone&#x27;s list credentials API. Any user with a role on a project is able to list any credentials with the /v3/credentials API when enforce_scope is false. Users with a role on a project are able to view any other users&#x27; credentials, which could leak sign-on information for Time-based One Time Passwords (TOTP) or othewise. Deployments running keystone with enforce_scope set to false are affected. There will be a slight performance impact for the list credentials API once this issue is fixed.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Ah ok, I'll remove the apostrophe then.

Updated, please review:

Title: Credentials API allows non-admin to list and retrieve all users credentials
Reporter: Daniel 'f0o' Preussker
Products: Keystone
Affects: ==15.0.0, ==16.0.0

Description:
Daniel 'f0o' Preussker reported a vulnerability in Keystone's list credentials API. Any user with a role on a project is able to list any credentials with the /v3/credentials API when enforce_scope is false. Users with a role on a project are able to view any other users' credentials, which could leak sign-on information for Time-based One Time Passwords (TOTP) or othewise. Deployments running keystone with enforce_scope set to false are affected. There will be a slight performance impact for the list credentials API once this issue is fixed.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - Credentials API allows listing and retrieving of all users&#x27; credentials<br />+ Credentials API allows listing and retrieving of all users credentials
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-06T02:20:29.855020+00:00" title="2019-12-06 02:20:29 UTC">on 2019-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/18">
                <strong>Fix merged to keystone (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/697355">https:/<wbr />/review.<wbr />opendev.<wbr />org/697355</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/keystone/commit/?id=17c337dbdbfb9d548ad531c2ad0483c9bce5b98f">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />keystone/<wbr />commit/<wbr />?id=17c337dbdbf<wbr />b9d548ad531c2ad<wbr />0483c9bce5b98f</a><br />
Submitter: Zuul<br />
Branch:    master</p>
<p>commit 17c337dbdbfb9d5<wbr />48ad531c2ad0483<wbr />c9bce5b98f<br />
Author: Colleen Murphy &lt;email address hidden&gt;<br />
Date:   Wed Dec 4 10:51:05 2019 -0800</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Fix credential list for project members</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Without this patch, project members and readers can list any credentials<br />
&nbsp;&nbsp;&nbsp;&nbsp;with the /v3/credentials API when enforce_scope is false. enforce_scope<br />
&nbsp;&nbsp;&nbsp;&nbsp;is only applicable to project admins due to the admin-ness problem[1],<br />
&nbsp;&nbsp;&nbsp;&nbsp;and this policy is not meant to allow project admins any access to users&#x27;<br />
&nbsp;&nbsp;&nbsp;&nbsp;credentials (only system admins should be able to access them). However,<br />
&nbsp;&nbsp;&nbsp;&nbsp;when enforce_scope is false, we need to preserve the old behavior of<br />
&nbsp;&nbsp;&nbsp;&nbsp;project admins being able to list all credentials. This change mitigates<br />
&nbsp;&nbsp;&nbsp;&nbsp;the problem by running the identity:<wbr />get_credential policy check to<br />
&nbsp;&nbsp;&nbsp;&nbsp;filter out credentials the user does not have access to. This will<br />
&nbsp;&nbsp;&nbsp;&nbsp;impact performance.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-bug: #1855080</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;[1] <a rel="nofollow" href="https://bugs.launchpad.net/keystone/+bug/968696">https:/<wbr />/bugs.launchpad<wbr />.net/keystone/<wbr />+bug/968696</a></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I5dd85a6b836837<wbr />3a27aef2942a644<wbr />99d020662ef</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/697355
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=17c337dbdbfb9d548ad531c2ad0483c9bce5b98f
Submitter: Zuul
Branch:    master

commit 17c337dbdbfb9d548ad531c2ad0483c9bce5b98f
Author: Colleen Murphy &lt;colleen.murphy@suse.de&gt;
Date:   Wed Dec 4 10:51:05 2019 -0800

    Fix credential list for project members
    
    Without this patch, project members and readers can list any credentials
    with the /v3/credentials API when enforce_scope is false. enforce_scope
    is only applicable to project admins due to the admin-ness problem[1],
    and this policy is not meant to allow project admins any access to users'
    credentials (only system admins should be able to access them). However,
    when enforce_scope is false, we need to preserve the old behavior of
    project admins being able to list all credentials. This change mitigates
    the problem by running the identity:get_credential policy check to
    filter out credentials the user does not have access to. This will
    impact performance.
    
    Closes-bug: #1855080
    
    [1] https://bugs.launchpad.net/keystone/+bug/968696
    
    Change-Id: I5dd85a6b8368373a27aef2942a64499d020662ef
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in keystone: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-06T02:57:11.960262+00:00" title="2019-12-06 02:57:11 UTC">on 2019-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/19">
                <strong>Fix proposed to keystone (stable/train)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/train<br />
Review: <a rel="nofollow" href="https://review.opendev.org/697611">https:/<wbr />/review.<wbr />opendev.<wbr />org/697611</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/train
Review: https://review.opendev.org/697611</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-06T15:13:22.788723+00:00" title="2019-12-06 15:13:22 UTC">on 2019-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/20">
                <strong>Re: Credentials API allows listing and retrieving of all users credentials</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Just to get confirmation, this bug was only introduced as of Stein, right? It&#x27;s not present in Rocky or earlier?</p>
<p>Gage, assuming the above is true, and if nobody has any other concerns about your proposed impact description in comment #17, you can probably go ahead and request a CVE assignment for this so we can proceed with the advisory, since the fix has already merged to master and it looks like stable backports are in the process of getting proposed.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Just to get confirmation, this bug was only introduced as of Stein, right? It's not present in Rocky or earlier?

Gage, assuming the above is true, and if nobody has any other concerns about your proposed impact description in comment #17, you can probably go ahead and request a CVE assignment for this so we can proceed with the advisory, since the fix has already merged to master and it looks like stable backports are in the process of getting proposed.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-06T22:06:31.115999+00:00" title="2019-12-06 22:06:31 UTC">on 2019-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/21">
                <strong>Fix merged to keystone (stable/train)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/697611">https:/<wbr />/review.<wbr />opendev.<wbr />org/697611</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/keystone/commit/?id=bd3f63787151183f4daa43578aa491856fefae5b">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />keystone/<wbr />commit/<wbr />?id=bd3f6378715<wbr />1183f4daa43578a<wbr />a491856fefae5b</a><br />
Submitter: Zuul<br />
Branch:    stable/train</p>
<p>commit bd3f63787151183<wbr />f4daa43578aa491<wbr />856fefae5b<br />
Author: Colleen Murphy &lt;email address hidden&gt;<br />
Date:   Wed Dec 4 10:51:05 2019 -0800</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Fix credential list for project members</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Without this patch, project members and readers can list any credentials<br />
&nbsp;&nbsp;&nbsp;&nbsp;with the /v3/credentials API when enforce_scope is false. enforce_scope<br />
&nbsp;&nbsp;&nbsp;&nbsp;is only applicable to project admins due to the admin-ness problem[1],<br />
&nbsp;&nbsp;&nbsp;&nbsp;and this policy is not meant to allow project admins any access to users&#x27;<br />
&nbsp;&nbsp;&nbsp;&nbsp;credentials (only system admins should be able to access them). However,<br />
&nbsp;&nbsp;&nbsp;&nbsp;when enforce_scope is false, we need to preserve the old behavior of<br />
&nbsp;&nbsp;&nbsp;&nbsp;project admins being able to list all credentials. This change mitigates<br />
&nbsp;&nbsp;&nbsp;&nbsp;the problem by running the identity:<wbr />get_credential policy check to<br />
&nbsp;&nbsp;&nbsp;&nbsp;filter out credentials the user does not have access to. This will<br />
&nbsp;&nbsp;&nbsp;&nbsp;impact performance.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-bug: #1855080</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;[1] <a rel="nofollow" href="https://bugs.launchpad.net/keystone/+bug/968696">https:/<wbr />/bugs.launchpad<wbr />.net/keystone/<wbr />+bug/968696</a></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I5dd85a6b836837<wbr />3a27aef2942a644<wbr />99d020662ef<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 17c337dbdbfb9d5<wbr />48ad531c2ad0483<wbr />c9bce5b98f)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/697611
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=bd3f63787151183f4daa43578aa491856fefae5b
Submitter: Zuul
Branch:    stable/train

commit bd3f63787151183f4daa43578aa491856fefae5b
Author: Colleen Murphy &lt;colleen.murphy@suse.de&gt;
Date:   Wed Dec 4 10:51:05 2019 -0800

    Fix credential list for project members
    
    Without this patch, project members and readers can list any credentials
    with the /v3/credentials API when enforce_scope is false. enforce_scope
    is only applicable to project admins due to the admin-ness problem[1],
    and this policy is not meant to allow project admins any access to users'
    credentials (only system admins should be able to access them). However,
    when enforce_scope is false, we need to preserve the old behavior of
    project admins being able to list all credentials. This change mitigates
    the problem by running the identity:get_credential policy check to
    filter out credentials the user does not have access to. This will
    impact performance.
    
    Closes-bug: #1855080
    
    [1] https://bugs.launchpad.net/keystone/+bug/968696
    
    Change-Id: I5dd85a6b8368373a27aef2942a64499d020662ef
    (cherry picked from commit 17c337dbdbfb9d548ad531c2ad0483c9bce5b98f)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-train
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-06T22:25:42.773234+00:00" title="2019-12-06 22:25:42 UTC">on 2019-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/22">
                <strong>Fix proposed to keystone (stable/stein)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/stein<br />
Review: <a rel="nofollow" href="https://review.opendev.org/697731">https:/<wbr />/review.<wbr />opendev.<wbr />org/697731</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/stein
Review: https://review.opendev.org/697731</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-07T20:20:32.775069+00:00" title="2019-12-07 20:20:32 UTC">on 2019-12-07</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/23">
                <strong>Fix merged to keystone (stable/stein)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/697731">https:/<wbr />/review.<wbr />opendev.<wbr />org/697731</a><br />
Committed: <a rel="nofollow" href="https://git.openstack.org/cgit/openstack/keystone/commit/?id=17947516b0095c51da5cff94771247f2e7c44ee6">https:/<wbr />/git.openstack.<wbr />org/cgit/<wbr />openstack/<wbr />keystone/<wbr />commit/<wbr />?id=17947516b00<wbr />95c51da5cff9477<wbr />1247f2e7c44ee6</a><br />
Submitter: Zuul<br />
Branch:    stable/stein</p>
<p>commit 17947516b0095c5<wbr />1da5cff94771247<wbr />f2e7c44ee6<br />
Author: Colleen Murphy &lt;email address hidden&gt;<br />
Date:   Wed Dec 4 10:51:05 2019 -0800</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Fix credential list for project members</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Without this patch, project members and readers can list any credentials<br />
&nbsp;&nbsp;&nbsp;&nbsp;with the /v3/credentials API when enforce_scope is false. enforce_scope<br />
&nbsp;&nbsp;&nbsp;&nbsp;is only applicable to project admins due to the admin-ness problem[1],<br />
&nbsp;&nbsp;&nbsp;&nbsp;and this policy is not meant to allow project admins any access to users&#x27;<br />
&nbsp;&nbsp;&nbsp;&nbsp;credentials (only system admins should be able to access them). However,<br />
&nbsp;&nbsp;&nbsp;&nbsp;when enforce_scope is false, we need to preserve the old behavior of<br />
&nbsp;&nbsp;&nbsp;&nbsp;project admins being able to list all credentials. This change mitigates<br />
&nbsp;&nbsp;&nbsp;&nbsp;the problem by running the identity:<wbr />get_credential policy check to<br />
&nbsp;&nbsp;&nbsp;&nbsp;filter out credentials the user does not have access to. This will<br />
&nbsp;&nbsp;&nbsp;&nbsp;impact performance.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-bug: #1855080</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;[1] <a rel="nofollow" href="https://bugs.launchpad.net/keystone/+bug/968696">https:/<wbr />/bugs.launchpad<wbr />.net/keystone/<wbr />+bug/968696</a></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I5dd85a6b836837<wbr />3a27aef2942a644<wbr />99d020662ef<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 17c337dbdbfb9d5<wbr />48ad531c2ad0483<wbr />c9bce5b98f)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit bd3f63787151183<wbr />f4daa43578aa491<wbr />856fefae5b)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/697731
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=17947516b0095c51da5cff94771247f2e7c44ee6
Submitter: Zuul
Branch:    stable/stein

commit 17947516b0095c51da5cff94771247f2e7c44ee6
Author: Colleen Murphy &lt;colleen.murphy@suse.de&gt;
Date:   Wed Dec 4 10:51:05 2019 -0800

    Fix credential list for project members
    
    Without this patch, project members and readers can list any credentials
    with the /v3/credentials API when enforce_scope is false. enforce_scope
    is only applicable to project admins due to the admin-ness problem[1],
    and this policy is not meant to allow project admins any access to users'
    credentials (only system admins should be able to access them). However,
    when enforce_scope is false, we need to preserve the old behavior of
    project admins being able to list all credentials. This change mitigates
    the problem by running the identity:get_credential policy check to
    filter out credentials the user does not have access to. This will
    impact performance.
    
    Closes-bug: #1855080
    
    [1] https://bugs.launchpad.net/keystone/+bug/968696
    
    Change-Id: I5dd85a6b8368373a27aef2942a64499d020662ef
    (cherry picked from commit 17c337dbdbfb9d548ad531c2ad0483c9bce5b98f)
    (cherry picked from commit bd3f63787151183f4daa43578aa491856fefae5b)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-stein
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dpreussker" class="sprite person">Daniel &#x27;f0o&#x27; Preussker (dpreussker)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-09T12:16:15.964053+00:00" title="2019-12-09 12:16:15 UTC">on 2019-12-09</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/keystone/+bug/1855080/comments/24">
                <strong>Re: Credentials API allows listing and retrieving of all users credentials</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I honestly don&#x27;t know if it&#x27;s been in Rocky or not. The code change suggests that it got introduced with the system scoping which appeared in Stein as far as I know.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I honestly don't know if it's been in Rocky or not. The code change suggests that it got introduced with the system scoping which appeared in Stein as far as I know.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2019-12-09T16:24:48.247513+00:00" title="2019-12-09 16:24:48 UTC">on 2019-12-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I wasn&#x27;t able to recreate this with Rocky, only a user with the &quot;admin&quot; role was able to list credentials, other users with member roles were denied (as policy defined).</p>
<p>The code was indeed changed after Rocky to account for system scope, where I believe that this issue was introduced.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I wasn't able to recreate this with Rocky, only a user with the "admin" role was able to list credentials, other users with member roles were denied (as policy defined).

The code was indeed changed after Rocky to account for system scope, where I believe that this issue was introduced.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gagehugo" class="sprite person">Gage Hugo (gagehugo)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-01-02T20:10:59.500147+00:00" title="2020-01-02 20:10:59 UTC">on 2020-01-02</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>OSSA Report: <a rel="nofollow" href="https://review.opendev.org/#/c/698045/">https:/<wbr />/review.<wbr />opendev.<wbr />org/#/c/<wbr />698045/</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">OSSA Report: https://review.opendev.org/#/c/698045/</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/keystone/+bug/1855080/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~alexmurray" class="sprite person">Alex Murray (alexmurray)</a>
            wrote
            <time itemprop="commentTime" datetime="2020-05-22T04:42:44.119467+00:00" title="2020-05-22 04:42:44 UTC">on 2020-05-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/keystone/+bug/1855080/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This was assigned CVE-2019-19687 and was fixed via <a rel="nofollow" href="https://usn.ubuntu.com/4262-1/">https:/<wbr />/usn.ubuntu.<wbr />com/4262-<wbr />1/</a> in Ubuntu.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This was assigned CVE-2019-19687 and was fixed via https://usn.ubuntu.com/4262-1/ in Ubuntu.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in keystone (Ubuntu): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
    
    <time title="2020-05-22 15:34:39 UTC" datetime="2020-05-22T15:34:39.531261+00:00">on 2020-05-22</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - Credentials API allows listing and retrieving of all users credentials<br />+ [OSSA-2019-006] Credentials API allows listing and retrieving of all<br />+ users credentials (CVE-2019-19687)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/keystone/+bug/1855080/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/keystone/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/keystone/+bug/1855080/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/keystone/+bug/1855080/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/keystone/+bug/1855080/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/keystone/+bug/1855080/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/keystone/+bug/1855080/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    <li><a class="menu-link-unlinkcve sprite modify remove" href="https://bugs.launchpad.net/keystone/+bug/1855080/+unlinkcve">Remove CVE link</a></li>
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/keystone/+bug/1855080/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/keystone/+bug/1855080/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/keystone/+bug/1855080/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1855080/+attachment/5309809/+files/1855080.patch">1855080.patch</a>
        <small>
          (<a href="/keystone/+bug/1855080/+attachment/5309809">edit</a>)
        </small>
      </li>
      <li class="download-attachment">
        <a class="sprite haspatch-icon" href="https://bugs.launchpad.net/keystone/+bug/1855080/+attachment/5309814/+files/0001-Fix-credential-list-for-project-members.patch">0001-Fix-credential-list-for-project-members.patch</a>
        <small>
          (<a href="/keystone/+bug/1855080/+attachment/5309814">edit</a>)
        </small>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/keystone/+bug/1855080/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"bug_is_private": false, "information_type_data": {"PUBLICSECURITY": {"name": "Public Security", "description_css_class": "choice-description", "is_private": false, "value": "PUBLICSECURITY", "description": "Everyone can see this security related information.\n", "order": 1}, "PRIVATESECURITY": {"name": "Private Security", "description_css_class": "choice-description", "is_private": true, "value": "PRIVATESECURITY", "description": "Only the security group can see this information.\n ", "order": 2}, "PUBLIC": {"name": "Public", "description_css_class": "choice-description", "is_private": false, "value": "PUBLIC", "description": "Everyone can see this information.\n", "order": 0}, "USERDATA": {"name": "Private", "description_css_class": "choice-description", "is_private": true, "value": "USERDATA", "description": "Only shared with users permitted to see private user information.\n", "order": 3}}, "initial_comment_batch_offset": 41, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/1855080", "self_link": "https://bugs.launchpad.net/api/devel/bugs/1855080"}, "first visible_recent_comment": -13, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/1855080", "web_link": "https://bugs.launchpad.net/bugs/1855080", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 1855080, "private": false, "information_type": "Public Security", "name": null, "title": "[OSSA-2019-006] Credentials API allows listing and retrieving of all users credentials (CVE-2019-19687)", "description": "Tested against Stein and Train.\n\n# User creating a credential, i.e totp or similar\n$ OS_CLOUD=1 openstack token issue\n| project_id | c3caf1b55bb84b78a795fd81838e5160\n| user_id    | 9971b0f13d2d4a578212d028a53c3209\n$ OS_CLOUD=1 openstack credential create --type test 9971b0f13d2d4a578212d028a53c3209 test-data\n$ OS_CLOUD=1 openstack credential list\n+----------------------------------+------+----------------------------------+-----------+------------+\n| ID                               | Type | User ID                          | Data      | Project ID |\n+----------------------------------+------+----------------------------------+-----------+------------+\n| 0a3a2d3b7dad4886b0bbf61b6cd7d2b0 | test | 9971b0f13d2d4a578212d028a53c3209 | test-data | None       |\n+----------------------------------+------+----------------------------------+-----------+------------+\n\n# Different User but same Project\n$ OS_CLOUD=2 openstack token issue\n| project_id | c3caf1b55bb84b78a795fd81838e5160\n| user_id    | 6b28a0b073fc4ac7843f33190ebc5c3c\n$ OS_CLOUD=2 openstack credential list\n+----------------------------------+------+----------------------------------+-----------+------------+\n| ID                               | Type | User ID                          | Data      | Project ID |\n+----------------------------------+------+----------------------------------+-----------+------------+\n| 0a3a2d3b7dad4886b0bbf61b6cd7d2b0 | test | 9971b0f13d2d4a578212d028a53c3209 | test-data | None       |\n+----------------------------------+------+----------------------------------+-----------+------------+\n\n# Different User and Different Project\n$ OS_CLOUD=3 openstack token issue\n| project_id | d43f20ae5a7e4f36b701710277384401\n| user_id    | 2e48f1a7d1474391a826a2b9700e5949\n$ OS_CLOUD=3 openstack credential list\n+----------------------------------+------+----------------------------------+-----------+------------+\n| ID                               | Type | User ID                          | Data      | Project ID |\n+----------------------------------+------+----------------------------------+-----------+------------+\n| 0a3a2d3b7dad4886b0bbf61b6cd7d2b0 | test | 9971b0f13d2d4a578212d028a53c3209 | test-data | None       |\n+----------------------------------+------+----------------------------------+-----------+------------+\n\nAs shown anyone who's authenticated can retrieve any credentials including their 'secret'.\n\nThis is a rather severe information disclosure vulnerability and completely defies the purpose of TOTP or MFA as these credentials are not kept secure or private whatsoever.\n\nIf Auth-rules are configured allow login with only 'topt' it would be extremely easy to assume a different user's identity.\n\nA CVE should be issued for this. I can take care of that paperwork.\n\nVersions affected and tested:\n\nTrain/ubuntu:\n$ dpkg -l | grep keystone\nii  keystone                             2:16.0.0-0ubuntu1~cloud0                                    all          OpenStack identity service - Daemons\nii  keystone-common                      2:16.0.0-0ubuntu1~cloud0                                    all          OpenStack identity service - Common files\nii  python-keystoneauth1                 3.13.1-0ubuntu1~cloud0                                      all          authentication library for OpenStack Identity - Python 2.7\nii  python-keystoneclient                1:3.19.0-0ubuntu1~cloud0                                    all          client library for the OpenStack Keystone API - Python 2.x\nii  python-keystonemiddleware            6.0.0-0ubuntu1~cloud0                                       all          Middleware for OpenStack Identity (Keystone) - Python 2.x\nii  python3-keystone                     2:16.0.0-0ubuntu1~cloud0                                    all          OpenStack identity service - Python 3 library\nii  python3-keystoneauth1                3.17.1-0ubuntu1~cloud0                                      all          authentication library for OpenStack Identity - Python 3.x\nii  python3-keystoneclient               1:3.21.0-0ubuntu1~cloud0                                    all          client library for the OpenStack Keystone API - Python 3.x\nii  python3-keystonemiddleware           7.0.1-0ubuntu1~cloud0                                       all          Middleware for OpenStack Identity (Keystone) - Python 3.x\n\nStein/RHEL:\n$ rpm -qa | grep keystone\npython3-keystoneclient-3.19.0-0.20190312070330.6c4bb8b.el8ost.noarch\nopenstack-keystone-15.0.1-0.20190720060412.5f27c4b.el8ost.noarch\npython3-keystoneauth1-3.13.1-0.20190311052414.bde07bc.el8ost.noarch\npython3-keystonemiddleware-6.0.0-0.20190312071144.fca37ea.el8ost.noarch\npython3-keystone-15.0.1-0.20190720060412.5f27c4b.el8ost.noarch", "owner_link": "https://bugs.launchpad.net/api/devel/~dpreussker", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/bug_tasks", "duplicate_of_link": null, "date_created": "2019-12-04T10:14:12.956263+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/subscriptions", "date_last_updated": "2020-05-22T15:34:39.745460+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 264, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/attachments", "security_related": true, "latest_patch_uploaded": "2019-12-04T18:57:11.595993+00:00", "tags": ["in-stable-stein", "in-stable-train", "patch"], "date_last_message": "2020-05-22T04:42:44.119467+00:00", "number_of_duplicates": 0, "message_count": 28, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/1855080/linked_merge_proposals", "http_etag": "\"dd0d8fd4cb4752b5db692661c0fd8fe509f191af-3131d8dc1cc5f5f89816e14c4b41ed3ddb14d1f7\""}, "total_comments_and_activity": 55, "related_features": {}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/keystone/+bug/1855080", "web_link": "https://bugs.launchpad.net/keystone/+bug/1855080", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/1855080", "milestone_link": null, "status": "Fix Released", "importance": "Critical", "assignee_link": "https://bugs.launchpad.net/api/devel/~krinkle", "bug_target_display_name": "OpenStack Identity (keystone)", "bug_target_name": "keystone", "bug_watch_link": null, "date_assigned": "2019-12-04T19:45:29.773363+00:00", "date_created": "2019-12-04T10:14:12.956263+00:00", "date_confirmed": "2019-12-04T17:53:54.920145+00:00", "date_incomplete": null, "date_in_progress": "2019-12-04T19:45:29.826281+00:00", "date_closed": "2019-12-06T02:20:26.390195+00:00", "date_left_new": "2019-12-04T17:53:54.920145+00:00", "date_triaged": "2019-12-04T19:45:29.826281+00:00", "date_fix_committed": "2019-12-06T02:20:26.390195+00:00", "date_fix_released": "2019-12-06T02:20:26.390195+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~dpreussker", "target_link": "https://bugs.launchpad.net/api/devel/keystone", "title": "Bug #1855080 in OpenStack Identity (keystone): \"[OSSA-2019-006] Credentials API allows listing and retrieving of all users credentials (CVE-2019-19687)\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/keystone/+bug/1855080/related_tasks", "is_complete": true, "http_etag": "\"b34701d0b66b0bcd20e4469bf25dd70ca3213301-a4cd9a8ceb54d92eae468d98b5d21a330b82d7fa\""}, "bugtask_data": {"2555369": {"bugtask_path": "/keystone/+bug/1855080", "bug_title": "[OSSA-2019-006] Credentials API allows listing and retrieving of all users credentials (CVE-2019-19687)", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "OpenStack Identity (keystone)", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/keystone/+bug/1855080/+delete", "row_id": "tasksummary2555369", "target_is_product": true, "id": 2555369, "form_row_id": "task2555369", "assignee_vocabulary_filters": [], "prefix": "keystone", "importance_value": "Critical", "status_value": "Fix Released", "assignee_value": "krinkle", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "2555370": {"bugtask_path": "/ubuntu/+source/keystone/+bug/1855080", "bug_title": "[OSSA-2019-006] Credentials API allows listing and retrieving of all users credentials (CVE-2019-19687)", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "keystone (Ubuntu)", "hide_assignee_team_selection": true, "assignee_is_team": null, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ubuntu/+source/keystone/+bug/1855080/+delete", "row_id": "tasksummary2555370", "target_is_product": false, "id": 2555370, "form_row_id": "task2555370", "assignee_vocabulary_filters": [], "prefix": "ubuntu_keystone", "importance_value": "Undecided", "status_value": "Fix Released", "assignee_value": null, "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}, "2555436": {"bugtask_path": "/ossa/+bug/1855080", "bug_title": "[OSSA-2019-006] Credentials API allows listing and retrieving of all users credentials (CVE-2019-19687)", "user_can_delete": false, "milestone_value": null, "milestone_widget_items": "[]", "importance_widget_items": "[]", "assignee_vocabulary": "AllUserTeamsParticipation", "user_can_edit_assignee": false, "targetname": "OpenStack Security Advisory", "hide_assignee_team_selection": true, "assignee_is_team": false, "status_widget_items": "[]", "delete_link": "https://bugs.launchpad.net/ossa/+bug/1855080/+delete", "row_id": "tasksummary2555436", "target_is_product": true, "id": 2555436, "form_row_id": "task2555436", "assignee_vocabulary_filters": [], "prefix": "ossa", "importance_value": "High", "status_value": "Fix Released", "assignee_value": "gagehugo", "user_can_edit_milestone": false, "user_can_unassign": false, "user_can_edit_status": true, "user_can_edit_importance": false}}};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 67 queries/external actions issued in 0.73 seconds

    Features: {'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'bugs.affected_count_includes_dupes.disabled': None, 'baselayout.careers_link.disabled': None, 'js.yui_version': None, 'profiling.enabled': None, 'visible_render_time': None, 'hard_timeout': '9000', 'bugs.nominations.bug_supervisors_can_target': 'on', 'app.maintenance_message': None}

    r0d8de2b

    -->

</html>

