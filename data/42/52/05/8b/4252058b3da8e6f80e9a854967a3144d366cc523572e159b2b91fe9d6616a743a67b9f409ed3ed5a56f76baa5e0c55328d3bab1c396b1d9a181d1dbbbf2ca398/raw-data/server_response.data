<!DOCTYPE html>
<html  lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/  dc: http://purl.org/dc/terms/  foaf: http://xmlns.com/foaf/0.1/  og: http://ogp.me/ns#  rdfs: http://www.w3.org/2000/01/rdf-schema#  schema: http://schema.org/  sioc: http://rdfs.org/sioc/ns#  sioct: http://rdfs.org/sioc/types#  skos: http://www.w3.org/2004/02/skos/core#  xsd: http://www.w3.org/2001/XMLSchema# ">
  <head>
    <meta charset="utf-8" />
<meta name="title" content="Tor security advisory: &quot;relay early&quot; traffic confirmation attack | Tor Blog" />
<meta name="description" content="This advisory was posted on the tor-announce mailing list." />
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="/sites/default/files/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="canonical" href="https://blog.torproject.org/tor-security-advisory-relay-early-traffic-confirmation-attack" />
<link rel="shortlink" href="https://blog.torproject.org/node/893" />
<link rel="revision" href="https://blog.torproject.org/tor-security-advisory-relay-early-traffic-confirmation-attack" />


    <link rel="apple-touch-icon" sizes="57x57" href="/themes/tor_bootstrap/favicons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/themes/tor_bootstrap/favicons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/themes/tor_bootstrap/favicons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/themes/tor_bootstrap/favicons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/themes/tor_bootstrap/favicons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/themes/tor_bootstrap/favicons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/themes/tor_bootstrap/favicons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/themes/tor_bootstrap/favicons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/themes/tor_bootstrap/favicons/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/themes/tor_bootstrap/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/themes/tor_bootstrap/favicons/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/themes/tor_bootstrap/favicons/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/themes/tor_bootstrap/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/themes/tor_bootstrap/favicons/manifest.json">
    <link rel="mask-icon" href="/themes/tor_bootstrap/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/themes/tor_bootstrap/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/themes/tor_bootstrap/favicons/mstile-144x144.png">
    <meta name="msapplication-config" content="/themes/tor_bootstrap/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">


    <title>Tor security advisory: &quot;relay early&quot; traffic confirmation attack | Tor Blog</title>
    <link rel="stylesheet" media="all" href="/sites/default/files/css/css_knUyVdvtvhfTPdbdXRtKGgLx1KF40ZDPQU7kloZ1ufQ.css" />
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_xoIm1bwaHxx3MZmfsyaFWUaTD-4w80UZhEvIYWCJ4gM.css" />

    
<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->

  </head>
  <body class="path-node page-node-type-article has-glyphicons">
    <a href="#main-content" class="visually-hidden focusable skip-link">
      Skip to main content
    </a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
              <header class="navbar navbar-default container" id="navbar" role="banner">
      <div class="navbar-header">
          <div class="region region-navigation">
          <a class="logo navbar-btn pull-left" href="/" title="Home" rel="home">
      <img src="/sites/default/files/tor-logo.png" alt="Home" />
    </a>
          <p class="navbar-text">The Tor Project</p>
  
  </div>

                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

                    <div class="navbar-collapse collapse">
            <div class="region region-navigation-collapsible">
    <div class="search-block-form block block-search block-search-form-block" data-drupal-selector="search-block-form" id="block-searchform" role="search">
  
    
      <form action="/search/node" method="get" id="search-block-form" accept-charset="UTF-8">
  <div class="form-item js-form-item form-type-search js-form-type-search form-item-keys js-form-item-keys form-no-label form-group">
      <label for="edit-keys" class="control-label sr-only">Search</label>
  
  
  <div class="input-group"><input title="Enter the terms you wish to search for." data-drupal-selector="edit-keys" class="form-search form-control" placeholder="Search" type="search" id="edit-keys" name="keys" value="" size="15" maxlength="128" /><span class="input-group-btn"><button type="submit" value="Search" class="button js-form-submit form-submit btn-primary btn icon-only" name=""><span class="sr-only">Search</span><span class="icon glyphicon glyphicon-search" aria-hidden="true"></span></button></span></div>

  
  
      <div id="edit-keys--description" class="description help-block">
      Enter the terms you wish to search for.
    </div>
  </div>
<div class="form-actions form-group js-form-wrapper form-wrapper" data-drupal-selector="edit-actions" id="edit-actions"></div>

</form>

  </div>
<nav role="navigation" aria-labelledby="block-mainmenu-menu" id="block-mainmenu">
            <h2 class="sr-only" id="block-mainmenu-menu">Main menu</h2>

      
      <ul class="menu menu--main nav navbar-nav">
                      <li class="menu-item-about-tor first">
                                        <a href="https://www.torproject.org/about/history" title="About the Tor Project">About Tor</a>
              </li>
                      <li class="menu-item-donate last">
                                        <a href="https://donate.torproject.org" title="Donate to the Tor Project Today!">Donate</a>
              </li>
        </ul>
  

  </nav>

  </div>

        </div>
          </header>
  
  <div role="main" class="main-container container js-quickedit-main-content">
    <div class="row">

                              <div class="col-xs-12" role="heading">
              <div class="region region-header">
    
  </div>

          </div>
              
      <div class="main-content-container clearfix">
                    
                        <section class="main-no-first-sidebar col-sm-9 main-content main-content-region">
          <div class="main-content-inner inner">
            <div class="inner-inner">
                                                              <div class="highlighted">  <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>
</div>
                              
                            
                            
                            
                                            <a id="main-content"></a>
                  <div class="region region-content">
      
<article role="article" about="/tor-security-advisory-relay-early-traffic-confirmation-attack" typeof="schema:Article" class="node node--type-article node--promoted node--view-mode-full node--type-article-full">
  
    <h1 class="title">
      <span property="schema:name">Tor security advisory: &quot;relay early&quot; traffic confirmation attack</span>

    </h1>
    <span property="schema:name" content="Tor security advisory: &quot;relay early&quot; traffic confirmation attack" class="hidden"></span>
  <span property="schema:interactionCount" content="UserComments:277" class="hidden"></span>


      <footer class="node__meta">
      
      <div class="node__submitted">
        <span class="author">by <a href="/users/arma">arma</a> | <span property="schema:dateCreated" content="2014-07-30T13:00:00+00:00">July 30, 2014</span>
          <span property="schema:dateCreated" content="2014-07-30T13:00:00+00:00" class="hidden"></span>

      </div>
    </footer>
  
  <div class="node__content">
    
            <div property="schema:text" class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p>This advisory was posted on the <a href="https://lists.torproject.org/pipermail/tor-announce/2014-July/000094.html" rel="nofollow">tor-announce</a> mailing list.</p>

<h2>SUMMARY:</h2>

<p>On July 4 2014 we found a group of relays that we assume were trying to deanonymize users. They appear to have been targeting people who operate or access Tor hidden services. The attack involved modifying Tor protocol headers to do traffic confirmation attacks.</p>

<p>The attacking relays joined the network on January 30 2014, and we removed them from the network on July 4. While we don't know when they started doing the attack, users who operated or accessed hidden services from early February through July 4 should assume they were affected.</p>

<p>Unfortunately, it's still unclear what "affected" includes. We know the attack looked for users who fetched hidden service descriptors, but the attackers likely were not able to see any application-level traffic (e.g. what pages were loaded or even whether users visited the hidden service they looked up). The attack probably also tried to learn who published hidden service descriptors, which would allow the attackers to learn the location of that hidden service. In theory the attack could also be used to link users to their destinations on normal Tor circuits too, but we found no evidence that the attackers operated any exit relays, making this attack less likely. And finally, we don't know how much data the attackers kept, and due to the way the attack was deployed (more details below), their protocol header modifications might have aided other attackers in deanonymizing users too.</p>

<p>Relays should upgrade to a recent Tor release (<a href="https://lists.torproject.org/pipermail/tor-announce/2014-July/000093.html" rel="nofollow">0.2.4.23</a> or <a href="https://lists.torproject.org/pipermail/tor-talk/2014-July/034180.html" rel="nofollow">0.2.5.6-alpha</a>), to close the particular protocol vulnerability the attackers used — but remember that preventing traffic confirmation in general remains an open research problem. Clients that upgrade (once new Tor Browser releases are ready) will take another step towards limiting the number of entry guards that are in a position to see their traffic, thus reducing the damage from future attacks like this one. Hidden service operators should consider changing the location of their hidden service.</p>

<h2>THE TECHNICAL DETAILS:</h2>

<p>We believe they used a combination of two classes of attacks: a traffic confirmation attack and a Sybil attack.</p>

<p>A traffic confirmation attack is possible when the attacker controls or observes the relays on both ends of a Tor circuit and then compares traffic timing, volume, or other characteristics to conclude that the two relays are indeed on the same circuit. If the first relay in the circuit (called the "entry guard") knows the IP address of the user, and the last relay in the circuit knows the resource or destination she is accessing, then together they can deanonymize her. You can read more about traffic confirmation attacks, including pointers to many research papers, at this blog post from 2009:<br />
<a href="https://blog.torproject.org/blog/one-cell-enough" rel="nofollow">https://blog.torproject.org/blog/one-cell-enough</a></p>

<p>The particular confirmation attack they used was an active attack where the relay on one end injects a signal into the Tor protocol headers, and then the relay on the other end reads the signal. These attacking relays were stable enough to get the HSDir ("suitable for hidden service directory") and Guard ("suitable for being an entry guard") <a href="https://gitweb.torproject.org/torspec.git/blob/HEAD:/dir-spec.txt#l1775" rel="nofollow">consensus flags</a>. Then they injected the signal whenever they were used as a hidden service directory, and looked for an injected signal whenever they were used as an entry guard.</p>

<p>The way they injected the signal was by sending sequences of "relay" vs "relay early" commands down the circuit, to encode the message they want to send. For <a href="https://gitweb.torproject.org/torspec.git/blob/HEAD:/tor-spec.txt#l364" rel="nofollow">background</a>, Tor has two types of cells: link cells, which are intended for the adjacent relay in the circuit, and relay cells, which are passed to the other end of the circuit. In 2008 we added a new kind of relay cell, called a "relay early" cell, which is used to prevent people from building very long paths in the Tor network. (Very long paths can be used to <a href="https://gitweb.torproject.org/torspec.git/blob/HEAD:/proposals/110-avoid-infinite-circuits.txt " rel="nofollow">induce congestion</a> and aid in <a href="http://freehaven.net/anonbib/#congestion-longpaths" rel="nofollow">breaking anonymity</a>). But the fix for infinite-length paths introduced a <a href="https://trac.torproject.org/projects/tor/ticket/1038" rel="nofollow">problem with accessing hidden services</a>, and one of the side effects of our fix for bug 1038 was that while we limit the number of outbound (away from the client) "relay early" cells on a circuit, we <a href="https://lists.torproject.org/pipermail/tor-commits/2009-July/014679.html" rel="nofollow">don't limit</a> the number of inbound (towards the client) relay early cells.</p>

<p>So in summary, when Tor clients contacted an attacking relay in its role as a Hidden Service Directory to publish or retrieve a hidden service descriptor (steps 2 and 3 on <a href="https://www.torproject.org/docs/hidden-services" rel="nofollow">the hidden service protocol diagrams</a>), that relay would send the hidden service name (encoded as a pattern of relay and relay-early cells) back down the circuit. Other attacking relays, when they get chosen for the first hop of a circuit, would look for inbound relay-early cells (since nobody else sends them) and would thus learn which clients requested information about a hidden service.</p>

<p>There are three important points about this attack:</p>

<p><b>A)</b> The attacker encoded the name of the hidden service in the injected signal (as opposed to, say, sending a random number and keeping a local list mapping random number to hidden service name). The encoded signal is encrypted as it is sent over the TLS channel between relays. However, this signal would be easy to read and interpret by anybody who runs a relay and receives the encoded traffic. And we might also worry about a global adversary (e.g. a large intelligence agency) that records Internet traffic at the entry guards and then tries to break Tor's link encryption. The way this attack was performed weakens Tor's anonymity against these other potential attackers too — either while it was happening or after the fact if they have traffic logs. So if the attack was a research project (i.e. not intentionally malicious), it was deployed in an irresponsible way because it puts users at risk indefinitely into the future.</p>

<p>(This concern is in addition to the general issue that it's probably unwise from a legal perspective for researchers to attack real users by modifying their traffic on one end and wiretapping it on the other. Tools like <a href="http://shadow.github.io/" rel="nofollow">Shadow</a> are great for testing Tor research ideas out in the lab.)</p>

<p><b>B)</b> This protocol header signal injection attack is actually pretty neat from a research perspective, in that it's a bit different from previous tagging attacks which targeted the application-level payload. Previous tagging attacks modified the payload at the entry guard, and then looked for a modified payload at the exit relay (which can see the decrypted payload). Those attacks don't work in the other direction (from the exit relay back towards the client), because the payload is still encrypted at the entry guard. But because this new approach modifies ("tags") the cell headers rather than the payload, every relay in the path can see the tag.</p>

<p><b>C)</b> We should remind readers that while this particular variant of the traffic confirmation attack allows high-confidence and efficient correlation, the general class of passive (statistical) traffic confirmation attacks remains unsolved and would likely have worked just fine here. So the good news is traffic confirmation attacks aren't new or surprising, but the bad news is that they still work. See <a href="https://blog.torproject.org/blog/one-cell-enough" rel="nofollow">https://blog.torproject.org/blog/one-cell-enough</a> for more discussion.</p>

<p>Then the second class of attack they used, in conjunction with their traffic confirmation attack, was a standard <a href="http://en.wikipedia.org/wiki/Sybil_attack" rel="nofollow">Sybil attack</a> — they signed up around 115 fast non-exit relays, all running on 50.7.0.0/16 or 204.45.0.0/16. Together these relays summed to about 6.4% of the Guard capacity in the network. Then, in part because of our current <a href="https://blog.torproject.org/blog/improving-tors-anonymity-changing-guard-parameters" rel="nofollow"> guard rotation parameters</a>, these relays became entry guards for a significant chunk of users over their five months of operation.</p>

<p>We actually noticed these relays when they joined the network, since the <a href="https://gitweb.torproject.org/doctor.git" rel="nofollow">DocTor</a> scanner <a href="https://lists.torproject.org/pipermail/tor-consensus-health/2014-January/004134.html" rel="nofollow">reported them</a>.  We considered the set of new relays at the time, and made a decision that it wasn't that large a fraction of the network. It's clear there's room for improvement in terms of how to let the Tor network grow while also ensuring we maintain social connections with the operators of all large groups of relays. (In general having a widely diverse set of relay locations and relay operators, yet not allowing any bad relays in, seems like a hard problem; on the other hand our detection scripts did notice them in this case, so there's hope for a better solution here.)</p>

<p>In response, we've taken the following short-term steps:</p>

<p><b>1)</b> Removed the attacking relays from the network.</p>

<p><b>2)</b> Put out a software update for relays to prevent "relay early" cells from being used this way.</p>

<p><b>3)</b> Put out a software update that will (once enough clients have upgraded) let us tell clients to move to using one entry guard rather than three, to reduce exposure to relays over time.</p>

<p><b>4)</b> Clients can tell whether they've received a relay or relay-cell. For expert users, the new Tor version warns you in your logs if a relay on your path injects any relay-early cells: look for the phrase "Received an inbound RELAY_EARLY cell".</p>

<p>The following longer-term research areas remain:</p>

<p><b>5)</b> Further growing the Tor network and diversity of relay operators, which will reduce the impact from an adversary of a given size.</p>

<p><b>6)</b> Exploring better mechanisms, e.g. social connections, to limit the impact from a malicious set of relays. We've also formed a group to pay more attention to suspicious relays in the network:<br />
<a href="https://blog.torproject.org/blog/how-report-bad-relays" rel="nofollow">https://blog.torproject.org/blog/how-report-bad-relays</a></p>

<p><b>7)</b> Further reducing exposure to guards over time, perhaps by extending the guard rotation lifetime:<br />
<a href="https://blog.torproject.org/blog/lifecycle-of-a-new-relay" rel="nofollow">https://blog.torproject.org/blog/lifecycle-of-a-new-relay</a><br />
<a href="https://blog.torproject.org/blog/improving-tors-anonymity-changing-guard-parameters" rel="nofollow">https://blog.torproject.org/blog/improving-tors-anonymity-changing-guar…</a></p>

<p><b>8)</b> Better understanding statistical traffic correlation attacks and whether padding or other approaches can mitigate them.</p>

<p><b>9)</b> Improving the hidden service design, including making it harder for relays serving as hidden service directory points to learn what hidden service address they're handling:<br />
<a href="https://blog.torproject.org/blog/hidden-services-need-some-love" rel="nofollow">https://blog.torproject.org/blog/hidden-services-need-some-love</a></p>

<h2>OPEN QUESTIONS:</h2>

<p><b>Q1)</b> Was this the Black Hat 2014 talk that got canceled recently?<br />
<b>Q2)</b> Did we find all the malicious relays?<br />
<b>Q3)</b> Did the malicious relays inject the signal at any points besides the HSDir position?<br />
<b>Q4)</b> What data did the attackers keep, and are they going to destroy it? How have they protected the data (if any) while storing it?</p>

<p>Great questions. We spent several months trying to extract information from the researchers who were going to give the Black Hat talk, and eventually we did get some hints from them about how "relay early" cells could be used for traffic confirmation attacks, which is how we started looking for the attacks in the wild. They haven't answered our emails lately, so we don't know for sure, but it seems likely that the answer to Q1 is "yes". In fact, we hope they *were* the ones doing the attacks, since otherwise it means somebody else was. We don't yet know the answers to Q2, Q3, or Q4.</p>
</div>
      
  <div class="field field--name-field-tags field--type-entity-reference field--label-above">
    <div class="field--label">Tags</div>
          <div class="field--items">
              <div class="field--item"><a href="/category/tags/security-advisory" property="schema:about" hreflang="en">security advisory</a></div>
          <div class="field--item"><a href="/category/tags/hidden-services" property="schema:about" hreflang="en">hidden services</a></div>
          <div class="field--item"><a href="/category/tags/research" property="schema:about" hreflang="en">research</a></div>
          <div class="field--item"><a href="/category/tags/entry-guards" property="schema:about" hreflang="en">entry guards</a></div>
              </div>
      </div>

<div class="field field--name-comment-node-article field--type-comment field--label-above comment-wrapper" id="comments">

  <a id="comment-66644"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66644" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406712777"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66644#comment-66644" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66644#comment-66644" class="permalink" rel="bookmark" hreflang="en">A very irresponsible way to</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>A very irresponsible way to carry out research. Shame on them.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66675"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66675" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406723942"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66644#comment-66644" class="permalink" rel="bookmark" hreflang="en">A very irresponsible way to</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66675#comment-66675" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66675#comment-66675" class="permalink" rel="bookmark" hreflang="en">Yeah? and who is &quot;them&quot;?</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Yeah? and who is "them"? </p>

<p>Research? That's just a guess. Tor guys don't know who and they don't know why.</p>

<p>"Together these relays summed to about 6.4% of the Guard capacity in the network. "</p>

<p>Does that sound like something like Joe Blow could afford? Because the presentation that never was, talked about doing this for 3k. But they didn't even have that. I don't think you run all these boxes for 6months for that little anyways. I don't think 'researchers' ie guys in their basement throw thousands of dollars at something so they can write a pdf.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66698"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66698" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406731250"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66675#comment-66675" class="permalink" rel="bookmark" hreflang="en">Yeah? and who is &quot;them&quot;?</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66698#comment-66698" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66698#comment-66698" class="permalink" rel="bookmark" hreflang="en">Those network ranges</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Those network ranges coincide with fdcservers. Looking at the prices, yes they could get 116 servers on fast connections for 3k. Whois says they're out of Chicago which sounds like a researcher might use (centralized, not hiding their tracks, etc)</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66720"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="4" id="comment-66720" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406745780"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/4">
  arma
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66698#comment-66698" class="permalink" rel="bookmark" hreflang="en">Those network ranges</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66720#comment-66720" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66720#comment-66720" class="permalink" rel="bookmark" hreflang="en">$30/mo * 115 VPSs * 5 months</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>$30/mo * 115 VPSs * 5 months = $17k. Totally within the budget of some research group who decided that was a good use of their money.</p>

<p>The larger the Tor network gets (in terms of capacity), the more expensive it is to sign up a given fraction of it. Alas, bandwidth prices are very different depending on where the relay is, so getting good diversity is more expensive. I'm glad Hart Voor Internetvrijheid and other groups are working hard at the location diversity goal even though it's more expensive:<br />
<a href="https://www.torservers.net/partners.html" rel="nofollow">https://www.torservers.net/partners.html</a></p>

<p>See "fix 4" on<br />
<a href="https://blog.torproject.org/blog/improving-tors-anonymity-changing-guard-parameters" rel="nofollow">https://blog.torproject.org/blog/improving-tors-anonymity-changing-guar…</a><br />
for more discussions on the topic of growing the total network capacity as a defense against these sorts of attacks.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66758"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66758" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406751301"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66720#comment-66720" class="permalink" rel="bookmark" hreflang="en">$30/mo * 115 VPSs * 5 months</a> by <a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a></p>
    
    <a href="/comment/66758#comment-66758" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66758#comment-66758" class="permalink" rel="bookmark" hreflang="en">One offer from this ISP</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>One offer from this ISP is<br />
VPS Special 3<br />
  1. 50Mbps unmetered<br />
  2. 1GB RAM<br />
  3. 150GB HDD<br />
  4. 5 IP Addresses<br />
  5. 2CPU Core<br />
$31.90</p>

<p>Note this are 5 IPs per ~ $30.<br />
115 / 5 = 23<br />
23 * $30 ~ $600<br />
5 months ~ $3000<br />
The number from the canceled BH talk.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66766"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="4" id="comment-66766" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406753460"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/4">
  arma
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66758#comment-66758" class="permalink" rel="bookmark" hreflang="en">One offer from this ISP</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66766#comment-66766" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66766#comment-66766" class="permalink" rel="bookmark" hreflang="en">50 megabits divided by 5</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>50 megabits divided by 5 isn't enough per relay to handle much capacity.</p>

<p>Also, 1 gigabyte of ram divided by 5 relays means you'll run out of memory right quick if you're trying to push a lot of bytes.</p>

<p>I assume that the $3k number was for a month, and they were planning to say something like "in the first month we ran 6% of the network and became the entry guard for 6% of the users, look it works".</p>

<p>In any case, we can speculate about how to make the numbers add up, or if they ever even did, but it's pretty much moot now -- and whether it's $3k or $27k doesn't really matter.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div></div></div><a id="comment-66718"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66718" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406745618"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66675#comment-66675" class="permalink" rel="bookmark" hreflang="en">Yeah? and who is &quot;them&quot;?</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66718#comment-66718" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66718#comment-66718" class="permalink" rel="bookmark" hreflang="en">We know exactly who &quot;them&quot;</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>We know exactly who "them" is. Their names are Alexander Volynkin and Michael McCord (<a href="https://img.4plebs.org/boards/pol/image/1404/73/1404736805983.png" rel="nofollow">https://img.4plebs.org/boards/pol/image/1404/73/1404736805983.png</a>) and they are researchers/students affiliated with Carnegie-Mellon University (<a href="http://www.reuters.com/article/2014/07/21/cybercrime-conference-talk-idUSL2N0PW14320140721" rel="nofollow">http://www.reuters.com/article/2014/07/21/cybercrime-conference-talk-id…</a> and <a href="http://www.theregister.co.uk/2014/07/22/legal_wrecking_balls_break_budget_tor_popping_talk/" rel="nofollow">http://www.theregister.co.uk/2014/07/22/legal_wrecking_balls_break_budg…</a>).</p>

<p>Now, could one or more of our US-based colleagues please kindly FOIA the hell out of CMU on behalf of the community, please? Thanks!</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66859"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66859" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406824249"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 31, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66718#comment-66718" class="permalink" rel="bookmark" hreflang="en">We know exactly who &quot;them&quot;</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66859#comment-66859" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66859#comment-66859" class="permalink" rel="bookmark" hreflang="en">Not viable under US law. </a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Not viable under US law.  CMU being non-governmental is not subject to FOIA.  And any request directed to a government agency would be stiff-armed on a secrecy basis.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-270785"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-270785" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1503331311"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">August 18, 2017</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66859#comment-66859" class="permalink" rel="bookmark" hreflang="en">Not viable under US law. </a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/270785#comment-270785" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/270785#comment-270785" class="permalink" rel="bookmark" hreflang="en">CERT is Federally Funded…</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>CERT is Federally Funded Research and Development Center.. Because they take federal funds, wouldnt they be subject to FOIA?</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div></div><a id="comment-66725"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66725" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406746885"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66675#comment-66675" class="permalink" rel="bookmark" hreflang="en">Yeah? and who is &quot;them&quot;?</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66725#comment-66725" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66725#comment-66725" class="permalink" rel="bookmark" hreflang="en">This is not &quot;Joe Blow&quot;. CERT</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>This is not "Joe Blow". CERT is one of the most well-funded computer security research organizations in the country. 30K, let alone 3K, is easily within the budget of the powers that be, if they feel it's worth spending that much. It's also easily within the budget of external funding providers (I'm sure your conspiracy theory-oriented brain could come up with some plausible ones).</p>

<p>These are not "guys in their basement". They are researchers in their well-funded computer lab.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66832"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66832" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406799299"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 31, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66725#comment-66725" class="permalink" rel="bookmark" hreflang="en">This is not &quot;Joe Blow&quot;. CERT</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66832#comment-66832" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66832#comment-66832" class="permalink" rel="bookmark" hreflang="en">And for those who do not</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>And for those who do not follow general infosec issues closely, CMU/(US)CERT has a very close collaboration and funding association with US Homeland Security. Which means that it is nearly certain that all of the results of this research attack have been passed on to NSA.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div></div></div><a id="comment-66651"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66651" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406714520"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66651#comment-66651" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66651#comment-66651" class="permalink" rel="bookmark" hreflang="en">Thanks!</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Thanks!</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
<a id="comment-66657"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66657" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406716949"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66657#comment-66657" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66657#comment-66657" class="permalink" rel="bookmark" hreflang="en">Thank you for the</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Thank you for the comprehensive write-up.</p>

<p>Is there anything that users can do to check they have been affected (e.g. have been using a bad guard?). For example by examining the Data/Tor/state file in their TBB directory?</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66660"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="4" id="comment-66660" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406717706"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/4">
  arma
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66657#comment-66657" class="permalink" rel="bookmark" hreflang="en">Thank you for the</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66660#comment-66660" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66660#comment-66660" class="permalink" rel="bookmark" hreflang="en">Good thinking. Yes, this</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Good thinking. Yes, this should work. It won't tell you if you used them in the past (and then discarded them), but it will tell you if they're in your recent set.</p>

<p>Grab a copy of e.g. <a href="https://collector.torproject.org/archive/relay-descriptors/server-descriptors/server-descriptors-2014-06.tar.xz" rel="nofollow">https://collector.torproject.org/archive/relay-descriptors/server-descr…</a> and then pull out the relays with nickname Unnamed running Tor 0.2.4.18-rc in the two /16 netblocks I described.</p>

<p>Once you've done that, maybe put the set of fingerprints on a paste bin or something so other people can use them too?</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66674"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66674" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406723365"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66660#comment-66660" class="permalink" rel="bookmark" hreflang="en">Good thinking. Yes, this</a> by <a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a></p>
    
    <a href="/comment/66674#comment-66674" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66674#comment-66674" class="permalink" rel="bookmark" hreflang="en">&gt; maybe put the set of</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>&gt; maybe put the set of fingerprints on a paste bin or something so other people can use them too?</p>

<p>fwiw, these seem to be the fingerprints in question: <a href="http://ravinesmp.com/volatile/tor_relay_early_nodes.csv" rel="nofollow">http://ravinesmp.com/volatile/tor_relay_early_nodes.csv</a> (CSV file generated from <a href="http://paste.debian.net/112652/" rel="nofollow">http://paste.debian.net/112652/</a> )</p>

<p>Note that there are 116 (not 115) nodes in this list. (Obviously don't trust this information, etc.; ideally one would reproduce it from collector.torproject.org or elsewhere.)</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div><a id="comment-66672"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66672" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406722855"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66657#comment-66657" class="permalink" rel="bookmark" hreflang="en">Thank you for the</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66672#comment-66672" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66672#comment-66672" class="permalink" rel="bookmark" hreflang="en">Here&#039;s the full message to</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Here's the full message to check for in the Tor log:</p>

<p>               "Received an inbound RELAY_EARLY cell on circuit %u."<br />
               " Closing circuit. Please report this event,"<br />
               " along with the following message.",<br />
followed by a list of the relays in your circuit.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div><a id="comment-66658"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66658" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406717243"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66658#comment-66658" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66658#comment-66658" class="permalink" rel="bookmark" hreflang="en">Where can one find the</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Where can one find the identity key fingerprints for the removed 50.7.0.0/16 and 204.45.0.0/16 relays?</p>

<p>I'd like to scan backups of my /var/lib/tor/data/state file and see if I had one of those relays for a guard. (Although the real question of course is, was one of them my last hop...)</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
<a id="comment-66659"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66659" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406717515"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66659#comment-66659" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66659#comment-66659" class="permalink" rel="bookmark" hreflang="en">Can Tor users check if</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Can Tor users check if they've been using one of the guards in the ranges that were removed from the network, or would those guard entries have been immediately removed from the client's state file upon learning that they'd been declared invalid?</p>

<p>(Of course, knowing that one *wasn't* using one of these guards would *not* mean you weren't affected, but it would still be interesting to know.)</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
<a id="comment-66663"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66663" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406718378"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66663#comment-66663" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66663#comment-66663" class="permalink" rel="bookmark" hreflang="en">I wonder how many people</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>I wonder how many people have obtained the attacker's data! Locations of a lot of hidden services and their users would be quite interesting to many people - operators of hidden services are quite diverse and even include hardened criminals like the GCHQ's JTRIG hacking/trolling department: <a href="https://firstlook.org/theintercept/2014/07/14/manipulating-online-polls-ways-british-spies-seek-control-internet/" rel="nofollow">https://firstlook.org/theintercept/2014/07/14/manipulating-online-polls…</a> (their catalog of capabilities include several that use, rather than attack, Tor hidden services).</p>

<p>If the attacker is the CMU researchers and law enforcement seizes their data to selectively prosecute certain hidden services, perhaps that data could also be used to investigate and litigate against JTRIG? Sadly though, we probably would not hear about it if such seizure happens since everything would be parallel constructed for the public case... unless the researchers decide to tell us (which would probably be violating an NSL or something).</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66685"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66685" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406728618"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66663#comment-66663" class="permalink" rel="bookmark" hreflang="en">I wonder how many people</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66685#comment-66685" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66685#comment-66685" class="permalink" rel="bookmark" hreflang="en">&quot;If the attacker is the CMU</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>"If the attacker is the CMU researchers and law enforcement seizes their data to selectively prosecute certain hidden services" - seems like that would be fruit of the poisonous tree, but I am not a lawyer</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66694"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66694" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406730909"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66685#comment-66685" class="permalink" rel="bookmark" hreflang="en">&quot;If the attacker is the CMU</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66694#comment-66694" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66694#comment-66694" class="permalink" rel="bookmark" hreflang="en">Sorry to ruin your day, but</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Sorry to ruin your day, but <i>Law &amp; Order</i> is fiction.</p>

<p><a href="https://www.muckrock.com/news/archives/2014/feb/03/dea-parallel-construction-guides/" rel="nofollow">https://www.muckrock.com/news/archives/2014/feb/03/dea-parallel-constru…</a></p>

<p><a href="https://en.wikipedia.org/wiki/Parallel_construction" rel="nofollow">https://en.wikipedia.org/wiki/Parallel_construction</a></p>

<p>Quite often, even the prosecutors don't know that the actual investigatory tools used in their cases are not being disclosed.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-68933"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-68933" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1407843194"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">August 12, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66694#comment-66694" class="permalink" rel="bookmark" hreflang="en">Sorry to ruin your day, but</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/68933#comment-68933" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/68933#comment-68933" class="permalink" rel="bookmark" hreflang="en">Don&#039;t be silly! They don&#039;t</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Don't be silly! They don't need the researchers for that. </p>

<p>The 'NSA' was using MIT (and others) to seed TOR for the SOD. Notice how the FOIA leaves the SOD out, they often masquerade behind the DEA title. Despite early news reports (circa 2009) it wasn't the DEA that busted Viktor Bout it was the SOD (I think it was a time article in 2011).</p>

<p>Mudrock also got the Hemisphere FOIA from LAPD or TacPD combine that with the telecom immunity act of 9/2007.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div></div></div><a id="comment-66667"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66667" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406720899"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66667#comment-66667" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66667#comment-66667" class="permalink" rel="bookmark" hreflang="en">Should serve as an example</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Should serve as an example for other researchers of how not to go about things. Thanks for the good work patching the vulnerability and writing it up - if I knew you IRL I would buy you a beer.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66791"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66791" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406772910"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66667#comment-66667" class="permalink" rel="bookmark" hreflang="en">Should serve as an example</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66791#comment-66791" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66791#comment-66791" class="permalink" rel="bookmark" hreflang="en">Donate to the project then :)</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Donate to the project then :)</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div><a id="comment-66673"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66673" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406722989"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66673#comment-66673" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66673#comment-66673" class="permalink" rel="bookmark" hreflang="en">Is there a guide somewhere</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Is there a guide somewhere on how to do research like this on Tor?</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66701"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66701" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406733301"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66673#comment-66673" class="permalink" rel="bookmark" hreflang="en">Is there a guide somewhere</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66701#comment-66701" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66701#comment-66701" class="permalink" rel="bookmark" hreflang="en">&gt; Is there a guide somewhere</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>&gt; Is there a guide somewhere on how to do research like this on Tor?</p>

<p>Start with RFC 1 and keep on going to the end. That'll get the basics started.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
<a id="comment-66721"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="4" id="comment-66721" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406746009"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/4">
  arma
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66673#comment-66673" class="permalink" rel="bookmark" hreflang="en">Is there a guide somewhere</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66721#comment-66721" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66721#comment-66721" class="permalink" rel="bookmark" hreflang="en">We have panels on the topic</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>We have panels on the topic periodically at the PETS conference, e.g.<br />
<a href="https://www.petsymposium.org/2011/program.php" rel="nofollow">https://www.petsymposium.org/2011/program.php</a></p>

<p>But nobody has sat down to write a full guide. That would be very useful! Somebody want to start one? :)</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div><a id="comment-66676"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66676" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406724847"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66676#comment-66676" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66676#comment-66676" class="permalink" rel="bookmark" hreflang="en">The network IP blocks</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>The network IP blocks 50.7.0.0/16 and 204.45.0.0/16 are assigned to a U.S. provider.</p>

<p>Further on I relate to the hidden service explanation at<br />
<a href="https://www.torproject.org/docs/hidden-services.html.en" rel="nofollow">https://www.torproject.org/docs/hidden-services.html.en</a></p>

<p>If U.S. IP blocks are excluded in the torrc via 'ExcludeNodes {US}'<br />
can there be any point in the connection from client to hidden service (rendevouz point, introduction point) that could be on U.S. IP blocks notwithstanding? </p>

<p>Does the rendevouz point know it connects the anonymous client to a specific hidden service, does it know the servers .onion address?</p>

<p>Does 'DB' in the graphics on the explanation page stand for a Hidden Service Directory server? Why is 'DB' not drawn within the Tor cloud?</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66695"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66695" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406731063"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66676#comment-66676" class="permalink" rel="bookmark" hreflang="en">The network IP blocks</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66695#comment-66695" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66695#comment-66695" class="permalink" rel="bookmark" hreflang="en">I ran WHOIS on a couple of</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>I ran WHOIS on a couple of addresses from both blocks, and they came back as <a href="https://fcsservers.net" rel="nofollow">https://fcsservers.net</a> in different US and European locations. Which makes sense because they have a lot of datacenters: <a href="https://fdcservers.net/network.php" rel="nofollow">https://fdcservers.net/network.php</a></p>
</div>
      
  </div>

</article>
<!-- Comment END -->
<a id="comment-66696"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66696" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406731186"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66676#comment-66676" class="permalink" rel="bookmark" hreflang="en">The network IP blocks</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66696#comment-66696" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66696#comment-66696" class="permalink" rel="bookmark" hreflang="en">ExcludeNodes cannot be</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>ExcludeNodes cannot be applied to HSDir selection because clients need to be able to construct the same list of HSDirs as the publisher (service) so that they can find the place where the descriptor is published.</p>

<p>If you had ExcludeNodes {US} and the two blocks listed are indeed identified as US by tor's geoip data source (I haven't checked about that), then at least you won't have one of them as a guard. But any other guard could also potentially be passively decoding the signals sent by the malicious HSDirs.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div><a id="comment-66678"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66678" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406725811"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66678#comment-66678" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66678#comment-66678" class="permalink" rel="bookmark" hreflang="en">It is, for me, not really</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>It is, for me, not really clear what data the attacker actually got from users.</p>

<p>Suppose someone used a clean install of tails and visited a hidden service site. What do "they" know about the user?</p>

<p>You wrote: "but the attackers likely were not able to see any application-level traffic (e.g. what pages were loaded or even whether users visited the hidden service they looked up)"</p>

<p>Does this mean, the have the ip address of the user but not the page he has actually visited?</p>

<p>I'm pretty curious right now.</p>

<p>Thanks for answer!</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66693"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66693" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406730695"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66678#comment-66678" class="permalink" rel="bookmark" hreflang="en">It is, for me, not really</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66693#comment-66693" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66693#comment-66693" class="permalink" rel="bookmark" hreflang="en">The attacks observed were</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>The attacks observed were coming from HSDirs, which know the address of the hidden service they're serving a descriptor for. The message transmitted was the hidden service address. This message can be decoded by the guard, which knows the IP of the client (which is accessing or publishing the descriptor).</p>

<p>So, when the attacker is a hidden service's HSDir (which will probably happen eventually, as the position in the DHT rotates at some interval - it would be good to know how long it takes to cycle through 50% of the HSDirs) the guards for the hidden service can deanonymize it - meaning, they can link its IP address with its onion address. Clients using a malicious guard can also be deanonymized (their IP can be identified as one which accessed the service).</p>

<p>It is entirely possible that other guards which are not in the set of nodes mentioned above (and/or not controlled by the attacker running the nodes caught doing the active part of the attack) are or were also decoding these messages.</p>

<p>The same attack could also deanonymize non-hidden-service traffic if these messages were sent from exit nodes. There have not (yet) been exit nodes observed sending relay_early cells backwards.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66703"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66703" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406735207"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66693#comment-66693" class="permalink" rel="bookmark" hreflang="en">The attacks observed were</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66703#comment-66703" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66703#comment-66703" class="permalink" rel="bookmark" hreflang="en">Thank you for</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Thank you for explanation,</p>

<p>you wrote: "their (the clients) IP can be identified as one which accessed the service".<br />
Do you mean they know what specific hidden site the client has visited (worst case one can imagine!!), or do they only know that the client accessed the hidden service generally?</p>

<p>Just asking because they said in the article: "but the attackers likely were not able to see any application-level traffic (e.g. what pages were loaded or even whether users visited the hidden service they looked up)"</p>

<p>Thanks again!</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66723"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="4" id="comment-66723" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406746440"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/4">
  arma
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66703#comment-66703" class="permalink" rel="bookmark" hreflang="en">Thank you for</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66723#comment-66723" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66723#comment-66723" class="permalink" rel="bookmark" hreflang="en">The attacker, if his relays</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>The attacker, if his relays are in the right place, could learn that you (that is, your IP address) did a lookup for the hidden service address (e.g. duskgytldkxiuqc6.onion). But he won't learn whether you actually loaded the page in your browser. He also won't learn whether you visited <a href="http://duskgytldkxiuqc6.onion/comsense.html" rel="nofollow">http://duskgytldkxiuqc6.onion/comsense.html</a> or <a href="http://duskgytldkxiuqc6.onion/fedpapers/federa00.htm" rel="nofollow">http://duskgytldkxiuqc6.onion/fedpapers/federa00.htm</a> or what.</p>

<p>Hope that helps.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66752"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66752" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406750177"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66723#comment-66723" class="permalink" rel="bookmark" hreflang="en">The attacker, if his relays</a> by <a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a></p>
    
    <a href="/comment/66752#comment-66752" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66752#comment-66752" class="permalink" rel="bookmark" hreflang="en">That is he wont know</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>That is he wont know directly. Since he is also your entry gaurd, he can watch the traffic over the circuit and get a good idea of how much traffic is passing, combined with knowing the site, could very well let him figure out some of those details. </p>

<p>Even if he didn't, it would likely be enough information over time to seperate casual observers who find a site and check it out, from serious users who may be more interesting targets. </p>

<p>Unless this is pure research, then I would assume this is not the end game but simply helping troll for targets.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66756"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="4" id="comment-66756" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406751200"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/4">
  arma
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66752#comment-66752" class="permalink" rel="bookmark" hreflang="en">That is he wont know</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66756#comment-66756" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66756#comment-66756" class="permalink" rel="bookmark" hreflang="en">Good point. The result of</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Good point. The result of the attack in this advisory is that he knows which hidden service you looked up or published about. It's totally possible that he would then go on to do some other attack, like the website fingerprinting one you hint about, or just general "gosh she's using Tor a lot" observations.</p>

<p>Speaking of website fingerprinting, first read<br />
<a href="https://blog.torproject.org/blog/critique-website-traffic-fingerprinting-attacks" rel="nofollow">https://blog.torproject.org/blog/critique-website-traffic-fingerprintin…</a><br />
and then read "I Know Why You Went to the Clinic" from<br />
<a href="https://www.petsymposium.org/2014/program.php" rel="nofollow">https://www.petsymposium.org/2014/program.php</a><br />
and finally, I hear there will be another website fingerprinting research paper at CCS this year (showing that false positive rates on realistic data are indeed higher than originally suspected).</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66891"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66891" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406845688"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 31, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66756#comment-66756" class="permalink" rel="bookmark" hreflang="en">Good point. The result of</a> by <a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a></p>
    
    <a href="/comment/66891#comment-66891" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66891#comment-66891" class="permalink" rel="bookmark" hreflang="en">@arma: I think I see a</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>@arma: I think I see a technical limitation to this attack, can you confirm or deny: if you are running a relay as well as a client, will you be protected at all?</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div></div><a id="comment-67169"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-67169" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406940682"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">August 01, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66723#comment-66723" class="permalink" rel="bookmark" hreflang="en">The attacker, if his relays</a> by <a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a></p>
    
    <a href="/comment/67169#comment-67169" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/67169#comment-67169" class="permalink" rel="bookmark" hreflang="en">&quot;The attacker, if his relays</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>"The attacker, if his relays are in the right place, could learn that you (that is, your IP address) did a lookup for the hidden service address (e.g. duskgytldkxiuqc6.onion)."</p>

<p>It's funny to think that some FBI ip could appear among the one they de-anonymize.<br />
Duh, the FBI regulary infiltrate cp, drugs hidden service. (Think Silk Road, the FBI had several accounts on it from the beginning).<br />
I know, it doesn't change anything but it makes me smile.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div></div></div></div><a id="comment-66679"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66679" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406726480"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66679#comment-66679" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66679#comment-66679" class="permalink" rel="bookmark" hreflang="en">Anonymity cannot be</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Anonymity cannot be free.</p>

<p>Setup a exit relay on your dedicated server and use StrictNodes. This will make you invulnerable from this attack.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66697"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66697" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406731211"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66679#comment-66679" class="permalink" rel="bookmark" hreflang="en">Anonymity cannot be</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66697#comment-66697" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66697#comment-66697" class="permalink" rel="bookmark" hreflang="en">At the cost of making you</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>At the cost of making you obviously and trivially fingerprintable. Horrible idea.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
<a id="comment-66707"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66707" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406738007"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66679#comment-66679" class="permalink" rel="bookmark" hreflang="en">Anonymity cannot be</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66707#comment-66707" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66707#comment-66707" class="permalink" rel="bookmark" hreflang="en">No, because hidden service</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>No, because hidden service traffic does not go through exit nodes.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66724"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="4" id="comment-66724" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406746604"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/4">
  arma
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66707#comment-66707" class="permalink" rel="bookmark" hreflang="en">No, because hidden service</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66724#comment-66724" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66724#comment-66724" class="permalink" rel="bookmark" hreflang="en">Correct, running your own</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Correct, running your own exit relay won't really impact this attack.</p>

<p>(Also, the StrictNodes torrc directive does not apply to ExitNodes. It only applies to ExcludeNodes.)</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div></div><a id="comment-66684"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66684" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406728508"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66684#comment-66684" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66684#comment-66684" class="permalink" rel="bookmark" hreflang="en">Thank you for an informative</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Thank you for an informative post and for releasing a timely fix!</p>

<p>I have a quick release coordination question. Why wasn't the version of tor in TBB also bumped up, especially given how recently TBB 3.6.3 was released?  Doesn't the current release cycle gap between TBB and tor potentially increase the likelihood that .22 (mostly TBB client) users will be distinguished from .23 (mostly relay) users?  </p>

<p>I know it's not necessarily preferred/ideal practice, but some people run relays from TBB instances. I certainly have in the past...so if you agree with the sentiment, it might even be a good idea to append a notice to the most recent TBB blog post discouraging people from configuring TBB's tor as a relay until it gets bumped up to .23.</p>

<p>Perhaps I'm making too big a deal of this, and TBB 3.6.4 is already on its way...</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66726"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="4" id="comment-66726" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406746941"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/4">
  arma
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66684#comment-66684" class="permalink" rel="bookmark" hreflang="en">Thank you for an informative</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66726#comment-66726" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66726#comment-66726" class="permalink" rel="bookmark" hreflang="en">Yeah, the coordination</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Yeah, the coordination didn't go as smoothly as it could have.</p>

<p>The new Firefox in TBB 3.6.3 was urgent to get out, since it includes the usual raft of fixes for Firefox vulnerabilities:<br />
<a href="https://www.mozilla.org/security/known-vulnerabilities/firefoxESR.html#firefox24.7" rel="nofollow">https://www.mozilla.org/security/known-vulnerabilities/firefoxESR.html#…</a></p>

<p>Whereas the new Tor release isn't urgent for clients, since it only 1) adds a log entry (and the interface letting TBB users read their log lines sure isn't easy to use) and 2) prepares them to move from 3 guards to 1, but only once we set the consensus parameter to instruct them to switch (which I plan to do after the next TBB has been out for a while).</p>

<p>Hopefully it won't be too long until there's a TBB with the next Tor stable in it. But the TBB team have been working hard on a TBB 4.0 alpha, which will include the Tor 0.2.5.x tree, and I sure want to see that too. So much to do, and not enough people working on it all!</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66906"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66906" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406862055"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 31, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66726#comment-66726" class="permalink" rel="bookmark" hreflang="en">Yeah, the coordination</a> by <a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a></p>
    
    <a href="/comment/66906#comment-66906" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66906#comment-66906" class="permalink" rel="bookmark" hreflang="en">I would love to help on this</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>I would love to help on this sort of front as a volunteer, but this type of issue--as minor as I hope it will turn out to be--seems pretty staff-driven in terms of progress. So in terms of inviting volunteers to help, it unfortunately seems like one of the few areas where volunteers working mostly in *other* areas would be the precondition to open up staff bandwidth to address this type of issue.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div></div><a id="comment-66686"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66686" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406728821"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

        
    <a href="/comment/66686#comment-66686" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66686#comment-66686" class="permalink" rel="bookmark" hreflang="en">they signed up around 115</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p><cite>they signed up around 115 fast non-exit relays, all running on 50.7.0.0/16 or 204.45.0.0/16. Together these relays summed to about 6.4% of the Guard capacity in the network.<cite></cite></cite></p>

<p>Do they sign these relays at once or were the number growing gradually? If at once wouldn't that be an alert signal?</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66727"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="4" id="comment-66727" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406747034"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/4">
  arma
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66686#comment-66686" class="permalink" rel="bookmark" hreflang="en">they signed up around 115</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66727#comment-66727" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66727#comment-66727" class="permalink" rel="bookmark" hreflang="en">They signed up in two main</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>They signed up in two main clumps. And yes, it was (could have been) an alert signal -- see the paragraph in the advisory about the DocTor scanner.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66732"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66732" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406747840"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66727#comment-66727" class="permalink" rel="bookmark" hreflang="en">They signed up in two main</a> by <a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a></p>
    
    <a href="/comment/66732#comment-66732" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66732#comment-66732" class="permalink" rel="bookmark" hreflang="en">You mentioned in your</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>You mentioned in your write-up that while their signing up all those relays triggered warnings in DocTor, they were left in the consensus since it was felt that they weren't too significant a portion of the network.</p>

<p>Hypothetically, what would be enough to make the authority operators say "Hey, these guys are bad news, let's get them out of the consensus ASAP"? Maybe this is a dumb question, and it depends on specific circumstances I don't know enough about.</p>

<p>Thanks for your tireless efforts as always!</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66746"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="4" id="comment-66746" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406749843"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/4">
  arma
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66732#comment-66732" class="permalink" rel="bookmark" hreflang="en">You mentioned in your</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/66746#comment-66746" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66746#comment-66746" class="permalink" rel="bookmark" hreflang="en">Yeah. That&#039;s still not</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Yeah. That's still not entirely resolved. I hope the answer is "it will take a lot less the next time we see it!" :)</p>

<p>But really, I worry about more subtle attacks, where the adversary signs up a few relays at a time over the course of months. Also, there are events (like the blocking in Egypt) where many people decide to run relays at once. If the adversary signs up a pile of relays on that day, will we say "oh good, people care about security and safety"?</p>

<p>The attack was possible to notice this time because the relays all came from the same netblocks at around the same time and running the same (kind of old by now) Tor version. Detecting this sort of attack in the general case seems like a really hard research problem.</p>
</div>
      
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-66755"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-66755" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1406750747"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">July 30, 2014</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/66746#comment-66746" class="permalink" rel="bookmark" hreflang="en">Yeah. That&#039;s still not</a> by <a class="tor" title="View user profile." href="/user/4" lang="" about="/user/4" typeof="schema:Person" property="schema:name" datatype="">arma</a></p>
    
    <a href="/comment/66755#comment-66755" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/66755#comment-66755" class="permalink" rel="bookmark" hreflang="en">Any machine learning people</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Any machine learning people in the building?</p>
</div>
      
  </div>

</article>
<!-- Comment END -->
</div></div></div></div>  <nav class="pager" role="navigation" aria-labelledby="pagination-heading">
    <h4 id="pagination-heading" class="visually-hidden">Pagination</h4>
    <ul class="pager__items js-pager__items">
                                                        <li class="pager__item pager__item--separator is-active">
                                          <a href="/tor-security-advisory-relay-early-traffic-confirmation-attack?page=0" title="Current page">
            <span class="visually-hidden">
              Current page
            </span>1</a>
        </li>
              <li class="pager__item pager__item--separator">
                                          <a href="/tor-security-advisory-relay-early-traffic-confirmation-attack?page=1" title="Go to page 2">
            <span class="visually-hidden">
              Page
            </span>2</a>
        </li>
              <li class="pager__item pager__item--separator">
                                          <a href="/tor-security-advisory-relay-early-traffic-confirmation-attack?page=2" title="Go to page 3">
            <span class="visually-hidden">
              Page
            </span>3</a>
        </li>
              <li class="pager__item pager__item--separator">
                                          <a href="/tor-security-advisory-relay-early-traffic-confirmation-attack?page=3" title="Go to page 4">
            <span class="visually-hidden">
              Page
            </span>4</a>
        </li>
              <li class="pager__item pager__item--separator">
                                          <a href="/tor-security-advisory-relay-early-traffic-confirmation-attack?page=4" title="Go to page 5">
            <span class="visually-hidden">
              Page
            </span>5</a>
        </li>
              <li class="pager__item pager__item--separator">
                                          <a href="/tor-security-advisory-relay-early-traffic-confirmation-attack?page=5" title="Go to page 6">
            <span class="visually-hidden">
              Page
            </span>6</a>
        </li>
                                      <li class="pager__item pager__item--next">
          <a href="/tor-security-advisory-relay-early-traffic-confirmation-attack?page=1" title="Go to next page" rel="next">
            <span class="visually-hidden">Next page</span>
            <span aria-hidden="true">Next ›</span>
          </a>
        </li>
                          <li class="pager__item pager__item--last">
          <a href="/tor-security-advisory-relay-early-traffic-confirmation-attack?page=5" title="Go to last page">
            <span class="visually-hidden">Last page</span>
            <span aria-hidden="true">Last »</span>
          </a>
        </li>
          </ul>
  </nav>


  
</div>

  </div>



</article>


  </div>

                          </div>
          </div>
        </section>

                                      <aside class="col-sm-3 sidebar-second main-content-region" role="complementary">
              <div class="inner">
                <div class="inner-inner">
                    <div class="well region-sidebar region region-sidebar-second">
    <section class="views-element-container block block-views block-views-blockevents-block-1 clearfix" id="block-views-block-events-block-1">
  
      <h2 class="block-title">Upcoming Events</h2>
    

      <div class="form-group"><div class="js-view-dom-id-09da979d179ddf09fb118662cb97ccc29e81fb124fa2087d4e5fcca671b111db view">
  
  
  

  
  
  

      <div class="views-row"><div class="views-field views-field-field-event-dates"><div class="field-content"><time datetime="2021-11-17T12:00:00Z">November 17, 2021</time>
</div></div><span class="views-field views-field-title"><span class="field-content"><a href="/node/2088" hreflang="en">State of the Onion 2021</a></span></span><div class="views-field views-field-field-event-description-short"><div class="field-content"></div></div></div>
    <div class="views-row"><div class="views-field views-field-field-event-dates"><div class="field-content"><time datetime="2021-11-19T12:00:00Z">November 19, 2021</time>
</div></div><span class="views-field views-field-title"><span class="field-content"><a href="/node/2077" hreflang="en">Localization Hangout</a></span></span><div class="views-field views-field-field-event-description-short"><div class="field-content"><p>Translators meeting</p>
</div></div></div>

  
  

  
  <div class="more-link form-group"><a href="/events/month">See All Upcoming Events</a></div>


  </div>
</div>

  </section>

<section class="views-element-container block block-views block-views-blockblog-posts-block-1 clearfix" id="block-views-block-blog-posts-block-1">
  
      <h2 class="block-title">Recent Updates</h2>
    

      <div class="form-group"><div class="js-view-dom-id-5c2ec7e8ab29f8f4c64bc02d851fdc52855bfdbf2b029067f8558ce95767ecf9 view">
  
  
  

  
  
  

      <div class="views-row">
<article role="article" about="/new-release-tor-browser-10510" typeof="schema:Article" class="node node--type-article node--view-mode-listing node--type-article-listing">

  
      <h2 class="title">
      <a href="/new-release-tor-browser-10510" rel="bookmark"><span property="schema:name">New Release: Tor Browser 10.5.10</span>
</a>
    </h2>
      <span property="schema:name" content="New Release: Tor Browser 10.5.10" class="hidden"></span>
  <span property="schema:interactionCount" content="UserComments:0" class="hidden"></span>


      <footer class="node__meta">
      
      <div class="node__submitted">
        <span class="author">by <a href="/users/sysrqb">sysrqb</a> | <span property="schema:dateCreated" content="2021-10-25T17:35:12+00:00">October 25, 2021</span>
          <span property="schema:dateCreated" content="2021-10-25T17:35:12+00:00" class="hidden"></span>

      </div>
    </footer>
  
  <div class="node__content">
    
            <div property="schema:text" class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p>Tor Browser 10.5.10 is now available from the <a href="https://www.torproject.org/download/">Tor Browser download page</a> and also from our <a href="https://www.torproject.org/dist/torbrowser/10.5&lt;/body&gt;&lt;/html&gt;"></a></p></div>
      
  </div>

</article>
</div>
    <div class="views-row">
<article role="article" about="/privacy-is-a-human-right" typeof="schema:Article" class="node node--type-article node--view-mode-listing node--type-article-listing">

  
      <h2 class="title">
      <a href="/privacy-is-a-human-right" rel="bookmark"><span property="schema:name">Privacy is a Human Right</span>
</a>
    </h2>
      <span property="schema:name" content="Privacy is a Human Right" class="hidden"></span>
  <span property="schema:interactionCount" content="UserComments:20" class="hidden"></span>


      <footer class="node__meta">
      
      <div class="node__submitted">
        <span class="author">by <a href="/users/alsmith">alsmith</a> | <span property="schema:dateCreated" content="2021-10-25T16:37:37+00:00">October 25, 2021</span>
          <span property="schema:dateCreated" content="2021-10-25T16:37:37+00:00" class="hidden"></span>

      </div>
    </footer>
  
  <div class="node__content">
    
            <div property="schema:text" class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p>Every year, the 501(c)(3) nonprofit that builds and distributes the technology behind the Tor network and Tor Browser holds a <a href="https://torproject.org/donate/donate-phr-bp1">fundraiser</a> a</p></div>
      
  </div>

</article>
</div>
    <div class="views-row">
<article role="article" about="/first-global-encryption-day" typeof="schema:Article" class="node node--type-article node--view-mode-listing node--type-article-listing">

  
      <h2 class="title">
      <a href="/first-global-encryption-day" rel="bookmark"><span property="schema:name">Global Encryption Day: #MakeTheSwitch</span>
</a>
    </h2>
      <span property="schema:name" content="Global Encryption Day: #MakeTheSwitch" class="hidden"></span>
  <span property="schema:interactionCount" content="UserComments:0" class="hidden"></span>


      <footer class="node__meta">
      
      <div class="node__submitted">
        <span class="author">by <a href="/users/alsmith">alsmith</a> | <span property="schema:dateCreated" content="2021-10-21T16:30:55+00:00">October 21, 2021</span>
          <span property="schema:dateCreated" content="2021-10-21T16:30:55+00:00" class="hidden"></span>

      </div>
    </footer>
  
  <div class="node__content">
    
            <div property="schema:text" class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p>Today, Oct 21, 2021, is the very first <a href="https://ged.globalencryption.org">Global Encryption Day</a>, organized by the <a href="https://www.globalencryption.org/">Global Encryption Coalition</a></p></div>
      
  </div>

</article>
</div>
    <div class="views-row">
<article role="article" about="/new-release-tor-browser-110a9" typeof="schema:Article" class="node node--type-article node--view-mode-listing node--type-article-listing">

  
      <h2 class="title">
      <a href="/new-release-tor-browser-110a9" rel="bookmark"><span property="schema:name">New Release: Tor Browser 11.0a9 (Windows/macOS/Linux)</span>
</a>
    </h2>
      <span property="schema:name" content="New Release: Tor Browser 11.0a9 (Windows/macOS/Linux)" class="hidden"></span>
  <span property="schema:interactionCount" content="UserComments:21" class="hidden"></span>


      <footer class="node__meta">
      
      <div class="node__submitted">
        <span class="author">by <a href="/users/sysrqb">sysrqb</a> | <span property="schema:dateCreated" content="2021-10-16T12:32:30+00:00">October 16, 2021</span>
          <span property="schema:dateCreated" content="2021-10-16T12:32:30+00:00" class="hidden"></span>

      </div>
    </footer>
  
  <div class="node__content">
    
            <div property="schema:text" class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p>Tor Browser 11.0a9 is now available from the <a href="https://www.torproject.org/download/alpha/">Tor Browser download page</a> and also from our <a href="https://www.torproject.org/dist/torbrowser&lt;/body&gt;&lt;/html&gt;"></a></p></div>
      
  </div>

</article>
</div>

  
  

  
  

  </div>
</div>

  </section>


  </div>

                </div>
              </div>
            </aside>
                        </div>
    </div>
  </div>

      <footer class="footer" role="contentinfo">
      <div class="inner container">
                  <div class="copyright">
            &copy; 2021 The Tor Project
          </div>
                  <div class="region region-footer">
    <nav role="navigation" aria-labelledby="block-tor-bootstrap-footer-menu" id="block-tor-bootstrap-footer">
            
  <h2 class="visually-hidden" id="block-tor-bootstrap-footer-menu">Footer</h2>
  

        
      <ul class="menu menu--footer nav">
                      <li class="menu-item-the-tor-project first">
                                        <a href="https://www.torproject.org/" title="The Tor Project&#039;s Homepage">The Tor Project</a>
              </li>
                      <li class="menu-item-rss">
                                        <a href="/rss.xml" title="Subscribe to The Tor Project&#039;s Blog Feed" data-drupal-link-system-path="rss.xml">RSS</a>
              </li>
                      <li class="menu-item-donate last">
                                        <a href="https://www.torproject.org/donate" title="Donate to the Tor Project">Donate</a>
              </li>
        </ul>
  

  </nav>

  </div>

      </div>
    </footer>
  
  </div>

    
    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/893","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"bootstrap":{"forms_has_error_value_toggle":1},"ajaxTrustedUrl":{"\/search\/node":true},"user":{"uid":0,"permissionsHash":"8a0609ae54f8afd3101fc184a850c7b9014aaeb7b12aeedf89ea513e6903ca99"}}</script>
<script src="/sites/default/files/js/js_6K7A987d8iv_YttsRHqHBEuq7uZlQxkBxHxZy9aIJm8.js"></script>
 
    
  </body>
</html>
