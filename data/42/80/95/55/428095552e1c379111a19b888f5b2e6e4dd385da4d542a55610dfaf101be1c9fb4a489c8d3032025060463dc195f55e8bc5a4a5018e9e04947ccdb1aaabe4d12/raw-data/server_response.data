<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>Bug 686740 – difficult to transition to the new lock screen</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<link href="https://bugzilla.gnome.org/" rel="Top"/>
<link href="showdependencytree.cgi?id=686740&amp;hide_resolved=1" rel="Show" title="Dependency Tree"/>
<link href="show_bug.cgi?format=multiple&amp;id=686740" rel="Show" title="Printer-Friendly Version"/>
<link href="skins/standard/global.css" rel="alternate stylesheet" title="Classic"/><link href="js/yui/assets/skins/sam/autocomplete.css" rel="stylesheet" type="text/css"/><link href="js/yui/assets/skins/sam/calendar.css" rel="stylesheet" type="text/css"/><link href="skins/standard/global.css" rel="stylesheet" type="text/css"/><link href="skins/standard/show_bug.css" rel="stylesheet" type="text/css"/><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css" rel="stylesheet"
        type="text/css" >
<![endif]-->
<link href="skins/contrib/Gnome/global.css" rel="stylesheet" title="Gnome" type="text/css"/>
<script src="js/yui/yahoo-dom-event/yahoo-dom-event.js" type="text/javascript"></script><script src="js/yui/cookie/cookie-min.js" type="text/javascript"></script><script src="js/yui/datasource/datasource-min.js" type="text/javascript"></script><script src="js/yui/connection/connection-min.js" type="text/javascript"></script><script src="js/yui/json/json-min.js" type="text/javascript"></script><script src="js/yui/autocomplete/autocomplete-min.js" type="text/javascript"></script><script src="js/yui/calendar/calendar-min.js" type="text/javascript"></script><script src="js/global.js" type="text/javascript"></script>
<script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 50
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 686740 – difficult to transition to the new lock screen",  
                             "show_bug.cgi?id=686740" );
        document.title = "Bug 686740 – difficult to transition to the new lock screen";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 686740 – difficult to transition to the new lock screen", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script src="js/util.js" type="text/javascript"></script><script src="js/field.js" type="text/javascript"></script>
<link href="./search_plugin.cgi" rel="search" title="GNOME Bugzilla" type="application/opensearchdescription+xml"/>
<link href="images/favicon.ico" rel="shortcut icon"/><link href="extensions/TraceParser/web/style.css" rel="stylesheet" type="text/css"/>
</head>
<body class="bugzilla-gnome-org bz_bug bz_status_RESOLVED bz_product_gnome-shell bz_component_general bz_bug_686740 yui-skin-sam" onload="">
<div id="header">
<div id="banner">
</div>
<table border="0" cellpadding="0" cellspacing="0" id="titles">
<tr>
<td id="title">
<p>GNOME Bugzilla – Bug 686740</p>
</td>
<td id="subtitle">
<p class="subheader">difficult to transition to the new lock screen</p>
</td>
<td id="information">
<p class="header_addl_info">Last modified: 2013-03-23 16:57:22 UTC</p>
</td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" class="bz_default_hidden" id="lang_links_container"><tr><td>
</td></tr></table>
<ul class="links"><li><a href="./">Home</a></li></ul>
</div>
<div id="bugzilla-body">
<div style="margin-bottom: 50px; margin-top: 50px; padding: 40px; text-align: center; background-color: rgb(74,134,207); border: rgb(57,104,161); color: rgb(255,255,255); line-height: 300%;">After an <a href="https://wiki.gnome.org/Initiatives/DevelopmentInfrastructure" style="color: rgb(255,255,255);">evaluation</a>, GNOME has moved from Bugzilla to <a href="https://gitlab.gnome.org/" style="color: rgb(255,255,255);">GitLab</a>. <a href="https://wiki.gnome.org/GitLab" style="color: rgb(255,255,255);">Learn more about GitLab</a>. <br/><span style="background-color: #EE0000; font-size: xx-large;"><b>No new issues can be reported in GNOME Bugzilla anymore.</b></span>
<br/><span style="background-color: #EE0000; font-size: xx-large;"><b>To report an issue in a GNOME project, <a href="https://gitlab.gnome.org/GNOME" style="color: rgb(255,255,255);">go to GNOME GitLab</a></b>.</span><br/>Do <b>not</b> go to GNOME Gitlab for: <a href="https://sourceforge.net/p/bluefish/tickets" style="color: rgb(255,255,255);">Bluefish</a>, <a href="https://github.com/doxygen/doxygen/issues" style="color: rgb(255,255,255);">Doxygen</a>, <a href="https://bugs.gnucash.org/" style="color: rgb(255,255,255);">GnuCash</a>, <a href="https://gitlab.freedesktop.org/gstreamer/" style="color: rgb(255,255,255);">GStreamer</a>, <a href="https://github.com/afcowie/java-gnome/issues" style="color: rgb(255,255,255);">java-gnome</a>, <a href="https://github.com/ldtp/ldtp2/issues" style="color: rgb(255,255,255);">LDTP</a>, <a href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/issues" style="color: rgb(255,255,255);">NetworkManager</a>, <a href="https://github.com/tomboy-notes/tomboy/issues" style="color: rgb(255,255,255);">Tomboy</a>.</div>
<script type="text/javascript">
<!--

//-->
</script>
<form action="process_bug.cgi" id="changeform" method="post" name="changeform">
<input name="delta_ts" type="hidden" value="2013-03-23 16:57:22"/>
<input name="longdesclength" type="hidden" value="41"/>
<input name="id" type="hidden" value="686740"/>
<input name="token" type="hidden" value="1626120315-zRwV539zOfRX-j6SN3zw6O_s8VBZQi8ASphDj633hb0"/>
<div class="bz_alias_short_desc_container edit_form">
<a href="show_bug.cgi?id=686740"><b>Bug 686740</b></a> -<span class="bz_default_hidden" id="summary_alias_container">
<span id="short_desc_nonedit_display">difficult to transition to the new lock screen</span>
</span>
<div id="summary_alias_input">
<table id="summary">
<tr>
<td colspan="2">
</td>
</tr>
<tr><th class="field_label" id="field_label_short_desc">
<label accesskey="s" for="short_desc">
<a class="field_help_link" href="page.cgi?id=fields.html#short_desc" title="The bug summary is a short sentence which succinctly describes what the bug is about.">Summary:</a>
</label>
</th>
<td>difficult to transition to the new lock screen
          </td>
</tr>
</table>
</div>
</div>
<script type="text/javascript">
    hideAliasAndSummary('difficult to transition to the new lock screen', '');
  </script>
<table class="edit_form">
<tr>
<td class="bz_show_bug_column" id="bz_show_bug_column_1">
<table>
<tr>
<th class="field_label">
<a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
<td id="bz_field_status">
<span id="static_bug_status">RESOLVED
          FIXED
      </span>
</td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_product">
<a class="field_help_link" href="describecomponents.cgi" title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list.">Product:</a>
</th>
<td class="field_value" id="field_container_product">gnome-shell</td>
</tr>
<tr class="bz_default_hidden"><th class="field_label" id="field_label_classification">
<a class="field_help_link" href="page.cgi?id=fields.html#classification" title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.">Classification:</a>
</th>
<td class="field_value" id="field_container_classification">Core</td>
</tr>
<tr><th class="field_label" id="field_label_component">
<a class="field_help_link" href="describecomponents.cgi?product=gnome-shell" title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.">Component:</a>
</th>
<td class="field_value" id="field_container_component">general</td>
</tr>
<tr><th class="field_label" id="field_label_version">
<label for="version">
<a class="field_help_link" href="page.cgi?id=fields.html#version" title="The version field defines the version of the software the bug was found in.">Version:</a>
</label>
</th>
<td>unspecified
  </td>
</tr>
<tr><th class="field_label" id="field_label_rep_platform">
<label accesskey="h" for="rep_platform">
<a class="field_help_link" href="page.cgi?id=fields.html#rep_platform" title='The hardware platform the bug was observed on. Note: When searching, selecting the option "All" only finds bugs whose value for this field is literally the word "All".'>Hardware:</a>
</label>
</th>
<td class="field_value">Other
       Linux
      </td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr>
<th class="field_label">
<label accesskey="i" for="priority">
<a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
<td>Normal
       normal
      </td>
</tr>
<tr>
<th class="field_label">
<label for="target_milestone">
<a href="page.cgi?id=fields.html#target_milestone">
            Target Milestone</a></label>:
        </th><td>---
  </td>
</tr>
<tr>
<th class="field_label">
<a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
<td><span class="vcard">gnome-shell-maint
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_qa_contact">
<label accesskey="q" for="qa_contact">
<a class="field_help_link" href="page.cgi?id=fields.html#qa_contact" title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.">QA Contact:</a>
</label>
</th>
<td><span class="vcard">gnome-shell-maint
</span>
</td>
</tr>
<script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'gnome-shell-maint\x40gnome.bugs',
        'gnome-shell-maint\x40gnome.bugs');
    </script>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_bug_file_loc">
<label accesskey="u" for="bug_file_loc">
<a class="field_help_link" href="page.cgi?id=fields.html#bug_file_loc" title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.">URL:</a>
</label>
</th>
<td>
<span id="bz_url_input_area">
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_status_whiteboard">
<label accesskey="w" for="status_whiteboard">
<a class="field_help_link" href="page.cgi?id=fields.html#status_whiteboard" title="Each bug has a free-form single line text entry box for adding tags and status information.">Whiteboard:</a>
</label>
</th><td colspan="2">
</td>
</tr>

<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr>
<th class="field_label">
<label for="duplicates">Duplicates</label>:
    </th>
<td class="field_value" colspan="2">
<span id="duplicates"><a class="bz_bug_link bz_status_RESOLVED bz_closed" href="show_bug.cgi?id=688203" title="RESOLVED DUPLICATE - Unlocking with keyboard only is hard to discover">688203</a>
</span>
      (<a href="buglist.cgi?bug_id=688203">view as bug list</a>)
    </td>
</tr>
<tr><th class="field_label" id="field_label_dependson">
<a class="field_help_link" href="page.cgi?id=fields.html#dependson" title="The bugs listed here must be resolved before this bug can be resolved.">Depends on:</a>
</th>
<td>
<span id="dependson_input_area">
</span>
</td>
</tr>
<tr><th class="field_label" id="field_label_blocked">
<a class="field_help_link" href="page.cgi?id=fields.html#blocked" title="This bug must be resolved before the bugs listed in this field can be resolved.">Blocks:</a>
</th>
<td>
<span id="blocked_input_area">
</span>
</td>
</tr>
<tr>
<th> </th>

</tr>
</table>
</td>
<td>
<div class="bz_column_spacer"> </div>
</td>
<td class="bz_show_bug_column" id="bz_show_bug_column_2">
<table cellpadding="3" cellspacing="1">
<tr>
<th class="field_label">
      Reported:
    </th>
<td>2012-10-23 22:41 UTC by <span class="vcard"><span class="fn">William Jon McCann</span>
</span>
</td>
</tr>
<tr>
<th class="field_label">
      Modified:
    </th>
<td>2013-03-23 16:57 UTC 
    </td>
</tr>

<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
<tr><th class="field_label" id="field_label_see_also">
<a class="field_help_link" href="page.cgi?id=fields.html#see_also" title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.">See Also:</a>
</th>
<td class="field_value" id="field_container_see_also"></td>
</tr>
<tr><th class="field_label" id="field_label_cf_gnome_target">
<a class="field_help_link" href="page.cgi?id=fields.html#cf_gnome_target" title="A custom Drop Down field in this installation of GNOME Bugzilla.">GNOME target:</a>
</th>
<td class="field_value" colspan="2" id="field_container_cf_gnome_target">3.8</td>
</tr>
<tr><th class="field_label" id="field_label_cf_gnome_version">
<a class="field_help_link" href="page.cgi?id=fields.html#cf_gnome_version" title="A custom Drop Down field in this installation of GNOME Bugzilla.">GNOME version:</a>
</th>
<td class="field_value" colspan="2" id="field_container_cf_gnome_version">---</td>
</tr>
<tr>
<td class="bz_section_spacer" colspan="2"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="3">
<hr id="bz_top_half_spacer"/>
</td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" id="bz_big_form_parts"><tr>
<td>
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>
<br/>
<table cellpadding="4" cellspacing="0" id="attachment_table">
<tr id="a0">
<th align="left" colspan="3">
      Attachments
    </th>
</tr>
<tr class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden" id="a1">
<td valign="top">
<a href="attachment.cgi?id=231025" title="View the content of the attachment">
<b><span class="bz_obsolete">screenShield: Remove bump on key press</span></b></a>
<span class="bz_attach_extra_info">
              (2.93 KB,
                patch)

            <br/>
<a href="#attach_231025" title="Go to the comment associated with the attachment">2012-12-08 08:03 UTC</a>,

            <span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">needs-work
          </td>
<td valign="top">
<a href="attachment.cgi?id=231025&amp;action=edit">Details</a>  |
    <a href="review?bug=686740&amp;attachment=231025">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden" id="a2">
<td valign="top">
<a href="attachment.cgi?id=238091" title="View the content of the attachment">
<b><span class="bz_obsolete">screenShield: Remove bump on key press</span></b></a>
<span class="bz_attach_extra_info">
              (3.09 KB,
                patch)

            <br/>
<a href="#attach_238091" title="Go to the comment associated with the attachment">2013-03-05 07:06 UTC</a>,

            <span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">needs-work
          </td>
<td valign="top">
<a href="attachment.cgi?id=238091&amp;action=edit">Details</a>  |
    <a href="review?bug=686740&amp;attachment=238091">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden" id="a3">
<td valign="top">
<a href="attachment.cgi?id=238092" title="View the content of the attachment">
<b><span class="bz_obsolete">screenShield: Don't wait until the dialog is loaded before opening it</span></b></a>
<span class="bz_attach_extra_info">
              (3.55 KB,
                patch)

            <br/>
<a href="#attach_238092" title="Go to the comment associated with the attachment">2013-03-05 07:06 UTC</a>,

            <span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">accepted-commit_now
          </td>
<td valign="top">
<a href="attachment.cgi?id=238092&amp;action=edit">Details</a>  |
    <a href="review?bug=686740&amp;attachment=238092">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden" id="a4">
<td valign="top">
<a href="attachment.cgi?id=238094" title="View the content of the attachment">
<b><span class="bz_obsolete">screenShield: Forward key presses to tne entry when raising the shield</span></b></a>
<span class="bz_attach_extra_info">
              (1.66 KB,
                patch)

            <br/>
<a href="#attach_238094" title="Go to the comment associated with the attachment">2013-03-05 07:07 UTC</a>,

            <span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">reviewed
          </td>
<td valign="top">
<a href="attachment.cgi?id=238094&amp;action=edit">Details</a>  |
    <a href="review?bug=686740&amp;attachment=238094">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch" id="a5">
<td valign="top">
<a href="attachment.cgi?id=238612" title="View the content of the attachment">
<b>screenShield: Move opening of screen shield to key press</b></a>
<span class="bz_attach_extra_info">
              (1.64 KB,
                patch)

            <br/>
<a href="#attach_238612" title="Go to the comment associated with the attachment">2013-03-11 18:37 UTC</a>,

            <span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">committed
          </td>
<td valign="top">
<a href="attachment.cgi?id=238612&amp;action=edit">Details</a>  |
    <a href="review?bug=686740&amp;attachment=238612">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch" id="a6">
<td valign="top">
<a href="attachment.cgi?id=238613" title="View the content of the attachment">
<b>screenShield: Remove bump on key press</b></a>
<span class="bz_attach_extra_info">
              (3.09 KB,
                patch)

            <br/>
<a href="#attach_238613" title="Go to the comment associated with the attachment">2013-03-11 18:37 UTC</a>,

            <span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">committed
          </td>
<td valign="top">
<a href="attachment.cgi?id=238613&amp;action=edit">Details</a>  |
    <a href="review?bug=686740&amp;attachment=238613">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch" id="a7">
<td valign="top">
<a href="attachment.cgi?id=238614" title="View the content of the attachment">
<b>screenShield: Don't wait until the dialog is loaded before opening it</b></a>
<span class="bz_attach_extra_info">
              (3.55 KB,
                patch)

            <br/>
<a href="#attach_238614" title="Go to the comment associated with the attachment">2013-03-11 18:37 UTC</a>,

            <span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">committed
          </td>
<td valign="top">
<a href="attachment.cgi?id=238614&amp;action=edit">Details</a>  |
    <a href="review?bug=686740&amp;attachment=238614">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch" id="a8">
<td valign="top">
<a href="attachment.cgi?id=238615" title="View the content of the attachment">
<b>screenShield: Forward key presses to tne entry when raising the shield</b></a>
<span class="bz_attach_extra_info">
              (1.65 KB,
                patch)

            <br/>
<a href="#attach_238615" title="Go to the comment associated with the attachment">2013-03-11 18:37 UTC</a>,

            <span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">committed
          </td>
<td valign="top">
<a href="attachment.cgi?id=238615&amp;action=edit">Details</a>  |
    <a href="review?bug=686740&amp;attachment=238615">Review</a>
</td>
</tr>
<tr class="bz_contenttype_text_plain bz_patch" id="a9">
<td valign="top">
<a href="attachment.cgi?id=238713" title="View the content of the attachment">
<b>0001-screenShield-Also-unlock-on-Return-Enter.patch</b></a>
<span class="bz_attach_extra_info">
              (1.05 KB,
                patch)

            <br/>
<a href="#attach_238713" title="Go to the comment associated with the attachment">2013-03-12 16:58 UTC</a>,

            <span class="vcard"><span class="fn">Colin Walters</span>
</span>
</span>
</td>
<td class="bz_attach_status" valign="top">committed
          </td>
<td valign="top">
<a href="attachment.cgi?id=238713&amp;action=edit">Details</a>  |
    <a href="review?bug=686740&amp;attachment=238713">Review</a>
</td>
</tr>

</table>
<br/>
</td>
<td>
</td>
</tr></table>
<div id="comments"><script src="js/comments.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>
<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table cellpadding="0" cellspacing="0" class="bz_comment_table"><tr>
<td>
<div class="bz_comment bz_first_comment" id="c0">
<div class="bz_first_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c0">Description</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">William Jon McCann</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-10-23 22:41:36 UTC
        </span>
</div>
<pre class="bz_comment_text">Many users of gnome-screensaver / gnome 2 are accustomed to being able to just type their password without looking when unlocking the screen. We don't allow this now with the new shield. Typing any characters just "bumps" up the shield a little bit. One user I observed today thought this was offensive - like it was mocking him or taunting him.

In my original conception of the lock shield I wanted typing to lift the shield. The reason for this is compatibility with existing practice and the fact that we don't need to guard the screen from stray touches when the input is purely keyboard based.

He also had no idea that escape lifted the shield at all.</pre>
</div><div class="bz_comment" id="c1">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c1">Comment 1</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jakub Steiner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-10-23 22:59:31 UTC
        </span>
</div>
<pre class="bz_comment_text">My original thought of just wanting to get to the notifications/music controls on a display in sleep by hitting a random key is easily worked around by using the Esc key as it toggles the shield on and off.

I've heard this complaint a number of times and there might be something about that trolling bit :)</pre>
</div><div class="bz_comment" id="c2">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c2">Comment 2</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Rui Matos</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-10-24 00:37:57 UTC
        </span>
</div>
<pre class="bz_comment_text">I agree with this. It's how the Windows 8 lock shield behaves FWIW. The timing is also important to reduce frustration IMO, see <a class="bz_bug_link bz_status_RESOLVED bz_closed" href="show_bug.cgi?id=686745" title="RESOLVED FIXED - screenShield: Tweak curtain animation timings">bug 686745</a>.</pre>
</div><div class="bz_comment" id="c3">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c3">Comment 3</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Allan Day</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-10-31 19:16:18 UTC
        </span>
</div>
<pre class="bz_comment_text">Me, Jon and Jakub discussed this today. We agreed that the curtain should be raised when any key is pressed, with the exception of the shift keys.

There was some discussion about not raising for the return key, also, but I have to confess that I'm not 100% on that one.

It would also be good to not raise the curtain if the monitor is switched off. In this case, keyboard input would simply wake up the display.</pre>
</div><div class="bz_comment" id="c4">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c4">Comment 4</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-10-31 19:27:02 UTC
        </span>
</div>
<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=686740#c3">comment #3</a>)
<span class="quote">&gt; Me, Jon and Jakub discussed this today. We agreed that the curtain should be
&gt; raised when any key is pressed, with the exception of the shift keys.</span>

Would the key you pressed to raise the lock screen also enter something into the password field?</pre>
</div><div class="bz_comment" id="c5">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c5">Comment 5</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Allan Day</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-10-31 19:45:56 UTC
        </span>
</div>
<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=686740#c4">comment #4</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=686740#c3">comment #3</a>)
&gt; &gt; Me, Jon and Jakub discussed this today. We agreed that the curtain should be
&gt; &gt; raised when any key is pressed, with the exception of the shift keys.
&gt; 
&gt; Would the key you pressed to raise the lock screen also enter something into
&gt; the password field?</span>

Good question. The password field should only accept entry once it is visible.</pre>
</div><div class="bz_comment" id="c6">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c6">Comment 6</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">William Jon McCann</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-10-31 20:07:34 UTC
        </span>
</div>
<pre class="bz_comment_text">What we used to do in gnome-screensaver was save all the keystrokes in a buffer and forward them to the text entry once it became visible. I think think of a reason why we wouldn't want that. It ensures that those keys don't get sent to open windows in the case where the screen isn't locked too.

Maybe Ray has some thoughts.</pre>
</div><div class="bz_comment" id="c7">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c7">Comment 7</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-10-31 20:12:06 UTC
        </span>
</div>
<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=686740#c6">comment #6</a>)
<span class="quote">&gt; What we used to do in gnome-screensaver was save all the keystrokes in a buffer
&gt; and forward them to the text entry once it became visible.</span>

Anything else doesn't make sense to me to be honest, in particular as passwords are masked by default (e.g. if input is dismissed until the entry becomes visible, users would need to count bullets or something to figure out what's in the entry)</pre>
</div><div class="bz_comment" id="c8">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c8">Comment 8</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Guillaume Desmottes</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-11-07 15:00:51 UTC
        </span>
</div>
<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=686740#c4">comment #4</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=686740#c3">comment #3</a>)
&gt; &gt; Me, Jon and Jakub discussed this today. We agreed that the curtain should be
&gt; &gt; raised when any key is pressed, with the exception of the shift keys.
&gt; 
&gt; Would the key you pressed to raise the lock screen also enter something into
&gt; the password field?</span>

Definitely. User should just has to enter his password and Enter to unlock, no need to type any extra key.</pre>
</div><div class="bz_comment" id="c9">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c9">Comment 9</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Matthias Clasen</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-11-13 00:08:13 UTC
        </span>
</div>
<pre class="bz_comment_text">*** <a class="bz_bug_link bz_status_RESOLVED bz_closed" href="show_bug.cgi?id=688203" title="RESOLVED DUPLICATE - Unlocking with keyboard only is hard to discover">Bug 688203</a> has been marked as a duplicate of this bug. ***</pre>
</div><div class="bz_comment" id="c10">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c10">Comment 10</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Ray Strode [halfline]</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-11-13 16:44:21 UTC
        </span>
</div>
<pre class="bz_comment_text"><span class="quote">&gt; Maybe Ray has some thoughts.</span>

A couple:

- with gnome-screensaver people would generally walk up to their machines and do one of:

 1) hit escape, then type their password
 2) hit space, then type their password
 3) hit enter, then type their password
 4) just start typing their password right away

We definitely used to queue up what they were typing, and replay it at the appropriate time. We also filtered out the initial space, escape, or enter key when doing the replay, because of the first three cases above.  Lastly, we filtered out Tab, and arrow keys with this comment:

/* Don't queue keys that may cause focus navigation in the dialog */

I think if gnome-shell mimiced the gnome-screensaver behavior, it would be more convenient than what it currently does.

- I do think it's important that media keys and the like don't raise the shield especially if there is an onscreen media control on the shield

- If there is something "focusable" on the screen and someone tries to navigate focus in it (say with alt-tab, tab, arrow keys, whatever), we shouldn't raise the shield but instead move focus to that, or move the focus around in that.</pre>
</div><div class="bz_comment" id="c11">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c11">Comment 11</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2012-12-08 08:03:23 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=231025" name="attach_231025" title="screenShield: Remove bump on key press">attachment 231025</a> <a href="attachment.cgi?id=231025&amp;action=edit" title="screenShield: Remove bump on key press">[details]</a></span> <a href="review?bug=686740&amp;attachment=231025">[review]</a>
screenShield: Remove bump on key press

Any key press will now raise the shell. Note that the key press will
not be forwarded to the entry yet.</pre>
</div><div class="bz_comment" id="c12">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c12">Comment 12</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Allan Day</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-01-16 10:13:19 UTC
        </span>
</div>
<pre class="bz_comment_text">Everything in <a href="show_bug.cgi?id=686740#c10">comment 10</a> sounds right to me. I guess that means that this still needs work.</pre>
</div><div class="bz_comment" id="c13">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c13">Comment 13</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Allan Day</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-02-28 10:23:10 UTC
        </span>
</div>
<pre class="bz_comment_text">I thought this was fixed, but it seems that the patch hasn't been committed. Can we get this sorted for 3.8?</pre>
</div><div class="bz_comment" id="c14">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c14">Comment 14</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-02-28 11:17:01 UTC
        </span>
</div>
<pre class="bz_comment_text">Review of <span class="bz_obsolete"><a href="attachment.cgi?id=231025" name="attach_231025" title="screenShield: Remove bump on key press">attachment 231025</a> <a href="attachment.cgi?id=231025&amp;action=edit" title="screenShield: Remove bump on key press">[details]</a></span> <a href="review?bug=686740&amp;attachment=231025">[review]</a>:

(In reply to <a href="show_bug.cgi?id=686740#c13">comment #13</a>)
<span class="quote">&gt; I thought this was fixed, but it seems that the patch hasn't been committed.
&gt; Can we get this sorted for 3.8?</span>

I'd like to see that, but in my opinion we need forwarding to the entry - with this patch, starting to type will appear to do the right thing (raise the shield and start the password conversation), but only the former is true, so users will end up with an authentication failure unless they learn to type the first letter twice.</pre>
</div><div class="bz_comment" id="c15">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c15">Comment 15</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-02-28 14:48:03 UTC
        </span>
</div>
<pre class="bz_comment_text">The reason was because of IBus support, but it's been acknowledged that we don't want that in the password entry. I'll create and attach an updated patch soon.</pre>
</div><div class="bz_comment" id="c16">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c16">Comment 16</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Cosimo Cecchi</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-01 17:51:55 UTC
        </span>
</div>
<pre class="bz_comment_text">Note that now with <a class="bz_bug_link bz_status_RESOLVED bz_closed" href="show_bug.cgi?id=643111" title="RESOLVED FIXED - allow using volume hardware keys / shortcuts to take screenshots in the overview">bug 643111</a> fixed media keys also bump the screen shield in addition to their action.</pre>
</div><div class="bz_comment" id="c17">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c17">Comment 17</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-05 07:06:27 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=238091" name="attach_238091" title="screenShield: Remove bump on key press">attachment 238091</a> <a href="attachment.cgi?id=238091&amp;action=edit" title="screenShield: Remove bump on key press">[details]</a></span> <a href="review?bug=686740&amp;attachment=238091">[review]</a>
screenShield: Remove bump on key press

Any key press of a character-emitting key will now raise the shell.
Note that the key press will not be forwarded to the entry yet.



Rebased on master.</pre>
</div><div class="bz_comment" id="c18">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c18">Comment 18</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-05 07:06:33 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=238092" name="attach_238092" title="screenShield: Don't wait until the dialog is loaded before opening it">attachment 238092</a> <a href="attachment.cgi?id=238092&amp;action=edit" title="screenShield: Don't wait until the dialog is loaded before opening it">[details]</a></span> <a href="review?bug=686740&amp;attachment=238092">[review]</a>
screenShield: Don't wait until the dialog is loaded before opening it

If we wait asynchronously, key presses while the shield is opening
will be dropped in the void.</pre>
</div><div class="bz_comment" id="c19">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c19">Comment 19</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-05 07:07:02 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=238094" name="attach_238094" title="screenShield: Forward key presses to tne entry when raising the shield">attachment 238094</a> <a href="attachment.cgi?id=238094&amp;action=edit" title="screenShield: Forward key presses to tne entry when raising the shield">[details]</a></span> <a href="review?bug=686740&amp;attachment=238094">[review]</a>
screenShield: Forward key presses to tne entry when raising the shield

Attaching this for now. There still seem to be some key presses
that are lost somewhere. I don't know why. Hopefully gcampax or
someone else can investigate why.</pre>
</div><div class="bz_comment" id="c20">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c20">Comment 20</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Giovanni Campagna</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 16:38:59 UTC
        </span>
</div>
<pre class="bz_comment_text">Review of <span class="bz_obsolete"><a href="attachment.cgi?id=238091" name="attach_238091" title="screenShield: Remove bump on key press">attachment 238091</a> <a href="attachment.cgi?id=238091&amp;action=edit" title="screenShield: Remove bump on key press">[details]</a></span> <a href="review?bug=686740&amp;attachment=238091">[review]</a>:

::: js/ui/screenShield.js
@@ +603,2 @@
+        this._ensureUnlockDialog(true, true);
+        this._hideLockScreen(true, 0);

You should use _liftShield here, to account for key presses while not locked.</pre>
</div><div class="bz_comment" id="c21">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c21">Comment 21</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Giovanni Campagna</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 16:40:25 UTC
        </span>
</div>
<pre class="bz_comment_text">Review of <span class="bz_obsolete"><a href="attachment.cgi?id=238092" name="attach_238092" title="screenShield: Don't wait until the dialog is loaded before opening it">attachment 238092</a> <a href="attachment.cgi?id=238092&amp;action=edit" title="screenShield: Don't wait until the dialog is loaded before opening it">[details]</a></span> <a href="review?bug=686740&amp;attachment=238092">[review]</a>:

Ugh... I think originally loaded had more sense, but yeah, this is definitely correct now.</pre>
</div><div class="bz_comment" id="c22">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c22">Comment 22</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Giovanni Campagna</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 16:41:29 UTC
        </span>
</div>
<pre class="bz_comment_text">Review of <span class="bz_obsolete"><a href="attachment.cgi?id=238094" name="attach_238094" title="screenShield: Forward key presses to tne entry when raising the shield">attachment 238094</a> <a href="attachment.cgi?id=238094&amp;action=edit" title="screenShield: Forward key presses to tne entry when raising the shield">[details]</a></span> <a href="review?bug=686740&amp;attachment=238094">[review]</a>:

::: js/ui/screenShield.js
@@ +603,3 @@
         this._ensureUnlockDialog(true, true);
+
+        if (!GLib.unichar_isspace(unichar))

Shouldn't you check that unichar is valid here (ie is not esc)?</pre>
</div><div class="bz_comment" id="c23">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c23">Comment 23</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 18:37:28 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=238612" name="attach_238612" title="screenShield: Move opening of screen shield to key press">attachment 238612</a> <a href="attachment.cgi?id=238612&amp;action=edit" title="screenShield: Move opening of screen shield to key press">[details]</a></span> <a href="review?bug=686740&amp;attachment=238612">[review]</a>
screenShield: Move opening of screen shield to key press

This makes the screen shield much more responsive.</pre>
</div><div class="bz_comment" id="c24">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c24">Comment 24</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 18:37:32 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=238613" name="attach_238613" title="screenShield: Remove bump on key press">attachment 238613</a> <a href="attachment.cgi?id=238613&amp;action=edit" title="screenShield: Remove bump on key press">[details]</a></span> <a href="review?bug=686740&amp;attachment=238613">[review]</a>
screenShield: Remove bump on key press

Any key press of a character-emitting key will now raise the shell.
Note that the key press will not be forwarded to the entry yet.</pre>
</div><div class="bz_comment" id="c25">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c25">Comment 25</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 18:37:35 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=238614" name="attach_238614" title="screenShield: Don't wait until the dialog is loaded before opening it">attachment 238614</a> <a href="attachment.cgi?id=238614&amp;action=edit" title="screenShield: Don't wait until the dialog is loaded before opening it">[details]</a></span> <a href="review?bug=686740&amp;attachment=238614">[review]</a>
screenShield: Don't wait until the dialog is loaded before opening it

If we wait asynchronously, key presses while the shield is opening
will be dropped in the void.</pre>
</div><div class="bz_comment" id="c26">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c26">Comment 26</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 18:37:39 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=238615" name="attach_238615" title="screenShield: Forward key presses to tne entry when raising the shield">attachment 238615</a> <a href="attachment.cgi?id=238615&amp;action=edit" title="screenShield: Forward key presses to tne entry when raising the shield">[details]</a></span> <a href="review?bug=686740&amp;attachment=238615">[review]</a>
screenShield: Forward key presses to tne entry when raising the shield</pre>
</div><div class="bz_comment" id="c27">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c27">Comment 27</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Giovanni Campagna</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 18:55:35 UTC
        </span>
</div>
<pre class="bz_comment_text">Review of <span class=""><a href="attachment.cgi?id=238612" name="attach_238612" title="screenShield: Move opening of screen shield to key press">attachment 238612</a> <a href="attachment.cgi?id=238612&amp;action=edit" title="screenShield: Move opening of screen shield to key press">[details]</a></span> <a href="review?bug=686740&amp;attachment=238612">[review]</a>:

Yes.</pre>
</div><div class="bz_comment" id="c28">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c28">Comment 28</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Giovanni Campagna</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 18:55:55 UTC
        </span>
</div>
<pre class="bz_comment_text">Review of <span class=""><a href="attachment.cgi?id=238613" name="attach_238613" title="screenShield: Remove bump on key press">attachment 238613</a> <a href="attachment.cgi?id=238613&amp;action=edit" title="screenShield: Remove bump on key press">[details]</a></span> <a href="review?bug=686740&amp;attachment=238613">[review]</a>:

Yes.</pre>
</div><div class="bz_comment" id="c29">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c29">Comment 29</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Giovanni Campagna</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 18:56:12 UTC
        </span>
</div>
<pre class="bz_comment_text">Review of <span class=""><a href="attachment.cgi?id=238614" name="attach_238614" title="screenShield: Don't wait until the dialog is loaded before opening it">attachment 238614</a> <a href="attachment.cgi?id=238614&amp;action=edit" title="screenShield: Don't wait until the dialog is loaded before opening it">[details]</a></span> <a href="review?bug=686740&amp;attachment=238614">[review]</a>:

Yes.</pre>
</div><div class="bz_comment" id="c30">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c30">Comment 30</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Giovanni Campagna</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 18:57:48 UTC
        </span>
</div>
<pre class="bz_comment_text">Review of <span class=""><a href="attachment.cgi?id=238615" name="attach_238615" title="screenShield: Forward key presses to tne entry when raising the shield">attachment 238615</a> <a href="attachment.cgi?id=238615&amp;action=edit" title="screenShield: Forward key presses to tne entry when raising the shield">[details]</a></span> <a href="review?bug=686740&amp;attachment=238615">[review]</a>:

And yes.

For the record, the stack was tested and even typing as fast as I can, I can go from black to unlocked without losing characters.

::: js/ui/screenShield.js
@@ +603,3 @@
         this._ensureUnlockDialog(true, true);
+
+        if (GLib.unichar_isgraph(unichar))

Nice!</pre>
</div><div class="bz_comment" id="c31">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c31">Comment 31</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 19:08:40 UTC
        </span>
</div>
<pre class="bz_comment_text"><span class=""><a href="attachment.cgi?id=238612" name="attach_238612" title="screenShield: Move opening of screen shield to key press">Attachment 238612</a> <a href="attachment.cgi?id=238612&amp;action=edit" title="screenShield: Move opening of screen shield to key press">[details]</a></span> pushed as <a href="https://git.gnome.org/browse/gnome-shell/commit/?id=dde20f0">dde20f0</a> - screenShield: Move opening of screen shield to key press
<span class=""><a href="attachment.cgi?id=238613" name="attach_238613" title="screenShield: Remove bump on key press">Attachment 238613</a> <a href="attachment.cgi?id=238613&amp;action=edit" title="screenShield: Remove bump on key press">[details]</a></span> pushed as <a href="https://git.gnome.org/browse/gnome-shell/commit/?id=67615a0">67615a0</a> - screenShield: Remove bump on key press
<span class=""><a href="attachment.cgi?id=238614" name="attach_238614" title="screenShield: Don't wait until the dialog is loaded before opening it">Attachment 238614</a> <a href="attachment.cgi?id=238614&amp;action=edit" title="screenShield: Don't wait until the dialog is loaded before opening it">[details]</a></span> pushed as <a href="https://git.gnome.org/browse/gnome-shell/commit/?id=127f10e">127f10e</a> - screenShield: Don't wait until the dialog is loaded before opening it
<span class=""><a href="attachment.cgi?id=238615" name="attach_238615" title="screenShield: Forward key presses to tne entry when raising the shield">Attachment 238615</a> <a href="attachment.cgi?id=238615&amp;action=edit" title="screenShield: Forward key presses to tne entry when raising the shield">[details]</a></span> pushed as <a href="https://git.gnome.org/browse/gnome-shell/commit/?id=209014b">209014b</a> - screenShield: Forward key presses to tne entry when raising the shield


Same here, so closing.</pre>
</div><div class="bz_comment" id="c32">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c32">Comment 32</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Colin Walters</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-11 19:33:33 UTC
        </span>
</div>
<pre class="bz_comment_text">Yep, looks good here.  Thanks a lot for fixing this one!</pre>
</div><div class="bz_comment" id="c33">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c33">Comment 33</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Colin Walters</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-12 16:58:07 UTC
        </span>
</div>
<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=238713" name="attach_238713" title="0001-screenShield-Also-unlock-on-Return-Enter.patch">attachment 238713</a> <a href="attachment.cgi?id=238713&amp;action=edit" title="0001-screenShield-Also-unlock-on-Return-Enter.patch">[details]</a></span> <a href="review?bug=686740&amp;attachment=238713">[review]</a>
0001-screenShield-Also-unlock-on-Return-Enter.patch</pre>
</div><div class="bz_comment" id="c34">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c34">Comment 34</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-12 17:02:01 UTC
        </span>
</div>
<pre class="bz_comment_text">Review of <span class=""><a href="attachment.cgi?id=238713" name="attach_238713" title="0001-screenShield-Also-unlock-on-Return-Enter.patch">attachment 238713</a> <a href="attachment.cgi?id=238713&amp;action=edit" title="0001-screenShield-Also-unlock-on-Return-Enter.patch">[details]</a></span> <a href="review?bug=686740&amp;attachment=238713">[review]</a>:

Just merge it with the if statement. ACN after that.</pre>
</div><div class="bz_comment" id="c35">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c35">Comment 35</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Paolo Bonzini</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-23 06:18:25 UTC
        </span>
</div>
<pre class="bz_comment_text">With:

glib2-2.35.8
gobject-introspection-1.35.8
gjs-1.35.8
gnome-shell-3.7.92

I get the following error in the lock screen:

    JS ERROR: !!!   Exception was: Error: Expected type gunichar for Argument 'c' but got type 'number' (nil)
    JS ERROR: !!!     message = '"Expected type gunichar for Argument 'c' but got type 'number' (nil)"'
    JS ERROR: !!!     fileName = '"/usr/share/gnome-shell/js/ui/screenShield.js"'
    JS ERROR: !!!     lineNumber = '606'
    JS ERROR: !!!     stack = '"([object GObject_Object],[object GObject_Union])@/usr/share/gnome-shell/js/ui/screenShield.js:606
wrapper([object GObject_Object],[object GObject_Union])@/usr/share/gjs-1.0/lang.js:213

where line 606 has the call "GLib.unichar_isprint(unichar)".</pre>
</div><div class="bz_comment" id="c36">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c36">Comment 36</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Florian Müllner</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-23 07:37:05 UTC
        </span>
</div>
<pre class="bz_comment_text">What clutter version? Please don't tell me we have code depending on unreleased clutter three days before final ...</pre>
</div><div class="bz_comment" id="c37">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c37">Comment 37</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Bastien Nocera</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-23 08:14:53 UTC
        </span>
</div>
<pre class="bz_comment_text">You need clutter 1.3.10 for this.</pre>
</div><div class="bz_comment" id="c38">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c38">Comment 38</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Paolo Bonzini</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-23 14:11:42 UTC
        </span>
</div>
<pre class="bz_comment_text">Not sure if it's related to my report, but I have clutter 1.13.8</pre>
</div><div class="bz_comment" id="c39">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c39">Comment 39</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Jasper St. Pierre (not reading bugmail)</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-23 16:39:30 UTC
        </span>
</div>
<pre class="bz_comment_text">Bastien misspoke: he meant to say Clutter version 1.13.10.</pre>
</div><div class="bz_comment" id="c40">
<div class="bz_comment_head">
<span class="bz_comment_number">
<a href="show_bug.cgi?id=686740#c40">Comment 40</a>
</span>
<span class="bz_comment_user">
<span class="vcard"><span class="fn">Bastien Nocera</span>
</span>
</span>
<span class="bz_comment_user_images">
</span>
<span class="bz_comment_time">
          2013-03-23 16:57:22 UTC
        </span>
</div>
<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=686740#c39">comment #39</a>)
<span class="quote">&gt; Bastien misspoke: he meant to say Clutter version 1.13.10.</span>

Completely typoed, thanks for the correction.</pre>
</div>
<script type="text/javascript">
  function traceparser_toggle_trace(link, trace_id) {
    var trace = document.getElementById('trace_' + trace_id);
    bz_toggleClass(trace, 'bz_default_hidden');
    if (link.innerHTML == '+') { link.innerHTML = '&mdash;'; }
    else { link.innerHTML = '+'; }
  }
</script>
</td>
<td>
</td>
</tr></table>
</div>
<hr/>
</form>
<hr/>

<br/>
</div>
<div id="footer">
<div class="intro"></div>
<ul id="useful-links">
<li id="links-actions"><ul class="links">
<li><a href="./">Home</a></li>
<li><span class="separator">| </span><span style="text-decoration:line-through"><a href="">New</a></span></li>
<li><span class="separator">| </span><a href="page.cgi?id=browse.html&amp;product=gnome-shell">Browse</a></li>
<li><span class="separator">| </span><a href="query.cgi">Search</a></li>
<li class="form">
<span class="separator">| </span>
<form action="buglist.cgi" method="get" onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
<input id="no_redirect_bottom" name="no_redirect" type="hidden" value="0"/>
<script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
<input class="txt" id="quicksearch_bottom" name="quicksearch" title="Quick Search" type="text" value=""/>
<input class="btn" id="find_bottom" type="submit" value="Search"/></form>
<a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>
<li><span class="separator">| </span><a href="page.cgi?id=reports.html">Reports</a></li>
<li>
<span class="separator">| </span>
<a href="http://www.bugzilla.org/docs/4.4/en/html/bug_page.html" target="_blank">Help</a>
</li>
<li id="mini_login_container_bottom">
<span class="separator">| </span>
<a href="show_bug.cgi?id=686740&amp;GoAheadAndLogIn=1" id="login_link_bottom" onclick="return show_mini_login_form('_bottom')">Log In</a>
<form action="show_bug.cgi?id=686740" class="mini_login bz_default_hidden" id="mini_login_bottom" method="POST" onsubmit="return check_mini_login_fields( '_bottom' );">
<input class="bz_login" id="Bugzilla_login_bottom" name="Bugzilla_login" onfocus="mini_login_on_focus('_bottom')" title="Login"/>
<input class="bz_password" id="Bugzilla_password_bottom" name="Bugzilla_password" title="Password" type="password"/>
<input class="bz_password bz_default_hidden bz_mini_login_help" id="Bugzilla_password_dummy_bottom" onfocus="mini_login_on_focus('_bottom')" title="Password" type="text" value="password"/>
<input checked="" class="bz_remember" id="Bugzilla_remember_bottom" name="Bugzilla_remember" type="checkbox" value="on"/>
<label for="Bugzilla_remember_bottom">Remember</label>
<input name="Bugzilla_login_token" type="hidden" value=""/>
<input id="log_in_bottom" name="GoAheadAndLogIn" type="submit" value="Log in"/>
<script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_bottom');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_bottom');
              }, 200);
          });
    }
    </script>
<a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
</form>
</li>
<li id="forgot_container_bottom">
<span class="separator">| </span>
<a href="show_bug.cgi?id=686740&amp;GoAheadAndLogIn=1#forgot" id="forgot_link_bottom" onclick="return show_forgot_form('_bottom')">Forgot Password</a>
<form action="token.cgi" class="mini_forgot bz_default_hidden" id="forgot_form_bottom" method="post">
<label for="login_bottom">Login:</label>
<input id="login_bottom" name="loginname" size="20" type="text"/>
<input id="forgot_button_bottom" type="submit" value="Reset Password"/>
<input name="a" type="hidden" value="reqpw"/>
<input id="token_bottom" name="token" type="hidden" value="1626120316-t0r1HouLu5FTalX4XEBuYd32Pj9QKH6yCRs3n-q7cMA"/>
<a href="#" onclick="return hide_forgot_form('_bottom')">[x]</a>
</form>
</li>
</ul>
</li>
</ul>
<div class="outro"></div>
</div>
</body>
</html>