<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="1275400 - (CVE-2016-5824) Handful use-after-free crashes in libical (used in Thunderbird)">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=1275400">
<meta property="og:description"
      content="RESOLVED (makemyday) in Calendar - Internal Components. Last updated 2020-05-24.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="defect">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="--">

    <meta name="viewport" content="width=1024">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20211025.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;},&quot;string&quot;:{&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;is_new&quot;:1,&quot;login&quot;:&quot;&quot;}}">
    <title>1275400 - (CVE-2016-5824) Handful use-after-free crashes in libical (used in Thunderbird)</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=1275400&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="/showdependencygraph.cgi?id=1275400">

      <link rel="Show" title="Bug Activity"
            href="/show_activity.cgi?id=1275400">

<link href="/static/v20211025.1/skins/yui.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/EditComments/web/styles/inline-editor.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="/static/v20211025.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css">



    
<script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/jquery/jquery-min.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/yui.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/global.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/util.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/dropdown.js"></script>

      <script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"comments\":{},\"types\":[\"tracking\"],\"flags\":{\"tracking\":{\"cf_tracking_thunderbird_93\":\"---\",\"cf_status_thunderbird_esr78\":\"---\",\"cf_tracking_thunderbird_94\":\"---\",\"cf_tracking_thunderbird_95\":\"---\",\"cf_status_thunderbird_93\":\"---\",\"cf_status_thunderbird_94\":\"---\",\"cf_status_thunderbird_95\":\"---\",\"cf_status_thunderbird_esr91\":\"---\",\"cf_tracking_thunderbird_esr91\":\"---\",\"cf_tracking_thunderbird_esr78\":\"---\"}}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 1275400;
  BUGZILLA.bug_title = '1275400 - (CVE-2016-5824) Handful use-after-free crashes in libical (used in Thunderbird)';
  BUGZILLA.bug_summary = 'Handful use-after-free crashes in libical (used in Thunderbird)';
  BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=1275400';
  BUGZILLA.bug_keywords = 'sec-low',
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/BugModal/web/comments.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/bugzilla-readable-status-min.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/field.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/comments.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/MozChangeField/web/js/severity-s1-priority-p1.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/MozChangeField/web/js/clear-tracking-priority-s1.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/MozChangeField/web/js/set-tracking-severity-s1.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/lib/prism.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/GoogleAnalytics/web/js/analytics.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/js/lib/md5.min.js"></script><script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe" src="/static/v20211025.1/extensions/Review/web/js/badge.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1275400">
<link rel="shorturl" href="https://bugzilla.mozilla.org/1275400"><meta name="google-analytics" content="UA-36116321-3" data-location="https://bugzilla.mozilla.org/bug/show-modal" data-title="1275400 - (CVE-2016-5824) Handful use-after-free crashes in libical (used in Thunderbird)">
<script async src="https://www.google-analytics.com/analytics.js"></script><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="wrapper">

<header id="header" role="banner">
  <div class="inner">
    <h1 id="header-title" class="title"><a href="https://bugzilla.mozilla.org/home" title="Go to home page">Bugzilla</a></h1>
    <form role="search" id="header-search" class="quicksearch" action="/buglist.cgi" data-no-csrf>
      <section class="searchbox-outer dropdown" role="combobox" aria-expanded="false" aria-haspopup="listbox"
               aria-labelledby="header-search-label" aria-owns="header-search-dropdown">
        <h2 id="header-search-label">Quick Search</h2>
        <span class="icon" aria-hidden="true"></span>
        <input role="searchbox" id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" placeholder="Search Bugs"
               title="Enter a bug number or some search terms" aria-controls="header-search-dropdown"
               aria-label="Quick Search"><div id="header-search-dropdown" class="dropdown-content right" role="listbox" style="display: none;">
  <div id="header-search-dropdown-wrapper">
  </div>
</div>
      </section>
    </form>
    <nav id="header-nav">
      <ul class="links">
        <li class="link-browse">
          <a href="/describecomponents.cgi" title="Browse bugs by component">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Browse</span>
          </a>
        </li>
        <li class="link-search">
          <a href="/query.cgi?format=advanced" title="Search bugs using various criteria">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Advanced Search</span>
          </a>
        </li>
      </ul>
      <div class="dropdown">
        <button type="button" id="header-tools-menu-button" class="dropdown-button minor" title="More tools…"
                aria-label="More tools…" aria-expanded="false" aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a href="/report.cgi" role="menuitem" tabindex="-1">Reports</a>
          </li>
            <li role="separator"></li>
            <li role="presentation">
              <a href="https://bmo.readthedocs.io/en/latest/" role="menuitem" tabindex="-1">Documentation</a>
            </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links">
          <li id="moz_new_account_container_top"><a href="/createaccount.cgi">New Account</a></li><li id="mini_login_container_top">
  <a id="login_link_top" href="/index.cgi?GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden"><span id="github_mini_login_top" class="mini_login_top">
    <form method="post" action="/github.cgi">
      <input type="hidden" name="github_secret" value="AQw75o0YkQYft4rKnG1xhyUcDcxm4tbjZLNQl5ajo2jSHUPwzWVekg7PE9eiDzr7RchGnB1Rj3F9eyFWVhtRG4UcHqS6MsoaJxkpdlJA0PUKtF7IfcYhv0rkxoECjYFqe1N2AVqZxfGfcEwqRxahblqc4QCSrXQJyVWar3fVFCUHWWYa424y7tA89hYZy3SKWv3lZzlh5uHAKRz5wyz4fJy8zmvgLzieAtXbQbF0fWoYVNuHOLRY7dOVFWGRfTeA">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi">
      <input type="image" src="/extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>

  <form action="/show_bug.cgi?id=1275400" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top"
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
<li id="forgot_container_top">
  <a id="forgot_link_top" href="/index.cgi?GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1635622982-REZcsrtNfQuDI5Ek0D_AyBmPUBTSnoB8SsvnBzgIKuE">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul><div id="header-external-links" class="dropdown first">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor" title="Mozilla"
          aria-label="Mozilla" aria-expanded="false" aria-haspopup="true" aria-controls="header-external-menu">
    <img src="/static/v20211025.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg" width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" style="display:none;">
    <li role="presentation">
      <a href="https://www.mozilla.org/" role="menuitem" tabindex="-1">Mozilla Home</a>
    </li>
    <li role="separator"></li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem" tabindex="-1">Privacy</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem" tabindex="-1">Cookies</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem" tabindex="-1">Legal</a>
    </li>
  </ul>
</div>
  </div>
</header> 


<main id="bugzilla-body" tabindex="-1">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary"
      title="Copy bug number and summary to your clipboard">Copy Summary</button>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/1275400" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=1275400" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent" id="field-status_summary"
>


  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=1275400">Bug 1275400</a>
          <span class="edit-hide">(CVE-2016-5824)</span>
      </span>
      <span>
        <span class="bug-time-label">Opened <span class="rel-time" title="2016-05-24 21:24 PDT" data-time="1464150252">6 years ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2018-09-28 02:08 PDT" data-time="1538125737">3 years ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field indent edit-hide"
>


  
    <div class=" container">
      

      <h1 id="field-value-short_desc">Handful use-after-free crashes in libical (used in Thunderbird)</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-short_desc">
            Handful use-after-free crashes in libical (used in Thunderbird)

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (Calendar :: Internal Components, defect)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Calendar" id="product-help-link" class="help">Product:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">Calendar
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">Calendar</div>
            <div class="description">The Mozilla Calendar project also known as Lightning (<a href="http://www.mozilla.org/projects/calendar/help.html">more info</a>).</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Calendar&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=Calendar"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Calendar"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Calendar&component=Internal%20Components#Internal%20Components" id="component-help-link" class="help">Component:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">Internal Components
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">Calendar :: Internal Components</div>
            <div class="description">For issues with the internal interfaces of the calendar components. Bug example: Incorrect timezone calculations.</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Calendar&amp;component=Internal%20Components&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=Calendar&amp;component=Internal%20Components&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=Calendar&amp;component=Internal%20Components"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Calendar" data-component="Internal Components"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-version" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-version">
            unspecified

        </span>
    </div>

  
</div>

    <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>


  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>


  
    <div class="value">
        <span id="field-value-rep_platform">
            Unspecified

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>


  
    <div class="value">
        <span id="field-value-op_sys">
            Unspecified

        </span>
    </div>

  
</div><div class="field indent inline"
>


  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field contains-buttons" id="field-bug_type"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="defect">
        <span class="icon" aria-hidden="true"></span>defect</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-importance"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="importance-help-link" class="help">Priority:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-importance"><div class="field inline" id="field-priority"
>


  
    <div class="value">
        <span id="field-value-priority">
          <em>Not set</em>
        </span>
    </div>

  
</div><div class="field inline" id="field-bug_severity"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_severity">
            normal

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>

    
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (Not tracked)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-view">RESOLVED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>


  
    <div class="value">
        <span id="field-value-bug_status">
            RESOLVED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>


  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-target_milestone"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-target_milestone">
            6.2.5

        </span>
    </div>

  
</div>

    


</div><div class="fields-rhs">

      <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr78-dirty">
  <select id="cf_tracking_thunderbird_esr78" name="cf_tracking_thunderbird_esr78">
        <option value="---"
          id="v4823_cf_tracking_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr78-dirty">
  <select id="cf_status_thunderbird_esr78" name="cf_status_thunderbird_esr78">
        <option value="---"
          id="v4829_cf_status_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr91</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr91-dirty">
  <select id="cf_tracking_thunderbird_esr91" name="cf_tracking_thunderbird_esr91">
        <option value="---"
          id="v5236_cf_tracking_thunderbird_esr91" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr91-dirty">
  <select id="cf_status_thunderbird_esr91" name="cf_status_thunderbird_esr91">
        <option value="---"
          id="v5242_cf_status_thunderbird_esr91" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird93</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_93-dirty">
  <select id="cf_tracking_thunderbird_93" name="cf_tracking_thunderbird_93">
        <option value="---"
          id="v5262_cf_tracking_thunderbird_93" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_93-dirty">
  <select id="cf_status_thunderbird_93" name="cf_status_thunderbird_93">
        <option value="---"
          id="v5256_cf_status_thunderbird_93" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird94</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_94-dirty">
  <select id="cf_tracking_thunderbird_94" name="cf_tracking_thunderbird_94">
        <option value="---"
          id="v5300_cf_tracking_thunderbird_94" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_94-dirty">
  <select id="cf_status_thunderbird_94" name="cf_status_thunderbird_94">
        <option value="---"
          id="v5304_cf_status_thunderbird_94" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird95</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_95-dirty">
  <select id="cf_tracking_thunderbird_95" name="cf_tracking_thunderbird_95">
        <option value="---"
          id="v5332_cf_tracking_thunderbird_95" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_95-dirty">
  <select id="cf_status_thunderbird_95" name="cf_status_thunderbird_95">
        <option value="---"
          id="v5326_cf_status_thunderbird_95" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>

</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: bperry.volatile, Assigned: MakeMyDay)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_491185" ><img src="https://secure.gravatar.com/avatar/de6cd318dc60a8e218ea6095d18286c2?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=491185" > <span class="fna">MakeMyDay</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_572093" ><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=572093" > <span class="fna">bperry.volatile</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-triage_owner" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-triage_owner">
            ---

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>


  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="15">15 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
          <h3 class="module-subtitle" id="module-references-subtitle">
            (Depends on 1 open bug)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug-list" id="field-dependson"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-dependson">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="task"
              aria-label="task" data-type="task">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_NEW"
   title="NEW - Update libical version"
   href="/show_bug.cgi?id=1160990">1160990</a>
      </div>

        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-blocked" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-blocked">
        ---
        </span>
    </div>

  
</div><div class="field" id="field-dependencytree"
>
    <div class="name">
    </div>


  
    <div class=" container">
        <span id="field-value-dependencytree">
        Dependency <a href="/showdependencytree.cgi?id=1275400&amp;hide_resolved=1">tree</a>
        / <a href="/showdependencygraph.cgi?id=1275400">graph</a>
        </span>
    </div>

  
</div>

    <div class="field bug-list edit-show" id="field-regresses" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-regressed_by" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_file_loc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="" target="_blank"
      rel="noreferrer" title=""
      class="bug-url" data-safe="0"></a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-see_also"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-see_also">
            <div class="link">
      <a href="https://github.com/libical/libical/issues/235" title="https://github.com/libical/libical/issues/235">github.com/libical/libical/issues/235</a>
    </div>

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Keywords: sec-low)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-alias">
            CVE-2016-5824

        </span>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=sec-low&amp;resolution=---">sec-low</a>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status_whiteboard" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-status_whiteboard">---
        </span>
    </div>

  
</div>

    

    

    <div class="field" id="field-votes"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-votes">0
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-bug_flags"
>
    <div class="name">Bug Flags:
    </div>


  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_280903" ><a class="email " href="/user_profile?user_id=280903" > <span class="fna">abillings</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a3611614_280903"
            class="rel-time-title activity-ref"
            title="6 years ago"
        data-time="1464151957"
      >sec-bounty</a>
    </td>

    <td class="flag-value">-
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_280903" ><a class="email " href="/user_profile?user_id=280903" > <span class="fna">abillings</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag-1399738">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1399738-dirty">
      <select id="flag-1399738" name="flag-1399738"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
            <option value="-" selected>-</option>
      </select>
    </td>


  </tr>
          </tbody>
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_578488" ><a class="email " href="/user_profile?user_id=578488" > <span class="fna">tjr</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a126220549_578488"
            class="rel-time-title activity-ref"
            title="1 year ago"
        data-time="1590370801"
      >sec-bounty-hof</a>
    </td>

    <td class="flag-value">-
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_578488" ><a class="email " href="/user_profile?user_id=578488" > <span class="fna">tjr</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag-1975103">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-1975103-dirty">
      <select id="flag-1975103" name="flag-1975103"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
            <option value="-" selected>-</option>
      </select>
    </td>


  </tr>
          </tbody>
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Bugs that block the 1.0 Sunbird/Lightning releases" for="flag_type-461">blocking-calendar1.0</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-461-dirty">
      <select id="flag_type-461" name="flag_type-461"
        title="Bugs that block the 1.0 Sunbird/Lightning releases"
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Bugs that are wanted for the 1.0 Sunbird/Lightning releases" for="flag_type-462">wanted-calendar1.0</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-462-dirty">
      <select id="flag_type-462" name="flag_type-462"
        title="Bugs that are wanted for the 1.0 Sunbird/Lightning releases"
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="This flag to be used to indicate which issues need to be fixed in Calendar before Lightning can be integrated into Thunderbird trunk. Anyone can nominate with approvals done by Thunderbird drivers." for="flag_type-443">tb-integration</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-443-dirty">
      <select id="flag_type-443" name="flag_type-443"
        title="This flag to be used to indicate which issues need to be fixed in Calendar before Lightning can be integrated into Thunderbird trunk. Anyone can nominate with approvals done by Thunderbird drivers."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in-qa-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-37">in-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-37-dirty">
      <select id="flag_type-37" name="flag_type-37"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Signature:
    </div>


  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (3 files, 3 obsolete files)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8756033">Handful of use-after-free crashes in libical</a>
        </div>
        <div>
            <a href="#c0" class="attach-time activity-ref"><span class="rel-time" title="2016-05-24 21:24 PDT" data-time="1464150252">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_572093" ><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div></span>
        </div>
        <div class="attach-info">14.84 KB,
          application/zip        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8756033&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8756639">Crashes focused on libical 0.47</a>
        </div>
        <div>
            <a href="#c4" class="attach-time activity-ref"><span class="rel-time" title="2016-05-25 17:12 PDT" data-time="1464221534">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_572093" ><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div></span>
        </div>
        <div class="attach-info">45.76 KB,
          application/zip        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8756639&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8756650">Use-after-free specific crashes and stack traces for libical 0.47</a>
        </div>
        <div>
            <a href="#c7" class="attach-time activity-ref"><span class="rel-time" title="2016-05-25 17:43 PDT" data-time="1464223430">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_572093" ><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div></span>
        </div>
        <div class="attach-info">16.90 KB,
          application/zip        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8756650&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=8757553">Testcase demonstrating use after free in libical commit af48b97b12f8d61bbaad3cd40d3a122a602a8648</a>
        </div>
        <div>
            <a href="#c12" class="attach-time activity-ref"><span class="rel-time" title="2016-05-27 18:02 PDT" data-time="1464397359">6 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_572093" ><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div></span>
        </div>
        <div class="attach-info">985 bytes,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=8757553&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=9009439">PortUseAfterFreeFixesForLibical-V1.diff</a>
        </div>
        <div>
            <a href="#c37" class="attach-time activity-ref"><span class="rel-time" title="2018-09-16 02:46 PDT" data-time="1537091212">3 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_491185" ><a class="email " href="/user_profile?user_id=491185" > <span class="fna">[:MakeMyDay]</span></a>
</div></span>
        </div>
        <div class="attach-info">5.37 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_253233" ><span class="fn">Fallen</span>
</div>:
              <a href="#c38"
                  class="flag-name-status rel-time-title activity-ref"
                  title="3 years ago"
              data-time="1537091212"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9009439&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=9009439&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1275400&attachment=9009439">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=9012583">PortUseAfterFreeFixesForLibical-V2.diff</a>
        </div>
        <div>
            <a href="#c40" class="attach-time activity-ref"><span class="rel-time" title="2018-09-27 06:39 PDT" data-time="1538055586">3 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_491185" ><a class="email " href="/user_profile?user_id=491185" > <span class="fna">[:MakeMyDay]</span></a>
</div></span>
        </div>
        <div class="attach-info">3.58 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_491185" ><span class="fn">MakeMyDay</span>
</div>:
              <a href="#c40"
                  class="flag-name-status rel-time-title activity-ref"
                  title="3 years ago"
              data-time="1538055586"
            >
              review+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_253233" ><span class="fn">Fallen</span>
</div>:
              <a href="#a82095042_253233"
                  class="flag-name-status rel-time-title activity-ref"
                  title="3 years ago"
              data-time="1538056031"
            >
              approval-calendar-esr+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9012583&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=9012583&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=1275400&attachment=9012583">Splinter Review</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
      <button type="button" id="attachments-obsolete-btn" class="secondary">Show Obsolete</button>
  </div>
  
</footer>
  </div>
</section>



<script nonce="Ps8PmmfOtDCmT0CMEjeU40iXBlQNNPCm6K8ZrdXQzgx55cfe">
  init_module_visibility();
</script>



<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;94.0b9&quot;,&quot;FIREFOX_ESR&quot;:&quot;78.15.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;91.2.0esr&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;95.0a1&quot;,&quot;FIREFOX_PINEBUILD&quot;:&quot;&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2021-10-04&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2021-10-05&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2021-09-30&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;94.0b9&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;93.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2021-11-01&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2021-11-02&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2021-10-28&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="11435067" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" ><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" ><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-24 21:24 PDT" data-time="1464150252">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8756033"
         class="attachment obsolete"
         data-id="8756033" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="crashes.zip">
      <meta itemprop="contentSize" content="15193">
      <meta itemprop="encodingFormat" content="application/zip">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8756033" itemprop="contentUrl">
        <span id="att-8756033-description" itemprop="description">Handful of use-after-free crashes in libical</span></a> (obsolete)
        — <a href="attachment.cgi?id=8756033&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-0" data-comment-id="11435067">User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36

Steps to reproduce:

Hello,

After fuzzing libical for a bit (tested against 1.0, 1.0.1 from <a rel="nofollow" href="http://www.citadel.org/doku.php/documentation:featured_projects:libical">http://www.citadel.org/doku.php/documentation:featured_projects:libical</a> and from libical git master), I have a small handful of use-after-free crashes, but are likely the same root cause. These might fall under the bug bounty, they might not. Thunderbird does use libical for parsing, however. Let me know if this is an improper place to submit this bug report.

<a rel="nofollow" href="http://mxr.mozilla.org/comm-central/search?string=icalcomponent_as_ical_string&amp;find=%2F&amp;findi=&amp;filter=%5E%5B%5E%5C0%5D*%24&amp;hitlimit=&amp;tree=comm-central">http://mxr.mozilla.org/comm-central/search?string=icalcomponent_as_ical_string&amp;find=%2F&amp;findi=&amp;filter=%5E%5B%5E%5C0%5D*%24&amp;hitlimit=&amp;tree=comm-central</a>

With any of the above mentioned versions, you can go from the root of the project, and make a directory called 'build', then cd to this directory and run cmake to compile with ASan.

cmake -DCMAKE_CXX_FLAGS=&quot;-fsanitize=address -fno-omit-frame-pointer&quot; -DCMAKE_EXE_LINKER_FLAGS=&quot;-fsanitize=address&quot; -DCMAKE_CXX_COMPILER=&quot;clang++&quot; ..

After compiling, while still in the build directory, the src/test/parser binary should be usable to reproduce my results. Simply pass the file to parse as an argument to the file.

I submitted a brief issue on github for the libical project (<a rel="nofollow" href="https://github.com/libical/libical/issues/235">https://github.com/libical/libical/issues/235</a>), looking for a secure way to get these files to the devs, but have gotten no response back.


Actual results:

Below is one of the stack traces from ASan. As you can see, the crash is the library for libical.

==2461==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ee95 at pc 0x7f89bc50d649 bp 0x7fffb8f9f920 sp 0x7fffb8f9f098
READ of size 1 at 0x60200000ee95 thread T0
    #0 0x7f89bc50d648  (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x60648)
    #1 0x7f89bc50e5a5 in __interceptor_vsnprintf (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x615a5)
    #2 0x7f89bc50e811 in snprintf (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x61811)
    #3 0x7f89bc280b30 in icalreqstattype_as_string_r (/root/libical_asan/build/lib/libical.so.2+0x4fb30)
    #4 0x7f89bc28347b in icalvalue_as_ical_string_r (/root/libical_asan/build/lib/libical.so.2+0x5247b)
    #5 0x7f89bc27208c in icalproperty_as_ical_string_r (/root/libical_asan/build/lib/libical.so.2+0x4108c)
    #6 0x7f89bc268132 in icalcomponent_as_ical_string_r (/root/libical_asan/build/lib/libical.so.2+0x37132)
    #7 0x7f89bc267fd1 in icalcomponent_as_ical_string (/root/libical_asan/build/lib/libical.so.2+0x36fd1)
    #8 0x400cd4 in main (/root/libical_asan/build/src/test/parser+0x400cd4)
    #9 0x7f89bbe87a3f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x20a3f)
    #10 0x400ae8 in _start (/root/libical_asan/build/src/test/parser+0x400ae8)

0x60200000ee95 is located 5 bytes inside of 6-byte region [0x60200000ee90,0x60200000ee96)
freed by thread T0 here:
    #0 0x7f89bc5456aa in __interceptor_free (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x986aa)
    #1 0x7f89bc26d667 in icalmemory_free_buffer (/root/libical_asan/build/lib/libical.so.2+0x3c667)
    #2 0x7f89bc2710d7 in icalparser_add_line (/root/libical_asan/build/lib/libical.so.2+0x400d7)
    #3 0x400cbd in main (/root/libical_asan/build/src/test/parser+0x400cbd)
    #4 0x7f89bbe87a3f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x20a3f)

previously allocated by thread T0 here:
    #0 0x7f89bc5459aa in malloc (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x989aa)
    #1 0x7f89bc26d5d3 in icalmemory_new_buffer (/root/libical_asan/build/lib/libical.so.2+0x3c5d3)
    #2 0x7f89bc26f44c in make_segment (/root/libical_asan/build/lib/libical.so.2+0x3e44c)
    #3 0x7f89bc26f82d in icalparser_get_value (/root/libical_asan/build/lib/libical.so.2+0x3e82d)
    #4 0x7f89bc270eb6 in icalparser_add_line (/root/libical_asan/build/lib/libical.so.2+0x3feb6)
    #5 0x400cbd in main (/root/libical_asan/build/src/test/parser+0x400cbd)
    #6 0x7f89bbe87a3f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x20a3f)

SUMMARY: AddressSanitizer: heap-use-after-free ??:0 ??
Shadow bytes around the buggy address:
  0x0c047fff9d80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c047fff9d90: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c047fff9da0: fa fa fa fa fa fa fa fa fa fa fd fd fa fa fd fd
  0x0c047fff9db0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  0x0c047fff9dc0: fa fa fd fa fa fa fd fd fa fa fd fa fa fa fd fd
=&gt;0x0c047fff9dd0: fa fa[fd]fa fa fa fd fd fa fa fd fd fa fa fd fd
  0x0c047fff9de0: fa fa fd fa fa fa 00 07 fa fa fd fd fa fa 04 fa
  0x0c047fff9df0: fa fa fd fa fa fa fd fa fa fa fd fd fa fa fd fa
  0x0c047fff9e00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c047fff9e10: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c047fff9e20: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Heap right redzone:      fb
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack partial redzone:   f4
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
==2461==ABORTING



Expected results:

Not crash.

Let me know if the stack traces are insufficient for reproduction.</pre></div><div class="change-set" id="a1705_280903"><div class="change" id="aa1705_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a1705_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a1705_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1705_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a1705_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-24 21:52 PDT" data-time="1464151957">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-bounty?</div></div></div><div class="change-set" id="c1"><div class="comment" data-id="11437726" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-1" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a1705_280903"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-25 09:04 PDT" data-time="1464192295">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-1" data-comment-id="11437726">Philipp: do you have contacts with the libical team, or do we just grab their source. We'll need to figure out if these could be triggered in Thunderbird/Lightning, but even if they can't we need to let the libical maintainers know about them.

If you don't have contacts let the security team know and we'll reach out through our more general OSS security contacts.</pre><div class="activity"><div class="change">Component: Untriaged &rarr; General</div><div class="change">Flags: needinfo?(philipp)</div><div class="change">Product: Thunderbird &rarr; Calendar</div></div></div><div class="change-set" id="c2"><div class="comment" data-id="11439331" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-2" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_253233" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/834e6840be1a79998020e3004c902ac7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_253233" id="a1705_280903"><a class="email " href="/user_profile?user_id=253233" > <span class="fna">Philipp Kewisch [:Fallen] [:📆][:🧩]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-25 17:02 PDT" data-time="1464220934">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-2" data-comment-id="11439331">Lightning uses an older version of libical actually, I believe it is a derivative of 0.47. We are somewhat aware that there are issues with this older version, but as we are aiming to get rid of it we haven't taken action.

I've been in contact with Allen Winter before, although it has been a while. Per github his email is <a href="mailto:allen.winter&#64;kdab.com">allen.winter&#64;kdab.com</a>. I have better contact to Ken Murchison, while he does not belong to the github org around libical, he is the #2 contributor for the project.

Let me know if you want me to introduce you to Ken or Allen, or if you want me to convey something.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(philipp)</span></div></div></div><div class="change-set" id="c3"><div class="comment" data-id="11439366" data-no="3"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-3" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a1705_280903"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-3"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-3" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-25 17:11 PDT" data-time="1464221508">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-3" data-comment-id="11439366">Using my crashes against libical 0.47 yields even more results actually. They are attached.

id:000030,sig:11,sync:fuzzer6,src:000826.asan:==19555==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ee93 at pc 0x7f59a7f57649 bp 0x7ffd54ad5be0 sp 0x7ffd54ad5358
id:000034,sig:06,sync:fuzzer6,src:001091.asan:==22222==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ee75 at pc 0x7ff8859b1649 bp 0x7ffe54e12520 sp 0x7ffe54e11c98
id:000083,sig:11,src:000192+002306,op:splice,rep:8.asan:==14873==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x602000010390 in thread T0
id:000090,sig:11,src:000009+001525,op:splice,rep:128.asan:==18374==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x602000002cb0 in thread T0
id:000140,sig:11,src:000088+001265,op:splice,rep:16.asan:==18887==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x60200002c310 in thread T0
id:000161,sig:11,src:000653+002322,op:splice,rep:64.asan:==32030==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x60200002c610 in thread T0
id:000186,sig:11,src:000841+001496,op:splice,rep:128.asan:==16908==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x602000003670 in thread T0
id:000195,sig:11,src:001658+001377,op:splice,rep:8.asan:==26452==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x602000010f50 in thread T0
id:000196,sig:11,src:001563+001383,op:splice,rep:64.asan:==27121==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x60200000f910 in thread T0
id:000200,sig:11,src:000541+002389,op:splice,rep:8.asan:==30280==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x60200000fd90 in thread T0
id:000238,sig:11,src:000865+001517,op:splice,rep:128.asan:==26032==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x6020000231f0 in thread T0
id:000630,orig:dd74deb4-170c-11e6-8f22-07ec6c8ef5ef.min.radamsa.92.min.min.asan==22805==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ef53 at pc 0x7fc548eb8649 bp 0x7fff97022d40 sp 0x7fff970224b8
id:000946,orig:id:001204,sync:fuzzer1,src:000584.min.asan:==23055==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ef53 at pc 0x7fc37f1a7649 bp 0x7ffd125935d0 sp 0x7ffd12592d48
id:001201,sync:fuzzer1,src:000157.asan:==23380==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000e8f5 at pc 0x7fe91e5b4649 bp 0x7fff3f284e70 sp 0x7fff3f2845e8
id:001436,src:000014+001065,op:splice,rep:2.asan:==23710==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ef35 at pc 0x7fdba5345649 bp 0x7ffecbefce10 sp 0x7ffecbefc588
id:001497,src:000600+001051,op:splice,rep:2.asan:==23956==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ee94 at pc 0x7f2ef10dc649 bp 0x7ffe2493a9f0 sp 0x7ffe2493a168
id:001637,src:001342+000602,op:splice,rep:8.asan:==24262==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000eef5 at pc 0x7f199bc6a649 bp 0x7ffdb7ddca20 sp 0x7ffdb7ddc198
id:001639,src:001342+000602,op:splice,rep:2.asan:==24644==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ee95 at pc 0x7f0536faa649 bp 0x7ffeb0aba500 sp 0x7ffeb0ab9c78
id:001694,src:000630+001636,op:splice,rep:8.asan:==24893==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ef53 at pc 0x7f7bd79b0649 bp 0x7fff1eb4c6f0 sp 0x7fff1eb4be68</pre></div><div class="change-set" id="c4"><div class="comment" data-id="11439368" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-4" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a1705_280903"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-25 17:12 PDT" data-time="1464221534">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8756639"
         class="attachment obsolete"
         data-id="8756639" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="crashes.zip">
      <meta itemprop="contentSize" content="46856">
      <meta itemprop="encodingFormat" content="application/zip">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8756639" itemprop="contentUrl">
        <span id="att-8756639-description" itemprop="description">Crashes focused on libical 0.47</span></a> (obsolete)
        — <a href="attachment.cgi?id=8756639&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="c5"><div class="comment" data-id="11439419" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-5" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_280903" id="a1705_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-25 17:37 PDT" data-time="1464223030">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-5" data-comment-id="11439419">If you find different crashes with different causes, you will need to open up a bug for each. They cannot all go into the same bug as it muddies up fixing things then because some may get fixed and the others lost.</pre></div><div class="change-set" id="c6"><div class="comment" data-id="11439429" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-6" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a1705_280903"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-25 17:43 PDT" data-time="1464223380">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-6" data-comment-id="11439429">Yes, sorry about that. Since this was originally opened with use-after-free in the title, I will keep those here and open a new bug report with the other crashes.</pre></div><div class="change-set" id="c7"><div class="comment" data-id="11439431" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-7" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a1705_280903"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-25 17:43 PDT" data-time="1464223430">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8756650"
         class="attachment"
         data-id="8756650" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="crashes.zip">
      <meta itemprop="contentSize" content="17304">
      <meta itemprop="encodingFormat" content="application/zip">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8756650" itemprop="contentUrl">
        <span id="att-8756650-description" itemprop="description">Use-after-free specific crashes and stack traces for libical 0.47</span></a>
        — <a href="attachment.cgi?id=8756650&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=8756033&amp;action=edit"
           title="Handful of use-after-free crashes in libical"
           class=""
        >Attachment #8756033</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=8756639&amp;action=edit"
           title="Crashes focused on libical 0.47"
           class=""
        >Attachment #8756639</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c8"><div class="comment" data-id="11439434" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-8" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_280903" id="a1705_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-25 17:44 PDT" data-time="1464223481">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-8" data-comment-id="11439434">Each use-after-free, if they are a different crash and a different cause, should be in its own bug.</pre></div><div class="change-set" id="c9"><div class="comment" data-id="11439442" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-9" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a1705_280903"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-25 17:48 PDT" data-time="1464223709">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-9" data-comment-id="11439442">I believe they are the same bug, just with different paths being used to reach it.</pre></div><div class="change-set" id="c10"><div class="comment" data-id="11445561" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-10" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_486634" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/a2837b951fa7dc639a2568203478ff0a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_486634" id="a1705_280903"><a class="email " href="/user_profile?user_id=486634" > <span class="fna">Tyson Smith [:tsmith] (PTO)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-27 14:45 PDT" data-time="1464385514">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-10" data-comment-id="11445561">Hi Brandon,

Thanks for the bug report. I am unable to reproduce the crash using commit af48b97b12f8d61bbaad3cd40d3a122a602a8648.

Did you happen to make local changes to the source before fuzzing? Also can you please up date to the latest commit and attach a single test case that will reproduce the crash as well as a matching ASan log with line numbers?</pre></div><div class="change-set" id="c11"><div class="comment" data-id="11445868" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-11" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a1705_280903"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-27 18:01 PDT" data-time="1464397270">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-11" data-comment-id="11445868">I've made no source changes. I tested against 0.47, 1.0, and master from 5 days ago (<a rel="nofollow" href="https://github.com/libical/libical/issues/235">https://github.com/libical/libical/issues/235</a>). The commit you are testing is from 3 days ago.

However, with the latest commit, I am able to still repro the issue with the testcase I will attach soon.

# git log | head
commit af48b97b12f8d61bbaad3cd40d3a122a602a8648
Author: Allen Winter &lt;<a href="mailto:allen.winter&#64;kdab.com">allen.winter&#64;kdab.com</a>&gt;
Date:   Tue May 24 10:14:54 2016 -0400

    CMakeLists.txt - remove -Wpedantic




The errors persist after remaking the master branch:

# grep &quot;ERROR: Add&quot; *.asan 
id:000030,sig:11,sync:fuzzer6,src:000826.asan:==11557==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ee93 at pc 0x7fdfb3f36649 bp 0x7ffc80615310 sp 0x7ffc80614a88
id:000630,orig:dd74deb4-170c-11e6-8f22-07ec6c8ef5ef.min.radamsa.92.min.min.asan:==23122==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ef53 at pc 0x7f30bfdc7649 bp 0x7ffdcda056f0 sp 0x7ffdcda04e68
id:000946,orig:id:001204,sync:fuzzer1,src:000584.min.asan:==23469==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ef53 at pc 0x7f5e59bc9649 bp 0x7ffc3b9ebb20 sp 0x7ffc3b9eb298
id:001201,sync:fuzzer1,src:000157.asan:==23857==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000e8f5 at pc 0x7f4a401f4649 bp 0x7ffe96c97170 sp 0x7ffe96c968e8
id:001436,src:000014+001065,op:splice,rep:2.asan:==24289==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ef35 at pc 0x7f5cb0d43649 bp 0x7ffc44f15440 sp 0x7ffc44f14bb8
id:001497,src:000600+001051,op:splice,rep:2.asan:==24691==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000eeb4 at pc 0x7f9404ced649 bp 0x7ffe055e13c0 sp 0x7ffe055e0b38
id:001637,src:001342+000602,op:splice,rep:8.asan:==25111==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000eef5 at pc 0x7f64745cb649 bp 0x7ffd8f31d330 sp 0x7ffd8f31caa8
id:001639,src:001342+000602,op:splice,rep:2.asan:==25508==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ee95 at pc 0x7f5a40bb2649 bp 0x7ffc374cb6b0 sp 0x7ffc374cae28
id:001694,src:000630+001636,op:splice,rep:8.asan:==25881==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ef53 at pc 0x7ff127fdf649 bp 0x7ffd2726a880 sp 0x7ffd27269ff8


Example:
# cat id\:000030\,sig\:11\,sync\:fuzzer6\,src\:000826
BEGIN:VCAR
0:
X;0: 0000
REQUEST-STATUS:2;;
REQUEST-STATUS:2;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2;;
REQUEST-STATUS:10;
REQUEST-STATUS:2;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2;;
REQUEST-STATUS:2.-10
REQUEST-STATUS:2;;
REQUEST-STATUS:00;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:20
0000;
REQUEST-STATUS:0090
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.0;;
0000:0
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.2147483649;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.0;;
REQUEST-STATUS:2.0000
PRODID:00000\,000000000000000000000000000
00000000000000000000000000000000000000000000000000
000000000000:0000
SUMMARY:0
00000:0000
000:00
END:0000

BEGIN:000000000
0:00
root&#64;w00den-fuzzer:~/syncdir/new_crashes# ~/libical_asan/build/src/test/parser ./id:000030,sig:11,sync:fuzzer6,src:000826 
=================================================================
==24960==ERROR: AddressSanitizer: heap-use-after-free on address 0x60200000ee93 at pc 0x7f064bc15649 bp 0x7fffb740e2e0 sp 0x7fffb740da58
READ of size 2 at 0x60200000ee93 thread T0
    #0 0x7f064bc15648  (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x60648)
    #1 0x7f064bc165a5 in __interceptor_vsnprintf (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x615a5)
    #2 0x7f064bc16811 in snprintf (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x61811)
    #3 0x7f064b988b72 in icalreqstattype_as_string_r (/root/libical_asan/build/lib/libical.so.2+0x4fb72)
    #4 0x7f064b98b4bd in icalvalue_as_ical_string_r (/root/libical_asan/build/lib/libical.so.2+0x524bd)
    #5 0x7f064b97a08c in icalproperty_as_ical_string_r (/root/libical_asan/build/lib/libical.so.2+0x4108c)
    #6 0x7f064b970132 in icalcomponent_as_ical_string_r (/root/libical_asan/build/lib/libical.so.2+0x37132)
    #7 0x7f064b96ffd1 in icalcomponent_as_ical_string (/root/libical_asan/build/lib/libical.so.2+0x36fd1)
    #8 0x400cd4 in main (/root/libical_asan/build/src/test/parser+0x400cd4)
    #9 0x7f064b58fa3f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x20a3f)
    #10 0x400ae8 in _start (/root/libical_asan/build/src/test/parser+0x400ae8)

0x60200000ee94 is located 0 bytes to the right of 4-byte region [0x60200000ee90,0x60200000ee94)
freed by thread T0 here:
    #0 0x7f064bc4d6aa in __interceptor_free (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x986aa)
    #1 0x7f064b975667 in icalmemory_free_buffer (/root/libical_asan/build/lib/libical.so.2+0x3c667)
    #2 0x7f064b9790d7 in icalparser_add_line (/root/libical_asan/build/lib/libical.so.2+0x400d7)
    #3 0x400cbd in main (/root/libical_asan/build/src/test/parser+0x400cbd)
    #4 0x7f064b58fa3f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x20a3f)

previously allocated by thread T0 here:
    #0 0x7f064bc4d9aa in malloc (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x989aa)
    #1 0x7f064b9755d3 in icalmemory_new_buffer (/root/libical_asan/build/lib/libical.so.2+0x3c5d3)
    #2 0x7f064b97744c in make_segment (/root/libical_asan/build/lib/libical.so.2+0x3e44c)
    #3 0x7f064b97782d in icalparser_get_value (/root/libical_asan/build/lib/libical.so.2+0x3e82d)
    #4 0x7f064b978eb6 in icalparser_add_line (/root/libical_asan/build/lib/libical.so.2+0x3feb6)
    #5 0x400cbd in main (/root/libical_asan/build/src/test/parser+0x400cbd)
    #6 0x7f064b58fa3f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x20a3f)

SUMMARY: AddressSanitizer: heap-use-after-free ??:0 ??
Shadow bytes around the buggy address:
  0x0c047fff9d80: fa fa fd fa fa fa fd fd fa fa fd fa fa fa fd fd
  0x0c047fff9d90: fa fa fd fa fa fa fd fd fa fa fd fa fa fa fd fd
  0x0c047fff9da0: fa fa fd fa fa fa fd fd fa fa fd fa fa fa fd fd
  0x0c047fff9db0: fa fa fd fa fa fa fd fd fa fa fd fa fa fa fd fd
  0x0c047fff9dc0: fa fa fd fa fa fa fd fd fa fa fd fa fa fa fd fd
=&gt;0x0c047fff9dd0: fa fa[fd]fa fa fa fd fd fa fa 05 fa fa fa fd fa
  0x0c047fff9de0: fa fa fd fa fa fa 02 fa fa fa 02 fa fa fa fd fa
  0x0c047fff9df0: fa fa 04 fa fa fa fd fa fa fa fd fa fa fa fd fa
  0x0c047fff9e00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c047fff9e10: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c047fff9e20: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Heap right redzone:      fb
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack partial redzone:   f4
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
==24960==ABORTING</pre></div><div class="change-set" id="c12"><div class="comment" data-id="11445871" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-12" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a1705_280903"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-27 18:02 PDT" data-time="1464397359">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-8757553"
         class="attachment"
         data-id="8757553" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="testcase">
      <meta itemprop="contentSize" content="985">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=8757553" itemprop="contentUrl">
        <span id="att-8757553-description" itemprop="description">Testcase demonstrating use after free in libical commit af48b97b12f8d61bbaad3cd40d3a122a602a8648</span></a>
        — <a href="attachment.cgi?id=8757553&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="c13"><div class="comment" data-id="11445906" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-13" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_486634" id="a1705_280903"><img src="https://secure.gravatar.com/avatar/a2837b951fa7dc639a2568203478ff0a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_486634" id="a1705_280903"><a class="email " href="/user_profile?user_id=486634" > <span class="fna">Tyson Smith [:tsmith] (PTO)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-27 18:32 PDT" data-time="1464399142">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-13" data-comment-id="11445906">Hmm still no luck on my side. I'm not saying there isn't bug, only that I can't confirm it. You may need to contact Ken or Allen as suggested by Philipp (see <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Handful use-after-free crashes in libical (used in Thunderbird)"
   href="/show_bug.cgi?id=1275400#c2">comment 2</a>) if you are not already in contact with them.

I did notice that the default build is not a static build. Perhaps you are using an old version of the lib from some where else on your system? Shot in the dark here, but hey I've done it before. First clear out build directly completely then try:

cmake -DCMAKE_CXX_FLAGS=&quot;-fsanitize=address -fno-omit-frame-pointer&quot; -DCMAKE_EXE_LINKER_FLAGS=&quot;-fsanitize=address&quot; -DSTATIC_ONLY=true -DCMAKE_CXX_COMPILER=&quot;clang++&quot; ..

The only addition I've made is -DSTATIC_ONLY=true so we get a static build and we know the code we are testing is in that binary. If you can still reproduce the issue after that I'll have to leave it up to the devs to investigate.</pre></div><div class="change-set" id="a249173_486634"><div class="change" id="aa249173_486634">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_486634" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/a2837b951fa7dc639a2568203478ff0a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_486634" id="a249173_486634"><a class="email " href="/user_profile?user_id=486634" > <span class="fna">Tyson Smith [:tsmith] (PTO)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a249173_486634"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a249173_486634">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a249173_486634">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-27 18:37 PDT" data-time="1464399425">6 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_NEW"
   title="NEW - Update libical version"
   href="/show_bug.cgi?id=1160990">1160990</a></div></div></div><div class="change-set" id="c14"><div class="comment" data-id="11445920" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-14" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a249173_486634"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-27 18:41 PDT" data-time="1464399675">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-14" data-comment-id="11445920">In the linked secret github gist, the entire process of rm'ing the build, rebuilding, then running the input to produce the use-after-free has been documented against the latest git commit.

<a rel="nofollow" href="https://gist.github.com/brandonprry/9208ebd0bd4b79a6b2e98c92c8994f0a">https://gist.github.com/brandonprry/9208ebd0bd4b79a6b2e98c92c8994f0a</a>

The issue still persists. If you don't believe that Thunderbird is vulnerable to this, that's OK. I knew going in what I was testing wasn't exactly what shipped with Thunderbird, but I didn't know what version it used (until just recently when 0.47 was mentioned). It's difficult to test against exactly what Thunderbird has, but if you have any suggestions, I will try them.</pre></div><div class="change-set" id="c15"><div class="comment" data-id="11445952" data-no="15"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-15" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_486634" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/a2837b951fa7dc639a2568203478ff0a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_486634" id="a249173_486634"><a class="email " href="/user_profile?user_id=486634" > <span class="fna">Tyson Smith [:tsmith] (PTO)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-15"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-15" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-27 19:10 PDT" data-time="1464401422">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-15" data-comment-id="11445952">Ha got it! Compiler versions :) Thanks for the gist looking at the diff helped.

FWIW: I am was using clang 3.7.1 now I'm using clang 3.8.0.</pre></div><div class="change-set" id="c16"><div class="comment" data-id="11446075" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-16" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_253233" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/834e6840be1a79998020e3004c902ac7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_253233" id="a249173_486634"><a class="email " href="/user_profile?user_id=253233" > <span class="fna">Philipp Kewisch [:Fallen] [:📆][:🧩]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-28 00:39 PDT" data-time="1464421178">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-16" data-comment-id="11446075">Please also note that the version of libical that Lightning uses has some patches on top of 0.47, so there may be slight differences to the release version and maybe the one or other case less than in the github release.</pre></div><div class="change-set" id="c17"><div class="comment" data-id="11446315" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-17" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a249173_486634"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-28 09:05 PDT" data-time="1464451523">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-17" data-comment-id="11446315">I was able to copy the libical source code from the Lightning source tree into my libical 0.47 source tree, replacing any files that were changed with the Lightning copy. I was still able to reproduce the use after free.</pre></div><div class="change-set" id="c18"><div class="comment" data-id="11446710" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-18" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_253233" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/834e6840be1a79998020e3004c902ac7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_253233" id="a249173_486634"><a class="email " href="/user_profile?user_id=253233" > <span class="fna">Philipp Kewisch [:Fallen] [:📆][:🧩]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-05-29 07:20 PDT" data-time="1464531659">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-18" data-comment-id="11446710">Great, thanks for checking!</pre></div><div class="change-set" id="c19"><div class="comment" data-id="11458755" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-19" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a249173_486634"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-02 09:51 PDT" data-time="1464886294">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-19" data-comment-id="11458755">Any updates to this? Tyson, were you able to repro the issue with the Thunderbird source code for libical?

Thanks</pre></div><div class="change-set" id="c20"><div class="comment" data-id="11458988" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-20" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_280903" id="a249173_486634"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-02 10:54 PDT" data-time="1464890063">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-20" data-comment-id="11458988">Can you look at this, Philipp?</pre><div class="activity"><div class="change">Flags: needinfo?(philipp)</div></div></div><div class="change-set" id="c21"><div class="comment" data-id="11459265" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-21" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_253233" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/834e6840be1a79998020e3004c902ac7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_253233" id="a249173_486634"><a class="email " href="/user_profile?user_id=253233" > <span class="fna">Philipp Kewisch [:Fallen] [:📆][:🧩]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-02 12:27 PDT" data-time="1464895665">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-21" data-comment-id="11459265">Yes, I'll take a look at these on the weekend. Leaving needinfo so I don't forget.</pre></div><div class="change-set" id="c22"><div class="comment" data-id="11459291" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-22" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_253233" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/834e6840be1a79998020e3004c902ac7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_253233" id="a249173_486634"><a class="email " href="/user_profile?user_id=253233" > <span class="fna">Philipp Kewisch [:Fallen] [:📆][:🧩]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-02 12:34 PDT" data-time="1464896053">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-22" data-comment-id="11459291">Putting Ken and Allen on CC for the record. tl;dr; these issues also apply to the latest libical on github. If you also have time to take a look I would certainly appreciate, of course I'd take care of the backport myself.</pre></div><div class="change-set" id="c23"><div class="comment" data-id="11466462" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-23" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a249173_486634"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-06 09:52 PDT" data-time="1465231946">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-23" data-comment-id="11466462">Hi, were we able to confirm these affect Lightning/Thunderbird?</pre></div><div class="change-set" id="c24"><div class="comment" data-id="11476736" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-24" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a249173_486634"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-09 12:59 PDT" data-time="1465502386">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-24" data-comment-id="11476736">If there is any other information required to determine whether this affects Lightning/Thunderbird, please ask. In the original bug report, I provided the source code I believed to be vulnerable in Thunderbird.

<a rel="nofollow" href="http://mxr.mozilla.org/comm-central/search?string=icalcomponent_as_ical_string&amp;find=%2F&amp;findi=&amp;filter=%5E%5B%5E%5C0%5D*%24&amp;hitlimit=&amp;tree=comm-central">http://mxr.mozilla.org/comm-central/search?string=icalcomponent_as_ical_string&amp;find=%2F&amp;findi=&amp;filter=%5E%5B%5E%5C0%5D*%24&amp;hitlimit=&amp;tree=comm-central</a></pre></div><div class="change-set" id="c25"><div class="comment" data-id="11476762" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-25" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_253233" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/834e6840be1a79998020e3004c902ac7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_253233" id="a249173_486634"><a class="email " href="/user_profile?user_id=253233" > <span class="fna">Philipp Kewisch [:Fallen] [:📆][:🧩]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-09 13:10 PDT" data-time="1465503027">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-25" data-comment-id="11476762">Unfortunately I didn't get around this due to day job. There is a work week next week so things will probably be slow, but this is on my todo list.</pre></div><div class="change-set" id="c26"><div class="comment" data-id="11476790" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-26" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a249173_486634"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-09 13:23 PDT" data-time="1465503829">6 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-26" data-comment-id="11476790">Ok no worries. Thanks for the update. I am currently traveling for work through next week. I will swing back when I get back home.</pre></div><div class="change-set" id="c27"><div class="comment" data-id="11485551" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-27" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a249173_486634"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-15 19:40 PDT" data-time="1466044816">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-27" data-comment-id="11485551">I am back from traveling. Please let me know if there is anything I can do to help speed this up a bit.</pre></div><div class="change-set" id="c28"><div class="comment" data-id="11489130" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-28" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a249173_486634"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-19 13:20 PDT" data-time="1466367612">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-28" data-comment-id="11489130">In an effort to provide more information, I have spent the day attempting to build Thunderbird + calendar with ASan to prove the code path I linked is viable, but I am unable to build thunderbird + calendar with ASan.

Building without ASan builds as expected but I don't get clear crashes. The line below will build Thunderbird + calendar successfully.

export CC=clang CXX=clang++ CFLAGS=&quot;&quot; CXXFLAGS=&quot;&quot; LDFLAGS=&quot;&quot;; make -f client.mk


This one fails to build, and I am not sure why at this point. 

export CC=clang CXX=clang++ CFLAGS=&quot;-fsanitize=address&quot; CXXFLAGS=&quot;&quot; LDFLAGS=&quot;-fsanitize=address&quot;; make -f client.mk</pre></div><div class="change-set" id="c29"><div class="comment" data-id="11489187" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-29" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a249173_486634"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-06-19 15:10 PDT" data-time="1466374257">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-29" data-comment-id="11489187">So, after having dug in to this a bit more, it looks like an attacker may not be able to directly control the ical data being used through the vector I have pointed out, but I am not 100%.

However, while going through the source code, I noticed the ical function used to parse untrusted ical data is actually icalparser_parse_string(), which I have actually fuzzed and have a few bugs in as well. I will open these separately this evening after triaging.</pre></div><div class="change-set" id="c30"><div class="comment" data-id="11521275" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-30" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_572093" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_572093" id="a249173_486634"><a class="email " href="/user_profile?user_id=572093" > <span class="fna">Brandon Perry</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-07-04 07:52 PDT" data-time="1467643938">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-30" data-comment-id="11521275">Since there is no traction on any of these bugs related to libical, I've gone ahead and just made my research into libical public. I won't be updating these bug reports anymore.

Feel free to do whatever you would like with the bug reports I have opened.

<a rel="nofollow" href="https://github.com/brandonprry/ical-fuzz">https://github.com/brandonprry/ical-fuzz</a></pre></div><div class="change-set" id="c31"><div class="comment" data-id="11525218" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-31" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a249173_486634"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_280903" id="a249173_486634"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-07-05 16:17 PDT" data-time="1467760665">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-31" data-comment-id="11525218">None of your bugs but one were shown to affect Thunderbird, which is what this is the bugzilla for (other than Firefox). Did you report these issues upstream to libical directly?</pre></div><div class="change-set" id="a3611614_280903"><div class="change" id="aa3611614_280903">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_280903" id="a3611614_280903"><img src="https://secure.gravatar.com/avatar/58211442c4cece862d7a7850637c4edc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_280903" id="a3611614_280903"><a class="email " href="/user_profile?user_id=280903" > <span class="fna">Al Billings [:abillings - ex-MoCo]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a3611614_280903"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a3611614_280903">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a3611614_280903">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-07-05 16:37 PDT" data-time="1467761866">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-bounty? &rarr; sec-bounty-</div></div></div><div class="change-set" id="a4368666_1689"><div class="change" id="aa4368666_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a4368666_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a4368666_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4368666_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4368666_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a4368666_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-07-14 10:55 PDT" data-time="1468518918">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: <span class="activity-deleted">mail-core-security</span></div></div></div><div class="change-set" id="c32"><div class="comment" data-id="11659321" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-32" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a4368666_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a4368666_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-08-26 10:51 PDT" data-time="1472233875">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-32" data-comment-id="11659321">Debian seems to have assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-5824">CVE-2016-5824</a> to this one
<a rel="nofollow" href="https://lists.debian.org/debian-lts/2016/08/msg00192.html">https://lists.debian.org/debian-lts/2016/08/msg00192.html</a></pre><div class="activity"><div class="change">Alias: CVE-2016-5824</div></div></div><div class="change-set" id="c33"><div class="comment" data-id="11705898" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-33" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_467045" id="a4368666_1689"><img src="https://secure.gravatar.com/avatar/bf3214b20a3101d50b889cc720691f9c?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_467045" id="a4368666_1689"><a class="email " href="/user_profile?user_id=467045" > <span class="fna">Dhiru Kholia</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-09-13 05:37 PDT" data-time="1473770250">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-33" data-comment-id="11705898">While importing the <a rel="nofollow" href="https://bugzilla.mozilla.org/attachment.cgi?id=8757553">https://bugzilla.mozilla.org/attachment.cgi?id=8757553</a> (attached to this bug) file from the &quot;Events and Tasks&quot; menu option in Thunderbird 45 running on Fedora 24 under Valgrind, I see,

==5430== Invalid read of size 1
==5430==    at 0x5B4AFB4: vfprintf (in /usr/lib64/libc-2.23.so)
==5430==    by 0x5C11505: __vsnprintf_chk (in /usr/lib64/libc-2.23.so)
==5430==    by 0x5C11467: __snprintf_chk (in /usr/lib64/libc-2.23.so)
==5430==    by 0x30410227: ??? (in /home/user/.thunderbird/cupk658m.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==5430==    by 0x30410E61: ??? (in /home/user/.thunderbird/cupk658m.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==5430==    by 0x3040B1D3: ??? (in /home/user/.thunderbird/cupk658m.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==5430==    by 0x30408285: ??? (in /home/user/.thunderbird/cupk658m.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==5430==    by 0x30408372: ??? (in /home/user/.thunderbird/cupk658m.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==5430==    by 0x30415ED7: ??? (in /home/user/.thunderbird/cupk658m.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==5430==    by 0x30415F45: ??? (in /home/user/.thunderbird/cupk658m.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==5430==    by 0x834FDB0: NS_InvokeByIndex (in /usr/lib64/thunderbird/libxul.so)
==5430==    by 0x8771493: ??? (in /usr/lib64/thunderbird/libxul.so)
==5430==  Address 0x2f2e84c3 is 3 bytes inside a block of size 4 free'd
==5430==    at 0x4C2CD5A: free (vg_replace_malloc.c:530)
==5430==    by 0x3040A19D: ??? (in /home/user/.thunderbird/cupk658m.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==5430==    by 0x3040A263: ??? (in /home/user/.thunderbird/cupk658m.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==5430==    by 0x3040A361: ??? (in /home/user/.thunderbird/cupk658m.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)

Extension &quot;{e2fda1a4-762b-4020-b5ad-a41df1933103}&quot; is Lightning. So upstream Thunderbird seems to be affected by this CVE.</pre></div><div class="change-set" id="a9714124_217783"><div class="change" id="aa9714124_217783">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_217783" id="a9714124_217783"><img src="https://secure.gravatar.com/avatar/42402ca7c0308e8785ebe1ee1aa30d07?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_217783" id="a9714124_217783"><a class="email " href="/user_profile?user_id=217783" > <span class="fna">Stefan Sitter [:ssitter]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a9714124_217783"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a9714124_217783">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a9714124_217783">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-09-14 07:46 PDT" data-time="1473864376">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Component: General &rarr; Internal Components</div></div></div><div class="change-set" id="c34"><div class="comment" data-id="11709632" data-no="34"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-34" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_467045" id="a9714124_217783"><img src="https://secure.gravatar.com/avatar/bf3214b20a3101d50b889cc720691f9c?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_467045" id="a9714124_217783"><a class="email " href="/user_profile?user_id=467045" > <span class="fna">Dhiru Kholia</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-09-14 07:55 PDT" data-time="1473864900">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-34" data-comment-id="11709632">Here is a better backtrace for the same action as above,

==20811== Invalid read of size 1
==20811==    at 0x5B4AFB4: vfprintf (in /usr/lib64/libc-2.23.so)
==20811==    by 0x5C11505: __vsnprintf_chk (in /usr/lib64/libc-2.23.so)
==20811==    by 0x5C11467: __snprintf_chk (in /usr/lib64/libc-2.23.so)
==20811==    by 0x30110227: UnknownInlinedFun (stdio2.h:64)
==20811==    by 0x30110227: icalreqstattype_as_string_r (icaltypes.c:198)
==20811==    by 0x30110E61: icalvalue_as_ical_string_r (icalvalue.c:1200)
==20811==    by 0x3010B1D3: icalproperty_as_ical_string_r (icalproperty.c:499)
==20811==    by 0x30108285: icalcomponent_as_ical_string_r (icalcomponent.c:351)
==20811==    by 0x30108372: icalcomponent_as_ical_string (icalcomponent.c:301)
==20811==    by 0x30115ED7: calIcalComponent::Serialize(char**) (calICSService.cpp:1033)
==20811==    by 0x30115F45: calIcalComponent::SerializeToICS(nsACString&amp;) (calICSService.cpp:981)
==20811==    by 0x8350076: NS_InvokeByIndex (xptcinvoke_x86_64_unix.cpp:176)
==20811==    by 0x8771895: Invoke (XPCWrappedNative.cpp:2097)
==20811==    by 0x8771895: Call (XPCWrappedNative.cpp:1414)
==20811==    by 0x8771895: XPCWrappedNative::CallMethod(XPCCallContext&amp;, XPCWrappedNative::CallMode) (XPCWrappedNative.cpp:1381)
==20811==  Address 0x36164f03 is 3 bytes inside a block of size 4 free'd
==20811==    at 0x4C2CD5A: free (vg_replace_malloc.c:530)
==20811==    by 0x3010A19D: icalparser_add_line (icalparser.c:1103)
==20811==    by 0x3010A263: icalparser_parse (icalparser.c:623)
==20811==    by 0x3010A361: icalparser_parse_string (icalparser.c:1250)
==20811==    by 0x30114EEC: calICSService::ParseICS(nsACString const&amp;, calITimezoneProvider*, calIIcalComponent**) (calICSService.cpp:1257)
==20811==    by 0x8350076: NS_InvokeByIndex (xptcinvoke_x86_64_unix.cpp:176)
==20811==    by 0x8771895: Invoke (XPCWrappedNative.cpp:2097)
==20811==    by 0x8771895: Call (XPCWrappedNative.cpp:1414)
==20811==    by 0x8771895: XPCWrappedNative::CallMethod(XPCCallContext&amp;, XPCWrappedNative::CallMode) (XPCWrappedNative.cpp:1381)
==20811==    by 0x8776BDD: XPC_WN_CallMethod(JSContext*, unsigned int, JS::Value*) (XPCWrappedNativeJSOps.cpp:1115)
==20811==    by 0xA221897: CallJSNative (jscntxtinlines.h:240)
==20811==    by 0xA221897: js::Invoke(JSContext*, JS::CallArgs const&amp;, js::MaybeConstruct) (Interpreter.cpp:444)
==20811==    by 0xA21C5E4: Interpret(JSContext*, js::RunState&amp;) (Interpreter.cpp:2766)
==20811==    by 0xA221550: js::RunScript(JSContext*, js::RunState&amp;) (Interpreter.cpp:391)
==20811==    by 0xA2217F6: js::Invoke(JSContext*, JS::CallArgs const&amp;, js::MaybeConstruct) (Interpreter.cpp:462)
==20811==  Block was alloc'd at
==20811==    at 0x4C2BBAD: malloc (vg_replace_malloc.c:299)
==20811==    by 0x30108E76: icalmemory_new_buffer (icalmemory.c:266)
==20811==    by 0x301093FB: make_segment (icalparser.c:224)
==20811==    by 0x3010A11D: icalparser_add_line (icalparser.c:1072)
==20811==    by 0x3010A263: icalparser_parse (icalparser.c:623)
==20811==    by 0x3010A361: icalparser_parse_string (icalparser.c:1250)
==20811==    by 0x30114EEC: calICSService::ParseICS(nsACString const&amp;, calITimezoneProvider*, calIIcalComponent**) (calICSService.cpp:1257)
==20811==    by 0x8350076: NS_InvokeByIndex (xptcinvoke_x86_64_unix.cpp:176)
==20811==    by 0x8771895: Invoke (XPCWrappedNative.cpp:2097)
==20811==    by 0x8771895: Call (XPCWrappedNative.cpp:1414)
==20811==    by 0x8771895: XPCWrappedNative::CallMethod(XPCCallContext&amp;, XPCWrappedNative::CallMode) (XPCWrappedNative.cpp:1381)
==20811==    by 0x8776BDD: XPC_WN_CallMethod(JSContext*, unsigned int, JS::Value*) (XPCWrappedNativeJSOps.cpp:1115)
==20811==    by 0xA221897: CallJSNative (jscntxtinlines.h:240)
==20811==    by 0xA221897: js::Invoke(JSContext*, JS::CallArgs const&amp;, js::MaybeConstruct) (Interpreter.cpp:444)
==20811==    by 0xA21C5E4: Interpret(JSContext*, js::RunState&amp;) (Interpreter.cpp:2766)
==20811==</pre></div><div class="change-set" id="c35"><div class="comment" data-id="13570433" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-35" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29811" id="a9714124_217783"><img src="https://secure.gravatar.com/avatar/20697ca69672a5276f24a34382a1ddbd?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_29811" id="a9714124_217783"><a class="email " href="/user_profile?user_id=29811" > <span class="fna">Wayne Mery (:wsmwk)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-08-25 06:15 PDT" data-time="1535202947">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-35" data-comment-id="13570433">(In reply to Philipp Kewisch [:Fallen] [:📆] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Handful use-after-free crashes in libical (used in Thunderbird)"
   href="/show_bug.cgi?id=1275400#c2">comment #2</a>)
<span class="quote">&gt; Lightning uses an older version of libical actually, I believe it is a
&gt; derivative of 0.47. We are somewhat aware that there are issues with this
&gt; older version, but as we are aiming to get rid of it we haven't taken action.</span >

Philipp, does that make this bug wontfix?


(In reply to [PTO until Aug 28] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Handful use-after-free crashes in libical (used in Thunderbird)"
   href="/show_bug.cgi?id=1275400#c31">comment #31</a>)
<span class="quote">&gt; None of your bugs but one were shown to affect Thunderbird, which is what
&gt; this is the bugzilla for (other than Firefox). Did you report these issues
&gt; upstream to libical directly?</span >

<a rel="nofollow" href="https://github.com/libical/libical/issues/235">https://github.com/libical/libical/issues/235</a> was filed, then quickly closed. 

<a rel="nofollow" href="https://github.com/libical/libical/issues/286">https://github.com/libical/libical/issues/286</a> was opened Jan 20, 2017 as a followup, then closed. Near the end of that bug only <a rel="nofollow" href="https://github.com/libical/libical/issues/253">https://github.com/libical/libical/issues/253</a> was still open, and that was closed fixed ~May 28, 2017. (winterz had other bugs open, that I have not cited here, according to <a rel="nofollow" href="https://github.com/libical/libical/issues/286#issuecomment-275700312">https://github.com/libical/libical/issues/286#issuecomment-275700312</a> )

(<a rel="nofollow" href="https://lists.debian.org/debian-lts/2016/08/msg00192.html">https://lists.debian.org/debian-lts/2016/08/msg00192.html</a> has not been updated )</pre><div class="activity"><div class="change">See Also:  &rarr; <a href="https://github.com/libical/libical/issues/235" target="_blank" rel="noreferrer">https://github.com/libical/libical/issues/235</a></div></div></div><div class="change-set" id="c36"><div class="comment" data-id="13570467" data-no="36"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-36" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_409873" id="a9714124_217783"><img src="https://secure.gravatar.com/avatar/26f495afc23087a0ac93cd40b5b3e8fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_409873" id="a9714124_217783"><a class="email " href="/user_profile?user_id=409873" > <span class="fna">Allen Winter</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-36"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-36" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-08-25 07:25 PDT" data-time="1535207153">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-36" data-comment-id="13570467">all those bugs have been squashed since libical3.0.0

the libical team has done its part in this.</pre></div><div class="change-set" id="c37"><div class="comment" data-id="13617768" data-no="37"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-37" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491185" id="a9714124_217783"><img src="https://secure.gravatar.com/avatar/de6cd318dc60a8e218ea6095d18286c2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491185" id="a9714124_217783"><a class="email " href="/user_profile?user_id=491185" > <span class="fna">[:MakeMyDay]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-16 02:46 PDT" data-time="1537091212">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9009439"
         class="attachment patch obsolete"
         data-id="9009439" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="PortUseAfterFreeFixesForLibical-V1.diff">
      <meta itemprop="contentSize" content="5499">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=9009439">
          <a class="link" href="attachment.cgi?id=9009439&amp;action=diff">
        <span id="att-9009439-description" itemprop="description">PortUseAfterFreeFixesForLibical-V1.diff</span></a> (obsolete)
        — <a href="attachment.cgi?id=9009439&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1275400&attachment=9009439">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-37" data-comment-id="13617768">This patch backports four upstream commits I identified based on the previous comments to our version of libical:

* Issue 253 / Commit 6b9438d746cec6e4e632d78c5244f4be6314d1c9
* Issue 251 / Commit 38757abb495ea6cb40faa5418052278bf75040f7
* Issue 251 / Commit 04d84749e53db08c71ed0ce8b6ba5c11082743cd
* Issue 251 / Commit 830d9530817516377c2bc3b532798ce2c6b4765a

This is compiling and working locally for me, but I neither haven't done a try push so far nor have I investigated whether this would prevent the reported crashes.

Allen, can you confirm that I catched all upstream commits associated to <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-5824">CVE-2016-5824</a> since not all of them are clearly referenced in the issues?</pre><div class="activity"><div class="change">Assignee: nobody &rarr; makemyday</div><div class="change">Status: UNCONFIRMED &rarr; ASSIGNED</div><div class="change">Ever confirmed: true</div><div class="change">Flags: needinfo?(winter)</div><div class="change">
        <a href="/attachment.cgi?id=9009439&amp;action=edit"
           title="PortUseAfterFreeFixesForLibical-V1.diff"
           class=""
        >Attachment #9009439</a> -
        Flags: review?(philipp)</div></div></div><div class="change-set" id="c38"><div class="comment" data-id="13622102" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-38" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_253233" id="a9714124_217783"><img src="https://secure.gravatar.com/avatar/834e6840be1a79998020e3004c902ac7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_253233" id="a9714124_217783"><a class="email " href="/user_profile?user_id=253233" > <span class="fna">Philipp Kewisch [:Fallen] [:📆][:🧩]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-17 18:27 PDT" data-time="1537234061">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-38" data-comment-id="13622102">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=9009439" name="attach_9009439" title="PortUseAfterFreeFixesForLibical-V1.diff">attachment 9009439</a> <a href="/attachment.cgi?id=9009439&amp;action=edit" title="PortUseAfterFreeFixesForLibical-V1.diff">[details]</a> <a href="/attachment.cgi?id=9009439&amp;action=diff" title="PortUseAfterFreeFixesForLibical-V1.diff">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1275400&amp;attachment=9009439'>[review]</a>
PortUseAfterFreeFixesForLibical-V1.diff

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=9009439" name="attach_9009439" title="PortUseAfterFreeFixesForLibical-V1.diff">attachment 9009439</a> <a href="/attachment.cgi?id=9009439&amp;action=edit" title="PortUseAfterFreeFixesForLibical-V1.diff">[details]</a> <a href="/attachment.cgi?id=9009439&amp;action=diff" title="PortUseAfterFreeFixesForLibical-V1.diff">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1275400&amp;attachment=9009439'>[review]</a>:
-----------------------------------------------------------------

Thanks for looking through these. Codewise this looks ok. Can you do a try run? I hope these don't depend on other upstream changes.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9009439&amp;action=edit"
           title="PortUseAfterFreeFixesForLibical-V1.diff"
           class=""
        >Attachment #9009439</a> -
        Flags: review?(philipp) &rarr; review+</div></div></div><div class="change-set" id="c39"><div class="comment" data-id="13622645" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-39" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491185" id="a9714124_217783"><img src="https://secure.gravatar.com/avatar/de6cd318dc60a8e218ea6095d18286c2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491185" id="a9714124_217783"><a class="email " href="/user_profile?user_id=491185" > <span class="fna">[:MakeMyDay]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-18 02:12 PDT" data-time="1537261962">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-39" data-comment-id="13622645">(In reply to Philipp Kewisch [:Fallen] [:📆] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Handful use-after-free crashes in libical (used in Thunderbird)"
   href="/show_bug.cgi?id=1275400#c38">comment #38</a>)
<span class="quote">&gt; Thanks for looking through these. Codewise this looks ok. Can you do a try
&gt; run? I hope these don't depend on other upstream changes.</span >

I currently have problems to push, so if anybody else can do a try push before I fixed my issue, that would be appreciated.</pre></div><div class="change-set" id="c40"><div class="comment" data-id="13645015" data-no="40"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-40" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491185" id="a9714124_217783"><img src="https://secure.gravatar.com/avatar/de6cd318dc60a8e218ea6095d18286c2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491185" id="a9714124_217783"><a class="email " href="/user_profile?user_id=491185" > <span class="fna">[:MakeMyDay]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-40"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-40" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-27 06:39 PDT" data-time="1538055586">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9012583"
         class="attachment patch"
         data-id="9012583" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="PortUseAfterFreeFixesForLibical-V2.diff">
      <meta itemprop="contentSize" content="3668">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=9012583">
          <a class="link" href="attachment.cgi?id=9012583&amp;action=diff">
        <span id="att-9012583-description" itemprop="description">PortUseAfterFreeFixesForLibical-V2.diff</span></a>
        — <a href="attachment.cgi?id=9012583&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=1275400&attachment=9012583">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-40" data-comment-id="13645015">I have removed the change to parser_get_next_char in icalparser.c from the previous version of the patch since that led to test failures due to a different behaviour including to fail to parse an attendee at all if its CN has double dquotes (like CN=&quot;&quot;some name&quot;&quot;) instead of just having an attendee without a valid CN in this case. Maybe some more backports would have been needed to make it work as before or it's an upstream issue.

But since that change (upstream commit 04d84749e53db08c71ed0ce8b6ba5c11082743cd) is technically not needed beacause our code is different from upstream for that function and the upstream fix corrects something we don't have, we can omit this backport entirely here.

My try push for this patch doesn't have any releated failures: <a rel="nofollow" href="https://treeherder.mozilla.org/#/jobs?repo=try-comm-central&amp;selectedJob=201941490&amp;revision=d753c49aa747091057455a35ee1224d24bd73d0a">https://treeherder.mozilla.org/#/jobs?repo=try-comm-central&amp;selectedJob=201941490&amp;revision=d753c49aa747091057455a35ee1224d24bd73d0a</a></pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9009439&amp;action=edit"
           title="PortUseAfterFreeFixesForLibical-V1.diff"
           class=""
        >Attachment #9009439</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=9012583&amp;action=edit"
           title="PortUseAfterFreeFixesForLibical-V2.diff"
           class=""
        >Attachment #9012583</a> -
        Flags: review+</div></div></div><div class="change-set" id="a73905412_491185"><div class="change" id="aa73905412_491185">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491185" id="a73905412_491185"><img src="https://secure.gravatar.com/avatar/de6cd318dc60a8e218ea6095d18286c2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_491185" id="a73905412_491185"><a class="email " href="/user_profile?user_id=491185" > <span class="fna">[:MakeMyDay]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a73905412_491185"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a73905412_491185">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a73905412_491185">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-27 06:41 PDT" data-time="1538055664">3 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=checkin-needed&amp;resolution=---">checkin-needed</a></div></div></div><div class="change-set" id="c41"><div class="comment" data-id="13645029" data-no="41"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-41" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491185" id="a73905412_491185"><img src="https://secure.gravatar.com/avatar/de6cd318dc60a8e218ea6095d18286c2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491185" id="a73905412_491185"><a class="email " href="/user_profile?user_id=491185" > <span class="fna">[:MakeMyDay]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-41"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-41" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-27 06:47 PDT" data-time="1538056031">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-41" data-comment-id="13645029">Comment on <span class=""><a href="/attachment.cgi?id=9012583" name="attach_9012583" title="PortUseAfterFreeFixesForLibical-V2.diff">attachment 9012583</a> <a href="/attachment.cgi?id=9012583&amp;action=edit" title="PortUseAfterFreeFixesForLibical-V2.diff">[details]</a> <a href="/attachment.cgi?id=9012583&amp;action=diff" title="PortUseAfterFreeFixesForLibical-V2.diff">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1275400&amp;attachment=9012583'>[review]</a>
PortUseAfterFreeFixesForLibical-V2.diff

Since backing on c-c probably won't bring any findings (since ical.js is the default) and I have been running the patched version for some time now without an issue, we should consider an early uplift.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9012583&amp;action=edit"
           title="PortUseAfterFreeFixesForLibical-V2.diff"
           class=""
        >Attachment #9012583</a> -
        Flags: approval-calendar-esr?(philipp)</div><div class="change">
        <a href="/attachment.cgi?id=9012583&amp;action=edit"
           title="PortUseAfterFreeFixesForLibical-V2.diff"
           class=""
        >Attachment #9012583</a> -
        Flags: approval-calendar-beta?(philipp)</div></div></div><div class="change-set" id="c42"><div class="comment" data-id="13646952" data-no="42"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-42" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_176914" id="a73905412_491185"><img src="https://secure.gravatar.com/avatar/5d8a5792e976c4d61a6651fb4e71c84f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_176914" id="a73905412_491185"><a class="email disabled" href="/user_profile?user_id=176914" > <span class="fna">Jorg K (CEST = GMT+2)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-42"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-42" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-28 01:25 PDT" data-time="1538123139">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-42" data-comment-id="13646952">Comment on <span class=""><a href="/attachment.cgi?id=9012583" name="attach_9012583" title="PortUseAfterFreeFixesForLibical-V2.diff">attachment 9012583</a> <a href="/attachment.cgi?id=9012583&amp;action=edit" title="PortUseAfterFreeFixesForLibical-V2.diff">[details]</a> <a href="/attachment.cgi?id=9012583&amp;action=diff" title="PortUseAfterFreeFixesForLibical-V2.diff">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1275400&amp;attachment=9012583'>[review]</a>
PortUseAfterFreeFixesForLibical-V2.diff

Review of <span class=""><a href="/attachment.cgi?id=9012583" name="attach_9012583" title="PortUseAfterFreeFixesForLibical-V2.diff">attachment 9012583</a> <a href="/attachment.cgi?id=9012583&amp;action=edit" title="PortUseAfterFreeFixesForLibical-V2.diff">[details]</a> <a href="/attachment.cgi?id=9012583&amp;action=diff" title="PortUseAfterFreeFixesForLibical-V2.diff">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1275400&amp;attachment=9012583'>[review]</a>:
-----------------------------------------------------------------

::: calendar/libical/src/libical/icaltime.c
&#64;&#64; +522,2 &#64;&#64;
<span class="quote">&gt;      } else if ((size == 16) || (size == 20)) { /* UTC time, ends in 'Z'*/
&gt; +        if ((str[size-1] != 'Z'))</span >

This line is the only change here, all the rest of the changes in this hunk are white-space changes that change tabs to spaces. Is that intentional? Personally, I'd only change that one line given that the entire library is riddled with white-space issues.</pre></div><div class="change-set" id="a73972921_176914"><div class="change" id="aa73972921_176914">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_176914" id="a73972921_176914"><img src="https://secure.gravatar.com/avatar/5d8a5792e976c4d61a6651fb4e71c84f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_176914" id="a73972921_176914"><a class="email disabled" href="/user_profile?user_id=176914" > <span class="fna">Jorg K (CEST = GMT+2)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a73972921_176914"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a73972921_176914">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a73972921_176914">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-28 01:26 PDT" data-time="1538123173">3 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: needinfo?(makemyday)</div></div></div><div class="change-set" id="c43"><div class="comment" data-id="13647003" data-no="43"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-43" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491185" id="a73972921_176914"><img src="https://secure.gravatar.com/avatar/de6cd318dc60a8e218ea6095d18286c2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_491185" id="a73972921_176914"><a class="email " href="/user_profile?user_id=491185" > <span class="fna">[:MakeMyDay]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-43"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-43" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-28 01:55 PDT" data-time="1538124946">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-43" data-comment-id="13647003">Yes, the whitespace changes are intended. Please land the patch as is.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(makemyday)</span></div></div></div><div class="change-set" id="c44"><div class="comment" data-id="13647031" data-no="44"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-44" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_510726" id="a73972921_176914"><img src="https://secure.gravatar.com/avatar/4c5aee4c6938e29b1576314d2de9c6e7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_510726" id="a73972921_176914"><a class="email " href="/user_profile?user_id=510726" > <span class="fna">Pulsebot</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-44"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-44" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-28 02:08 PDT" data-time="1538125737">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-44" data-comment-id="13647031">Pushed by <a href="mailto:mozilla&#64;jorgk.com">mozilla&#64;jorgk.com</a>:
<a rel="nofollow" href="https://hg.mozilla.org/comm-central/rev/4a2171ca49da">https://hg.mozilla.org/comm-central/rev/4a2171ca49da</a>
Porting upstream fixes for use-after-free vulnerability of libical. r=philipp DONTBUILD</pre><div class="activity"><div class="change">Status: ASSIGNED &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2018-09-28 02:08 PDT" data-time="1538125737">3 years ago</span></div><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=checkin-needed&amp;resolution=---">checkin-needed</a></span></div><div class="change">Resolution: --- &rarr; FIXED</div></div></div><div class="change-set" id="a73975504_176914"><div class="change" id="aa73975504_176914">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_176914" id="a73975504_176914"><img src="https://secure.gravatar.com/avatar/5d8a5792e976c4d61a6651fb4e71c84f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_176914" id="a73975504_176914"><a class="email disabled" href="/user_profile?user_id=176914" > <span class="fna">Jorg K (CEST = GMT+2)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a73975504_176914"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a73975504_176914">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a73975504_176914">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-09-28 02:09 PDT" data-time="1538125756">3 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Target Milestone: --- &rarr; 6.6</div></div></div><div class="change-set" id="c45"><div class="comment" data-id="13706237" data-no="45"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-45" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_176914" id="a73975504_176914"><img src="https://secure.gravatar.com/avatar/5d8a5792e976c4d61a6651fb4e71c84f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_176914" id="a73975504_176914"><a class="email disabled" href="/user_profile?user_id=176914" > <span class="fna">Jorg K (CEST = GMT+2)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-45"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-45" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-10-23 01:23 PDT" data-time="1540283018">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-45" data-comment-id="13706237">Comment on <span class=""><a href="/attachment.cgi?id=9012583" name="attach_9012583" title="PortUseAfterFreeFixesForLibical-V2.diff">attachment 9012583</a> <a href="/attachment.cgi?id=9012583&amp;action=edit" title="PortUseAfterFreeFixesForLibical-V2.diff">[details]</a> <a href="/attachment.cgi?id=9012583&amp;action=diff" title="PortUseAfterFreeFixesForLibical-V2.diff">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=1275400&amp;attachment=9012583'>[review]</a>
PortUseAfterFreeFixesForLibical-V2.diff

Too late for 63/6.5 beta now.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9012583&amp;action=edit"
           title="PortUseAfterFreeFixesForLibical-V2.diff"
           class=""
        >Attachment #9012583</a> -
        Flags: <span class="activity-deleted">approval-calendar-beta?(philipp)</span></div></div></div><div class="change-set" id="a82095042_253233"><div class="change" id="aa82095042_253233">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_253233" id="a82095042_253233"><img src="https://secure.gravatar.com/avatar/834e6840be1a79998020e3004c902ac7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_253233" id="a82095042_253233"><a class="email " href="/user_profile?user_id=253233" > <span class="fna">Philipp Kewisch [:Fallen] [:📆][:🧩]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a82095042_253233"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a82095042_253233">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a82095042_253233">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-12-31 00:34 PST" data-time="1546245294">3 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9012583&amp;action=edit"
           title="PortUseAfterFreeFixesForLibical-V2.diff"
           class=""
        >Attachment #9012583</a> -
        Flags: approval-calendar-esr?(philipp) &rarr; approval-calendar-esr+</div></div></div><div class="change-set" id="c46"><div class="comment" data-id="13835959" data-no="46"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-46" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_176914" id="a82095042_253233"><img src="https://secure.gravatar.com/avatar/5d8a5792e976c4d61a6651fb4e71c84f?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_176914" id="a82095042_253233"><a class="email disabled" href="/user_profile?user_id=176914" > <span class="fna">Jorg K (CEST = GMT+2)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-46"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-46" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-12-31 05:22 PST" data-time="1546262548">3 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-46" data-comment-id="13835959">TB 60.5 ESR, Cal. 6.2.5:
<a rel="nofollow" href="https://hg.mozilla.org/releases/comm-esr60/rev/44f8c542e1baf20d3f9f0bff6cf11dbf5ffeef9f">https://hg.mozilla.org/releases/comm-esr60/rev/44f8c542e1baf20d3f9f0bff6cf11dbf5ffeef9f</a>

Target needs to be set to 6.2.5. Philipp?</pre><div class="activity"><div class="change">Whiteboard: Target needs to be set to 6.2.5</div><div class="change">Target Milestone: 6.6 &rarr; 6.2.4</div></div></div><div class="change-set" id="a82116580_253233"><div class="change" id="aa82116580_253233">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_253233" id="a82116580_253233"><img src="https://secure.gravatar.com/avatar/834e6840be1a79998020e3004c902ac7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_253233" id="a82116580_253233"><a class="email " href="/user_profile?user_id=253233" > <span class="fna">Philipp Kewisch [:Fallen] [:📆][:🧩]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a82116580_253233"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a82116580_253233">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a82116580_253233">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2018-12-31 06:33 PST" data-time="1546266832">3 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(philipp)</span></div><div class="change">Whiteboard: <span class="activity-deleted">Target needs to be set to 6.2.5</span></div><div class="change">Target Milestone: 6.2.4 &rarr; 6.2.5</div></div></div><div class="change-set" id="a83259898_491185"><div class="change" id="aa83259898_491185">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_491185" id="a83259898_491185"><img src="https://secure.gravatar.com/avatar/de6cd318dc60a8e218ea6095d18286c2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_491185" id="a83259898_491185"><a class="email " href="/user_profile?user_id=491185" > <span class="fna">[:MakeMyDay]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a83259898_491185"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a83259898_491185">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a83259898_491185">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-01-13 12:09 PST" data-time="1547410150">3 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(winter)</span></div></div></div><div class="change-set" id="a84556095_36541"><div class="change" id="aa84556095_36541">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_36541" id="a84556095_36541"><img src="https://secure.gravatar.com/avatar/d11b5b0a468ed960df1fde3c304d3580?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_36541" id="a84556095_36541"><a class="email " href="/user_profile?user_id=36541" > <span class="fna">Kai Engert (:KaiE:)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a84556095_36541"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a84556095_36541">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a84556095_36541">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-01-28 12:12 PST" data-time="1548706347">3 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-low&amp;resolution=---">sec-low</a></div></div></div><div class="change-set" id="a126220549_578488"><div class="change" id="aa126220549_578488">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_578488" id="a126220549_578488"><img src="https://secure.gravatar.com/avatar/6822db445808be789b12cfae22d118dc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_578488" id="a126220549_578488"><a class="email " href="/user_profile?user_id=578488" > <span class="fna">Tom Ritter [:tjr] (ni? for response to CVE/sec-approval/advisories/etc)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a126220549_578488"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a126220549_578488">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1275400#a126220549_578488">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2020-05-24 18:40 PDT" data-time="1590370801">1 year ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-bounty-hof-</div></div></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=1275400&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div></div> 
</main> 
</div> 


</body>
</html>