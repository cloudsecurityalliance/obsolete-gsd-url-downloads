<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>063be1485e0099bc81ace3a08b0ec9186dcad693 - platform/external/libvpx - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://accounts.google.com/AccountChooser?service=gerritcodereview&amp;continue=https://android.googlesource.com/login/platform/external/libvpx/%2B/063be1485e0099bc81ace3a08b0ec9186dcad693">Sign in</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">android</a> / <a class="Breadcrumbs-crumb" href="/platform/">platform</a> / <a class="Breadcrumbs-crumb" href="/platform/external/">external</a> / <a class="Breadcrumbs-crumb" href="/platform/external/libvpx/">libvpx</a> / <span class="Breadcrumbs-crumb">063be1485e0099bc81ace3a08b0ec9186dcad693</span></div><div class="u-monospace Metadata"><table><tr><th class="Metadata-title">commit</th><td>063be1485e0099bc81ace3a08b0ec9186dcad693</td><td><span>[<a href="/platform/external/libvpx/+log/063be1485e0099bc81ace3a08b0ec9186dcad693">log</a>]</span> <span>[<a href="/platform/external/libvpx/+archive/063be1485e0099bc81ace3a08b0ec9186dcad693.tar.gz">tgz</a>]</span></td></tr><tr><th class="Metadata-title">author</th><td>Vignesh Venkatasubramanian &lt;vigneshv@google.com&gt;</td><td>Fri Aug 26 10:12:29 2016 -0700</td></tr><tr><th class="Metadata-title">committer</th><td>gitbuildkicker &lt;android-build@google.com&gt;</td><td>Tue Sep 27 15:55:56 2016 -0700</td></tr><tr><th class="Metadata-title">tree</th><td><a href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/">8e925445e84720214de3cf43ced220e7bd304a1a</a></td></tr><tr><th class="Metadata-title">parent</th><td><a href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693%5E">fdb1b40e7bb147c07bda988c9501ad223795d12d</a> <span>[<a href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693%5E%21/">diff</a>]</span></td></tr></table></div><pre class="u-pre u-monospace MetadataMessage">DO NOT MERGE | libvpx: Cherry-pick 0f42d1f from upstream

Description from upstream:
vp8: fix decoder crash with invalid leading keyframes

decoding the same invalid keyframe twice would result in a crash as the
second time through the decoder would be assumed to have been
initialized as there was no resolution change. in this case the
resolution was itself invalid (0x6), but vp8_peek_si() was only failing
in the case of 0x0.
invalid-vp80-00-comprehensive-018.ivf.2kf_0x6.ivf tests this case by
duplicating the first keyframe and additionally adds a valid one to
ensure decoding can resume without error.

Bug: 30593765
Change-Id: <a href="https://android-review.googlesource.com/#/q/I0de85f5a5eb5c0a5605230faf20c042b69aea507">I0de85f5a5eb5c0a5605230faf20c042b69aea507</a>
(cherry picked from commit fc0466b695dce03e10390101844caa374848d903)
(cherry picked from commit 1114575245cb9d2f108749f916c76549524f5136)
</pre><ul class="DiffTree"><li><a href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/libvpx/vp8/vp8_dx_iface.c">libvpx/vp8/vp8_dx_iface.c</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693%5E%21/#F0">diff</a>]</span></li></ul><div class="DiffSummary">1 file changed</div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: 8e925445e84720214de3cf43ced220e7bd304a1a</div><ol class="FileList"><li class="FileList-item FileList-item--regularFile" title="Regular file - Android.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/Android.mk">Android.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - MODULE_LICENSE_BSD"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/MODULE_LICENSE_BSD">MODULE_LICENSE_BSD</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - NOTICE"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/NOTICE">NOTICE</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - README.android"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/README.android">README.android</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.arm.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/config.arm.mk">config.arm.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.arm64.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/config.arm64.mk">config.arm64.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.mips.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/config.mips.mk">config.mips.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.mips64.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/config.mips64.mk">config.mips64.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.x86.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/config.x86.mk">config.x86.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - config.x86_64.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/config.x86_64.mk">config.x86_64.mk</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - config/"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/config/">config/</a></li><li class="FileList-item FileList-item--executableFile" title="Executable file - generate_config.sh"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/generate_config.sh">generate_config.sh</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - libvpx-asm-translation.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/libvpx-asm-translation.mk">libvpx-asm-translation.mk</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - libvpx.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/libvpx.mk">libvpx.mk</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libvpx/"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/libvpx/">libvpx/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - libwebm.mk"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/libwebm.mk">libwebm.mk</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - libwebm/"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/libwebm/">libwebm/</a></li><li class="FileList-item FileList-item--executableFile" title="Executable file - lint_config.sh"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/lint_config.sh">lint_config.sh</a></li><li class="FileList-item FileList-item--executableFile" title="Executable file - update_libvpx.sh"><a class="FileList-itemLink" href="/platform/external/libvpx/+/063be1485e0099bc81ace3a08b0ec9186dcad693/update_libvpx.sh">update_libvpx.sh</a></li></ol></div></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>