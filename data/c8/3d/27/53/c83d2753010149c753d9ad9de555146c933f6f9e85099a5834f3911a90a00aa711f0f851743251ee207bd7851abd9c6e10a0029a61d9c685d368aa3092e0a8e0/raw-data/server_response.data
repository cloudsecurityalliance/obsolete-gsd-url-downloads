<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+index" />

    <meta charset="UTF-8" />
    <title>Bug #906550 “ecryptfs-setup-private should create an .ecryptfsrc...” : Bugs : eCryptfs</title>
    <link rel="shortcut icon" href="/@@/launchpad.png" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/906550" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/906550/bug.atom" title="Bug 906550 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/combo.css" />


    

    
      <meta name="description" content="ecryptfs-setup-private should really create a good ~/.ecryptfsrc and sigs file as part of its setup, like so:

&gt; merkaba:~&gt; cat .ecryptfsrc
&gt; ecryptfs_unlink_sigs
&gt; ecryptfs_sig=[…]
&gt; ecryptfs_fnek_sig=[…]
&gt; ecryptfs_xattr
&gt; ecryptfs_key_bytes=32
&gt; ecryptfs_cipher=aes
&gt; ecryptfs_passthrough=n" />
      <meta property="og:description" content="ecryptfs-setup-private should really create a good ~/.ecryptfsrc and sigs file as part of its setup, like so:

&gt; merkaba:~&gt; cat .ecryptfsrc
&gt; ecryptfs_unlink_sigs
&gt; ecryptfs_sig=[…]
&gt; ecryptfs_fnek_sig=[…]
&gt; ecryptfs_xattr
&gt; ecryptfs_key_bytes=32
&gt; ecryptfs_cipher=aes
&gt; ecryptfs_passthrough=n" />
    

    
    
      <meta property="og:title" content="Bug #906550 “ecryptfs-setup-private should create an .ecryptfsrc...” : Bugs : eCryptfs" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/906550" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?lp/',
                    comboBase: '/+combo/rev0d8de2bfee2024772b3040d4d19f42f47395ac0d/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["kernel", "patch"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/ecryptfs"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/88108375/ecryptfs_64b.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/ecryptfs">eCryptfs</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/ecryptfs">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/ecryptfs">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/ecryptfs">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/ecryptfs">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/ecryptfs">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/ecryptfs">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    ecryptfs-setup-private should create an .ecryptfsrc file
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #906550 reported by
      <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland </a>
      <time title="2011-12-19 21:52:30 UTC" datetime="2011-12-19T21:52:30.597155+00:00">on 2011-12-19</time>
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">20</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 2 people</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary1078371">
    <td>
      <a class="bugtask-expander" href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+editstatus">
        &#8203;
      </a>
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary1078371">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/ecryptfs">eCryptfs</a>
        </span>
        <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
          Edit
        </button>
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        
        
          <a href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+editstatus" style="float: left" class="value statusTRIAGED">Triaged</a>
          <a href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+editstatus" style="margin-left: 3px">
            <img class="editicon" src="/@@/edit" />
          </a>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceWISHLIST">Wishlist</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary1078371">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~kirkland">Dustin Kirkland </a>
            
          </span>
          
          <button class="lazr-btn yui3-activator-act yui3-activator-hidden">
            Edit
          </button>
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  
    <tr class="bugtask-collapsible-content hidden" id="task1078371">
     <td colspan="7"><form action="/ecryptfs/+bug/906550/+editstatus" method="post" enctype="multipart/form-data">
  

  <p class="error message">
    You need to log in to change this bug's status.
  </p>
  
  <table class="summary" style="float: right; margin-left: 1em;">
    <tr>
      <th>Affecting:</th>
      <td><a href="/ecryptfs">eCryptfs</a></td>
    </tr>
    <tr>
      <th>Filed here by:</th>
      <td><a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland </a></td>
    </tr>
    <tr>
      <th>When:</th>
      <td>
        <time title="2011-12-19 21:52:30 UTC" datetime="2011-12-19T21:52:30.597155+00:00">2011-12-19</time>
      </td>
    </tr>
    <tr>
      <th>Confirmed:</th>
      <td>
        <time title="2011-12-19 21:52:38 UTC" datetime="2011-12-19T21:52:38.506022+00:00">2011-12-19</time>
      </td>
    </tr>
    <tr>
      <th>Assigned:</th>
      <td>
        <time title="2011-12-19 21:52:43 UTC" datetime="2011-12-19T21:52:43.660144+00:00">2011-12-19</time>
      </td>
    </tr>
    
    
  </table>
  <div class="field">
    <table>
      <tr>
        <td>
          <label for="ecryptfs.target">Target</label>
        </td>
      </tr>
      <tr>
        <td>
          <table>
  <tr>
    <td>
      <label>
        <input class="radioType" id="ecryptfs.target.option.package" name="ecryptfs.target" type="radio" value="package" />
        Distribution
      </label>
    </td>
    <td>
      <select id="ecryptfs.target.distribution" name="ecryptfs.target.distribution" size="1" >
<option value="baltix">Baltix</option>
<option value="boss">BOSS</option>
<option value="charms">Juju Charms Collection</option>
<option value="elbuntu">Elbuntu</option>
<option value="guadalinex">Guadalinex</option>
<option value="guadalinexedu">Guadalinex Edu</option>
<option value="kiwilinux">Kiwi Linux</option>
<option value="nubuntu">nUbuntu</option>
<option value="pld-linux">PLD Linux</option>
<option value="tilix">Tilix</option>
<option value="tuxlab">tuXlab</option>
<option selected="selected" value="ubuntu">Ubuntu</option>
<option value="ubuntu-leb">Ubuntu Linaro Evaluation Build</option>
<option value="ubuntu-rtm">Ubuntu RTM</option>
</select>
<input name="ecryptfs.target.distribution-empty-marker" type="hidden" value="1" />
    </td>
  </tr>
  <tr>
    <td align="right">
      <label for="ecryptfs.target.option.package">
        Package
      </label>
    </td>
    <td>
      


    <input type="text" value="" id="ecryptfs.target.package"
                         name="ecryptfs.target.package" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ecryptfs.target.option.package&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ecryptfs.target.package');
              var select_menu = Y.DOM.byId('ecryptfs.target.package-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ecryptfs-target-package" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a package", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "DistributionPackage", "extra_no_results_message": null, "selected_value": null, "show_assign_me_button": false, "show_widget_id": "show-widget-ecryptfs-target-package", "step_title": "Search by name", "assign_me_text": "Pick me", "input_element": "ecryptfs.target.package"};
        var show_widget_id = 'show-widget-ecryptfs-target-package';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>

  <tr>
    <td>
      <label>
        <input class="radioType" checked="checked" id="ecryptfs.target.option.product" name="ecryptfs.target" type="radio" value="product" />
       Project
      </label>
    </td>
    <td>
      


    <input type="text" value="ecryptfs" id="ecryptfs.target.product"
                         name="ecryptfs.target.product" size="20"
                         maxlength=""
                         onKeyPress="selectWidget(&#x27;ecryptfs.target.option.product&#x27;, event)" style=""
                         class="" />

    
      
      <script type="text/javascript">
          LPJS.use('node', 'lp.app.picker', function(Y) {
              var text_input = Y.DOM.byId('ecryptfs.target.product');
              var select_menu = Y.DOM.byId('ecryptfs.target.product-suggestions');
              Y.lp.app.picker.connect_select_menu(
                  select_menu, text_input);
          });</script>
    

    <span class="hidden">(<a id="show-widget-ecryptfs-target-product" href="#">Find&hellip;</a>)</span>
    <script>
    LPJS.use('node', 'lp.app.picker', function(Y) {
        var config = {"show_remove_button": false, "header": "Select a project", "vocabulary_filters": [], "remove_team_text": "Remove team", "remove_person_text": "Remove person", "selected_value_metadata": null, "show_create_team": false, "picker_type": "default", "vocabulary_name": "Product", "extra_no_results_message": null, "selected_value": "ecryptfs", "show_assign_me_button": false, "show_widget_id": "show-widget-ecryptfs-target-product", "step_title": "Search", "assign_me_text": "Pick me", "input_element": "ecryptfs.target.product"};
        var show_widget_id = 'show-widget-ecryptfs-target-product';
        Y.lp.app.picker.addPicker(config, show_widget_id);
    });
    </script>
  



    </td>
  </tr>
</table>

          
        </td>
      </tr>
    </table>
    
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ecryptfs.status">Status</label>
        </td>
        <td>
          <label style="font-weight: bold" for="ecryptfs.importance">Importance</label>
        </td>
        
      </tr>
      <tr>
        <td><div>
<div class="value">
<select id="ecryptfs.status" name="ecryptfs.status" size="1" >
<option selected="selected" value="Triaged">Triaged</option>
</select>
</div>
<input name="ecryptfs.status-empty-marker" type="hidden" value="1" />
</div></td>
        <td title="Changeable only by a project maintainer or bug supervisor">
          <span class="sprite read-only"></span>
          <span class="importanceWISHLIST">Wishlist</span>
        </td>
        
      </tr>
    </table>
    <table>
      <tr>
        <td>
          <label style="font-weight: bold" for="ecryptfs.assignee">Assigned to</label>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="white-space: nowrap">

  <table>
    
    <tr>
      <td style="padding: 0 2px 2px 0">
        <input type="radio" id="ecryptfs.assignee.assign_to_me" name="ecryptfs.assignee.option" value="ecryptfs.assignee.assign_to_me" />
      </td>
      <td style="padding: 0">
        <label style="font-weight: normal" for="ecryptfs.assignee.assign_to_me">
          Me
        </label>
      </td>
    </tr>
    
      
        <tr>
          <td style="padding: 0 2px 2px 0">
              <input type="radio" checked="checked" id="ecryptfs.assignee.assigned_to" name="ecryptfs.assignee.option" value="ecryptfs.assignee.assigned_to" />
          </td>
          <td style="padding: 0">
            <label style="font-weight: normal" for="ecryptfs.assignee.assigned_to">
              Dustin Kirkland  (kirkland)
            </label>
          </td>
        </tr>
      
    
    
  </table>


</td>
      </tr>
    </table>
    
  </div>
  <div class="field">
    <div>
      <label style="font-weight: bold" for="ecryptfs.comment_on_change">Comment on this change (optional)</label>
      <textarea cols="62" rows="4" id="ecryptfs.comment_on_change" name="ecryptfs.comment_on_change"></textarea>
    </div>
    <div>
      <label style="font-weight: normal">
        <input type="checkbox" name="subscribe" id="subscribe" value="Subscribe" />
        Email me about changes to this bug report
      </label>
    </div>
  </div>
  
</form>
</td>
    </tr>
  


        
      </tbody>

    </table>



<div class="actions">
  
    <span id="also-affects-product" class="">
    <a class="menu-link-addupstream sprite add" href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+choose-affected-product">Also affects project</a>
        <a href="/+help-bugs/also-affects-project-help.html" target="help" class="sprite maybe action-icon">(?)</a>
    </span>
    <span id="also-affects-package" class="">
    <a class="menu-link-adddistro sprite add" href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+distrotask">Also affects distribution/package</a>
    </span>
    <a class="menu-link-nominate sprite milestone" href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+nominate">Nominate for series</a>
    
  

</div>




      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>ecryptfs-<wbr />setup-private should really create a good ~/.ecryptfsrc and sigs file as part of its setup, like so:</p>
<p>&gt; merkaba:~&gt; cat .ecryptfsrc<br />
&gt; ecryptfs_<wbr />unlink_<wbr />sigs<br />
&gt; ecryptfs_sig=[…]<br />
&gt; ecryptfs_<wbr />fnek_sig=<wbr />[…]<br />
&gt; ecryptfs_xattr<br />
&gt; ecryptfs_<wbr />key_bytes=<wbr />32<br />
&gt; ecryptfs_cipher=aes<br />
&gt; ecryptfs_<wbr />passthrough=<wbr />n</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            
          </span>
          <span id="tag-list">
          </span>
          <a href="+edit" title="Add tags" id="tags-trigger" class="sprite add">Add tags</a>
          
          <a href="/+help-bugs/tag-help.html" target="help" class="sprite maybe action-icon">Tag help</a>
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
    
    <time title="2011-12-19 21:52:38 UTC" datetime="2011-12-19T21:52:38.296155+00:00">on 2011-12-19</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Triaged
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Dustin Kirkland (kirkland)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ecryptfs/+bug/906550/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ms-proact" class="sprite person">Martin Steigerwald (ms-proact)</a>
            wrote
            <time itemprop="commentTime" datetime="2011-12-20T10:28:48.897177+00:00" title="2011-12-20 10:28:48 UTC">on 2011-12-20</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ecryptfs/+bug/906550/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks, Dustin.</p>
<p>One part of my suggestion was to store the configuration of an ecryptfs<br />
filesystem within the encrypted directory[1].</p>
<p>With encfs I can rsync the crypted directory to somewhere else and then just<br />
mount it on the remote machine like I would on my local one. I do not have to<br />
think about copying the ecryptfs configuration as well.</p>
<p>Encfs stores its configuration directly in the encrypted directory like this:</p>
<p>merkaba:~&gt; ls -l /home/.ms2/.encfs5<br />
-rw-r----- 1 root root 241 Mai 19  2008 /home/.ms2/.encfs5</p>
<p>[1] encryption metadata not stored with filesystem on ecryptfs vger kernel org:<br />
<a rel="nofollow" href="http://www.spinics.net/lists/ecryptfs/msg00062.html">http://<wbr />www.spinics.<wbr />net/lists/<wbr />ecryptfs/<wbr />msg00062.<wbr />html</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks, Dustin.

One part of my suggestion was to store the configuration of an ecryptfs 
filesystem within the encrypted directory[1].

With encfs I can rsync the crypted directory to somewhere else and then just 
mount it on the remote machine like I would on my local one. I do not have to 
think about copying the ecryptfs configuration as well.

Encfs stores its configuration directly in the encrypted directory like this:

merkaba:~&gt; ls -l /home/.ms2/.encfs5
-rw-r----- 1 root root 241 Mai 19  2008 /home/.ms2/.encfs5

[1] encryption metadata not stored with filesystem on ecryptfs vger kernel org: 
http://www.spinics.net/lists/ecryptfs/msg00062.html</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ecryptfs/+bug/906550/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~serge-hallyn" class="sprite person">Serge Hallyn (serge-hallyn)</a>
            wrote
            <time itemprop="commentTime" datetime="2011-12-20T14:13:54+00:00" title="2011-12-20 14:13:54 UTC">on 2011-12-20</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ecryptfs/+bug/906550/comments/2">
                <strong>Re: [Bug 906550] Re: ecryptfs-setup-private should create an .ecryptfsrc file</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ecryptfs/+bug/906550/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Quoting MartinSteigerwald (&lt;email address hidden&gt;):<br />
<span class="foldable-quoted">
&gt; Thanks, Dustin.<br />
&gt;<br />
&gt; One part of my suggestion was to store the configuration of an ecryptfs<br />
&gt; filesystem within the encrypted directory[1].<br />
&gt;<br />
&gt; With encfs I can rsync the crypted directory to somewhere else and then just<br />
&gt; mount it on the remote machine like I would on my local one. I do not have to<br />
&gt; think about copying the ecryptfs configuration as well.<br />
&gt;<br />
&gt; Encfs stores its configuration directly in the encrypted directory like<br />
&gt; this:<br />
&gt;<br />
&gt; merkaba:~&gt; ls -l /home/.ms2/.encfs5<br />
&gt; -rw-r----- 1 root root 241 Mai 19  2008 /home/.ms2/.encfs5<br />
&gt;<br />
&gt; [1] encryption metadata not stored with filesystem on ecryptfs vger kernel org:<br />
&gt; <a rel="nofollow" href="http://www.spinics.net/lists/ecryptfs/msg00062.html">http://<wbr />www.spinics.<wbr />net/lists/<wbr />ecryptfs/<wbr />msg00062.<wbr />html</a>
</span></p>
<p>Overall, the suggestion makes sense, and I like it.</p>
<p>But one neat thing about ecryptfs is that you can do</p>
<p>&nbsp;mount -t ecryptfs /home/user/<wbr />.Private/<wbr />some/sub/<wbr />dir /mnt</p>
<p>or</p>
<p>&nbsp;rsync -va /home/user/<wbr />.Private/<wbr />dir1 host1:<br />
&nbsp;rsync -va /home/user/<wbr />.Private/<wbr />dir2 host2:</p>
<p>So my concern would just be that people would learn to expect the<br />
config file to always get copied with the dir, which wouldn&#x27;t happen<br />
in this case.</p>
<p>Not sure enough people use it this way to worry about.  Just wanted<br />
to point it out.  (Giving people magic means they won&#x27;t know the<br />
limitations of the magic, and get upset when the magic breaks)</p>
<p>-serge</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Quoting MartinSteigerwald (ms@teamix.de):
&gt; Thanks, Dustin.
&gt; 
&gt; One part of my suggestion was to store the configuration of an ecryptfs 
&gt; filesystem within the encrypted directory[1].
&gt; 
&gt; With encfs I can rsync the crypted directory to somewhere else and then just 
&gt; mount it on the remote machine like I would on my local one. I do not have to 
&gt; think about copying the ecryptfs configuration as well.
&gt; 
&gt; Encfs stores its configuration directly in the encrypted directory like
&gt; this:
&gt; 
&gt; merkaba:~&gt; ls -l /home/.ms2/.encfs5
&gt; -rw-r----- 1 root root 241 Mai 19  2008 /home/.ms2/.encfs5
&gt; 
&gt; [1] encryption metadata not stored with filesystem on ecryptfs vger kernel org: 
&gt; http://www.spinics.net/lists/ecryptfs/msg00062.html

Overall, the suggestion makes sense, and I like it.

But one neat thing about ecryptfs is that you can do

	mount -t ecryptfs /home/user/.Private/some/sub/dir /mnt

or

	rsync -va /home/user/.Private/dir1 host1:
	rsync -va /home/user/.Private/dir2 host2:

So my concern would just be that people would learn to expect the
config file to always get copied with the dir, which wouldn't happen
in this case.

Not sure enough people use it this way to worry about.  Just wanted
to point it out.  (Giving people magic means they won't know the
limitations of the magic, and get upset when the magic breaks)

-serge
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ecryptfs/+bug/906550/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirkland" class="sprite person">Dustin Kirkland  (kirkland)</a>
            wrote
            <time itemprop="commentTime" datetime="2011-12-22T20:24:01.434497+00:00" title="2011-12-22 20:24:01 UTC">on 2011-12-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ecryptfs/+bug/906550/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Taking a few notes for myself...</p>
<p>I was able to get ecryptfs mounting manually using the following:</p>
<p># cat /root/.ecryptfsrc<br />
key=passphrase<br />
passphrase_<wbr />passwd=<wbr />8fab560fcb7f693<wbr />f6e1411427c4d11<wbr />d9<br />
ecryptfs_<wbr />unlink_<wbr />sigs<br />
ecryptfs_<wbr />sig=3d7c87fdd9d<wbr />d0964<br />
ecryptfs_<wbr />fnek_sig=<wbr />e94bb6f9dad673b<wbr />0<br />
ecryptfs_xattr<br />
ecryptfs_<wbr />key_bytes=<wbr />16<br />
ecryptfs_cipher=aes<br />
ecryptfs_<wbr />passthrough=<wbr />n</p>
<p># cat /root/.<wbr />ecryptfs/<wbr />sig-cache.<wbr />txt<br />
3d7c87fdd9dd0964</p>
<p># ecryptfs-<wbr />add-passphrase --fnek<br />
Passphrase: 8fab560fcb7f693<wbr />f6e1411427c4d11<wbr />d9<br />
Inserted auth tok with sig [3d7c87fdd9dd0964] into the user session keyring<br />
Inserted auth tok with sig [e94bb6f9dad673b0] into the user session keyring</p>
<p># mount -t ecryptfs /home/.<wbr />ecryptfs/<wbr />ubuntu/<wbr />.Private /mnt<br />
Attempting to mount with the following options:<br />
&nbsp;&nbsp;ecryptfs_<wbr />unlink_<wbr />sigs<br />
&nbsp;&nbsp;ecryptfs_<wbr />fnek_sig=<wbr />e94bb6f9dad673b<wbr />0<br />
&nbsp;&nbsp;ecryptfs_<wbr />xattr_metadata<br />
&nbsp;&nbsp;ecryptfs_<wbr />key_bytes=<wbr />16<br />
&nbsp;&nbsp;ecryptfs_<wbr />cipher=<wbr />aes<br />
&nbsp;&nbsp;ecryptfs_<wbr />sig=3d7c87fdd9d<wbr />d0964<br />
Mounted eCryptfs</p>
<p>And the data can be read/written just fine.</p>
<p>Note that the ecryptfs-<wbr />add-passphrase --fnek is unfortunately necessary to get the fnek loaded.  I suppose we could/should add that logic somewhere.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Taking a few notes for myself...

I was able to get ecryptfs mounting manually using the following:

# cat /root/.ecryptfsrc 
key=passphrase
passphrase_passwd=8fab560fcb7f693f6e1411427c4d11d9
ecryptfs_unlink_sigs
ecryptfs_sig=3d7c87fdd9dd0964
ecryptfs_fnek_sig=e94bb6f9dad673b0
ecryptfs_xattr
ecryptfs_key_bytes=16
ecryptfs_cipher=aes
ecryptfs_passthrough=n

# cat /root/.ecryptfs/sig-cache.txt
3d7c87fdd9dd0964

# ecryptfs-add-passphrase --fnek
Passphrase: 8fab560fcb7f693f6e1411427c4d11d9
Inserted auth tok with sig [3d7c87fdd9dd0964] into the user session keyring
Inserted auth tok with sig [e94bb6f9dad673b0] into the user session keyring

# mount -t ecryptfs /home/.ecryptfs/ubuntu/.Private /mnt
Attempting to mount with the following options:
  ecryptfs_unlink_sigs
  ecryptfs_fnek_sig=e94bb6f9dad673b0
  ecryptfs_xattr_metadata
  ecryptfs_key_bytes=16
  ecryptfs_cipher=aes
  ecryptfs_sig=3d7c87fdd9dd0964
Mounted eCryptfs

And the data can be read/written just fine.

Note that the ecryptfs-add-passphrase --fnek is unfortunately necessary to get the fnek loaded.  I suppose we could/should add that logic somewhere.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ecryptfs/+bug/906550/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2012-08-04T02:44:03.688192+00:00" title="2012-08-04 02:44:03 UTC">on 2012-08-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ecryptfs/+bug/906550/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This is a feature request that isn&#x27;t getting much attention. I&#x27;m knocking the importance down to wishlist so it isn&#x27;t at the top of our bug reports.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This is a feature request that isn't getting much attention. I'm knocking the importance down to wishlist so it isn't at the top of our bug reports.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ecryptfs: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        High &#8594; Wishlist
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ecryptfs/+bug/906550/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~gamberoni" class="sprite person">Marco Gamberoni (gamberoni)</a>
            wrote
            <time itemprop="commentTime" datetime="2014-02-28T22:23:17.634488+00:00" title="2014-02-28 22:23:17 UTC">on 2014-02-28</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ecryptfs/+bug/906550/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>ecryptfs-<wbr />setup-private should also add a per-user salt in .ecryptfsrc<br />
&nbsp;&nbsp;&nbsp;salt=&lt;16 random hex digits&gt;<br />
Beware, anything else than 16 hex digits is silently ignored.</p>
<p>The lack of an .ecryptfsrc with a salt= stanza in the standard eCryptfs configuration set up by ecryptfs-<wbr />setup-private has a security implication: all installations end up wrapping (encrypting) the mount passphrase with the user login password and the DEFAULT SALT VALUE.<br />
A unique salt value among almost all installations makes them a convenient target for a rainbow table attack on the wrapped-passphrase file.</p>
<p>I read in the 2005 document &quot;eCryptfs: An Enterprise-class Cryptographic Filesystem for Linux by Michael Austin Halcrow&quot; that .ecryptfsrc files were intended as &quot;Apache-like policy definition files&quot;, but a quick look at actual source code gives me the impression this is not as things stand.<br />
The path  ~/.ecryptfsrc is hard coded in cmd_ln_parser.c, which is inconvenient for the common case of encrypting the whole home directory.<br />
I suggest .ecryptfsrc should reside in /home/.<wbr />ecryptfs/<wbr />$LOGNAME/<wbr />.ecryptfs/ config directory, along with wrapped-passphrase, Private.sig, and other configuration information.<br />
I got here because I am dabbling with a config package to implement mandatory eCryptfs encrypted home for all users of a system, and started looking into how pam_ecryptfs does its job. IMHO, removing the hard coded defaults from ecryptfs-utils and implementing and documenting a configuration file should have higher priority than wishlist.</p>
<p>Moreover, .ecryptfsrc does not look to me as an appropriate place for the salt value. Like in /etc/shadow, the sensible place to store the salt is alongside the hash: in wrapped-passphrase.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">ecryptfs-setup-private should also add a per-user salt in .ecryptfsrc
   salt=&lt;16 random hex digits&gt;
Beware, anything else than 16 hex digits is silently ignored.

The lack of an .ecryptfsrc with a salt= stanza in the standard eCryptfs configuration set up by ecryptfs-setup-private has a security implication: all installations end up wrapping (encrypting) the mount passphrase with the user login password and the DEFAULT SALT VALUE.
A unique salt value among almost all installations makes them a convenient target for a rainbow table attack on the wrapped-passphrase file.

I read in the 2005 document "eCryptfs: An Enterprise-class Cryptographic Filesystem for Linux by Michael Austin Halcrow" that .ecryptfsrc files were intended as "Apache-like policy definition files", but a quick look at actual source code gives me the impression this is not as things stand.
The path  ~/.ecryptfsrc is hard coded in cmd_ln_parser.c, which is inconvenient for the common case of encrypting the whole home directory.
I suggest .ecryptfsrc should reside in /home/.ecryptfs/$LOGNAME/.ecryptfs/ config directory, along with wrapped-passphrase, Private.sig, and other configuration information.
I got here because I am dabbling with a config package to implement mandatory eCryptfs encrypted home for all users of a system, and started looking into how pam_ecryptfs does its job. IMHO, removing the hard coded defaults from ecryptfs-utils and implementing and documenting a configuration file should have higher priority than wishlist.

Moreover, .ecryptfsrc does not look to me as an appropriate place for the salt value. Like in /etc/shadow, the sensible place to store the salt is alongside the hash: in wrapped-passphrase.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ecryptfs/+bug/906550/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~sylvain-pelissier" class="sprite person">Sylvain (sylvain-pelissier)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-02-09T08:24:02.781059+00:00" title="2015-02-09 08:24:02 UTC">on 2015-02-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ecryptfs/+bug/906550/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I have noticed that ecryptfs-utils is the default program used by the<br />
Ubuntu distributions for home folder encryption since version 10.04.<br />
In this case, the wrapping key is generated from the user password<br />
using the hash function SHA-512. As mentioned previously, the wrapping<br />
key is hashed with the default fixed salt and stored in the<br />
&quot;wrapped-<wbr />passphrase&quot; file. What’s interesting with Ubuntu<br />
installations, since the salt is fixed, time-memory trade-off (rainbow<br />
tables, etc.) can apply, as well as bulk dictionary attacks to crack<br />
user passwords of Ubuntu installations when the home folder encryption<br />
is activated.<br />
I think a CVE should be open for this issue. I will work on this bug and<br />
propose a patch soon.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I have noticed that ecryptfs-utils is the default program used by the
Ubuntu distributions for home folder encryption since version 10.04.
In this case, the wrapping key is generated from the user password
using the hash function SHA-512. As mentioned previously, the wrapping
key is hashed with the default fixed salt and stored in the
"wrapped-passphrase" file. What’s interesting with Ubuntu
installations, since the salt is fixed, time-memory trade-off (rainbow
tables, etc.) can apply, as well as bulk dictionary attacks to crack
user passwords of Ubuntu installations when the home folder encryption
is activated.
I think a CVE should be open for this issue. I will work on this bug and
propose a patch soon.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ecryptfs/+bug/906550/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~sylvain-pelissier" class="sprite person">Sylvain (sylvain-pelissier)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T12:20:21.371308+00:00" title="2015-03-11 12:20:21 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ecryptfs/+bug/906550/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Solved in revisions 839: <a rel="nofollow" href="http://bazaar.launchpad.net/~ecryptfs/ecryptfs/trunk/revision/839">http://<wbr />bazaar.<wbr />launchpad.<wbr />net/~ecryptfs/<wbr />ecryptfs/<wbr />trunk/revision/<wbr />839</a>.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Solved in revisions 839: http://bazaar.launchpad.net/~ecryptfs/ecryptfs/trunk/revision/839.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ecryptfs/+bug/906550/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tyhicks" class="sprite person">Tyler Hicks (tyhicks)</a>
            wrote
            <time itemprop="commentTime" datetime="2015-03-11T15:02:32.265510+00:00" title="2015-03-11 15:02:32 UTC">on 2015-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ecryptfs/+bug/906550/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi Sylvain - Let&#x27;s not hijack this bug to track the salted password security fix. It was originally about ecryptfs-<wbr />setup-private creating a .ecryptfs file and had nothing to do with the lack of a random salt. AFAIK, there is no bug opened for the salt issue and I only worked from your report on oss-security.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi Sylvain - Let's not hijack this bug to track the salted password security fix. It was originally about ecryptfs-setup-private creating a .ecryptfs file and had nothing to do with the lack of a random salt. AFAIK, there is no bug opened for the salt issue and I only worked from your report on oss-security.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/ecryptfs/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public</strong>
         information
     </span>&nbsp;<a class="sprite edit action-icon" id="privacy-link" href="/ecryptfs/+bug/906550/+secrecy">Edit</a>

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    <li class="sprite bug-dupe">
    <span id="mark-duplicate-text">
    <a class="menu-link-mark-dupe" href="/ecryptfs/+bug/906550/+duplicate">Mark as duplicate</a>
    </span>
    </li>
    
    <li><a class="menu-link-createquestion sprite add" href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+create-question">Convert to a question</a></li>
    
    <li><a class="menu-link-addbranch sprite add" href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+addbranch">Link a related branch</a></li>
    <li><a class="menu-link-linktocve sprite add" href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+linkcve">Link to <abbr title="Common Vulnerabilities and Exposures Index">CVE</abbr></a></li>
    
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/ecryptfs/+bug/906550/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/ecryptfs/+bug/906550/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  
  


      

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-logo-and-name-hierarchy.png" alt="Launchpad" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004-2021
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://twitter.com/launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        r0d8de2b
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"bug_is_private": false, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/906550", "web_link": "https://bugs.launchpad.net/bugs/906550", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 906550, "private": false, "information_type": "Public", "name": null, "title": "ecryptfs-setup-private should create an .ecryptfsrc file", "description": "ecryptfs-setup-private should really create a good ~/.ecryptfsrc and sigs file as part of its setup, like so:\n\n\u003e merkaba:~\u003e cat .ecryptfsrc\n\u003e ecryptfs_unlink_sigs\n\u003e ecryptfs_sig=[\u2026]\n\u003e ecryptfs_fnek_sig=[\u2026]\n\u003e ecryptfs_xattr\n\u003e ecryptfs_key_bytes=32\n\u003e ecryptfs_cipher=aes\n\u003e ecryptfs_passthrough=n", "owner_link": "https://bugs.launchpad.net/api/devel/~kirkland", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/bug_tasks", "duplicate_of_link": null, "date_created": "2011-12-19T21:52:30.597155+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/subscriptions", "date_last_updated": "2015-03-11T15:02:32.643650+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 20, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/cves", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/attachments", "security_related": false, "latest_patch_uploaded": null, "tags": [], "date_last_message": "2015-03-11T15:02:32.265510+00:00", "number_of_duplicates": 0, "message_count": 9, "users_affected_count": 2, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/users_unaffected", "users_affected_count_with_dupes": 2, "other_users_affected_count_with_dupes": 2, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/messages", "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/906550/linked_merge_proposals", "http_etag": "\"a1afea753c8b2fb3517b3bf7a408ca9672e78a76-a324f012f9fad081a5b5479ab93dba92446d8f2d\""}, "total_comments_and_activity": 17, "related_features": {}, "information_type_data": {"PUBLIC": {"is_private": false, "name": "Public", "order": 0, "description": "Everyone can see this information.\n", "value": "PUBLIC", "description_css_class": "choice-description"}, "PRIVATESECURITY": {"is_private": true, "name": "Private Security", "order": 2, "description": "Only the security group can see this information.\n ", "value": "PRIVATESECURITY", "description_css_class": "choice-description"}, "PUBLICSECURITY": {"is_private": false, "name": "Public Security", "order": 1, "description": "Everyone can see this security related information.\n", "value": "PUBLICSECURITY", "description_css_class": "choice-description"}, "USERDATA": {"is_private": true, "name": "Private", "order": 3, "description": "Only shared with users permitted to see private user information.\n", "value": "USERDATA", "description_css_class": "choice-description"}}, "context": {"self_link": "https://bugs.launchpad.net/api/devel/ecryptfs/+bug/906550", "web_link": "https://bugs.launchpad.net/ecryptfs/+bug/906550", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/906550", "milestone_link": null, "status": "Triaged", "importance": "Wishlist", "assignee_link": "https://bugs.launchpad.net/api/devel/~kirkland", "bug_target_display_name": "eCryptfs", "bug_target_name": "ecryptfs", "bug_watch_link": null, "date_assigned": "2011-12-19T21:52:43.660144+00:00", "date_created": "2011-12-19T21:52:30.597155+00:00", "date_confirmed": "2011-12-19T21:52:38.506022+00:00", "date_incomplete": null, "date_in_progress": null, "date_closed": null, "date_left_new": "2011-12-19T21:52:38.506022+00:00", "date_triaged": "2011-12-19T21:52:38.506022+00:00", "date_fix_committed": null, "date_fix_released": null, "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~kirkland", "target_link": "https://bugs.launchpad.net/api/devel/ecryptfs", "title": "Bug #906550 in eCryptfs: \"ecryptfs-setup-private should create an .ecryptfsrc file\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/ecryptfs/+bug/906550/related_tasks", "is_complete": false, "http_etag": "\"2daa14cc8fa2274ef3a2c6478d91b58eecb89642-61b79a4f39f7665b7b0314f9e82d91294eed0f5f\""}, "bugtask_data": {"1078371": {"delete_link": "https://bugs.launchpad.net/ecryptfs/+bug/906550/+delete", "bug_title": "ecryptfs-setup-private should create an .ecryptfsrc file", "user_can_unassign": false, "importance_value": "Wishlist", "user_can_edit_importance": false, "assignee_vocabulary": "AllUserTeamsParticipation", "hide_assignee_team_selection": true, "user_can_edit_status": true, "user_can_delete": false, "row_id": "tasksummary1078371", "target_is_product": true, "user_can_edit_milestone": false, "prefix": "ecryptfs", "bugtask_path": "/ecryptfs/+bug/906550", "id": 1078371, "milestone_value": null, "status_widget_items": "[]", "milestone_widget_items": "[]", "form_row_id": "task1078371", "targetname": "eCryptfs", "assignee_is_team": false, "assignee_vocabulary_filters": [], "user_can_edit_assignee": false, "importance_widget_items": "[]", "assignee_value": "kirkland", "status_value": "Triaged"}}, "subscribers_portlet_url_data": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/906550", "web_link": "https://bugs.launchpad.net/bugs/906550"}, "initial_comment_batch_offset": 41, "first visible_recent_comment": -32};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 54 queries/external actions issued in 0.70 seconds

    Features: {'app.maintenance_message': None, 'hard_timeout': '9000', 'js.yui_version': None, 'app.mainsite_only.canonical_url': None, 'disclosure.dsp_picker.enabled': 'on', 'baselayout.careers_link.disabled': None, 'bugs.affected_count_includes_dupes.disabled': None, 'visible_render_time': None, 'profiling.enabled': None, 'bugs.nominations.bug_supervisors_can_target': 'on'}

    r0d8de2b

    -->

</html>

