<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 986971 &ndash; VUL-0: CVE-2016-5746: libstorage,yast2-storage:: encryption passphrases written to temporary files on disk</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="https://bugzilla.suse.com/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=986971&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=986971">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=986971">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=986971">



    
    <link href="skins/standard/global.css?1411227340"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css?1411227331" rel="stylesheet"
            type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css?1411227331" rel="stylesheet"
            type="text/css" ><link href="skins/standard/global.css?1411227340" rel="stylesheet"
            type="text/css" ><link href="skins/standard/show_bug.css?1416528352" rel="stylesheet"
            type="text/css" ><link href="extensions/Voting/web/style.css?1411227348" rel="stylesheet"
            type="text/css" ><!--[if lte IE 7]>
      


      <link href="skins/standard/IE-fixes.css?1411227340" rel="stylesheet"
            type="text/css" >
<![endif]-->

    <link href="skins/contrib/SUSE/global.css?1411227340" rel="stylesheet"
            type="text/css" 
          title="SUSE">

    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js?1411227335"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js?1411227333"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js?1411227329"></script><script type="text/javascript" src="js/yui/connection/connection-min.js?1411227329"></script><script type="text/javascript" src="js/yui/json/json-min.js?1411227333"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js?1411227334"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js?1411227335"></script><script type="text/javascript" src="js/global.js?1411227336"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 1
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 986971 – VUL-0: CVE-2016-5746: libstorage,yast2-storage:: encryption passphrases written to temporary files on disk",  
                             "show_bug.cgi?id=986971" );
        document.title = "Bug 986971 – VUL-0: CVE-2016-5746: libstorage,yast2-storage:: encryption passphrases written to temporary files on disk";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 986971 – VUL-0: CVE-2016-5746: libstorage,yast2-storage:: encryption passphrases written to temporary files on disk", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script type="text/javascript" src="js/util.js?1411227336"></script><script type="text/javascript" src="js/field.js?1414105521"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" ><link href="extensions/Testopia/css/testopia.css" rel="stylesheet" type="text/css">
    <link href="extensions/Testopia/extjs/examples/ux/css/RowEditor.css" rel="stylesheet" type="text/css"  />
    <script type="text/javascript">
        Testopia_user = {login: "", id: 0};
        DEFAULT_CASE_STATUS = 'CONFIRMED';
    </script>
  </head>



  <body onload=""
        class="bugzilla-suse-com bz_bug bz_status_RESOLVED bz_product_SUSE_Security_Incidents bz_component_Incidents bz_bug_986971 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<!--div id="tmp_warning_wnd" style="
    position:fixed; 
    color:red; 
    font-size:20px; 
    top:50px; 
    left:10%; 
    right:10%; 
    padding:1em;
    background-color:#ffffff;
    border:3px solid red;
    z-index:9999;
    text-align:center;">
  This Bugzilla is for TESTING ONLY. All new bugs and comments WILL BE LOST. Use <a href="https://bugzilla.suse.com">bugzilla.suse.com</a> instead.
  <button style="
      background:none;
      border:0;
      box-shadow:none;
      color:red;
      text-shadow:none;
      position:absolute;
      right:0;
      top:0;" onclick="document.getElementById('tmp_warning_wnd').style.display='none';">[X]</button>
</div-->

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;986971</p>
    </td>

    <td id="subtitle">
      <p class="subheader">VUL-0: CVE-2016-5746: libstorage,yast2-storage:: encryption passphrases written to temporary files on disk</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2018-10-04 14:42:43 UTC</p>
    </td>
</tr>
</table>

<table id="lang_links_container" cellpadding="0" cellspacing="0"
       class="bz_default_hidden"><tr><td>
</td></tr></table>
<ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>

  <li>
        <span class="separator">| </span>
        <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <!--a id="login_link_top" href="show_bug.cgi?id=986971&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a-->
  <a id="login_link_top" href="show_bug.cgi?id=986971&amp;GoAheadAndLogIn=1">Log In</a>


  <form action="show_bug.cgi?id=986971" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login_top"
        onsubmit="return check_mini_login_fields( '_top' );"
  >
    <input id="Bugzilla_login_top" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('_top')"
    >
    <input class="bz_password" 
           id="Bugzilla_password_top" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
           onfocus="mini_login_on_focus('_top')"
    >
    <input type="submit" name="GoAheadAndLogIn" value="Log in" 
            id="log_in_top">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_top');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_top');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
<li id="forgot_container_top">
  <span class="separator">| </span>
  <a id="forgot_link_top" href="https://idp-portal.suse.com/univention/self-service/#page=passwordreset">Forgot Password</a>
</li>
</ul>
</div> 

<div id="bugzilla-body">

<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2018-10-04 14:42:43">
  <input type="hidden" name="longdesclength" value="37">
  <input type="hidden" name="id" value="986971">
  <input type="hidden" name="token" value="1635630670-ZSp8V4JvuY2qqF1s9_ThK1Dle2BG2IWzTAqxXdzl2eg">
<div class="bz_alias_short_desc_container edit_form">
        <strike>
     <a href="show_bug.cgi?id=986971"><b>Bug&nbsp;986971</b></a> -<span id="summary_alias_container" class="bz_default_hidden">
        (<span id="alias_nonedit_display">CVE-2016-5746</span>) 
      <span id="short_desc_nonedit_display">VUL-0: CVE-2016-5746: libstorage,yast2-storage:: encryption passphrases written to temporary files on disk</span></strike>
     </span>  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">(CVE-2016-5746)
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=glossary.html#short_desc"
  >Summary:</a>
</label>
</th>
          <td><span title="VUL-0: CVE-2016-5746: libstorage,yast2-storage:: encryption passphrases written to temporary files on disk">VUL-0: CVE-2016-5746: libstorage,yast2-storage:: encryption passphrases writt...
        </span>
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('VUL-0: CVE-2016-5746: libstorage,yast2-storage:: encryption passphrases written to temporary files on disk', 'CVE-2016-5746');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=status_resolution_matrix.html">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>

          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=glossary.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Novell Products</td>
      </tr>

    
    
    
    <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >SUSE Security Incidents</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=glossary.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Novell Products</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=SUSE Security Incidents"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Incidents</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=glossary.html#version"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=glossary.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">Other
       Other
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority">
          <a href="page.cgi?id=glossary.html#priority">Priority</a></label>:
      </th>
      <td>P3 - Medium
        <label for="severity">
          <b>Severity</b></label>:
       Normal
      </td>
    </tr>

      <tr>
        <th class="field_label">
          <label for="target_milestone">
            <a href="page.cgi?id=glossary.html#target_milestone">
            Target&nbsp;Milestone</a></label>:
        </th><td>---
  </td>
      </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=glossary.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">YaST Team</span>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">

    <label for="qa_contact" accesskey="q">

  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=glossary.html#qa_contact"
  >QA Contact:</a>
</label>
</th>
      <td><span class="vcard"><span class="fn">Security Team bot</span>
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'security-team\x40suse.de',
        'security-team\x40suse.de');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=glossary.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
          <a href="https://trello.com/c/X48fOgJk/970-bug-986971-vul-0-libstorage-encryption-passphrass-written-to-temporary-files-on-disk"><span title="https://trello.com/c/X48fOgJk/970-bug-986971-vul-0-libstorage-encryption-passphrass-written-to-temporary-files-on-disk">https://trello.com/c/X48fOgJk/970-bug...
        </span></a>
      </span>
    </td>
  </tr>
  
    <tr><th class="field_label "
    id="field_label_status_whiteboard">

    <label for="status_whiteboard" accesskey="w">

  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=glossary.html#status_whiteboard"
  >Whiteboard:</a>
</label>
</th><td colspan="2">
        <span title="CVSSv2:SUSE:CVE-2016-5746:4.7:(AV:L/AC:H/Au:N/C:C/I:P/A:N) maint:released:sle10-sp3:63034 CVSSv2:NVD:CVE-2016-5746:1.2:(AV:L/AC:H/Au:N/C:P/I:N/A:N) CVSSv3:NVD:CVE-2016-5746:5.1:(AV:L/AC:H/PR:N/UI:N/S:U/C:H/I:N/A:N)">CVSSv2:SUSE:CVE-2016-5746:4.7:(AV:L/A...
        </span>  
  </td>
    </tr>
  
    <tr>
      <th class="field_label">
        <label for="keywords" accesskey="k">
          <a href="describekeywords.cgi"><u>K</u>eywords</a></label>:
      </th>
      <td class="field_value" colspan="2">
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=glossary.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=glossary.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=986971&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=986971">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2016-06-29 12:56 UTC by <span class="vcard"><span class="fn">Andreas Stieger</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2018-10-04 14:42 UTC 
      (<a href="show_activity.cgi?id=986971">History</a>)
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>3 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="aschnell">aschnell</option>
                <option value="jsrain">jsrain</option>
                <option value="meissner">meissner</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=glossary.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         <tr><th class="field_label "
    id="field_label_cf_foundby">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_foundby"
  >Found By:</a>

</th>
  <td class="field_value "
      id="field_container_cf_foundby"  colspan="2">Security Response Team</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_nts_priority">


  <a 
      title="A custom Free Text field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_nts_priority"
  >Services Priority:</a>

</th>
  <td class="field_value "
      id="field_container_cf_nts_priority"  colspan="2"></td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_biz_priority">


  <a 
      title="A custom Free Text field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_biz_priority"
  >Business Priority:</a>

</th>
  <td class="field_value "
      id="field_container_cf_biz_priority"  colspan="2"></td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_blocker">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_blocker"
  >Blocker:</a>

</th>
  <td class="field_value "
      id="field_container_cf_blocker"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_marketing_qa_status">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_marketing_qa_status"
  >Marketing QA Status:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_marketing_qa_status"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_it_deployment">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=glossary.html#cf_it_deployment"
  >IT Deployment:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_it_deployment"  colspan="2">---</td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         <ul>
    <li><a href="tr_new_case.cgi?product=SUSE%20Security%20Incidents&bug=986971">Create test case</a></li>
</ul><ul>
  <li><a href="enter_bug.cgi?cloned_bug_id=986971">Clone This Bug</a></li>
</ul>
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>



  <tr class="bz_attach_footer">
    <td colspan="2">
        <a href="attachment.cgi?bugid=986971&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=986971&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1411227336" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>




<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andreas Stieger</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-06-29 12:56:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >libstorage stores passphrases for encrypted partitions/volumes in a temporary file on disk.

This is not an issue in a distribution installer situation, where tmpdir of the installer is not on permanent storage. However in an installed system, managing (opening, creating) any encrypted storage with libstorage / YaST2 writes the clear passphrases to disks.

This exposes current, past or even mistyped or unused passphrases for encrypted storage devices on permanent storage, as remnants of unlinked temporary files. In the case of a crash or termination of the process using libstorage, this is even kept as a file.

The attack vector is someone gaining access to the raw storage at any later point even if the encrypted storage is no longer mounted or present, either through privilege escalation or physical access.

/tmp/libstorage-XXXXXX is actually created with mode 700.
/tmp/libstorage-XXXXXX/pwdf is created with mode 611.

Mitigating factors:
* full disk encryption or partial encryption covering /tmp
* /tmp on tempfs (modulo cold boot attack vectors)

Code locations:

The path used is getStorage()-&gt;tmpDir() + &quot;/pwdf&quot;
The parent is created in Storage::initialize()
e.g. /tmp/libstorage-XXXXXX

The passphrase for opening volumes and creating volumes is written to a temporary file in:

storage::Volums::detectEncyption()
storage::Volume::doCryptsetup(bool readonly) 
storage::Volume::doLosetup()

It is passed to 
storage::Volume::getCryptsetupCmd()
where a cryptsetup command is constructed in which the pwdf file is used as a keyfile. The command is executed by callers of getCryptsetupCmd()

The temporary file is overwritten for subsequent 
The temporary is not removed until the destrucor Storage::~Storage() is called.


Consideration:

cryptsetup {luksOpen,luksFormat} (and the dm equivalents used elsewhere) have the option to read key material from stdin, which should be preferred over the solution described.</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Swamp Workflow Management</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-06-29 22:00:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >bugbot adjusting priority</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andreas Stieger</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-06-30 09:11:00 UTC
        </span>
      </div>



<pre class="bz_comment_text" >CWE-313: Cleartext Storage in a File or on Disk
Assigning CVE-2016-5746
Rating CVSS v2 4.7 (AV:L/AC:H/Au:N/C:C/I:P/A:N)</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andreas Stieger</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-07 08:26:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Making public.

Note that a past exposure of key material (dm: key; LUKS: key slot passphrase) is not addressed by a code fix or maintenance update alone.

Corrective action may also also include, e.g. for LUKS:
* re-encrypt the affected storage if required. Note that this is different from changing the passphrase. This is due the structure of the LUKS header with one or more passphrases protecting the single master key.
* consider any LUKS header back-ups corresponding to a key slot passphrase used previously
* changing passphrases re-used elsewhere

Mitigating factors:
* full disk encryption or partial encryption covering /tmp
* /tmp on tmpfs (modulo cold boot attack vectors)</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-13 14:27:53 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Patch against SLE-12 SP2:

<a href="https://github.com/openSUSE/libstorage/pull/161">https://github.com/openSUSE/libstorage/pull/161</a></pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-13 14:55:07 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Test procedure 1: Crypto file in installed system
=================================================

- Build and install libstorage with the above patch.

- Start YaST expert partitioner with that libstorage;
  create a crypto file there:

  - In the &quot;System View&quot; tree on the left, select &quot;Crypt Files&quot;

  - Click &quot;Add Crypt File&quot; button
  - Enter &quot;/tmp/crypto-01&quot; in the &quot;Path Name of Loop File&quot; field
  - Check &quot;Create Loop File&quot;
  - Click &quot;Next&quot; button

  - Enter &quot;/crypto-01&quot; in the &quot;Mount Point&quot; field
  - Click &quot;Next&quot; button

  - Enter a password in the next dialog
  - Enter the same password again in the second password field
  - Click &quot;Next&quot; button

  -&gt; The &quot;Crypt Files&quot; table should now have an entry like this:

     /dev/mapper/cr_crypto-01  50.00 MiB  XFS  /crypto-01 *

  - Click &quot;Next&quot;   button to see the changes summary
  - Click &quot;Finish&quot; button to execute the changes

  -&gt; There should now be a new crypted file system mounted on /crypto-01

     mount | grep crypt

     /dev/mapper/cr_crypto-01 on /crypto-01 type xfs ...

    cat /etc/crypttab 
    cr_crypto-01    /tmp/crypto-01       none       none

    ls -l /dev/mapper
    total 0
    crw------- 1 root root 10, 236 Jul  6 14:22 control
    lrwxrwxrwx 1 root root       7 Jul 13 16:39 cr_crypto-01 -&gt; ../dm-0


- Create one or more test files on the new crypted file system:

  cd /crypto-01
  echo &quot;echo &quot;Kilroy was here&quot; &gt;test.txt


- Unmount and close the crypto file:

  umount /crypto-01
  cryptsetup luksClose cr_crypto-01

  ls -l /dev/mapper
  total 0
  crw------- 1 root root 10, 236 Jul  6 14:22 control

  sudo dmsetup table
  No devices found

- Open and mount it manually:

  cryptsetup luksOpen /tmp/crypto-01 cr_crypto-01
  Enter passphrase for /tmp/crypto-01: 
  ...
  mount /dev/mapper/cr_crypto-01 /crypto-01 

- Check contents:

  ls -l /crypto-01 
  total 4
  -rw-r--r-- 1 root root 16 Jul 13 16:44 test.txt

  cat /crypto-01/test.txt 
  Kilroy was here


- Clean up: Close and unmount again

  umount /crypto-01
  cryptsetup luksClose cr_crypto-01

- Remove the entry from /etc/crypttab
  (or delete that file if that was the only entry)

- Remove mount point

  rmdir /crypto-01

- Remove entry from /etc/fstab</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-13 15:30:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Creating an ISO with the patched libstorage for the target code stream
======================================================================

- Build RPMs with the patched libstorage for the target code stream

- Create a driver update disk (DUD) with those RPMs:

  cd ~/space/rpms
  rm -f *.rpm
  osc -A ibs getbinaries -d . home:shundhammer:storage libstorage \
    SLE_12_SP1 x86_64

  libstorage-devel-2.26.4-2.1.x86_64.rpm             100% 
  libstorage-python-2.26.4-2.1.x86_64.rpm            100% 
  libstorage-ruby-2.26.4-2.1.x86_64.rpm              100% 
  libstorage-testsuite-2.26.4-2.1.x86_64.rpm         100% 
  libstorage7-2.26.4-2.1.x86_64.rpm                  100%  

  rm libstorage-testsuite*.rpm

  mkdud -c ../iso/pipe-pw.dud --dist sles12 --obs-keys libstorage*.rpm


- Integrate that DUD into the installation DVD:

  mksusecd --create SLE-12-SP2-patched-DVD1.iso --initrd \
    pipe-pw.dud \
    SLE-12-SP2-Server-DVD-x86_64-Beta4-DVD1.iso</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-13 15:39:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Test procedure 2: Installation with crypted LVM
===============================================

This tests if the new password handling is compatible to the old one:


- Start an installation (QEMU or VirtualBox) with the original (unpatched!) ISO

- Change the partitioning proposal to &quot;encrypted LVM&quot;.
  Make sure to write down or memorize the encryption password.

- Perform the installation

- During reboot at the end of the installation, check if the encryption 
  password works to unlock the partitions (log in to that new 
  installation to check)

- Shut down that newly installed system


- Start an installation on the same (virtual) disk with the patched ISO

- The installer should detect that there is an encrypted LVM and ask 
  for the password

- Enter the password and check if there were any complaints.

- At the storage proposal, again select &quot;encrypted LVM&quot;
  (the password will remain the same; you will not be prompted again)

- Perform the installation

- During reboot at the end of the installation, check if the encryption 
  password works to unlock the partitions (log in to that new 
  installation to check)</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-13 15:40:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Successfully tested test procedure 1 and 2 on Git master (Factory/SLE-12 SP2).</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-14 09:31:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Backport to libstorage-ng:

<a href="https://github.com/openSUSE/libstorage-ng/pull/123">https://github.com/openSUSE/libstorage-ng/pull/123</a>

(SystemCmd + unit test only since no crypto support yet)</pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-14 12:31:18 UTC
        </span>
      </div>



<pre class="bz_comment_text" >This fix will appear in SLE-12 SP2 as libstorage7-2.26.4 .</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-14 12:41:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Backport to SLE-12 SP1:

<a href="https://github.com/openSUSE/libstorage/pull/162">https://github.com/openSUSE/libstorage/pull/162</a></pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-14 16:01:31 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Backport to SLE-12 GA:

<a href="https://github.com/openSUSE/libstorage/pull/163">https://github.com/openSUSE/libstorage/pull/163</a></pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Swamp Workflow Management</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-07-28 13:44:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >An update workflow for this issue was started.
This issue was rated as moderate.
Please submit fixed packages until 2016-08-11.
When done, reassign the bug to <a href="mailto:security-team&#64;suse.de">security-team&#64;suse.de</a>.
<a href="https://swamp.suse.de/webswamp/wf/62916">https://swamp.suse.de/webswamp/wf/62916</a></pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-15 12:51:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Backport to SLE-12 SP1 is merged:

<a href="https://github.com/openSUSE/libstorage/pull/162">https://github.com/openSUSE/libstorage/pull/162</a></pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-15 12:52:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Backport to SLE-12 GA is merged:

<a href="https://github.com/openSUSE/libstorage/pull/163">https://github.com/openSUSE/libstorage/pull/163</a></pre>
    </div><div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-15 15:56:31 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Successfully performed test procedure #2 with SLE-12 SP1.</pre>
    </div><div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-16 15:21:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Submit request against SUSE_SLE-12-SP1_Update:

<a href="https://build.suse.de/request/show/119676">https://build.suse.de/request/show/119676</a>


Submit request against SUSE_SLE-12_Update:

<a href="https://build.suse.de/request/show/119669">https://build.suse.de/request/show/119669</a></pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-22 13:48:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Backport to SLE-11 SP4:

<a href="https://github.com/yast/yast-storage/pull/223">https://github.com/yast/yast-storage/pull/223</a>

(Notice that prior to SLE-12, libstorage was part of the yast2-storage package)</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-22 14:23:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Backport to SLE-11 SP3:

<a href="https://github.com/yast/yast-storage/pull/224">https://github.com/yast/yast-storage/pull/224</a></pre>
    </div><div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-22 14:39:46 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Submit request against SUSE_SLE-11-SP4_Update:

<a href="https://build.suse.de/request/show/119861">https://build.suse.de/request/show/119861</a>


Submit request against SUSE_SLE-11-SP3_Update:

<a href="https://build.suse.de/request/show/119862">https://build.suse.de/request/show/119862</a></pre>
    </div><div id="c24" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Swamp Workflow Management</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-30 11:10:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >SUSE-SU-2016:2189-1: An update that fixes one vulnerability is now available.

Category: security (moderate)
Bug References: 986971
CVE References: CVE-2016-5746
Sources used:
SUSE Linux Enterprise Software Development Kit 12-SP1 (src):    libstorage-2.25.35.1-3.1
SUSE Linux Enterprise Server 12-SP1 (src):    libstorage-2.25.35.1-3.1
SUSE Linux Enterprise Desktop 12-SP1 (src):    libstorage-2.25.35.1-3.1</pre>
    </div><div id="c25" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-30 12:56:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Backport to SLE-11 SP1:

<a href="https://github.com/yast/yast-storage/pull/226">https://github.com/yast/yast-storage/pull/226</a>

I created RPMs in the IBS with that version, built a DUD, integrated that DUD into the SLES-11-SP1 ISO and tested with that ISO: It installs without problem, and the created encrypted LVM can successfully be decrypted so that system boots without any problems.</pre>
    </div><div id="c26" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-31 12:06:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Submit request against SUSE_SLE-11-SP1_Update:

<a href="https://build.suse.de/request/show/120419">https://build.suse.de/request/show/120419</a></pre>
    </div><div id="c27" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-08-31 15:42:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Backport to SLE-10 SP3:

<a href="https://github.com/yast/yast-storage/pull/227">https://github.com/yast/yast-storage/pull/227</a>

Notice that SLE-10 SP3 does not support creating encrypted LVM volumes.
Test with test procedure #1 from <a href="show_bug.cgi?id=986971#c8">comment #8</a> instead.</pre>
    </div><div id="c28" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-09-01 09:59:22 UTC
        </span>
      </div>



<pre class="bz_comment_text" >New submit request against SLE-11 SP1 after the yast2-devtools had broken the .spec file and the previous SR was rejected:

<a href="https://build.suse.de/request/show/120467">https://build.suse.de/request/show/120467</a></pre>
    </div><div id="c29" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-09-01 10:05:26 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Submit request against SUSE_SLE-10-SP3_Update_Test:

<a href="https://build.suse.de/request/show/120470">https://build.suse.de/request/show/120470</a></pre>
    </div><div id="c30" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-09-07 12:23:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" >New submit request against SUSE_SLE-10-SP3_Update_Test:

<a href="https://build.suse.de/request/show/120765">https://build.suse.de/request/show/120765</a></pre>
    </div><div id="c32" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Swamp Workflow Management</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-09-08 13:12:00 UTC
        </span>
      </div>



<pre class="bz_comment_text" >openSUSE-SU-2016:2264-1: An update that fixes one vulnerability is now available.

Category: security (moderate)
Bug References: 986971
CVE References: CVE-2016-5746
Sources used:
openSUSE Leap 42.1 (src):    libstorage-2.25.35.1-6.1, yast2-storage-3.1.71-4.1</pre>
    </div><div id="c33" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-09-20 10:21:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I was just made aware that the test procedure from <a href="show_bug.cgi?id=986971#c8">comment #8</a> doesn't work for SLES-11 and older: You have to call &quot;losetup&quot; manually to set up and break down the devices, and you have to use the loop devices at certain points:


SLES-11-SP4 # ls -lh /tmp/cr*
-rw-r--r-- 1 root root 50M Sep 20 12:10 /tmp/crypto-01

SLES-11-SP4 # losetup -a       # check what loop devices are in use

SLES-11-SP4 # losetup -f       # check the next free loop device
/dev/loop0


SLES-11-SP4 # losetup /dev/loop0 /tmp/crypto-01 
SLES-11-SP4 # cryptsetup luksOpen /dev/loop0 cr_crypto-01
Enter passphrase for /dev/loop0: ....
SLES-11-SP4 # ls -l /dev/mapper
total 0
crw-rw---- 1 root root 10, 236 Sep 20 11:08 control
lrwxrwxrwx 1 root root       7 Sep 20 12:16 cr_crypto-01 -&gt; ../dm-0


SLES-11-SP4 # mount /dev/mapper/cr_crypto-01 /crypto-01 
SLES-11-SP4 # ls -l /crypto-01 
total 13
drwx------ 2 root root 12288 Sep 20 11:50 lost+found
-rw-r--r-- 1 root root    16 Sep 20 11:51 test.txt


# Clean up

SLES-11-SP4 # umount /crypto-01 
SLES-11-SP4 # losetup -a
/dev/loop0: [fd02]:1908757 (/tmp/crypto-01)
SLES-11-SP4 # cryptsetup luksClose cr_crypto-01

SLES-11-SP4 # losetup -a                       
/dev/loop0: [fd02]:1908757 (/tmp/crypto-01)

SLES-11-SP4 # losetup -d /dev/loop0   # shut down loop device

SLES-11-SP4 # losetup -a    # check if anything is left now          
SLES-11-SP4 # ls -l /dev/mapper  # check if the mapped device is gone
total 0
crw-rw---- 1 root root 10, 236 Sep 20 11:08 control
SLES-11-SP4 #</pre>
    </div><div id="c34" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Swamp Workflow Management</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-09-23 13:11:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >SUSE-SU-2016:2353-1: An update that solves one vulnerability and has three fixes is now available.

Category: security (moderate)
Bug References: 937942,984245,986971,996208
CVE References: CVE-2016-5746
Sources used:
SUSE Linux Enterprise Software Development Kit 11-SP4 (src):    yast2-storage-2.17.161-5.1
SUSE Linux Enterprise Server 11-SP4 (src):    yast2-storage-2.17.161-5.1
SUSE Linux Enterprise Debuginfo 11-SP4 (src):    yast2-storage-2.17.161-5.1</pre>
    </div><div id="c35" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Swamp Workflow Management</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-09-23 14:10:30 UTC
        </span>
      </div>



<pre class="bz_comment_text" >SUSE-SU-2016:2355-1: An update that fixes one vulnerability is now available.

Category: security (moderate)
Bug References: 986971
CVE References: CVE-2016-5746
Sources used:
SUSE Linux Enterprise Server for SAP 12 (src):    libstorage-2.25.16.1-3.1
SUSE Linux Enterprise Server 12-LTSS (src):    libstorage-2.25.16.1-3.1</pre>
    </div><div id="c36" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=986971#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Hundhammer</span>
</span>
        </span>

        <span class="bz_comment_time">
          2016-09-29 12:23:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Fixed for all requested releases now.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=986971">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=986971">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=986971">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>

  <li>
        <span class="separator">| </span>
        <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <!--a id="login_link_bottom" href="show_bug.cgi?id=986971&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a-->
  <a id="login_link_bottom" href="show_bug.cgi?id=986971&amp;GoAheadAndLogIn=1">Log In</a>


  <form action="show_bug.cgi?id=986971" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login_bottom"
        onsubmit="return check_mini_login_fields( '_bottom' );"
  >
    <input id="Bugzilla_login_bottom" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('_bottom')"
    >
    <input class="bz_password" 
           id="Bugzilla_password_bottom" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_bottom" value="password"
           title="Password"
           onfocus="mini_login_on_focus('_bottom')"
    >
    <input type="submit" name="GoAheadAndLogIn" value="Log in" 
            id="log_in_bottom">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_bottom');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_bottom');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
<li id="forgot_container_bottom">
  <span class="separator">| </span>
  <a id="forgot_link_bottom" href="https://idp-portal.suse.com/univention/self-service/#page=passwordreset">Forgot Password</a>
</li>
</ul>
  </li>

  
    


  <form id="testopia_helper_frm"></form><ul class="links">
    <li>Legal: </li>
    <li><a href="http://en.opensuse.org/Terms_of_site">openSUSE</a></li>
    <li><a href="https://www.suse.com/company/legal/">SUSE</a></li>
  </ul>
</ul>

  <div class="outro"></div>
</div>


</body>
</html>