<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="Roundup is a python-based, MIT licensed issue-tracking system with command-line, web and e-mail interfaces">
    <meta name="viewport" content="width=device-width">
    <title>
  
    Issue 5795: Any user can read the hashed password - Tryton issue tracker
  
</title>
    <link rel="stylesheet" type="text/css" href="@@file/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="@@file/style.css">
  

  </head>
  <body>
    
      <div class="navbar sticky-top navbar-light bg-light">
  <a href="https://bugs.tryton.org/" class='navbar-brand'>
    <i class='icon-home'></i> Tryton issue tracker
  </a>
  <button class="navbar-toggler collapsed d-md-none" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
  </button>
  <form name="searchform" method="get" action="issue" class='form-inline my-2 my-lg-0 navbar-search'>
    <input type="hidden" name="@columns" value="id,activity,title,component,nosy,status"/>
    <input type="hidden" name="@sort" value="-activity">
    <input type="hidden" name="@group" value="priority">
    <input type="hidden" name="@filter" value="status">
    <input class="form-control form-control-sm mr-sm-2 search-query" id="search-text" type="search" name="@search_text">
    <input class="btn btn-sm btn-outline-success mr-2 my-2 my-sm-0" type="submit" value="Search" name="submit">
    <div class="form-check mr-2 w-auto">
        <input class="form-check-input" type="radio" name="status" id="status_notresolved" value="-1,1,2,3,4,5,6,7" checked/>
        <label class="form-check-label" for="status_notresolved">Open</label>
    </div>
    <div class="form-check w-auto">
        <input class="form-check-input" type="radio" name="status" id="status_all" value=""/>
        <label class="form-check-label" for="status_all">All</label>
    </div>
  </form>
</div>
    

    
      <div class='container-fluid'>
        <div class='row'>
          <div class='col-md-3 col-lg-2 d-md-block navigation collapse' id="navigation">
            <div class="navigation-sticky">
            
              


  <ul class='nav flex-column'>
    <li class='nav-header'>
      <i class='icon-fire'></i>Issues
    </li>
    

    <li class="nav-item">
      <a href="issue?@sort=-activity&amp;@group=priority&amp;@filter=status%2Cassignedto&amp;@columns=id%2Cactivity%2Ctitle%2Ccomponent%2Cnosy%2Cstatus&amp;@search_text=&amp;status=-1%2C1%2C2%2C3%2C4%2C5%2C6%2C7&amp;assignedto=-1&amp;@dispname=Show%20Unassigned&amp;@pagesize=50&amp;@startwith=0">Show Unassigned</a>
    </li>
    <li class="nav-item">
      <a href="https://bugs.tryton.org/?@dispname=Show%20All">Show All</a>
    </li>
    <li>
      <a href="issue?@template=search">Search</a>
    </li>
    <li>
      <form method="POST" class='form-inline' action="https://bugs.tryton.org/">
        <div class="form-group">
          <input type="hidden" name="@type" value="issue">
          <input type="hidden" name="@action" value="show">
          <input class="form-control form-control-sm d-inline-block w-25" type="text" name="@number">
          <input class="btn btn-sm btn-outline-secondary" type="submit" value="Show issue">
        </div>
      </form>
    </li>
    <li class="nav-item">
        <a href="@@file/graph/issue.html">Statistics</a>
    </li>
    </li>
  </ul>
  <hr>


<ul class='nav flex-column'>
  
  
  
</ul>





  <form method="POST" action='https://bugs.tryton.org/'>
    <ul class='nav flex-column'>
      <li class='nav-header'>
        <i class='icon-user'></i>Login
      </li>
      <li class="nav-item">
        <input class="form-control form-control-sm" type='text' name="__login_name" placeholder='username'>
      </li>
      <li class="nav-item">
        <input class="form-control form-control-sm" type="password" name="__login_password" placeholder='password'>
      </li>
      <li class="nav-item">
        <label class="form-control form-control-sm" class='checkbox'>
          <input type="checkbox" name="remember"> Remember me?
        </label>
      </li>
      <li class="nav-item">
        <input class="btn btn-sm btn-secondary" type="submit" value="Login">
      </li>
      <li class='vspace-one'>
        
          <a href="user?@template=register">Register</a>
        
      </li>
      <li class="nav-item">
        <a href="user?@template=forgotten">Lost&nbsp;your&nbsp;login?</a>
      </li>
    </ul>
    <input type="hidden" name="@action" value="Login">
    <input type="hidden" name="__came_from" value="https://bugs.tryton.org/issue5795">
  </form>
  <hr>


<ul class='nav flex-column'>
  <li class='nav-header'>
    <i class='icon-bookmark'></i>Help
  </li>
  <li>
    <a href="http://www.roundup-tracker.org">Roundup docs</a>
  </li>
</ul>
            
            </div>
          </div>

          <div class='col-md-9 col-lg-10 ml-sm-auto'>
            <div class='pb-2 mb-2 border-bottom'>
              <h3>
  
    Issue 5795
  
</h3>
              
              
            </div>

            
  

  
    
      <dl class="row row-cols-1 row-cols-lg-2 no-gutters">
  
  <div class="col col-lg-12 row">
    <dt class="col col-4 col-md-3 col-lg-2">Title</dt>
    <dd class="col col-8 col-md-9 col-lg-10">Any user can read the hashed password</dd>
  </div>

  
  <div class="col row mr-1">
    <dt class="col col-4 col-md-3 col-lg-4">Priority</dt>
    <dd class="col col-8 col-md-9 col-lg-8">urgent</dd>
  </div>

  
  <div class="col row mr-1">
    <dt class="col col-4 col-md-3 col-lg-4">Status</dt>
    <dd class="col col-8 col-md-9 col-lg-8">resolved</dd>
  </div>

  
  
  
  <div class="col col-lg-12 row">
    <dt class="col col-4 col-md-3 col-lg-2">Nosy list</dt>
    <dd class="col col-8 col-md-9 col-lg-10">ajacoutot, bch, ced, nicoe, pokoli, sharkcz, yangoon</dd>
  </div>

  
  
  <div class="col row mr-1">
    <dt class="col col-4 col-md-3 col-lg-4">Assigned to</dt>
    <dd class="col col-8 col-md-9 col-lg-8">ced</dd>
  </div>

  
  <div class="col col-lg-12 row">
    <dt class="col col-4 col-md-3 col-lg-2">Keywords</dt>
    <dd class="col col-8 col-md-9 col-lg-10">review</dd>
  </div>

</dl>
    
  

  
    <p>
      Created on <b>2016-08-17.12:58:25</b>
      by <b>ced</b>,
      last changed <b>62 months ago</b>
      by <b>ced</b>.
    </p>
  

  

  
    <h4>Messages</h4>
    
      
      <div class="anchor"  id="msg28227"></div>
      <div class="row row-cols-1 row-cols-md-4 mt-4" style="margin-left: 45px;">
        <div class="col col-md-auto">
          <a href='issue5795#msg28227'>msg28227</a>
          <a href='msg28227'>(view)</a>
        </div>
        <div class="col col-md-auto">
          Author: [hidden] (<a href="user3">ced</a>)
          
          <img src="@@file/committer.png" title="Tryton committer" alt="Tryton committer"/>
          
          
          <img src="@@file/translator.png" title="Tryton translator" alt="Tryton translator"/>
          
        </div>
        <div class="col col-md-auto">
          Date: 2016-08-31.12:27:52
        </div>
        <div class="col col-md-auto">
          
        </div>
      </div>
      
      <div class="d-flex ">
        <img src="//cdn.tryton.org/avatar/bedb3a4b40d90063feb70b48ee2b0f25?s=45&amp;d=retro&amp;r=g" class="align-self-start rounded-circle m-1">
      
        <pre class="msg flex-fill">News published.</pre>
      
      </div>
    
      
      <div class="anchor"  id="msg28213"></div>
      <div class="row row-cols-1 row-cols-md-4 mt-4" style="margin-left: 45px;">
        <div class="col col-md-auto">
          <a href='issue5795#msg28213'>msg28213</a>
          <a href='msg28213'>(view)</a>
        </div>
        <div class="col col-md-auto">
          Author: [hidden] (<a href="user3">ced</a>)
          
          <img src="@@file/committer.png" title="Tryton committer" alt="Tryton committer"/>
          
          
          <img src="@@file/translator.png" title="Tryton translator" alt="Tryton translator"/>
          
        </div>
        <div class="col col-md-auto">
          Date: 2016-08-30.14:49:52
        </div>
        <div class="col col-md-auto">
          
        </div>
      </div>
      
      <div class="d-flex ">
        <img src="//cdn.tryton.org/avatar/bedb3a4b40d90063feb70b48ee2b0f25?s=45&amp;d=retro&amp;r=g" class="align-self-start rounded-circle m-1">
      
        <pre class="msg flex-fill">The releases have been published.</pre>
      
      </div>
    
      
      <div class="anchor"  id="msg27995"></div>
      <div class="row row-cols-1 row-cols-md-4 mt-4" style="margin-left: 45px;">
        <div class="col col-md-auto">
          <a href='issue5795#msg27995'>msg27995</a>
          <a href='msg27995'>(view)</a>
        </div>
        <div class="col col-md-auto">
          Author: [hidden] (<a href="user3">ced</a>)
          
          <img src="@@file/committer.png" title="Tryton committer" alt="Tryton committer"/>
          
          
          <img src="@@file/translator.png" title="Tryton translator" alt="Tryton translator"/>
          
        </div>
        <div class="col col-md-auto">
          Date: 2016-08-25.19:55:28
        </div>
        <div class="col col-md-auto">
          
        </div>
      </div>
      
      <div class="d-flex ">
        <img src="//cdn.tryton.org/avatar/bedb3a4b40d90063feb70b48ee2b0f25?s=45&amp;d=retro&amp;r=g" class="align-self-start rounded-circle m-1">
      
        <pre class="msg flex-fill">Here is <a href="//codereview.tryton.org/32491003">review32491003</a> for the announce.</pre>
      
      </div>
    
      
      <div class="anchor"  id="msg27788"></div>
      <div class="row row-cols-1 row-cols-md-4 mt-4" style="margin-left: 45px;">
        <div class="col col-md-auto">
          <a href='issue5795#msg27788'>msg27788</a>
          <a href='msg27788'>(view)</a>
        </div>
        <div class="col col-md-auto">
          Author: [hidden] (<a href="user9">yangoon</a>)
          
          
          <img src="@@file/translator.png" title="Tryton translator" alt="Tryton translator"/>
          
        </div>
        <div class="col col-md-auto">
          Date: 2016-08-19.10:31:23
        </div>
        <div class="col col-md-auto">
          
        </div>
      </div>
      
      <div class="d-flex ">
        <img src="//cdn.tryton.org/avatar/642235664a31a3dad55da23f7b5ed50c?s=45&amp;d=retro&amp;r=g" class="align-self-start rounded-circle m-1">
      
        <pre class="msg flex-fill">Please use CVE-2016-1241 for this issue.</pre>
      
      </div>
    
      
      <div class="anchor"  id="msg27783"></div>
      <div class="row row-cols-1 row-cols-md-4 mt-4" style="margin-left: 45px;">
        <div class="col col-md-auto">
          <a href='issue5795#msg27783'>msg27783</a>
          <a href='msg27783'>(view)</a>
        </div>
        <div class="col col-md-auto">
          Author: [hidden] (<a href="user9">yangoon</a>)
          
          
          <img src="@@file/translator.png" title="Tryton translator" alt="Tryton translator"/>
          
        </div>
        <div class="col col-md-auto">
          Date: 2016-08-18.11:54:01
        </div>
        <div class="col col-md-auto">
          
        </div>
      </div>
      
      <div class="d-flex ">
        <img src="//cdn.tryton.org/avatar/642235664a31a3dad55da23f7b5ed50c?s=45&amp;d=retro&amp;r=g" class="align-self-start rounded-circle m-1">
      
        <pre class="msg flex-fill">Proposed timeline:
2016-08-30 for release
2016-08-31 for news</pre>
      
      </div>
    
      
      <div class="anchor"  id="msg27761"></div>
      <div class="row row-cols-1 row-cols-md-4 mt-4" style="margin-left: 45px;">
        <div class="col col-md-auto">
          <a href='issue5795#msg27761'>msg27761</a>
          <a href='msg27761'>(view)</a>
        </div>
        <div class="col col-md-auto">
          Author: [hidden] (<a href="user9">yangoon</a>)
          
          
          <img src="@@file/translator.png" title="Tryton translator" alt="Tryton translator"/>
          
        </div>
        <div class="col col-md-auto">
          Date: 2016-08-17.13:07:32
        </div>
        <div class="col col-md-auto">
          
        </div>
      </div>
      
      <div class="d-flex ">
        <img src="//cdn.tryton.org/avatar/642235664a31a3dad55da23f7b5ed50c?s=45&amp;d=retro&amp;r=g" class="align-self-start rounded-circle m-1">
      
        <pre class="msg flex-fill">Will do ASAP, back at home later this evening.</pre>
      
      </div>
    
      
      <div class="anchor"  id="msg27757"></div>
      <div class="row row-cols-1 row-cols-md-4 mt-4" style="margin-left: 45px;">
        <div class="col col-md-auto">
          <a href='issue5795#msg27757'>msg27757</a>
          <a href='msg27757'>(view)</a>
        </div>
        <div class="col col-md-auto">
          Author: [hidden] (<a href="user3">ced</a>)
          
          <img src="@@file/committer.png" title="Tryton committer" alt="Tryton committer"/>
          
          
          <img src="@@file/translator.png" title="Tryton translator" alt="Tryton translator"/>
          
        </div>
        <div class="col col-md-auto">
          Date: 2016-08-17.13:01:09
        </div>
        <div class="col col-md-auto">
          
        </div>
      </div>
      
      <div class="d-flex ">
        <img src="//cdn.tryton.org/avatar/bedb3a4b40d90063feb70b48ee2b0f25?s=45&amp;d=retro&amp;r=g" class="align-self-start rounded-circle m-1">
      
        <pre class="msg flex-fill">Here is <a href="//codereview.tryton.org/32441002">review32441002</a> which fix the problem and add test.
I think we will need to publish a CVE, @yangoon could you manage one?</pre>
      
      </div>
    
      
      <div class="anchor"  id="msg27756"></div>
      <div class="row row-cols-1 row-cols-md-4 mt-4" style="margin-left: 45px;">
        <div class="col col-md-auto">
          <a href='issue5795#msg27756'>msg27756</a>
          <a href='msg27756'>(view)</a>
        </div>
        <div class="col col-md-auto">
          Author: [hidden] (<a href="user3">ced</a>)
          
          <img src="@@file/committer.png" title="Tryton committer" alt="Tryton committer"/>
          
          
          <img src="@@file/translator.png" title="Tryton translator" alt="Tryton translator"/>
          
        </div>
        <div class="col col-md-auto">
          Date: 2016-08-17.12:58:24
        </div>
        <div class="col col-md-auto">
          
        </div>
      </div>
      
      <div class="d-flex ">
        <img src="//cdn.tryton.org/avatar/bedb3a4b40d90063feb70b48ee2b0f25?s=45&amp;d=retro&amp;r=g" class="align-self-start rounded-circle m-1">
      
        <pre class="msg flex-fill">While reading [1], I was wondering if trytond was also affected.
Indeed series &lt;=3.0 are not affected but <a href="http://hg.tryton.org/lookup/c9be44cd05e1">r c9be44cd05e1</a> removed the protection by mistake. The new password_hash field did not received the same hiding treatment as the password field.
The exploitation is quite difficult because of the existing protections against such leak. The protections are the usage of strong hash (bcrypt and sha1) and the random salt.

[1] <a href="https://github.com/odoo/odoo/issues/13175" rel="nofollow noopener">https://github.com/odoo/odoo/issues/13175</a></pre>
      
      </div>
    
  

  <div class='vspace-five'></div>

  
  
  <table class="history table table-condensed table-striped"><tr><th colspan="4" class="header">
History
</th></tr><tr>
<th>Date</th>
<th>User</th>
<th>Action</th>
<th>Args</th>
</tr>
<tr><td>2016-08-31&nbsp;12:27:52</td><td>ced</td><td>set</td><td>status: testing -> resolved<br />messages:
  + <a rel="nofollow noopener" href="msg28227">msg28227</a></td></tr>
<tr><td>2016-08-30&nbsp;14:49:52</td><td>ced</td><td>set</td><td>messages:
  + <a rel="nofollow noopener" href="msg28213">msg28213</a></td></tr>
<tr><td>2016-08-25&nbsp;19:55:28</td><td>ced</td><td>set</td><td>reviews: 32441002 -> 32441002,32491003<br />messages:
  + <a rel="nofollow noopener" href="msg27995">msg27995</a></td></tr>
<tr><td>2016-08-19&nbsp;10:31:23</td><td>yangoon</td><td>set</td><td>messages:
  + <a rel="nofollow noopener" href="msg27788">msg27788</a></td></tr>
<tr><td>2016-08-18&nbsp;11:54:01</td><td>yangoon</td><td>set</td><td>messages:
  + <a rel="nofollow noopener" href="msg27783">msg27783</a></td></tr>
<tr><td>2016-08-17&nbsp;13:07:33</td><td>yangoon</td><td>set</td><td>messages:
  + <a rel="nofollow noopener" href="msg27761">msg27761</a></td></tr>
<tr><td>2016-08-17&nbsp;13:01:09</td><td>ced</td><td>set</td><td>status: in-progress -> testing<br />reviews: 32441002<br />messages:
  + <a rel="nofollow noopener" href="msg27757">msg27757</a><br />keyword:
  + <a rel="nofollow noopener" href="keyword26">review</a></td></tr>
<tr><td>2016-08-17&nbsp;12:58:25</td><td>ced</td><td>create</td><td></td></tr>
</table>
  
  <p>Showing 10 items.
  <a href="issue5795?show_all_history=yes">Show all history</a>
  (warning: this could be VERY long)</p>
  
  

          </div>
        </div>
      </div>
    

    
      <footer>
  <div class='container-fluid'>
    <div class="col-md-9 col-lg-10 ml-sm-auto">
    <hr>
    A
    <a href='http://www.roundup-tracker.org/'>roundup</a>
    production.
    </div>
  </div>
</footer>
    

    <script src='@@file/jquery-1.9.0.min.js'></script>
    <script src='@@file/bootstrap.min.js'></script>
    <script src='@@file/script.js'></script>
    
  

  </body>
</html>